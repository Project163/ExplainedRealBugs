<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4860] Loading data using OrcStorage() accepts only default FileSystem path</title>
                <link>https://issues.apache.org/jira/browse/PIG-4860</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;If the default file system is HDFS, but one wants to load data from S3 (or some other storage) using OrcStorage(), the query fails since the path expected is of format `hdfs://` but gets `s3://`&lt;/p&gt;</description>
                <environment></environment>
        <key id="12955509">PIG-4860</key>
            <summary>Loading data using OrcStorage() accepts only default FileSystem path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="beriaanirudh">Anirudh Beria</assignee>
                                    <reporter username="beriaanirudh">Anirudh Beria</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Apr 2016 14:20:38 +0000</created>
                <updated>Wed, 8 Jun 2016 20:48:33 +0000</updated>
                            <resolved>Mon, 18 Apr 2016 17:17:23 +0000</resolved>
                                                    <fixVersion>0.16.0</fixVersion>
                    <fixVersion>0.15.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15230209" author="beriaanirudh" created="Thu, 7 Apr 2016 13:13:36 +0000"  >&lt;p&gt;Hi. I am not sure of the next steps for resolving this. I have attached the fix patch, but I don&apos;t see any Jenkins Job +1 as suggested in wiki &lt;a href=&quot;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-Contributingyourwork&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-Contributingyourwork&lt;/a&gt; . Please help.&lt;/p&gt;</comment>
                            <comment id="15230308" author="beriaanirudh" created="Thu, 7 Apr 2016 14:21:45 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15235925" author="daijy" created="Mon, 11 Apr 2016 20:28:21 +0000"  >&lt;p&gt;Patch looks good to me. For the testing, it might not easy to write a unit test for that, but can you test it manually and write down how you test it? Forget about Jenkins +1 message, it has been broken for a long time.&lt;/p&gt;</comment>
                            <comment id="15239277" author="beriaanirudh" created="Wed, 13 Apr 2016 13:56:13 +0000"  >&lt;p&gt;Thanks for taking a look Daniel. Here&apos;s how I tested it:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;X = LOAD &apos;s3://&amp;lt;my_bucket&amp;gt;/data/excite-small.log&apos; USING PigStorage(&apos; &apos;) AS (user, time, query);
store X into &apos;hdfs://ec2-54-205-241-48.compute-1.amazonaws.com:9000/orc_file&apos; using OrcStorage();
store X into &apos;s3://&amp;lt;my_bucket&amp;gt;/beria/orc_file&apos; using OrcStorage();
Y = LOAD &apos;s3://&amp;lt;my_bucket&amp;gt;/beria/orc_file&apos; using OrcStorage();
Z = LOAD &apos;hdfs://ec2-54-205-241-48.compute-1.amazonaws.com:9000/orc_file&apos; using OrcStorage();
dump Y;
dump Z;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I also downloaded data files ( &lt;tt&gt;*/orc_file/part-m-00000&lt;/tt&gt; ) and checked they are indeed orc format files.&lt;/p&gt;</comment>
                            <comment id="15245114" author="rohini" created="Mon, 18 Apr 2016 04:17:39 +0000"  >&lt;p&gt;Can you please do new Path instead of new URI?&lt;/p&gt;

&lt;p&gt;FileSystem fs = FileSystem.get(new Path(location), job.getConfiguration());&lt;/p&gt;
</comment>
                            <comment id="15245236" author="beriaanirudh" created="Mon, 18 Apr 2016 07:22:23 +0000"  >&lt;p&gt;Thanks for the suggestion Rohini. Changed to &lt;tt&gt;FileSystem fs = FileSystem.get(new Path(location).toUri(), job.getConfiguration());&lt;/tt&gt; taking clue from &lt;a href=&quot;https://github.com/apache/pig/blob/trunk/src/org/apache/pig/builtin/JsonMetadata.java#L295&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/pig/blob/trunk/src/org/apache/pig/builtin/JsonMetadata.java#L295&lt;/a&gt; . This has reduced the patch to a minimum. Attached it.&lt;br/&gt;
Did the same test as commented above, and got same correct results.&lt;/p&gt;</comment>
                            <comment id="15246045" author="rohini" created="Mon, 18 Apr 2016 17:17:24 +0000"  >&lt;p&gt;Committed to branch-0.15 and trunk. Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=beriaanirudh&quot; class=&quot;user-hover&quot; rel=&quot;beriaanirudh&quot;&gt;beriaanirudh&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12796722" name="PIG-4860.patch" size="1164" author="beriaanirudh" created="Sun, 3 Apr 2016 14:37:25 +0000"/>
                            <attachment id="12799207" name="PIG-4860_2.patch" size="760" author="beriaanirudh" created="Mon, 18 Apr 2016 07:22:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vjw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>