<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4700] Enable progress reporting for Tasks in Tez</title>
                <link>https://issues.apache.org/jira/browse/PIG-4700</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description></description>
                <environment></environment>
        <key id="12904938">PIG-4700</key>
            <summary>Enable progress reporting for Tasks in Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="satishsaley">Satish Saley</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Oct 2015 17:35:51 +0000</created>
                <updated>Mon, 15 Sep 2025 11:29:01 +0000</updated>
                            <resolved>Mon, 5 Jun 2017 20:56:49 +0000</resolved>
                                                    <fixVersion>0.18.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15373744" author="rohini" created="Tue, 12 Jul 2016 21:34:27 +0000"  >&lt;p&gt;MRToTezHelper also wrongly translates mapreduce.task.timeout to tez.am.progress.stuck.interval-ms instead of  tez.task.progress.stuck.interval-ms which needs to be fixed for the Progress reporting timeout to be honored.&lt;/p&gt;</comment>
                            <comment id="16035431" author="rohini" created="Fri, 2 Jun 2017 21:12:31 +0000"  >&lt;p&gt;We should also check for presence of ProgressHelper class (introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/TEZ-3437&quot; title=&quot;Improve synchronization and the progress report behavior for Inputs from TEZ-3317&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEZ-3437&quot;&gt;&lt;del&gt;TEZ-3437&lt;/del&gt;&lt;/a&gt;) before translating the settings. Before 0.8.5, due to &lt;a href=&quot;https://issues.apache.org/jira/browse/TEZ-3549&quot; title=&quot;TaskAttemptImpl does not initialize TEZ_TASK_PROGRESS_STUCK_INTERVAL_MS correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEZ-3549&quot;&gt;&lt;del&gt;TEZ-3549&lt;/del&gt;&lt;/a&gt; bug, the jobs will fail if the setting was set.&lt;/p&gt;</comment>
                            <comment id="16035522" author="rohini" created="Fri, 2 Jun 2017 22:16:37 +0000"  >&lt;p&gt;The comment //TezConfiguration.TEZ_TASK_PROGRESS_STUCK_INTERVAL_MS &lt;a href=&quot;https://issues.apache.org/jira/browse/TEZ-808&quot; title=&quot;Handle task attempts that are not making progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEZ-808&quot;&gt;&lt;del&gt;TEZ-808&lt;/del&gt;&lt;/a&gt; in Tez 0.8 also needs to be moved&lt;/p&gt;</comment>
                            <comment id="16037187" author="rohini" created="Mon, 5 Jun 2017 16:40:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;progressHelper.scheduleProgressTaskService(0, 100);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Could you make it 1000? i.e schedule it every second.&lt;/p&gt;</comment>
                            <comment id="16037262" author="rohini" created="Mon, 5 Jun 2017 17:39:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could you make it 1000? i.e schedule it every second&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Actually it can be optimized better. Progress information is sent as part of task heartbeat. In setups like ours heartbeat interval is set to 3 seconds so that the AM can handle 10s of thousands of tasks. So we should set it to a value slightly lower than heartbeat interval.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;progressHelper.scheduleProgressTaskService(100, &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(1000, (conf.getInt(TezConfiguration.TEZ_TASK_AM_HEARTBEAT_INTERVAL_MS, TezConfiguration.TEZ_TASK_AM_HEARTBEAT_INTERVAL_MS_DEFAULT) - 50)));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16037541" author="rohini" created="Mon, 5 Jun 2017 20:33:48 +0000"  >&lt;p&gt;Patch is not applying cleanly. Can you fix it?&lt;/p&gt;</comment>
                            <comment id="16037578" author="rohini" created="Mon, 5 Jun 2017 20:56:50 +0000"  >&lt;p&gt;+1. Committed to trunk. Thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satishsaley&quot; class=&quot;user-hover&quot; rel=&quot;satishsaley&quot;&gt;satishsaley&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12693773">TEZ-808</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13181976">PIG-5355</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12869742" name="PIG-4700-1.patch" size="2359" author="satishsaley" created="Wed, 24 May 2017 22:47:17 +0000"/>
                            <attachment id="12871009" name="PIG-4700-2.patch" size="4552" author="satishsaley" created="Fri, 2 Jun 2017 16:56:44 +0000"/>
                            <attachment id="12871070" name="PIG-4700-3.patch" size="5259" author="satishsaley" created="Fri, 2 Jun 2017 22:09:04 +0000"/>
                            <attachment id="12871072" name="PIG-4700-4.patch" size="5107" author="satishsaley" created="Fri, 2 Jun 2017 22:15:05 +0000"/>
                            <attachment id="12871073" name="PIG-4700-5.patch" size="5303" author="satishsaley" created="Fri, 2 Jun 2017 22:18:12 +0000"/>
                            <attachment id="12871294" name="PIG-4700-6.patch" size="6055" author="satishsaley" created="Mon, 5 Jun 2017 20:30:34 +0000"/>
                            <attachment id="12871296" name="PIG-4700-7.patch" size="6267" author="satishsaley" created="Mon, 5 Jun 2017 20:42:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n0mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>