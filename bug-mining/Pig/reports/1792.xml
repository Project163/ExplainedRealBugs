<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:01:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4782] OutOfMemoryError: GC overhead limit exceeded with POPartialAgg</title>
                <link>https://issues.apache.org/jira/browse/PIG-4782</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;   In some cases, even though spill is triggered the main thread is still executing some user UDF which constructs a DataBag which requires lot of memory. Since we block on spill in POPartialAgg, there is kind of a deadlock as there is no memory for the user DataBag to grow and spill does not happen and job finally failing with OutOfMemoryError: GC overhead limit exceeded. So need to make POPartialAgg non-blocking so that the user DataBag can be spilled first for the code to reach POPartialAgg and spill.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12931721">PIG-4782</key>
            <summary>OutOfMemoryError: GC overhead limit exceeded with POPartialAgg</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Jan 2016 02:13:07 +0000</created>
                <updated>Wed, 8 Jun 2016 20:48:41 +0000</updated>
                            <resolved>Sun, 17 Jan 2016 20:49:29 +0000</resolved>
                                                    <fixVersion>0.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15103914" author="daijy" created="Sun, 17 Jan 2016 20:34:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15103918" author="rohini" created="Sun, 17 Jan 2016 20:49:29 +0000"  >&lt;p&gt;Committed to trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                            <comment id="15124992" author="rohini" created="Sat, 30 Jan 2016 17:53:10 +0000"  >&lt;p&gt;Though the patch avoided OOM, it introduced slowness with the sleep of 5 sec in cases when spill is called multiple times before the code reaches POPartialAgg and it is aggregated. It gets slow by 5 sec * number of times the spill was called. The uploaded &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4782&quot; title=&quot;OutOfMemoryError: GC overhead limit exceeded with POPartialAgg&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4782&quot;&gt;&lt;del&gt;PIG-4782&lt;/del&gt;&lt;/a&gt;-2-fixslowness.patch skips the sleep second time if spill is not processed by POPartialAgg yet.&lt;/p&gt;</comment>
                            <comment id="15125956" author="daijy" created="Mon, 1 Feb 2016 08:51:43 +0000"  >&lt;p&gt;+1 for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4782&quot; title=&quot;OutOfMemoryError: GC overhead limit exceeded with POPartialAgg&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4782&quot;&gt;&lt;del&gt;PIG-4782&lt;/del&gt;&lt;/a&gt;-2-fixslowness.patch.&lt;/p&gt;</comment>
                            <comment id="15126489" author="rohini" created="Mon, 1 Feb 2016 16:26:02 +0000"  >&lt;p&gt;Committed &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4782&quot; title=&quot;OutOfMemoryError: GC overhead limit exceeded with POPartialAgg&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4782&quot;&gt;&lt;del&gt;PIG-4782&lt;/del&gt;&lt;/a&gt;-2-fixslowness.patch to trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12782747" name="PIG-4782-1.patch" size="5606" author="rohini" created="Sun, 17 Jan 2016 02:23:31 +0000"/>
                            <attachment id="12785363" name="PIG-4782-2-fixslowness.patch" size="906" author="rohini" created="Sat, 30 Jan 2016 17:53:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rkfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>