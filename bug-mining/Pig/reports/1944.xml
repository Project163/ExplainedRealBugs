<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5225] Several unit tests are not annotated with @Test</title>
                <link>https://issues.apache.org/jira/browse/PIG-5225</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Several test cases are not annotated with @Test. Since we use JUnit 4, these test cases seems to be excluded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13064797">PIG-5225</key>
            <summary>Several unit tests are not annotated with @Test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkollar">N&#225;ndor Koll&#225;r</assignee>
                                    <reporter username="nkollar">N&#225;ndor Koll&#225;r</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Apr 2017 17:08:40 +0000</created>
                <updated>Mon, 15 Sep 2025 11:29:08 +0000</updated>
                            <resolved>Thu, 1 Jun 2017 19:54:31 +0000</resolved>
                                                    <fixVersion>0.18.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15973099" author="nkollar" created="Tue, 18 Apr 2017 17:17:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;rohini&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt; I noticed that several test cases are not annotated with @Test, do you recall why were these tests excluded? Some might be covered by E2E tests, but for example the omitted test case in TestHBaseStorage is not.&lt;/p&gt;</comment>
                            <comment id="16009611" author="rohini" created="Sun, 14 May 2017 05:55:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;do you recall why were these tests excluded?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Most likely done by mistake.&lt;/p&gt;

&lt;p&gt;+1. Will run the tests and commit.&lt;/p&gt;</comment>
                            <comment id="16009839" author="rohini" created="Sun, 14 May 2017 20:24:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkollar&quot; class=&quot;user-hover&quot; rel=&quot;nkollar&quot;&gt;nkollar&lt;/a&gt;, &lt;br/&gt;
   One of the newly enabled tests is failing. Can you take a look at it?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Testcase: testMapUDFFail took 3.435 sec
        FAILED
Error expected.
junit.framework.AssertionFailedError: Error expected.
        at org.apache.pig.test.TestEvalPipelineLocal.testMapUDFFail(TestEvalPipelineLocal.java:845)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16014215" author="nkollar" created="Wed, 17 May 2017 15:32:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;rohini&lt;/a&gt;&lt;br/&gt;
Could you please help to solve this failure? In the test, we expected failure, but the script doesn&apos;t fail: instead the output is an empty tuple. Is it the expected outcome in this case? If we have a map with a byte array value for a key, and try to multiply this value with an integer then it should fail, or result in an empty tuple?&lt;/p&gt;</comment>
                            <comment id="16027998" author="rohini" created="Mon, 29 May 2017 01:58:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;If we have a map with a byte array value for a key, and try to multiply this value with an integer then it should fail, or result in an empty tuple?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Considering that the bytearray which is a string cannot be converted to a integer, you would expect it to fail. But Utf8StorageConverter, just increments PigWarning.FIELD_DISCARDED_TYPE_CONVERSION_FAILED  for type conversion failures and returns null. I believe it was done to avoid script failing for few invalid values as that is a common scenario. So empty tuple is expected. The test seems to have been added before the code was added to Apache svn. So couldn&apos;t find the history of why it was added.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;daijy&lt;/a&gt;, &lt;br/&gt;
   Can you confirm the expected behavior and is it ok to remove this test?&lt;/p&gt;
</comment>
                            <comment id="16032007" author="daijy" created="Wed, 31 May 2017 21:38:09 +0000"  >&lt;p&gt;The test is added even before me. The test won&apos;t throw exception, it will get a null result and a warning counter like Rohini points out. However, the test name suggest it is testing a failed UDF. I don&apos;t this is valid anymore and fine to remove it.&lt;/p&gt;</comment>
                            <comment id="16032078" author="nkollar" created="Wed, 31 May 2017 22:08:07 +0000"  >&lt;p&gt;Ok, uploaded &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-5225&quot; title=&quot;Several unit tests are not annotated with @Test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-5225&quot;&gt;&lt;del&gt;PIG-5225&lt;/del&gt;&lt;/a&gt;_2.patch with the test case removed.&lt;/p&gt;</comment>
                            <comment id="16033564" author="rohini" created="Thu, 1 Jun 2017 19:54:31 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkollar&quot; class=&quot;user-hover&quot; rel=&quot;nkollar&quot;&gt;nkollar&lt;/a&gt; for identifying this and fixing it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12863850" name="PIG-5225.patch" size="6893" author="nkollar" created="Tue, 18 Apr 2017 17:12:30 +0000"/>
                            <attachment id="12870675" name="PIG-5225_2.patch" size="7699" author="nkollar" created="Wed, 31 May 2017 22:07:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dren:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>