<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:55:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-2685] error in EvalFunc ctor when implementing Algebraic UDF whose return type is parameterized</title>
                <link>https://issues.apache.org/jira/browse/PIG-2685</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;EvalFunc ctor uses reference equality instead of value equality when verifying return type of &quot;final&quot; UDF and parent Algebraic UDF are equal. This is fine in the case when both values are Class instances, but breaks when return types are ParameterizedType instances. This prohibits the creation of an Algebraic UDF whose return type is &lt;tt&gt;Map&amp;lt;String, Long&amp;gt;&lt;/tt&gt;, for instance. Please see the included unit test for an example along these lines.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12554115">PIG-2685</key>
            <summary>error in EvalFunc ctor when implementing Algebraic UDF whose return type is parameterized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hazen">Andy Schlaikjer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 May 2012 06:57:35 +0000</created>
                <updated>Tue, 8 May 2012 23:57:14 +0000</updated>
                            <resolved>Tue, 8 May 2012 22:17:54 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13269427" author="jcoveney" created="Mon, 7 May 2012 07:34:14 +0000"  >&lt;p&gt;Thanks Andy!&lt;/p&gt;

&lt;p&gt;Given that this is a new feature that should be supported by the language, we should add a test&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; that fails under the current build and ensures that parameterized types are picked up by Algebraics.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; I know, I know, nobody enjoys writing tests, but I don&apos;t think it will be a terrible one to add!&lt;/p&gt;</comment>
                            <comment id="13269633" author="hazen" created="Mon, 7 May 2012 14:09:38 +0000"  >&lt;p&gt;The patch includes a test which fails under current build and passes with the patch to EvalFunc. Please let me know what additional tests you&apos;d like to see here. Should I have submitted the test in a separate patch file?&lt;/p&gt;</comment>
                            <comment id="13269638" author="hazen" created="Mon, 7 May 2012 14:14:28 +0000"  >&lt;p&gt;Strange. So the patch I uploaded; Somehow it&apos;s missing the test. I&apos;ll re-up in a minute.&lt;/p&gt;</comment>
                            <comment id="13269647" author="hazen" created="Mon, 7 May 2012 14:23:12 +0000"  >&lt;p&gt;Patch updated. I&apos;ll try and avoid midnight patch submissions in the future &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13270890" author="jcoveney" created="Tue, 8 May 2012 22:17:05 +0000"  >&lt;p&gt;No worries! Thanks for the submission. Committed to 0.10 and trunk. r1335797 and r1335798. One note, I moved the test to package org.apache.pig. Bill G sent out an email a bit ago about how we should add new tests to the package of the class that they test, and I agree, so starting here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Will attach the patch I applied.&lt;/p&gt;</comment>
                            <comment id="13270941" author="hazen" created="Tue, 8 May 2012 23:57:14 +0000"  >&lt;p&gt;+1 to Bill&apos;s recommendation. I thought about that as I was adding the test!&lt;/p&gt;

&lt;p&gt;Thanks for all the patch shepherding &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12526057" name="PIG-2685_2.patch" size="2448" author="jcoveney" created="Tue, 8 May 2012 22:17:36 +0000"/>
                            <attachment id="12525852" name="fixes_eval_func_algebraic_final_return_type_check-r2.diff" size="2535" author="hazen" created="Mon, 7 May 2012 14:21:05 +0000"/>
                            <attachment id="12525807" name="fixes_eval_func_algebraic_final_return_type_check.diff" size="732" author="hazen" created="Mon, 7 May 2012 06:57:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>