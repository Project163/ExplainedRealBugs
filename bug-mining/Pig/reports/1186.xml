<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:57:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-3122] Operators should not implicitly become reserved keywords</title>
                <link>https://issues.apache.org/jira/browse/PIG-3122</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;As a byproduct of how ANTLR lexes things, whenever we introduce a new operator (RANK, CUBE, and any special keyword really) we are implicitly introducing a reserved word that can&apos;t be used for relations, columns, etc (unless give to us by the framework, as in the case of group).&lt;/p&gt;

&lt;p&gt;The following, for example, fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;a = load &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt; as (x:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
a = foreach a generate x as rank;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll include a patch to fix this essentially by whitelisting tokens. I currently just whitelist cube, rank, and group. We can add more as people want them? Can anyone think of reasonable ones they&apos;d like to add?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627928">PIG-3122</key>
            <summary>Operators should not implicitly become reserved keywords</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcoveney">Jonathan Coveney</assignee>
                                    <reporter username="jcoveney">Jonathan Coveney</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jan 2013 21:12:51 +0000</created>
                <updated>Mon, 14 Oct 2013 16:46:15 +0000</updated>
                            <resolved>Tue, 16 Apr 2013 21:58:10 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13570440" author="alangates" created="Mon, 4 Feb 2013 17:46:58 +0000"  >&lt;p&gt;Reviewing this.&lt;/p&gt;</comment>
                            <comment id="13570446" author="alangates" created="Mon, 4 Feb 2013 17:55:17 +0000"  >&lt;p&gt;Sorry Jonathan, but I think the checkin of the big decimal stuff totally broke this patch.  It fails all over the place in QueryParser.g and I&apos;m not sure I&apos;m putting it back together correctly.  Marking this as open pending a new patch being uploaded.&lt;/p&gt;</comment>
                            <comment id="13580695" author="jcoveney" created="Mon, 18 Feb 2013 16:25:24 +0000"  >&lt;p&gt;Alan, thanks for the heads up. I&apos;ve updated the patch, would love it if you can take a look again.&lt;/p&gt;</comment>
                            <comment id="13630664" author="cheolsoo" created="Fri, 12 Apr 2013 21:43:11 +0000"  >&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3268&quot; title=&quot;Case statement support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3268&quot;&gt;&lt;del&gt;PIG-3268&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3269&quot; title=&quot;In operator support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3269&quot;&gt;&lt;del&gt;PIG-3269&lt;/del&gt;&lt;/a&gt;, I didn&apos;t want to introduce backward incompatibilities due to new keywords. Conveniently, this patch addresses my problem!&lt;/p&gt;

&lt;p&gt;I updated the patch as follows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Rebased to trunk.&lt;/li&gt;
	&lt;li&gt;Resolved ambiguity between &lt;tt&gt;col_ref_without_identifier&lt;/tt&gt; and &lt;tt&gt;identifier_plus&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13630768" author="cheolsoo" created="Fri, 12 Apr 2013 23:48:07 +0000"  >&lt;p&gt;Actually, we can&apos;t whitelist every special keywords (e.g. group, etc) because it introduces ambiguity to the grammar. So I am removing &lt;tt&gt;group&lt;/tt&gt; from the whitelist.&lt;/p&gt;

&lt;p&gt;However, we can certainly whitelist whatever is possible. For example, in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3268&quot; title=&quot;Case statement support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3268&quot;&gt;&lt;del&gt;PIG-3268&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3269&quot; title=&quot;In operator support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3269&quot;&gt;&lt;del&gt;PIG-3269&lt;/del&gt;&lt;/a&gt;, I can whitelist IN, WHEN, THEN, and ELSE but not CASE.&lt;/p&gt;</comment>
                            <comment id="13631114" author="cheolsoo" created="Sat, 13 Apr 2013 18:21:37 +0000"  >&lt;p&gt;All unit tests pass.&lt;/p&gt;</comment>
                            <comment id="13633351" author="aniket486" created="Tue, 16 Apr 2013 20:59:51 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
I checked that all the places in query parser that require this change are covered.&lt;/p&gt;</comment>
                            <comment id="13633445" author="cheolsoo" created="Tue, 16 Apr 2013 21:58:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks Jonathan and Aniket!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12643272">PIG-3280</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12565184" name="PIG-3122-0.patch" size="25196" author="jcoveney" created="Wed, 16 Jan 2013 21:14:16 +0000"/>
                            <attachment id="12569828" name="PIG-3122-1.patch" size="12355" author="jcoveney" created="Mon, 18 Feb 2013 16:25:24 +0000"/>
                            <attachment id="12578535" name="PIG-3122-2.patch" size="11379" author="cheolsoo" created="Fri, 12 Apr 2013 22:57:43 +0000"/>
                            <attachment id="12578552" name="PIG-3122-3.patch" size="11371" author="cheolsoo" created="Fri, 12 Apr 2013 23:48:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17vwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>