<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:52:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-1632] The core jar in the tarball contains the kitchen sink </title>
                <link>https://issues.apache.org/jira/browse/PIG-1632</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The core jar in the tarball contains the kitchen sink, it&apos;s not the same core jar built by ant jar. This is problematic since other projects that want to depend on the pig core jar just want pig core, but pig-0.8.0-SNAPSHOT-core.jar in the tarball contains a bunch of other stuff (hadoop, com.google, commons, etc) that may conflict with the packages also on a user&apos;s classpath.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;pig1 (trunk)$ jar tvf build/pig-0.8.0-SNAPSHOT-core.jar |grep -v pig|wc -l
12
pig1 (trunk)$ tar xvzf build/pig-0.8.0-SNAPSHOT.tar.gz
...
pig1 (trunk)$ jar tvf pig-0.8.0-SNAPSHOT/pig-0.8.0-SNAPSHOT-core.jar |grep -v pig|wc -l
4819
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How about restricting the core jar to just Pig classes?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474638">PIG-1632</key>
            <summary>The core jar in the tarball contains the kitchen sink </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eli">Eli Collins</assignee>
                                    <reporter username="eli">Eli Collins</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Sep 2010 23:26:00 +0000</created>
                <updated>Thu, 4 Aug 2011 00:34:55 +0000</updated>
                            <resolved>Thu, 23 Sep 2010 20:10:04 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.9.0</version>
                                    <fixVersion>site</fixVersion>
                    <fixVersion>0.9.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12912774" author="eli" created="Mon, 20 Sep 2010 23:29:42 +0000"  >&lt;p&gt;Attached patch updates the package target so that the tarball, and therefore Pig release, just contain the Pig core jar.   If a Pig release needs to bundle Hadoop and a bunch of other stuff perhaps we could put those jars in lib instead of the core jar.&lt;/p&gt;

&lt;p&gt;Running things like the tests out of a tarball that just includes the core jar works as these come in via ivy, anything else that needs to be tested? &lt;/p&gt;</comment>
                            <comment id="12913733" author="olgan" created="Wed, 22 Sep 2010 19:30:02 +0000"  >&lt;p&gt;Hi Eli, thanks for the patch.&lt;/p&gt;

&lt;p&gt;I don&apos;t think this is the approach we want to take. I think we should publish just core pig jar in maven since users have a way to pull the dependencies. However, as part of our release package we should include bundled pig.jar so that it works for users out of the box and they get exactly the version we have been testing for. I am fine if additionally we include the core jar as well if we do not do this already.&lt;/p&gt;</comment>
                            <comment id="12913738" author="eli" created="Wed, 22 Sep 2010 19:39:31 +0000"  >&lt;p&gt;Hey Olga,&lt;/p&gt;

&lt;p&gt;Thanks for the feedback.    Agree that we want the out of box experience to use the same versions of other jars we&apos;ve been testing with, but shouldn&apos;t that happen by bundling the necessary jars in eg the lib directory rather than embedding all the jars inside the core pig jar?&lt;/p&gt;

&lt;p&gt;If people want all the dependencies bundled into a single jar, how about I update the patch so the release has two jars: a pig.jar which is like the current one (has all the other jars bundled in) and a pig-core.jar which just has pig?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Eli &lt;/p&gt;</comment>
                            <comment id="12913743" author="olgan" created="Wed, 22 Sep 2010 19:50:06 +0000"  >&lt;p&gt;I am fine with your second proposal which is what I also suggested in my last comment. The first one makes it harder for the users to compile their UDFs&lt;/p&gt;</comment>
                            <comment id="12913755" author="eli" created="Wed, 22 Sep 2010 20:05:15 +0000"  >&lt;p&gt;Great. Patch attached. I verified the tarball produced by ant tar includes both a core jar that is just pig core and a pig jar that has everything. &lt;/p&gt;</comment>
                            <comment id="12913759" author="olgan" created="Wed, 22 Sep 2010 20:12:29 +0000"  >&lt;p&gt;+ 1, patch looks good. I will commit it to trunk and 0.8 branch shortly&lt;/p&gt;</comment>
                            <comment id="12913788" author="olgan" created="Wed, 22 Sep 2010 21:01:31 +0000"  >&lt;p&gt;patch committed to both 0.8 branch and trunk. Thanks, Eli for contributing!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12455096" name="pig-1632-1.patch" size="417" author="eli" created="Mon, 20 Sep 2010 23:29:42 +0000"/>
                            <attachment id="12455296" name="pig-1632-2.patch" size="510" author="eli" created="Wed, 22 Sep 2010 20:05:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gxzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>