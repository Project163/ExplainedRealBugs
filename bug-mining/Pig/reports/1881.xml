<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:02:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5032] Output record stats in Tez is wrong when there is split followed by union</title>
                <link>https://issues.apache.org/jira/browse/PIG-5032</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;    The logic to include unique stores, took into account record counters of only the first store if there are multi store counters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13004709">PIG-5032</key>
            <summary>Output record stats in Tez is wrong when there is split followed by union</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Sep 2016 20:25:14 +0000</created>
                <updated>Wed, 21 Jun 2017 09:15:33 +0000</updated>
                            <resolved>Wed, 14 Sep 2016 20:29:20 +0000</resolved>
                                                    <fixVersion>0.17.0</fixVersion>
                    <fixVersion>0.16.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15488326" author="rohini" created="Tue, 13 Sep 2016 20:30:12 +0000"  >&lt;p&gt;Found that TestCounters.java was not ported to Tez. Fixed that as well.&lt;/p&gt;

&lt;p&gt;Patch also adds Multi store counters for all stores which makes it very easy for users to view in the DAG counters page and helps in debugging.&lt;/p&gt;</comment>
                            <comment id="15491306" author="daijy" created="Wed, 14 Sep 2016 19:54:41 +0000"  >&lt;p&gt;Now MULTI_STORE_COUNTER_GROUP is actually STORE_COUNTER_GROUP. Is that easy to change?&lt;/p&gt;</comment>
                            <comment id="15491315" author="rohini" created="Wed, 14 Sep 2016 19:58:27 +0000"  >&lt;p&gt;Should be easy to change. But many people have existing validation jobs, that look at that counter group to validate their output from mapreduce days. So will prefer not changing it to keep counter names same as mapreduce.&lt;/p&gt;</comment>
                            <comment id="15491370" author="rohini" created="Wed, 14 Sep 2016 20:25:54 +0000"  >&lt;p&gt;Also MULTI_STORE_COUNTER_GROUP was meant to show records of different stores if there is more than one. So I guess naming still makes sense. Only thing is mapreduce showed them only if there was more than one store in a single mapreduce job. In Tez case, one job usually has more stores, but we were only showing them if one vertex had more stores. Now we show all the time.&lt;/p&gt;</comment>
                            <comment id="15491372" author="daijy" created="Wed, 14 Sep 2016 20:26:05 +0000"  >&lt;p&gt;Discussed offline, there is a minor behavior change: In Tez, we might get one extra MULTI_STORE_RECORD_COUNTER equals to OUTPUT_RECORDS if the vertex contains only one store. That won&apos;t affect user experience in general. +1.&lt;/p&gt;</comment>
                            <comment id="15491381" author="rohini" created="Wed, 14 Sep 2016 20:29:22 +0000"  >&lt;p&gt;Committed to branch-0.16 and trunk. Thanks for the review Daniel.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12828321" name="PIG-5032-1-nowhitespacechanges.patch" size="18325" author="rohini" created="Tue, 13 Sep 2016 20:30:12 +0000"/>
                            <attachment id="12828322" name="PIG-5032-1.patch" size="28983" author="rohini" created="Tue, 13 Sep 2016 20:30:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33l7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>