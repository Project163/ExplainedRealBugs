<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:00:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-4387] Honor yarn settings in tez-site.xml and optimize dag status fetch</title>
                <link>https://issues.apache.org/jira/browse/PIG-4387</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;  When setting yarn.timeline-service.enabled=true in tez-site.xml, the value was still taken as false. This was because yarn.timeline-service.enabled=false in yarn-site.xml went into PigContext properties in Utils.recomputeProperties(jc, properties); and that took more precedence. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12769091">PIG-4387</key>
            <summary>Honor yarn settings in tez-site.xml and optimize dag status fetch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jan 2015 20:18:08 +0000</created>
                <updated>Sun, 7 Jun 2015 03:47:34 +0000</updated>
                            <resolved>Fri, 23 Jan 2015 05:45:11 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.15.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14286206" author="rohini" created="Wed, 21 Jan 2015 20:28:14 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4388&quot; title=&quot;Cleanup and simplify usage of configuration and PigContext properties &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4388&quot;&gt;PIG-4388&lt;/a&gt; to do cleanup of the PigContext properties and Configuration usage as it needs more work and thorough verification. Here just making a simple fix. &lt;/p&gt;

&lt;p&gt;Also optimized the dag status fetch to not fetch counters.&lt;/p&gt;
</comment>
                            <comment id="14286266" author="daijy" created="Wed, 21 Jan 2015 21:04:29 +0000"  >&lt;p&gt;That&apos;s because tez-site.xml is introduced very late (construct of TezJobCompiler). You will not get tez config before that. Sounds &quot;yarn.timeline-service.enabled&quot; is a yarn-site.xml entry, isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="14286367" author="rohini" created="Wed, 21 Jan 2015 21:55:43 +0000"  >&lt;p&gt;this.tezConf = new TezConfiguration(conf);  - This tezConf in TezJobCompiler is the one used for the DAG AM. But problem is even though tez-site.xml is added last, it does not override because the setting does not come from yarn-site.xml in conf but through config.set() from the properties in ConfigurationUtil.toConfiguration(Properties properties, boolean loadDefaults). If PigContext properties did not have the yarn-site.xml settings loaded into it, it would have worked fine. So had to load tez-site.xml also into PigContext properties.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Sounds &quot;yarn.timeline-service.enabled&quot; is a yarn-site.xml entry, isn&apos;t it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Yes. As we only wanted the timeline service enabled for tez jobs, trying to enable it only in tez-site.xml.&lt;/p&gt;</comment>
                            <comment id="14286385" author="daijy" created="Wed, 21 Jan 2015 22:03:54 +0000"  >&lt;p&gt;Thanks for explanation. +1&lt;/p&gt;</comment>
                            <comment id="14288789" author="rohini" created="Fri, 23 Jan 2015 05:45:11 +0000"  >&lt;p&gt;Committed to trunk. Thanks Daniel for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12693696" name="PIG-4387-1.patch" size="3652" author="rohini" created="Wed, 21 Jan 2015 20:28:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24msn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>