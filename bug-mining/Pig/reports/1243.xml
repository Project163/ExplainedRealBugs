<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:57:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-3385] DISTINCT no longer uses custom partitioner</title>
                <link>https://issues.apache.org/jira/browse/PIG-3385</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;From user@pig.apache.org:  It looks like an optimization was put in to make distinct use a special partitioner which prevents the user from setting the partitioner.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658642">PIG-3385</key>
            <summary>DISTINCT no longer uses custom partitioner</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knoguchi">Koji Noguchi</assignee>
                                    <reporter username="oberman">Will Oberman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Jul 2013 21:15:42 +0000</created>
                <updated>Mon, 14 Oct 2013 16:46:00 +0000</updated>
                            <resolved>Wed, 28 Aug 2013 00:23:56 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                    <fixVersion>0.11.2</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13713746" author="sbilstein" created="Fri, 19 Jul 2013 15:03:12 +0000"  >&lt;p&gt;I observed this issue as well with DISTINCT clauses.&lt;/p&gt;</comment>
                            <comment id="13713876" author="sbilstein" created="Fri, 19 Jul 2013 17:54:14 +0000"  >&lt;p&gt;here is the SO question I made documenting the issue: &lt;a href=&quot;http://stackoverflow.com/questions/17554593/custom-partitioner-in-hadoop/17747335?noredirect=1#17747335&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/17554593/custom-partitioner-in-hadoop/17747335?noredirect=1#17747335&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13745508" author="knoguchi" created="Tue, 20 Aug 2013 22:02:05 +0000"  >&lt;p&gt;Wondering if custom partitioner ever worked for distinct.  &lt;/p&gt;

&lt;p&gt;Looks like partitioner info is passed through POGlobalRearrange but &quot;distinct&quot; doesn&apos;t use it. &lt;/p&gt;

&lt;p&gt;Uploading an initial patch that just passes that info through PODistinct. &lt;/p&gt;

&lt;p&gt;It&apos;s the first time for me to touch the backend code. Appreciate if someone can take a look.  I&apos;ll upload a testcase next.&lt;/p&gt;</comment>
                            <comment id="13746750" author="knoguchi" created="Wed, 21 Aug 2013 19:28:31 +0000"  >&lt;p&gt;Uploading a patch with test.  Noticed that original test for custom partitioners didn&apos;t give different partition results than the default so added one silly partitioner that always return 1 (second reducer).&lt;/p&gt;</comment>
                            <comment id="13746937" author="knoguchi" created="Wed, 21 Aug 2013 22:45:24 +0000"  >&lt;p&gt;While looking at this jira, noticed custom partitioner being dropped when run with multi query optimization.  Created &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3435&quot; title=&quot;Custom Partitioner not working with MultiQueryOptimizer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3435&quot;&gt;&lt;del&gt;PIG-3435&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13751943" author="daijy" created="Wed, 28 Aug 2013 00:21:32 +0000"  >&lt;p&gt;+1. Verified distinct does not work with custom partition even in early releases.&lt;/p&gt;</comment>
                            <comment id="13751945" author="daijy" created="Wed, 28 Aug 2013 00:23:56 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Koji!&lt;/p&gt;</comment>
                            <comment id="13752000" author="knoguchi" created="Wed, 28 Aug 2013 01:33:24 +0000"  >&lt;p&gt;Thanks Daniel!  Can we back-port this patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3435&quot; title=&quot;Custom Partitioner not working with MultiQueryOptimizer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3435&quot;&gt;&lt;del&gt;PIG-3435&lt;/del&gt;&lt;/a&gt; to 0.11?  Without them, custom partitioner is almost unusable.&lt;/p&gt;</comment>
                            <comment id="13752822" author="daijy" created="Wed, 28 Aug 2013 20:39:22 +0000"  >&lt;p&gt;Committed to 0.11 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12599042" name="pig-3385-v01.patch" size="2784" author="knoguchi" created="Tue, 20 Aug 2013 22:02:05 +0000"/>
                            <attachment id="12599253" name="pig-3385-v02.patch" size="9988" author="knoguchi" created="Wed, 21 Aug 2013 19:28:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mfxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>