<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:04:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PIG-5454] Make ParallelGC the default Garbage Collection</title>
                <link>https://issues.apache.org/jira/browse/PIG-5454</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;From JDK9 and beyond, G1GC became the default GC.&#160;&lt;br/&gt;
I&apos;ve seen our users hitting OOM after migrating to recent jdk and the issue going away after reverting back to ParallelGC.&#160;&#160;&lt;/p&gt;

&lt;p&gt;Maybe the GC behavior assumed by SelfSpillBag does not work with G1GC.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13576430">PIG-5454</key>
            <summary>Make ParallelGC the default Garbage Collection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knoguchi">Koji Noguchi</assignee>
                                    <reporter username="knoguchi">Koji Noguchi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2024 21:28:50 +0000</created>
                <updated>Mon, 15 Sep 2025 11:29:08 +0000</updated>
                            <resolved>Thu, 10 Oct 2024 20:44:30 +0000</resolved>
                                                    <fixVersion>0.18.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17872446" author="knoguchi" created="Fri, 9 Aug 2024 20:30:17 +0000"  >&lt;p&gt;This was not as simple as I hoped for. &lt;br/&gt;
I was incorrectly assuming that when multiple GCs are specified, jvm will pick the last one.  Instead, jvm fails to start with &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Conflicting collector combinations in option list; please refer to the release notes for the combinations allowed&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Here, attaching a patch that looks at the specified options and only adds &quot;-XX:+UseParallelGC&quot; when other GC is not specified. &lt;/p&gt;</comment>
                            <comment id="17872622" author="knoguchi" created="Sat, 10 Aug 2024 20:54:58 +0000"  >&lt;p&gt;Initial patch didn&apos;t work for Tez.  Properties inside PigContext also needed to be updated.  Uploading v02 patch.&lt;/p&gt;</comment>
                            <comment id="17872644" author="knoguchi" created="Sun, 11 Aug 2024 01:12:31 +0000"  >&lt;p&gt;v02 still didn&apos;t work for Spark.  It turns out spark also needed pigcontext properties to be updated.  v03 uploaded.&lt;/p&gt;</comment>
                            <comment id="17884287" author="rohini" created="Tue, 24 Sep 2024 14:05:37 +0000"  >&lt;p&gt;Just one minor comment. Make it params instead of param. i.e&lt;/p&gt;

&lt;p&gt;public static final String PIG_GC_DEFAULT_PARAMS = &quot;pig.gc.default.params&quot;;&lt;/p&gt;</comment>
                            <comment id="17888415" author="knoguchi" created="Thu, 10 Oct 2024 20:02:10 +0000"  >&lt;p&gt;Uploading a new patch with &quot;params&quot;.&lt;/p&gt;</comment>
                            <comment id="17888416" author="rohini" created="Thu, 10 Oct 2024 20:03:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17888425" author="knoguchi" created="Thu, 10 Oct 2024 20:44:30 +0000"  >&lt;p&gt;Thanks for the review Rohini! &lt;br/&gt;
Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13070792" name="pig-5454-v01.patch" size="8118" author="knoguchi" created="Fri, 9 Aug 2024 20:25:49 +0000"/>
                            <attachment id="13070801" name="pig-5454-v02.patch" size="9198" author="knoguchi" created="Sat, 10 Aug 2024 20:50:53 +0000"/>
                            <attachment id="13070802" name="pig-5454-v03.patch" size="9066" author="knoguchi" created="Sun, 11 Aug 2024 01:12:27 +0000"/>
                            <attachment id="13072128" name="pig-5454-v04.patch" size="9083" author="knoguchi" created="Thu, 10 Oct 2024 20:01:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oqk0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>