diff --git a/CHANGES.txt b/CHANGES.txt
index 48f37bd27..6a267c297 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -32,6 +32,8 @@ OPTIMIZATIONS
  
 BUG FIXES
 
+PIG-5262: Fix jdiff related issues: fail build upon error, correct xml character escaping (szita)
+
 PIG-5225: Several unit tests are not annotated with @Test (nkollar via rohini)
 
 
diff --git a/build.xml b/build.xml
index ec3a7f29c..d274af9be 100644
--- a/build.xml
+++ b/build.xml
@@ -1574,6 +1574,8 @@
                 <pathelement path="${output.jarfile.core}" />
             </classpath>
         </javadoc>
+        <!-- For some Scala classes <any> is recorded in the jdiff xml as return type. Need to xml-escape this properly -->
+        <replace file="${jdiff.xml.dir}/${name}_${version}.xml" token="&quot;&lt;any&gt;&quot;" value="&quot;&amp;lt;any&amp;gt;&quot;" />
     </target>
 
     <target name="write-null">
@@ -1601,6 +1603,10 @@
               <pathelement path="${output.jarfile.core}" />
            </classpath>
         </javadoc>
+        <fail message="Failed to generate jdiff change docs">
+            <!-- JDiff errors don't fail the build, have to take care of it manually -->
+           <condition><not><available file="${jdiff.build.dir}/changes" type="dir" /></not></condition>
+        </fail>
      </target>
 
      <target name="ivy-init-dirs">
