diff --git a/CHANGES.txt b/CHANGES.txt
index bdfbb571e..ce0ffe949 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -26,7 +26,8 @@ IMPROVEMENTS
  
 BUG FIXES
 
-
+PIG-4242: For indented xmls with multiline content (e.g. wikipedia) XMLLoader cuts out the begining of every line
+ (holdfenytolvaj via daijy)
 
 Release 0.14.0 - Unreleased
  
diff --git a/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/XMLLoader.java b/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/XMLLoader.java
index 3b9c66232..8c5c6bb63 100644
--- a/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/XMLLoader.java
+++ b/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/XMLLoader.java
@@ -150,11 +150,12 @@ public class XMLLoader extends LoadFunc {
       // In case of an tag matched with an open tag and a closed tag, this buffer
       // is used to accumulate matched element if it is spans multiple lines.
       StringBuffer currentMatch = new StringBuffer();
-      // The start offset of first matched open tag. This marks the first byte
-      // in the range to be copied to output.
-      int offsetOfFirstMatchedOpenTag = 0;
       try {
       while (true) {
+          // The start offset of first matched open tag. This marks the first byte
+          // in the range to be copied to output.
+          int offsetOfFirstMatchedOpenTag = 0;
+    	  
 	while (buffer == null || buffer.length() == 0) {
 	  if (!wrapped.nextKeyValue())
 	    return false; // End of split
diff --git a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestXMLLoader.java b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestXMLLoader.java
index 0592b8131..b62a43e90 100644
--- a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestXMLLoader.java
+++ b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestXMLLoader.java
@@ -99,6 +99,12 @@ public class TestXMLLoader extends TestCase {
     inlineClosedTags.add(new String[] { "</events>"});
   }
 
+    public static ArrayList<String[]> indentedXmlWithMultilineLineContent = new ArrayList<String[]>();
+    static {
+        indentedXmlWithMultilineLineContent.add(new String[] { "    <page>You have " });
+        indentedXmlWithMultilineLineContent.add(new String[] { "not missed it</page>" });
+    }
+
   public void testShouldReturn0TupleCountIfSearchTagIsNotFound () throws Exception {
     String filename = TestHelper.createTempFile(data, "");
     PigServer pig = new PigServer(LOCAL);
@@ -354,6 +360,27 @@ public class TestXMLLoader extends TestCase {
      assertEquals(4, tupleCount);
    }
 
+    public void testXMLLoaderShouldWorkWithIndentedXmlWithMultilineContent() throws Exception {
+        String filename = TestHelper.createTempFile(indentedXmlWithMultilineLineContent, "");
+        PigServer pig = new PigServer(LOCAL);
+        filename = filename.replace("\\", "\\\\");
+        String query = "A = LOAD '" + filename + "' USING org.apache.pig.piggybank.storage.XMLLoader('page') as (doc:chararray);";
+        pig.registerQuery(query);
+        Iterator<?> it = pig.openIterator("A");
+        int tupleCount = 0;
+        while (it.hasNext()) {
+            Tuple tuple = (Tuple) it.next();
+            if (tuple == null)
+                break;
+            else {
+                System.out.println(((String) tuple.get(0)));
+                assertTrue(((String) tuple.get(0)).equals("<page>You have not missed it</page>"));
+                tupleCount++;
+            }
+        }
+        assertEquals(1, tupleCount);
+    }
+
    public void testXMLLoaderShouldReturnValidXML() throws Exception {
      String filename = TestHelper.createTempFile(inlineClosedTags, "");
      PigServer pig = new PigServer(LOCAL);
