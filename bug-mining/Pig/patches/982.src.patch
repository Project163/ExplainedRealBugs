diff --git a/CHANGES.txt b/CHANGES.txt
index 54cd38093..b09cfce65 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -399,6 +399,8 @@ PIG-2228: support partial aggregation in map task (thejas)
 
 BUG FIXES
 
+PIG-2761: With hadoop23 importing modules inside python script does not work (rohini via daijy)
+
 PIG-2759: Typo in document "Built In Functions" (daijy)
 
 PIG-2745: Pig e2e test RubyUDFs fails in MR mode when running from tarball (cheolsoo via daijy)
diff --git a/src/org/apache/pig/PigServer.java b/src/org/apache/pig/PigServer.java
index 449809a32..756d4229c 100644
--- a/src/org/apache/pig/PigServer.java
+++ b/src/org/apache/pig/PigServer.java
@@ -513,13 +513,16 @@ public class PigServer {
             throw new FrontendException(msg, errCode,
                     PigException.USER_ENVIRONMENT);
         }
+        String cwd = new File(".").getCanonicalPath();
+        String filePath = f.getCanonicalPath();
+        //Use the relative path in the jar, if the path specified is relative
+        String nameInJar = filePath.equals(cwd + File.separator + path) ? 
+                filePath.substring(cwd.length() + 1) : filePath;
+        pigContext.addScriptFile(nameInJar, filePath);
         if(scriptingLang != null) {
             ScriptEngine se = ScriptEngine.getInstance(scriptingLang);    
-            se.registerFunctions(f.getPath(), namespace, pigContext);
+            se.registerFunctions(nameInJar, namespace, pigContext);
         }
-        // Remove the leading "/" or "./" from the name of the file to store in jar.
-        String nameInJar = f.getPath().replaceFirst("^\\./|^/", "");
-        pigContext.addScriptFile(nameInJar, f.getPath());
     }
 
     /**
diff --git a/src/org/apache/pig/impl/PigContext.java b/src/org/apache/pig/impl/PigContext.java
index c871d7c29..b954501cd 100644
--- a/src/org/apache/pig/impl/PigContext.java
+++ b/src/org/apache/pig/impl/PigContext.java
@@ -246,7 +246,7 @@ public class PigContext implements Serializable {
      */
     public void addScriptFile(String path) throws MalformedURLException {
         if (path != null) {
-            aliasedScriptFiles.put(path, new File(path));
+            aliasedScriptFiles.put(path.replaceFirst("^/", ""), new File(path));
         }
     }
 
@@ -258,7 +258,7 @@ public class PigContext implements Serializable {
      */
     public void addScriptFile(String name, String path) {
         if (path != null) {
-            aliasedScriptFiles.put(name, new File(path));
+            aliasedScriptFiles.put(name.replaceFirst("^/", ""), new File(path));
         }
     }
     
diff --git a/src/org/apache/pig/scripting/ScriptEngine.java b/src/org/apache/pig/scripting/ScriptEngine.java
index 01d962ddf..3d22e03b5 100644
--- a/src/org/apache/pig/scripting/ScriptEngine.java
+++ b/src/org/apache/pig/scripting/ScriptEngine.java
@@ -132,10 +132,23 @@ public abstract class ScriptEngine {
                 throw new IllegalStateException("could not find existing file "+scriptPath, e);
             }
         } else {
-            if (file.isAbsolute()) {
-                is = ScriptEngine.class.getResourceAsStream(scriptPath);
-            } else {
-                is = ScriptEngine.class.getResourceAsStream("/" + scriptPath);
+            // Try system, current and context classloader.
+            is = ScriptEngine.class.getResourceAsStream(scriptPath);
+            if (is == null) {
+                is = getResourceUsingClassLoader(scriptPath, ScriptEngine.class.getClassLoader());
+            }
+            if (is == null) {
+                is = getResourceUsingClassLoader(scriptPath, Thread.currentThread().getContextClassLoader());
+            }
+            if (is == null && !file.isAbsolute()) {
+                String path = "/" + scriptPath;
+                is = ScriptEngine.class.getResourceAsStream(path);
+                if (is == null) {
+                    is = getResourceUsingClassLoader(path, ScriptEngine.class.getClassLoader());
+                }
+                if (is == null) {
+                    is = getResourceUsingClassLoader(path, Thread.currentThread().getContextClassLoader());
+                }
             }
         }
         
@@ -148,6 +161,13 @@ public abstract class ScriptEngine {
         return is;
     }
     
+    private static InputStream getResourceUsingClassLoader(String fullFilename, ClassLoader loader) {
+        if (loader != null) {
+            return loader.getResourceAsStream(fullFilename);
+        }
+        return null;
+    } 
+    
     public static final String NAMESPACE_SEPARATOR = ".";
        
     /**
diff --git a/test/e2e/pig/udfs/python/scriptingudf.py b/test/e2e/pig/udfs/python/scriptingudf.py
index 0cf3da48f..54129b6ce 100644
--- a/test/e2e/pig/udfs/python/scriptingudf.py
+++ b/test/e2e/pig/udfs/python/scriptingudf.py
@@ -15,6 +15,11 @@
 #  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
+
+import sys
+sys.path.append("./libexec/python")
+import stringutil
+
 from org.apache.hadoop.fs import Path # Test for PIG-1824
 p = Path('foo')
 
@@ -90,4 +95,4 @@ def isretired(age):
 
 outputSchema("words:{(word:chararray)}")
 def tokenize(sentence):
-    return sentence.split(' ')
+    return stringutil.tokenize(sentence)
diff --git a/test/e2e/pig/udfs/python/stringutil.py b/test/e2e/pig/udfs/python/stringutil.py
new file mode 100644
index 000000000..deb4a9811
--- /dev/null
+++ b/test/e2e/pig/udfs/python/stringutil.py
@@ -0,0 +1,20 @@
+#!/usr/bin/python
+
+############################################################################           
+#  Licensed to the Apache Software Foundation (ASF) under one or more                  
+#  contributor license agreements.  See the NOTICE file distributed with               
+#  this work for additional information regarding copyright ownership.                 
+#  The ASF licenses this file to You under the Apache License, Version 2.0             
+#  (the "License"); you may not use this file except in compliance with                
+#  the License.  You may obtain a copy of the License at                               
+#                                                                                      
+#      http://www.apache.org/licenses/LICENSE-2.0                                      
+#                                                                                      
+#  Unless required by applicable law or agreed to in writing, software                 
+#  distributed under the License is distributed on an "AS IS" BASIS,                   
+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.            
+#  See the License for the specific language governing permissions and                 
+#  limitations under the License.                                                      
+
+def tokenize(sentence):
+    return sentence.split(' ')
