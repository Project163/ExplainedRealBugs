diff --git a/CHANGES.txt b/CHANGES.txt
index e64b1a4f5..da9e264e1 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -76,6 +76,8 @@ PIG-4333: Split BigData tests into multiple groups (rohini)
  
 BUG FIXES
 
+PIG-4543: TestEvalPipelineLocal.testRankWithEmptyReduce fail on Hadoop 1 (daijy)
+
 PIG-4544: Upgrade Hbase to 0.98.12 (daijy)
 
 PIG-4481: e2e tests ComputeSpec_1, ComputeSpec_2 and StreamingPerformance_3 produce different result on Windows (daijy)
diff --git a/test/org/apache/pig/test/TestEvalPipeline2.java b/test/org/apache/pig/test/TestEvalPipeline2.java
index 1e578135b..ba62f7a7c 100644
--- a/test/org/apache/pig/test/TestEvalPipeline2.java
+++ b/test/org/apache/pig/test/TestEvalPipeline2.java
@@ -1660,4 +1660,26 @@ public class TestEvalPipeline2 {
             pigServer.getPigContext().getProperties().remove("pig.exec.reducers.bytes.per.reducer");
         }
     }
+
+    // see PIG-4392
+    @Test
+    public void testRankWithEmptyReduce() throws Exception {
+        Util.createInputFile(cluster, "table_testRankWithEmptyReduce", new String[]{"1\t2\t3", "4\t5\t6", "7\t8\t9"});
+        pigServer.setDefaultParallel(4);
+        
+        pigServer.registerQuery("d = load 'table_testRankWithEmptyReduce' as (a:int, b:int, c:int);");
+        pigServer.registerQuery("e = rank d by a parallel 4;");
+        
+        Iterator<Tuple> iter = pigServer.openIterator("e");
+
+        Collection<String> results = new HashSet<String>();
+        results.add("(1,1,2,3)");
+        results.add("(2,4,5,6)");
+        results.add("(3,7,8,9)");
+        
+        Assert.assertTrue(results.contains(iter.next().toString()));
+        Assert.assertTrue(results.contains(iter.next().toString()));
+        Assert.assertTrue(results.contains(iter.next().toString()));
+        Assert.assertFalse(iter.hasNext());
+    }
 }
diff --git a/test/org/apache/pig/test/TestEvalPipelineLocal.java b/test/org/apache/pig/test/TestEvalPipelineLocal.java
index 0472e27c5..c12d595c8 100644
--- a/test/org/apache/pig/test/TestEvalPipelineLocal.java
+++ b/test/org/apache/pig/test/TestEvalPipelineLocal.java
@@ -1265,27 +1265,4 @@ public class TestEvalPipelineLocal {
         Assert.assertEquals(iter.next().toString(), "(1)");
         Assert.assertFalse(iter.hasNext());
     }
-
-    // see PIG-4392
-    @Test
-    public void testRankWithEmptyReduce() throws Exception {
-        File f1 = createFile(new String[]{"1\t2\t3", "4\t5\t6", "7\t8\t9"});
-        pigServer.setDefaultParallel(4);
-        
-        pigServer.registerQuery("d = load '" + Util.generateURI(f1.toString(), pigServer.getPigContext())
-                + "' as (a:int, b:int, c:int);");
-        pigServer.registerQuery("e = rank d by a parallel 4;");
-        
-        Iterator<Tuple> iter = pigServer.openIterator("e");
-
-        Collection<String> results = new HashSet<String>();
-        results.add("(1,1,2,3)");
-        results.add("(2,4,5,6)");
-        results.add("(3,7,8,9)");
-        
-        Assert.assertTrue(results.contains(iter.next().toString()));
-        Assert.assertTrue(results.contains(iter.next().toString()));
-        Assert.assertTrue(results.contains(iter.next().toString()));
-        Assert.assertFalse(iter.hasNext());
-    }
 }
