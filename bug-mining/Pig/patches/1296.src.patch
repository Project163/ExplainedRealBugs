diff --git a/CHANGES.txt b/CHANGES.txt
index 33c701508..fbf77cd11 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -48,6 +48,8 @@ OPTIMIZATIONS
  
 BUG FIXES
 
+PIG-3507: It fails to run pig in local mode on a Kerberos enabled Hadoop cluster (chiyang via cheolsoo)
+
 PIG-3561: Clean up PigStats and JobStats after PIG-3419 (cheolsoo)
 
 PIG-3553: HadoopJobHistoryLoader fails to load job history on hadoop v 1.2 (lgiri via cheolsoo)
diff --git a/src/org/apache/pig/newplan/logical/rules/InputOutputFileValidator.java b/src/org/apache/pig/newplan/logical/rules/InputOutputFileValidator.java
index 450099b95..971830624 100644
--- a/src/org/apache/pig/newplan/logical/rules/InputOutputFileValidator.java
+++ b/src/org/apache/pig/newplan/logical/rules/InputOutputFileValidator.java
@@ -19,7 +19,9 @@ package org.apache.pig.newplan.logical.rules;
 
 import java.io.IOException;
 
+import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.mapreduce.Job;
+import org.apache.hadoop.security.UserGroupInformation;
 import org.apache.pig.PigException;
 import org.apache.pig.ResourceSchema;
 import org.apache.pig.StoreFuncInterface;
@@ -62,14 +64,16 @@ public class InputOutputFileValidator {
             
             try {
                 if(store.getSchema() != null){
-                    sf.checkSchema(new ResourceSchema(store.getSchema(), store.getSortInfo()));                
+                    sf.checkSchema(new ResourceSchema(store.getSchema(), store.getSortInfo()));
                 }
-                dummyJob = new Job(ConfigurationUtil.toConfiguration(pigCtx.getProperties()));
+                Configuration conf = ConfigurationUtil.toConfiguration(pigCtx.getProperties());
+                dummyJob = new Job(conf);
                 sf.setStoreLocation(outLoc, dummyJob);
+                UserGroupInformation.setConfiguration(conf);
             } catch (Exception ioe) {
                 if(ioe instanceof PigException){
                     errCode = ((PigException)ioe).getErrorCode();
-                } 
+                }
                 String exceptionMsg = ioe.getMessage();
                 validationErrStr += (exceptionMsg == null) ? "" : " More info to follow:\n" +exceptionMsg;
                 throw new VisitorException(store, validationErrStr, errCode, pigCtx.getErrorSource(), ioe);
