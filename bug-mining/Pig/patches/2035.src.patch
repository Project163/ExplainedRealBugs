diff --git a/CHANGES.txt b/CHANGES.txt
index 7aed136cd..506a4d21f 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -167,6 +167,8 @@ OPTIMIZATIONS
  
 BUG FIXES
 
+PIG-5473: Fix issues found in release candidate (rohini)
+
 PIG-5458: Update metrics-core.version (knoguchi)
 
 PIG-5451: Pig-on-Spark3 E2E Orc_Pushdown_5 failing (knoguchi)
diff --git a/build.xml b/build.xml
index bd26af0fa..5a7bc188c 100644
--- a/build.xml
+++ b/build.xml
@@ -490,6 +490,7 @@
         <delete dir="${docs.dir}/build" />
         <delete file="${jdiff.xml.dir}\${name}_${version}.xml" />
         <delete dir="${build.dir}" />
+        <delete dir="target" />
         <delete dir="${src.gen.dot.parser.dir}" />
         <delete>
             <fileset dir="${basedir}" includes="pig*.jar" />
@@ -497,6 +498,9 @@
         <delete dir="${lib.dir}" />
         <delete dir="${legacy.dir}" />
         <ant dir="${test.e2e.dir}" target="clean"/>
+        <exec dir="${basedir}/shade/roaringbitmap" executable="mvn">
+            <arg line="clean"/>
+        </exec>
     </target>
 
     <target name="clean-deps" description="Cleanup dependencies">
@@ -1280,7 +1284,7 @@
     <!-- ================================================================== -->
     <!-- Make release tarball                                               -->
     <!-- ================================================================== -->
-    <target name="src-release" depends="clean, clean-piggybank, clean-test-e2e, clean-tutorial" description="Source distribution">
+    <target name="src-release" depends="clean, clean-piggybank, jackson-pig-3039-test-clean, clean-test-e2e, clean-tutorial" description="Source distribution">
         <mkdir dir="${build.dir}"/>
         <tar compression="gzip" longfile="gnu"
              destfile="${build.dir}/${final.name}-src.tar.gz">
@@ -1423,6 +1427,7 @@
            <remoteRepository id="${staging_repo_id}" url="${asfstagingrepo}"/>
            <pom refid="pig"/>
            <attach file="${output.jarfile.core}.asc" type="jar.asc"/>
+           <attach file="${output.jarfile.core-h2}" classifier="h2"/>
            <attach file="${output.jarfile.core-h2}.asc" type="jar.asc"/>
            <attach file="${pig.pom}.asc" type="pom.asc"/>
            <attach file="${output.jarfile.sources}.asc" type="jar.asc" classifier="sources"/>
@@ -1916,6 +1921,7 @@
      <target name="copy-jar-to-maven" depends="ready-to-publish">
         <copy file="${output.jarfile.core}" tofile="${build.ivy.maven.jar}"/>
         <checksum file="${build.ivy.maven.jar}" algorithm="md5"/>
+        <checksum file="${build.ivy.maven.jar}" algorithm="sha-256"/>
      </target>
 
      <target name="copypom" depends="set-version, ivy-init-dirs">
@@ -1928,6 +1934,7 @@
         </presetdef>
         <expandingcopy file="ivy/pig.pom" tofile="${build.ivy.maven.pom}"/>
         <checksum file="${build.ivy.maven.pom}" algorithm="md5"/>
+        <checksum file="${build.ivy.maven.pom}" algorithm="sha-256"/>
      </target>
 
      <target name="maven-artifacts" depends="copy-jar-to-maven, copypom" />
diff --git a/contrib/piggybank/java/build.xml b/contrib/piggybank/java/build.xml
index 5a6f1de65..9cc9a3ec7 100755
--- a/contrib/piggybank/java/build.xml
+++ b/contrib/piggybank/java/build.xml
@@ -103,6 +103,13 @@
     </target>
     <target name="clean">
         <delete dir="build"/>
+        <delete dir="target"/>
+        <delete dir="local-out"/>
+        <delete>
+            <dirset dir="${basedir}">
+                <include name="**/testPathPartitioner*/**"/>
+            </dirset>
+        </delete>
         <delete file="${udfjar}"/>
     </target>
     <target depends="init" name="compile" description="compile all of the class files">
diff --git a/ivy.xml b/ivy.xml
index 33ad3a7d4..68e02411d 100644
--- a/ivy.xml
+++ b/ivy.xml
@@ -644,6 +644,7 @@
       <exclude org="com.google.guava" />
       <exclude org="io.netty" module="netty"/>
       <exclude org="io.netty" name="netty-all"/>
+      <exclude org="log4j" />
     </dependency>
     <dependency org="org.apache.spark" name="spark-yarn_${spark2-scala.version}" rev="${spark2.version}" conf="spark2->default">
       <exclude org="org.apache.hadoop" />
diff --git a/ivy/piggybank-template.xml b/ivy/piggybank-template.xml
index 39c19bfa5..8be80e893 100644
--- a/ivy/piggybank-template.xml
+++ b/ivy/piggybank-template.xml
@@ -28,11 +28,6 @@
       <artifactId>commons-lang3</artifactId>
       <version>3.6</version>
     </dependency>
-    <dependency>
-      <groupId>log4j</groupId>
-      <artifactId>log4j</artifactId>
-      <version>1.2.16</version>
-    </dependency>
     <dependency>
       <groupId>commons-logging</groupId>
       <artifactId>commons-logging</artifactId>
diff --git a/ivy/pigunit-template.xml b/ivy/pigunit-template.xml
index e2ea25ef4..035d66b91 100644
--- a/ivy/pigunit-template.xml
+++ b/ivy/pigunit-template.xml
@@ -28,11 +28,6 @@
       <artifactId>commons-lang3</artifactId>
       <version>3.12.0</version>
     </dependency>
-    <dependency>
-      <groupId>log4j</groupId>
-      <artifactId>log4j</artifactId>
-      <version>1.2.17</version>
-    </dependency>
     <dependency>
       <groupId>commons-logging</groupId>
       <artifactId>commons-logging</artifactId>
