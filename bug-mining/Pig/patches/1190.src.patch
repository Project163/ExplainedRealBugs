diff --git a/CHANGES.txt b/CHANGES.txt
index 49ba169ad..2fe0de802 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -164,7 +164,9 @@ PIG-3013: BinInterSedes improve chararray sort performance (rohini)
 
 BUG FIXES
 
-PIG-3027 pigTest unit test needs a newline filter for comparisons of golden multi-line (jgordon via gates)
+PIG-3290: TestLogicalPlanBuilder.testQuery85 fail in trunk (daijy)
+
+PIG-3027: pigTest unit test needs a newline filter for comparisons of golden multi-line (jgordon via gates)
 
 PIG-2767: Pig creates wrong schema after dereferencing nested tuple fields (daijy)
 
diff --git a/src/org/apache/pig/newplan/logical/expression/DereferenceExpression.java b/src/org/apache/pig/newplan/logical/expression/DereferenceExpression.java
index 3b47ca36d..bb903bbc2 100644
--- a/src/org/apache/pig/newplan/logical/expression/DereferenceExpression.java
+++ b/src/org/apache/pig/newplan/logical/expression/DereferenceExpression.java
@@ -169,14 +169,20 @@ public class DereferenceExpression extends ColumnExpression {
                         columns = translateAliasToPos(predFS.schema, rawColumns);
                     }
                     if (predFS.schema!=null && predFS.schema.size()!=0) {
-                        if (predFS.schema.size()==1) {
+                        if (columns.size()==1) {
                             fieldSchema = predFS.schema.getField(columns.get(0));
                         } else {
                             LogicalSchema innerSchema = new LogicalSchema();
+                            String alias = predFS.alias;
                             for (int column:columns) {
                                 innerSchema.addField(predFS.schema.getField(column));
+                                String subAlias = predFS.schema.getField(column).alias;
+                                if (subAlias==null) {
+                                    subAlias = "";
+                                }
+                                alias = alias + "_" + subAlias;
                             }
-                            fieldSchema = new LogicalSchema.LogicalFieldSchema(predFS.alias, innerSchema, DataType.TUPLE, LogicalExpression.getNextUid());
+                            fieldSchema = new LogicalSchema.LogicalFieldSchema(alias, innerSchema, DataType.TUPLE, LogicalExpression.getNextUid());
                         }
                     }
                     else {
