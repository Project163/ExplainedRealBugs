diff --git a/test/e2e/harness/test_harness.pl b/test/e2e/harness/test_harness.pl
index bd7360803..0130ba6a9 100644
--- a/test/e2e/harness/test_harness.pl
+++ b/test/e2e/harness/test_harness.pl
@@ -340,8 +340,6 @@ if (defined($ENV{'HARNESS_RESOURCE'})) {
     $harnessRes = $ENV{'HARNESS_RESOURCE'};
 } elsif($^O =~ /mswin/i) {
    $harnessRes = "$ROOT/resource/windows.res";
-} elsif ($globalCfg->{'hadoopversion'} == '23') {
-   $harnessRes = "$ROOT/resource/hadoop23.res";
 } else {
    $harnessRes = "$ROOT/resource/default.res";
 }
diff --git a/test/e2e/pig/conf/default.conf b/test/e2e/pig/conf/default.conf
index 2924c85fe..525c8834b 100644
--- a/test/e2e/pig/conf/default.conf
+++ b/test/e2e/pig/conf/default.conf
@@ -51,6 +51,7 @@ $cfg = {
     , 'testconfigpath'   => "$ENV{HADOOP_CONF_DIR}"
     , 'funcjarPath'      => "$ENV{PH_ROOT}/lib/java"
     , 'paramPath'        => "$ENV{PH_ROOT}/paramfiles"
+    , 'piggybankjarPath' => "$ENV{PH_PIG}/contrib/piggybank/java"
     , 'pigpath'          => "$ENV{PH_PIG}"
     , 'oldpigpath'       => "$ENV{PH_OLDPIG}"
     , 'hcatbin'          => "$ENV{HCAT_BIN}"
diff --git a/test/e2e/pig/conf/rpm.conf b/test/e2e/pig/conf/rpm.conf
new file mode 100644
index 000000000..c8ccebc9d
--- /dev/null
+++ b/test/e2e/pig/conf/rpm.conf
@@ -0,0 +1,79 @@
+############################################################################           
+#  Licensed to the Apache Software Foundation (ASF) under one or more                  
+#  contributor license agreements.  See the NOTICE file distributed with               
+#  this work for additional information regarding copyright ownership.                 
+#  The ASF licenses this file to You under the Apache License, Version 2.0             
+#  (the "License"); you may not use this file except in compliance with                
+#  the License.  You may obtain a copy of the License at                               
+#                                                                                      
+#      http://www.apache.org/licenses/LICENSE-2.0                                      
+#                                                                                      
+#  Unless required by applicable law or agreed to in writing, software                 
+#  distributed under the License is distributed on an "AS IS" BASIS,                   
+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.            
+#  See the License for the specific language governing permissions and                 
+#  limitations under the License.                                                      
+                                                                                       
+my $me = `whoami`;
+chomp $me;
+
+# The contents of this file can be rewritten to fit your installation.
+# Also, you can define the following environment variables and set things up as in the test setup
+# PH_ROOT           Root directory where test harness is installed
+# PH_LOCAL    	    Root directory for input and output for local mode tests
+# PH_OUT       	    Root directory where output data will be stored (on local disk, not HDFS)
+# PH_CLUSTER_BIN    Conf directory for cluster being used
+# HADOOP_CONF_DIR   Binary executable for cluster being used
+# PH_PIG      	    Root directory for Pig version being used
+
+my $hdfsBase = $ENV{PH_HDFS_BASE} || "/user/pig";
+my $jythonjarpath;
+eval {$jythonjarpath = `ls /usr/lib/pig/lib/jython-*.jar`};
+chomp $jythonjarpath;
+my $jrubyjarpath;
+eval {$jrubyjarpath = `ls /usr/lib/pig/lib/jruby-*.jar`};
+chomp $jrubyjarpath;
+
+$cfg = {
+    #HDFS
+      'inpathbase'     => "$hdfsBase/tests/data"
+    , 'outpathbase'    => "$hdfsBase/out"
+
+   #LOCAL
+    , 'localinpathbase'   => "$ENV{PH_LOCAL}/in" 
+    , 'localoutpathbase'  => "$ENV{PH_LOCAL}/out/log" 
+    , 'localxmlpathbase'  => "$ENV{PH_LOCAL}/out/xml" 
+    , 'localpathbase'     => "$ENV{PH_LOCAL}/out/pigtest/$me"
+    , 'benchmarkcachepath'=> "$ENV{PH_BENCHMARK_CACHE_PATH}" 
+
+    #TEST
+    , 'benchmarkPath'    => "$ENV{PH_OUT}/benchmarks"
+    , 'scriptPath'       => "$ENV{PH_ROOT}/libexec"
+    , 'tmpPath'          => '/tmp/pigtest'
+    , 'jythonjar'        => $jythonjarpath
+    , 'jrubyjar'         => $jrubyjarpath
+
+    #PIG
+    , 'testconfigpath'   => "$ENV{HADOOP_CONF_DIR}"
+    , 'funcjarPath'      => "$ENV{PH_ROOT}/lib/java"
+    , 'piggybankjarPath' => "/usr/lib/pig"
+    , 'paramPath'        => "$ENV{PH_ROOT}/paramfiles"
+    , 'piggybankjarPath' => "/usr/lib/pig"
+    , 'pigpath'          => "/usr"
+    , 'oldpigpath'       => "$ENV{PH_OLDPIG}"
+    , 'hcatbin'          => "$ENV{HCAT_BIN}"
+    , 'exectype'         => 'mapred'
+
+    #HADOOP
+    , 'mapredjars'       => "$ENV{PH_ROOT}/lib"
+
+
+    , 'userhomePath' => "$ENV{HOME}"
+    ,'local.bin'     => '/usr/bin'
+ 
+    ,'logDir'                => "$ENV{PH_OUT}/log" 
+    ,'propertiesFile'     => "./conf/testpropertiesfile.conf"
+    ,'harness.console.level' => 'ERROR'
+    ,'hadoopversion' => "$ENV{HADOOP_VERSION}"
+
+};
diff --git a/test/e2e/pig/drivers/TestDriverPig.pm b/test/e2e/pig/drivers/TestDriverPig.pm
index cece72112..c82a4bf5d 100644
--- a/test/e2e/pig/drivers/TestDriverPig.pm
+++ b/test/e2e/pig/drivers/TestDriverPig.pm
@@ -73,6 +73,7 @@ sub replaceParameters
     $cmd =~ s/:INPATH:/$testCmd->{'inpathbase'}/g;
     $cmd =~ s/:OUTPATH:/$outfile/g;
     $cmd =~ s/:FUNCPATH:/$testCmd->{'funcjarPath'}/g;
+    $cmd =~ s/:PIGGYBANKPATH:/$testCmd->{'piggybankjarPath'}/g;
     $cmd =~ s/:PIGPATH:/$testCmd->{'pigpath'}/g;
     $cmd =~ s/:RUNID:/$testCmd->{'UID'}/g;
     $cmd =~ s/:USRHOMEPATH:/$testCmd->{'userhomePath'}/g;
diff --git a/test/e2e/pig/drivers/TestDriverScript.pm b/test/e2e/pig/drivers/TestDriverScript.pm
index 2dfa3c1e6..bf23172a1 100644
--- a/test/e2e/pig/drivers/TestDriverScript.pm
+++ b/test/e2e/pig/drivers/TestDriverScript.pm
@@ -125,6 +125,7 @@ sub runPig
     $pigcmd =~ s/:INPATH:/$testCmd->{'inpathbase'}/g;
     $pigcmd =~ s/:OUTPATH:/$outfile/g;
     $pigcmd =~ s/:FUNCPATH:/$testCmd->{'funcjarPath'}/g;
+    $pigcmd =~ s/:PIGGYBANKPATH:/$testCmd->{'piggybankjarPath'}/g;
     $pigcmd =~ s/:ZEBRAJAR:/$testCmd->{'zebrajar'}/g;
     $pigcmd =~ s/:RUNID:/$testCmd->{'UID'}/g;
     $pigcmd =~ s/:PIGHARNESS:/$ENV{PIG_HARNESS_ROOT}/g;
@@ -189,6 +190,7 @@ sub runPigSql
 	$pigcmd =~ s/:INPATH:/$testCmd->{'inpathbase'}/g;
 	$pigcmd =~ s/:OUTPATH:/$outfile/g;
 	$pigcmd =~ s/:FUNCPATH:/$testCmd->{'funcjarPath'}/g;
+	$pigcmd =~ s/:PIGGYBANKPATH:/$testCmd->{'piggybankjarPath'}/g;
 	$pigcmd =~ s/:RUNID:/$testCmd->{'UID'}/g;
 	$pigcmd =~ s/:PIGHARNESS:/$ENV{PIG_HARNESS_ROOT}/g;
 	$pigcmd =~ s/:USRHOMEPATH:/$testCmd->{'userhomePath'}/g;
@@ -276,6 +278,7 @@ sub runScript
 	$cmd =~ s/:INPATH:/$testCmd->{'inpathbase'}/g;
 	$cmd =~ s/:OUTPATH:/$outfile/g;
 	$cmd =~ s/:FUNCPATH:/$testCmd->{'funcjarPath'}/g;
+	$cmd =~ s/:PIGGYBANKPATH:/$testCmd->{'piggybankjarPath'}/g;
 	$cmd =~ s/:RUNID:/$testCmd->{'UID'}/g;
 	$cmd =~ s/:PIGHARNESS:/$ENV{PIG_HARNESS_ROOT}/g;
 	$cmd =~ s/:USRHOMEPATH:/$testCmd->{'userhomePath'}/g;
@@ -316,6 +319,7 @@ sub replaceParameters(){
 	$cmd =~ s/:INPATH:/$testCmd->{'inpathbase'}/g;
 	$cmd =~ s/:OUTPATH:/$outfile/g;
 	$cmd =~ s/:FUNCPATH:/$testCmd->{'funcjarPath'}/g;
+	$cmd =~ s/:PIGGYBANKPATH:/$testCmd->{'piggybankjarPath'}/g;
 	$cmd =~ s/:RUNID:/$testCmd->{'UID'}/g;
 	$cmd =~ s/:PIGHARNESS:/$ENV{PIG_HARNESS_ROOT}/g;
 	$cmd =~ s/:USRHOMEPATH:/$testCmd->{'userhomePath'}/g;
diff --git a/test/e2e/pig/tests/negative.conf b/test/e2e/pig/tests/negative.conf
index 64465af35..a4876ccb3 100644
--- a/test/e2e/pig/tests/negative.conf
+++ b/test/e2e/pig/tests/negative.conf
@@ -205,7 +205,6 @@ store a into ':INPATH:/singlefile/fileexists';\,
                         d = foreach c generate flatten(org.apache.pig.test.udf.evalfunc.BadUdf(a,b));
                         store d into ':OUTPATH:';\,
 	    'expected_err_regex' => "Out of bounds access",
-            'expected_err_regex23' => "Unable to recreate exception",
             },
             {
             'num' => 2,
@@ -217,7 +216,6 @@ store a into ':INPATH:/singlefile/fileexists';\,
                         d = foreach c generate flatten(org.apache.pig.test.udf.evalfunc.BadUdf2(a,b));
                         store d into ':OUTPATH:';\,
             'expected_err_regex' => "Out of bounds access",
-            'expected_err_regex23' => "Unable to recreate exception",
             },
             {
             'num' => 3,
@@ -229,7 +227,6 @@ store a into ':INPATH:/singlefile/fileexists';\,
                         d = foreach c generate flatten(org.apache.pig.test.udf.evalfunc.BadUdf3(a,b));
                         store d into ':OUTPATH:';\,
             'expected_err_regex' => "Out of bounds access",
-            'expected_err_regex23' => "Unable to recreate exception",
             },
             {
             'num' => 4,
@@ -241,7 +238,6 @@ store a into ':INPATH:/singlefile/fileexists';\,
                         d = foreach c generate flatten(org.apache.pig.test.udf.evalfunc.BadUdf4(a,b));
                         store d into ':OUTPATH:';\,
             'expected_err_regex' => "ERROR 2078: .*",
-            'expected_err_regex23' => "Unable to recreate exception",
             },
         ]
         },
diff --git a/test/e2e/pig/tests/nightly.conf b/test/e2e/pig/tests/nightly.conf
index c469289d0..e1a55e67d 100644
--- a/test/e2e/pig/tests/nightly.conf
+++ b/test/e2e/pig/tests/nightly.conf
@@ -4579,7 +4579,7 @@ store C into ':OUTPATH:';\,
                     # Simplest merge-sparse-join.
                     {
                         'num' => 1,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studenttab10k';
                                 b = load ':INPATH:/singlefile/votertab10k';
                                 c = order a by $0;
@@ -4600,7 +4600,7 @@ store C into ':OUTPATH:';\,
                     # Merge-sparse-join with left-side filter
                     {
                         'num' => 2,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studenttab10k';
                                 b = load ':INPATH:/singlefile/votertab10k';
                                 c = order a by $0;
@@ -4623,7 +4623,7 @@ store C into ':OUTPATH:';\,
                     # Merge-sparse-join with right-side filter
                     {
                         'num' => 3,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studenttab10k';
                                 b = load ':INPATH:/singlefile/votertab10k';
                                 c = order a by $0;
@@ -4647,7 +4647,7 @@ store C into ':OUTPATH:';\,
                     # Merge-sparse-join with key as expression
                     {
                         'num' => 4,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studenttab10k';
                                 b = load ':INPATH:/singlefile/votertab10k';
                                 c = order a by $0,$1;
@@ -4668,7 +4668,7 @@ store C into ':OUTPATH:';\,
                     # Merge-sparse-join with nulls in keys and data.
                     {
                         'num' => 5,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studentnulltab10k';
                                 b = load ':INPATH:/singlefile/voternulltab10k';
                                 c = order a by $0;
@@ -4689,7 +4689,7 @@ store C into ':OUTPATH:';\,
                     # Merge-sparse-join with join on numeric key
                     {
                         'num' => 6,
-                        'pig' => q\register :PIGPATH:/contrib/piggybank/java/piggybank.jar
+                        'pig' => q\register :PIGGYBANKPATH:/piggybank.jar
                                 a = load ':INPATH:/singlefile/studenttab10k' as (name:chararray, age:int, gpa:float);
                                 b = load ':INPATH:/singlefile/votertab10k'as (name:chararray, age:int, reg:chararray, contrib:float);
                                 c = order a by age;
