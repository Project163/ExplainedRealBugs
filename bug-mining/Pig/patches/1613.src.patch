diff --git a/CHANGES.txt b/CHANGES.txt
index 6ca478d3b..22e83a6c2 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -105,6 +105,8 @@ OPTIMIZATIONS
  
 BUG FIXES
 
+PIG-4182: e2e tests Scripting_[1-12] fail on Windows (daijy)
+
 PIG-4235: Fix unit test failures on Windows (daijy)
 
 PIG-4245: 1-1 edge vertices should use same jvm opts (rohini)
diff --git a/src/org/apache/pig/impl/PigContext.java b/src/org/apache/pig/impl/PigContext.java
index 4b4d46afd..c13c08735 100644
--- a/src/org/apache/pig/impl/PigContext.java
+++ b/src/org/apache/pig/impl/PigContext.java
@@ -334,7 +334,7 @@ public class PigContext implements Serializable {
      */
     public void addScriptFile(String name, String path) {
         if (path != null) {
-            aliasedScriptFiles.put(name.replaceFirst("^/", "").replaceAll(":", ""), new File(path));
+            aliasedScriptFiles.put(name.replaceAll(":", ""), new File(path));
         }
     }
 
diff --git a/src/org/apache/pig/scripting/jython/JythonScriptEngine.java b/src/org/apache/pig/scripting/jython/JythonScriptEngine.java
index 4a8fd994d..33c97dfb1 100644
--- a/src/org/apache/pig/scripting/jython/JythonScriptEngine.java
+++ b/src/org/apache/pig/scripting/jython/JythonScriptEngine.java
@@ -300,7 +300,7 @@ public class JythonScriptEngine extends ScriptEngine {
                                 // determine the relative path that the file should have in the jar
                                 int pos = apath.lastIndexOf(File.separatorChar + name.replace('.', File.separatorChar));
                                 if (pos > 0) {
-                                    files.put(apath.substring(pos), apath);
+                                    files.put(apath.substring(pos + 1), apath);
                                 } else {
                                     files.put(apath, apath);
                                 }
