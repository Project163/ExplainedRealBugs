diff --git a/test/e2e/pig/build.xml b/test/e2e/pig/build.xml
index 20c8f6214..5da267d0f 100644
--- a/test/e2e/pig/build.xml
+++ b/test/e2e/pig/build.xml
@@ -18,7 +18,10 @@
 <project name="TestHarnessPigTests" default="test">
 
   <property name="pig.dir" value="${basedir}/../../.."/>
-  <property name="pig.jar" value="${pig.dir}/pig.jar"/>
+  <condition property="pig.jarname" value="pig-h2.jar" else="pig-h1.jar">
+    <equals arg1="${hadoopversion}" arg2="23" />
+  </condition>
+  <property name="pig.jar" value="${pig.dir}/${pig.jarname}"/>
   <property name="ivy.dir" location="${pig.dir}/ivy" />
   <loadproperties srcfile="${ivy.dir}/libraries.properties"/>
 
diff --git a/test/perf/pigmix/build.xml b/test/perf/pigmix/build.xml
index 6cc46c0ff..7d9a90ffc 100644
--- a/test/perf/pigmix/build.xml
+++ b/test/perf/pigmix/build.xml
@@ -19,7 +19,10 @@
 
   <property name="pig.dir" value="${basedir}/../../.."/>
   <property name="pig.bin" value="${pig.dir}/bin/pig"/>
-  <property name="pig.jar" value="${pig.dir}/pig.jar"/>
+  <condition property="pig.jarname" value="pig-h2.jar" else="pig-h1.jar">
+    <equals arg1="${hadoopversion}" arg2="23" />
+  </condition>
+  <property name="pig.jar" value="${pig.dir}/${pig.jarname}"/>
   <property name="ivy.dir" location="${pig.dir}/ivy" />
   <loadproperties srcfile="${ivy.dir}/libraries.properties"/>
 
