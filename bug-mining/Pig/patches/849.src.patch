diff --git a/CHANGES.txt b/CHANGES.txt
index dec069a95..ac2804183 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -176,6 +176,8 @@ PIG-2228: support partial aggregation in map task (thejas)
 
 BUG FIXES
 
+PIG-2184: Not able to provide positional reference to macro invocations (xutingz via daijy)
+
 PIG-2209: JsonMetadata fails to find schema for glob paths (daijy)
 
 PIG-2165: Need a way to deal with params and param_file in embedded pig in python (daijy)
diff --git a/src/org/apache/pig/parser/PigMacro.java b/src/org/apache/pig/parser/PigMacro.java
index bfcad8494..0e8f8a119 100644
--- a/src/org/apache/pig/parser/PigMacro.java
+++ b/src/org/apache/pig/parser/PigMacro.java
@@ -138,6 +138,8 @@ class PigMacro {
         
         String[] args = new String[params.size()];
         for (int i=0; i<params.size(); i++) {
+        	 if (inputs[i].startsWith("$"))
+        		 inputs[i]="\\\\"+inputs[i];
             args[i] = params.get(i) + "=" + inputs[i];
         }
         if (!isVoidReturn) {
diff --git a/src/org/apache/pig/parser/QueryParser.g b/src/org/apache/pig/parser/QueryParser.g
index e94f3252a..09a3d7bd3 100644
--- a/src/org/apache/pig/parser/QueryParser.g
+++ b/src/org/apache/pig/parser/QueryParser.g
@@ -197,6 +197,7 @@ parameter
     | INTEGER 
     | DOUBLENUMBER
     | QUOTEDSTRING
+    | DOLLARVAR
 ;
 
 content : LEFT_CURLY ( content | ~(LEFT_CURLY | RIGHT_CURLY) )* RIGHT_CURLY
diff --git a/test/org/apache/pig/test/TestMacroExpansion.java b/test/org/apache/pig/test/TestMacroExpansion.java
index 820e3bc90..a75b7a10e 100644
--- a/test/org/apache/pig/test/TestMacroExpansion.java
+++ b/test/org/apache/pig/test/TestMacroExpansion.java
@@ -1210,27 +1210,23 @@ public class TestMacroExpansion {
         validateFailure(sb.toString(), expectedErr, "at");
     }
     
-    @Test // PIG-2081
-    public void lineNumberTest3() throws Throwable {
-        StringBuilder sb = new StringBuilder();
-        
-        sb.append("DEFINE my_macro (X,key) returns Y\n" +
-            "{\n" +   
-            "tmp1 = foreach  $X generate TOKENIZE((chararray)$key) as tokens;\n" +
-            "tmp2 = foreach tmp1 generate flatten(tokens);\n" +
-            "tmp3 = order tmp2 by $0;\n" + 
-            "$Y = distinct tmp3;\n" +
-            "};\n");
-        
-        sb.append("A3 = load 'sometext3' using TextLoader() as (row3);\n");
-        
-        sb.append("E3 = my_macro(A3,$0);\n");
-
-        
-        String expectedErr = 
-            "<file myscript.pig, line 9, column 17>  Syntax error, unexpected symbol at or near '$0'";
-        
-        validateDryrunFailure(sb.toString(), expectedErr, "<file");
+    //see Pig-2184
+    @Test
+    public void testMacroAliasConversion() throws Exception {
+    	  String macro = "define my_macro (X,key) returns Y {\n" +
+    	        "$Y = filter $X by $key>0;\n" +
+    	            "};\n";
+    	        
+    	        String script = 
+    	            "A = load 'sometext1' using TextLoader() as (row1) ;\n" +
+    	            "E = my_macro (A, $0);\n" +
+    	            "store E into 'byrow1';\n";
+    	        
+    	        String expected =
+    	        			"A = load 'sometext1' USING TextLoader() as row1;\n"+
+    	        			"E = filter A BY ($0 > 0);\n"+
+    	        			"store E INTO 'byrow1';\n";
+    	        verify(macro + script, expected);
     }
     
     @Test
