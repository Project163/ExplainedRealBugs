diff --git a/CHANGES.txt b/CHANGES.txt
index 3a1eb178a..15d13c425 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -142,6 +142,8 @@ PIG-1696: Performance: Use System.arraycopy() instead of manually copying the by
 
 BUG FIXES
 
+PIG-1988: Importing an empty macro file causing NPE (rding)
+
 PIG-1977: "Stream closed" error while reading Pig temp files (results of intermediate jobs) (rding)
 
 PIG-1963: in nested foreach, accumutive udf taking input from order-by does not get results in order (thejas)
diff --git a/src/org/apache/pig/parser/QueryParserUtils.java b/src/org/apache/pig/parser/QueryParserUtils.java
index 4519d5f50..9a3f26db7 100644
--- a/src/org/apache/pig/parser/QueryParserUtils.java
+++ b/src/org/apache/pig/parser/QueryParserUtils.java
@@ -191,7 +191,10 @@ public class QueryParserUtils {
 
         for (int i = 0; i < count; i++) {
             if (i == idx) {
-                parent.addChildren(macroList);
+                // add only there is something to add
+                if (macroList != null) {
+                    parent.addChildren(macroList);
+                }
             } else {
                 parent.addChild((Tree) childList.get(i));
             }
diff --git a/test/org/apache/pig/test/TestMacroExpansion.java b/test/org/apache/pig/test/TestMacroExpansion.java
index b8639bf34..3536751e1 100644
--- a/test/org/apache/pig/test/TestMacroExpansion.java
+++ b/test/org/apache/pig/test/TestMacroExpansion.java
@@ -1663,6 +1663,31 @@ public class TestMacroExpansion {
         testMacro( query, expected );
     }
     
+    // PIG-1988
+    @Test
+    public void test36() throws Exception {
+        File f = new File("mymacro.pig");
+        f.deleteOnExit();
+        
+        FileWriter fw = new FileWriter(f);
+        fw.append(" ");
+        fw.close();
+
+        String query = "import 'mymacro.pig';" +
+            "define macro1() returns dummy {}; " + 
+            "A = load '1.txt' as (a0:int, a1:chararray);" +
+            "dummy = macro1();" +
+            "B = group A by a0;" + 
+            "store B into 'output';";
+        
+        String expected = 
+            "A = load '1.txt' as (a0:int, a1:chararray);\n" +
+            "B = group A by (a0);\n" +
+            "store B INTO 'output';\n";
+        
+        verify(query, expected);
+    }
+    
     @Test
     public void testCommentInMacro() throws Exception {
         String query = "a = load 'testComplexCast' as (m);\n" +
@@ -1734,7 +1759,11 @@ public class TestMacroExpansion {
         
         String[] args = { "-Dpig.import.search.path=/tmp", "-x", "local", "-c", "myscript.pig" };
         PigStats stats = PigRunner.run(args, null);
- 
+        
+        if (!stats.isSuccessful()) {
+            System.out.println("error msg: " + stats.getErrorMessage());
+        }
+        
         assertTrue(stats.isSuccessful());
         
         String[] args2 = { "-Dpig.import.search.path=/tmp", "-x", "local", "-r", "myscript.pig" };
