diff --git a/CHANGES.txt b/CHANGES.txt
index d1fff3291..6ff460e93 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -95,6 +95,8 @@ PIG-3013: BinInterSedes improve chararray sort performance (rohini)
 
 BUG FIXES
 
+PIG-3137: Fix Piggybank test to not using /tmp dir (dreambird via cheolsoo)
+
 PIG-3135: HExecutionEngine should look for resources in user passed Properties (prkommireddi via cheolsoo)
 
 PIG-3145: Parameters in core-site.xml and mapred-site.xml are not correctly substituted (cheolsoo)
diff --git a/contrib/piggybank/java/build.xml b/contrib/piggybank/java/build.xml
index 0bc5e9596..af1c533bc 100755
--- a/contrib/piggybank/java/build.xml
+++ b/contrib/piggybank/java/build.xml
@@ -113,7 +113,7 @@
         <echo> *** Running UDF tests ***</echo>
         <delete dir="${test.logs}"/>
         <mkdir dir="${test.logs}"/>
-        <tempfile property="junit.tmp.dir" prefix="piggybank_junit_tmp" destDir="${java.io.tmpdir}" />
+        <tempfile property="junit.tmp.dir" prefix="piggybank_junit_tmp" destDir="${user.dir}/build/test" />
         <mkdir dir="${junit.tmp.dir}/"/>
         <junit printsummary="yes" haltonfailure="no" fork="yes" maxmemory="512m" dir="${basedir}" timeout="${test.timeout}" errorProperty="tests.failed" failureProperty="tests.failed">        
             <sysproperty key="hadoop.log.dir" value="${test.logs}"/>
diff --git a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestDBStorage.java b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestDBStorage.java
index c5e52b367..fbae19791 100644
--- a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestDBStorage.java
+++ b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestDBStorage.java
@@ -51,10 +51,10 @@ public class TestDBStorage extends TestCase {
 	private Server dbServer;
 	private String driver = "org.hsqldb.jdbcDriver";
 	// private String url = "jdbc:hsqldb:mem:.";
-	private String dblocation = "/tmp/batchtest";
-	private String url = "jdbc:hsqldb:file:" + dblocation
-			+ ";hsqldb.default_table_type=cached;hsqldb.cache_rows=100";
-	  private String dbUrl = "jdbc:hsqldb:hsql://localhost/" + "batchtest";
+    private String TMP_DIR;
+    private String dblocation;
+    private String url;
+    private String dbUrl = "jdbc:hsqldb:hsql://localhost/" + "batchtest";
 	private String user = "sa";
 	private String password = "";
 
@@ -69,12 +69,16 @@ public class TestDBStorage extends TestCase {
 		pigServer.getPigContext().getProperties()
 				.setProperty("mapred.reduce.max.attempts", "1");
 		System.out.println("Pig server initialized successfully");
+        TMP_DIR = System.getProperty("user.dir") + "/build/test/";
+        dblocation = TMP_DIR + "batchtest";
+        url = "jdbc:hsqldb:file:" + dblocation
+               + ";hsqldb.default_table_type=cached;hsqldb.cache_rows=100";
 		// Initialise DBServer
 		dbServer = new Server();
 		dbServer.setDatabaseName(0, "batchtest");
 		// dbServer.setDatabasePath(0, "mem:test;sql.enforce_strict_size=true");
 		dbServer.setDatabasePath(0,
-				"file:/tmp/batchtest;sql.enforce_strict_size=true");
+                            "file:" + TMP_DIR + "batchtest;sql.enforce_strict_size=true");
 		dbServer.setLogWriter(null);
 		dbServer.setErrWriter(null);
 		dbServer.start();                                                                     
@@ -111,7 +115,7 @@ public class TestDBStorage extends TestCase {
 			Statement st = con.createStatement();
 			st.executeUpdate(sql);
 			st.close();
-			 con.commit();
+			con.commit();
 			con.close();
 		} catch (SQLException sqe) {
 			throw new IOException("Cannot create table", sqe);
@@ -131,7 +135,7 @@ public class TestDBStorage extends TestCase {
 		pigServer.shutdown();
 		dbServer.stop();
 
-		File[] dbFiles = new File("/tmp").listFiles(new FilenameFilter() {
+		File[] dbFiles = new File(TMP_DIR).listFiles(new FilenameFilter() {
 			@Override
 			public boolean accept(File dir, String name) {
 				if (name.startsWith("batchtest")) {
diff --git a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/avro/TestAvroStorage.java b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/avro/TestAvroStorage.java
index 28a448f7a..bd7a6d207 100644
--- a/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/avro/TestAvroStorage.java
+++ b/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/avro/TestAvroStorage.java
@@ -32,6 +32,7 @@ import org.apache.pig.backend.executionengine.ExecException;
 import org.apache.pig.backend.executionengine.ExecJob;
 import org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS;
 import org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobCreationException;
+import org.apache.pig.impl.io.FileLocalizer;
 import org.apache.pig.impl.logicalLayer.FrontendException;
 import org.apache.pig.piggybank.storage.avro.AvroStorage;
 import org.apache.pig.piggybank.storage.avro.PigSchema2Avro;
@@ -59,7 +60,7 @@ public class TestAvroStorage {
 
     final private static String basedir = "src/test/java/org/apache/pig/piggybank/test/storage/avro/avro_test_files/";
 
-    final private static String outbasedir = "/tmp/TestAvroStorage/";
+    private static String outbasedir;
 
     public static final PathFilter hiddenPathFilter = new PathFilter() {
         public boolean accept(Path p) {
@@ -164,8 +165,11 @@ public class TestAvroStorage {
     final private String testMultipleSchemas2File = getInputFile("test_complex_types/*");
 
     @BeforeClass
-    public static void setup() throws ExecException {
+    public static void setup() throws ExecException, IOException {
         pigServerLocal = new PigServer(ExecType.LOCAL);
+        String TMP_DIR = System.getProperty("user.dir") + "/build/test/tmp/";
+        pigServerLocal.getPigContext().getProperties().setProperty("pig.temp.dir", TMP_DIR);
+        outbasedir = FileLocalizer.getTemporaryPath(pigServerLocal.getPigContext()).toString() + "/TestAvroStorage/";
         deleteDirectory(new File(outbasedir));
     }
 
