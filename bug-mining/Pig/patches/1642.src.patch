diff --git a/CHANGES.txt b/CHANGES.txt
index 415ddf344..f7b094ae6 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -57,6 +57,8 @@ BUG FIXES
 
 PIG-4334: PigProcessor does not set pig.datetime.default.tz (rohini)
 
+PIG-4342: Pig 0.14 cannot identify the uppercase of DECLARE and DEFAULT (daijy)
+
 Release 0.14.0
  
 INCOMPATIBLE CHANGES
diff --git a/src/org/apache/pig/tools/parameters/PreprocessorContext.java b/src/org/apache/pig/tools/parameters/PreprocessorContext.java
index 8cf8a40a7..40f78b201 100644
--- a/src/org/apache/pig/tools/parameters/PreprocessorContext.java
+++ b/src/org/apache/pig/tools/parameters/PreprocessorContext.java
@@ -155,9 +155,9 @@ public class PreprocessorContext {
         final String declareToken = "%declare";
         final String defaultToken = "%default";
 
-        if (preprocessorCmd.equals(declareToken)) {
+        if (preprocessorCmd.toLowerCase().equals(declareToken)) {
             filter.validate(PigCommandFilter.Command.DECLARE);
-        } else if (preprocessorCmd.equals(defaultToken)) {
+        } else if (preprocessorCmd.toLowerCase().equals(defaultToken)) {
             filter.validate(PigCommandFilter.Command.DEFAULT);
         } else {
             throw new IllegalArgumentException("Pig Internal Error. Invalid preprocessor command specified : "
diff --git a/test/org/apache/pig/test/TestBlackAndWhitelistValidator.java b/test/org/apache/pig/test/TestBlackAndWhitelistValidator.java
index 7634100e7..5ec0f278d 100644
--- a/test/org/apache/pig/test/TestBlackAndWhitelistValidator.java
+++ b/test/org/apache/pig/test/TestBlackAndWhitelistValidator.java
@@ -144,7 +144,7 @@ public class TestBlackAndWhitelistValidator {
 
             StringBuilder script = new StringBuilder();
             script.append("set io.sort.mb 1000;")
-            .append("%default input 'foo';")
+            .append("%Default input 'foo';")
                     .append("A = LOAD '$input' USING mock.Storage() AS (f1:chararray,f2:int,f3:chararray);")
                     .append("B = order A by f1,f2,f3 DESC;")
                     .append("STORE B INTO 'bar' USING mock.Storage();");
@@ -162,7 +162,7 @@ public class TestBlackAndWhitelistValidator {
     @Test
     public void testPreprocessorCommand3() throws Exception {
         try {
-            ctx.getProperties().setProperty(PigConfiguration.PIG_BLACKLIST, "define");
+            ctx.getProperties().setProperty(PigConfiguration.PIG_BLACKLIST, "Define");
             PigServer pigServer = new PigServer(ctx);
             Data data = resetData(pigServer);
 
