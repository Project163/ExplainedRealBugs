diff --git a/CHANGES.txt b/CHANGES.txt
index 14aa85900..08c8f4374 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -24,6 +24,8 @@ INCOMPATIBLE CHANGES
 
 IMPROVEMENTS
 
+PIG-1396: eclipse-files target in build.xml fails to generate necessary classes in src-gen
+
 PIG-1390: Provide a target to generate eclipse-related classpath and files (chaitk via thejas)
 
 PIG-1384: Adding contrib javadoc to main Pig javadoc (daijy)
diff --git a/build.xml b/build.xml
index 90cc9c4b6..03c5dc0b1 100644
--- a/build.xml
+++ b/build.xml
@@ -234,21 +234,21 @@
         <delete dir="${src.gen.dot.parser.dir}" />
     </target>
     
-    <target name="eclipse-files" depends="init, ivy-buildJar"
+    <target name="eclipse-files" depends="compile, ivy-buildJar"
 			description="Generate files for Eclipse">
-	  <pathconvert property="eclipse.project">
-	    <path path="${basedir}"/>
-	    <regexpmapper from="^.*/([^/]+)$$" to="\1" handledirsep="yes"/>
-	  </pathconvert>
-	  <copy todir="." overwrite="true">
-	    <fileset dir=".eclipse.templates">
-	      <exclude name="**/README.txt"/>
-	    </fileset>
-	    <filterset>
-	      <filter token="PROJECT" value="${eclipse.project}"/>
-	    </filterset>
-	  </copy>
-	</target>
+        <pathconvert property="eclipse.project">
+            <path path="${basedir}"/>
+            <regexpmapper from="^.*/([^/]+)$$" to="\1" handledirsep="yes"/>
+        </pathconvert>
+	<copy todir="." overwrite="true">
+            <fileset dir=".eclipse.templates">
+                <exclude name="**/README.txt"/>
+            </fileset>
+            <filterset>
+                <filter token="PROJECT" value="${eclipse.project}"/>
+            </filterset>
+        </copy>
+    </target>
 
     <!-- ================================================================== -->
     <!-- Java Compiler Compiler, generate Parsers                           -->
