diff --git a/CHANGES.txt b/CHANGES.txt
index 920904eb2..2fc936ed9 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -24,6 +24,8 @@ INCOMPATIBLE CHANGES
 
 IMPROVEMENTS
 
+PIG-1373: We need to add jdiff output to docs on the website (daijy)
+
 PIG-1422: Duplicate code in LOPrinter.java (zjffdu)
 
 PIG-1420: Make CONCAT act on all fields of a tuple, instead of just the first two fields of a tuple (rjurney via dvryaboy)
diff --git a/build.xml b/build.xml
index d5bb25a26..334824bcf 100644
--- a/build.xml
+++ b/build.xml
@@ -154,7 +154,7 @@
     <property name="xerces.jar" value="${ivy.lib.dir}/xerces-${xerces.version}.jar"/>
     <property name="jdiff.build.dir" value="${build.docs}/jdiff"/>						
     <property name="jdiff.xml.dir" value="${lib.dir}/jdiff"/>	
-    <property name="jdiff.stable" value="0.3.1"/>
+    <property name="jdiff.stable" value="0.7.0"/>
     <property name="jdiff.stable.javadoc" value="http://hadoop.apache.org/${name}/docs/r${jdiff.stable}/api/"/>	
 
     <!-- ====================================================== -->
diff --git a/lib/jdiff/pig_0.3.1.xml b/lib/jdiff/pig_0.7.0.xml
similarity index 72%
rename from lib/jdiff/pig_0.3.1.xml
rename to lib/jdiff/pig_0.7.0.xml
index 01c6ff7ee..2533ab301 100644
--- a/lib/jdiff/pig_0.3.1.xml
+++ b/lib/jdiff/pig_0.7.0.xml
@@ -1,32 +1,50 @@
 <?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
-<!--
-   Licensed to the Apache Software Foundation (ASF) under one or more
-   contributor license agreements.  See the NOTICE file distributed with
-   this work for additional information regarding copyright ownership.
-   The ASF licenses this file to You under the Apache License, Version 2.0
-   (the "License"); you may not use this file except in compliance with
-   the License.  You may obtain a copy of the License at
-
-       http://www.apache.org/licenses/LICENSE-2.0
-
-   Unless required by applicable law or agreed to in writing, software
-   distributed under the License is distributed on an "AS IS" BASIS,
-   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-   See the License for the specific language governing permissions and
-   limitations under the License.
--->
 <!-- Generated by the JDiff Javadoc doclet -->
 <!-- (http://www.jdiff.org) -->
-<!-- on Mon Sep 07 22:28:48 PDT 2009 -->
+<!-- on Wed May 05 11:19:29 PDT 2010 -->
 
 <api
   xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
   xsi:noNamespaceSchemaLocation='api.xsd'
-  name="pig 0.3.1"
+  name="pig 0.7.0"
   jdversion="1.0.9">
 
-<!--  Command line arguments =  -doclet jdiff.JDiff -docletpath /home/gkesavan/clean_code/pig/branch-0.3/build/ivy/lib/Pig/jdiff-1.0.9.jar:/home/gkesavan/clean_code/pig/branch-0.3/build/ivy/lib/Pig/xerces-1.4.4.jar -classpath /home/gkesavan/clean_code/pig/branch-0.3/lib/hbase-0.18.1.jar:/home/gkesavan/clean_code/pig/branch-0.3/lib/hbase-0.18.1-test.jar:/home/gkesavan/.ivy2/cache/com.jcraft/jsch/jars/jsch-0.1.38.jar:/home/gkesavan/.ivy2/cache/jline/jline/jars/jline-0.9.94.jar:/home/gkesavan/.ivy2/cache/net.java.dev.javacc/javacc/jars/javacc-4.2.jar:/home/gkesavan/.ivy2/cache/junit/junit/jars/junit-4.5.jar:/home/gkesavan/clean_code/pig/branch-0.3/build/pig-0.3.1.jar -sourcepath /home/gkesavan/clean_code/pig/branch-0.3/src -apidir /home/gkesavan/clean_code/pig/branch-0.3/lib/jdiff -apiname pig 0.3.1 -->
+<!--  Command line arguments =  -doclet jdiff.JDiff -docletpath /homes/jianyong/pig7/build/ivy/lib/Pig/jdiff-1.0.9.jar:/homes/jianyong/pig7/build/ivy/lib/Pig/xerces-1.4.4.jar -classpath /homes/jianyong/pig7/lib/hbase-0.20.0.jar:/homes/jianyong/pig7/lib/hbase-0.20.0-test.jar:/homes/jianyong/.ivy2/cache/com.jcraft/jsch/jars/jsch-0.1.38.jar:/homes/jianyong/.ivy2/cache/jline/jline/jars/jline-0.9.94.jar:/homes/jianyong/.ivy2/cache/net.java.dev.javacc/javacc/jars/javacc-4.2.jar:/homes/jianyong/.ivy2/cache/org.codehaus.jackson/jackson-mapper-asl/jars/jackson-mapper-asl-1.0.1.jar:/homes/jianyong/.ivy2/cache/org.codehaus.jackson/jackson-core-asl/jars/jackson-core-asl-1.0.1.jar:/homes/jianyong/.ivy2/cache/joda-time/joda-time/jars/joda-time-1.6.jar:/homes/jianyong/.ivy2/cache/junit/junit/jars/junit-4.5.jar:/homes/jianyong/pig7/build/pig-0.7.0.jar -sourcepath /homes/jianyong/pig7/src -apidir /homes/jianyong/pig7/lib//jdiff -apiname pig 0.7.0 -->
 <package name="org.apache.pig">
+  <!-- start interface org.apache.pig.Accumulator -->
+  <interface name="Accumulator"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Pass tuples to the UDF.  You can retrive DataBag by calling b.get(index). 
+ Each DataBag may contain 0 to many tuples for current key]]>
+      </doc>
+    </method>
+    <method name="getValue" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Called when all tuples from current key have been passed to accumulate.
+ @return the value for the UDF for this key.]]>
+      </doc>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Called after getValue() to prepare processing for next key.]]>
+      </doc>
+    </method>
+  </interface>
+  <!-- end interface org.apache.pig.Accumulator -->
   <!-- start interface org.apache.pig.Algebraic -->
   <interface name="Algebraic"    abstract="true"
     static="false" final="false" visibility="public"
@@ -73,6 +91,31 @@
     </doc>
   </interface>
   <!-- end interface org.apache.pig.Algebraic -->
+  <!-- start interface org.apache.pig.CollectableLoadFunc -->
+  <interface name="CollectableLoadFunc"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="ensureAllKeyInstancesInSameSplit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[When this method is called, Pig is communicating to Loader that it must
+ load data such that all instances of a key are in same split. Pig will
+ make no further checks at runtime to ensure whether contract is honored
+ or not.
+ @throws IOException]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[This interface implemented by {@link LoadFunc} implementations indicates to 
+ Pig that it has the capability to load data such that all instances of a key 
+ will occur in same split.
+ @since Pig 0.7]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.CollectableLoadFunc -->
   <!-- start class org.apache.pig.ComparisonFunc -->
   <class name="ComparisonFunc" extends="org.apache.hadoop.io.WritableComparator"
     abstract="true"
@@ -317,6 +360,322 @@
     </doc>
   </class>
   <!-- end class org.apache.pig.ExecType -->
+  <!-- start class org.apache.pig.Expression -->
+  <class name="Expression" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Expression"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getOpType" return="org.apache.pig.Expression.OpType"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the opType]]>
+      </doc>
+    </method>
+    <field name="opType" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[A class to communicate Filter expressions to LoadFuncs]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.Expression -->
+  <!-- start class org.apache.pig.Expression.BinaryExpression -->
+  <class name="Expression.BinaryExpression" extends="org.apache.pig.Expression"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Expression.BinaryExpression" type="org.apache.pig.Expression, org.apache.pig.Expression, org.apache.pig.Expression.OpType"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param lhs
+ @param rhs]]>
+      </doc>
+    </constructor>
+    <method name="getLhs" return="org.apache.pig.Expression"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the left hand operand]]>
+      </doc>
+    </method>
+    <method name="getRhs" return="org.apache.pig.Expression"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the right hand operand]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.Expression.BinaryExpression -->
+  <!-- start class org.apache.pig.Expression.Column -->
+  <class name="Expression.Column" extends="org.apache.pig.Expression"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Expression.Column" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param name]]>
+      </doc>
+    </constructor>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getName" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the name]]>
+      </doc>
+    </method>
+    <method name="setName"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <doc>
+      <![CDATA[@param name the name to set]]>
+      </doc>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.Expression.Column -->
+  <!-- start class org.apache.pig.Expression.Const -->
+  <class name="Expression.Const" extends="org.apache.pig.Expression"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Expression.Const" type="java.lang.Object"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param value]]>
+      </doc>
+    </constructor>
+    <method name="getValue" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the value]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.Expression.Const -->
+  <!-- start class org.apache.pig.Expression.OpType -->
+  <class name="Expression.OpType" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.Expression.OpType[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.Expression.OpType"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <field name="OP_PLUS" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_MINUS" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_TIMES" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_DIV" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_MOD" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_EQ" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_NE" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_GT" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_GE" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_LT" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_LE" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_AND" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="OP_OR" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="TERM_COL" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="TERM_CONST" type="org.apache.pig.Expression.OpType"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.Expression.OpType -->
+  <!-- start class org.apache.pig.FileInputLoadFunc -->
+  <class name="FileInputLoadFunc" extends="org.apache.pig.LoadFunc"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.OrderedLoadFunc"/>
+    <constructor name="FileInputLoadFunc"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getSplitComparable" return="org.apache.hadoop.io.WritableComparable"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[This class provides an implementation of OrderedLoadFunc interface
+ which can be optionally re-used by LoadFuncs that use FileInputFormat, by
+ having this as a super class]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.FileInputLoadFunc -->
+  <!-- start class org.apache.pig.FileSplitComparable -->
+  <class name="FileSplitComparable" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.io.WritableComparable"/>
+    <implements name="java.io.Serializable"/>
+    <constructor name="FileSplitComparable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="FileSplitComparable" type="java.lang.String, long"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.FileSplitComparable"/>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="obj" type="java.lang.Object"/>
+    </method>
+    <field name="filename" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="offset" type="java.lang.Long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[This class can be used to represent a relative position in a file. 
+ compareTo(other) function of WritaleComparable interface is used to compare
+ position of different objects of this class.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.FileSplitComparable -->
   <!-- start class org.apache.pig.FilterFunc -->
   <class name="FilterFunc" extends="org.apache.pig.EvalFunc"
     abstract="true"
@@ -464,6 +823,17 @@
       <![CDATA[@param inputArgsSchema the inputArgsSchema to set]]>
       </doc>
     </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="clone" return="org.apache.pig.FuncSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -476,67 +846,102 @@
     </doc>
   </class>
   <!-- end class org.apache.pig.FuncSpec -->
-  <!-- start interface org.apache.pig.LoadFunc -->
-  <interface name="LoadFunc"    abstract="true"
+  <!-- start interface org.apache.pig.IndexableLoadFunc -->
+  <interface name="IndexableLoadFunc"    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="bindTo"
+    <method name="initialize"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="is" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Specifies a portion of an InputStream to read tuples. Because the
- starting and ending offsets may not be on record boundaries it is up to
- the implementor to deal with figuring out the actual starting and ending
- offsets in such a way that an arbitrarily sliced up file will be processed
- in its entirety.
- <p>
- A common way of handling slices in the middle of records is to start at
- the given offset and, if the offset is not zero, skip to the end of the
- first record (which may be a partial record) before reading tuples.
- Reading continues until a tuple has been read that ends at an offset past
- the ending offset.
- <p>
- <b>The load function should not do any buffering on the input stream</b>. Buffering will
- cause the offsets returned by is.getPos() to be unreliable.
-  
- @param fileName the name of the file to be read
- @param is the stream representing the file to be processed, and which can also provide its position.
- @param offset the offset to start reading tuples.
- @param end the ending offset for reading.
- @throws IOException]]>
+      <![CDATA[This method is called by pig run time to allow the
+ IndexableLoadFunc to perform any initialization actions
+ @param conf The job configuration object]]>
       </doc>
     </method>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="seekNear"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="keys" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Retrieves the next tuple to be processed.
- @return the next tuple to be processed or null if there are no more tuples
- to be processed.
- @throws IOException]]>
+      <![CDATA[This method is called by the pig runtime to indicate
+ to the LoadFunc to position its underlying input stream
+ near the keys supplied as the argument. Specifically:
+ 1) if the keys are present in the input stream, the loadfunc
+ implementation should position its read position to 
+ a record where the key(s) is/are the biggest key(s) less than
+ the key(s) supplied in the argument OR to the record with the
+ first occurrence of the keys(s) supplied.
+ 2) if the key(s) are absent in the input stream, the implementation
+ should position its read position to a record where the key(s)
+ is/are the biggest key(s) less than the key(s) supplied OR to the
+ first record where the key(s) is/are the smallest key(s) greater
+ than the keys(s) supplied. 
+ The description above holds for descending order data in 
+ a similar manner with "biggest" and "less than" replaced with
+ "smallest" and "greater than" and vice versa.
+  
+ @param keys Tuple with join keys (which are a prefix of the sort
+ keys of the input data). For example if the data is sorted on
+ columns in position 2,4,5 any of the following Tuples are
+ valid as an argument value:
+ (fieldAt(2))
+ (fieldAt(2), fieldAt(4))
+ (fieldAt(2), fieldAt(4), fieldAt(5))
+ 
+ The following are some invalid cases:
+ (fieldAt(4))
+ (fieldAt(2), fieldAt(5))
+ (fieldAt(4), fieldAt(5))
+ 
+ @throws IOException When the loadFunc is unable to position
+ to the required point in its input stream]]>
       </doc>
     </method>
-    <method name="bytesToInteger" return="java.lang.Integer"
+    <method name="close"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Cast data from bytes to integer value.  
- @param b byte array to be cast.
- @return Integer value.
- @throws IOException if the value cannot be cast.]]>
+      <![CDATA[A method called by the pig runtime to give an opportunity
+ for implementations to perform cleanup actions like closing
+ the underlying input stream. This is necessary since while
+ performing a join the pig run time may determine than no further
+ join is possible with remaining records and may indicate to the
+ IndexableLoader to cleanup by calling this method.
+ 
+ @throws IOException if the loadfunc is unable to perform
+ its close actions.]]>
       </doc>
     </method>
+    <doc>
+    <![CDATA[This class is intended for use by LoadFunc implementations
+ which have an internal index for sorted data and can use the index
+ to support merge join in pig. Interaction with the index 
+ is abstracted away by the methods in this interface which the pig
+ runtime will call in a particular sequence to get the records it
+ needs to perform the merge based join.
+ 
+ The sequence of calls made from the pig runtime are:
+ {@link LoadFunc#setUDFContextSignature(String)}
+ {@link IndexableLoadFunc#initialize(Configuration)}
+ {@link LoadFunc#setLocation(String, org.apache.hadoop.mapreduce.Job)}
+ {@link IndexableLoadFunc#seekNear(Tuple)}
+ A series of IndexableLoadFunc.getNext(); calls to perform the join
+ IndexableLoadFunc.close();]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.IndexableLoadFunc -->
+  <!-- start interface org.apache.pig.LoadCaster -->
+  <interface name="LoadCaster"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
     <method name="bytesToLong" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -573,6 +978,19 @@
       <![CDATA[Cast data from bytes to double value.  
  @param b byte array to be cast.
  @return Double value.
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Cast data from bytes to integer value.  
+ @param b byte array to be cast.
+ @return Double value.
  @throws IOException if the value cannot be cast.]]>
       </doc>
     </method>
@@ -607,10 +1025,12 @@
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="b" type="byte[]"/>
+      <param name="fieldSchema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
       <![CDATA[Cast data from bytes to tuple value.  
  @param b byte array to be cast.
+ @param fieldSchema field schema for the output tuple
  @return Tuple value.
  @throws IOException if the value cannot be cast.]]>
       </doc>
@@ -620,210 +1040,718 @@
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="b" type="byte[]"/>
+      <param name="fieldSchema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
       <![CDATA[Cast data from bytes to bag value.  
  @param b byte array to be cast.
+ @param fieldSchema field schema for the output bag
  @return Bag value.
  @throws IOException if the value cannot be cast.]]>
       </doc>
     </method>
-    <method name="fieldsToRead"
+  </interface>
+  <!-- end interface org.apache.pig.LoadCaster -->
+  <!-- start class org.apache.pig.LoadFunc -->
+  <class name="LoadFunc" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LoadFunc"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="relativeToAbsolutePath" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Indicate to the loader fields that will be needed.  This can be useful for
- loaders that access data that is stored in a columnar format where indicating
- columns to be accessed a head of time will save scans.  If the loader
- function cannot make use of this information, it is free to ignore it.
- @param schema Schema indicating which columns will be needed.]]>
+      <![CDATA[This method is called by the Pig runtime in the front end to convert the
+ input location to an absolute path if the location is relative. The
+ loadFunc implementation is free to choose how it converts a relative 
+ location to an absolute location since this may depend on what the location
+ string represent (hdfs path or some other data source)
+ 
+ @param location location as provided in the "load" statement of the script
+ @param curDir the current working direction based on any "cd" statements
+ in the script before the "load" statement. If there are no "cd" statements
+ in the script, this would be the home directory - 
+ <pre>/user/<username> </pre>
+ @return the absolute location based on the arguments passed
+ @throws IOException if the conversion is not possible]]>
       </doc>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
-      abstract="false" native="false" synchronized="false"
+    <method name="setLocation"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Find the schema from the loader.  This function will be called at parse time
- (not run time) to see if the loader can provide a schema for the data.  The
- loader may be able to do this if the data is self describing (e.g. JSON).  If
- the loader cannot determine the schema, it can return a null.
- LoadFunc implementations which need to open the input "fileName", can use 
- FileLocalizer.open(String fileName, ExecType execType, DataStorage storage) to get
- an InputStream which they can use to initialize their loader implementation. They
- can then use this to read the input data to discover the schema. Note: this will
- work only when the fileName represents a file on Local File System or Hadoop file 
- system
- @param fileName Name of the file to be read.(this will be the same as the filename 
- in the "load statement of the script)
- @param execType - execution mode of the pig script - one of ExecType.LOCAL or ExecType.MAPREDUCE
- @param storage - the DataStorage object corresponding to the execType
- @return a Schema describing the data if possible, or null otherwise.
- @throws IOException.]]>
-      </doc>
-    </method>
-    <doc>
-    <![CDATA[This interface is used to implement functions to parse records
- from a dataset.  This also includes functions to cast raw byte data into various
- datatypes.  These are external functions because we want loaders, whenever
- possible, to delay casting of datatypes until the last possible moment (i.e.
- don't do it on load).  This means we need to expose the functionality so that
- other sections of the code can call back to the loader to do the cast.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.LoadFunc -->
-  <!-- start class org.apache.pig.Main -->
-  <class name="Main" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="Main"
+      <![CDATA[Communicate to the loader the location of the object(s) being loaded.  
+ The location string passed to the LoadFunc here is the return value of 
+ {@link LoadFunc#relativeToAbsolutePath(String, Path)}. Implementations
+ should use this method to communicate the location (and any other information)
+ to its underlying InputFormat through the Job object.
+ 
+ This method will be called in the backend multiple times. Implementations
+ should bear in mind that this method is called multiple times and should
+ ensure there are no inconsistent side effects due to the multiple calls.
+ 
+ @param location Location as returned by 
+ {@link LoadFunc#relativeToAbsolutePath(String, Path)}
+ @param job the {@link Job} object
+ store or retrieve earlier stored information from the {@link UDFContext}
+ @throws IOException if the location is not valid.]]>
+      </doc>
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="main"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="args" type="java.lang.String[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[The Main-Class for the Pig Jar that will provide a shell and setup a classpath appropriate
- for executing Jar files.
- 
- @param args
-            -jar can be used to add additional jar files (colon separated). - will start a
-            shell. -e will execute the rest of the command line as if it was input to the
-            shell.
- @throws IOException]]>
+      <![CDATA[This will be called during planning on the front end. This is the
+ instance of InputFormat (rather than the class name) because the 
+ load function may need to instantiate the InputFormat in order 
+ to control how it is constructed.
+ @return the InputFormat associated with this loader.
+ @throws IOException if there is an exception during InputFormat 
+ construction]]>
       </doc>
     </method>
-    <method name="usage"
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-  </class>
-  <!-- end class org.apache.pig.Main -->
-  <!-- start class org.apache.pig.PigException -->
-  <class name="PigException" extends="java.io.IOException"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="PigException"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with null as the error message.]]>
+      <![CDATA[This will be called on the front end during planning and not on the back 
+ end during execution.
+ @return the {@link LoadCaster} associated with this loader. Returning null 
+ indicates that casts from byte array are not supported for this loader. 
+ construction
+ @throws IOException if there is an exception during LoadCaster]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String"
+    </method>
+    <method name="prepareToRead"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
+      <![CDATA[Initializes LoadFunc for reading data.  This will be called during execution
+ before any calls to getNext.  The RecordReader needs to be passed here because
+ it has been instantiated for a particular InputSplit.
+ @param reader {@link RecordReader} to be used by this instance of the LoadFunc
+ @param split The input {@link PigSplit} to process
+ @throws IOException if there is an exception during initialization]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.Throwable"
+    </method>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified cause.
-
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[Retrieves the next tuple to be processed. Implementations should NOT reuse
+ tuple objects (or inner member objects) they return across calls and 
+ should return a different tuple object in each call.
+ @return the next tuple to be processed or null if there are no more tuples
+ to be processed.
+ @throws IOException if there is an exception while retrieving the next
+ tuple]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, java.lang.Throwable"
-      static="false" final="false" visibility="public"
+    </method>
+    <method name="join" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="s" type="java.util.AbstractCollection"/>
+      <param name="delimiter" type="java.lang.String"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[Join multiple strings into a string delimited by the given delimiter.
+ 
+ @param s a collection of strings
+ @param delimiter the delimiter 
+ @return a 'delimiter' separated string]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int"
-      static="false" final="false" visibility="public"
+    </method>
+    <method name="getPathStrings" return="java.lang.String[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="commaSeparatedPaths" type="java.lang.String"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user]]>
+      <![CDATA[Parse comma separated path strings into a string array. This method 
+ escapes commas in the Hadoop glob pattern of the given paths. 
+ 
+ This method is borrowed from 
+ {@link org.apache.hadoop.mapreduce.lib.input.FileInputFormat}. A jira
+ (MAPREDUCE-1205) is opened to make the same name method there 
+ accessible. We'll use that method directly when the jira is fixed.
+ 
+ @param commaSeparatedPaths a comma separated string
+ @return an array of path strings]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, java.lang.Throwable"
-      static="false" final="false" visibility="public"
+    </method>
+    <method name="getAbsolutePath" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[Construct the absolute path from the file location and the current
+ directory. The current directory is either of the form 
+ {code}hdfs://<nodename>:<nodeport>/<directory>{code} in Hadoop 
+ MapReduce mode, or of the form 
+ {code}file:///<directory>{code} in Hadoop local mode.
+ 
+ @param location the location string specified in the load statement
+ @param curDir the current file system directory
+ @return the absolute path of file in the file system
+ @throws FrontendException if the scheme of the location is incompatible
+         with the scheme of the file system]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, byte"
+    </method>
+    <method name="setUDFContextSignature"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source]]>
+      <![CDATA[This method will be called by Pig both in the front end and back end to
+ pass a unique signature to the {@link LoadFunc}. The signature can be used
+ to store into the {@link UDFContext} any information which the 
+ {@link LoadFunc} needs to store between various method invocations in the
+ front end and back end. A use case is to store {@link RequiredFieldList} 
+ passed to it in {@link LoadPushDown#pushProjection(RequiredFieldList)} for
+ use in the back end before returning tuples in {@link LoadFunc#getNext()}.
+ This method will be call before other methods in {@link LoadFunc}
+ @param signature a unique signature to identify this LoadFunc]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, byte, java.lang.Throwable"
+    </method>
+    <doc>
+    <![CDATA[<code>LoadFunc</code> provides functions directly associated with reading 
+ records from data set.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.LoadFunc -->
+  <!-- start interface org.apache.pig.LoadMetadata -->
+  <interface name="LoadMetadata"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="getSchema" return="org.apache.pig.ResourceSchema"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[Get a schema for the data to be loaded.  
+ @param location Location as returned by 
+ {@link LoadFunc#relativeToAbsolutePath(String, org.apache.hadoop.fs.Path)}
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.  
+ @return schema for the data to be loaded. This schema should represent
+ all tuples of the returned data.  If the schema is unknown or it is
+ not possible to return a schema that represents all returned data,
+ then null should be returned. The schema should not be affected by pushProjection, ie.
+ getSchema should always return the original schema even after pushProjection
+ @throws IOException if an exception occurs while determining the schema]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, boolean"
+    </method>
+    <method name="getStatistics" return="org.apache.pig.ResourceStatistics"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param retry - If the exception is retriable or not]]>
+      <![CDATA[Get statistics about the data to be loaded.  If no statistics are
+ available, then null should be returned.
+ @param location Location as returned by 
+ {@link LoadFunc#relativeToAbsolutePath(String, org.apache.hadoop.fs.Path)}
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.  
+ @return statistics about the data to be loaded.  If no statistics are
+ available, then null should be returned.
+ @throws IOException if an exception occurs while retrieving statistics]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, byte, boolean"
+    </method>
+    <method name="getPartitionKeys" return="java.lang.String[]"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not]]>
+      <![CDATA[Find what columns are partition keys for this input.
+ @param location Location as returned by 
+ {@link LoadFunc#relativeToAbsolutePath(String, org.apache.hadoop.fs.Path)}
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.  
+ @return array of field names of the partition keys. Implementations 
+ should return null to indicate that there are no partition keys
+ @throws IOException if an exception occurs while retrieving partition keys]]>
       </doc>
-    </constructor>
-    <constructor name="PigException" type="java.lang.String, int, byte, boolean, java.lang.String"
+    </method>
+    <method name="setPartitionFilter"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="partitionFilter" type="org.apache.pig.Expression"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a new PigException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+      <![CDATA[Set the filter for partitioning.  It is assumed that this filter
+ will only contain references to fields given as partition keys in
+ getPartitionKeys. So if the implementation returns null in 
+ {@link #getPartitionKeys(String, Job)}, then this method is not
+ called by pig runtime. This method is also not called by the pig runtime
+ if there are no partition filter conditions. 
+ @param partitionFilter that describes filter for partitioning
+ @throws IOException if the filter is not compatible with the storage
+ mechanism or contains non-partition fields.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[This interface defines how to retrieve metadata related to data to be loaded.
+ If a given loader does not implement this interface, it will be assumed that it
+ is unable to provide metadata about the associated data.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.LoadMetadata -->
+  <!-- start interface org.apache.pig.LoadPushDown -->
+  <interface name="LoadPushDown"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="getFeatures" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Determine the operators that can be pushed to the loader.  
+ Note that by indicating a loader can accept a certain operator
+ (such as selection) the loader is not promising that it can handle
+ all selections.  When it is passed the actual operators to 
+ push down it will still have a chance to reject them.
+ @return list of all features that the loader can support]]>
+      </doc>
+    </method>
+    <method name="pushProjection" return="org.apache.pig.LoadPushDown.RequiredFieldResponse"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="requiredFieldList" type="org.apache.pig.LoadPushDown.RequiredFieldList"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <doc>
+      <![CDATA[Indicate to the loader fields that will be needed.  This can be useful for
+ loaders that access data that is stored in a columnar format where indicating
+ columns to be accessed a head of time will save scans.  This method will
+ not be invoked by the Pig runtime if all fields are required. So implementations
+ should assume that if this method is not invoked, then all fields from 
+ the input are required. If the loader function cannot make use of this 
+ information, it is free to ignore it by returning an appropriate Response
+ @param requiredFieldList RequiredFieldList indicating which columns will be needed.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[This interface defines how to communicate to Pig what functionality can
+ be pushed into the loader.  If a given loader does not implement this interface
+ it will be assumed that it is unable to accept any functionality for push down.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.LoadPushDown -->
+  <!-- start class org.apache.pig.LoadPushDown.OperatorSet -->
+  <class name="LoadPushDown.OperatorSet" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.LoadPushDown.OperatorSet[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.LoadPushDown.OperatorSet"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="PROJECTION" type="org.apache.pig.LoadPushDown.OperatorSet"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Set of possible operations that Pig can push down to a loader.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.LoadPushDown.OperatorSet -->
+  <!-- start class org.apache.pig.LoadPushDown.RequiredField -->
+  <class name="LoadPushDown.RequiredField" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <constructor name="LoadPushDown.RequiredField"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="LoadPushDown.RequiredField" type="java.lang.String, int, java.util.List, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param alias
+ @param index
+ @param subFields
+ @param type]]>
+      </doc>
+    </constructor>
+    <method name="getAlias" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the alias]]>
+      </doc>
+    </method>
+    <method name="getIndex" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the index]]>
+      </doc>
+    </method>
+    <method name="getSubFields" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the required sub fields. The return value is null if all
+         subfields are required]]>
+      </doc>
+    </method>
+    <method name="setSubFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="subFields" type="java.util.List"/>
+    </method>
+    <method name="getType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the type]]>
+      </doc>
+    </method>
+    <method name="setType"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="byte"/>
+    </method>
+    <method name="setIndex"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+    </method>
+    <method name="setAlias"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="alias" type="java.lang.String"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.LoadPushDown.RequiredField -->
+  <!-- start class org.apache.pig.LoadPushDown.RequiredFieldList -->
+  <class name="LoadPushDown.RequiredFieldList" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <constructor name="LoadPushDown.RequiredFieldList" type="java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param fields]]>
+      </doc>
+    </constructor>
+    <constructor name="LoadPushDown.RequiredFieldList"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getFields" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the required fields - this will be null if all fields are
+         required]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rf" type="org.apache.pig.LoadPushDown.RequiredField"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.LoadPushDown.RequiredFieldList -->
+  <!-- start class org.apache.pig.LoadPushDown.RequiredFieldResponse -->
+  <class name="LoadPushDown.RequiredFieldResponse" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LoadPushDown.RequiredFieldResponse" type="boolean"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getRequiredFieldResponse" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setRequiredFieldResponse"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="honored" type="boolean"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.LoadPushDown.RequiredFieldResponse -->
+  <!-- start class org.apache.pig.Main -->
+  <class name="Main" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Main"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="main"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="args" type="java.lang.String[]"/>
+      <doc>
+      <![CDATA[The Main-Class for the Pig Jar that will provide a shell and setup a classpath appropriate
+ for executing Jar files.
+ 
+ @param args
+            -jar can be used to add additional jar files (colon separated). - will start a
+            shell. -e will execute the rest of the command line as if it was input to the
+            shell.
+ @throws IOException]]>
+      </doc>
+    </method>
+    <method name="usage"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.Main -->
+  <!-- start interface org.apache.pig.OrderedLoadFunc -->
+  <interface name="OrderedLoadFunc"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="getSplitComparable" return="org.apache.hadoop.io.WritableComparable"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[The WritableComparable object returned will be used to compare
+ the position of different splits in an ordered stream
+ @param split
+ @return WritableComparable representing the position of the split in input
+ @throws IOException]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[Implementing this interface indicates to Pig that a given loader
+ can be used for MergeJoin. The position as represented by the
+ WritableComparable object is stored in the index created by
+  MergeJoin sampling MR job to get an ordered sequence of splits.
+ This is necessary when the sort key spans multiple splits.
+ @since Pig 0.7]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.OrderedLoadFunc -->
+  <!-- start class org.apache.pig.PigCounters -->
+  <class name="PigCounters" extends="java.lang.Enum"
+    abstract="false"
+    static="false" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.PigCounters[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.PigCounters"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="SPILLABLE_MEMORY_MANAGER_SPILL_COUNT" type="org.apache.pig.PigCounters"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="PROACTIVE_SPILL_COUNT" type="org.apache.pig.PigCounters"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[The following enum will contain the general counters that pig uses.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.PigCounters -->
+  <!-- start class org.apache.pig.PigException -->
+  <class name="PigException" extends="java.io.IOException"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigException"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with null as the error message.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified cause.
+
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, byte, java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, boolean"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, byte, boolean"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="PigException" type="java.lang.String, int, byte, boolean, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new PigException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
  @param errSrc - The error source 
  @param retry - If the exception is retriable or not
@@ -1116,6 +2044,12 @@
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="setDefaultParallel"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="p" type="int"/>
+    </method>
     <method name="setBatchOn"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -1304,6 +2238,12 @@
       deprecated="not deprecated">
       <param name="name" type="java.lang.String"/>
     </method>
+    <method name="setJobPriority"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="priority" type="java.lang.String"/>
+    </method>
     <method name="openIterator" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -1480,6 +2420,53 @@
     </doc>
   </class>
   <!-- end class org.apache.pig.PigServer -->
+  <!-- start class org.apache.pig.PigServer.SortInfoSetter -->
+  <class name="PigServer.SortInfoSetter" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigServer.SortInfoSetter" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.PigServer.SortInfoSetter -->
+  <!-- start interface org.apache.pig.PigToStream -->
+  <interface name="PigToStream"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="serialize" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Given a tuple, produce an array of bytes to be passed to the streaming
+ executable.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[The interface used for the custom mapping of a {@link Tuple} to a byte
+ array. The byte array is fed to the stdin of the streaming process.
+ 
+ This interface, together with {@link StreamToPig}, is designed to provide
+ a common protocol for data exchange between Pig runtime and streaming 
+ executables.
+ 
+ Typically, user implements this interface for a particular type of 
+ stream command and specifies the implementation class in the Pig DEFINE
+ statement.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.PigToStream -->
   <!-- start class org.apache.pig.PigWarning -->
   <class name="PigWarning" extends="java.lang.Enum"
     abstract="false"
@@ -1681,1223 +2668,1085 @@
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="REDUCER_COUNT_LOW" type="org.apache.pig.PigWarning"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="NULL_COUNTER_COUNT" type="org.apache.pig.PigWarning"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="DELETE_FAILED" type="org.apache.pig.PigWarning"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <doc>
     <![CDATA[An enum to enumerate the warning types in Pig]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.PigWarning -->
-  <!-- start interface org.apache.pig.ReversibleLoadStoreFunc -->
-  <interface name="ReversibleLoadStoreFunc"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.LoadFunc"/>
-    <implements name="org.apache.pig.StoreFunc"/>
-    <doc>
-    <![CDATA[This interface is used to implement classes that can perform both
- Load and Store functionalities in a symmetric fashion (thus reversible). 
- 
- The symmetry property of implementations is used in the optimization
- engine therefore violation of this property while implementing this 
- interface is likely to result in unexpected output from executions.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.ReversibleLoadStoreFunc -->
-  <!-- start interface org.apache.pig.Slice -->
-  <interface name="Slice"    abstract="true"
+  <!-- start class org.apache.pig.ResourceSchema -->
+  <class name="ResourceSchema" extends="java.lang.Object"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="java.io.Serializable"/>
-    <method name="getLocations" return="java.lang.String[]"
+    <constructor name="ResourceSchema"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="ResourceSchema" type="org.apache.pig.impl.logicalLayer.schema.Schema"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="ResourceSchema" type="org.apache.pig.impl.logicalLayer.schema.Schema, org.apache.pig.SortInfo"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getVersion" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns string representations of all the files that will be used as part
- of processing this Slice.
- <p>
- 
- This is the only method on Slice that is valid to call before
- {@link #init(DataStorage)} has been called.]]>
-      </doc>
     </method>
-    <method name="init"
+    <method name="setVersion" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Initializes this Slice with the DataStorage it's to use to do its work.
- <p>
- This will always be called before <code>getLength</code>,
- <code>close</code>, <code>getPos</code>, <code>getProgress</code>
- and <code>next</code>.]]>
-      </doc>
+      <param name="version" type="int"/>
     </method>
-    <method name="getStart" return="long"
+    <method name="getFields" return="org.apache.pig.ResourceSchema.ResourceFieldSchema[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns the offset from which data in this Slice will be processed.]]>
-      </doc>
     </method>
-    <method name="getLength" return="long"
+    <method name="fieldNames" return="java.lang.String[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns the length in bytes of all of the data that will be processed by
- this Slice.
- <p>
- Only valid to call after {@link #init(DataStorage)} has been called.]]>
-      </doc>
     </method>
-    <method name="close"
+    <method name="setFields" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Closes any streams this Slice has opened as part of its work.
- <p>
- Only valid to call after {@link #init(DataStorage)} has been called.]]>
-      </doc>
+      <param name="fields" type="org.apache.pig.ResourceSchema.ResourceFieldSchema[]"/>
     </method>
-    <method name="getPos" return="long"
+    <method name="getSortKeys" return="int[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Returns the number of bytes read so far as part of processing this Slice.
- <p>
- Only valid to call after {@link #init(DataStorage)} has been called.]]>
-      </doc>
     </method>
-    <method name="getProgress" return="float"
+    <method name="setSortKeys" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Returns the percentage of Slice that is complete from 0.0 to 1.0.
- <p>
- Only valid to call after {@link #init(DataStorage)} has been called.]]>
-      </doc>
+      <param name="sortKeys" type="int[]"/>
     </method>
-    <method name="next" return="boolean"
+    <method name="getSortKeyOrders" return="org.apache.pig.ResourceSchema.Order[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="value" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Loads the next value from this Slice into <code>value</code>.
- <p>
- Only valid to call after {@link #init(DataStorage)} has been called.
- 
- @param value -
-                the Tuple to be filled with the next value.
- @return - true if there are more Tuples to be read.]]>
-      </doc>
     </method>
-    <doc>
-    <![CDATA[A grouping of data on that can be processed individually by Pig. Instances of
- this interface are created by {@link Slicer}, serialized, and sent to nodes
- to be processed.
- <p>
- {@link #getLocations} is called as part of the configuration process to
- determine where this Slice should be run for maximal locality with the data
- to be read. Once the Slice arrives on the processing node,
- {@link #init(DataStorage)} is called to give it access to the
- <code>DataStorage</code> it should use to load Tuples. After
- <code>init</code> has been called, any of the other methods on this
- interface may be called as part of Pig's processing.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.Slice -->
-  <!-- start interface org.apache.pig.Slicer -->
-  <interface name="Slicer"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <method name="validate"
+    <method name="setSortKeyOrders" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="location" type="java.lang.String"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Checks that <code>location</code> is parsable by this Slicer, and that
- if the DataStorage is used by the Slicer, it's readable from there. If it
- isn't, an IOException with a message explaining why will be thrown.
- <p>
- This does not ensure that all the data in <code>location</code> is
- valid. It's a preflight check that there's some chance of the Slicer
- working before actual Slices are created and sent off for processing.]]>
-      </doc>
+      <param name="sortKeyOrders" type="org.apache.pig.ResourceSchema.Order[]"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rs1" type="org.apache.pig.ResourceSchema"/>
+      <param name="rs2" type="org.apache.pig.ResourceSchema"/>
     </method>
-    <method name="slice" return="org.apache.pig.Slice[]"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="location" type="java.lang.String"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Creates slices of data from <code>store</code> at <code>location</code>.
- 
- @return the Slices to be serialized and sent out to nodes for processing.]]>
-      </doc>
     </method>
-    <doc>
-    <![CDATA[Produces independent slices of data from a given location to be processed in
- parallel by Pig.
- <p>
- If a class implementing this interface is given as the LoadFunc in a Pig
- script, it will be used to make slices for that load statement.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.Slicer -->
-  <!-- start class org.apache.pig.StandAloneParser -->
-  <class name="StandAloneParser" extends="java.lang.Object"
+  </class>
+  <!-- end class org.apache.pig.ResourceSchema -->
+  <!-- start class org.apache.pig.ResourceSchema.Order -->
+  <class name="ResourceSchema.Order" extends="java.lang.Enum"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="true" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StandAloneParser"
-      static="false" final="false" visibility="public"
+    <method name="values" return="org.apache.pig.ResourceSchema.Order[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="main"
+    </method>
+    <method name="valueOf" return="org.apache.pig.ResourceSchema.Order"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="args" type="java.lang.String[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="name" type="java.lang.String"/>
     </method>
+    <field name="ASCENDING" type="org.apache.pig.ResourceSchema.Order"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="DESCENDING" type="org.apache.pig.ResourceSchema.Order"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
   </class>
-  <!-- end class org.apache.pig.StandAloneParser -->
-  <!-- start class org.apache.pig.StoreConfig -->
-  <class name="StoreConfig" extends="java.lang.Object"
+  <!-- end class org.apache.pig.ResourceSchema.Order -->
+  <!-- start class org.apache.pig.ResourceSchema.ResourceFieldSchema -->
+  <class name="ResourceSchema.ResourceFieldSchema" extends="java.lang.Object"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="java.io.Serializable"/>
-    <constructor name="StoreConfig" type="java.lang.String, org.apache.pig.impl.logicalLayer.schema.Schema"
+    <constructor name="ResourceSchema.ResourceFieldSchema"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@param location
- @param schema]]>
-      </doc>
     </constructor>
-    <method name="getLocation" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="ResourceSchema.ResourceFieldSchema" type="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return the location]]>
-      </doc>
-    </method>
-    <method name="setLocation"
+    </constructor>
+    <method name="getName" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="location" type="java.lang.String"/>
-      <doc>
-      <![CDATA[@param location the location to set]]>
-      </doc>
     </method>
-    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="setName" return="org.apache.pig.ResourceSchema.ResourceFieldSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return the schema]]>
-      </doc>
+      <param name="name" type="java.lang.String"/>
     </method>
-    <method name="setSchema"
+    <method name="getType" return="byte"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-      <doc>
-      <![CDATA[@param schema the schema to set]]>
-      </doc>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="setType" return="org.apache.pig.ResourceSchema.ResourceFieldSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="type" type="byte"/>
     </method>
-    <doc>
-    <![CDATA[A Class which will encapsulate metadata information that a
- OutputFormat (or possibly StoreFunc) may want to know
- about the data that needs to be stored.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.StoreConfig -->
-  <!-- start interface org.apache.pig.StoreFunc -->
-  <interface name="StoreFunc"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <method name="bindTo"
+    <method name="getDescription" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Specifies the OutputStream to write to. This will be called before
- store(Tuple) is invoked.
- 
- @param os The stream to write tuples to.
- @throws IOException]]>
-      </doc>
     </method>
-    <method name="putNext"
+    <method name="setDescription" return="org.apache.pig.ResourceSchema.ResourceFieldSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Write a tuple the output stream to which this instance was
- previously bound.
- 
- @param f the tuple to store.
- @throws IOException]]>
-      </doc>
+      <param name="description" type="java.lang.String"/>
     </method>
-    <method name="finish"
+    <method name="getSchema" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Do any kind of post processing because the last tuple has been
- stored. DO NOT CLOSE THE STREAM in this method. The stream will be
- closed later outside of this function.
- 
- @throws IOException]]>
-      </doc>
     </method>
-    <method name="getStorePreparationClass" return="java.lang.Class"
+    <method name="setSchema" return="org.apache.pig.ResourceSchema.ResourceFieldSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="schema" type="org.apache.pig.ResourceSchema"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Specify a backend specific class to use to prepare for
- storing output.  In the Hadoop case, this can return an
- OutputFormat that will be used instead of PigOutputFormat.  The 
- framework will call this function and if a Class is returned
- that implements OutputFormat it will be used. For more details on how
- the OutputFormat should interact with Pig, see 
- {@link org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat#getRecordWriter(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.mapred.JobConf, String, org.apache.hadoop.util.Progressable)}
- @return Backend specific class used to prepare for storing output.
- If the {@link StoreFunc} implementation does not have a class to prepare
- for storing output, it can return null and a default Pig implementation
- will be used to prepare for storing output.
- @throws IOException if the class does not implement the expected
- interface(s).]]>
-      </doc>
     </method>
-    <doc>
-    <![CDATA[This interface is used to implement functions to write records
- from a dataset.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.StoreFunc -->
-  <doc>
-  <![CDATA[<p>
-Public interfaces and classes for Pig.
-<p>
-{@link org.apache.pig.PigServer} is the interface to Pig for use by other java
-programs.  Other interfaces and classes in this package are for use by users
-when implementing user defined functions.]]>
-  </doc>
-</package>
-<package name="org.apache.pig.backend">
-  <!-- start class org.apache.pig.backend.BackendException -->
-  <class name="BackendException" extends="org.apache.pig.PigException"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="BackendException"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with null as the error message.]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.Throwable"
-      static="false" final="false" visibility="public"
+    <method name="throwInvalidSchemaException"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified cause.
-
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, java.lang.Throwable"
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int"
+    </method>
+    <method name="calcCastString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, java.lang.Throwable"
+    </method>
+  </class>
+  <!-- end class org.apache.pig.ResourceSchema.ResourceFieldSchema -->
+  <!-- start class org.apache.pig.ResourceStatistics -->
+  <class name="ResourceStatistics" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.lang.Cloneable"/>
+    <constructor name="ResourceStatistics"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
     </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, byte"
+    <method name="getmBytes" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, byte, java.lang.Throwable"
+    </method>
+    <method name="setmBytes" return="org.apache.pig.ResourceStatistics"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, boolean"
+      <param name="mBytes" type="java.lang.Long"/>
+    </method>
+    <method name="getNumRecords" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param retry - If the exception is retriable or not]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, byte, boolean"
+    </method>
+    <method name="setNumRecords" return="org.apache.pig.ResourceStatistics"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, byte, boolean, java.lang.String"
+      <param name="numRecords" type="java.lang.Long"/>
+    </method>
+    <method name="getAvgRecordSize" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not
- @param detailedMsg - The detailed message shown to the developer]]>
-      </doc>
-    </constructor>
-    <constructor name="BackendException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
+    </method>
+    <method name="setAvgRecordSize"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new BackendException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not
- @param detailedMsg - The detailed message shown to the developer 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
-  </class>
-  <!-- end class org.apache.pig.backend.BackendException -->
-</package>
-<package name="org.apache.pig.backend.datastorage">
-  <!-- start interface org.apache.pig.backend.datastorage.ContainerDescriptor -->
-  <interface name="ContainerDescriptor"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-    <implements name="java.lang.Iterable"/>
-  </interface>
-  <!-- end interface org.apache.pig.backend.datastorage.ContainerDescriptor -->
-  <!-- start interface org.apache.pig.backend.datastorage.DataStorage -->
-  <interface name="DataStorage"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <method name="init"
+      <param name="size" type="java.lang.Long"/>
+    </method>
+    <method name="getFields" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Place holder for possible initialization activities.]]>
-      </doc>
     </method>
-    <method name="close"
+    <method name="setFields" return="org.apache.pig.ResourceStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Clean-up and releasing of resources.]]>
-      </doc>
+      <param name="fields" type="org.apache.pig.ResourceStatistics.ResourceFieldStatistics[]"/>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="equals" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Provides configuration information about the storage itself.
- For instance global data-replication policies if any, default
- values, ... Some of such values could be overridden at a finer 
- granularity (e.g. on a specific object in the Data Storage)
- 
- @return - configuration information]]>
-      </doc>
+      <param name="anOther" type="java.lang.Object"/>
     </method>
-    <method name="updateConfiguration"
+    <method name="hashCode" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
-      <doc>
-      <![CDATA[Provides a way to change configuration parameters
- at the Data Storage level. For instance, change the 
- data replication policy.
- 
- @param newConfiguration - the new configuration settings
- @throws when configuration conflicts are detected]]>
-      </doc>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Provides statistics on the Storage: capacity values, how much 
- storage is in use...
- @return statistics on the Data Storage]]>
-      </doc>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="clone" return="java.lang.Object"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
-      <doc>
-      <![CDATA[Creates an entity handle for an object (no containment
- relation) from a String
-
- @param name of the object
- @return an object descriptor
- @throws DataStorageException if name does not conform to naming 
-         convention enforced by the Data Storage.]]>
-      </doc>
+      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <field name="mBytes" type="java.lang.Long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="numRecords" type="java.lang.Long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="avgRecordSize" type="java.lang.Long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="fields" type="org.apache.pig.ResourceStatistics.ResourceFieldStatistics[]"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.ResourceStatistics -->
+  <!-- start class org.apache.pig.ResourceStatistics.ResourceFieldStatistics -->
+  <class name="ResourceStatistics.ResourceFieldStatistics" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <constructor name="ResourceStatistics.ResourceFieldStatistics"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getVersion" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="element" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="setVersion" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="version" type="int"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="getNumDistinctValues" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="setNumDistinctValues" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="numDistinctValues" type="java.lang.Long"/>
     </method>
-    <method name="isContainer" return="boolean"
+    <method name="getMostCommonValues" return="java.lang.Object[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="setMostCommonValues" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
-      <doc>
-      <![CDATA[Created an entity handle for a container.
- 
- @param name of the container
- @return a container descriptor
- @throws DataStorageException if name does not conform to naming 
-         convention enforced by the Data Storage.]]>
-      </doc>
+      <param name="mostCommonValues" type="java.lang.Object[]"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="getMostCommonValuesFreq" return="float[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="setMostCommonValuesFreq" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="mostCommonValuesFreq" type="float[]"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="getValueHistogram" return="java.lang.Object[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="setValueHistogram" return="org.apache.pig.ResourceStatistics.ResourceFieldStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="valueHistogram" type="java.lang.Object[]"/>
     </method>
-    <method name="asCollection" return="org.apache.pig.backend.datastorage.ElementDescriptor[]"
+    <method name="equals" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="pattern" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="anOther" type="java.lang.Object"/>
     </method>
-    <method name="setActiveContainer"
+    <method name="hashCode" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <doc>
+      <![CDATA[A naive hashCode implementation following the example in IBM's developerworks:
+ http://www.ibm.com/developerworks/java/library/j-jtp05273.html]]>
+      </doc>
     </method>
-    <method name="getActiveContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <field name="DEFAULT_REPLICATION_FACTOR_KEY" type="java.lang.String"
+    <field name="serialVersionUID" type="long"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="USED_BYTES_KEY" type="java.lang.String"
+    <field name="version" type="int"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="RAW_CAPACITY_KEY" type="java.lang.String"
+    <field name="numDistinctValues" type="java.lang.Long"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="RAW_USED_KEY" type="java.lang.String"
+    <field name="mostCommonValues" type="java.lang.Object[]"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <doc>
-    <![CDATA[DataStorage provides an abstraction of a generic container.
- Special instances of it can be a file system.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.backend.datastorage.DataStorage -->
-  <!-- start class org.apache.pig.backend.datastorage.DataStorageException -->
-  <class name="DataStorageException" extends="org.apache.pig.backend.BackendException"
+    <field name="mostCommonValuesFreq" type="float[]"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="valueHistogram" type="java.lang.Object[]"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.ResourceStatistics.ResourceFieldStatistics -->
+  <!-- start class org.apache.pig.SortColInfo -->
+  <class name="SortColInfo" extends="java.lang.Object"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DataStorageException"
+    <implements name="java.io.Serializable"/>
+    <constructor name="SortColInfo" type="java.lang.String, int, org.apache.pig.SortColInfo.Order"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with null as the error message.]]>
+      <![CDATA[@param colName sort column name
+ @param colIndex index position (0 based) of sort column
+ @param orderingType whether the column is sorted ascending or descending]]>
       </doc>
     </constructor>
-    <constructor name="DataStorageException" type="java.lang.String"
+    <method name="getColName" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
+      <![CDATA[@return the sort column name - could be null or empty string if
+ column name could not be determined either because of the absence of
+ a schema or because the schema had the column name as null or empty
+ string - caller should check for these conditions.]]>
       </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.Throwable"
+    </method>
+    <method name="getColIndex" return="int"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified cause.
-
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[@return index position (0 based) of sort column]]>
       </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, java.lang.Throwable"
+    </method>
+    <method name="getSortOrder" return="org.apache.pig.SortColInfo.Order"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[@return whether the column is sorted ascending or descending]]>
       </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int"
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user]]>
-      </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, java.lang.Throwable"
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, byte"
+      <param name="obj" type="java.lang.Object"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source]]>
-      </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, byte, java.lang.Throwable"
+    </method>
+    <doc>
+    <![CDATA[A class representing information about a sort column in {@link SortInfo}]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.SortColInfo -->
+  <!-- start class org.apache.pig.SortColInfo.Order -->
+  <class name="SortColInfo.Order" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.SortColInfo.Order[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.SortColInfo.Order"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="ASCENDING" type="org.apache.pig.SortColInfo.Order"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="DESCENDING" type="org.apache.pig.SortColInfo.Order"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.SortColInfo.Order -->
+  <!-- start class org.apache.pig.SortInfo -->
+  <class name="SortInfo" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <constructor name="SortInfo" type="java.util.List"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      <![CDATA[@param sortColInfoList]]>
       </doc>
     </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, boolean"
+    <method name="getSortColInfoList" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param retry - If the exception is retriable or not]]>
+      <![CDATA[@return the sortColInfoList]]>
       </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean"
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new DataStorageException with the specified message and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not]]>
-      </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean, java.lang.String"
+    </method>
+    <method name="isGloballySorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new DataStorageException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not
- @param detailedMsg - The detailed message shown to the developer]]>
+      <![CDATA[@return the isGloballySorted]]>
       </doc>
-    </constructor>
-    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new DataStorageException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
-
- @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
- @param errCode - The error code shown to the user 
- @param errSrc - The error source 
- @param retry - If the exception is retriable or not
- @param detailedMsg - The detailed message shown to the developer 
- @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
-      </doc>
-    </constructor>
+      <param name="obj" type="java.lang.Object"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Class to communicate sort column information based on 
+ order by statment's sort columns and schema]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.datastorage.DataStorageException -->
-  <!-- start interface org.apache.pig.backend.datastorage.ElementDescriptor -->
-  <interface name="ElementDescriptor"    abstract="true"
+  <!-- end class org.apache.pig.SortInfo -->
+  <!-- start class org.apache.pig.StandAloneParser -->
+  <class name="StandAloneParser" extends="java.lang.Object"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="java.lang.Comparable"/>
-    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="StandAloneParser"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+    </constructor>
+    <method name="main"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="args" type="java.lang.String[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="create" return="java.io.OutputStream"
+  </class>
+  <!-- end class org.apache.pig.StandAloneParser -->
+  <!-- start class org.apache.pig.StoreFunc -->
+  <class name="StoreFunc" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.StoreFuncInterface"/>
+    <constructor name="StoreFunc"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="relToAbsPathForStoreLocation" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Opens a stream onto which an entity can be written to.
+      <![CDATA[This method is called by the Pig runtime in the front end to convert the
+ output location to an absolute path if the location is relative. The
+ StoreFunc implementation is free to choose how it converts a relative 
+ location to an absolute location since this may depend on what the location
+ string represent (hdfs path or some other data source). 
+  
  
- @param configuration information at the object level
- @return stream where to write
- @throws DataStorageException]]>
+ @param location location as provided in the "store" statement of the script
+ @param curDir the current working direction based on any "cd" statements
+ in the script before the "store" statement. If there are no "cd" statements
+ in the script, this would be the home directory - 
+ <pre>/user/<username> </pre>
+ @return the absolute location based on the arguments passed
+ @throws IOException 
+ @throws IOException if the conversion is not possible]]>
       </doc>
     </method>
-    <method name="create" return="java.io.OutputStream"
-      abstract="false" native="false" synchronized="false"
+    <method name="getOutputFormat" return="org.apache.hadoop.mapreduce.OutputFormat"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Return the OutputFormat associated with StoreFunc.  This will be called
+ on the front end during planning and not on the backend during
+ execution. 
+ @return the {@link OutputFormat} associated with StoreFunc
+ @throws IOException if an exception occurs while constructing the 
+ OutputFormat]]>
+      </doc>
     </method>
-    <method name="copy"
-      abstract="false" native="false" synchronized="false"
+    <method name="setStoreLocation"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Copy entity from an existing one, possibly residing in a 
- different Data Storage.
+      <![CDATA[Communicate to the storer the location where the data needs to be stored.  
+ The location string passed to the {@link StoreFunc} here is the 
+ return value of {@link StoreFunc#relToAbsPathForStoreLocation(String, Path)} 
+ This method will be called in the frontend and backend multiple times. Implementations
+ should bear in mind that this method is called multiple times and should
+ ensure there are no inconsistent side effects due to the multiple calls.
+ {@link #checkSchema(ResourceSchema)} will be called before any call to
+ {@link #setStoreLocation(String, Job)}.
  
- @param dstName name of entity to create
- @param dstConfiguration configuration for the new entity
- @param removeSrc if src entity needs to be removed after copying it
- @throws DataStorageException for instance, configuration 
-         information for new entity is not compatible with 
-         configuration information at the Data
-         Storage level, user does not have privileges to read from
-         source entity or write to destination storage...]]>
+
+ @param location Location returned by 
+ {@link StoreFunc#relToAbsPathForStoreLocation(String, Path)}
+ @param job The {@link Job} object
+ @throws IOException if the location is not valid.]]>
       </doc>
     </method>
-    <method name="copy"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="removeSrc" type="boolean"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="checkSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="s" type="org.apache.pig.ResourceSchema"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Open for read a given entity
- 
- @param configuration
- @return entity to read from
- @throws DataStorageExecption e.g. entity does not exist...]]>
+      <![CDATA[Set the schema for data to be stored.  This will be called on the
+ front end during planning if the store is associated with a schema.
+ A Store function should implement this function to
+ check that a given schema is acceptable to it.  For example, it
+ can check that the correct partition keys are included;
+ a storage function to be written directly to an OutputFormat can
+ make sure the schema will translate in a well defined way.  
+ @param s to be checked
+ @throws IOException if this schema is not acceptable.  It should include
+ a detailed error message indicating what is wrong with the schema.]]>
       </doc>
     </method>
-    <method name="open" return="java.io.InputStream"
-      abstract="false" native="false" synchronized="false"
+    <method name="prepareToWrite"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="writer" type="org.apache.hadoop.mapreduce.RecordWriter"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Initialize StoreFunc to write data.  This will be called during
+ execution before the call to putNext.
+ @param writer RecordWriter to use.
+ @throws IOException if an exception occurs during initialization]]>
+      </doc>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
-      abstract="false" native="false" synchronized="false"
+    <method name="putNext"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Open an element in the Data Storage with support for random access 
- (seek operations).
+      <![CDATA[Write a tuple the output stream to which this instance was
+ previously bound.
  
- @param configuration
- @return a seekable input stream
- @throws DataStorageException]]>
+ @param t the tuple to store.
+ @throws IOException if an exception occurs during the write]]>
       </doc>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="setStoreFuncUDFContextSignature"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="signature" type="java.lang.String"/>
+      <doc>
+      <![CDATA[This method will be called by Pig both in the front end and back end to
+ pass a unique signature to the {@link StoreFunc} which it can use to store
+ information in the {@link UDFContext} which it needs to store between
+ various method invocations in the front end and back end. This method 
+ will be called before other methods in {@link StoreFunc}.
+ @param signature a unique signature to identify this StoreFunc]]>
+      </doc>
     </method>
-    <method name="exists" return="boolean"
+    <method name="cleanupOnFailure"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Checks whether the entity exists or not
- 
- @return true if entity exists, false otherwise.]]>
+      <![CDATA[This method will be called by Pig if the job which contains this store
+ fails. Implementations can clean up output locations in this method to
+ ensure that no incorrect/incomplete results are left in the output location.
+ The implementation in {@link StoreFunc} deletes the output location if it
+ is a {@link FileSystem} location.
+ @param location Location returned by 
+ {@link StoreFunc#relToAbsPathForStoreLocation(String, Path)}
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.]]>
       </doc>
     </method>
-    <method name="rename"
+    <method name="cleanupOnFailureImpl"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Changes the name of an entity in the Data Storage
- 
- @param newName new name of entity 
- @throws DataStorageException]]>
+      <![CDATA[Implementation for {@link #cleanupOnFailure(String, Job)}
+ @param location
+ @param job
+ @throws IOException]]>
       </doc>
     </method>
-    <method name="delete"
+    <doc>
+    <![CDATA[This abstract class is used to implement functions to write records
+ from a dataset.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.StoreFunc -->
+  <!-- start interface org.apache.pig.StoreFuncInterface -->
+  <interface name="StoreFuncInterface"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="relToAbsPathForStoreLocation" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Remove entity from the Data Storage.
+      <![CDATA[This method is called by the Pig runtime in the front end to convert the
+ output location to an absolute path if the location is relative. The
+ StoreFuncInterface implementation is free to choose how it converts a relative 
+ location to an absolute location since this may depend on what the location
+ string represent (hdfs path or some other data source). 
+ The static method {@link LoadFunc#getAbsolutePath} provides a default 
+ implementation for hdfs and hadoop local file system and it can be used
+ to implement this method.  
  
- @throws DataStorageException]]>
+ @param location location as provided in the "store" statement of the script
+ @param curDir the current working direction based on any "cd" statements
+ in the script before the "store" statement. If there are no "cd" statements
+ in the script, this would be the home directory - 
+ <pre>/user/<username> </pre>
+ @return the absolute location based on the arguments passed
+ @throws IOException if the conversion is not possible]]>
       </doc>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="getOutputFormat" return="org.apache.hadoop.mapreduce.OutputFormat"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Retrieve configuration information for entity
- @return configuration]]>
+      <![CDATA[Return the OutputFormat associated with StoreFuncInterface.  This will be called
+ on the front end during planning and not on the backend during
+ execution. 
+ @return the {@link OutputFormat} associated with StoreFuncInterface
+ @throws IOException if an exception occurs while constructing the 
+ OutputFormat]]>
       </doc>
     </method>
-    <method name="updateConfiguration"
+    <method name="setStoreLocation"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfig" type="java.util.Properties"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Update configuration information for this entity
+      <![CDATA[Communicate to the storer the location where the data needs to be stored.  
+ The location string passed to the {@link StoreFuncInterface} here is the 
+ return value of {@link StoreFuncInterface#relToAbsPathForStoreLocation(String, Path)}
+ This method will be called in the frontend and backend multiple times. Implementations
+ should bear in mind that this method is called multiple times and should
+ ensure there are no inconsistent side effects due to the multiple calls.
+ 
 
- @param newConfig configuration
- @throws DataStorageException]]>
+ @param location Location returned by 
+ {@link StoreFuncInterface#relToAbsPathForStoreLocation(String, Path)}
+ @param job The {@link Job} object
+ @throws IOException if the location is not valid.]]>
       </doc>
     </method>
-    <method name="systemElement" return="boolean"
+    <method name="checkSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.ResourceSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Defines whether the element is visible to users or 
- contains system's metadata
- @return true if this is system file; false otherwise]]>
+      <![CDATA[Set the schema for data to be stored.  This will be called on the
+ front end during planning if the store is associated with a schema.
+ A Store function should implement this function to
+ check that a given schema is acceptable to it.  For example, it
+ can check that the correct partition keys are included;
+ a storage function to be written directly to an OutputFormat can
+ make sure the schema will translate in a well defined way.  
+ @param s to be checked
+ @throws IOException if this schema is not acceptable.  It should include
+ a detailed error message indicating what is wrong with the schema.]]>
       </doc>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="prepareToWrite"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="writer" type="org.apache.hadoop.mapreduce.RecordWriter"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[List entity statistics
- @return DataStorageProperties]]>
+      <![CDATA[Initialize StoreFuncInterface to write data.  This will be called during
+ execution before the call to putNext.
+ @param writer RecordWriter to use.
+ @throws IOException if an exception occurs during initialization]]>
       </doc>
     </method>
-    <field name="BLOCK_SIZE_KEY" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Available from getConfiguration as a String and getStatistics as a Long.]]>
-      </doc>
-    </field>
-    <field name="BLOCK_REPLICATION_KEY" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    <method name="putNext"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Available from getConfiguration as a String and getStatistics as a Short.]]>
+      <![CDATA[Write a tuple the output stream to which this instance was
+ previously bound.
+ 
+ @param t the tuple to store.
+ @throws IOException if an exception occurs during the write]]>
       </doc>
-    </field>
-    <field name="LENGTH_KEY" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    </method>
+    <method name="setStoreFuncUDFContextSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
       <doc>
-      <![CDATA[Available from getStatistics as a Long.]]>
+      <![CDATA[This method will be called by Pig both in the front end and back end to
+ pass a unique signature to the {@link StoreFuncInterface} which it can use to store
+ information in the {@link UDFContext} which it needs to store between
+ various method invocations in the front end and back end. 
+ @param signature a unique signature to identify this StoreFuncInterface]]>
       </doc>
-    </field>
-    <field name="MODIFICATION_TIME_KEY" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    </method>
+    <method name="cleanupOnFailure"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Available from getStatistics as a Long.]]>
+      <![CDATA[This method will be called by Pig if the job which contains this store
+ fails. Implementations can clean up output locations in this method to
+ ensure that no incorrect/incomplete results are left in the output location
+ @param location Location returned by 
+ {@link StoreFuncInterface#relToAbsPathForStoreLocation(String, Path)}
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.]]>
       </doc>
-    </field>
+    </method>
     <doc>
-    <![CDATA[DataStorageElementDescriptor provides methods necessary to manage an
- element in a DataStorage.]]>
+    <![CDATA[This interface is used to implement functions to write records
+ from a dataset.]]>
     </doc>
   </interface>
-  <!-- end interface org.apache.pig.backend.datastorage.ElementDescriptor -->
-  <!-- start class org.apache.pig.backend.datastorage.ImmutableOutputStream -->
-  <class name="ImmutableOutputStream" extends="java.io.OutputStream"
-    abstract="false"
+  <!-- end interface org.apache.pig.StoreFuncInterface -->
+  <!-- start interface org.apache.pig.StoreMetadata -->
+  <interface name="StoreMetadata"    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ImmutableOutputStream" type="java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="write"
+    <method name="storeStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="int"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-  </class>
-  <!-- end class org.apache.pig.backend.datastorage.ImmutableOutputStream -->
-  <!-- start class org.apache.pig.backend.datastorage.SeekableInputStream -->
-  <class name="SeekableInputStream" extends="java.io.InputStream"
-    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="SeekableInputStream"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="seek"
-      abstract="true" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="offset" type="long"/>
-      <param name="whence" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"/>
+      <param name="stats" type="org.apache.pig.ResourceStatistics"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Seeks to a given offset as specified by whence flags.
- If whence is SEEK_SET, offset is added to beginning of stream
- If whence is SEEK_CUR, offset is added to current position inside stream
- If whence is SEEK_END, offset is added to end of file position
- 
- @param offset
- @param whence
+      <![CDATA[Store statistics about the data being written.
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.  
  @throws IOException]]>
       </doc>
     </method>
-    <method name="tell" return="long"
-      abstract="true" native="false" synchronized="false"
+    <method name="storeSchema"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="schema" type="org.apache.pig.ResourceSchema"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Returns current offset
- 
- @return offset
+      <![CDATA[Store schema of the data being written
+ @param job The {@link Job} object - this should be used only to obtain 
+ cluster properties through {@link Job#getConfiguration()} and not to set/query
+ any runtime job information.  
  @throws IOException]]>
       </doc>
     </method>
     <doc>
-    <![CDATA[Unix-like API for an input stream that supports random access.]]>
+    <![CDATA[This interface defines how to write metadata related to data to be loaded.
+ If a given store function does not implement this interface, it will be assumed that it
+ is unable to record metadata about the associated data.]]>
     </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.datastorage.SeekableInputStream -->
-  <!-- start class org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS -->
-  <class name="SeekableInputStream.FLAGS" extends="java.lang.Enum"
-    abstract="false"
-    static="true" final="true" visibility="public"
+  </interface>
+  <!-- end interface org.apache.pig.StoreMetadata -->
+  <!-- start interface org.apache.pig.StreamToPig -->
+  <interface name="StreamToPig"    abstract="true"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="values" return="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS[]"
+    <method name="deserialize" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="bytes" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Given a byte array from a streaming executable, produce a tuple.]]>
+      </doc>
     </method>
-    <method name="valueOf" return="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[This will be called on the front end during planning and not on the back 
+ end during execution.
+ 
+ @return the {@link LoadCaster} associated with this object. 
+ @throws IOException if there is an exception during LoadCaster]]>
+      </doc>
     </method>
-    <field name="SEEK_SET" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-    <field name="SEEK_CUR" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-    <field name="SEEK_END" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-  </class>
-  <!-- end class org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS -->
+    <doc>
+    <![CDATA[The interface used for the custom mapping of a byte array, received from
+ the stdout of the streaming process, to a {@link Tuple}. 
+ 
+ This interface, together with {@link PigToStream}, is designed to provide
+ a common protocol for data exchange between Pig runtime and streaming 
+ executables.
+ 
+ The method <code>getLoadCaster</code> is called by Pig to convert the 
+ fields in the byte array to typed fields of the Tuple based on a given
+ schema.
+ 
+ Typically, user implements this interface for a particular type of 
+ stream command and specifies the implementation class in the Pig DEFINE
+ statement.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.StreamToPig -->
+  <doc>
+  <![CDATA[<p>
+Public interfaces and classes for Pig.
+<p>
+{@link org.apache.pig.PigServer} is the interface to Pig for use by other java
+programs.  Other interfaces and classes in this package are for use by users
+when implementing user defined functions.]]>
+  </doc>
 </package>
-<package name="org.apache.pig.backend.executionengine">
-  <!-- start class org.apache.pig.backend.executionengine.ExecException -->
-  <class name="ExecException" extends="org.apache.pig.backend.BackendException"
+<package name="org.apache.pig.backend">
+  <!-- start class org.apache.pig.backend.BackendException -->
+  <class name="BackendException" extends="org.apache.pig.PigException"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ExecException"
+    <constructor name="BackendException"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with null as the error message.]]>
+      <![CDATA[Create a new BackendException with null as the error message.]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String"
+    <constructor name="BackendException" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.Throwable"
+    <constructor name="BackendException" type="java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified cause.
+      <![CDATA[Create a new BackendException with the specified cause.
 
  @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, java.lang.Throwable"
+    <constructor name="BackendException" type="java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int"
+    <constructor name="BackendException" type="java.lang.String, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, java.lang.Throwable"
+    <constructor name="BackendException" type="java.lang.String, int, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
  @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, byte"
+    <constructor name="BackendException" type="java.lang.String, int, byte"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
  @param errSrc - The error source]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, byte, java.lang.Throwable"
+    <constructor name="BackendException" type="java.lang.String, int, byte, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
@@ -2905,22 +3754,22 @@ when implementing user defined functions.]]>
  @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, boolean"
+    <constructor name="BackendException" type="java.lang.String, int, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
  @param retry - If the exception is retriable or not]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, byte, boolean"
+    <constructor name="BackendException" type="java.lang.String, int, byte, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message and cause.
+      <![CDATA[Create a new BackendException with the specified message and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
@@ -2928,11 +3777,11 @@ when implementing user defined functions.]]>
  @param retry - If the exception is retriable or not]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, byte, boolean, java.lang.String"
+    <constructor name="BackendException" type="java.lang.String, int, byte, boolean, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+      <![CDATA[Create a new BackendException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
@@ -2941,11 +3790,11 @@ when implementing user defined functions.]]>
  @param detailedMsg - The detailed message shown to the developer]]>
       </doc>
     </constructor>
-    <constructor name="ExecException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
+    <constructor name="BackendException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create a new ExecException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+      <![CDATA[Create a new BackendException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
 
  @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
  @param errCode - The error code shown to the user 
@@ -2956,1111 +3805,1790 @@ when implementing user defined functions.]]>
       </doc>
     </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.executionengine.ExecException -->
-  <!-- start interface org.apache.pig.backend.executionengine.ExecJob -->
-  <interface name="ExecJob"    abstract="true"
+  <!-- end class org.apache.pig.backend.BackendException -->
+</package>
+<package name="org.apache.pig.backend.datastorage">
+  <!-- start interface org.apache.pig.backend.datastorage.ContainerDescriptor -->
+  <interface name="ContainerDescriptor"    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="getStatus" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <implements name="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+    <implements name="java.lang.Iterable"/>
+  </interface>
+  <!-- end interface org.apache.pig.backend.datastorage.ContainerDescriptor -->
+  <!-- start interface org.apache.pig.backend.datastorage.DataStorage -->
+  <interface name="DataStorage"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="init"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Place holder for possible initialization activities.]]>
+      </doc>
     </method>
-    <method name="hasCompleted" return="boolean"
+    <method name="close"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[true is the physical plan has executed successfully and results are ready
- to be retrieved
- 
- @return true if execution has completed, false otherwise.
- @throws ExecException]]>
+      <![CDATA[Clean-up and releasing of resources.]]>
       </doc>
     </method>
-    <method name="getResults" return="java.util.Iterator"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[if query has executed successfully we want to retrieve the results
- via iterating over them. 
+      <![CDATA[Provides configuration information about the storage itself.
+ For instance global data-replication policies if any, default
+ values, ... Some of such values could be overridden at a finer 
+ granularity (e.g. on a specific object in the Data Storage)
  
- @return iterator for resulting tuples
- @throws ExecException]]>
+ @return - configuration information]]>
       </doc>
     </method>
-    <method name="getContiguration" return="java.util.Properties"
+    <method name="updateConfiguration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="newConfiguration" type="java.util.Properties"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
       <doc>
-      <![CDATA[Get configuration information
+      <![CDATA[Provides a way to change configuration parameters
+ at the Data Storage level. For instance, change the 
+ data replication policy.
  
- @return configuration information for the execution engine]]>
+ @param newConfiguration - the new configuration settings
+ @throws when configuration conflicts are detected]]>
       </doc>
     </method>
-    <method name="getStatistics" return="org.apache.pig.tools.pigstats.PigStats"
+    <method name="getStatistics" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Can be information about the state (not submitted, e.g. the execute method
- has not been called yet; not running, e.g. execute has been issued, 
- but job is waiting; running...; completed; aborted...; progress information
- 
- @return statistics relevant to the execution engine]]>
+      <![CDATA[Provides statistics on the Storage: capacity values, how much 
+ storage is in use...
+ @return statistics on the Data Storage]]>
       </doc>
     </method>
-    <method name="completionNotification"
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cookie" type="java.lang.Object"/>
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
       <doc>
-      <![CDATA[hook for asynchronous notification of job completion pushed from the back-end]]>
+      <![CDATA[Creates an entity handle for an object (no containment
+ relation) from a String
+
+ @param name of the object
+ @return an object descriptor
+ @throws DataStorageException if name does not conform to naming 
+         convention enforced by the Data Storage.]]>
       </doc>
     </method>
-    <method name="kill"
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Kills current job.
- 
- @throws ExecException]]>
-      </doc>
+      <param name="element" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="getLogs"
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="log" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Collecting various forms of outputs]]>
-      </doc>
+      <param name="parent" type="java.lang.String"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="getSTDOut"
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="getSTDError"
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="error" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="getException" return="java.lang.Exception"
+    <method name="isContainer" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
       <doc>
-      <![CDATA[Get exceptions that happened during execution]]>
+      <![CDATA[Created an entity handle for a container.
+ 
+ @param name of the container
+ @return a container descriptor
+ @throws DataStorageException if name does not conform to naming 
+         convention enforced by the Data Storage.]]>
       </doc>
     </method>
-    <field name="PROGRESS_KEY" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <doc>
-    <![CDATA[Abstraction on a job that the execution engine runs. It allows the front-end to
- retrieve information on job status and manage a running job.]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.backend.executionengine.ExecJob -->
-  <!-- start class org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS -->
-  <class name="ExecJob.JOB_STATUS" extends="java.lang.Enum"
-    abstract="false"
-    static="true" final="true" visibility="public"
-    deprecated="not deprecated">
-    <method name="values" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS[]"
+      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="parent" type="java.lang.String"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="valueOf" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <field name="QUEUED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="RUNNING" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asCollection" return="org.apache.pig.backend.datastorage.ElementDescriptor[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="SUSPENDED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+      <param name="pattern" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="setActiveContainer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+    </method>
+    <method name="getActiveContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <field name="DEFAULT_REPLICATION_FACTOR_KEY" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="TERMINATED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <field name="USED_BYTES_KEY" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="FAILED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <field name="RAW_CAPACITY_KEY" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="COMPLETED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <field name="RAW_USED_KEY" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-  </class>
-  <!-- end class org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS -->
-  <!-- start interface org.apache.pig.backend.executionengine.ExecPhysicalOperator -->
-  <interface name="ExecPhysicalOperator"    abstract="true"
+    <doc>
+    <![CDATA[DataStorage provides an abstraction of a generic container.
+ Special instances of it can be a file system.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.backend.datastorage.DataStorage -->
+  <!-- start class org.apache.pig.backend.datastorage.DataStorageException -->
+  <class name="DataStorageException" extends="org.apache.pig.backend.BackendException"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="getScope" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="DataStorageException"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getId" return="long"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with null as the error message.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-  </interface>
-  <!-- end interface org.apache.pig.backend.executionengine.ExecPhysicalOperator -->
-  <!-- start interface org.apache.pig.backend.executionengine.ExecPhysicalPlan -->
-  <interface name="ExecPhysicalPlan"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="java.io.Serializable"/>
-    <method name="getConfiguration" return="java.util.Properties"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[A job may have properties, like a priority, degree of parallelism...
- Some of such properties may be inherited from the ExecutionEngine
- configuration, other may have been set specifically for this job.
- For instance, a job scheduler may attribute low priority to
- jobs automatically started for maintenance purpose.
- 
- @return set of properties]]>
+      <![CDATA[Create a new DataStorageException with the specified cause.
+
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
-    </method>
-    <method name="updateConfiguration"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[Some properties of the job may be changed, say the priority...
- 
- @param configuration
- @throws some changes may not be allowed, for instance the some
- job-level properties cannot override Execution-Engine-level properties
- or maybe some properties can only be changes only in certain states of the
- job, say, once the job is started, parallelism level may not be changed...]]>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
-    </method>
-    <method name="explain"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.OutputStream"/>
       <doc>
-      <![CDATA[To provide an "explanation" about how the physical plan has been constructed]]>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user]]>
       </doc>
-    </method>
-    <method name="getOpTable" return="java.util.Map"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getRoot" return="org.apache.pig.impl.plan.OperatorKey"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, byte"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-  </interface>
-  <!-- end interface org.apache.pig.backend.executionengine.ExecPhysicalPlan -->
-  <!-- start interface org.apache.pig.backend.executionengine.ExecScopedLogicalOperator -->
-  <interface name="ExecScopedLogicalOperator"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="java.io.Serializable"/>
-    <method name="getScope" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, byte, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getId" return="long"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getOperatorKey" return="org.apache.pig.impl.plan.OperatorKey"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-  </interface>
-  <!-- end interface org.apache.pig.backend.executionengine.ExecScopedLogicalOperator -->
-  <!-- start interface org.apache.pig.backend.executionengine.ExecutionEngine -->
-  <interface name="ExecutionEngine"    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <method name="init"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new DataStorageException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[Place holder for possible initialization activities.]]>
+      <![CDATA[Create a new DataStorageException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not
+ @param detailedMsg - The detailed message shown to the developer]]>
       </doc>
-    </method>
-    <method name="close"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <constructor name="DataStorageException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[Clean-up and releasing of resources.]]>
+      <![CDATA[Create a new DataStorageException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not
+ @param detailedMsg - The detailed message shown to the developer 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
       </doc>
-    </method>
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.datastorage.DataStorageException -->
+  <!-- start interface org.apache.pig.backend.datastorage.ElementDescriptor -->
+  <interface name="ElementDescriptor"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.lang.Comparable"/>
     <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="create" return="java.io.OutputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Provides configuration information about the execution engine itself.
+      <![CDATA[Opens a stream onto which an entity can be written to.
  
- @return - information about the configuration used to connect to execution engine]]>
+ @param configuration information at the object level
+ @return stream where to write
+ @throws DataStorageException]]>
       </doc>
     </method>
-    <method name="updateConfiguration"
+    <method name="create" return="java.io.OutputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="copy"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="dstConfiguration" type="java.util.Properties"/>
+      <param name="removeSrc" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Provides a way to dynamically change configuration parameters
- at the Execution Engine level.
+      <![CDATA[Copy entity from an existing one, possibly residing in a 
+ different Data Storage.
  
- @param newConfiguration - the new configuration settings
- @throws when configuration conflicts are detected]]>
+ @param dstName name of entity to create
+ @param dstConfiguration configuration for the new entity
+ @param removeSrc if src entity needs to be removed after copying it
+ @throws DataStorageException for instance, configuration 
+         information for new entity is not compatible with 
+         configuration information at the Data
+         Storage level, user does not have privileges to read from
+         source entity or write to destination storage...]]>
       </doc>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="copy"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Provides statistics on the Execution Engine: number of nodes,
- node failure rates, average load, average job wait time...
- @return ExecutionEngineProperties]]>
-      </doc>
+      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="removeSrc" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="compile" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+    <method name="open" return="java.io.InputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
-      <param name="properties" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Compiles a logical plan into a physical plan, given a set of configuration
- properties that apply at the plan-level. For instance desired degree of 
- parallelism for this plan, which could be different from the "default"
- one set at the execution engine level.
+      <![CDATA[Open for read a given entity
  
- @param plan logical plan to compile
- @param properties
- @return physical plan]]>
+ @param configuration
+ @return entity to read from
+ @throws DataStorageExecption e.g. entity does not exist...]]>
       </doc>
     </method>
-    <method name="execute" return="java.util.List"
+    <method name="open" return="java.io.InputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="jobName" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Execute the physical plan in blocking mode.
-
- @param plan PhysicalPlan to execute. 
- @param jobName Name of this plan, will be used to identify the plan
- @throws ExecException]]>
-      </doc>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="submit" return="java.util.List"
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="jobName" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Execute the physical plan in non-blocking mode
+      <![CDATA[Open an element in the Data Storage with support for random access 
+ (seek operations).
  
- @param plan PhysicalPlan to submit. 
- @param jobName Name of this plan, will be used to identify the plan
- @throws ExecException]]>
+ @param configuration
+ @return a seekable input stream
+ @throws DataStorageException]]>
       </doc>
     </method>
-    <method name="explain"
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="stream" type="java.io.PrintStream"/>
-      <param name="format" type="java.lang.String"/>
-      <param name="verbose" type="boolean"/>
-      <doc>
-      <![CDATA[Explain executor specific information.
-
- @param plan PhysicalPlan to explain
- @param stream Stream to print output to
- @param format Format to print in
- @param verbose Amount of information to print]]>
-      </doc>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="runningJobs" return="java.util.Collection"
+    <method name="exists" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="properties" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Return currently running jobs (can be useful for admin purposes)
+      <![CDATA[Checks whether the entity exists or not
  
- @return All jobs that are currently active in hte execution engine.
- @throws ExecException]]>
+ @return true if entity exists, false otherwise.]]>
       </doc>
     </method>
-    <method name="activeScopes" return="java.util.Collection"
+    <method name="rename"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="newName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[List scopes that are active in the back-end
+      <![CDATA[Changes the name of an entity in the Data Storage
  
- @return All scopes that are currently active in the execution
- engine.
- @throws ExecException]]>
+ @param newName new name of entity 
+ @throws DataStorageException]]>
       </doc>
     </method>
-    <method name="reclaimScope"
+    <method name="delete"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="scope" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[A mechanism to communicate to the back-end that a set of logical plans go out of scope
+      <![CDATA[Remove entity from the Data Storage.
  
- @param scope]]>
+ @throws DataStorageException]]>
       </doc>
     </method>
-    <doc>
-    <![CDATA[TODO: provide a manner to generate/collect logging information for DBG purposes
- 
- TODO: add keys for properties/statistics]]>
-    </doc>
-  </interface>
-  <!-- end interface org.apache.pig.backend.executionengine.ExecutionEngine -->
-  <!-- start class org.apache.pig.backend.executionengine.PigSlice -->
-  <class name="PigSlice" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Slice"/>
-    <constructor name="PigSlice" type="java.lang.String, org.apache.pig.FuncSpec, long, long"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="getParser" return="org.apache.pig.FuncSpec"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getStart" return="long"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Retrieve configuration information for entity
+ @return configuration]]>
+      </doc>
     </method>
-    <method name="getLength" return="long"
+    <method name="updateConfiguration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="newConfig" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Update configuration information for this entity
+
+ @param newConfig configuration
+ @throws DataStorageException]]>
+      </doc>
     </method>
-    <method name="getLocations" return="java.lang.String[]"
+    <method name="systemElement" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Defines whether the element is visible to users or 
+ contains system's metadata
+ @return true if this is system file; false otherwise]]>
+      </doc>
     </method>
-    <method name="init"
+    <method name="getStatistics" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="base" type="org.apache.pig.backend.datastorage.DataStorage"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[List entity statistics
+ @return DataStorageProperties]]>
+      </doc>
     </method>
-    <method name="next" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+    <field name="BLOCK_SIZE_KEY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
-      <param name="value" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="getPos" return="long"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      <doc>
+      <![CDATA[Available from getConfiguration as a String and getStatistics as a Long.]]>
+      </doc>
+    </field>
+    <field name="BLOCK_REPLICATION_KEY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="close"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      <doc>
+      <![CDATA[Available from getConfiguration as a String and getStatistics as a Short.]]>
+      </doc>
+    </field>
+    <field name="LENGTH_KEY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="getProgress" return="float"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      <doc>
+      <![CDATA[Available from getStatistics as a Long.]]>
+      </doc>
+    </field>
+    <field name="MODIFICATION_TIME_KEY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="readFields"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Available from getStatistics as a Long.]]>
+      </doc>
+    </field>
+    <doc>
+    <![CDATA[DataStorageElementDescriptor provides methods necessary to manage an
+ element in a DataStorage.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.backend.datastorage.ElementDescriptor -->
+  <!-- start class org.apache.pig.backend.datastorage.ImmutableOutputStream -->
+  <class name="ImmutableOutputStream" extends="java.io.OutputStream"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ImmutableOutputStream" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="is" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
+    </constructor>
     <method name="write"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.DataOutput"/>
+      <param name="b" type="int"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Slice that loads data using a LoadFunc.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.executionengine.PigSlice -->
-  <!-- start class org.apache.pig.backend.executionengine.PigSlicer -->
-  <class name="PigSlicer" extends="java.lang.Object"
-    abstract="false"
+  <!-- end class org.apache.pig.backend.datastorage.ImmutableOutputStream -->
+  <!-- start class org.apache.pig.backend.datastorage.SeekableInputStream -->
+  <class name="SeekableInputStream" extends="java.io.InputStream"
+    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Slicer"/>
-    <constructor name="PigSlicer" type="org.apache.pig.FuncSpec"
+    <constructor name="SeekableInputStream"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@param funcSpec -
-                the funcSpec for a LoadFunc that can process the data at
-                location.]]>
-      </doc>
     </constructor>
-    <method name="setSplittable"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="splittable" type="boolean"/>
-    </method>
-    <method name="slice" return="org.apache.pig.Slice[]"
-      abstract="false" native="false" synchronized="false"
+    <method name="seek"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="location" type="java.lang.String"/>
+      <param name="offset" type="long"/>
+      <param name="whence" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Seeks to a given offset as specified by whence flags.
+ If whence is SEEK_SET, offset is added to beginning of stream
+ If whence is SEEK_CUR, offset is added to current position inside stream
+ If whence is SEEK_END, offset is added to end of file position
+ 
+ @param offset
+ @param whence
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="validate"
-      abstract="false" native="false" synchronized="false"
+    <method name="tell" return="long"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="location" type="java.lang.String"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Returns current offset
+ 
+ @return offset
+ @throws IOException]]>
+      </doc>
     </method>
     <doc>
-    <![CDATA[Creates a slice per block size element in all files at location. If location
- is a glob or a directory, slices are created for every matched file.
- <p>
- 
- If individual files at location end with <code>.gz</code> or
- <code>.bz2</code>, they will be decompressed before being passed on to the
- LoadFunc.]]>
+    <![CDATA[Unix-like API for an input stream that supports random access.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.backend.executionengine.PigSlicer -->
-</package>
-<package name="org.apache.pig.backend.executionengine.util">
-  <!-- start class org.apache.pig.backend.executionengine.util.ExecTools -->
-  <class name="ExecTools" extends="java.lang.Object"
+  <!-- end class org.apache.pig.backend.datastorage.SeekableInputStream -->
+  <!-- start class org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS -->
+  <class name="SeekableInputStream.FLAGS" extends="java.lang.Enum"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="true" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ExecTools"
-      static="false" final="false" visibility="public"
+    <method name="values" return="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="checkLeafIsStore" return="org.apache.pig.impl.io.FileSpec"
+    </method>
+    <method name="valueOf" return="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="name" type="java.lang.String"/>
     </method>
-    <doc>
-    <![CDATA[A collection of static methods for use by the executionengine
- implementations.  A way to share common code.]]>
-    </doc>
+    <field name="SEEK_SET" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="SEEK_CUR" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="SEEK_END" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
   </class>
-  <!-- end class org.apache.pig.backend.executionengine.util.ExecTools -->
+  <!-- end class org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS -->
 </package>
-<package name="org.apache.pig.backend.hadoop">
-  <!-- start class org.apache.pig.backend.hadoop.DoubleWritable -->
-  <class name="DoubleWritable" extends="java.lang.Object"
+<package name="org.apache.pig.backend.executionengine">
+  <!-- start class org.apache.pig.backend.executionengine.ExecException -->
+  <class name="ExecException" extends="org.apache.pig.backend.BackendException"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.io.WritableComparable"/>
-    <constructor name="DoubleWritable"
+    <constructor name="ExecException"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new ExecException with null as the error message.]]>
+      </doc>
     </constructor>
-    <constructor name="DoubleWritable" type="double"
+    <constructor name="ExecException" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user]]>
+      </doc>
     </constructor>
-    <method name="readFields"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="ExecException" type="java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="write"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified cause.
+
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="set"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="value" type="double"/>
-    </method>
-    <method name="get" return="double"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="equals" return="boolean"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, byte"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
       <doc>
-      <![CDATA[Returns true iff <code>o</code> is a DoubleWritable with the same value.]]>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source]]>
       </doc>
-    </method>
-    <method name="hashCode" return="int"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, byte, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="compareTo" return="int"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-    </method>
-    <method name="toString" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, byte, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <doc>
-    <![CDATA[Writable for Double values.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.DoubleWritable -->
-  <!-- start class org.apache.pig.backend.hadoop.DoubleWritable.Comparator -->
-  <class name="DoubleWritable.Comparator" extends="org.apache.hadoop.io.WritableComparator"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="DoubleWritable.Comparator"
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not]]>
+      </doc>
+    </constructor>
+    <constructor name="ExecException" type="java.lang.String, int, byte, boolean, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not
+ @param detailedMsg - The detailed message shown to the developer]]>
+      </doc>
     </constructor>
-    <method name="compare" return="int"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="ExecException" type="java.lang.String, int, byte, boolean, java.lang.String, java.lang.Throwable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b1" type="byte[]"/>
-      <param name="s1" type="int"/>
-      <param name="l1" type="int"/>
-      <param name="b2" type="byte[]"/>
-      <param name="s2" type="int"/>
-      <param name="l2" type="int"/>
-    </method>
-    <doc>
-    <![CDATA[A Comparator optimized for DoubleWritable.]]>
-    </doc>
+      <doc>
+      <![CDATA[Create a new ExecException with the specified message, error code, error source, retriable or not, detalied message for the developer and cause.
+
+ @param message - The error message (which is saved for later retrieval by the <link>Throwable.getMessage()</link> method) shown to the user 
+ @param errCode - The error code shown to the user 
+ @param errSrc - The error source 
+ @param retry - If the exception is retriable or not
+ @param detailedMsg - The detailed message shown to the developer 
+ @param cause - The cause (which is saved for later retrieval by the <link>Throwable.getCause()</link> method) indicating the source of this exception. A null value is permitted, and indicates that the cause is nonexistent or unknown.]]>
+      </doc>
+    </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.DoubleWritable.Comparator -->
-  <!-- start class org.apache.pig.backend.hadoop.HDataType -->
-  <class name="HDataType" extends="java.lang.Object"
-    abstract="false"
+  <!-- end class org.apache.pig.backend.executionengine.ExecException -->
+  <!-- start interface org.apache.pig.backend.executionengine.ExecJob -->
+  <interface name="ExecJob"    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="HDataType"
+    <method name="getStatus" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="getWritableComparableTypes" return="org.apache.pig.impl.io.PigNullableWritable"
+    </method>
+    <method name="hasCompleted" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="keyType" type="byte"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[true is the physical plan has executed successfully and results are ready
+ to be retrieved
+ 
+ @return true if execution has completed, false otherwise.
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="getWritableComparableTypes" return="org.apache.pig.impl.io.PigNullableWritable"
+    <method name="getResults" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="type" type="byte"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[if query has executed successfully we want to retrieve the results
+ via iterating over them. 
+ 
+ @return iterator for resulting tuples
+ @throws ExecException]]>
+      </doc>
     </method>
-    <doc>
-    <![CDATA[A class of helper methods for converting from pig data types to hadoop
- data types, and vice versa.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.HDataType -->
-</package>
-<package name="org.apache.pig.backend.hadoop.datastorage">
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.ConfigurationUtil -->
-  <class name="ConfigurationUtil" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="ConfigurationUtil"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="toConfiguration" return="org.apache.hadoop.conf.Configuration"
+    <method name="getAlias" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="properties" type="java.util.Properties"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Returns the alias of relation generated by this job]]>
+      </doc>
     </method>
-    <method name="toProperties" return="java.util.Properties"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="configuration" type="org.apache.hadoop.conf.Configuration"/>
-    </method>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.datastorage.ConfigurationUtil -->
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.HConfiguration -->
-  <class name="HConfiguration" extends="java.util.Properties"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="HConfiguration"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="HConfiguration" type="org.apache.hadoop.conf.Configuration"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="getConfiguration" return="org.apache.hadoop.conf.Configuration"
+      <doc>
+      <![CDATA[Get configuration information
+ 
+ @return configuration information for the execution engine]]>
+      </doc>
+    </method>
+    <method name="getStatistics" return="org.apache.pig.tools.pigstats.PigStats"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Can be information about the state (not submitted, e.g. the execute method
+ has not been called yet; not running, e.g. execute has been issued, 
+ but job is waiting; running...; completed; aborted...; progress information
+ 
+ @return statistics relevant to the execution engine]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.datastorage.HConfiguration -->
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.HDataStorage -->
-  <class name="HDataStorage" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.DataStorage"/>
-    <constructor name="HDataStorage" type="java.net.URI, java.util.Properties"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDataStorage" type="java.util.Properties"
+    <method name="getPOStore" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="init"
+      <doc>
+      <![CDATA[@return {@link POStore} object associated with the store]]>
+      </doc>
+    </method>
+    <method name="completionNotification"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="cookie" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[hook for asynchronous notification of job completion pushed from the back-end]]>
+      </doc>
     </method>
-    <method name="close"
+    <method name="kill"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Kills current job.
+ 
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="getLogs"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="log" type="java.io.OutputStream"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Collecting various forms of outputs]]>
+      </doc>
     </method>
-    <method name="updateConfiguration"
+    <method name="getSTDOut"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="out" type="java.io.OutputStream"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="getSTDError"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="error" type="java.io.OutputStream"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="getException" return="java.lang.Exception"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <doc>
+      <![CDATA[Get exceptions that happened during execution]]>
+      </doc>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <field name="PROGRESS_KEY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Abstraction on a job that the execution engine runs. It allows the front-end to
+ retrieve information on job status and manage a running job.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.backend.executionengine.ExecJob -->
+  <!-- start class org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS -->
+  <class name="ExecJob.JOB_STATUS" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS[]"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="element" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="valueOf" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="name" type="java.lang.String"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <field name="FAILED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="COMPLETED" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS -->
+  <!-- start interface org.apache.pig.backend.executionengine.ExecPhysicalOperator -->
+  <interface name="ExecPhysicalOperator"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="getScope" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+    <method name="getId" return="long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+  </interface>
+  <!-- end interface org.apache.pig.backend.executionengine.ExecPhysicalOperator -->
+  <!-- start interface org.apache.pig.backend.executionengine.ExecPhysicalPlan -->
+  <interface name="ExecPhysicalPlan"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <doc>
+      <![CDATA[A job may have properties, like a priority, degree of parallelism...
+ Some of such properties may be inherited from the ExecutionEngine
+ configuration, other may have been set specifically for this job.
+ For instance, a job scheduler may attribute low priority to
+ jobs automatically started for maintenance purpose.
+ 
+ @return set of properties]]>
+      </doc>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="updateConfiguration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Some properties of the job may be changed, say the priority...
+ 
+ @param configuration
+ @throws some changes may not be allowed, for instance the some
+ job-level properties cannot override Execution-Engine-level properties
+ or maybe some properties can only be changes only in certain states of the
+ job, say, once the job is started, parallelism level may not be changed...]]>
+      </doc>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="explain"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="out" type="java.io.OutputStream"/>
+      <doc>
+      <![CDATA[To provide an "explanation" about how the physical plan has been constructed]]>
+      </doc>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="getOpTable" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="getRoot" return="org.apache.pig.impl.plan.OperatorKey"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="setActiveContainer"
+  </interface>
+  <!-- end interface org.apache.pig.backend.executionengine.ExecPhysicalPlan -->
+  <!-- start interface org.apache.pig.backend.executionengine.ExecScopedLogicalOperator -->
+  <interface name="ExecScopedLogicalOperator"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.io.Serializable"/>
+    <method name="getScope" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
     </method>
-    <method name="getActiveContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    <method name="getId" return="long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="isContainer" return="boolean"
+    <method name="getOperatorKey" return="org.apache.pig.impl.plan.OperatorKey"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asCollection" return="org.apache.pig.backend.hadoop.datastorage.HPath[]"
+  </interface>
+  <!-- end interface org.apache.pig.backend.executionengine.ExecScopedLogicalOperator -->
+  <!-- start interface org.apache.pig.backend.executionengine.ExecutionEngine -->
+  <interface name="ExecutionEngine"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="init"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="pattern" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Place holder for possible initialization activities.]]>
+      </doc>
     </method>
-    <method name="getHFS" return="org.apache.hadoop.fs.FileSystem"
+    <method name="close"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Clean-up and releasing of resources.]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.datastorage.HDataStorage -->
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.HDirectory -->
-  <class name="HDirectory" extends="org.apache.pig.backend.hadoop.datastorage.HPath"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+    </method>
+    <method name="getConfiguration" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Provides configuration information about the execution engine itself.
+ 
+ @return - information about the configuration used to connect to execution engine]]>
+      </doc>
+    </method>
+    <method name="updateConfiguration"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+      <param name="newConfiguration" type="java.util.Properties"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Provides a way to dynamically change configuration parameters
+ at the Execution Engine level.
+ 
+ @param newConfiguration - the new configuration settings
+ @throws when configuration conflicts are detected]]>
+      </doc>
+    </method>
+    <method name="getStatistics" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Provides statistics on the Execution Engine: number of nodes,
+ node failure rates, average load, average job wait time...
+ @return ExecutionEngineProperties]]>
+      </doc>
+    </method>
+    <method name="compile" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="create" return="java.io.OutputStream"
+      <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
+      <param name="properties" type="java.util.Properties"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Compiles a logical plan into a physical plan, given a set of configuration
+ properties that apply at the plan-level. For instance desired degree of 
+ parallelism for this plan, which could be different from the "default"
+ one set at the execution engine level.
+ 
+ @param plan logical plan to compile
+ @param properties
+ @return physical plan]]>
+      </doc>
+    </method>
+    <method name="execute" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="jobName" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Execute the physical plan in blocking mode.
+
+ @param plan PhysicalPlan to execute. 
+ @param jobName Name of this plan, will be used to identify the plan
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="copy"
+    <method name="submit" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="jobName" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Execute the physical plan in non-blocking mode
+ 
+ @param plan PhysicalPlan to submit. 
+ @param jobName Name of this plan, will be used to identify the plan
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="explain"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="stream" type="java.io.PrintStream"/>
+      <param name="format" type="java.lang.String"/>
+      <param name="verbose" type="boolean"/>
+      <doc>
+      <![CDATA[Explain executor specific information.
+
+ @param plan PhysicalPlan to explain
+ @param stream Stream to print output to
+ @param format Format to print in
+ @param verbose Amount of information to print]]>
+      </doc>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="runningJobs" return="java.util.Collection"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="properties" type="java.util.Properties"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Return currently running jobs (can be useful for admin purposes)
+ 
+ @return All jobs that are currently active in hte execution engine.
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="activeScopes" return="java.util.Collection"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[List scopes that are active in the back-end
+ 
+ @return All scopes that are currently active in the execution
+ engine.
+ @throws ExecException]]>
+      </doc>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="reclaimScope"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="scope" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[A mechanism to communicate to the back-end that a set of logical plans go out of scope
+ 
+ @param scope]]>
+      </doc>
     </method>
-    <method name="iterator" return="java.util.Iterator"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[TODO: provide a manner to generate/collect logging information for DBG purposes
+ 
+ TODO: add keys for properties/statistics]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.backend.executionengine.ExecutionEngine -->
+</package>
+<package name="org.apache.pig.backend.executionengine.util">
+  <!-- start class org.apache.pig.backend.executionengine.util.ExecTools -->
+  <class name="ExecTools" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ExecTools"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+    </constructor>
+    <method name="checkLeafIsStore" return="org.apache.pig.impl.io.FileSpec"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
+    <doc>
+    <![CDATA[A collection of static methods for use by the executionengine
+ implementations.  A way to share common code.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.datastorage.HDirectory -->
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.HFile -->
-  <class name="HFile" extends="org.apache.pig.backend.hadoop.datastorage.HPath"
+  <!-- end class org.apache.pig.backend.executionengine.util.ExecTools -->
+</package>
+<package name="org.apache.pig.backend.hadoop">
+  <!-- start class org.apache.pig.backend.hadoop.DoubleWritable -->
+  <class name="DoubleWritable" extends="java.lang.Object"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
+    <implements name="org.apache.hadoop.io.WritableComparable"/>
+    <constructor name="DoubleWritable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+    <constructor name="DoubleWritable" type="double"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+      <param name="value" type="double"/>
+    </method>
+    <method name="get" return="double"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="create" return="java.io.OutputStream"
+    </method>
+    <method name="equals" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Returns true iff <code>o</code> is a DoubleWritable with the same value.]]>
+      </doc>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="hashCode" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="compareTo" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="o" type="java.lang.Object"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <doc>
+    <![CDATA[Writable for Double values.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.DoubleWritable -->
+  <!-- start class org.apache.pig.backend.hadoop.DoubleWritable.Comparator -->
+  <class name="DoubleWritable.Comparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleWritable.Comparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="compare" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b1" type="byte[]"/>
+      <param name="s1" type="int"/>
+      <param name="l1" type="int"/>
+      <param name="b2" type="byte[]"/>
+      <param name="s2" type="int"/>
+      <param name="l2" type="int"/>
     </method>
+    <doc>
+    <![CDATA[A Comparator optimized for DoubleWritable.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.datastorage.HFile -->
-  <!-- start class org.apache.pig.backend.hadoop.datastorage.HPath -->
-  <class name="HPath" extends="java.lang.Object"
-    abstract="true"
+  <!-- end class org.apache.pig.backend.hadoop.DoubleWritable.Comparator -->
+  <!-- start class org.apache.pig.backend.hadoop.HDataType -->
+  <class name="HDataType" extends="java.lang.Object"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
+    <constructor name="HDataType"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+    <method name="getWritableComparableTypes" return="org.apache.pig.impl.io.PigNullableWritable"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="keyType" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="getWritableComparableTypes" return="org.apache.pig.impl.io.PigNullableWritable"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <doc>
+    <![CDATA[A class of helper methods for converting from pig data types to hadoop
+ data types, and vice versa.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.HDataType -->
+</package>
+<package name="org.apache.pig.backend.hadoop.datastorage">
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.ConfigurationUtil -->
+  <class name="ConfigurationUtil" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ConfigurationUtil"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+    <method name="toConfiguration" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="properties" type="java.util.Properties"/>
+    </method>
+    <method name="toProperties" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="org.apache.hadoop.conf.Configuration"/>
+    </method>
+    <method name="mergeConf"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="origConf" type="org.apache.hadoop.conf.Configuration"/>
+      <param name="replaceConf" type="org.apache.hadoop.conf.Configuration"/>
+      <doc>
+      <![CDATA[@param origConf
+ @param replaceConf]]>
+      </doc>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.datastorage.ConfigurationUtil -->
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.HConfiguration -->
+  <class name="HConfiguration" extends="java.util.Properties"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="HConfiguration"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+    <constructor name="HConfiguration" type="org.apache.hadoop.conf.Configuration"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+    <method name="getConfiguration" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.datastorage.HConfiguration -->
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.HDataStorage -->
+  <class name="HDataStorage" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.backend.datastorage.DataStorage"/>
+    <constructor name="HDataStorage" type="java.net.URI, java.util.Properties"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+    <constructor name="HDataStorage" type="java.util.Properties"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
+    <method name="init"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="create" return="java.io.OutputStream"
-      abstract="true" native="false" synchronized="false"
+    <method name="close"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="copy"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
-      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="updateConfiguration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="newConfiguration" type="java.util.Properties"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="getStatistics" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="element" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="java.lang.String"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asElement" return="org.apache.pig.backend.datastorage.ElementDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="java.lang.String"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="child" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="setActiveContainer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+    </method>
+    <method name="getActiveContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isContainer" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="asCollection" return="org.apache.pig.backend.hadoop.datastorage.HPath[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="pattern" type="java.lang.String"/>
+      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+    </method>
+    <method name="getHFS" return="org.apache.hadoop.fs.FileSystem"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.datastorage.HDataStorage -->
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.HDirectory -->
+  <class name="HDirectory" extends="org.apache.pig.backend.hadoop.datastorage.HPath"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HDirectory" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="create" return="java.io.OutputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="copy"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dstName" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
+      <param name="dstConfiguration" type="java.util.Properties"/>
+      <param name="removeSrc" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="open" return="java.io.InputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="open" return="java.io.InputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.datastorage.HDirectory -->
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.HFile -->
+  <class name="HFile" extends="org.apache.pig.backend.hadoop.datastorage.HPath"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HFile" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="create" return="java.io.OutputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="open" return="java.io.InputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="open" return="java.io.InputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.datastorage.HFile -->
+  <!-- start class org.apache.pig.backend.hadoop.datastorage.HPath -->
+  <class name="HPath" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="HPath" type="org.apache.pig.backend.hadoop.datastorage.HDataStorage, org.apache.hadoop.fs.Path"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="create" return="java.io.OutputStream"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="copy"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="dstConfiguration" type="java.util.Properties"/>
+      <param name="removeSrc" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="open" return="java.io.InputStream"
       abstract="true" native="false" synchronized="false"
@@ -4276,7 +5804,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getJobClient" return="org.apache.hadoop.mapred.JobClient"
+    <method name="getJobConf" return="org.apache.hadoop.mapred.JobConf"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -4309,23 +5837,23 @@ when implementing user defined functions.]]>
       <param name="properties" type="java.util.Properties"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="close"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="updateConfiguration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="newConfiguration" type="java.util.Properties"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="updateConfiguration"
+    <method name="close"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
     <method name="getStatistics" return="java.util.Map"
@@ -4392,6 +5920,11 @@ when implementing user defined functions.]]>
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="LOCAL" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <field name="pigContext" type="org.apache.pig.impl.PigContext"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -4402,7 +5935,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="jobClient" type="org.apache.hadoop.mapred.JobClient"
+    <field name="jobConf" type="org.apache.hadoop.mapred.JobConf"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -4430,11 +5963,11 @@ when implementing user defined functions.]]>
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.backend.executionengine.ExecJob"/>
-    <constructor name="HJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.impl.io.FileSpec"
+    <constructor name="HJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="HJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.impl.io.FileSpec, org.apache.pig.tools.pigstats.PigStats"
+    <constructor name="HJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore, java.lang.String, org.apache.pig.tools.pigstats.PigStats"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -4455,7 +5988,7 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getContiguration" return="java.util.Properties"
+    <method name="getConfiguration" return="java.util.Properties"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -4509,6 +6042,20 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getAlias" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="getPOStore" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the poStore]]>
+      </doc>
+    </method>
     <field name="status" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -4529,6 +6076,16 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="alias" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="poStore" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.HJob -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.MapRedResult -->
@@ -4554,6 +6111,127 @@ when implementing user defined functions.]]>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.MapRedResult -->
 </package>
 <package name="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer">
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.AccumulatorOptimizer -->
+  <class name="AccumulatorOptimizer" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AccumulatorOptimizer" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visitMROp"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mr" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <doc>
+    <![CDATA[A visitor to optimize plans that determines if a reduce plan
+ can run in accumulative mode.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.AccumulatorOptimizer -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnChainInfo -->
+  <class name="ColumnChainInfo" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.lang.Cloneable"/>
+    <constructor name="ColumnChainInfo"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o2" type="java.lang.Object"/>
+    </method>
+    <method name="insert"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="star" type="boolean"/>
+      <param name="columns" type="java.util.List"/>
+      <param name="type" type="byte"/>
+    </method>
+    <method name="insertInReduce"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="star" type="boolean"/>
+      <param name="columns" type="java.util.List"/>
+      <param name="type" type="byte"/>
+    </method>
+    <method name="insertColumnChainInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columnChainInfo" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnChainInfo"/>
+    </method>
+    <method name="getColumnInfos" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="clone" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
+    </method>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getColumnInfo" return="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnChainInfo -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnInfo -->
+  <class name="ColumnInfo" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnInfo" type="boolean, java.util.List, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o2" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnInfo -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.CombinerOptimizer -->
   <class name="CombinerOptimizer" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
     abstract="false"
@@ -4600,7 +6278,7 @@ when implementing user defined functions.]]>
  works for things like generate group, SUM(A.$1 + 1).  But it fails for
  things like the above.  Certain types of inner plans will never be
  movable (like filters).  But distinct or order by in the inner plan
- should be moble.  And, things like:
+ should be mobile.  And, things like:
       C = cogroup A by $0, B by $0;
       D = foreach C {
           D1 = distinct A;
@@ -4638,33 +6316,34 @@ when implementing user defined functions.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.DistinctCombiner -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.DistinctCombiner.Combine -->
-  <class name="DistinctCombiner.Combine" extends="org.apache.hadoop.mapred.MapReduceBase"
+  <class name="DistinctCombiner.Combine" extends="org.apache.hadoop.mapreduce.Reducer"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Reducer"/>
     <constructor name="DistinctCombiner.Combine"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="configure"
+    <method name="setup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="jConf" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Configures the reporter]]>
       </doc>
     </method>
     <method name="reduce"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="key" type="org.apache.pig.impl.io.PigNullableWritable"/>
-      <param name="tupIter" type="java.util.Iterator"/>
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="tupIter" type="java.lang.Iterable"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[The reduce function which removes values.]]>
       </doc>
@@ -4731,12 +6410,36 @@ when implementing user defined functions.]]>
  @throws JobCreationException]]>
       </doc>
     </method>
-    <field name="PIG_STORE_CONFIG" type="java.lang.String"
+    <method name="updateMROpPlan" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="completeFailedJobs" type="java.util.List"/>
+    </method>
+    <field name="LOG_DIR" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="LOG_DIR" type="java.lang.String"
+    <field name="END_OF_INP_IN_MAP" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="PIG_MAP_STORES" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[We will serialize the POStore(s) present in map and reduce in lists in
+ the Hadoop Conf. In the case of Multi stores, we could deduce these from
+ the map plan and reduce plan but in the case of single store, we remove
+ the POStore from the plan - in either case, we serialize the POStore(s)
+ so that PigOutputFormat and PigOutputCommiter can get the POStore(s) in
+ the same way irrespective of whether it is multi store or single store.]]>
+      </doc>
+    </field>
+    <field name="PIG_REDUCE_STORES" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
@@ -4821,72 +6524,189 @@ when implementing user defined functions.]]>
     </constructor>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigFloatWritableComparator -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigIntWritableComparator -->
-  <class name="JobControlCompiler.PigIntWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingBagWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingBagWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="JobControlCompiler.PigIntWritableComparator"
+    <constructor name="JobControlCompiler.PigGroupingBagWritableComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigIntWritableComparator -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigLongWritableComparator -->
-  <class name="JobControlCompiler.PigLongWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingBagWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingCharArrayWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingCharArrayWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="JobControlCompiler.PigLongWritableComparator"
+    <constructor name="JobControlCompiler.PigGroupingCharArrayWritableComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigLongWritableComparator -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigTupleWritableComparator -->
-  <class name="JobControlCompiler.PigTupleWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingCharArrayWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingDBAWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingDBAWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="JobControlCompiler.PigTupleWritableComparator"
+    <constructor name="JobControlCompiler.PigGroupingDBAWritableComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigTupleWritableComparator -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator -->
-  <class name="JobControlCompiler.PigWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingDBAWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingDoubleWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingDoubleWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="JobControlCompiler.PigWritableComparator" type="java.lang.Class"
-      static="false" final="false" visibility="protected"
+    <constructor name="JobControlCompiler.PigGroupingDoubleWritableComparator"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="compare" return="int"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingDoubleWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingFloatWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingFloatWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigGroupingFloatWritableComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b1" type="byte[]"/>
-      <param name="s1" type="int"/>
-      <param name="l1" type="int"/>
-      <param name="b2" type="byte[]"/>
-      <param name="s2" type="int"/>
-      <param name="l2" type="int"/>
-    </method>
+    </constructor>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobCreationException -->
-  <class name="JobCreationException" extends="org.apache.pig.impl.logicalLayer.FrontendException"
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingFloatWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingIntWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingIntWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="JobCreationException"
+    <constructor name="JobControlCompiler.PigGroupingIntWritableComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a new JobCreationException with null as the error message.]]>
-      </doc>
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingIntWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingLongWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingLongWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigGroupingLongWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingLongWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingPartitionWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingPartitionWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigGroupingPartitionWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingPartitionWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingTupleWritableComparator -->
+  <class name="JobControlCompiler.PigGroupingTupleWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigGroupingTupleWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigGroupingTupleWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigIntWritableComparator -->
+  <class name="JobControlCompiler.PigIntWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigIntWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigIntWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigLongWritableComparator -->
+  <class name="JobControlCompiler.PigLongWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigLongWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigLongWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigSecondaryKeyGroupComparator -->
+  <class name="JobControlCompiler.PigSecondaryKeyGroupComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigSecondaryKeyGroupComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="compare" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="a" type="org.apache.hadoop.io.WritableComparable"/>
+      <param name="b" type="org.apache.hadoop.io.WritableComparable"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigSecondaryKeyGroupComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigTupleWritableComparator -->
+  <class name="JobControlCompiler.PigTupleWritableComparator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigTupleWritableComparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigTupleWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator -->
+  <class name="JobControlCompiler.PigWritableComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobControlCompiler.PigWritableComparator" type="java.lang.Class"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="compare" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b1" type="byte[]"/>
+      <param name="s1" type="int"/>
+      <param name="l1" type="int"/>
+      <param name="b2" type="byte[]"/>
+      <param name="s2" type="int"/>
+      <param name="l2" type="int"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.PigWritableComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobCreationException -->
+  <class name="JobCreationException" extends="org.apache.pig.impl.logicalLayer.FrontendException"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="JobCreationException"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create a new JobCreationException with null as the error message.]]>
+      </doc>
     </constructor>
     <constructor name="JobCreationException" type="java.lang.String"
       static="false" final="false" visibility="public"
@@ -5052,10 +6872,8 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Returns a list of locations of results that have been
- successfully completed.
- @return A list of filspecs that corresponds to the locations of
- the successful stores.]]>
+      <![CDATA[@return A list of {@link POStore} objects corresponding to the store
+ statements that were successful]]>
       </doc>
     </method>
     <method name="getFailedFiles" return="java.util.List"
@@ -5063,9 +6881,8 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Returns a list of locations of results that have failed.
- @return A list of filspecs that corresponds to the locations of
- the failed stores.]]>
+      <![CDATA[@return A list of {@link POStore} objects corresponding to the store
+ statements that failed]]>
       </doc>
     </method>
     <method name="reset"
@@ -5226,6 +7043,12 @@ when implementing user defined functions.]]>
  @throws Exception]]>
       </doc>
     </method>
+    <method name="getFirstLineFromMessage" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="message" type="java.lang.String"/>
+    </method>
     <field name="succeededStores" type="java.util.List"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -5370,6 +7193,33 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="isSkewedJoin" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSkewedJoinPartitionFile"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="file" type="java.lang.String"/>
+    </method>
+    <method name="getSkewedJoinPartitionFile" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSkewedJoin"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="skJoin" type="boolean"/>
+    </method>
+    <method name="getSkewedJoin" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="setGlobalSort"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5387,6 +7237,17 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <param name="las" type="boolean"/>
     </method>
+    <method name="isLimitOnly" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setLimitOnly"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="limitOnly" type="boolean"/>
+    </method>
     <method name="needsDistinctCombiner" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5415,93 +7276,82 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <param name="sortOrder" type="boolean[]"/>
     </method>
-    <method name="getSortOrder" return="boolean[]"
+    <method name="setSecondarySortOrder"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="secondarySortOrder" type="boolean[]"/>
     </method>
-    <method name="isStreamInMap" return="boolean"
+    <method name="getSortOrder" return="boolean[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return whether there is a POStream in the map plan]]>
-      </doc>
     </method>
-    <method name="setStreamInMap"
+    <method name="getSecondarySortOrder" return="boolean[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="streamInMap" type="boolean"/>
-      <doc>
-      <![CDATA[@param streamInMap the streamInMap to set]]>
-      </doc>
     </method>
-    <method name="isStreamInReduce" return="boolean"
+    <method name="isEndOfAllInputSetInMap" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[@return whether there is a POStream in the reduce plan]]>
+      <![CDATA[@return whether end of all input is set in the map plan]]>
       </doc>
     </method>
-    <method name="setStreamInReduce"
+    <method name="setEndOfAllInputInMap"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="streamInReduce" type="boolean"/>
+      <param name="endOfAllInputInMap" type="boolean"/>
       <doc>
-      <![CDATA[@param streamInReduce the streamInReduce to set]]>
+      <![CDATA[@param endOfAllInputInMap the streamInMap to set]]>
       </doc>
     </method>
-    <method name="getFragment" return="int"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="setFragment"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="fragment" type="int"/>
-    </method>
-    <method name="isFrjoin" return="boolean"
+    <method name="isEndOfAllInputSetInReduce" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return whether end of all input is set in the reduce plan]]>
+      </doc>
     </method>
-    <method name="setFrjoin"
+    <method name="setEndOfAllInputInReduce"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="frjoin" type="boolean"/>
+      <param name="endOfAllInputInReduce" type="boolean"/>
+      <doc>
+      <![CDATA[@param endOfAllInputInReduce the streamInReduce to set]]>
+      </doc>
     </method>
-    <method name="getReplFiles" return="org.apache.pig.impl.io.FileSpec[]"
+    <method name="getRequestedParallelism" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setReplFiles"
+    <method name="setSplitter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="replFiles" type="org.apache.pig.impl.io.FileSpec[]"/>
+      <param name="spl" type="boolean"/>
     </method>
-    <method name="getRequestedParallelism" return="int"
+    <method name="isSplitter" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setSplitter"
+    <method name="getUseSecondaryKey" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="spl" type="boolean"/>
     </method>
-    <method name="isSplitter" return="boolean"
+    <method name="setUseSecondaryKey"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="useSecondaryKey" type="boolean"/>
     </method>
     <field name="mapPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
       transient="false" volatile="false"
@@ -5523,7 +7373,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="UDFs" type="java.util.List"
+    <field name="UDFs" type="java.util.Set"
       transient="false" volatile="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -5542,22 +7392,15 @@ when implementing user defined functions.]]>
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="MapReducePOStoreImpl" type="org.apache.hadoop.mapred.JobConf"
+    <constructor name="MapReducePOStoreImpl" type="org.apache.hadoop.mapreduce.TaskAttemptContext"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="setReporter"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
-    </method>
-    <method name="createStoreFunc" return="org.apache.pig.StoreFunc"
+    <method name="createStoreFunc" return="org.apache.pig.StoreFuncInterface"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="sFile" type="org.apache.pig.impl.io.FileSpec"/>
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="store" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="tearDown"
@@ -5572,23 +7415,76 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="PIG_STORE_CONFIG" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
     <doc>
     <![CDATA[This class is used to have a POStore write to DFS via a output
  collector/record writer. It sets up a modified job configuration to
  force a write to a specific subdirectory of the main output
  directory. This is done so that multiple output directories can be
- used in the same job. Since the hadoop framework requires a
- reporter to be available to create the record writer the main
- function (createStoreFunc) has to be called from within a map or
- reduce function.]]>
+ used in the same job.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReducePOStoreImpl -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MergeJoinIndexer -->
+  <class name="MergeJoinIndexer" extends="org.apache.pig.LoadFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="MergeJoinIndexer" type="java.lang.String, java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[@param funcSpec : Loader specification.
+  @param innerPlan : This is serialized version of LR plan. We 
+  want to keep only keys in our index file and not the whole tuple. So, we need LR and thus its plan
+  to get keys out of the sampled tuple.  
+ @param serializedPhyPlan Serialized physical plan on right side.
+ @throws ExecException]]>
+      </doc>
+    </constructor>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[Merge Join indexer is used to generate on the fly index for doing Merge Join efficiently.
+  It samples first record from every block of right side input. 
+  and returns tuple in the following format : 
+  (key0, key1,...,position,splitIndex)
+  These tuples are then sorted before being written out to index file on HDFS.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MergeJoinIndexer -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MRCompiler -->
   <class name="MRCompiler" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"
     abstract="false"
@@ -5695,6 +7591,15 @@ when implementing user defined functions.]]>
       <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStream"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="connectMapToReduceLimitedSort"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mro" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <param name="sortMROp" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="simpleConnectMapToReduce"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5702,6 +7607,11 @@ when implementing user defined functions.]]>
       <param name="mro" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
       <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
     </method>
+    <method name="getPlainForEachOP" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POForEach"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="visitLimit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5716,6 +7626,13 @@ when implementing user defined functions.]]>
       <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POLocalRearrange"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitCollectedGroup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCollectedGroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitPOForEach"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5758,6 +7675,24 @@ when implementing user defined functions.]]>
  and some parametes associated with it.]]>
       </doc>
     </method>
+    <method name="visitMergeJoin"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="joinOp" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMergeJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Since merge-join works on two inputs there are exactly two MROper predecessors identified  as left and right.
+  Instead of merging two operators, both are used to generate a MR job each. First MR oper is run to generate on-the-fly index on right side.
+  Second is used to actually do the join. First MR oper is identified as rightMROper and second as curMROper.
+
+  1) RightMROper: If it is in map phase. It can be preceded only by POLoad. If there is anything else
+                  in physical plan, that is yanked and set as inner plans of joinOp.
+                  If it is reduce phase. Close this operator and start new MROper.
+  2) LeftMROper:  If it is in map phase, add the Join operator in it.
+                  If it is in reduce phase. Close it and start new MROper.]]>
+      </doc>
+    </method>
     <method name="visitDistinct"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5765,6 +7700,13 @@ when implementing user defined functions.]]>
       <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.PODistinct"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitSkewedJoin"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitSort"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -5797,9 +7739,66 @@ when implementing user defined functions.]]>
       <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="getSkewedJoinSampleJob" return="org.apache.pig.impl.util.Pair"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin"/>
+      <param name="prevJob" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <param name="lFile" type="org.apache.pig.impl.io.FileSpec"/>
+      <param name="sampleFile" type="org.apache.pig.impl.io.FileSpec"/>
+      <param name="rp" type="int"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Create Sampling job for skewed join.]]>
+      </doc>
+    </method>
+    <method name="getSamplingJob" return="org.apache.pig.impl.util.Pair"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="sort" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSort"/>
+      <param name="prevJob" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <param name="transformPlans" type="java.util.List"/>
+      <param name="lFile" type="org.apache.pig.impl.io.FileSpec"/>
+      <param name="sampleFile" type="org.apache.pig.impl.io.FileSpec"/>
+      <param name="rp" type="int"/>
+      <param name="sortKeyPlans" type="java.util.List"/>
+      <param name="udfClassName" type="java.lang.String"/>
+      <param name="udfArgs" type="java.lang.String[]"/>
+      <param name="sampleLdrClassName" type="java.lang.String"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Create a sampling job to collect statistics by sampling an input file. The sequence of operations is as
+ following:
+ <li>Transform input sample tuples into another tuple.</li>
+ <li>Add an extra field &quot;all&quot; into the tuple </li>
+ <li>Package all tuples into one bag </li>
+ <li>Add constant field for number of reducers. </li>
+ <li>Sorting the bag </li>
+ <li>Invoke UDF with the number of reducers and the sorted bag.</li>
+ <li>Data generated by UDF is stored into a file.</li>
+ 
+ @param sort  the POSort operator used to sort the bag
+ @param prevJob  previous job of current sampling job
+ @param transformPlans  PhysicalPlans to transform input samples
+ @param lFile  path of input file
+ @param sampleFile  path of output file
+ @param rp  configured parallemism
+ @param sortKeyPlans  PhysicalPlans to be set into POSort operator to get sorting keys
+ @param udfClassName  the class name of UDF
+ @param udfArgs   the arguments of UDF
+ @param sampleLdrClassName class name for the sample loader
+ @return pair<mapreduceoper,integer>
+ @throws PlanException
+ @throws VisitorException]]>
+      </doc>
+    </method>
     <field name="USER_COMPARATOR_MARKER" type="java.lang.String"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
     <doc>
@@ -6008,6 +8007,13 @@ when implementing user defined functions.]]>
       <param name="lr" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POLocalRearrange"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitCollectedGroup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mg" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCollectedGroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitGlobalRearrange"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -6263,24 +8269,26 @@ when implementing user defined functions.]]>
       <param name="join" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POFRJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visitStream"
+    <method name="visitMergeJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stream" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStream"/>
+      <param name="join" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMergeJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visitCogroup"
+    <method name="visitSkewedJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cogroup" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCogroup"/>
+      <param name="join" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visitSplit"
+    <method name="visitStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplit"/>
+      <param name="stream" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStream"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visitLocalRearrangeForIllustrate"
       abstract="false" native="false" synchronized="false"
@@ -6301,12 +8309,6 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <param name="preCombinerLocalRearrange" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPreCombinerLocalRearrange"/>
     </method>
-    <method name="visitCross"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="cross" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCross"/>
-    </method>
     <doc>
     <![CDATA[Sets the parent plan for all Physical Operators. Note: parentPlan
  is a bit of a misnomer. We actually want all the operators to point
@@ -6369,7 +8371,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <field name="sJobConf" type="org.apache.hadoop.mapred.JobConf"
+    <field name="sJobContext" type="org.apache.hadoop.mapreduce.JobContext"
       transient="false" volatile="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
@@ -6377,20 +8379,21 @@ when implementing user defined functions.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigCombiner -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigCombiner.Combine -->
-  <class name="PigCombiner.Combine" extends="org.apache.hadoop.mapred.MapReduceBase"
+  <class name="PigCombiner.Combine" extends="org.apache.hadoop.mapreduce.Reducer"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Reducer"/>
     <constructor name="PigCombiner.Combine"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="configure"
+    <method name="setup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="jConf" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Configures the Reduce plan, the POPackage operator
  and the reporter thread]]>
@@ -6398,13 +8401,13 @@ when implementing user defined functions.]]>
     </method>
     <method name="reduce"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="key" type="org.apache.pig.impl.io.PigNullableWritable"/>
-      <param name="tupIter" type="java.util.Iterator"/>
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="tupIter" type="java.lang.Iterable"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[The reduce function which packages the key and List &lt;Tuple&gt;
  into key, Bag&lt;Tuple&gt; after converting Hadoop type key into Pig type.
@@ -6416,14 +8419,17 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
-    <method name="close"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Will be called once all the intermediate keys and values are
  processed. So right place to stop the reporter thread.]]>
@@ -6494,6 +8500,24 @@ when implementing user defined functions.]]>
     </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigDoubleRawComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigFileInputFormat -->
+  <class name="PigFileInputFormat" extends="org.apache.hadoop.mapreduce.lib.input.FileInputFormat"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigFileInputFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="listStatus" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigFileInputFormat -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigFloatRawComparator -->
   <class name="PigFloatRawComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
@@ -6559,16 +8583,16 @@ when implementing user defined functions.]]>
       <param name="msg" type="java.lang.String"/>
       <param name="warningEnum" type="java.lang.Enum"/>
     </method>
-    <method name="getReporter" return="org.apache.hadoop.mapred.Reporter"
+    <method name="getTaskIOContext" return="org.apache.hadoop.mapreduce.TaskInputOutputContext"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setReporter"
+    <method name="setTaskIOContext"
       abstract="false" native="false" synchronized="true"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="rep" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="tioc" type="org.apache.hadoop.mapreduce.TaskInputOutputContext"/>
     </method>
     <method name="getAggregate" return="boolean"
       abstract="false" native="false" synchronized="false"
@@ -6589,104 +8613,58 @@ when implementing user defined functions.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigHadoopLogger -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputFormat -->
-  <class name="PigInputFormat" extends="java.lang.Object"
+  <class name="PigInputFormat" extends="org.apache.hadoop.mapreduce.InputFormat"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.InputFormat"/>
-    <implements name="org.apache.hadoop.mapred.JobConfigurable"/>
     <constructor name="PigInputFormat"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="isSplitable" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <param name="fs" type="org.apache.hadoop.fs.FileSystem"/>
-      <param name="filename" type="org.apache.hadoop.fs.Path"/>
-      <doc>
-      <![CDATA[Is the given filename splitable? Usually, true, but if the file is stream
- compressed, it will not be.
- 
- <code>FileInputFormat</code> implementations can override this and
- return <code>false</code> to ensure that individual input files are
- never split-up so that {@link Mapper}s process entire files.
- 
- @param fs
-            the file system that the file is on
- @param filename
-            the file name to check
- @return is this file splitable?]]>
-      </doc>
-    </method>
-    <method name="listPaths" return="org.apache.hadoop.fs.Path[]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[List input directories. Subclasses may override to, e.g., select only
- files matching a regular expression.
- 
- @param job
-            the job to list input paths for
- @return array of Path objects
- @throws IOException
-             if zero items.]]>
-      </doc>
-    </method>
-    <method name="validateInput"
+    <method name="createRecordReader" return="org.apache.hadoop.mapreduce.RecordReader"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="split" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
-    <method name="getSplits" return="org.apache.hadoop.mapred.InputSplit[]"
+    <method name="getSplits" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <param name="numSplits" type="int"/>
+      <param name="jobcontext" type="org.apache.hadoop.mapreduce.JobContext"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Creates input splits one per input and slices of it
- per DFS block of the input file. Configures the PigSlice
- and returns the list of PigSlices as an array]]>
-      </doc>
-    </method>
-    <method name="getRecordReader" return="org.apache.hadoop.mapred.RecordReader"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="split" type="org.apache.hadoop.mapred.InputSplit"/>
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="configure"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="conf" type="org.apache.hadoop.mapred.JobConf"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
-    <method name="getActiveSplit" return="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper"
+    <method name="getActiveSplit" return="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <field name="LOG" type="org.apache.commons.logging.Log"
+    <field name="log" type="org.apache.commons.logging.Log"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="sJob" type="org.apache.hadoop.mapred.JobConf"
+    <field name="PIG_INPUTS" type="java.lang.String"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="sJob" type="org.apache.hadoop.conf.Configuration"
+      transient="false" volatile="false"
+      static="true" final="false" visibility="public"
+      deprecated="Use {@link UDFContext} instead in the following way to get 
+ the job's {@link Configuration}:
+ lEsS_tHaNpre>UdfContext.getUdfContext().getJobConf()lEsS_tHaN/pre>">
+      <doc>
+      <![CDATA[@deprecated Use {@link UDFContext} instead in the following way to get 
+ the job's {@link Configuration}:
+ <pre>UdfContext.getUdfContext().getJobConf()</pre>]]>
+      </doc>
+    </field>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputFormat -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigIntRawComparator -->
@@ -6782,7 +8760,7 @@ when implementing user defined functions.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigLongRawComparator -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapBase -->
-  <class name="PigMapBase" extends="org.apache.hadoop.mapred.MapReduceBase"
+  <class name="PigMapBase" extends="org.apache.hadoop.mapreduce.Mapper"
     abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -6790,21 +8768,25 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="close"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Will be called when all the tuples in the input
  are done. So reporter thread should be closed.]]>
       </doc>
     </method>
-    <method name="configure"
+    <method name="setup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Configures the mapper with the map plan and the
  reproter thread]]>
@@ -6812,13 +8794,13 @@ when implementing user defined functions.]]>
     </method>
     <method name="map"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="key" type="org.apache.hadoop.io.Text"/>
       <param name="inpTuple" type="org.apache.pig.data.Tuple"/>
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[The map function that attaches the inpTuple appropriately
  and executes the map plan if its not empty. Collects the
@@ -6829,13 +8811,21 @@ when implementing user defined functions.]]>
  the key and indexed tuple.]]>
       </doc>
     </method>
+    <method name="runPipeline"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="leaf" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
     <method name="collect"
       abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <param name="tuple" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="getKeyType" return="byte"
@@ -6914,7 +8904,6 @@ when implementing user defined functions.]]>
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Mapper"/>
     <constructor name="PigMapOnly.Map"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -6923,9 +8912,9 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <param name="tuple" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
@@ -6939,11 +8928,23 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <field name="sJobConf" type="org.apache.hadoop.mapred.JobConf"
+    <field name="sJobContext" type="org.apache.hadoop.mapreduce.JobContext"
       transient="false" volatile="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="sJobConf" type="org.apache.hadoop.conf.Configuration"
+      transient="false" volatile="false"
+      static="true" final="false" visibility="public"
+      deprecated="Use {@link UDFContext} instead in the following way to get 
+ the job's {@link Configuration}:
+ lEsS_tHaNpre>UdfContext.getUdfContext().getJobConf()lEsS_tHaN/pre>">
+      <doc>
+      <![CDATA[@deprecated Use {@link UDFContext} instead in the following way to get 
+ the job's {@link Configuration}:
+ <pre>UdfContext.getUdfContext().getJobConf()</pre>]]>
+      </doc>
+    </field>
     <doc>
     <![CDATA[This class is the static Mapper &amp; Reducer classes that
  are used by Pig to execute Pig Map Reduce jobs. Since
@@ -6973,7 +8974,6 @@ when implementing user defined functions.]]>
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Mapper"/>
     <constructor name="PigMapReduce.Map"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -6982,9 +8982,9 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <param name="tuple" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
@@ -6994,7 +8994,6 @@ when implementing user defined functions.]]>
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Mapper"/>
     <constructor name="PigMapReduce.MapWithComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -7003,9 +9002,9 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
       <param name="tuple" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
@@ -7016,21 +9015,53 @@ when implementing user defined functions.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.MapWithComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.MapWithPartitionIndex -->
+  <class name="PigMapReduce.MapWithPartitionIndex" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.Map"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigMapReduce.MapWithPartitionIndex"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="collect"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oc" type="org.apache.hadoop.mapreduce.Mapper.Context"/>
+      <param name="tuple" type="org.apache.pig.data.Tuple"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="runPipeline"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="leaf" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <doc>
+    <![CDATA[Used by Skewed Join]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.MapWithPartitionIndex -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.Reduce -->
-  <class name="PigMapReduce.Reduce" extends="org.apache.hadoop.mapred.MapReduceBase"
+  <class name="PigMapReduce.Reduce" extends="org.apache.hadoop.mapreduce.Reducer"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Reducer"/>
     <constructor name="PigMapReduce.Reduce"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="configure"
+    <method name="setup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="jConf" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Configures the Reduce plan, the POPackage operator
  and the reporter thread]]>
@@ -7038,13 +9069,13 @@ when implementing user defined functions.]]>
     </method>
     <method name="reduce"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="key" type="org.apache.pig.impl.io.PigNullableWritable"/>
-      <param name="tupIter" type="java.util.Iterator"/>
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="tupIter" type="java.lang.Iterable"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[The reduce function which packages the key and List&lt;Tuple&gt;
  into key, Bag&lt;Tuple&gt; after converting Hadoop type key into Pig type.
@@ -7056,27 +9087,30 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
+      <param name="oc" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
     <method name="runPipeline"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="leaf" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
       <![CDATA[@param leaf
- @throws ExecException 
+ @throws InterruptedException
  @throws IOException]]>
       </doc>
     </method>
-    <method name="close"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Will be called once all the intermediate keys and values are
  processed. So right place to stop the reporter thread.]]>
@@ -7102,7 +9136,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="outputCollector" type="org.apache.hadoop.mapred.OutputCollector"
+    <field name="outputCollector" type="org.apache.hadoop.mapreduce.Reducer.Context"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -7128,11 +9162,13 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="configure"
+    <method name="setup"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="jConf" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[Configures the Reduce plan, the POPackage operator
  and the reporter thread]]>
@@ -7140,13 +9176,13 @@ when implementing user defined functions.]]>
     </method>
     <method name="reduce"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="key" type="org.apache.pig.impl.io.PigNullableWritable"/>
-      <param name="tupIter" type="java.util.Iterator"/>
-      <param name="oc" type="org.apache.hadoop.mapred.OutputCollector"/>
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="tupIter" type="java.lang.Iterable"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.Reducer.Context"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[The reduce function which packages the key and List&lt;Tuple&gt;
  into key, Bag&lt;Tuple&gt; after converting Hadoop type key into Pig type.
@@ -7165,67 +9201,152 @@ when implementing user defined functions.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce.ReduceWithComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputCommitter -->
+  <class name="PigOutputCommitter" extends="org.apache.hadoop.mapreduce.OutputCommitter"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigOutputCommitter" type="org.apache.hadoop.mapreduce.TaskAttemptContext"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@param context
+ @throws IOException]]>
+      </doc>
+    </constructor>
+    <method name="cleanupJob"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="abortTask"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="commitTask"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="needsTaskCommit" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setupJob"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setupTask"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[A specialization of the default FileOutputCommitter to allow
+ pig to inturn delegate calls to the OutputCommiter(s) of the 
+ StoreFunc(s)' OutputFormat(s).]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputCommitter -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat -->
-  <class name="PigOutputFormat" extends="java.lang.Object"
+  <class name="PigOutputFormat" extends="org.apache.hadoop.mapreduce.OutputFormat"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.OutputFormat"/>
     <constructor name="PigOutputFormat"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getRecordWriter" return="org.apache.hadoop.mapred.RecordWriter"
+    <method name="getRecordWriter" return="org.apache.hadoop.mapreduce.RecordWriter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fs" type="org.apache.hadoop.fs.FileSystem"/>
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <param name="name" type="java.lang.String"/>
-      <param name="progress" type="org.apache.hadoop.util.Progressable"/>
+      <param name="taskattemptcontext" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="jobContext" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <param name="store" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[In general, the mechanism for an OutputFormat in Pig to get hold of the storeFunc
- and the metadata information (for now schema and location provided for the store in
- the pig script) is through the following Utility static methods:
- {@link org.apache.pig.backend.hadoop.executionengine.util.MapRedUtil#getStoreFunc(JobConf)} 
- - this will get the {@link org.apache.pig.StoreFunc} reference to use in the RecordWriter.write()
- {@link MapRedUtil#getStoreConfig(JobConf)} - this will get the {@link org.apache.pig.StoreConfig}
- reference which has metadata like the location (the string supplied with store statement in the script)
- and the {@link org.apache.pig.impl.logicalLayer.schema.Schema} of the data. The OutputFormat
- should NOT use the location in the StoreConfig to write the output if the location represents a 
- Hadoop dfs path. This is because when "speculative execution" is turned on in Hadoop, multiple
- attempts for the same task (for a given partition) may be running at the same time. So using the
- location will mean that these different attempts will over-write each other's output.
- The OutputFormat should use 
- {@link org.apache.hadoop.mapred.FileOutputFormat#getWorkOutputPath(JobConf)}
- which will provide a safe output directory into which the OutputFormat should write
- the part file (given by the name argument in the getRecordWriter() call).]]>
+      <![CDATA[Before delegating calls to underlying OutputFormat or OutputCommitter
+ Pig needs to ensure the Configuration in the JobContext contains
+ the output location and StoreFunc 
+ for the specific store - so set these up in the context for this specific 
+ store
+ @param jobContext the {@link JobContext}
+ @param store the POStore
+ @throws IOException on failure]]>
       </doc>
     </method>
-    <method name="getRecordWriter" return="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat.PigRecordWriter"
+    <method name="checkOutputSpecs"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fs" type="org.apache.hadoop.fs.FileSystem"/>
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <param name="outputDir" type="org.apache.hadoop.fs.Path"/>
-      <param name="name" type="java.lang.String"/>
-      <param name="progress" type="org.apache.hadoop.util.Progressable"/>
+      <param name="jobcontext" type="org.apache.hadoop.mapreduce.JobContext"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
-    <method name="checkOutputSpecs"
+    <method name="getOutputCommitter" return="org.apache.hadoop.mapreduce.OutputCommitter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fs" type="org.apache.hadoop.fs.FileSystem"/>
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="taskattemptcontext" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
-    <field name="PIG_OUTPUT_FUNC" type="java.lang.String"
+    <field name="MAPRED_OUTPUT_DIR" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[hadoop job output directory]]>
+      </doc>
+    </field>
+    <field name="MAPRED_TASK_PARTITION" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[hadoop partition number]]>
+      </doc>
+    </field>
+    <field name="PIG_MAPRED_OUTPUT_DIR" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[the temporary directory for the multi store]]>
+      </doc>
+    </field>
+    <field name="PIG_TMP_PATH" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[the relative path that can be used to build a temporary
+ place to store the output from a number of map-reduce tasks]]>
+      </doc>
     </field>
     <doc>
     <![CDATA[The better half of PigInputFormat which is responsible
@@ -7236,12 +9357,11 @@ when implementing user defined functions.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat.PigRecordWriter -->
-  <class name="PigOutputFormat.PigRecordWriter" extends="java.lang.Object"
+  <class name="PigOutputFormat.PigRecordWriter" extends="org.apache.hadoop.mapreduce.RecordWriter"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.RecordWriter"/>
-    <constructor name="PigOutputFormat.PigRecordWriter" type="org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.pig.StoreFunc"
+    <constructor name="PigOutputFormat.PigRecordWriter" type="org.apache.hadoop.mapreduce.RecordWriter, org.apache.pig.StoreFuncInterface, org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat.Mode"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
@@ -7253,71 +9373,203 @@ when implementing user defined functions.]]>
       <param name="key" type="org.apache.hadoop.io.WritableComparable"/>
       <param name="value" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
       <doc>
       <![CDATA[We only care about the values, so we are going to skip the keys when
  we write.
  
- @see org.apache.hadoop.mapred.RecordWriter#write(Object, Object)]]>
+ @see org.apache.hadoop.mapreduce.RecordWriter#write(Object, Object)]]>
       </doc>
     </method>
     <method name="close"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="reporter" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="taskattemptcontext" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
+    <doc>
+    <![CDATA[Wrapper class which will delegate calls to the actual RecordWriter - this
+ should only get called in the single store case.]]>
+    </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat.PigRecordWriter -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit -->
-  <class name="PigSplit" extends="java.lang.Object"
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigRecordReader -->
+  <class name="PigRecordReader" extends="org.apache.hadoop.mapreduce.RecordReader"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.InputSplit"/>
-    <constructor name="PigSplit"
+    <constructor name="PigRecordReader" type="org.apache.hadoop.mapreduce.RecordReader, org.apache.pig.LoadFunc, org.apache.hadoop.conf.Configuration"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param conf]]>
+      </doc>
     </constructor>
-    <constructor name="PigSplit" type="org.apache.pig.impl.PigContext, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, java.lang.String, java.util.List, long, long"
+    <method name="close"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getCurrentKey" return="org.apache.hadoop.io.Text"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="getCurrentValue" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="getProgress" return="float"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="initialize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="nextKeyValue" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <doc>
+    <![CDATA[A wrapper around the actual RecordReader and loadfunc - this is needed for
+ two reasons
+ 1) To intercept the initialize call from hadoop and initialize the underlying
+ actual RecordReader with the right Context object - this is achieved by 
+ looking up the Context corresponding to the input split this Reader is 
+ supposed to process
+ 2) We need to give hadoop consistent key-value types - text and tuple 
+ respectively - so PigRecordReader will call underlying Loader's getNext() to
+ get the Tuple value - the key is null text since key is not used in input to
+ map() in Pig.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigRecordReader -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSecondaryKeyComparator -->
+  <class name="PigSecondaryKeyComparator" extends="org.apache.hadoop.io.WritableComparator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.conf.Configurable"/>
+    <constructor name="PigSecondaryKeyComparator"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getParser" return="java.lang.String"
+    <method name="setConf"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
     </method>
-    <method name="getStart" return="long"
+    <method name="getConf" return="org.apache.hadoop.conf.Configuration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getLength" return="long"
+    <method name="compare" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="b1" type="byte[]"/>
+      <param name="s1" type="int"/>
+      <param name="l1" type="int"/>
+      <param name="b2" type="byte[]"/>
+      <param name="s2" type="int"/>
+      <param name="l2" type="int"/>
     </method>
-    <method name="getPath" return="org.apache.hadoop.fs.Path"
+    <method name="compare" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="k1" type="java.lang.Object"/>
+      <param name="k2" type="java.lang.Object"/>
+      <param name="index1" type="int"/>
+      <param name="index2" type="int"/>
+      <param name="ascs" type="boolean[]"/>
+      <param name="wholeTuple" type="boolean"/>
     </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSecondaryKeyComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSequenceFileInputFormat -->
+  <class name="PigSequenceFileInputFormat" extends="org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigSequenceFileInputFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="listStatus" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSequenceFileInputFormat -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit -->
+  <class name="PigSplit" extends="org.apache.hadoop.mapreduce.InputSplit"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.io.Writable"/>
+    <implements name="org.apache.hadoop.conf.Configurable"/>
+    <constructor name="PigSplit"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="PigSplit" type="org.apache.hadoop.mapreduce.InputSplit, int, java.util.List, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
     <method name="getTargetOps" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getLoadFunction" return="org.apache.pig.LoadFunc"
+    <method name="getWrappedSplit" return="org.apache.hadoop.mapreduce.InputSplit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[This methods returns the actual InputSplit (as returned by the 
+ {@link InputFormat}) which this class is wrapping.
+ @return the wrappedSplit]]>
+      </doc>
     </method>
     <method name="getLocations" return="java.lang.String[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="getLength" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
     </method>
     <method name="readFields"
       abstract="false" native="false" synchronized="false"
@@ -7333,12 +9585,98 @@ when implementing user defined functions.]]>
       <param name="os" type="java.io.DataOutput"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="getConf" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setConf"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
+      <doc>
+      <![CDATA[(non-Javadoc)
+ @see org.apache.hadoop.conf.Configurable#setConf(org.apache.hadoop.conf.Configuration)
+ 
+ This will be called by 
+ {@link PigInputFormat#getSplits(org.apache.hadoop.mapreduce.JobContext)}
+ to be used in {@link #write(DataOutput)} for serializing the 
+ wrappedSplit
+ 
+ This will be called by Hadoop in the backend to set the right Job 
+ Configuration (hadoop will invoke this method because PigSplit implements
+ {@link Configurable} - we need this Configuration in readFields() to
+ deserialize the wrappedSplit]]>
+      </doc>
+    </method>
     <doc>
     <![CDATA[The main split class that maintains important
- information about the input split.]]>
+ information about the input split.
+
+ The reason this class implements Configurable is so that Hadoop will call
+ {@link Configurable#setConf(Configuration)} on the backend so we can use
+ the Configuration to create the SerializationFactory to deserialize the
+ wrapped InputSplit.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextInputFormat -->
+  <class name="PigTextInputFormat" extends="org.apache.hadoop.mapreduce.lib.input.TextInputFormat"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigTextInputFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="listStatus" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.mapreduce.JobContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextInputFormat -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextOutputFormat -->
+  <class name="PigTextOutputFormat" extends="org.apache.hadoop.mapreduce.lib.output.TextOutputFormat"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PigTextOutputFormat" type="byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getRecordWriter" return="org.apache.hadoop.mapreduce.RecordWriter"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextOutputFormat -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextOutputFormat.PigLineRecordWriter -->
+  <class name="PigTextOutputFormat.PigLineRecordWriter" extends="org.apache.hadoop.mapreduce.lib.output.TextOutputFormat.LineRecordWriter"
+    abstract="false"
+    static="true" final="false" visibility="protected"
+    deprecated="not deprecated">
+    <constructor name="PigTextOutputFormat.PigLineRecordWriter" type="java.io.DataOutputStream, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="write"
+      abstract="false" native="false" synchronized="true"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="key" type="org.apache.hadoop.io.WritableComparable"/>
+      <param name="value" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextOutputFormat.PigLineRecordWriter -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextRawComparator -->
   <class name="PigTextRawComparator" extends="org.apache.hadoop.io.WritableComparator"
     abstract="false"
@@ -7441,7 +9779,7 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="ProgressableReporter" type="org.apache.hadoop.mapred.Reporter"
+    <constructor name="ProgressableReporter" type="org.apache.hadoop.util.Progressable"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -7460,80 +9798,118 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="rep" type="org.apache.hadoop.mapred.Reporter"/>
+      <param name="rep" type="org.apache.hadoop.util.Progressable"/>
     </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ProgressableReporter -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper -->
-  <class name="SliceWrapper" extends="java.lang.Object"
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SampleOptimizer -->
+  <class name="SampleOptimizer" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.InputSplit"/>
-    <constructor name="SliceWrapper"
+    <constructor name="SampleOptimizer" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="SliceWrapper" type="org.apache.pig.Slice, org.apache.pig.ExecType, int, org.apache.hadoop.fs.FileSystem, java.util.ArrayList"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visitMROp"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mr" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <doc>
+    <![CDATA[A visitor to optimize plans that have a sample job that immediately follows a
+ load/store only MR job.  These kinds of plans are generated for order bys, and
+ will soon be generated for joins that need to sample their data first.  These
+ can be changed so that the RandomSampleLoader subsumes the loader used in the
+ first job and then removes the first job.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SampleOptimizer -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SecondaryKeyOptimizer -->
+  <class name="SecondaryKeyOptimizer" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SecondaryKeyOptimizer" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            The MROperPlan to visit to discover keyType]]>
+      </doc>
     </constructor>
-    <method name="getIndex" return="int"
+    <method name="visitMROp"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="mr" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getLength" return="long"
+    <method name="getNumMRUseSecondaryKey" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getLocations" return="java.lang.String[]"
+    <method name="getNumSortRemoved" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getJobConf" return="org.apache.hadoop.mapred.JobConf"
+    <method name="getDistinctChanged" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="makeReader" return="org.apache.hadoop.mapred.RecordReader"
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SecondaryKeyOptimizer -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SortKeyInfo -->
+  <class name="SortKeyInfo" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SortKeyInfo"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="moreSpecificThan" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="o2" type="java.lang.Object"/>
     </method>
-    <method name="readFields"
+    <method name="insertColumnChainInfo"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="is" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="index" type="int"/>
+      <param name="columnChainInfo" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.ColumnChainInfo"/>
+      <param name="asc" type="boolean"/>
     </method>
-    <method name="write"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getWrapped" return="org.apache.pig.Slice"
+    <method name="getColumnChains" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getAscs" return="boolean[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return the wrapped Slice]]>
-      </doc>
     </method>
-    <doc>
-    <![CDATA[Wraps a {@link Slice} in an {@link InputSplit} so it's usable by hadoop.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper -->
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SortKeyInfo -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.UDFFinishVisitor -->
   <class name="UDFFinishVisitor" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"
     abstract="false"
@@ -7643,12 +10019,80 @@ when implementing user defined functions.]]>
     </constructor>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.MalFormedProbVecException -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.SecondaryKeyPartitioner -->
+  <class name="SecondaryKeyPartitioner" extends="org.apache.hadoop.mapreduce.lib.partition.HashPartitioner"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.conf.Configurable"/>
+    <constructor name="SecondaryKeyPartitioner"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getPartition" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="key" type="org.apache.pig.impl.io.PigNullableWritable"/>
+      <param name="value" type="org.apache.hadoop.io.Writable"/>
+      <param name="numPartitions" type="int"/>
+    </method>
+    <method name="getConf" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setConf"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.SecondaryKeyPartitioner -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.SkewedPartitioner -->
+  <class name="SkewedPartitioner" extends="org.apache.hadoop.mapreduce.Partitioner"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.conf.Configurable"/>
+    <constructor name="SkewedPartitioner"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getPartition" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="wrappedKey" type="org.apache.pig.impl.io.PigNullableWritable"/>
+      <param name="value" type="org.apache.hadoop.io.Writable"/>
+      <param name="numPartitions" type="int"/>
+    </method>
+    <method name="setConf"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.conf.Configuration"/>
+    </method>
+    <method name="getConf" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[This class is used by skewed join. For the partitioned table, the skewedpartitioner reads the key
+ distribution data from the sampler file and returns the reducer index in a round robin fashion.
+ For ex: if the key distribution file contains (k1, 5, 3) as an entry, reducers from 5 to 3 are returned 
+ in a round robin manner.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.SkewedPartitioner -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.partitioners.WeightedRangePartitioner -->
-  <class name="WeightedRangePartitioner" extends="java.lang.Object"
+  <class name="WeightedRangePartitioner" extends="org.apache.hadoop.mapreduce.Partitioner"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.mapred.Partitioner"/>
+    <implements name="org.apache.hadoop.conf.Configurable"/>
     <constructor name="WeightedRangePartitioner"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -7661,15 +10105,20 @@ when implementing user defined functions.]]>
       <param name="value" type="org.apache.hadoop.io.Writable"/>
       <param name="numPartitions" type="int"/>
     </method>
-    <method name="configure"
+    <method name="setConf"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="configuration" type="org.apache.hadoop.conf.Configuration"/>
+    </method>
+    <method name="getConf" return="org.apache.hadoop.conf.Configuration"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="job" type="org.apache.hadoop.mapred.JobConf"/>
     </method>
     <field name="weightedParts" type="java.util.Map"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
   </class>
@@ -7726,7 +10175,7 @@ when implementing user defined functions.]]>
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.DotMRPrinter.InnerOperator -->
   <class name="DotMRPrinter.InnerOperator" extends="org.apache.pig.impl.plan.Operator"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
     <constructor name="DotMRPrinter.InnerOperator" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, java.lang.String"
       static="false" final="false" visibility="public"
@@ -7772,7 +10221,7 @@ when implementing user defined functions.]]>
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.DotMRPrinter.InnerPlan -->
   <class name="DotMRPrinter.InnerPlan" extends="org.apache.pig.impl.plan.OperatorPlan"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
     <constructor name="DotMRPrinter.InnerPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
       static="false" final="false" visibility="public"
@@ -7787,6 +10236,33 @@ when implementing user defined functions.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.DotMRPrinter.InnerPlan -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.EndOfAllInputSetter -->
+  <class name="EndOfAllInputSetter" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="EndOfAllInputSetter" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan MR plan to visit]]>
+      </doc>
+    </constructor>
+    <method name="visitMROp"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mr" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <doc>
+    <![CDATA[This visitor visits the MRPlan and does the following
+ for each MROper: If the map plan or the reduce plan of the MROper has
+  an end of all input flag present in it, this marks in the MROper whether the map 
+ has an end of all input flag set or if the reduce has an end of all input flag set.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.EndOfAllInputSetter -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan -->
   <class name="MROperPlan" extends="org.apache.pig.impl.plan.OperatorPlan"
     abstract="false"
@@ -7862,34 +10338,6 @@ when implementing user defined functions.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MRPrinter -->
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MRStreamHandler -->
-  <class name="MRStreamHandler" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="MRStreamHandler" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROperPlan"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@param plan MR plan to visit]]>
-      </doc>
-    </constructor>
-    <method name="visitMROp"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="mr" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceOper"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <doc>
-    <![CDATA[This visitor visits the MRPlan and does the following
- for each MROper
-  - If the map plan or the reduce plan of the MROper has
-  a POStream in it, this marks in the MROper whether the map 
- has a POStream or if the reduce has a POStream.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MRStreamHandler -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.POPackageAnnotator -->
   <class name="POPackageAnnotator" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.MROpPlanVisitor"
     abstract="false"
@@ -7965,6 +10413,12 @@ when implementing user defined functions.]]>
       <param name="compFunc" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POUserComparisonFunc"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitCast"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POCast"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.plans.UDFFinder -->
 </package>
@@ -8248,11 +10702,24 @@ when implementing user defined functions.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="frj" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="loj" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="updateWithEmptyBagCheck"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fePlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="joinInput" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+      <exception name="LogicalToPhysicalTranslatorException" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.LogicalToPhysicalTranslatorException"/>
       <doc>
-      <![CDATA[Create the inner plans used to configure the Local Rearrange operators(ppLists)
- Extract the keytypes and create the POFRJoin operator.]]>
+      <![CDATA[updates plan with check for empty bag and if bag is empty to flatten a bag
+ with as many null's as dictated by the schema
+ @param fePlan the plan to update
+ @param joinInput the relation for which the corresponding bag is being checked
+ @throws PlanException
+ @throws LogicalToPhysicalTranslatorException]]>
       </doc>
     </method>
     <method name="visit"
@@ -8388,7 +10855,7 @@ when implementing user defined functions.]]>
       <param name="op" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <field name="LogToPhyMap" type="java.util.Map"
+    <field name="logToPhyMap" type="java.util.Map"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -8459,6 +10926,42 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getAlias" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAlias"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="alias" type="java.lang.String"/>
+    </method>
+    <method name="setAccumulative"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isAccumulative" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAccumStart"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isAccumStarted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAccumEnd"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="setResultType"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -8631,10 +11134,8 @@ when implementing user defined functions.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
       <doc>
-      <![CDATA[Make a deep copy of this operator.  This is declared here to make it
- public for all physical operators.  However, the default
- implementation is to throw an exception.  Operators we expect to clone
- need to implement this method.
+      <![CDATA[Make a deep copy of this operator. This function is blank, however, 
+ we should leave a place holder so that the subclasses can clone
  @throws CloneNotSupportedException]]>
       </doc>
     </method>
@@ -8714,6 +11215,11 @@ when implementing user defined functions.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="alias" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <field name="reporter" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PigProgressable"
       transient="false" volatile="false"
       static="true" final="false" visibility="public"
@@ -8726,52 +11232,52 @@ when implementing user defined functions.]]>
     </field>
     <field name="dummyDBA" type="org.apache.pig.data.DataByteArray"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyString" type="java.lang.String"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyDouble" type="java.lang.Double"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyFloat" type="java.lang.Float"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyInt" type="java.lang.Integer"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyLong" type="java.lang.Long"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyBool" type="java.lang.Boolean"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyTuple" type="org.apache.pig.data.Tuple"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyBag" type="org.apache.pig.data.DataBag"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="dummyMap" type="java.util.Map"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="lineageTracer" type="org.apache.pig.pen.util.LineageTracer"
@@ -8883,6 +11389,11 @@ when implementing user defined functions.]]>
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="STATUS_BATCH_OK" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <field name="result" type="java.lang.Object"
       transient="false" volatile="false"
       static="true" final="false" visibility="public"
@@ -9166,6 +11677,14 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the child expressions of this expression]]>
+      </doc>
+    </method>
     <method name="supportsMultipleInputs" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -9435,6 +11954,14 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the child expressions of this expression]]>
+      </doc>
+    </method>
     <doc>
     <![CDATA[This class implements a Constant of any type.
  Its value can be set using the setValue method.]]>
@@ -9585,6 +12112,136 @@ tuple.]]>
  @throws CloneNotSupportedException]]>
       </doc>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the sub-expressions of this expression.
+ This is called if reducer is run as accumulative mode, all the child
+ expression must be called if they have any UDF to drive the UDF.accumulate()]]>
+      </doc>
+    </method>
+    <method name="containUDF" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[check whether this expression contains any UDF
+ this is called if reducer is run as accumulative mode
+ in this case, all UDFs must be called]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="d" type="java.lang.Double"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="v" type="java.lang.Integer"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="l" type="java.lang.Long"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="f" type="java.lang.Float"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="b" type="java.lang.Boolean"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="s" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="dba" type="org.apache.pig.data.DataByteArray"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="map" type="java.util.Map"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
+    <method name="accumChild" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="child" type="java.util.List"/>
+      <param name="db" type="org.apache.pig.data.DataBag"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Drive all the UDFs in accumulative mode]]>
+      </doc>
+    </method>
     <field name="log" type="org.apache.commons.logging.Log"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -10070,6 +12727,30 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="lhs" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.ExpressionOperator"/>
     </method>
+    <method name="getCond" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.ExpressionOperator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get condition]]>
+      </doc>
+    </method>
+    <method name="getRhs" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.ExpressionOperator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get right expression]]>
+      </doc>
+    </method>
+    <method name="getLhs" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.ExpressionOperator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get left expression]]>
+      </doc>
+    </method>
     <method name="supportsMultipleInputs" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -10081,6 +12762,14 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get child expressions of this expression]]>
+      </doc>
+    </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POBinCond -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POCast -->
@@ -10096,11 +12785,12 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="setLoadFSpec"
+    <method name="setFuncSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="lf" type="org.apache.pig.FuncSpec"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
@@ -10181,6 +12871,25 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get child expression of this expression]]>
+      </doc>
+    </method>
+    <method name="setFieldSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+    </method>
+    <method name="getFuncSpec" return="org.apache.pig.FuncSpec"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
     <![CDATA[This is just a cast that converts DataByteArray into either String or
  Integer. Just added it for testing the POUnion. Need the full operator
@@ -10245,7 +12954,7 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POMapLookUp" type="org.apache.pig.impl.plan.OperatorKey, int, java.lang.Object"
+    <constructor name="POMapLookUp" type="org.apache.pig.impl.plan.OperatorKey, int, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -10253,9 +12962,9 @@ tuple.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="key" type="java.lang.Object"/>
+      <param name="key" type="java.lang.String"/>
     </method>
-    <method name="getLookUpKey" return="java.lang.Object"
+    <method name="getLookUpKey" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -10359,6 +13068,11 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POMapLookUp -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.PONegative -->
@@ -10726,9 +13440,14 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="resultSingleTupleBag" type="boolean"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <field name="bagFactory" type="org.apache.pig.data.BagFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="columns" type="java.util.ArrayList"
@@ -10978,6 +13697,14 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get child expressions of this expression]]>
+      </doc>
+    </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POUserComparisonFunc -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POUserFunc -->
@@ -11157,6 +13884,14 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get child expression of this expression]]>
+      </doc>
+    </method>
     <field name="INITIAL" type="byte"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
@@ -11324,6 +14059,14 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="op" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.UnaryExpressionOperator"/>
     </method>
+    <method name="getChildExpressions" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get child expression of this expression]]>
+      </doc>
+    </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.UnaryExpressionOperator -->
 </package>
@@ -11409,6 +14152,13 @@ tuple.]]>
       <param name="fl" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POFilter"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitCollectedGroup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="mg" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCollectedGroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitLocalRearrange"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -11479,6 +14229,27 @@ tuple.]]>
       <param name="distinct" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.PODistinct"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitPenCross"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="cross" type="org.apache.pig.pen.physicalOperators.POCross"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visitPenCogroup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="cogroup" type="org.apache.pig.pen.physicalOperators.POCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visitPenSplit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.pig.pen.physicalOperators.POSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitRead"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -11678,6 +14449,13 @@ tuple.]]>
       <param name="join" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POFRJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <method name="visitMergeJoin"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="join" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMergeJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visitStream"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -11689,17 +14467,19 @@ tuple.]]>
  @throws VisitorException]]>
       </doc>
     </method>
-    <method name="visitCogroup"
+    <method name="visitSkewedJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cogroup" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCogroup"/>
+      <param name="sk" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visitSplit"
+    <method name="visitPartitionRearrange"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplit"/>
+      <param name="pr" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPartitionRearrange"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visitLocalRearrangeForIllustrate"
       abstract="false" native="false" synchronized="false"
@@ -11730,12 +14510,6 @@ tuple.]]>
       <![CDATA[@param preCombinerLocalRearrange]]>
       </doc>
     </method>
-    <method name="visitCross"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="cross" type="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCross"/>
-    </method>
     <doc>
     <![CDATA[The visitor class for the Physical Plan. To use this,
  create the visitor with the plan to be visited. Call 
@@ -11836,12 +14610,6 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="equals" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="obj" type="java.lang.Object"/>
-    </method>
     <method name="clone" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -11950,12 +14718,189 @@ tuple.]]>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PlanPrinter -->
 </package>
 <package name="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators">
+  <!-- start interface org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.AccumulativeTupleBuffer -->
+  <interface name="AccumulativeTupleBuffer"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="nextBatch"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Pull next batch of tuples from iterator and put them into this buffer]]>
+      </doc>
+    </method>
+    <method name="hasNextBatch" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Whether there are more tuples to pull out of iterator]]>
+      </doc>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Clear internal buffer, this should be called after all data are retreived]]>
+      </doc>
+    </method>
+    <method name="getTuples" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="index" type="int"/>
+      <doc>
+      <![CDATA[Get iterator of tuples in the buffer
+ @param index  the index of tuple]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[This interface is used during Reduce phrase to process tuples
+ in batch mode. It is used by POPackage when all of the UDFs can be
+ called in accumulative mode. Tuples are not pulled all at once,
+ instead, each time, only a specified number of tuples are pulled out
+ of iterator and put in an buffer. Then this buffer is wrapped into 
+ a bag to be passed to the operators in reduce plan.
+ 
+ The purpose of doing this is to reduce memory usage and avoid spilling.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.AccumulativeTupleBuffer -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCollectedGroup -->
+  <class name="POCollectedGroup" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POCollectedGroup" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCollectedGroup" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCollectedGroup" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCollectedGroup" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleOutputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="attachInput"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Overridden since the attachment of the new input should cause the old
+ processing to end.]]>
+      </doc>
+    </method>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="constructOutput" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="resLst" type="java.util.List"/>
+      <param name="value" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="getKeyType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setKeyType"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="keyType" type="byte"/>
+    </method>
+    <method name="getPlans" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setPlans"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="plans" type="java.util.List"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <field name="serialVersionUID" type="long"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="plans" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="leafOps" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="keyType" type="byte"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[The collected group operator is a special operator used when users give
+ the hint 'using "collected"' in a group by clause. It implements a map-side  
+ group that collects all records for a given key into a buffer. When it sees 
+ a key change it will emit the key and bag for records it had buffered. 
+ It will assume that all keys for a given record are collected together 
+ and thus there is not need to buffer across keys.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCollectedGroup -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POCombinerPackage -->
   <class name="POCombinerPackage" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POCombinerPackage" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage, boolean[]"
+    <constructor name="POCombinerPackage" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage, boolean[], boolean[]"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
@@ -11963,7 +14908,9 @@ tuple.]]>
  provided POPackage.
  @param pkg POPackage to clone.
  @param bags for each field, indicates whether it should be a bag (true)
- or a simple field (false).]]>
+ or a simple field (false).
+ @param keyPos for each field in the output tuple of the foreach operator, 
+ indicates whether it's the group key.]]>
       </doc>
     </constructor>
     <method name="name" return="java.lang.String"
@@ -11994,6 +14941,11 @@ tuple.]]>
       <param name="t" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
+    <method name="getKeyPositionsInTuple" return="boolean[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
     <![CDATA[The package operator that packages the globally rearranged tuples into
  output format after the combiner stage.  It differs from POPackage in that
@@ -12072,27 +15024,6 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setBaseIndex"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="idx" type="int"/>
-      <doc>
-      <![CDATA[Sets the base index of this demux. 
- 
- @param idx the base index]]>
-      </doc>
-    </method>
-    <method name="getBaseIndex" return="int"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns the base index of this demux
- 
- @return the base index]]>
-      </doc>
-    </method>
     <method name="getPlans" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -12108,7 +15039,6 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="inPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="mapKeyType" type="byte"/>
       <doc>
       <![CDATA[Appends the specified plan at the end of the list.
  
@@ -12122,31 +15052,6 @@ tuple.]]>
       <param name="t" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="setSameMapKeyType"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="sameMapKeyType" type="boolean"/>
-      <doc>
-      <![CDATA[Sets a flag indicating if all inner plans have 
- the same map key type. 
- 
- @param sameMapKeyType true if all inner plans have 
- the same map key type; otherwise false]]>
-      </doc>
-    </method>
-    <method name="isSameMapKeyType" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns a flag indicating if all inner plans 
- have the same map key type 
- 
- @return true if all inner plans have 
- the same map key type; otherwise false]]>
-      </doc>
-    </method>
     <method name="setInCombiner"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -12389,6 +15294,21 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="setAccumulative"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAccumStart"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAccumEnd"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -12407,7 +15327,7 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="CreateTuple" return="org.apache.pig.data.Tuple"
+    <method name="createTuple" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -12426,7 +15346,7 @@ tuple.]]>
     </method>
     <method name="getLeaves"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
     <method name="getInputPlans" return="java.util.List"
@@ -12507,13 +15427,13 @@ tuple.]]>
       deprecated="not deprecated">
     </field>
     <field name="log" type="org.apache.commons.logging.Log"
-      transient="false" volatile="false"
+      transient="true" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="processingPlan" type="boolean"
@@ -12522,7 +15442,7 @@ tuple.]]>
       deprecated="not deprecated">
     </field>
     <field name="its" type="java.util.Iterator[]"
-      transient="false" volatile="false"
+      transient="true" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
@@ -12556,6 +15476,11 @@ tuple.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="buffer" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.AccumulativeTupleBuffer"
+      transient="true" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POForEach -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POFRJoin -->
@@ -12563,31 +15488,7 @@ tuple.]]>
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </constructor>
-    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey, int"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </constructor>
-    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </constructor>
-    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </constructor>
-    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List, java.util.List, java.util.List, org.apache.pig.impl.io.FileSpec[], int"
+    <constructor name="POFRJoin" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List, java.util.List, java.util.List, org.apache.pig.impl.io.FileSpec[], int, boolean, org.apache.pig.data.Tuple"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
@@ -12649,14 +15550,14 @@ tuple.]]>
       <param name="replFiles" type="org.apache.pig.impl.io.FileSpec[]"/>
     </method>
     <doc>
-    <![CDATA[The operator models the join keys using the Local Rearrange operators which 
- are configured with the plan specified by the user. It also sets up
- one Hashtable per replicated input which maps the Key(k) stored as a Tuple
- to a DataBag which holds all the values in the input having the same key(k)
- The getNext() reads an input from its predecessor and separates them into
- key & value. It configures a foreach operator with the databags obtained from
- each Hashtable for the key and also with the value for the fragment input.
- It then returns tuples returned by this foreach operator.]]>
+    <![CDATA[The operator models the join keys using the Local Rearrange operators which
+ are configured with the plan specified by the user. It also sets up one
+ Hashtable per replicated input which maps the Key(k) stored as a Tuple to a
+ DataBag which holds all the values in the input having the same key(k) The
+ getNext() reads an input from its predecessor and separates them into key &
+ value. It configures a foreach operator with the databags obtained from each
+ Hashtable for the key and also with the value for the fragment input. It then
+ returns tuples returned by this foreach operator.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POFRJoin -->
@@ -12887,15 +15788,19 @@ tuple.]]>
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, boolean"
+    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec, boolean"
+    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec, long"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, int, org.apache.pig.impl.io.FileSpec, boolean"
+    <constructor name="POLoad" type="org.apache.pig.impl.plan.OperatorKey, int, org.apache.pig.impl.io.FileSpec"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -12908,7 +15813,7 @@ tuple.]]>
       <![CDATA[Set up the loader by 
  1) Instantiating the load func
  2) Opening an input stream to the specified file and
- 3) Binding to the input stream
+ 3) Binding to the input stream at the specified offset.
  @throws IOException]]>
       </doc>
     </method>
@@ -12983,13 +15888,16 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="pc" type="org.apache.pig.impl.PigContext"/>
     </method>
-    <method name="isSplittable" return="boolean"
+    <method name="getSignature" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return the splittable]]>
-      </doc>
+    </method>
+    <method name="setSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
     </method>
     <doc>
     <![CDATA[The load operator which is used in two ways:
@@ -13109,11 +16017,20 @@ tuple.]]>
  format, i.e, (key,indexedTuple(value))]]>
       </doc>
     </method>
+    <method name="getKeyFromResult" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="resLst" type="java.util.List"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
     <method name="constructLROutput" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="resLst" type="java.util.List"/>
+      <param name="secondaryResLst" type="java.util.List"/>
       <param name="value" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
@@ -13133,6 +16050,12 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="setUseSecondaryKey"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="useSecondaryKey" type="boolean"/>
+    </method>
     <method name="setPlans"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13140,6 +16063,13 @@ tuple.]]>
       <param name="plans" type="java.util.List"/>
       <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
     </method>
+    <method name="setSecondaryPlans"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="plans" type="java.util.List"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
     <method name="clone" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POLocalRearrange"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13169,6 +16099,14 @@ tuple.]]>
       <![CDATA[@return the mProjectedColsMap]]>
       </doc>
     </method>
+    <method name="getSecondaryProjectedColsMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the mProjectedColsMap]]>
+      </doc>
+    </method>
     <method name="isProjectStar" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13177,6 +16115,14 @@ tuple.]]>
       <![CDATA[@return the mProjectStar]]>
       </doc>
     </method>
+    <method name="isSecondaryProjectStar" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the mProjectStar]]>
+      </doc>
+    </method>
     <method name="isKeyTuple" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13185,6 +16131,14 @@ tuple.]]>
       <![CDATA[@return the keyTuple]]>
       </doc>
     </method>
+    <method name="isSecondaryKeyTuple" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the keyTuple]]>
+      </doc>
+    </method>
     <method name="setPlansFromCombiner"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13203,7 +16157,7 @@ tuple.]]>
     </field>
     <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="plans" type="java.util.List"
@@ -13211,11 +16165,21 @@ tuple.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="secondaryPlans" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <field name="leafOps" type="java.util.List"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="secondaryLeafOps" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <field name="index" type="byte"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -13226,6 +16190,16 @@ tuple.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <field name="mainKeyType" type="byte"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="secondaryKeyType" type="byte"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <field name="mIsDistinct" type="boolean"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -13286,6 +16260,7 @@ tuple.]]>
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="resLst" type="java.util.List"/>
+      <param name="secondaryResLst" type="java.util.List"/>
       <param name="value" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
@@ -13306,6 +16281,121 @@ tuple.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POLocalRearrangeForIllustrate -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMergeJoin -->
+  <class name="POMergeJoin" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POMergeJoin" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List, org.apache.pig.impl.util.MultiMap, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[@param k
+ @param rp
+ @param inp
+ @param inpPlans there can only be 2 inputs each being a List<PhysicalPlan>
+ Ex. join A by ($0,$1), B by ($1,$2);]]>
+      </doc>
+    </constructor>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="throwProcessingException"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="withCauseException" type="boolean"/>
+      <param name="e" type="java.lang.Exception"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="setupRightPipeline"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rightPipeline" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="setRightLoaderFuncSpec"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rightLoaderFuncSpec" type="org.apache.pig.FuncSpec"/>
+    </method>
+    <method name="getInnerPlansOf" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="index" type="int"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleOutputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setRightInputFileName"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rightInputFileName" type="java.lang.String"/>
+      <doc>
+      <![CDATA[@param rightInputFileName the rightInputFileName to set]]>
+      </doc>
+    </method>
+    <method name="getSignature" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
+    </method>
+    <method name="setIndexFile"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="indexFile" type="java.lang.String"/>
+    </method>
+    <method name="getIndexFile" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[This operator implements merge join algorithm to do map side joins. 
+  Currently, only two-way joins are supported. One input of join is identified as left
+  and other is identified as right. Left input tuples are the input records in map.
+  Right tuples are read from HDFS by opening right stream.
+  
+    This join doesn't support outer join.
+    Data is assumed to be sorted in ascending order. It will fail if data is sorted in descending order.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMergeJoin -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POMultiQueryPackage -->
   <class name="POMultiQueryPackage" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage"
     abstract="false"
@@ -13399,6 +16489,20 @@ tuple.]]>
  @param pack package to be appended to the list]]>
       </doc>
     </method>
+    <method name="addPackage"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="pack" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage"/>
+      <param name="mapKeyType" type="byte"/>
+      <doc>
+      <![CDATA[Appends the specified package object to the end of 
+ the package list.
+ 
+ @param pack package to be appended to the list
+ @param mapKeyType the map key type associated with the package]]>
+      </doc>
+    </method>
     <method name="getPackages" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13423,27 +16527,50 @@ tuple.]]>
  is an indexed WritableComparable, not the wrapped value as a pig type.]]>
       </doc>
     </method>
-    <method name="setBaseIndex"
+    <method name="getIsKeyWrappedList" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="baseIndex" type="int"/>
       <doc>
-      <![CDATA[Sets the base index of this operator
+      <![CDATA[Returns the list of booleans that indicates if the 
+ key needs to unwrapped for the corresponding plan.
  
- @param baseIndex the base index of this operator]]>
+ @return the list of isKeyWrapped boolean values]]>
       </doc>
     </method>
-    <method name="getBaseIndex" return="int"
+    <method name="addIsKeyWrappedList"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="lst" type="java.util.List"/>
       <doc>
-      <![CDATA[Returns the base index of this operator
+      <![CDATA[Adds a list of IsKeyWrapped boolean values
  
- @return the base index of this operator]]>
+ @param lst the list of boolean values to add]]>
       </doc>
     </method>
+    <method name="setInCombiner"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="inCombiner" type="boolean"/>
+    </method>
+    <method name="isInCombiner" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSameMapKeyType"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="sameMapKeyType" type="boolean"/>
+    </method>
+    <method name="isSameMapKeyType" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
     <![CDATA[The package operator that packages the globally rearranged tuples 
  into output format as required by multi-query de-multiplexer.
@@ -13646,6 +16773,18 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="keyType" type="byte"/>
     </method>
+    <method name="getKeyPositionsInTuple" return="boolean[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the field positions of key in the output tuples.
+ For POPackage, the position is always 0. The POCombinerPackage,
+ however, can return different values.
+ 
+ @return the field position of key in the output tuples.]]>
+      </doc>
+    </method>
     <method name="clone" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackage"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -13699,6 +16838,12 @@ tuple.]]>
       <![CDATA[@param distinct the distinct to set]]>
       </doc>
     </method>
+    <method name="setUseSecondaryKey"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="useSecondaryKey" type="boolean"/>
+    </method>
     <field name="isKeyTuple" type="boolean"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -13721,12 +16866,12 @@ tuple.]]>
     </field>
     <field name="mBagFactory" type="org.apache.pig.data.BagFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <doc>
@@ -13880,6 +17025,91 @@ tuple.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackageLite -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPartitionRearrange -->
+  <class name="POPartitionRearrange" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POLocalRearrange"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POPartitionRearrange" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POPartitionRearrange" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POPartitionRearrange" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POPartitionRearrange" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Calls getNext on the generate operator inside the nested
+ physical plan. Converts the generated tuple into the proper
+ format, i.e, (key,indexedTuple(value))]]>
+      </doc>
+    </method>
+    <method name="constructPROutput" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="resLst" type="java.util.List"/>
+      <param name="value" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="setPigContext"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
+      <doc>
+      <![CDATA[@param pigContext the pigContext to set]]>
+      </doc>
+    </method>
+    <method name="getPigContext" return="org.apache.pig.impl.PigContext"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the pigContext]]>
+      </doc>
+    </method>
+    <method name="clone" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPartitionRearrange"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
+      <doc>
+      <![CDATA[Make a deep copy of this operator.  
+ @throws CloneNotSupportedException]]>
+      </doc>
+    </method>
+    <field name="mBagFactory" type="org.apache.pig.data.BagFactory"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[The partition rearrange operator is a part of the skewed join 
+ implementation. It has an embedded physical plan that
+ generates tuples of the form (inpKey,reducerIndex,(indxed inp Tuple)).]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPartitionRearrange -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPreCombinerLocalRearrange -->
   <class name="POPreCombinerLocalRearrange" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
@@ -13982,7 +17212,7 @@ tuple.]]>
     </field>
     <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <field name="mBagFactory" type="org.apache.pig.data.BagFactory"
@@ -14076,6 +17306,85 @@ tuple.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.PORead -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin -->
+  <class name="POSkewedJoin" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POSkewedJoin" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSkewedJoin" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSkewedJoin" type="org.apache.pig.impl.plan.OperatorKey, java.util.List, boolean[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSkewedJoin" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List, boolean[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getInnerFlags" return="boolean[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getJoinPlans" return="org.apache.pig.impl.util.MultiMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setJoinPlans"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="joinPlans" type="org.apache.pig.impl.util.MultiMap"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleOutputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="addSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+    </method>
+    <doc>
+    <![CDATA[The PhysicalOperator that represents a skewed join. It must have two inputs.
+ This operator does not do any actually work, it is only a place holder. When it is
+ translated into MR plan, a POSkewedJoin is translated into a sampling job and a join 
+ job.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSkewedJoin -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSort -->
   <class name="POSort" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
@@ -14189,6 +17498,23 @@ tuple.]]>
       deprecated="not deprecated">
       <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
     </method>
+    <method name="setSortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="sortInfo" type="org.apache.pig.SortInfo"/>
+      <doc>
+      <![CDATA[@param sortInfo the sortInfo to set]]>
+      </doc>
+    </method>
+    <method name="getSortInfo" return="org.apache.pig.SortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the sortInfo]]>
+      </doc>
+    </method>
     <field name="isUDFComparatorUsed" type="boolean"
       transient="false" volatile="false"
       static="false" final="false" visibility="public"
@@ -14246,6 +17572,40 @@ tuple.]]>
     </method>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSort.UDFSortComparator -->
+  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSortedDistinct -->
+  <class name="POSortedDistinct" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.PODistinct"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POSortedDistinct" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSortedDistinct" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSortedDistinct" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSortedDistinct" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <doc>
+    <![CDATA[This operator is a variation of PODistinct, the input to this operator
+ must be sorted already.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSortedDistinct -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POSplit -->
   <class name="POSplit" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
@@ -14537,6 +17897,39 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getStoreFunc" return="org.apache.pig.StoreFuncInterface"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="sortInfo" type="org.apache.pig.SortInfo"/>
+      <doc>
+      <![CDATA[@param sortInfo the sortInfo to set]]>
+      </doc>
+    </method>
+    <method name="getSortInfo" return="org.apache.pig.SortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the sortInfo]]>
+      </doc>
+    </method>
+    <method name="getSignature" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
+    </method>
     <doc>
     <![CDATA[The store operator which is used in two ways:
  1) As a local operator it can be used to store files
@@ -14555,16 +17948,15 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="createStoreFunc" return="org.apache.pig.StoreFunc"
+    <method name="createStoreFunc" return="org.apache.pig.StoreFuncInterface"
       abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="sFile" type="org.apache.pig.impl.io.FileSpec"/>
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="store" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStore"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
       <![CDATA[Set up the storer 
- @param sFile - The file the store should write to
+ @param store - the POStore object
  @throws IOException]]>
       </doc>
     </method>
@@ -14791,38 +18183,12 @@ tuple.]]>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POUnion -->
 </package>
 <package name="org.apache.pig.backend.hadoop.executionengine.physicalLayer.util">
-  <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.util.operatorHelper -->
-  <class name="operatorHelper" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="operatorHelper"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="numTypes" return="int"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="genAllTypes" return="byte[]"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="genTypeToNameMap" return="java.util.Map"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.executionengine.physicalLayer.util.operatorHelper -->
   <!-- start class org.apache.pig.backend.hadoop.executionengine.physicalLayer.util.PlanHelper -->
   <class name="PlanHelper" extends="java.lang.Object"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="getStores" return="java.util.List"
+    <method name="getStores" return="java.util.LinkedList"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
@@ -14834,7 +18200,7 @@ tuple.]]>
  @return List of stores (could be empty)]]>
       </doc>
     </method>
-    <method name="getLoads" return="java.util.List"
+    <method name="getLoads" return="java.util.LinkedList"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
@@ -14872,42 +18238,52 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getStoreFunc" return="org.apache.pig.StoreFunc"
+    <method name="loadPartitionFileFromLocalCache" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="conf" type="org.apache.hadoop.mapred.JobConf"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="keyDistFile" type="java.lang.String"/>
+      <param name="totalReducers" type="java.lang.Integer[]"/>
+      <param name="keyType" type="byte"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[This method is to be called from an 
- {@link org.apache.hadoop.mapred.OutputFormat#getRecordWriter(FileSystem ignored, JobConf job,
-                                     String name, Progressable progress)}
- method to obtain a reference to the {@link org.apache.pig.StoreFunc} object to be used by
- that OutputFormat to perform the write() operation
- @param conf the JobConf object
- @return the StoreFunc reference
- @throws ExecException]]>
+      <![CDATA[Loads the key distribution sampler file
+
+ @param keyDistFile the name for the distribution file
+ @param totalReducers gets set to the total number of reducers as found in the dist file
+ @param keyType Type of the key to be stored in the return map. It currently treats Tuple as a special case.]]>
       </doc>
     </method>
-    <method name="getStoreConfig" return="org.apache.pig.StoreConfig"
+    <method name="setupUDFContext"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="conf" type="org.apache.hadoop.mapred.JobConf"/>
+      <param name="job" type="org.apache.hadoop.conf.Configuration"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getAllFileRecursively" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="files" type="java.util.List"/>
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[This method is to be called from an 
- {@link org.apache.hadoop.mapred.OutputFormat#getRecordWriter(FileSystem ignored, JobConf job,
-                                     String name, Progressable progress)}
- method to obtain a reference to the {@link org.apache.pig.StoreConfig} object. The StoreConfig
- object will contain metadata information like schema and location to be used by
- that OutputFormat to perform the write() operation
- @param conf the JobConf object
- @return StoreConfig object containing metadata information useful for
- an OutputFormat to write the data
+      <![CDATA[Get all files recursively from the given list of files
+ 
+ @param files a list of FileStatus
+ @param conf the configuration object
+ @return the list of fileStatus that contains all the files in the given
+         list and, recursively, all the files inside the directories in 
+         the given list
  @throws IOException]]>
       </doc>
     </method>
+    <field name="FILE_SYSTEM_NAME" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <doc>
     <![CDATA[A class of utility static methods to be used in the hadoop map reduce backend]]>
     </doc>
@@ -14915,135 +18291,11 @@ tuple.]]>
   <!-- end class org.apache.pig.backend.hadoop.executionengine.util.MapRedUtil -->
 </package>
 <package name="org.apache.pig.backend.hadoop.hbase">
-  <!-- start class org.apache.pig.backend.hadoop.hbase.HBaseSlice -->
-  <class name="HBaseSlice" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Slice"/>
-    <constructor name="HBaseSlice" type="byte[], byte[], byte[], byte[][], java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Constructor
- 
- @param tableName
-            table name
- @param startRow
-            start now, inclusive
- @param endRow
-            end row, exclusive
- @param inputColumns
-            input columns
- @param location
-            region location]]>
-      </doc>
-    </constructor>
-    <method name="getTableName" return="byte[]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return table name]]>
-      </doc>
-    </method>
-    <method name="getStartRow" return="byte[]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return starting row key]]>
-      </doc>
-    </method>
-    <method name="getEndRow" return="byte[]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return end row key]]>
-      </doc>
-    </method>
-    <method name="getInputColumns" return="byte[][]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return input columns]]>
-      </doc>
-    </method>
-    <method name="getRegionLocation" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return the region's hostname]]>
-      </doc>
-    </method>
-    <method name="getStart" return="long"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getLength" return="long"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getLocations" return="java.lang.String[]"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getPos" return="long"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="getProgress" return="float"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="init"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="next" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="value" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="close"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="toString" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <doc>
-    <![CDATA[HBase Slice to load a portion of range of a table. The key range will be
- [start, end) Modeled from org.apache.hadoop.hbase.mapred.TableSplit.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.hadoop.hbase.HBaseSlice -->
   <!-- start class org.apache.pig.backend.hadoop.hbase.HBaseStorage -->
-  <class name="HBaseStorage" extends="org.apache.pig.builtin.Utf8StorageConverter"
+  <class name="HBaseStorage" extends="org.apache.pig.LoadFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Slicer"/>
-    <implements name="org.apache.pig.LoadFunc"/>
     <constructor name="HBaseStorage" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -15055,57 +18307,42 @@ tuple.]]>
             columnlist that is a presented string delimited by space.]]>
       </doc>
     </constructor>
-    <method name="slice" return="org.apache.pig.Slice[]"
+    <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="tablename" type="java.lang.String"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="validate"
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.backend.datastorage.DataStorage"/>
-      <param name="tablename" type="java.lang.String"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
+    <method name="prepareToRead"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="is" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="setLocation"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="fieldsToRead"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-    </method>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="relativeToAbsolutePath" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
-    <![CDATA[A <code>Slicer</code> that split the hbase table into {@link HBaseSlice}s.
- And a load function will provided to do none load operations, the actually
- load operatrions will be done in {@link HBaseSlice}.]]>
+    <![CDATA[A Hbase Loader]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.hbase.HBaseStorage -->
@@ -15157,1296 +18394,1417 @@ tuple.]]>
   </class>
   <!-- end class org.apache.pig.backend.hadoop.streaming.HadoopExecutableManager -->
 </package>
-<package name="org.apache.pig.backend.local.datastorage">
-  <!-- start class org.apache.pig.backend.local.datastorage.LocalDataStorage -->
-  <class name="LocalDataStorage" extends="java.lang.Object"
+<package name="org.apache.pig.builtin">
+  <!-- start class org.apache.pig.builtin.ARITY -->
+  <class name="ARITY" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.DataStorage"/>
-    <constructor name="LocalDataStorage"
+    <constructor name="ARITY"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="init"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="close"
+    <method name="exec" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="updateConfiguration"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.ARITY -->
+  <!-- start class org.apache.pig.builtin.AVG -->
+  <class name="AVG" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="AVG"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
-    </method>
-    <method name="getStatistics" return="java.util.Map"
+    </constructor>
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.local.datastorage.LocalPath"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.local.datastorage.LocalPath"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="element" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.local.datastorage.LocalPath"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.local.datastorage.LocalPath"
+    <method name="combine" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="asElement" return="org.apache.pig.backend.local.datastorage.LocalPath"
+    <method name="count" return="long"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.local.datastorage.LocalDir"
+    <method name="sum" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.local.datastorage.LocalDir"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.local.datastorage.LocalDir"
+    <method name="getArgToFuncMapping" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="java.lang.String"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.local.datastorage.LocalDir"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="asContainer" return="org.apache.pig.backend.local.datastorage.LocalDir"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="parent" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="child" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="isContainer" return="boolean"
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="name" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
     </method>
-    <method name="setActiveContainer"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
+ implemenation, so if possible the execution will be split into a local and global application]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.AVG -->
+  <!-- start class org.apache.pig.builtin.AVG.Final -->
+  <class name="AVG.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AVG.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="container" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-    </method>
-    <method name="getActiveContainer" return="org.apache.pig.backend.datastorage.ContainerDescriptor"
+    </constructor>
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="asCollection" return="org.apache.pig.backend.local.datastorage.LocalPath[]"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.AVG.Final -->
+  <!-- start class org.apache.pig.builtin.AVG.Initial -->
+  <class name="AVG.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AVG.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="pattern" type="java.lang.String"/>
-      <exception name="DataStorageException" type="org.apache.pig.backend.datastorage.DataStorageException"/>
-    </method>
-    <method name="getWorkingDir" return="java.io.File"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="workingDir" type="java.io.File"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
   </class>
-  <!-- end class org.apache.pig.backend.local.datastorage.LocalDataStorage -->
-  <!-- start class org.apache.pig.backend.local.datastorage.LocalDir -->
-  <class name="LocalDir" extends="org.apache.pig.backend.local.datastorage.LocalPath"
+  <!-- end class org.apache.pig.builtin.AVG.Initial -->
+  <!-- start class org.apache.pig.builtin.AVG.Intermediate -->
+  <class name="AVG.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String"
+    <constructor name="AVG.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File"
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.lang.String"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.AVG.Intermediate -->
+  <!-- start class org.apache.pig.builtin.BagSize -->
+  <class name="BagSize" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BagSize"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.io.File"
+    <method name="exec" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.lang.String"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalDir" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.io.File"
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the size of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.BagSize -->
+  <!-- start class org.apache.pig.builtin.BinStorage -->
+  <class name="BinStorage" extends="org.apache.pig.FileInputLoadFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.LoadCaster"/>
+    <implements name="org.apache.pig.StoreFuncInterface"/>
+    <implements name="org.apache.pig.LoadMetadata"/>
+    <constructor name="BinStorage"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Simple binary nested reader format]]>
+      </doc>
     </constructor>
-    <method name="create" return="java.io.OutputStream"
+    <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="copy"
+    <method name="putNext"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="copy"
+    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ContainerDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b" type="byte[]"/>
+      <param name="schema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="bytesToCharArray" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b" type="byte[]"/>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="bytesToDouble" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b" type="byte[]"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="bytesToFloat" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b" type="byte[]"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="bytesToInteger" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="b" type="byte[]"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="bytesToLong" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.backend.local.datastorage.LocalDir -->
-  <!-- start class org.apache.pig.backend.local.datastorage.LocalFile -->
-  <class name="LocalFile" extends="org.apache.pig.backend.local.datastorage.LocalPath"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.io.File"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.lang.String"
+    <method name="bytesToMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalFile" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.io.File"
+      <param name="b" type="byte[]"/>
+    </method>
+    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="create" return="java.io.OutputStream"
+      <param name="b" type="byte[]"/>
+      <param name="schema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+    </method>
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="bag" type="org.apache.pig.data.DataBag"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="copy"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
+      <param name="s" type="java.lang.String"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="d" type="java.lang.Double"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="open" return="java.io.InputStream"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="f" type="java.lang.Float"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
+      <param name="i" type="java.lang.Integer"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="l" type="java.lang.Long"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.backend.local.datastorage.LocalFile -->
-  <!-- start class org.apache.pig.backend.local.datastorage.LocalPath -->
-  <class name="LocalPath" extends="java.lang.Object"
-    abstract="true"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.io.File"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.io.File, java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="LocalPath" type="org.apache.pig.backend.local.datastorage.LocalDataStorage, java.lang.String, java.io.File"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="getCurPath" return="java.io.File"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="m" type="java.util.Map"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
+    <method name="toBytes" return="byte[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getPath" return="java.io.File"
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="create" return="java.io.OutputStream"
-      abstract="true" native="false" synchronized="false"
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="configuration" type="java.util.Properties"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="create" return="java.io.OutputStream"
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="copy"
-      abstract="true" native="false" synchronized="false"
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="dstConfiguration" type="java.util.Properties"/>
-      <param name="removeSrc" type="boolean"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
     </method>
-    <method name="copy"
+    <method name="setLocation"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dstName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
-      <param name="removeSrc" type="boolean"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="open" return="java.io.InputStream"
-      abstract="true" native="false" synchronized="false"
+    <method name="getOutputFormat" return="org.apache.hadoop.mapreduce.OutputFormat"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sopen" return="org.apache.pig.backend.datastorage.SeekableInputStream"
-      abstract="true" native="false" synchronized="false"
+    <method name="prepareToWrite"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="writer" type="org.apache.hadoop.mapreduce.RecordWriter"/>
     </method>
-    <method name="exists" return="boolean"
+    <method name="setStoreLocation"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="rename"
+    <method name="checkSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newName" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="s" type="org.apache.pig.ResourceSchema"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="delete"
+    <method name="relToAbsPathForStoreLocation" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="getPartitionKeys" return="java.lang.String[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="updateConfiguration"
+    <method name="getSchema" return="org.apache.pig.ResourceSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="newConfig" type="java.util.Properties"/>
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="getStatistics" return="org.apache.pig.ResourceStatistics"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="compareTo" return="int"
+    <method name="setPartitionFilter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="org.apache.pig.backend.datastorage.ElementDescriptor"/>
+      <param name="plan" type="org.apache.pig.Expression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="systemElement" return="boolean"
+    <method name="setStoreFuncUDFContextSignature"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="cleanupOnFailure"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="fs" type="org.apache.pig.backend.datastorage.DataStorage"
+    <field name="RECORD_1" type="int"
       transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_2" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_3" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="path" type="java.io.File"
+    <field name="end" type="long"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
   </class>
-  <!-- end class org.apache.pig.backend.local.datastorage.LocalPath -->
-  <!-- start class org.apache.pig.backend.local.datastorage.LocalSeekableInputStream -->
-  <class name="LocalSeekableInputStream" extends="org.apache.pig.backend.datastorage.SeekableInputStream"
+  <!-- end class org.apache.pig.builtin.BinStorage -->
+  <!-- start class org.apache.pig.builtin.CONCAT -->
+  <class name="CONCAT" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LocalSeekableInputStream" type="java.io.File"
+    <constructor name="CONCAT"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FileNotFoundException" type="java.io.FileNotFoundException"/>
     </constructor>
-    <method name="seek"
+    <method name="exec" return="org.apache.pig.data.DataByteArray"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="offset" type="long"/>
-      <param name="whence" type="org.apache.pig.backend.datastorage.SeekableInputStream.FLAGS"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="tell" return="long"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="read" return="int"
+    <method name="getArgToFuncMapping" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="read" return="int"
+    <doc>
+    <![CDATA[Generates the concatenation of the first two fields of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.CONCAT -->
+  <!-- start class org.apache.pig.builtin.ConstantSize -->
+  <class name="ConstantSize" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ConstantSize"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="read" return="int"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <param name="off" type="int"/>
-      <param name="len" type="int"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="available" return="int"
+    <doc>
+    <![CDATA[Generates the size of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.ConstantSize -->
+  <!-- start class org.apache.pig.builtin.COUNT -->
+  <class name="COUNT" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="COUNT"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="skip" return="long"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="n" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="close"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="mark"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="readlimit" type="int"/>
     </method>
-    <method name="reset"
+    <method name="sum" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="NumberFormatException" type="java.lang.NumberFormatException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="markSupported" return="boolean"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="file" type="java.io.RandomAccessFile"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="curMark" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+    </method>
+    <method name="getValue" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
+    </method>
+    <doc>
+    <![CDATA[Generates the count of the values of the first field of a tuple. This class is Algebraic in
+ implemenation, so if possible the execution will be split into a local and global functions]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.datastorage.LocalSeekableInputStream -->
-</package>
-<package name="org.apache.pig.backend.local.executionengine">
-  <!-- start class org.apache.pig.backend.local.executionengine.LocalExecutionEngine -->
-  <class name="LocalExecutionEngine" extends="java.lang.Object"
+  <!-- end class org.apache.pig.builtin.COUNT -->
+  <!-- start class org.apache.pig.builtin.COUNT_STAR -->
+  <class name="COUNT_STAR" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.executionengine.ExecutionEngine"/>
-    <constructor name="LocalExecutionEngine" type="org.apache.pig.impl.PigContext"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="COUNT_STAR"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getDataStorage" return="org.apache.pig.backend.datastorage.DataStorage"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="init"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="close"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getConfiguration" return="java.util.Properties"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="updateConfiguration"
+    <method name="sum" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="newConfiguration" type="java.util.Properties"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="NumberFormatException" type="java.lang.NumberFormatException"/>
     </method>
-    <method name="getStatistics" return="java.util.Map"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="compile" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
-      <param name="properties" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="execute" return="java.util.List"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="jobName" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="submit" return="java.util.List"
+    <method name="getValue" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="jobName" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="explain"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[Generates the count of the values of the first field of a tuple. 
+ This class is different from COUNT in that it counts all NULL values and as such
+ implements SQL COUNT(*) semantics. This class is Algebraic in
+ implemenation, so if possible the execution will be split into a local and global functions]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT_STAR -->
+  <!-- start class org.apache.pig.builtin.COUNT_STAR.Final -->
+  <class name="COUNT_STAR.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="COUNT_STAR.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="plan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="stream" type="java.io.PrintStream"/>
-      <param name="format" type="java.lang.String"/>
-      <param name="isVerbose" type="boolean"/>
-    </method>
-    <method name="runningJobs" return="java.util.Collection"
+    </constructor>
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="properties" type="java.util.Properties"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </method>
-    <method name="activeScopes" return="java.util.Collection"
-      abstract="false" native="false" synchronized="false"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT_STAR.Final -->
+  <!-- start class org.apache.pig.builtin.COUNT_STAR.Initial -->
+  <class name="COUNT_STAR.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="COUNT_STAR.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </method>
-    <method name="reclaimScope"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="scope" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="pigContext" type="org.apache.pig.impl.PigContext"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="ds" type="org.apache.pig.backend.datastorage.DataStorage"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="nodeIdGenerator" type="org.apache.pig.impl.plan.NodeIdGenerator"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="logicalToPhysicalKeys" type="java.util.Map"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="physicalOpTable" type="java.util.Map"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="materializedResults" type="java.util.Map"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.LocalExecutionEngine -->
-  <!-- start class org.apache.pig.backend.local.executionengine.LocalJob -->
-  <class name="LocalJob" extends="java.lang.Object"
+  <!-- end class org.apache.pig.builtin.COUNT_STAR.Initial -->
+  <!-- start class org.apache.pig.builtin.COUNT_STAR.Intermediate -->
+  <class name="COUNT_STAR.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.backend.executionengine.ExecJob"/>
-    <constructor name="LocalJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.impl.io.FileSpec"
+    <constructor name="COUNT_STAR.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="LocalJob" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS, org.apache.pig.impl.PigContext, org.apache.pig.impl.io.FileSpec, org.apache.pig.tools.pigstats.PigStats"
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT_STAR.Intermediate -->
+  <!-- start class org.apache.pig.builtin.COUNT.Final -->
+  <class name="COUNT.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="COUNT.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getStatus" return="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="hasCompleted" return="boolean"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT.Final -->
+  <!-- start class org.apache.pig.builtin.COUNT.Initial -->
+  <class name="COUNT.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="COUNT.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </method>
-    <method name="getResults" return="java.util.Iterator"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getContiguration" return="java.util.Properties"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT.Initial -->
+  <!-- start class org.apache.pig.builtin.COUNT.Intermediate -->
+  <class name="COUNT.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="COUNT.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getStatistics" return="org.apache.pig.tools.pigstats.PigStats"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="completionNotification"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.COUNT.Intermediate -->
+  <!-- start class org.apache.pig.builtin.DIFF -->
+  <class name="DIFF" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DIFF"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cookie" type="java.lang.Object"/>
-    </method>
-    <method name="kill"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.DataBag"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Compares a tuple with two fields. Emits any differences.
+ @param input a tuple with exactly two fields.
+ @throws IOException if there are not exactly two fields in a tuple]]>
+      </doc>
     </method>
-    <method name="getLogs"
+    <doc>
+    <![CDATA[DIFF compares the fields of a tuple with arity 2. If the fields are DataBags, it
+ will emit any Tuples that are in on of the DataBags but not the other. If the
+ fields are values, it will emit tuples with values that do not match.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.DIFF -->
+  <!-- start class org.apache.pig.builtin.Distinct -->
+  <class name="Distinct" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <constructor name="Distinct"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.DataBag"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="log" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getSTDOut"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getSTDError"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="error" type="java.io.OutputStream"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getException" return="java.lang.Exception"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <field name="status" type="org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="pigContext" type="org.apache.pig.impl.PigContext"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="outFileSpec" type="org.apache.pig.impl.io.FileSpec"
-      transient="false" volatile="false"
+    <method name="getDistinct" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-    </field>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[Find the distinct set of tuples in a bag.
+ This is a blocking operator. All the input is put in the hashset implemented
+ in DistinctDataBag which also provides the other DataBag interfaces.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.LocalJob -->
-  <!-- start class org.apache.pig.backend.local.executionengine.LocalPigLauncher -->
-  <class name="LocalPigLauncher" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.Launcher"
+  <!-- end class org.apache.pig.builtin.Distinct -->
+  <!-- start class org.apache.pig.builtin.Distinct.Final -->
+  <class name="Distinct.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LocalPigLauncher"
+    <constructor name="Distinct.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="explain"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="pp" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="pc" type="org.apache.pig.impl.PigContext"/>
-      <param name="ps" type="java.io.PrintStream"/>
-      <param name="format" type="java.lang.String"/>
-      <param name="isVerbose" type="boolean"/>
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="launchPig" return="org.apache.pig.tools.pigstats.PigStats"
+    <method name="exec" return="org.apache.pig.data.DataBag"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="php" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
-      <param name="grpName" type="java.lang.String"/>
-      <param name="pc" type="org.apache.pig.impl.PigContext"/>
-      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <exception name="JobCreationException" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobCreationException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.LocalPigLauncher -->
-  <!-- start class org.apache.pig.backend.local.executionengine.LocalPOStoreImpl -->
-  <class name="LocalPOStoreImpl" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStoreImpl"
+  <!-- end class org.apache.pig.builtin.Distinct.Final -->
+  <!-- start class org.apache.pig.builtin.Distinct.Initial -->
+  <class name="Distinct.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LocalPOStoreImpl" type="org.apache.pig.impl.PigContext"
+    <constructor name="Distinct.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="createStoreFunc" return="org.apache.pig.StoreFunc"
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="sFile" type="org.apache.pig.impl.io.FileSpec"/>
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="tearDown"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.Distinct.Initial -->
+  <!-- start class org.apache.pig.builtin.Distinct.Intermediate -->
+  <class name="Distinct.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Distinct.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="cleanUp"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[This class implements the behavior of a POStore in the local
- execution engine. It creates and manages the store function and the
- output stream of the store.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.LocalPOStoreImpl -->
-  <!-- start class org.apache.pig.backend.local.executionengine.LocalResult -->
-  <class name="LocalResult" extends="java.lang.Object"
+  <!-- end class org.apache.pig.builtin.Distinct.Intermediate -->
+  <!-- start class org.apache.pig.builtin.DoubleAvg -->
+  <class name="DoubleAvg" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LocalResult" type="org.apache.pig.impl.io.FileSpec"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="DoubleAvg"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <field name="outFileSpec" type="org.apache.pig.impl.io.FileSpec"
-      transient="false" volatile="false"
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-  </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.LocalResult -->
-</package>
-<package name="org.apache.pig.backend.local.executionengine.physicalLayer">
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.LocalLogToPhyTranslationVisitor -->
-  <class name="LocalLogToPhyTranslationVisitor" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.LogToPhyTranslationVisitor"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LocalLogToPhyTranslationVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="getLogToPhyMap" return="java.util.Map"
+    </method>
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="visit"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="combine" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="visit"
+    <method name="count" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="sum" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="visit"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="visit"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cross" type="org.apache.pig.impl.logicalLayer.LOCross"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="loStore" type="org.apache.pig.impl.logicalLayer.LOStore"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <doc>
+    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
+ implemenation, so if possible the execution will be split into a local and global application]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.LocalLogToPhyTranslationVisitor -->
-</package>
-<package name="org.apache.pig.backend.local.executionengine.physicalLayer.counters">
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.counters.POCounter -->
-  <class name="POCounter" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+  <!-- end class org.apache.pig.builtin.DoubleAvg -->
+  <!-- start class org.apache.pig.builtin.DoubleAvg.Final -->
+  <class name="DoubleAvg.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, int"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey"
+    <constructor name="DoubleAvg.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="visit"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="name" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleAvg.Final -->
+  <!-- start class org.apache.pig.builtin.DoubleAvg.Initial -->
+  <class name="DoubleAvg.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleAvg.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="supportsMultipleInputs" return="boolean"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="supportsMultipleOutputs" return="boolean"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleAvg.Initial -->
+  <!-- start class org.apache.pig.builtin.DoubleAvg.Intermediate -->
+  <class name="DoubleAvg.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleAvg.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getCount" return="long"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.counters.POCounter -->
-</package>
-<package name="org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators">
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCogroup -->
-  <class name="POCogroup" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+  <!-- end class org.apache.pig.builtin.DoubleAvg.Intermediate -->
+  <!-- start class org.apache.pig.builtin.DoubleMax -->
+  <class name="DoubleMax" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="DoubleMax"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, int"
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+    </method>
+    <method name="getIntermed" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="setInner"
+    </method>
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="inner" type="boolean[]"/>
     </method>
-    <method name="visit"
+    <method name="max" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="name" return="java.lang.String"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="supportsMultipleInputs" return="boolean"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="supportsMultipleOutputs" return="boolean"
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
     <doc>
-    <![CDATA[This is a local implementation of Cogroup.
- The inputs need to be connected to LocalRearranges possibly by the
- logical to physical translator.
- 
- This is a blocking operator. The outputs of LRs are put into
- SortedDataBags. They are sorted on the keys. We then start pulling
- tuple out of these bags and start constructing output.]]>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCogroup -->
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCross -->
-  <class name="POCross" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+  <!-- end class org.apache.pig.builtin.DoubleMax -->
+  <!-- start class org.apache.pig.builtin.DoubleMax.Final -->
+  <class name="DoubleMax.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey"
+    <constructor name="DoubleMax.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, int"
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMax.Final -->
+  <!-- start class org.apache.pig.builtin.DoubleMax.Initial -->
+  <class name="DoubleMax.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleMax.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMax.Initial -->
+  <!-- start class org.apache.pig.builtin.DoubleMax.Intermediate -->
+  <class name="DoubleMax.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleMax.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMax.Intermediate -->
+  <!-- start class org.apache.pig.builtin.DoubleMin -->
+  <class name="DoubleMin" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="DoubleMin"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="visit"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="name" return="java.lang.String"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="supportsMultipleInputs" return="boolean"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="supportsMultipleOutputs" return="boolean"
+    <method name="min" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <doc>
-    <![CDATA[This is a local implementation of the cross. Its a blocking operator.
- It accumulates inputs into databags and then applies logic similar to 
- foreach flatten(*) to get the output tuples]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POCross -->
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplit -->
-  <class name="POSplit" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, int"
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey"
+    </method>
+    <doc>
+    <![CDATA[Generates the min of the Double values in the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMin -->
+  <!-- start class org.apache.pig.builtin.DoubleMin.Final -->
+  <class name="DoubleMin.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleMin.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="visit"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMin.Final -->
+  <!-- start class org.apache.pig.builtin.DoubleMin.Initial -->
+  <class name="DoubleMin.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleMin.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="name" return="java.lang.String"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="supportsMultipleInputs" return="boolean"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleMin.Initial -->
+  <!-- start class org.apache.pig.builtin.DoubleMin.Intermediate -->
+  <class name="DoubleMin.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleMin.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="supportsMultipleOutputs" return="boolean"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplit -->
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplitOutput -->
-  <class name="POSplitOutput" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+  <!-- end class org.apache.pig.builtin.DoubleMin.Intermediate -->
+  <!-- start class org.apache.pig.builtin.DoubleSum -->
+  <class name="DoubleSum" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="DoubleSum"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, int"
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey"
+    </method>
+    <method name="getIntermed" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="visit"
+    </method>
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="sum" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="name" return="java.lang.String"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="supportsMultipleInputs" return="boolean"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="supportsMultipleOutputs" return="boolean"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setPlan"
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="compPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
     </method>
+    <doc>
+    <![CDATA[Generates the sum of the values of the first field of a tuple.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POSplitOutput -->
-  <!-- start class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POStreamLocal -->
-  <class name="POStreamLocal" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStream"
+  <!-- end class org.apache.pig.builtin.DoubleSum -->
+  <!-- start class org.apache.pig.builtin.DoubleSum.Final -->
+  <class name="DoubleSum.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="POStreamLocal" type="org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.streaming.ExecutableManager, org.apache.pig.impl.streaming.StreamingCommand, java.util.Properties"
+    <constructor name="DoubleSum.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[This is different from the Map-Reduce implementation of the POStream since there is no
- push model here. POStatus_EOP signals the end of input and can be used to decide when 
- to stop the stdin to the process]]>
-      </doc>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.backend.local.executionengine.physicalLayer.relationalOperators.POStreamLocal -->
-</package>
-<package name="org.apache.pig.builtin">
-  <!-- start class org.apache.pig.builtin.ARITY -->
-  <class name="ARITY" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.DoubleSum.Final -->
+  <!-- start class org.apache.pig.builtin.DoubleSum.Initial -->
+  <class name="DoubleSum.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ARITY"
+    <constructor name="DoubleSum.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Integer"
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+  </class>
+  <!-- end class org.apache.pig.builtin.DoubleSum.Initial -->
+  <!-- start class org.apache.pig.builtin.DoubleSum.Intermediate -->
+  <class name="DoubleSum.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DoubleSum.Intermediate"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.ARITY -->
-  <!-- start class org.apache.pig.builtin.AVG -->
-  <class name="AVG" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.DoubleSum.Intermediate -->
+  <!-- start class org.apache.pig.builtin.FloatAvg -->
+  <class name="FloatAvg" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="AVG"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="FloatAvg"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -16500,24 +19858,35 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
     <doc>
     <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
- implemenation, so if possible the execution will be split into a local and global application]]>
+ implementation, so if possible the execution will be split into a local and global application]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.AVG -->
-  <!-- start class org.apache.pig.builtin.AVG.Final -->
-  <class name="AVG.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatAvg -->
+  <!-- start class org.apache.pig.builtin.FloatAvg.Final -->
+  <class name="FloatAvg.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="AVG.Final"
+    <constructor name="FloatAvg.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -16529,13 +19898,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.AVG.Final -->
-  <!-- start class org.apache.pig.builtin.AVG.Initial -->
-  <class name="AVG.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatAvg.Final -->
+  <!-- start class org.apache.pig.builtin.FloatAvg.Initial -->
+  <class name="FloatAvg.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="AVG.Initial"
+    <constructor name="FloatAvg.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -16547,13 +19916,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.AVG.Initial -->
-  <!-- start class org.apache.pig.builtin.AVG.Intermediate -->
-  <class name="AVG.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatAvg.Initial -->
+  <!-- start class org.apache.pig.builtin.FloatAvg.Intermediate -->
+  <class name="FloatAvg.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="AVG.Intermediate"
+    <constructor name="FloatAvg.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -16565,438 +19934,392 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.AVG.Intermediate -->
-  <!-- start class org.apache.pig.builtin.BagSize -->
-  <class name="BagSize" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatAvg.Intermediate -->
+  <!-- start class org.apache.pig.builtin.FloatMax -->
+  <class name="FloatMax" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="BagSize"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="FloatMax"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="exec" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <doc>
-    <![CDATA[Generates the size of the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.BagSize -->
-  <!-- start class org.apache.pig.builtin.BinaryStorage -->
-  <class name="BinaryStorage" extends="org.apache.pig.builtin.Utf8StorageConverter"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.LoadFunc"/>
-    <implements name="org.apache.pig.StoreFunc"/>
-    <constructor name="BinaryStorage"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a <code>BinaryStorage</code> with default buffer size for reading
- inputs.]]>
-      </doc>
-    </constructor>
-    <constructor name="BinaryStorage" type="int"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Create a <code>BinaryStorage</code> with the given buffer-size for 
- reading inputs.
- 
- @param bufferSize buffer size to be used]]>
-      </doc>
-    </constructor>
-    <method name="bindTo"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
+    <method name="max" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="out" type="java.io.OutputStream"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="finish"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="putNext"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="org.apache.pig.data.Tuple"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="equals" return="boolean"
+    <method name="getValue" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="obj" type="java.lang.Object"/>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <doc>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMax -->
+  <!-- start class org.apache.pig.builtin.FloatMax.Final -->
+  <class name="FloatMax.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatMax.Final"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="fieldsToRead"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMax.Final -->
+  <!-- start class org.apache.pig.builtin.FloatMax.Initial -->
+  <class name="FloatMax.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatMax.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-    </method>
-    <method name="getStorePreparationClass" return="java.lang.Class"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="bufferSize" type="int"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="offset" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="end" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <doc>
-    <![CDATA[{@link BinaryStorage} is a simple, as-is, serializer/deserializer pair.
- 
- It is {@link LoadFunc} which loads all the given data from the given 
- {@link InputStream} into a single {@link Tuple} and a {@link StoreFunc}
- which writes out all input data as a single <code>Tuple</code>. 
- 
- <code>BinaryStorage</code> is intended to work in cases where input files
- are to be sent in-whole for processing without any splitting and 
- interpretation of their data.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.BinaryStorage -->
-  <!-- start class org.apache.pig.builtin.BinStorage -->
-  <class name="BinStorage" extends="java.lang.Object"
+  <!-- end class org.apache.pig.builtin.FloatMax.Initial -->
+  <!-- start class org.apache.pig.builtin.FloatMax.Intermediate -->
+  <class name="FloatMax.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.ReversibleLoadStoreFunc"/>
-    <constructor name="BinStorage"
+    <constructor name="FloatMax.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Simple binary nested reader format]]>
-      </doc>
     </constructor>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMax.Intermediate -->
+  <!-- start class org.apache.pig.builtin.FloatMin -->
+  <class name="FloatMin" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="FloatMin"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="bindTo"
+    </constructor>
+    <method name="exec" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="finish"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="putNext"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
     </method>
-    <method name="bytesToCharArray" return="java.lang.String"
+    <method name="min" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="bytesToDouble" return="java.lang.Double"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="bytesToFloat" return="java.lang.Float"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToInteger" return="java.lang.Integer"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
     </method>
-    <method name="bytesToLong" return="java.lang.Long"
+    <method name="getValue" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
     </method>
-    <method name="bytesToMap" return="java.util.Map"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[Generates the min of the Float values in the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMin -->
+  <!-- start class org.apache.pig.builtin.FloatMin.Final -->
+  <class name="FloatMin.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatMin.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-    </method>
-    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+    </constructor>
+    <method name="exec" return="java.lang.Float"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMin.Final -->
+  <!-- start class org.apache.pig.builtin.FloatMin.Initial -->
+  <class name="FloatMin.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatMin.Initial"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="fieldsToRead"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMin.Initial -->
+  <!-- start class org.apache.pig.builtin.FloatMin.Intermediate -->
+  <class name="FloatMin.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatMin.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-    </method>
-    <method name="toBytes" return="byte[]"
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="bag" type="org.apache.pig.data.DataBag"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatMin.Intermediate -->
+  <!-- start class org.apache.pig.builtin.FloatSum -->
+  <class name="FloatSum" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="FloatSum"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="s" type="java.lang.String"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="getInitial" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="d" type="java.lang.Double"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="java.lang.Float"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="i" type="java.lang.Integer"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="sumDoubles" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="sum" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="l" type="java.lang.Long"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="m" type="java.util.Map"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="equals" return="boolean"
+    <method name="getValue" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="obj" type="java.lang.Object"/>
     </method>
-    <method name="getStorePreparationClass" return="java.lang.Class"
+    <doc>
+    <![CDATA[Generates the sum of the Float values in the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.FloatSum -->
+  <!-- start class org.apache.pig.builtin.FloatSum.Final -->
+  <class name="FloatSum.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FloatSum.Final"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="RECORD_1" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-    <field name="RECORD_2" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-    <field name="RECORD_3" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
-      deprecated="not deprecated">
-    </field>
-    <field name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="end" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
   </class>
-  <!-- end class org.apache.pig.builtin.BinStorage -->
-  <!-- start class org.apache.pig.builtin.CONCAT -->
-  <class name="CONCAT" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatSum.Final -->
+  <!-- start class org.apache.pig.builtin.FloatSum.Initial -->
+  <class name="FloatSum.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="CONCAT"
+    <constructor name="FloatSum.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.DataByteArray"
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-    </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
-    </method>
-    <doc>
-    <![CDATA[Generates the concatenation of the first two fields of a tuple.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.CONCAT -->
-  <!-- start class org.apache.pig.builtin.ConstantSize -->
-  <class name="ConstantSize" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatSum.Initial -->
+  <!-- start class org.apache.pig.builtin.FloatSum.Intermediate -->
+  <class name="FloatSum.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="false" final="false" visibility="public"
+    static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ConstantSize"
+    <constructor name="FloatSum.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="exec" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-    </method>
-    <doc>
-    <![CDATA[Generates the size of the first field of a tuple.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.ConstantSize -->
-  <!-- start class org.apache.pig.builtin.COUNT -->
-  <class name="COUNT" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.FloatSum.Intermediate -->
+  <!-- start class org.apache.pig.builtin.IntAvg -->
+  <class name="IntAvg" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="COUNT"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="IntAvg"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17018,13 +20341,27 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="combine" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="count" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
     <method name="sum" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <exception name="NumberFormatException" type="java.lang.NumberFormatException"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
@@ -17032,22 +20369,39 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the count of the values of the first field of a tuple. This class is Algebraic in
- implemenation, so if possible the execution will be split into a local and global functions]]>
+    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
+ implementation, so if possible the execution will be split into a local and global application]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.COUNT -->
-  <!-- start class org.apache.pig.builtin.COUNT.Final -->
-  <class name="COUNT.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntAvg -->
+  <!-- start class org.apache.pig.builtin.IntAvg.Final -->
+  <class name="IntAvg.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="COUNT.Final"
+    <constructor name="IntAvg.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17055,13 +20409,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.COUNT.Final -->
-  <!-- start class org.apache.pig.builtin.COUNT.Initial -->
-  <class name="COUNT.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntAvg.Final -->
+  <!-- start class org.apache.pig.builtin.IntAvg.Initial -->
+  <class name="IntAvg.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="COUNT.Initial"
+    <constructor name="IntAvg.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17073,13 +20427,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.COUNT.Initial -->
-  <!-- start class org.apache.pig.builtin.COUNT.Intermediate -->
-  <class name="COUNT.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntAvg.Initial -->
+  <!-- start class org.apache.pig.builtin.IntAvg.Intermediate -->
+  <class name="IntAvg.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="COUNT.Intermediate"
+    <constructor name="IntAvg.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17091,91 +20445,85 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.COUNT.Intermediate -->
-  <!-- start class org.apache.pig.builtin.DIFF -->
-  <class name="DIFF" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntAvg.Intermediate -->
+  <!-- start class org.apache.pig.builtin.IntMax -->
+  <class name="IntMax" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DIFF"
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="IntMax"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.DataBag"
+    <method name="exec" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Compares a tuple with two fields. Emits any differences.
- @param input a tuple with exactly two fields.
- @throws IOException if there are not exactly two fields in a tuple]]>
-      </doc>
     </method>
-    <doc>
-    <![CDATA[DIFF compares the fields of a tuple with arity 2. If the fields are DataBags, it
- will emit any Tuples that are in on of the DataBags but not the other. If the
- fields are values, it will emit tuples with values that do not match.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.DIFF -->
-  <!-- start class org.apache.pig.builtin.Distinct -->
-  <class name="Distinct" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="Distinct"
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.DataBag"
+    </method>
+    <method name="getIntermed" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="getFinal" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="max" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="getDistinct" return="org.apache.pig.data.DataBag"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Find the distinct set of tuples in a bag.
- This is a blocking operator. All the input is put in the hashset implemented
- in DistinctDataBag which also provides the other DataBag interfaces.]]>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.Distinct -->
-  <!-- start class org.apache.pig.builtin.Distinct.Final -->
-  <class name="Distinct.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMax -->
+  <!-- start class org.apache.pig.builtin.IntMax.Final -->
+  <class name="IntMax.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="Distinct.Final"
+    <constructor name="IntMax.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.DataBag"
+    <method name="exec" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17183,13 +20531,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.Distinct.Final -->
-  <!-- start class org.apache.pig.builtin.Distinct.Initial -->
-  <class name="Distinct.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMax.Final -->
+  <!-- start class org.apache.pig.builtin.IntMax.Initial -->
+  <class name="IntMax.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="Distinct.Initial"
+    <constructor name="IntMax.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17201,13 +20549,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.Distinct.Initial -->
-  <!-- start class org.apache.pig.builtin.Distinct.Intermediate -->
-  <class name="Distinct.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMax.Initial -->
+  <!-- start class org.apache.pig.builtin.IntMax.Intermediate -->
+  <class name="IntMax.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="Distinct.Intermediate"
+    <constructor name="IntMax.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17219,18 +20567,19 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.Distinct.Intermediate -->
-  <!-- start class org.apache.pig.builtin.DoubleAvg -->
-  <class name="DoubleAvg" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMax.Intermediate -->
+  <!-- start class org.apache.pig.builtin.IntMin -->
+  <class name="IntMin" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="DoubleAvg"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="IntMin"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17252,50 +20601,51 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="combine" return="org.apache.pig.data.Tuple"
+    <method name="min" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="count" return="long"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="sum" return="java.lang.Double"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
     <doc>
-    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
- implemenation, so if possible the execution will be split into a local and global application]]>
+    <![CDATA[Generates the min of the Integer values in the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleAvg -->
-  <!-- start class org.apache.pig.builtin.DoubleAvg.Final -->
-  <class name="DoubleAvg.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMin -->
+  <!-- start class org.apache.pig.builtin.IntMin.Final -->
+  <class name="IntMin.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleAvg.Final"
+    <constructor name="IntMin.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Integer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17303,13 +20653,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleAvg.Final -->
-  <!-- start class org.apache.pig.builtin.DoubleAvg.Initial -->
-  <class name="DoubleAvg.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMin.Final -->
+  <!-- start class org.apache.pig.builtin.IntMin.Initial -->
+  <class name="IntMin.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleAvg.Initial"
+    <constructor name="IntMin.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17321,13 +20671,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleAvg.Initial -->
-  <!-- start class org.apache.pig.builtin.DoubleAvg.Intermediate -->
-  <class name="DoubleAvg.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMin.Initial -->
+  <!-- start class org.apache.pig.builtin.IntMin.Intermediate -->
+  <class name="IntMin.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleAvg.Intermediate"
+    <constructor name="IntMin.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17339,18 +20689,19 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleAvg.Intermediate -->
-  <!-- start class org.apache.pig.builtin.DoubleMax -->
-  <class name="DoubleMax" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntMin.Intermediate -->
+  <!-- start class org.apache.pig.builtin.IntSum -->
+  <class name="IntSum" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="DoubleMax"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="IntSum"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17372,7 +20723,14 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="max" return="java.lang.Double"
+    <method name="sumLongs" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="sum" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -17385,21 +20743,38 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
+    <![CDATA[Generates the sum of the Integer in the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMax -->
-  <!-- start class org.apache.pig.builtin.DoubleMax.Final -->
-  <class name="DoubleMax.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntSum -->
+  <!-- start class org.apache.pig.builtin.IntSum.Final -->
+  <class name="IntSum.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMax.Final"
+    <constructor name="IntSum.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17407,13 +20782,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMax.Final -->
-  <!-- start class org.apache.pig.builtin.DoubleMax.Initial -->
-  <class name="DoubleMax.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntSum.Final -->
+  <!-- start class org.apache.pig.builtin.IntSum.Initial -->
+  <class name="IntSum.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMax.Initial"
+    <constructor name="IntSum.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17425,13 +20800,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMax.Initial -->
-  <!-- start class org.apache.pig.builtin.DoubleMax.Intermediate -->
-  <class name="DoubleMax.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntSum.Initial -->
+  <!-- start class org.apache.pig.builtin.IntSum.Intermediate -->
+  <class name="IntSum.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMax.Intermediate"
+    <constructor name="IntSum.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17443,14 +20818,33 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMax.Intermediate -->
-  <!-- start class org.apache.pig.builtin.DoubleMin -->
-  <class name="DoubleMin" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.IntSum.Intermediate -->
+  <!-- start class org.apache.pig.builtin.IsEmpty -->
+  <class name="IsEmpty" extends="org.apache.pig.FilterFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="IsEmpty"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.IsEmpty -->
+  <!-- start class org.apache.pig.builtin.LongAvg -->
+  <class name="LongAvg" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="DoubleMin"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="LongAvg"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17476,12 +20870,27 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="min" return="java.lang.Double"
+    <method name="combine" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="count" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="sum" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
@@ -17489,17 +20898,35 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the min of the Double values in the first field of a tuple.]]>
+    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
+ implementation, so if possible the execution will be split into a local and global application]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMin -->
-  <!-- start class org.apache.pig.builtin.DoubleMin.Final -->
-  <class name="DoubleMin.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongAvg -->
+  <!-- start class org.apache.pig.builtin.LongAvg.Final -->
+  <class name="LongAvg.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMin.Final"
+    <constructor name="LongAvg.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17511,13 +20938,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMin.Final -->
-  <!-- start class org.apache.pig.builtin.DoubleMin.Initial -->
-  <class name="DoubleMin.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongAvg.Final -->
+  <!-- start class org.apache.pig.builtin.LongAvg.Initial -->
+  <class name="LongAvg.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMin.Initial"
+    <constructor name="LongAvg.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17529,13 +20956,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMin.Initial -->
-  <!-- start class org.apache.pig.builtin.DoubleMin.Intermediate -->
-  <class name="DoubleMin.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongAvg.Initial -->
+  <!-- start class org.apache.pig.builtin.LongAvg.Intermediate -->
+  <class name="LongAvg.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleMin.Intermediate"
+    <constructor name="LongAvg.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17547,18 +20974,19 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleMin.Intermediate -->
-  <!-- start class org.apache.pig.builtin.DoubleSum -->
-  <class name="DoubleSum" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongAvg.Intermediate -->
+  <!-- start class org.apache.pig.builtin.LongMax -->
+  <class name="LongMax" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="DoubleSum"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="LongMax"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17580,7 +21008,7 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="sum" return="java.lang.Double"
+    <method name="max" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -17593,21 +21021,38 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the sum of the values of the first field of a tuple.]]>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleSum -->
-  <!-- start class org.apache.pig.builtin.DoubleSum.Final -->
-  <class name="DoubleSum.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMax -->
+  <!-- start class org.apache.pig.builtin.LongMax.Final -->
+  <class name="LongMax.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleSum.Final"
+    <constructor name="LongMax.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17615,13 +21060,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleSum.Final -->
-  <!-- start class org.apache.pig.builtin.DoubleSum.Initial -->
-  <class name="DoubleSum.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMax.Final -->
+  <!-- start class org.apache.pig.builtin.LongMax.Initial -->
+  <class name="LongMax.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleSum.Initial"
+    <constructor name="LongMax.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17633,13 +21078,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleSum.Initial -->
-  <!-- start class org.apache.pig.builtin.DoubleSum.Intermediate -->
-  <class name="DoubleSum.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMax.Initial -->
+  <!-- start class org.apache.pig.builtin.LongMax.Intermediate -->
+  <class name="LongMax.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DoubleSum.Intermediate"
+    <constructor name="LongMax.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17651,18 +21096,19 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.DoubleSum.Intermediate -->
-  <!-- start class org.apache.pig.builtin.FloatAvg -->
-  <class name="FloatAvg" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMax.Intermediate -->
+  <!-- start class org.apache.pig.builtin.LongMin -->
+  <class name="LongMin" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="FloatAvg"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="LongMin"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17684,50 +21130,51 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="combine" return="org.apache.pig.data.Tuple"
+    <method name="min" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="values" type="org.apache.pig.data.DataBag"/>
+      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="count" return="long"
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <method name="sum" return="java.lang.Double"
+    <method name="accumulate"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="b" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="cleanup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <doc>
-    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
- implementation, so if possible the execution will be split into a local and global application]]>
+    <method name="getValue" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Generates the min of the Long values in the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatAvg -->
-  <!-- start class org.apache.pig.builtin.FloatAvg.Final -->
-  <class name="FloatAvg.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMin -->
+  <!-- start class org.apache.pig.builtin.LongMin.Final -->
+  <class name="LongMin.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatAvg.Final"
+    <constructor name="LongMin.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17735,13 +21182,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatAvg.Final -->
-  <!-- start class org.apache.pig.builtin.FloatAvg.Initial -->
-  <class name="FloatAvg.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMin.Final -->
+  <!-- start class org.apache.pig.builtin.LongMin.Initial -->
+  <class name="LongMin.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatAvg.Initial"
+    <constructor name="LongMin.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17753,13 +21200,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatAvg.Initial -->
-  <!-- start class org.apache.pig.builtin.FloatAvg.Intermediate -->
-  <class name="FloatAvg.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMin.Initial -->
+  <!-- start class org.apache.pig.builtin.LongMin.Intermediate -->
+  <class name="LongMin.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatAvg.Intermediate"
+    <constructor name="LongMin.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17771,18 +21218,19 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatAvg.Intermediate -->
-  <!-- start class org.apache.pig.builtin.FloatMax -->
-  <class name="FloatMax" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongMin.Intermediate -->
+  <!-- start class org.apache.pig.builtin.LongSum -->
+  <class name="LongSum" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="FloatMax"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="LongSum"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Float"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17804,7 +21252,7 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="max" return="java.lang.Float"
+    <method name="sum" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -17817,21 +21265,38 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
+    <![CDATA[Generates the sum of the Long values in the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMax -->
-  <!-- start class org.apache.pig.builtin.FloatMax.Final -->
-  <class name="FloatMax.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongSum -->
+  <!-- start class org.apache.pig.builtin.LongSum.Final -->
+  <class name="LongSum.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMax.Final"
+    <constructor name="LongSum.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Float"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17839,13 +21304,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMax.Final -->
-  <!-- start class org.apache.pig.builtin.FloatMax.Initial -->
-  <class name="FloatMax.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongSum.Final -->
+  <!-- start class org.apache.pig.builtin.LongSum.Initial -->
+  <class name="LongSum.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMax.Initial"
+    <constructor name="LongSum.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17857,13 +21322,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMax.Initial -->
-  <!-- start class org.apache.pig.builtin.FloatMax.Intermediate -->
-  <class name="FloatMax.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongSum.Initial -->
+  <!-- start class org.apache.pig.builtin.LongSum.Intermediate -->
+  <class name="LongSum.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMax.Intermediate"
+    <constructor name="LongSum.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17875,18 +21340,46 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMax.Intermediate -->
-  <!-- start class org.apache.pig.builtin.FloatMin -->
-  <class name="FloatMin" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.LongSum.Intermediate -->
+  <!-- start class org.apache.pig.builtin.MapSize -->
+  <class name="MapSize" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="MapSize"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the size of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.MapSize -->
+  <!-- start class org.apache.pig.builtin.MAX -->
+  <class name="MAX" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="FloatMin"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="MAX"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Float"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17908,7 +21401,14 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="min" return="java.lang.Float"
+    <method name="max" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="maxDoubles" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -17921,21 +21421,44 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="getArgToFuncMapping" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the min of the Float values in the first field of a tuple.]]>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMin -->
-  <!-- start class org.apache.pig.builtin.FloatMin.Final -->
-  <class name="FloatMin.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MAX -->
+  <!-- start class org.apache.pig.builtin.MAX.Final -->
+  <class name="MAX.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMin.Final"
+    <constructor name="MAX.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Float"
+    <method name="exec" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -17943,13 +21466,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMin.Final -->
-  <!-- start class org.apache.pig.builtin.FloatMin.Initial -->
-  <class name="FloatMin.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MAX.Final -->
+  <!-- start class org.apache.pig.builtin.MAX.Initial -->
+  <class name="MAX.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMin.Initial"
+    <constructor name="MAX.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17961,13 +21484,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMin.Initial -->
-  <!-- start class org.apache.pig.builtin.FloatMin.Intermediate -->
-  <class name="FloatMin.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MAX.Initial -->
+  <!-- start class org.apache.pig.builtin.MAX.Intermediate -->
+  <class name="MAX.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatMin.Intermediate"
+    <constructor name="MAX.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -17979,14 +21502,15 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatMin.Intermediate -->
-  <!-- start class org.apache.pig.builtin.FloatSum -->
-  <class name="FloatSum" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MAX.Intermediate -->
+  <!-- start class org.apache.pig.builtin.MIN -->
+  <class name="MIN" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="FloatSum"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="MIN"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -18012,14 +21536,14 @@ tuple.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="sumDoubles" return="java.lang.Double"
+    <method name="min" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="sum" return="java.lang.Double"
+    <method name="minDoubles" return="java.lang.Double"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -18032,17 +21556,40 @@ tuple.]]>
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="getArgToFuncMapping" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
-    <![CDATA[Generates the sum of the Float values in the first field of a tuple.]]>
+    <![CDATA[Generates the min of the values of the first field of a tuple.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatSum -->
-  <!-- start class org.apache.pig.builtin.FloatSum.Final -->
-  <class name="FloatSum.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MIN -->
+  <!-- start class org.apache.pig.builtin.MIN.Final -->
+  <class name="MIN.Final" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatSum.Final"
+    <constructor name="MIN.Final"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -18054,13 +21601,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatSum.Final -->
-  <!-- start class org.apache.pig.builtin.FloatSum.Initial -->
-  <class name="FloatSum.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MIN.Final -->
+  <!-- start class org.apache.pig.builtin.MIN.Initial -->
+  <class name="MIN.Initial" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatSum.Initial"
+    <constructor name="MIN.Initial"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -18072,13 +21619,13 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatSum.Initial -->
-  <!-- start class org.apache.pig.builtin.FloatSum.Intermediate -->
-  <class name="FloatSum.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MIN.Initial -->
+  <!-- start class org.apache.pig.builtin.MIN.Intermediate -->
+  <class name="MIN.Intermediate" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="true" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="FloatSum.Intermediate"
+    <constructor name="MIN.Intermediate"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -18090,79 +21637,225 @@ tuple.]]>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.FloatSum.Intermediate -->
-  <!-- start class org.apache.pig.builtin.IntAvg -->
-  <class name="IntAvg" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.MIN.Intermediate -->
+  <!-- start class org.apache.pig.builtin.PigStorage -->
+  <class name="PigStorage" extends="org.apache.pig.FileInputLoadFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="IntAvg"
+    <implements name="org.apache.pig.StoreFuncInterface"/>
+    <implements name="org.apache.pig.LoadPushDown"/>
+    <constructor name="PigStorage"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <constructor name="PigStorage" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Constructs a Pig loader that uses specified regex as a field delimiter.
+ 
+ @param delimiter
+            the single byte character that is used to separate fields.
+            ("\t" is the default.)]]>
+      </doc>
+    </constructor>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="putNext"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="f" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="pushProjection" return="org.apache.pig.LoadPushDown.RequiredFieldResponse"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="requiredFieldList" type="org.apache.pig.LoadPushDown.RequiredFieldList"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="equals" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="obj" type="java.lang.Object"/>
     </method>
-    <method name="combine" return="org.apache.pig.data.Tuple"
+    <method name="equals" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="values" type="org.apache.pig.data.DataBag"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="other" type="org.apache.pig.builtin.PigStorage"/>
     </method>
-    <method name="count" return="long"
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="sum" return="java.lang.Long"
+    <method name="prepareToRead"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="getOutputFormat" return="org.apache.hadoop.mapreduce.OutputFormat"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
+    <method name="prepareToWrite"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="writer" type="org.apache.hadoop.mapreduce.RecordWriter"/>
+    </method>
+    <method name="setStoreLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="checkSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.ResourceSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="relToAbsPathForStoreLocation" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setUDFContextSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
+    </method>
+    <method name="getFeatures" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setStoreFuncUDFContextSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
+    </method>
+    <method name="cleanupOnFailure"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <field name="in" type="org.apache.hadoop.mapreduce.RecordReader"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="writer" type="org.apache.hadoop.mapreduce.RecordWriter"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mLog" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="false" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <doc>
-    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
- implementation, so if possible the execution will be split into a local and global application]]>
+    <![CDATA[A load function that parses a line of input into fields using a delimiter to set the fields. The
+ delimiter is given as a regular expression. See String.split(delimiter) and
+ http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html for more information.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IntAvg -->
-  <!-- start class org.apache.pig.builtin.IntAvg.Final -->
-  <class name="IntAvg.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.PigStorage -->
+  <!-- start class org.apache.pig.builtin.PigStreaming -->
+  <class name="PigStreaming" extends="java.lang.Object"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IntAvg.Final"
+    <implements name="org.apache.pig.PigToStream"/>
+    <implements name="org.apache.pig.StreamToPig"/>
+    <constructor name="PigStreaming"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[The constructor that uses the default field delimiter.]]>
+      </doc>
+    </constructor>
+    <constructor name="PigStreaming" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[The constructor that accepts a user-specified field
+ delimiter.
+ 
+ @param delimiter a <code>String</code> specifying the field
+ delimiter.]]>
+      </doc>
+    </constructor>
+    <method name="serialize" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="deserialize" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="bytes" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[The default implementation of {@link PigToStream} and {@link StreamToPig}
+ interfaces. It converts tuples into <code>fieldDel</code> separated lines 
+ and <code>fieldDel</code> separated lines into tuples.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.PigStreaming -->
+  <!-- start class org.apache.pig.builtin.RANDOM -->
+  <class name="RANDOM" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="RANDOM"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
@@ -18173,4597 +21866,9096 @@ tuple.]]>
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
   </class>
-  <!-- end class org.apache.pig.builtin.IntAvg.Final -->
-  <!-- start class org.apache.pig.builtin.IntAvg.Initial -->
-  <class name="IntAvg.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.RANDOM -->
+  <!-- start class org.apache.pig.builtin.SIZE -->
+  <class name="SIZE" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IntAvg.Initial"
+    <constructor name="SIZE"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="exec" return="java.lang.Long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="getArgToFuncMapping" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the Size of the first field of a tuple.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IntAvg.Initial -->
-  <!-- start class org.apache.pig.builtin.IntAvg.Intermediate -->
-  <class name="IntAvg.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.SIZE -->
+  <!-- start class org.apache.pig.builtin.StringConcat -->
+  <class name="StringConcat" extends="org.apache.pig.EvalFunc"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IntAvg.Intermediate"
+    <constructor name="StringConcat"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="exec" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the concatenation of the first two fields of a tuple.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IntAvg.Intermediate -->
-  <!-- start class org.apache.pig.builtin.IntMax -->
-  <class name="IntMax" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.builtin.StringConcat -->
+  <!-- start class org.apache.pig.builtin.StringMax -->
+  <class name="StringMax" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="IntMax"
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="StringMax"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getIntermed" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getFinal" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="max" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMax -->
+  <!-- start class org.apache.pig.builtin.StringMax.Final -->
+  <class name="StringMax.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMax.Final"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMax.Final -->
+  <!-- start class org.apache.pig.builtin.StringMax.Initial -->
+  <class name="StringMax.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMax.Initial"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMax.Initial -->
+  <!-- start class org.apache.pig.builtin.StringMax.Intermediate -->
+  <class name="StringMax.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMax.Intermediate"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMax.Intermediate -->
+  <!-- start class org.apache.pig.builtin.StringMin -->
+  <class name="StringMin" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="StringMin"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getIntermed" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getFinal" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="min" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Generates the min of the String values in the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMin -->
+  <!-- start class org.apache.pig.builtin.StringMin.Final -->
+  <class name="StringMin.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMin.Final"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMin.Final -->
+  <!-- start class org.apache.pig.builtin.StringMin.Initial -->
+  <class name="StringMin.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMin.Initial"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMin.Initial -->
+  <!-- start class org.apache.pig.builtin.StringMin.Intermediate -->
+  <class name="StringMin.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringMin.Intermediate"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringMin.Intermediate -->
+  <!-- start class org.apache.pig.builtin.StringSize -->
+  <class name="StringSize" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StringSize"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the size of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.StringSize -->
+  <!-- start class org.apache.pig.builtin.SUM -->
+  <class name="SUM" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.Algebraic"/>
+    <implements name="org.apache.pig.Accumulator"/>
+    <constructor name="SUM"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInitial" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getIntermed" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getFinal" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="sum" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="sumDoubles" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="getArgToFuncMapping" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="accumulate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="cleanup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getValue" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Generates the sum of the values of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.SUM -->
+  <!-- start class org.apache.pig.builtin.SUM.Final -->
+  <class name="SUM.Final" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SUM.Final"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.SUM.Final -->
+  <!-- start class org.apache.pig.builtin.SUM.Initial -->
+  <class name="SUM.Initial" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SUM.Initial"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.SUM.Initial -->
+  <!-- start class org.apache.pig.builtin.SUM.Intermediate -->
+  <class name="SUM.Intermediate" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SUM.Intermediate"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.SUM.Intermediate -->
+  <!-- start class org.apache.pig.builtin.TextLoader -->
+  <class name="TextLoader" extends="org.apache.pig.LoadFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.LoadCaster"/>
+    <constructor name="TextLoader"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Integer
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToLong" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Long
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToFloat" return="java.lang.Float"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Float
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToDouble" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Double
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToCharArray" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Cast data from bytes to chararray value.  
+ @param b byte array to be cast.
+ @return String value.
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Map
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <param name="schema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Tuple
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <param name="schema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[TextLoader does not support conversion to Bag
+ @throws IOException if the value cannot be cast.]]>
+      </doc>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="bag" type="org.apache.pig.data.DataBag"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="java.lang.String"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="d" type="java.lang.Double"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="f" type="java.lang.Float"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="java.lang.Integer"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="l" type="java.lang.Long"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="m" type="java.util.Map"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <field name="in" type="org.apache.hadoop.mapreduce.RecordReader"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[This load function simply creates a tuple for each line of text that has a single field that
+ contains the line of text.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.TextLoader -->
+  <!-- start class org.apache.pig.builtin.TOKENIZE -->
+  <class name="TOKENIZE" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="TOKENIZE"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <method name="getArgToFuncMapping" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.builtin.TOKENIZE -->
+  <!-- start class org.apache.pig.builtin.TupleSize -->
+  <class name="TupleSize" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="TupleSize"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+    </method>
+    <doc>
+    <![CDATA[Generates the size of the first field of a tuple.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.TupleSize -->
+  <!-- start class org.apache.pig.builtin.Utf8StorageConverter -->
+  <class name="Utf8StorageConverter" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.LoadCaster"/>
+    <constructor name="Utf8StorageConverter"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <param name="schema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToCharArray" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToDouble" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+    </method>
+    <method name="bytesToFloat" return="java.lang.Float"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToBoolean" return="java.lang.Boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToLong" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <param name="fieldSchema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="bag" type="org.apache.pig.data.DataBag"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="java.lang.String"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="d" type="java.lang.Double"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="f" type="java.lang.Float"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="java.lang.Integer"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="l" type="java.lang.Long"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="m" type="java.util.Map"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toBytes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <field name="mBagFactory" type="org.apache.pig.data.BagFactory"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mLog" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="false" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[This abstract class provides standard conversions between utf8 encoded data
+ and pig data types.  It is intended to be extended by load and store
+ functions (such as PigStorage).]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.builtin.Utf8StorageConverter -->
+</package>
+<package name="org.apache.pig.data">
+  <!-- start class org.apache.pig.data.AccumulativeBag -->
+  <class name="AccumulativeBag" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.DataBag"/>
+    <constructor name="AccumulativeBag" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.AccumulativeTupleBuffer, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getTuplebuffer" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.AccumulativeTupleBuffer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="datainput" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dataoutput" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.data.AccumulativeBag -->
+  <!-- start class org.apache.pig.data.AmendableTuple -->
+  <class name="AmendableTuple" extends="org.apache.pig.data.DefaultTuple"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AmendableTuple" type="int, java.lang.Object"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getAmendKey" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setAmendKey"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="amendKey" type="java.lang.Object"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.data.AmendableTuple -->
+  <!-- start class org.apache.pig.data.BagFactory -->
+  <class name="BagFactory" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BagFactory"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getInstance" return="org.apache.pig.data.BagFactory"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a reference to the singleton factory.]]>
+      </doc>
+    </method>
+    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a default (unordered, not distinct) data bag.]]>
+      </doc>
+    </method>
+    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="listOfTuples" type="java.util.List"/>
+      <doc>
+      <![CDATA[Get a default (unordered, not distinct) data bag from
+ an existing list of tuples.]]>
+      </doc>
+    </method>
+    <method name="newSortedBag" return="org.apache.pig.data.DataBag"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="comp" type="java.util.Comparator"/>
+      <doc>
+      <![CDATA[Get a sorted data bag.
+ @param comp Comparator that controls how the data is sorted.
+ If null, default comparator will be used.]]>
+      </doc>
+    </method>
+    <method name="newDistinctBag" return="org.apache.pig.data.DataBag"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a distinct data bag.]]>
+      </doc>
+    </method>
+    <method name="registerBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="resetSelf"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Provided for testing purposes only.  This function should never be
+ called by anybody but the unit tests.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[Factory for constructing different types of bags.
+ This class is abstract so that users can
+ override the bag factory if they desire to provide their own that
+ returns their implementation of a bag.  If the property
+ pig.data.bag.factory.name is set to a class name and
+ pig.data.bag.factory.jar is set to a URL pointing to a jar that
+ contains the above named class, then getInstance() will create a
+ a instance of the named class using the indicatd jar.  Otherwise, it
+ will create an instance of DefaultBagFactory.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.BagFactory -->
+  <!-- start interface org.apache.pig.data.DataBag -->
+  <interface name="DataBag"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.impl.util.Spillable"/>
+    <implements name="org.apache.hadoop.io.WritableComparable"/>
+    <implements name="java.lang.Iterable"/>
+    <implements name="java.io.Serializable"/>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the number of elements in the bag, both in memory and on disk.]]>
+      </doc>
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Find out if the bag is sorted.]]>
+      </doc>
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Find out if the bag is distinct.]]>
+      </doc>
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get an iterator to the bag. For default and distinct bags,
+ no particular order is guaranteed. For sorted bags the order
+ is guaranteed to be sorted according
+ to the provided comparator.]]>
+      </doc>
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Add a tuple to the bag.
+ @param t tuple to add.]]>
+      </doc>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <doc>
+      <![CDATA[Add contents of a bag to the bag.
+ @param b bag to add contents of.]]>
+      </doc>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Clear out the contents of the bag, both on disk and in memory.
+ Any attempts to read after this is called will produce undefined
+ results.]]>
+      </doc>
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+      <doc>
+      <![CDATA[This is used by FuncEvalSpec.FakeDataBag.
+ @param stale Set stale state.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[A collection of Tuples.  A DataBag may or may not fit into memory.
+ DataBag extends spillable, which means that it registers with a memory
+ manager.  By default, it attempts to keep all of its contents in memory.
+ If it is asked by the memory manager to spill to disk (by a call to
+ spill()), it takes whatever it has in memory, opens a spill file, and
+ writes the contents out.  This may happen multiple times.  The bag
+ tracks all of the files it's spilled to.
+ 
+ DataBag provides an Iterator interface, that allows callers to read
+ through the contents.  The iterators are aware of the data spilling.
+ They have to be able to handle reading from files, as well as the fact
+ that data they were reading from memory may have been spilled to disk
+ underneath them.
+
+ The DataBag interface assumes that all data is written before any is
+ read.  That is, a DataBag cannot be used as a queue.  If data is written
+ after data is read, the results are undefined.  This condition is not
+ checked on each add or read, for reasons of speed.  Caveat emptor.
+
+ Since spills are asynchronous (the memory manager requesting a spill
+ runs in a separate thread), all operations dealing with the mContents
+ Collection (which is the collection of tuples contained in the bag) have
+ to be synchronized.  This means that reading from a DataBag is currently
+ serialized.  This is ok for the moment because pig execution is
+ currently single threaded.  A ReadWriteLock was experimented with, but
+ it was found to be about 10x slower than using the synchronize keyword.
+ If pig changes its execution model to be multithreaded, we may need to
+ return to this issue, as synchronizing reads will most likely defeat the
+ purpose of multi-threading execution.
+
+ DataBags come in several types, default, sorted, and distinct.  The type
+ must be chosen up front, there is no way to convert a bag on the fly.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.data.DataBag -->
+  <!-- start class org.apache.pig.data.DataByteArray -->
+  <class name="DataByteArray" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="java.lang.Comparable"/>
+    <implements name="java.io.Serializable"/>
+    <constructor name="DataByteArray"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Default constructor.  The data array will not be allocated when this
+ constructor is called.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataByteArray" type="byte[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Construct a byte array using the provided bytes as the content.
+ @param b byte array to use as content.  A reference to the bytes
+ will be taken, the underlying bytes will not be copied.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataByteArray" type="org.apache.pig.data.DataByteArray, org.apache.pig.data.DataByteArray"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Construct a byte array concatenating the two provided 
+ byte arrays as the content.
+ @param b the first byte array to use as content.
+ @param c the other byte array to use as content.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataByteArray" type="byte[], int, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Construct a byte array using a portion of the provided bytes as content.
+ @param b byte array to read from.  A copy of the underlying bytes will be
+ made.
+ @param start starting point to copy from
+ @param end ending point to copy to, exclusive.]]>
+      </doc>
+    </constructor>
+    <constructor name="DataByteArray" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Construct a byte array from a String.  The contents of the string
+ are copied.
+ @param s String to make a byte array out of.]]>
+      </doc>
+    </constructor>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Find the size of the byte array.
+ @return number of bytes in the array.]]>
+      </doc>
+    </method>
+    <method name="get" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the underlying byte array.  This is the real thing, not a copy,
+ so don't mess with it!
+ @return underlying byte[]]]>
+      </doc>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="byte[]"/>
+      <doc>
+      <![CDATA[Set the internal byte array.  This should not be called unless the
+ default constructor was used.
+ @param b byte array to store.  The contents of the byte array are
+ not copied.]]>
+      </doc>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Set the internal byte array.  This should not be called unless the
+ default constructor was used.
+ @param s String to copy.  The contents of the string are copied.]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Compare two byte arrays.  Comparison is done first using byte values
+ then length.  So "g" will be greater than "abcdefg", but "hello worlds"
+ is greater than "hello world".  If the other object is not a
+ DataByteArray, DataType.compare will be called.
+ @param other Other object to compare to.
+ @return -1 if less than, 1 if greater than, 0 if equal.]]>
+      </doc>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An implementation of byte array.  This is done as an object because we
+ need to be able to implement compareTo, toString, hashCode, and some
+ other methods.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DataByteArray -->
+  <!-- start class org.apache.pig.data.DataReaderWriter -->
+  <class name="DataReaderWriter" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DataReaderWriter"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToInternalMap" return="org.apache.pig.data.InternalMap"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToCharArray" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToBigCharArray" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="bytesToWritable" return="org.apache.hadoop.io.Writable"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="readDatum" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="readDatum" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <param name="type" type="byte"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="writeDatum"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <param name="val" type="java.lang.Object"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <doc>
+    <![CDATA[A class to handle reading and writing of intermediate results of data
+ types.  This class could also be used for storing permanent results.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DataReaderWriter -->
+  <!-- start class org.apache.pig.data.DataType -->
+  <class name="DataType" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DataType"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="findType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Determine the datatype of an object.
+ @param o Object to test.
+ @return byte code of the type, or ERROR if we don't know.]]>
+      </doc>
+    </method>
+    <method name="findType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="java.lang.reflect.Type"/>
+      <doc>
+      <![CDATA[Given a Type object determine the data type it represents.  This isn't
+ cheap, as it uses reflection, so use sparingly.
+ @param t Type to examine
+ @return byte code of the type, or ERROR if we don't know.]]>
+      </doc>
+    </method>
+    <method name="numTypes" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="genAllTypes" return="byte[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="genTypeToNameMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="genNameToTypeMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="findTypeName" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Get the type name.
+ @param o Object to test.
+ @return type name, as a String.]]>
+      </doc>
+    </method>
+    <method name="findTypeName" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dt" type="byte"/>
+      <doc>
+      <![CDATA[Get the type name from the type byte code
+ @param dt Type byte code
+ @return type name, as a String.]]>
+      </doc>
+    </method>
+    <method name="isComplex" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dataType" type="byte"/>
+      <doc>
+      <![CDATA[Determine whether the this data type is complex.
+ @param dataType Data type code to test.
+ @return true if dataType is bag, tuple, or map.]]>
+      </doc>
+    </method>
+    <method name="isComplex" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Determine whether the object is complex or atomic.
+ @param o Object to determine type of.
+ @return true if dataType is bag, tuple, or map.]]>
+      </doc>
+    </method>
+    <method name="isAtomic" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dataType" type="byte"/>
+      <doc>
+      <![CDATA[Determine whether the this data type is atomic.
+ @param dataType Data type code to test.
+ @return true if dataType is bytearray, bigchararray, chararray, integer, long,
+ float, or boolean.]]>
+      </doc>
+    </method>
+    <method name="isAtomic" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Determine whether the this data type is atomic.
+ @param o Object to determine type of.
+ @return true if dataType is bytearray, chararray, integer, long,
+ float, or boolean.]]>
+      </doc>
+    </method>
+    <method name="isSchemaType" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Determine whether the this object can have a schema.
+ @param o Object to determine if it has a schema
+ @return true if the type can have a valid schema (i.e., bag or tuple)]]>
+      </doc>
+    </method>
+    <method name="isSchemaType" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="dataType" type="byte"/>
+      <doc>
+      <![CDATA[Determine whether the this data type can have a schema.
+ @param dataType dataType to determine if it has a schema
+ @return true if the type can have a valid schema (i.e., bag or tuple)]]>
+      </doc>
+    </method>
+    <method name="compare" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o1" type="java.lang.Object"/>
+      <param name="o2" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[/**
+ Compare two objects to each other.  This function is necessary
+ because there's no super class that implements compareTo.  This
+ function provides an (arbitrary) ordering of objects of different
+ types as follows:  NULL &lt; BOOLEAN &lt; BYTE &lt; INTEGER &lt; LONG &lt;
+ FLOAT &lt; DOUBLE * &lt; BYTEARRAY &lt; STRING &lt; MAP &lt;
+ TUPLE &lt; BAG.  No other functions should implement this cross
+ object logic.  They should call this function for it instead.
+ @param o1 First object
+ @param o2 Second object
+ @return -1 if o1 is less, 0 if they are equal, 1 if o2 is less.]]>
+      </doc>
+    </method>
+    <method name="compare" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o1" type="java.lang.Object"/>
+      <param name="o2" type="java.lang.Object"/>
+      <param name="dt1" type="byte"/>
+      <param name="dt2" type="byte"/>
+    </method>
+    <method name="toInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Force a data object to an Integer, if possible.  Any numeric type
+ can be forced to an Integer (though precision may be lost), as well
+ as CharArray, ByteArray, or Boolean.  Complex types cannot be
+ forced to an Integer.  This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is an Integer you
+ should just cast it.
+ @return The object as a Integer.
+ @throws ExecException if the type can't be forced to an Integer.]]>
+      </doc>
+    </method>
+    <method name="toInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If type of object is not known, use this method, which internally calls
+ toInteger(object,type)
+ 
+ @param o
+ @return Object as Integer.
+ @throws ExecException]]>
+      </doc>
+    </method>
+    <method name="toLong" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Force a data object to a Long, if possible.  Any numeric type
+ can be forced to a Long (though precision may be lost), as well
+ as CharArray, ByteArray, or Boolean.  Complex types cannot be
+ forced to a Long.  This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a Long you
+ should just cast it.
+ @return The object as a Long.
+ @throws ExecException if the type can't be forced to a Long.]]>
+      </doc>
+    </method>
+    <method name="toLong" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If type of object is not known, use this method which in turns call
+ toLong(object,type) after finding type.
+ 
+ @param o
+ @return Object as Long.
+ @throws ExecException]]>
+      </doc>
+    </method>
+    <method name="toFloat" return="java.lang.Float"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Force a data object to a Float, if possible.  Any numeric type
+ can be forced to a Float (though precision may be lost), as well
+ as CharArray, ByteArray.  Complex types cannot be
+ forced to a Float.  This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a Float you
+ should just cast it.
+ @return The object as a Float.
+ @throws ExecException if the type can't be forced to a Float.]]>
+      </doc>
+    </method>
+    <method name="toFloat" return="java.lang.Float"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If type of object is not known, use this method which in turns call
+ toFloat(object,type) after finding type.
+ 
+ @param o
+ @return Object as Float.
+ @throws ExecException]]>
+      </doc>
+    </method>
+    <method name="toDouble" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Force a data object to a Double, if possible.  Any numeric type
+ can be forced to a Double, as well
+ as CharArray, ByteArray.  Complex types cannot be
+ forced to a Double.  This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a Double you
+ should just cast it.
+ @return The object as a Double.
+ @throws ExecException if the type can't be forced to a Double.]]>
+      </doc>
+    </method>
+    <method name="toDouble" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If type of object is not known, use this method which in turns call
+ toLong(object,type) after finding type.
+ 
+ @param o
+ @return Object as Double.
+ @throws ExecException]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <param name="type" type="byte"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Force a data object to a String, if possible.  Any simple (atomic) type
+ can be forced to a String including ByteArray.  Complex types cannot be
+ forced to a String.  This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a String you
+ should just cast it.
+ @return The object as a String.
+ @throws ExecException if the type can't be forced to a String.]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If type of object is not known, use this method which in turns call
+ toString(object,type) after finding type.
+ 
+ @param o
+ @return Object as String.
+ @throws ExecException]]>
+      </doc>
+    </method>
+    <method name="toMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If this object is a map, return it as a map.
+ This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a Map you
+ should just cast it.
+ @return The object as a Map.
+ @throws ExecException if the type can't be forced to a Double.]]>
+      </doc>
+    </method>
+    <method name="toTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If this object is a tuple, return it as a tuple.
+ This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a Tuple you
+ should just cast it.
+ @return The object as a Double.
+ @throws ExecException if the type can't be forced to a Double.]]>
+      </doc>
+    </method>
+    <method name="toBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[If this object is a bag, return it as a bag.
+ This isn't particularly efficient, so if you
+ already <b>know</b> that the object you have is a bag you
+ should just cast it.
+ @return The object as a Double.
+ @throws ExecException if the type can't be forced to a Double.]]>
+      </doc>
+    </method>
+    <method name="spillTupleContents"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="label" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Purely for debugging]]>
+      </doc>
+    </method>
+    <method name="isNumberType" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="byte"/>
+    </method>
+    <method name="isUsableType" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="byte"/>
+    </method>
+    <method name="mergeType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="type1" type="byte"/>
+      <param name="type2" type="byte"/>
+      <doc>
+      <![CDATA[Merge types if possible
+ @param type1
+ @param type2
+ @return the merged type, or DataType.ERROR if not successful]]>
+      </doc>
+    </method>
+    <method name="mapToString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="m" type="java.util.Map"/>
+    </method>
+    <method name="equalByteArrays" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="lhs" type="byte[]"/>
+      <param name="rhs" type="byte[]"/>
+    </method>
+    <method name="determineFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rcFieldSchema" type="org.apache.pig.ResourceSchema.ResourceFieldSchema"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <exception name="SchemaMergeException" type="org.apache.pig.impl.logicalLayer.schema.SchemaMergeException"/>
+      <doc>
+      <![CDATA[Determine the field schema of an ResourceFieldSchema
+ @param rcFieldSchema the rcFieldSchema we want translated
+ @return the field schema corresponding to the object
+ @throws ExecException,FrontendException,SchemaMergeException]]>
+      </doc>
+    </method>
+    <method name="determineFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <exception name="SchemaMergeException" type="org.apache.pig.impl.logicalLayer.schema.SchemaMergeException"/>
+      <doc>
+      <![CDATA[Determine the field schema of an object
+ @param o the object whose field schema is to be determined
+ @return the field schema corresponding to the object
+ @throws ExecException,FrontendException,SchemaMergeException]]>
+      </doc>
+    </method>
+    <field name="UNKNOWN" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="NULL" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="BOOLEAN" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="BYTE" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="INTEGER" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="LONG" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="FLOAT" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="DOUBLE" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="BYTEARRAY" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="CHARARRAY" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="BIGCHARARRAY" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="MAP" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="TUPLE" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="BAG" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="GENERIC_WRITABLECOMPARABLE" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="INTERNALMAP" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="ERROR" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[A class of static final values used to encode data type and a number of
+ static helper funcitons for manipulating data objects.  The data type
+ values could be
+ done as an enumeration, but it is done as byte codes instead to save
+ creating objects.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DataType -->
+  <!-- start class org.apache.pig.data.DefaultAbstractBag -->
+  <class name="DefaultAbstractBag" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.DataBag"/>
+    <constructor name="DefaultAbstractBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the number of elements in the bag, both in memory and on disk.]]>
+      </doc>
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Add a tuple to the bag.
+ @param t tuple to add.]]>
+      </doc>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <doc>
+      <![CDATA[Add contents of a bag to the bag.
+ @param b bag to add contents of.]]>
+      </doc>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.Collection"/>
+      <doc>
+      <![CDATA[Add contents of a container to the bag.
+ @param c Collection to add contents of.]]>
+      </doc>
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Return the size of memory usage.]]>
+      </doc>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Clear out the contents of the bag, both on disk and in memory.
+ Any attempts to read after this is called will produce undefined
+ results.]]>
+      </doc>
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[This method is potentially very expensive since it may require a
+ sort of the bag; don't call it unless you have to.]]>
+      </doc>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Write a bag's contents to disk.
+ @param out DataOutput to write data to.
+ @throws IOException (passes it on from underlying calls).]]>
+      </doc>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Read a bag from disk.
+ @param in DataInput to read data from.
+ @throws IOException (passes it on from underlying calls).]]>
+      </doc>
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+      <doc>
+      <![CDATA[This is used by FuncEvalSpec.FakeDataBag.
+ @param stale Set stale state.]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Write the bag into a string.]]>
+      </doc>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="finalize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Need to override finalize to clean out the mSpillFiles array.]]>
+      </doc>
+    </method>
+    <method name="getSpillFile" return="java.io.DataOutputStream"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get a file to spill contents to.  The file will be registered in the
+ mSpillFiles array.
+ @return stream to write tuples to.]]>
+      </doc>
+    </method>
+    <method name="reportProgress"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Report progress to HDFS.]]>
+      </doc>
+    </method>
+    <method name="warn"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="msg" type="java.lang.String"/>
+      <param name="warningEnum" type="java.lang.Enum"/>
+      <param name="e" type="java.lang.Exception"/>
+    </method>
+    <method name="incSpillCount"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="counter" type="java.lang.Enum"/>
+    </method>
+    <field name="mContents" type="java.util.Collection"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mSpillFiles" type="java.util.ArrayList"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mSize" type="long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mLastContentsSize" type="int"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mMemSize" type="long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="startBag" type="org.apache.pig.data.Tuple"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="endBag" type="org.apache.pig.data.Tuple"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="MAX_SPILL_FILES" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Default implementation of DataBag.  This is the an abstract class used as a
+ parent for all three of the types of data bags.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultAbstractBag -->
+  <!-- start class org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple -->
+  <class name="DefaultAbstractBag.BagDelimiterTuple" extends="org.apache.pig.data.DefaultTuple"
+    abstract="true"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DefaultAbstractBag.BagDelimiterTuple"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple -->
+  <!-- start class org.apache.pig.data.DefaultAbstractBag.EndBag -->
+  <class name="DefaultAbstractBag.EndBag" extends="org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DefaultAbstractBag.EndBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultAbstractBag.EndBag -->
+  <!-- start class org.apache.pig.data.DefaultAbstractBag.StartBag -->
+  <class name="DefaultAbstractBag.StartBag" extends="org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DefaultAbstractBag.StartBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultAbstractBag.StartBag -->
+  <!-- start class org.apache.pig.data.DefaultBagFactory -->
+  <class name="DefaultBagFactory" extends="org.apache.pig.data.BagFactory"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a default (unordered, not distinct) data bag.]]>
+      </doc>
+    </method>
+    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="listOfTuples" type="java.util.List"/>
+      <doc>
+      <![CDATA[Get a default (unordered, not distinct) data bag from
+ an existing list of tuples. Note that the bag does NOT
+ copy the tuples but uses the provided list as its backing store.
+ So it takes ownership of the list.]]>
+      </doc>
+    </method>
+    <method name="newSortedBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="comp" type="java.util.Comparator"/>
+      <doc>
+      <![CDATA[Get a sorted data bag.
+ @param comp Comparator that controls how the data is sorted.
+ If null, default comparator will be used.]]>
+      </doc>
+    </method>
+    <method name="newDistinctBag" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a distinct data bag.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[Default implementation of BagFactory.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultBagFactory -->
+  <!-- start class org.apache.pig.data.DefaultDataBag -->
+  <class name="DefaultDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DefaultDataBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="DefaultDataBag" type="java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[This constructor creates a bag out of an existing list
+ of tuples by taking ownership of the list and NOT
+ copying the contents of the list.
+ @param listOfTuples List<Tuple> containing the tuples]]>
+      </doc>
+    </constructor>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An unordered collection of Tuples (possibly) with multiples.  The tuples
+ are stored in an ArrayList, since there is no concern for order or
+ distinctness.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultDataBag -->
+  <!-- start class org.apache.pig.data.DefaultTuple -->
+  <class name="DefaultTuple" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.Tuple"/>
+    <constructor name="DefaultTuple"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Default constructor.  This constructor is public so that hadoop can call
+ it directly.  However, inside pig you should never be calling this
+ function.  Use TupleFactory instead.]]>
+      </doc>
+    </constructor>
+    <method name="reference"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Make this tuple reference the contents of another.  This method does not copy
+ the underlying data.   It maintains references to the data from the original
+ tuple (and possibly even to the data structure holding the data).
+ @param t Tuple to reference.]]>
+      </doc>
+    </method>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Find the size of the tuple.  Used to be called arity().
+ @return number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Find out if a given field is null.
+ @param fieldNum Number of field to check for null.
+ @return true if the field is null, false otherwise.
+ @throws ExecException if the field number given is greater
+ than or equal to the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="getType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Find the type of a given field.
+ @param fieldNum Number of field to get the type for.
+ @return type, encoded as a byte value.  The values are taken from
+ the class DataType.  If the field is null, then DataType.UNKNOWN
+ will be returned.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="get" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Get the value in a given field.
+ @param fieldNum Number of the field to get the value for.
+ @return value, as an Object.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="getAll" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get all of the fields in the tuple as a list.
+ @return List&lt;Object&gt; containing the fields of the tuple
+ in order.]]>
+      </doc>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <param name="val" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Set the value in a given field.
+ @param fieldNum Number of the field to set the value for.
+ @param val Object to put in the indicated field.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="append"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="val" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Append a field to a tuple.  This method is not efficient as it may
+ force copying of existing data in order to grow the data structure.
+ Whenever possible you should construct your Tuple with the
+ newTuple(int) method and then fill in the values with set(), rather
+ than construct it with newTuple() and append values.
+ @param val Object to append to the tuple.]]>
+      </doc>
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Determine the size of tuple in memory.  This is used by data bags
+ to determine their memory size.  This need not be exact, but it
+ should be a decent estimation.
+ @return estimated memory size.]]>
+      </doc>
+    </method>
+    <method name="toDelimitedString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="delim" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Write a tuple of atomic values into a string.  All values in the
+ tuple must be atomic (no bags, tuples, or maps).
+ @param delim Delimiter to use in the string.
+ @return A string containing the tuple.
+ @throws ExecException if a non-atomic value is found.]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if this Tuple is null]]>
+      </doc>
+    </method>
+    <method name="setNull"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="isNull" type="boolean"/>
+      <doc>
+      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
+      </doc>
+    </method>
+    <field name="isNull" type="boolean"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="mFields" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[A default implementation of Tuple.  This class will be created by the
+ DefaultTupleFactory.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultTuple -->
+  <!-- start class org.apache.pig.data.DefaultTupleFactory -->
+  <class name="DefaultTupleFactory" extends="org.apache.pig.data.TupleFactory"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="size" type="int"/>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.List"/>
+    </method>
+    <method name="newTupleNoCopy" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="list" type="java.util.List"/>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="datum" type="java.lang.Object"/>
+    </method>
+    <method name="tupleClass" return="java.lang.Class"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[Default implementation of TupleFactory.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DefaultTupleFactory -->
+  <!-- start class org.apache.pig.data.DistinctDataBag -->
+  <class name="DistinctDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DistinctDataBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An unordered collection of Tuples with no multiples.  Data is
+ stored without duplicates as it comes in.  When it is time to spill,
+ that data is sorted and written to disk.  It must also be sorted upon
+ the first read, otherwise if a spill happened after that the iterators
+ would have no way to find their place in the new file.  The data is
+ stored in a HashSet.  When it is time to sort it is placed in an
+ ArrayList and then sorted.  Dispite all these machinations, this was
+ found to be faster than storing it in a TreeSet.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.DistinctDataBag -->
+  <!-- start class org.apache.pig.data.InternalCachedBag -->
+  <class name="InternalCachedBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="InternalCachedBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalCachedBag" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalCachedBag" type="int, float"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.Collection"/>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="finalize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.data.InternalCachedBag -->
+  <!-- start class org.apache.pig.data.InternalDistinctBag -->
+  <class name="InternalDistinctBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="InternalDistinctBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalDistinctBag" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalDistinctBag" type="int, double"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.Collection"/>
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An unordered collection of Tuples with no multiples.  Data is
+ stored without duplicates as it comes in.  When it is time to spill,
+ that data is sorted and written to disk.  The data is
+ stored in a HashSet.  When it is time to sort it is placed in an
+ ArrayList and then sorted.  Dispite all these machinations, this was
+ found to be faster than storing it in a TreeSet.
+ 
+ This bag spills pro-actively when the number of tuples in memory 
+ reaches a limit]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.InternalDistinctBag -->
+  <!-- start class org.apache.pig.data.InternalMap -->
+  <class name="InternalMap" extends="java.util.HashMap"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="InternalMap"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalMap" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <doc>
+    <![CDATA[This class is an empty extension of Map<Object, Object>.  It only
+ exists so that DataType.findType() can distinguish an internal map
+ type that maps object to object from an external map type that
+ is string to object.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.InternalMap -->
+  <!-- start class org.apache.pig.data.InternalSortedBag -->
+  <class name="InternalSortedBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="InternalSortedBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalSortedBag" type="java.util.Comparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalSortedBag" type="int, java.util.Comparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="InternalSortedBag" type="int, double, java.util.Comparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.Collection"/>
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An ordered collection of Tuples (possibly) with multiples.  Data is
+ stored unsorted as it comes in, and only sorted when it is time to dump
+ it to a file or when the first iterator is requested.  Experementation
+ found this to be the faster than storing it sorted to begin with.
+ 
+ We allow a user defined comparator, but provide a default comparator in
+ cases where the user doesn't specify one.
+ 
+ This bag is not registered with SpillableMemoryManager. It calculates
+ the number of tuples to hold in memory and spill pro-actively into files.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.InternalSortedBag -->
+  <!-- start class org.apache.pig.data.NonSpillableDataBag -->
+  <class name="NonSpillableDataBag" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.DataBag"/>
+    <constructor name="NonSpillableDataBag"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="NonSpillableDataBag" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Use this constructor if you know upfront how many tuples you are going
+ to put in this bag.
+ @param tupleCount]]>
+      </doc>
+    </constructor>
+    <constructor name="NonSpillableDataBag" type="java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[This constructor creates a bag out of an existing list
+ of tuples by taking ownership of the list and NOT
+ copying the contents of the list.
+ @param listOfTuples List<Tuple> containing the tuples]]>
+      </doc>
+    </constructor>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="reportProgress"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Report progress to HDFS.]]>
+      </doc>
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Write a bag's contents to disk.
+ @param out DataOutput to write data to.
+ @throws IOException (passes it on from underlying calls).]]>
+      </doc>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Read a bag from disk.
+ @param in DataInput to read data from.
+ @throws IOException (passes it on from underlying calls).]]>
+      </doc>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="obj" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Write the bag into a string.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[An unordered collection of Tuples (possibly) with multiples.  The tuples
+ are stored in an ArrayList, since there is no concern for order or
+ distinctness. The implicit assumption is that the user of this class
+ is storing only those many tuples as will fit in memory - no spilling
+ will be done on this bag to disk.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.NonSpillableDataBag -->
+  <!-- start class org.apache.pig.data.ReadOnceBag -->
+  <class name="ReadOnceBag" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.DataBag"/>
+    <constructor name="ReadOnceBag" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackageLite, java.util.Iterator, java.lang.Object"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[This constructor creates a bag out of an existing iterator
+ of tuples by taking ownership of the iterator and NOT
+ copying the elements of the iterator.
+ @param pkg POPackageLite
+ @param tupIter Iterator<NullableTuple>
+ @param key Object]]>
+      </doc>
+    </constructor>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
+      transient="false" volatile="false"
+      static="true" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[This bag is specifically created for use by POPackageLite. So it has three 
+ properties, the NullableTuple iterator, the key (Object) and the keyInfo 
+ (Map<Integer, Pair<Boolean, Map<Integer, Integer>>>) all three 
+ of which are required in the constructor call. This bag does not store 
+ the tuples in memory, but has access to an iterator typically provided by 
+ Hadoop. Use this when you already have an iterator over tuples and do not 
+ want to copy over again to a new bag.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.ReadOnceBag -->
+  <!-- start class org.apache.pig.data.SingleTupleBag -->
+  <class name="SingleTupleBag" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.DataBag"/>
+    <constructor name="SingleTupleBag" type="org.apache.pig.data.Tuple"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="addAll"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="b" type="org.apache.pig.data.DataBag"/>
+    </method>
+    <method name="clear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="markStale"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stale" type="boolean"/>
+    </method>
+    <method name="size" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Write the bag into a string.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[A simple performant implementation of the DataBag
+ interface which only holds a single tuple. This will
+ be used from POPreCombinerLocalRearrange and wherever else
+ a single Tuple non-serializable DataBag is required.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.SingleTupleBag -->
+  <!-- start class org.apache.pig.data.SortedDataBag -->
+  <class name="SortedDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SortedDataBag" type="java.util.Comparator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param comp Comparator to use to do the sorting.  If null,
+ DefaultComparator will be used.]]>
+      </doc>
+    </constructor>
+    <method name="isSorted" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isDistinct" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="iterator" return="java.util.Iterator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="spill" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[An ordered collection of Tuples (possibly) with multiples.  Data is
+ stored unsorted as it comes in, and only sorted when it is time to dump
+ it to a file or when the first iterator is requested.  Experementation
+ found this to be the faster than storing it sorted to begin with.
+ 
+ We allow a user defined comparator, but provide a default comparator in
+ cases where the user doesn't specify one.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.SortedDataBag -->
+  <!-- start class org.apache.pig.data.TargetedTuple -->
+  <class name="TargetedTuple" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.data.Tuple"/>
+    <constructor name="TargetedTuple"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="TargetedTuple" type="org.apache.pig.data.Tuple, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getTargetOps" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setTargetOps"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="targetOps" type="java.util.List"/>
+    </method>
+    <method name="append"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="val" type="java.lang.Object"/>
+    </method>
+    <method name="get" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="getAll" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="reference"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <param name="val" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="toDelimitedString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="delim" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if this Tuple is null]]>
+      </doc>
+    </method>
+    <method name="setNull"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="isNull" type="boolean"/>
+      <doc>
+      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
+      </doc>
+    </method>
+    <field name="targetOps" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="isNull" type="boolean"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[A tuple composed with the operators to which
+ it needs be attached]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.TargetedTuple -->
+  <!-- start class org.apache.pig.data.TimestampedTuple -->
+  <class name="TimestampedTuple" extends="org.apache.pig.data.DefaultTuple"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="TimestampedTuple" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="TimestampedTuple" type="java.lang.String, java.lang.String, int, java.text.SimpleDateFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getTimeStamp" return="double"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setTimeStamp"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="double"/>
+    </method>
+    <method name="isHeartBeat" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setHeartBeat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="h" type="boolean"/>
+    </method>
+    <field name="timestamp" type="double"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="heartbeat" type="boolean"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.data.TimestampedTuple -->
+  <!-- start interface org.apache.pig.data.Tuple -->
+  <interface name="Tuple"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.hadoop.io.WritableComparable"/>
+    <implements name="java.io.Serializable"/>
+    <method name="reference"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Make this tuple reference the contents of another.  This method does not copy
+ the underlying data.   It maintains references to the data from the original
+ tuple (and possibly even to the data structure holding the data).
+ @param t Tuple to reference.]]>
+      </doc>
+    </method>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Find the size of the tuple.  Used to be called arity().
+ @return number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Find out if a given field is null.
+ @param fieldNum Number of field to check for null.
+ @return true if the field is null, false otherwise.
+ @throws ExecException if the field number given is greater
+ than or equal to the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="getType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Find the type of a given field.
+ @param fieldNum Number of field to get the type for.
+ @return type, encoded as a byte value.  The values are taken from
+ the class DataType.  If the field is null, then DataType.UNKNOWN
+ will be returned.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="get" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Get the value in a given field.
+ @param fieldNum Number of the field to get the value for.
+ @return value, as an Object.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="getAll" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get all of the fields in the tuple as a list.
+ @return List&lt;Object&gt; containing the fields of the tuple
+ in order.]]>
+      </doc>
+    </method>
+    <method name="set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fieldNum" type="int"/>
+      <param name="val" type="java.lang.Object"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Set the value in a given field.
+ @param fieldNum Number of the field to set the value for.
+ @param val Object to put in the indicated field.
+ @throws ExecException if the field number is greater than or equal to
+ the number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="append"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="val" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Append a field to a tuple.  This method is not efficient as it may
+ force copying of existing data in order to grow the data structure.
+ Whenever possible you should construct your Tuple with the
+ newTuple(int) method and then fill in the values with set(), rather
+ than construct it with newTuple() and append values.
+ @param val Object to append to the tuple.]]>
+      </doc>
+    </method>
+    <method name="getMemorySize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Determine the size of tuple in memory.  This is used by data bags
+ to determine their memory size.  This need not be exact, but it
+ should be a decent estimation.
+ @return estimated memory size.]]>
+      </doc>
+    </method>
+    <method name="toDelimitedString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="delim" type="java.lang.String"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Write a tuple of atomic values into a string.  All values in the
+ tuple must be atomic (no bags, tuples, or maps).
+ @param delim Delimiter to use in the string.
+ @return A string containing the tuple.
+ @throws ExecException if a non-atomic value is found.]]>
+      </doc>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if this Tuple is null]]>
+      </doc>
+    </method>
+    <method name="setNull"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="isNull" type="boolean"/>
+      <doc>
+      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
+      </doc>
+    </method>
+    <field name="NULL" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Marker for indicating whether the value this object holds
+ is a null]]>
+      </doc>
+    </field>
+    <field name="NOTNULL" type="byte"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Marker for indicating whether the value this object holds
+ is not a null]]>
+      </doc>
+    </field>
+    <doc>
+    <![CDATA[An ordered list of Data.  A tuple has fields, numbered 0 through
+ (number of fields - 1).  The entry in the field can be any datatype,
+ or it can be null.
+
+ Tuples are constructed only by a TupleFactory.  A DefaultTupleFactory
+ is provided by the system.  If a user wishes to use their own type of
+ Tuple, they should also provide an implementation of TupleFactory to
+ construct their types of Tuples.
+
+ Fields are numbered from 0.]]>
+    </doc>
+  </interface>
+  <!-- end interface org.apache.pig.data.Tuple -->
+  <!-- start class org.apache.pig.data.TupleFactory -->
+  <class name="TupleFactory" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="TupleFactory"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getInstance" return="org.apache.pig.data.TupleFactory"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a reference to the singleton factory.]]>
+      </doc>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create an empty tuple.  This should be used as infrequently as
+ possible, use newTuple(int) instead.]]>
+      </doc>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="size" type="int"/>
+      <doc>
+      <![CDATA[Create a tuple with size fields.  Whenever possible this is prefered
+ over the nullary constructor, as the constructor can preallocate the
+ size of the container holding the fields.  Once this is called, it
+ is legal to call Tuple.set(x, object), where x &lt; size.
+ @param size Number of fields in the tuple.]]>
+      </doc>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.util.List"/>
+      <doc>
+      <![CDATA[Create a tuple from the provided list of objects.  The underlying list
+ will be copied.
+ @param c List of objects to use as the fields of the tuple.]]>
+      </doc>
+    </method>
+    <method name="newTupleNoCopy" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="list" type="java.util.List"/>
+      <doc>
+      <![CDATA[Create a tuple from a provided list of objects, keeping the provided
+ list.  The new tuple will take over ownership of the provided list.
+ @param list List of objects that will become the fields of the tuple.]]>
+      </doc>
+    </method>
+    <method name="newTuple" return="org.apache.pig.data.Tuple"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="datum" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Create a tuple with a single element.  This is useful because of
+ the fact that bags (currently) only take tuples, we often end up
+ sticking a single element in a tuple in order to put it in a bag.
+ @param datum Datum to put in the tuple.]]>
+      </doc>
+    </method>
+    <method name="tupleClass" return="java.lang.Class"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Return the actual class representing a tuple that the implementing
+ factory will be returning.  This is needed because hadoop (and
+ possibly other systems) we use need to know the exact class we will
+ be using for input and output.
+ @return Class that implements tuple.]]>
+      </doc>
+    </method>
+    <method name="resetSelf"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Provided for testing purposes only.  This function should never be
+ called by anybody but the unit tests.]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[A factory to construct tuples.  This class is abstract so that users can
+ override the tuple factory if they desire to provide their own that
+ returns their implementation of a tuple.  If the property
+ pig.data.tuple.factory.name is set to a class name and
+ pig.data.tuple.factory.jar is set to a URL pointing to a jar that
+ contains the above named class, then getInstance() will create a
+ a instance of the named class using the indicatd jar.  Otherwise, it
+ will create and instance of DefaultTupleFactory.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.data.TupleFactory -->
+  <doc>
+  <![CDATA[<p>
+Data types for Pig.
+<p>
+This package contains implementations of Pig specific data types as well as
+support functions for reading, writing, and using all Pig data types.
+<p>
+Whenever possible, Pig utilizes Java provided data types.  These include
+Integer, Long, Float, Double, Boolean, String, and Map.  Tuple, Bag, and
+DataByteArray are implemented in this package.  
+
+<h2> Design </h2>
+<p>
+The choice was made to utilize Java provided types for two main reasons.  One,
+it minimizes the burden on UDF developers, as they will have full access to
+these types with no need to convert to and from Pig specific types.  Two,
+maintenance costs will be lower as there is no need to implement and maintain
+Pig specific data classes.  The drawback is that the only common parent of all
+these types is Object.  Thus Pig is often required to treat its data objects
+as Objects and then implement static methods to manipulate these Objects,
+rather than being able to define a PigDatum class with common funcitons.
+<p>
+Three data types were implemented as Pig specific classes: 
+{@link org.apache.pig.data.DataByteArray}, {@link org.apache.pig.data.Tuple},
+and {@link org.apache.pig.data.DataBag}.  
+<p>
+DataByteArray represents an array of bytes, with no interpretation of those
+bytes provided or assumed.  This could have been represented as byte[], but a
+separate class was constructed to provide common functions needed to
+manipulate these objects.
+<p>
+Tuple represents an ordered collection of data elements.  Every field in a
+tuple can contain any Pig data type.  Tuple is presented as an interface to
+allow differing implementations in cases where users have unique
+representations of their data that they wish to preserve in their in memory
+representations.  The {@link org.apache.pig.data.TupleFactory} is an
+abstract class, to enable a user who has defined his own tuples to provide a
+factory that creates those tuples.  Default implementations of Tuple and
+TupleFactory are provided and used by default. 
+<p>
+DataBag represents a collection of Tuples.  DataBags can be of default type
+(no extra features), sorted (tuples are sorted according to a provided
+comparator function), or distinct (no duplicate tuples).  As with Tuple,
+DataBag is presented as an interface, and 
+{@link org.apache.pig.data.BagFactory} is an abstract class.  Default implementations of DataBag,
+BagFactory, and all three types of bags are provided.]]>
+  </doc>
+</package>
+<package name="org.apache.pig.experimental.logical">
+  <!-- start class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor -->
+  <class name="LogicalPlanMigrationVistor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalPlanMigrationVistor" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNewLogicalPlan" return="org.apache.pig.experimental.logical.relational.LogicalPlan"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loj" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="limOp" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Integer"
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="g" type="org.apache.pig.impl.logicalLayer.LOGenerate"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="union" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="max" return="java.lang.Integer"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="splitOutput" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
+    <![CDATA[Translate old logical plan into new logical plan]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IntMax -->
-  <!-- start class org.apache.pig.builtin.IntMax.Final -->
-  <class name="IntMax.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor -->
+  <!-- start class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor.ForeachInnerPlanVisitor -->
+  <class name="LogicalPlanMigrationVistor.ForeachInnerPlanVisitor" extends="org.apache.pig.experimental.logical.LogicalPlanMigrationVistor.LogicalExpPlanMigrationVistor"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IntMax.Final"
+    <constructor name="LogicalPlanMigrationVistor.ForeachInnerPlanVisitor" type="org.apache.pig.experimental.logical.relational.LOForEach, org.apache.pig.impl.logicalLayer.LOForEach, org.apache.pig.impl.logicalLayer.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Integer"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="project" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMax.Final -->
-  <!-- start class org.apache.pig.builtin.IntMax.Initial -->
-  <class name="IntMax.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntMax.Initial"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="foreach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMax.Initial -->
-  <!-- start class org.apache.pig.builtin.IntMax.Intermediate -->
-  <class name="IntMax.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntMax.Intermediate"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="limOp" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.IntMax.Intermediate -->
-  <!-- start class org.apache.pig.builtin.IntMin -->
-  <class name="IntMin" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor.ForeachInnerPlanVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor.LogicalExpPlanMigrationVistor -->
+  <class name="LogicalPlanMigrationVistor.LogicalExpPlanMigrationVistor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="IntMin"
+    <constructor name="LogicalPlanMigrationVistor.LogicalExpPlanMigrationVistor" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Integer"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="project" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="con" type="org.apache.pig.impl.logicalLayer.LOConst"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="min" return="java.lang.Integer"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the min of the Integer values in the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMin -->
-  <!-- start class org.apache.pig.builtin.IntMin.Final -->
-  <class name="IntMin.Final" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntMin.Final"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Integer"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMin.Final -->
-  <!-- start class org.apache.pig.builtin.IntMin.Initial -->
-  <class name="IntMin.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntMin.Initial"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOUserFunc"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOBinCond"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMin.Initial -->
-  <!-- start class org.apache.pig.builtin.IntMin.Intermediate -->
-  <class name="IntMin.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntMin.Intermediate"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="cast" type="org.apache.pig.impl.logicalLayer.LOCast"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LORegexp"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntMin.Intermediate -->
-  <!-- start class org.apache.pig.builtin.IntSum -->
-  <class name="IntSum" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="IntSum"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONotEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOAdd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOSubtract"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOMultiply"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LODivide"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="sumLongs" return="java.lang.Long"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOMod"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="sum" return="java.lang.Long"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="uniOp" type="org.apache.pig.impl.logicalLayer.LONegative"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="colOp" type="org.apache.pig.impl.logicalLayer.LOMapLookup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the sum of the Integer in the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntSum -->
-  <!-- start class org.apache.pig.builtin.IntSum.Final -->
-  <class name="IntSum.Final" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntSum.Final"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOAnd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOOr"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.IntSum.Final -->
-  <!-- start class org.apache.pig.builtin.IntSum.Initial -->
-  <class name="IntSum.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="IntSum.Initial"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="uniOp" type="org.apache.pig.impl.logicalLayer.LONot"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="uniOp" type="org.apache.pig.impl.logicalLayer.LOIsNull"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <field name="exprPlan" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="exprOpsMap" type="java.util.HashMap"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="oldLogicalPlan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
   </class>
-  <!-- end class org.apache.pig.builtin.IntSum.Initial -->
-  <!-- start class org.apache.pig.builtin.IntSum.Intermediate -->
-  <class name="IntSum.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.LogicalPlanMigrationVistor.LogicalExpPlanMigrationVistor -->
+</package>
+<package name="org.apache.pig.experimental.logical.expression">
+  <!-- start class org.apache.pig.experimental.logical.expression.AddExpression -->
+  <class name="AddExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IntSum.Intermediate"
+    <constructor name="AddExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Add Operator]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IntSum.Intermediate -->
-  <!-- start class org.apache.pig.builtin.IsEmpty -->
-  <class name="IsEmpty" extends="org.apache.pig.FilterFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.AddExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.AndExpression -->
+  <class name="AndExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="IsEmpty"
+    <constructor name="AndExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Boolean"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Boolean and expression.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.IsEmpty -->
-  <!-- start class org.apache.pig.builtin.LongAvg -->
-  <class name="LongAvg" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.AndExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.BagDereferenceExpression -->
+  <class name="BagDereferenceExpression" extends="org.apache.pig.experimental.logical.expression.ColumnExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="LongAvg"
+    <constructor name="BagDereferenceExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, int, org.apache.pig.experimental.logical.expression.ProjectExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <constructor name="BagDereferenceExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, java.util.List, org.apache.pig.experimental.logical.expression.ProjectExpression"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="getBagColNum" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Column number in the bag at column <code>col</code>
+ this Dereference References.  The column number is the column
+ in the relational operator that contains this expression.  The count
+ is zero based.
+ @return column number]]>
+      </doc>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="getBagColumns" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="setBagColumns"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
     </method>
-    <method name="combine" return="org.apache.pig.data.Tuple"
+    <method name="setBagColNum"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="values" type="org.apache.pig.data.DataBag"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="colNum" type="int"/>
     </method>
-    <method name="count" return="long"
+    <method name="setType"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="type" type="byte"/>
+      <doc>
+      <![CDATA[Set the type of the projection.
+ @param type to set this projection to]]>
+      </doc>
     </method>
-    <method name="sum" return="java.lang.Long"
+    <method name="setUid"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <doc>
-    <![CDATA[Generates the average of the values of the first field of a tuple. This class is Algebraic in
- implementation, so if possible the execution will be split into a local and global application]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongAvg -->
-  <!-- start class org.apache.pig.builtin.LongAvg.Final -->
-  <class name="LongAvg.Final" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongAvg.Final"
+    <method name="getProjectExpression" return="org.apache.pig.experimental.logical.expression.ProjectExpression"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Double"
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <doc>
+    <![CDATA[This is a special case Expression and violates some of the rules of an
+ Expression.
+ Violation:
+   It has multiple Uids ( though not tracked there can be multiple uids
+      for this expression )
+ 
+ This is a special operator which handles the case described below
+ Tuple( a:int, b:bag{ b_a:int, b_b:float } ) --> 
+ BagDereference ( 0 ) --> project( 0, 1 ) --> bag{ b_a:float }
+ 
+ 
+ 
+ i.e. First input ( 0 ), second column ( 1 ) and first column of the bag.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.LongAvg.Final -->
-  <!-- start class org.apache.pig.builtin.LongAvg.Initial -->
-  <class name="LongAvg.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
+  <!-- end class org.apache.pig.experimental.logical.expression.BagDereferenceExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.BinaryExpression -->
+  <class name="BinaryExpression" extends="org.apache.pig.experimental.logical.expression.LogicalExpression"
+    abstract="true"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LongAvg.Initial"
+    <constructor name="BinaryExpression" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param name of the operator
+ @param plan plan this operator is part of
+ @param b Datatype of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="getLhs" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get the left hand side of this binary expression.
+ @return expression on the left hand side
+ @throws IOException]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongAvg.Initial -->
-  <!-- start class org.apache.pig.builtin.LongAvg.Intermediate -->
-  <class name="LongAvg.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongAvg.Intermediate"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="getRhs" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get the right hand side of this binary expression.
+ @return expression on the right hand side
+ @throws IOException]]>
+      </doc>
     </method>
+    <doc>
+    <![CDATA[Superclass for all binary expressions]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.LongAvg.Intermediate -->
-  <!-- start class org.apache.pig.builtin.LongMax -->
-  <class name="LongMax" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.BinaryExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.BinCondExpression -->
+  <class name="BinCondExpression" extends="org.apache.pig.experimental.logical.expression.LogicalExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="LongMax"
+    <constructor name="BinCondExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators and the condition operator
+ @param plan plan this operator is part of
+ @param b Datatype of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="getCondition" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Returns the operator which handles this condition
+ @return expression which handles the condition
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="getLhs" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get the left hand side of this expression.
+ @return expression on the left hand side
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="getRhs" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get the right hand side of this expression.
+ @return expression on the right hand side
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="max" return="java.lang.Long"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.LongMax -->
-  <!-- start class org.apache.pig.builtin.LongMax.Final -->
-  <class name="LongMax.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.BinCondExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.CastExpression -->
+  <class name="CastExpression" extends="org.apache.pig.experimental.logical.expression.UnaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LongMax.Final"
+    <constructor name="CastExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongMax.Final -->
-  <!-- start class org.apache.pig.builtin.LongMax.Initial -->
-  <class name="LongMax.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongMax.Initial"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="setFuncSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="spec" type="org.apache.pig.FuncSpec"/>
+      <doc>
+      <![CDATA[Set the <code>FuncSpec</code> that performs the casting functionality
+ @param spec the <code>FuncSpec</code> that does the casting]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongMax.Initial -->
-  <!-- start class org.apache.pig.builtin.LongMax.Intermediate -->
-  <class name="LongMax.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongMax.Intermediate"
+    <method name="getFuncSpec" return="org.apache.pig.FuncSpec"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <doc>
+      <![CDATA[Get the <code>FuncSpec</code> that performs the casting functionality
+ @return the <code>FuncSpec</code> that does the casting]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.LongMax.Intermediate -->
-  <!-- start class org.apache.pig.builtin.LongMin -->
-  <class name="LongMin" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.CastExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.ColumnExpression -->
+  <class name="ColumnExpression" extends="org.apache.pig.experimental.logical.expression.LogicalExpression"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnExpression" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param name of the operator
+ @param plan LogicalExpressionPlan this column expression is part of
+ @param type datatype of this column expression]]>
+      </doc>
+    </constructor>
+    <doc>
+    <![CDATA[Super class for all column expressions, including projection, constants, and deferences.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.ColumnExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.ConstantExpression -->
+  <class name="ConstantExpression" extends="org.apache.pig.experimental.logical.expression.ColumnExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="LongMin"
+    <constructor name="ConstantExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, java.lang.Object"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Adds expression to the plan 
+ @param plan LogicalExpressionPlan this constant is a part of.
+ @param type type of the constant.  This could be determined dynamically,
+ but it would require a long chain of instanceofs, and the parser will 
+ already know the type, so there's no reason to take the performance hit.
+ @param val Value of this constant.]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="getValue" return="java.lang.Object"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the value of this constant.
+ @return value of the constant]]>
+      </doc>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[A constant]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.ConstantExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.DivideExpression -->
+  <class name="DivideExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DivideExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="min" return="java.lang.Long"
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
+    </constructor>
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
     <doc>
-    <![CDATA[Generates the min of the Long values in the first field of a tuple.]]>
+    <![CDATA[Divide Operator]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.LongMin -->
-  <!-- start class org.apache.pig.builtin.LongMin.Final -->
-  <class name="LongMin.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.DivideExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.EqualExpression -->
+  <class name="EqualExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LongMin.Final"
+    <constructor name="EqualExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongMin.Final -->
-  <!-- start class org.apache.pig.builtin.LongMin.Initial -->
-  <class name="LongMin.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongMin.Initial"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Equality test expression.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.LongMin.Initial -->
-  <!-- start class org.apache.pig.builtin.LongMin.Intermediate -->
-  <class name="LongMin.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.EqualExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.ExpToPhyTranslationVisitor -->
+  <class name="ExpToPhyTranslationVisitor" extends="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LongMin.Intermediate"
+    <constructor name="ExpToPhyTranslationVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.relational.LogicalRelationalOperator, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, java.util.Map"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <constructor name="ExpToPhyTranslationVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker, org.apache.pig.experimental.logical.relational.LogicalRelationalOperator, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, java.util.Map"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setPigContext"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="pc" type="org.apache.pig.impl.PigContext"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongMin.Intermediate -->
-  <!-- start class org.apache.pig.builtin.LongSum -->
-  <class name="LongSum" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="LongSum"
+    <method name="getPhysicalPlan" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+    </method>
+    <method name="visitAnd"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.AndExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="visitOr"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.OrExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="visitEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.EqualExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="visitNotEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NotEqualExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sum" return="java.lang.Long"
+    <method name="visitGreaterThan"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.GreaterThanExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitGreaterThanEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.GreaterThanEqualExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the sum of the Long values in the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongSum -->
-  <!-- start class org.apache.pig.builtin.LongSum.Final -->
-  <class name="LongSum.Final" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongSum.Final"
+    <method name="visitLessThan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.LessThanExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLessThanEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.LessThanEqualExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongSum.Final -->
-  <!-- start class org.apache.pig.builtin.LongSum.Initial -->
-  <class name="LongSum.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongSum.Initial"
+    <method name="visitProject"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.ProjectExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitMapLookup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.MapLookupExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongSum.Initial -->
-  <!-- start class org.apache.pig.builtin.LongSum.Intermediate -->
-  <class name="LongSum.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LongSum.Intermediate"
+    <method name="visitConstant"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.ConstantExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitCast"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.CastExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.LongSum.Intermediate -->
-  <!-- start class org.apache.pig.builtin.MapSize -->
-  <class name="MapSize" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="MapSize"
+    <method name="visitNot"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NotExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitIsNull"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.IsNullExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitNegative"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NegativeExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the size of the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.MapSize -->
-  <!-- start class org.apache.pig.builtin.MAX -->
-  <class name="MAX" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="MAX"
+    <method name="visitAdd"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Double"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.AddExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitRegex"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.RegexExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="visitSubtract"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.SubtractExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="visitMultiply"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.MultiplyExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="visitDivide"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.DivideExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="max" return="java.lang.Double"
+    <method name="visitMod"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.ModExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="maxDoubles" return="java.lang.Double"
+    <method name="visitBinCond"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.BinCondExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitUserFunc"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.UserFuncExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
+    <method name="visitBagDereference"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.BagDereferenceExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
-    </doc>
+    <field name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="logToPhyMap" type="java.util.Map"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="currentPlans" type="java.util.Stack"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="currentPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="nodeGen" type="org.apache.pig.impl.plan.NodeIdGenerator"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="pc" type="org.apache.pig.impl.PigContext"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
   </class>
-  <!-- end class org.apache.pig.builtin.MAX -->
-  <!-- start class org.apache.pig.builtin.MAX.Final -->
-  <class name="MAX.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.ExpToPhyTranslationVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.expression.GreaterThanEqualExpression -->
+  <class name="GreaterThanEqualExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="MAX.Final"
+    <constructor name="GreaterThanEqualExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.MAX.Final -->
-  <!-- start class org.apache.pig.builtin.MAX.Initial -->
-  <class name="MAX.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.GreaterThanEqualExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.GreaterThanExpression -->
+  <class name="GreaterThanExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="MAX.Initial"
+    <constructor name="GreaterThanExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.MAX.Initial -->
-  <!-- start class org.apache.pig.builtin.MAX.Intermediate -->
-  <class name="MAX.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.GreaterThanExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.IsNullExpression -->
+  <class name="IsNullExpression" extends="org.apache.pig.experimental.logical.expression.UnaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="MAX.Intermediate"
+    <constructor name="IsNullExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
+    </method>
   </class>
-  <!-- end class org.apache.pig.builtin.MAX.Intermediate -->
-  <!-- start class org.apache.pig.builtin.MIN -->
-  <class name="MIN" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.IsNullExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.LessThanEqualExpression -->
+  <class name="LessThanEqualExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="MIN"
+    <constructor name="LessThanEqualExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.LessThanEqualExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.LessThanExpression -->
+  <class name="LessThanExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LessThanExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
+    </constructor>
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="min" return="java.lang.Double"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.LessThanExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.LogicalExpression -->
+  <class name="LogicalExpression" extends="org.apache.pig.experimental.plan.Operator"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalExpression" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param name of the operator
+ @param plan LogicalExpressionPlan this is part of
+ @param b datatype of this expression]]>
+      </doc>
+    </constructor>
+    <method name="getNextUid" return="long"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="minDoubles" return="java.lang.Double"
+    <method name="resetNextUid"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="getType" return="byte"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <doc>
+      <![CDATA[Get the data type for this expression.
+ @return data type, one of the static bytes of DataType]]>
+      </doc>
     </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
+    <method name="getUid" return="long"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <doc>
+      <![CDATA[Get the unique identifier for this expression
+ @return unique identifier]]>
+      </doc>
     </method>
-    <doc>
-    <![CDATA[Generates the min of the values of the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.MIN -->
-  <!-- start class org.apache.pig.builtin.MIN.Final -->
-  <class name="MIN.Final" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="MIN.Final"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="setUid"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Set the uid.  For most expressions this will get a new uid.
+ ProjectExpression needs to override this and find its uid from its
+ predecessor.
+ @param currentOp Current LogicalRelationalOperator that this expression operator
+ is attached to.  Passed so that projection operators can determine their uid.
+ @throws IOException]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.MIN.Final -->
-  <!-- start class org.apache.pig.builtin.MIN.Initial -->
-  <class name="MIN.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="MIN.Initial"
+    <method name="neverUseForRealSetUid"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+      <param name="uid" type="long"/>
+      <doc>
+      <![CDATA[Hard code the uid.  This should only be used in testing, never in real
+ code.
+ @param uid value to set uid to]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <field name="type" type="byte"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="uid" type="long"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Logical representation of expression operators.  Expression operators have
+ a data type and a uid.  Uid is a unique id for each expression.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.MIN.Initial -->
-  <!-- start class org.apache.pig.builtin.MIN.Intermediate -->
-  <class name="MIN.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.LogicalExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.LogicalExpressionPlan -->
+  <class name="LogicalExpressionPlan" extends="org.apache.pig.experimental.plan.BaseOperatorPlan"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="MIN.Intermediate"
+    <constructor name="LogicalExpressionPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
+    <doc>
+    <![CDATA[A plan containing LogicalExpressionOperators.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.MIN.Intermediate -->
-  <!-- start class org.apache.pig.builtin.PigDump -->
-  <class name="PigDump" extends="java.lang.Object"
-    abstract="false"
+  <!-- end class org.apache.pig.experimental.logical.expression.LogicalExpressionPlan -->
+  <!-- start class org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor -->
+  <class name="LogicalExpressionVisitor" extends="org.apache.pig.experimental.plan.PlanVisitor"
+    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.StoreFunc"/>
-    <constructor name="PigDump"
-      static="false" final="false" visibility="public"
+    <constructor name="LogicalExpressionVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </constructor>
-    <method name="bindTo"
+    <method name="visitAnd"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
+      <param name="andExpr" type="org.apache.pig.experimental.logical.expression.AndExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="finish"
+    <method name="visitOr"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="exp" type="org.apache.pig.experimental.logical.expression.OrExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="putNext"
+    <method name="visitEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="org.apache.pig.data.Tuple"/>
+      <param name="equal" type="org.apache.pig.experimental.logical.expression.EqualExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getStorePreparationClass" return="java.lang.Class"
+    <method name="visitProject"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="project" type="org.apache.pig.experimental.logical.expression.ProjectExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="recordDelimiter" type="java.lang.String"
-      transient="false" volatile="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </field>
-  </class>
-  <!-- end class org.apache.pig.builtin.PigDump -->
-  <!-- start class org.apache.pig.builtin.PigStorage -->
-  <class name="PigStorage" extends="org.apache.pig.builtin.Utf8StorageConverter"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.ReversibleLoadStoreFunc"/>
-    <constructor name="PigStorage"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="PigStorage" type="java.lang.String"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Constructs a Pig loader that uses specified regex as a field delimiter.
- 
- @param delimiter
-            the single byte character that is used to separate fields.
-            ("\t" is the default.)]]>
-      </doc>
-    </constructor>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="visitConstant"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="constant" type="org.apache.pig.experimental.logical.expression.ConstantExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
+    <method name="visitCast"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
+      <param name="cast" type="org.apache.pig.experimental.logical.expression.CastExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
+    <method name="visitGreaterThan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
+      <param name="greaterThanExpression" type="org.apache.pig.experimental.logical.expression.GreaterThanExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="putNext"
+    <method name="visitGreaterThanEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.GreaterThanEqualExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="finish"
+    <method name="visitLessThan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="lessThanExpression" type="org.apache.pig.experimental.logical.expression.LessThanExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitLessThanEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.LessThanEqualExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="fieldsToRead"
+    <method name="visitNotEqual"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NotEqualExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="equals" return="boolean"
+    <method name="visitNot"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="obj" type="java.lang.Object"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NotExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="equals" return="boolean"
+    <method name="visitIsNull"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="org.apache.pig.builtin.PigStorage"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.IsNullExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getStorePreparationClass" return="java.lang.Class"
+    <method name="visitNegative"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.expression.NegativeExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="mLog" type="org.apache.commons.logging.Log"
-      transient="false" volatile="false"
-      static="false" final="true" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <doc>
-    <![CDATA[A load function that parses a line of input into fields using a delimiter to set the fields. The
- delimiter is given as a regular expression. See String.split(delimiter) and
- http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html for more information.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.PigStorage -->
-  <!-- start class org.apache.pig.builtin.RANDOM -->
-  <class name="RANDOM" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="RANDOM"
+    <method name="visitAdd"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Double"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.AddExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitSubtract"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.SubtractExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitMultiply"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.MultiplyExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.RANDOM -->
-  <!-- start class org.apache.pig.builtin.SIZE -->
-  <class name="SIZE" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="SIZE"
+    <method name="visitMod"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.ModExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitDivide"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.DivideExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitMapLookup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.MapLookupExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
+    <method name="visitBinCond"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.BinCondExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Generates the Size of the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.SIZE -->
-  <!-- start class org.apache.pig.builtin.StringConcat -->
-  <class name="StringConcat" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="StringConcat"
+    <method name="visitUserFunc"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.String"
+      <param name="op" type="org.apache.pig.experimental.logical.expression.UserFuncExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitBagDereference"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="bagDerefenceExpression" type="org.apache.pig.experimental.logical.expression.BagDereferenceExpression"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitRegex"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="op" type="org.apache.pig.experimental.logical.expression.RegexExpression"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
-    <![CDATA[Generates the concatenation of the first two fields of a tuple.]]>
+    <![CDATA[A visitor for expression plans.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringConcat -->
-  <!-- start class org.apache.pig.builtin.StringMax -->
-  <class name="StringMax" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.expression.MapLookupExpression -->
+  <class name="MapLookupExpression" extends="org.apache.pig.experimental.logical.expression.ColumnExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="StringMax"
+    <constructor name="MapLookupExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, java.lang.String, org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.String"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="getMap" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="getLookupKey" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="max" return="java.lang.String"
+    <method name="getFieldSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
     </method>
-    <doc>
-    <![CDATA[Generates the max of the values of the first field of a tuple.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMax -->
-  <!-- start class org.apache.pig.builtin.StringMax.Final -->
-  <class name="StringMax.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.MapLookupExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.ModExpression -->
+  <class name="ModExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StringMax.Final"
+    <constructor name="ModExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.String"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.StringMax.Final -->
-  <!-- start class org.apache.pig.builtin.StringMax.Initial -->
-  <class name="StringMax.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="StringMax.Initial"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Mod Operator]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMax.Initial -->
-  <!-- start class org.apache.pig.builtin.StringMax.Intermediate -->
-  <class name="StringMax.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.ModExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.MultiplyExpression -->
+  <class name="MultiplyExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StringMax.Intermediate"
+    <constructor name="MultiplyExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
+    </method>
+    <doc>
+    <![CDATA[Multiply Operator]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMax.Intermediate -->
-  <!-- start class org.apache.pig.builtin.StringMin -->
-  <class name="StringMin" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.MultiplyExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.NegativeExpression -->
+  <class name="NegativeExpression" extends="org.apache.pig.experimental.logical.expression.UnaryExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="StringMin"
+    <constructor name="NegativeExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.String"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getIntermed" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.NegativeExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.NotEqualExpression -->
+  <class name="NotEqualExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="NotEqualExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="getFinal" return="java.lang.String"
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
+    </constructor>
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="min" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-    </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
     <doc>
-    <![CDATA[Generates the min of the String values in the first field of a tuple.]]>
+    <![CDATA[NotEquality test expression.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMin -->
-  <!-- start class org.apache.pig.builtin.StringMin.Final -->
-  <class name="StringMin.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.NotEqualExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.NotExpression -->
+  <class name="NotExpression" extends="org.apache.pig.experimental.logical.expression.UnaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StringMin.Final"
+    <constructor name="NotExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="exec" return="java.lang.String"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.StringMin.Final -->
-  <!-- start class org.apache.pig.builtin.StringMin.Initial -->
-  <class name="StringMin.Initial" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="StringMin.Initial"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMin.Initial -->
-  <!-- start class org.apache.pig.builtin.StringMin.Intermediate -->
-  <class name="StringMin.Intermediate" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.NotExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.OrExpression -->
+  <class name="OrExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StringMin.Intermediate"
+    <constructor name="OrExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
+    </method>
+    <doc>
+    <![CDATA[Boolean OR Expression]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.StringMin.Intermediate -->
-  <!-- start class org.apache.pig.builtin.StringSize -->
-  <class name="StringSize" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.OrExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.ProjectExpression -->
+  <class name="ProjectExpression" extends="org.apache.pig.experimental.logical.expression.ColumnExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="StringSize"
+    <constructor name="ProjectExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, int, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Adds projection to the plan.
+ @param plan LogicalExpressionPlan this projection will be a part of
+ @param type type of this projection, can be unknown
+ @param inputNum Input number this project references.
+ @param colNum Column number this project references.]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="getInputNum" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <doc>
+      <![CDATA[Input number this project references.  This is the input number for the
+ relational operator that contains this expression.  The count is zero
+ based.
+ @return input number]]>
+      </doc>
     </method>
-    <doc>
-    <![CDATA[Generates the size of the first field of a tuple.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.StringSize -->
-  <!-- start class org.apache.pig.builtin.SUM -->
-  <class name="SUM" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.Algebraic"/>
-    <constructor name="SUM"
+    <method name="setInputNum"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Double"
+      <param name="inputNum" type="int"/>
+    </method>
+    <method name="getColNum" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Column number this project references.  The column number is the column
+ in the relational operator that contains this expression.  The count
+ is zero based.
+ @return column number]]>
+      </doc>
     </method>
-    <method name="getInitial" return="java.lang.String"
+    <method name="setColNum"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="colNum" type="int"/>
+      <doc>
+      <![CDATA[Set the column number for this project.  This should only be called by
+ ProjectionPatcher.  Stupid Java needs friends.  
+ @param colNum new column number for projection]]>
+      </doc>
     </method>
-    <method name="getIntermed" return="java.lang.String"
+    <method name="setType"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="type" type="byte"/>
+      <doc>
+      <![CDATA[Set the type of the projection.
+ @param type to set this projection to]]>
+      </doc>
     </method>
-    <method name="getFinal" return="java.lang.String"
+    <method name="isProjectStar" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="sum" return="java.lang.Double"
+    <method name="setUid"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="sumDoubles" return="java.lang.Double"
+    <method name="findReferent" return="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Find the LogicalRelationalOperator that this projection refers to.
+ @param currentOp Current operator this projection is attached to
+ @return LRO this projection refers to
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getArgToFuncMapping" return="java.util.List"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
     <doc>
-    <![CDATA[Generates the sum of the values of the first field of a tuple.]]>
+    <![CDATA[Projection of columns in an expression.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.SUM -->
-  <!-- start class org.apache.pig.builtin.SUM.Final -->
-  <class name="SUM.Final" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.ProjectExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.RegexExpression -->
+  <class name="RegexExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="SUM.Final"
+    <constructor name="RegexExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="java.lang.Double"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Regex Operator]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.SUM.Final -->
-  <!-- start class org.apache.pig.builtin.SUM.Initial -->
-  <class name="SUM.Initial" extends="org.apache.pig.EvalFunc"
+  <!-- end class org.apache.pig.experimental.logical.expression.RegexExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.SubtractExpression -->
+  <class name="SubtractExpression" extends="org.apache.pig.experimental.logical.expression.BinaryExpression"
     abstract="false"
-    static="true" final="false" visibility="public"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="SUM.Initial"
+    <constructor name="SubtractExpression" type="org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param plan plan this operator is part of
+ @param b this is the type of this expression
+ @param lhs expression on its left hand side
+ @param rhs expression on its right hand side]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@link org.apache.pig.experimental.plan.Operator#accept(org.apache.pig.experimental.plan.PlanVisitor)]]>
+      </doc>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
+    <doc>
+    <![CDATA[Subtract Operator]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.SUM.Initial -->
-  <!-- start class org.apache.pig.builtin.SUM.Intermediate -->
-  <class name="SUM.Intermediate" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="true" final="false" visibility="public"
+  <!-- end class org.apache.pig.experimental.logical.expression.SubtractExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.UnaryExpression -->
+  <class name="UnaryExpression" extends="org.apache.pig.experimental.logical.expression.LogicalExpression"
+    abstract="true"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="SUM.Intermediate"
+    <constructor name="UnaryExpression" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan, byte, org.apache.pig.experimental.logical.expression.LogicalExpression"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Will add this operator to the plan and connect it to the 
+ left and right hand side operators.
+ @param name of the operator
+ @param plan plan this operator is part of
+ @param b Datatype of this expression
+ @param exp expression that this expression operators on]]>
+      </doc>
     </constructor>
-    <method name="exec" return="org.apache.pig.data.Tuple"
+    <method name="getExpression" return="org.apache.pig.experimental.logical.expression.LogicalExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Get the expression that this unary expression operators on.
+ @return expression on the left hand side
+ @throws IOException]]>
+      </doc>
     </method>
+    <doc>
+    <![CDATA[Superclass for all unary expressions]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.SUM.Intermediate -->
-  <!-- start class org.apache.pig.builtin.TextLoader -->
-  <class name="TextLoader" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.logical.expression.UnaryExpression -->
+  <!-- start class org.apache.pig.experimental.logical.expression.UserFuncExpression -->
+  <class name="UserFuncExpression" extends="org.apache.pig.experimental.logical.expression.LogicalExpression"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.LoadFunc"/>
-    <constructor name="TextLoader"
+    <constructor name="UserFuncExpression" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.FuncSpec, byte"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="bindTo"
+    <method name="getFuncSpec" return="org.apache.pig.FuncSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="in" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getNext" return="org.apache.pig.data.Tuple"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToBoolean" return="java.lang.Boolean"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not support conversion to Boolean.
- @throws IOException if the value cannot be cast.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="bytesToInteger" return="java.lang.Integer"
+    <method name="getArguments" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not support conversion to Integer
- @throws IOException if the value cannot be cast.]]>
-      </doc>
     </method>
-    <method name="bytesToLong" return="java.lang.Long"
+    <method name="setFuncSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="funcSpec" type="org.apache.pig.FuncSpec"/>
       <doc>
-      <![CDATA[TextLoader does not support conversion to Long
- @throws IOException if the value cannot be cast.]]>
+      <![CDATA[@param funcSpec the FuncSpec to set]]>
       </doc>
     </method>
-    <method name="bytesToFloat" return="java.lang.Float"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.expression.UserFuncExpression -->
+</package>
+<package name="org.apache.pig.experimental.logical.optimizer">
+  <!-- start class org.apache.pig.experimental.logical.optimizer.AllExpressionVisitor -->
+  <class name="AllExpressionVisitor" extends="org.apache.pig.experimental.logical.relational.LogicalPlanVisitor"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AllExpressionVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[TextLoader does not support conversion to Float
- @throws IOException if the value cannot be cast.]]>
+      <![CDATA[@param plan LogicalPlan to visit
+ @param walker Walker to use to visit the plan.]]>
       </doc>
-    </method>
-    <method name="bytesToDouble" return="java.lang.Double"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+    </constructor>
+    <method name="getVisitor" return="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="expr" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
       <doc>
-      <![CDATA[TextLoader does not support conversion to Double
- @throws IOException if the value cannot be cast.]]>
+      <![CDATA[Get a new instance of the expression visitor to apply to 
+ a given expression.
+ @param expr LogicalExpressionPlan that will be visited
+ @return a new LogicalExpressionVisitor for that expression]]>
       </doc>
     </method>
-    <method name="bytesToCharArray" return="java.lang.String"
+    <method name="visitLOFilter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="filter" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Cast data from bytes to chararray value.  
- @param b byte array to be cast.
- @return String value.
- @throws IOException if the value cannot be cast.]]>
-      </doc>
     </method>
-    <method name="bytesToMap" return="java.util.Map"
+    <method name="visitLOJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="join" type="org.apache.pig.experimental.logical.relational.LOJoin"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not support conversion to Map
- @throws IOException if the value cannot be cast.]]>
-      </doc>
     </method>
-    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+    <method name="visitLOCogroup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="cg" type="org.apache.pig.experimental.logical.relational.LOCogroup"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not support conversion to Tuple
- @throws IOException if the value cannot be cast.]]>
-      </doc>
     </method>
-    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+    <method name="visitLOForEach"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="foreach" type="org.apache.pig.experimental.logical.relational.LOForEach"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not support conversion to Bag
- @throws IOException if the value cannot be cast.]]>
-      </doc>
-    </method>
-    <method name="fieldsToRead"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="schema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
-      <doc>
-      <![CDATA[TextLoader doesn't make use of this.]]>
-      </doc>
     </method>
-    <method name="determineSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitLOGenerate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="execType" type="org.apache.pig.ExecType"/>
-      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+      <param name="gen" type="org.apache.pig.experimental.logical.relational.LOGenerate"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[TextLoader does not provide a schema.]]>
-      </doc>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOInnerLoad"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="bag" type="org.apache.pig.data.DataBag"/>
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOInnerLoad"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOSplitOutput"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="s" type="java.lang.String"/>
+      <param name="splitOutput" type="org.apache.pig.experimental.logical.relational.LOSplitOutput"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
-      abstract="false" native="false" synchronized="false"
+    <field name="exprVisitor" type="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="currentOp" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[A visitor that walks a logical plan and then applies a given
+ LogicalExpressionVisitor to all expressions it encounters.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.optimizer.AllExpressionVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.AllSameVisitor -->
+  <class name="AllSameVisitor" extends="org.apache.pig.experimental.logical.relational.LogicalPlanVisitor"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AllSameVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="d" type="java.lang.Double"/>
+      <doc>
+      <![CDATA[@param plan OperatorPlan to visit
+ @param walker Walker to use to visit the plan]]>
+      </doc>
+    </constructor>
+    <method name="execute"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Method to call on every node in the logical plan.
+ @param op Node that is currently being visited.]]>
+      </doc>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOFilter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="java.lang.Float"/>
+      <param name="filter" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="i" type="java.lang.Integer"/>
+      <param name="join" type="org.apache.pig.experimental.logical.relational.LOJoin"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOCogroup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="l" type="java.lang.Long"/>
+      <param name="cg" type="org.apache.pig.experimental.logical.relational.LOCogroup"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOLoad"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="m" type="java.util.Map"/>
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOStore"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="store" type="org.apache.pig.experimental.logical.relational.LOStore"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[This load function simply creates a tuple for each line of text that has a single field that
- contains the line of text.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.builtin.TextLoader -->
-  <!-- start class org.apache.pig.builtin.TOKENIZE -->
-  <class name="TOKENIZE" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="TOKENIZE"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="org.apache.pig.data.DataBag"
+    <method name="visitLOForEach"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="foreach" type="org.apache.pig.experimental.logical.relational.LOForEach"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitLOSplit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="split" type="org.apache.pig.experimental.logical.relational.LOSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-  </class>
-  <!-- end class org.apache.pig.builtin.TOKENIZE -->
-  <!-- start class org.apache.pig.builtin.TupleSize -->
-  <class name="TupleSize" extends="org.apache.pig.EvalFunc"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="TupleSize"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="exec" return="java.lang.Long"
+    <method name="visitLOSplitOutput"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.data.Tuple"/>
+      <param name="splitOutput" type="org.apache.pig.experimental.logical.relational.LOSplitOutput"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="outputSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="visitLOUnion"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="input" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <param name="union" type="org.apache.pig.experimental.logical.relational.LOUnion"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
-    <![CDATA[Generates the size of the first field of a tuple.]]>
+    <![CDATA[A visitor that walks the logical plan and calls the same method on every
+ type of node.  Subclasses can extend this and implement the execute
+ method, and this method will be called on every node in the graph.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.TupleSize -->
-  <!-- start class org.apache.pig.builtin.Utf8StorageConverter -->
-  <class name="Utf8StorageConverter" extends="java.lang.Object"
-    abstract="true"
+  <!-- end class org.apache.pig.experimental.logical.optimizer.AllSameVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.LogicalPlanOptimizer -->
+  <class name="LogicalPlanOptimizer" extends="org.apache.pig.experimental.plan.optimizer.PlanOptimizer"
+    abstract="false"
     static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="Utf8StorageConverter"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="bytesToCharArray" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="bytesToDouble" return="java.lang.Double"
-      abstract="false" native="false" synchronized="false"
+    deprecated="not deprecated">
+    <constructor name="LogicalPlanOptimizer" type="org.apache.pig.experimental.plan.OperatorPlan, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-    </method>
-    <method name="bytesToFloat" return="java.lang.Float"
+    </constructor>
+    <method name="buildRuleSets" return="java.util.List"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToInteger" return="java.lang.Integer"
-      abstract="false" native="false" synchronized="false"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.optimizer.LogicalPlanOptimizer -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.PlanPrinter -->
+  <class name="PlanPrinter" extends="org.apache.pig.experimental.logical.optimizer.AllExpressionVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PlanPrinter" type="org.apache.pig.experimental.plan.OperatorPlan, java.io.PrintStream"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <exception name="IOException" type="java.io.IOException"/>
+    </constructor>
+    <method name="getVisitor" return="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="expr" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
     </method>
-    <method name="bytesToLong" return="java.lang.Long"
+    <method name="visitLOLoad"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToMap" return="java.util.Map"
+    <method name="visitLOStore"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOStore"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
+    <method name="visitLOForEach"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOForEach"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOFilter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="bag" type="org.apache.pig.data.DataBag"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOGenerate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="s" type="java.lang.String"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOGenerate"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOInnerLoad"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="d" type="java.lang.Double"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOInnerLoad"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOCogroup"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="f" type="java.lang.Float"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOCogroup"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOSplitOutput"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="i" type="java.lang.Integer"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOSplitOutput"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOSplit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="l" type="java.lang.Long"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOSplit"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="visitLOUnion"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="m" type="java.util.Map"/>
+      <param name="op" type="org.apache.pig.experimental.logical.relational.LOUnion"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toBytes" return="byte[]"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <field name="mBagFactory" type="org.apache.pig.data.BagFactory"
+    <field name="stream" type="java.io.PrintStream"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
+    <field name="level" type="int"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="mLog" type="org.apache.commons.logging.Log"
-      transient="false" volatile="false"
-      static="false" final="true" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <doc>
-    <![CDATA[This abstract class provides standard conversions between utf8 encoded data
- and pig data types.  It is intended to be extended by load and store
- functions (such as PigStorage).]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.builtin.Utf8StorageConverter -->
-</package>
-<package name="org.apache.pig.data">
-  <!-- start class org.apache.pig.data.AmendableTuple -->
-  <class name="AmendableTuple" extends="org.apache.pig.data.DefaultTuple"
+  <!-- end class org.apache.pig.experimental.logical.optimizer.PlanPrinter -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.PlanPrinter.DepthFirstMemoryWalker -->
+  <class name="PlanPrinter.DepthFirstMemoryWalker" extends="org.apache.pig.experimental.plan.DepthFirstWalker"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="AmendableTuple" type="int, java.lang.Object"
+    <constructor name="PlanPrinter.DepthFirstMemoryWalker" type="org.apache.pig.experimental.plan.OperatorPlan, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getAmendKey" return="java.lang.Object"
+    <method name="spawnChildWalker" return="org.apache.pig.experimental.plan.PlanWalker"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="setAmendKey"
+    <method name="walk"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Begin traversing the graph.
+ @param visitor Visitor this walker is being used by.
+ @throws IOException if an error is encountered while walking.]]>
+      </doc>
+    </method>
+    <method name="getPrefix" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="amendKey" type="java.lang.Object"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.data.AmendableTuple -->
-  <!-- start class org.apache.pig.data.BagFactory -->
-  <class name="BagFactory" extends="java.lang.Object"
-    abstract="true"
+  <!-- end class org.apache.pig.experimental.logical.optimizer.PlanPrinter.DepthFirstMemoryWalker -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.ProjectionPatcher -->
+  <class name="ProjectionPatcher" extends="java.lang.Object"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="BagFactory"
-      static="false" final="false" visibility="protected"
+    <implements name="org.apache.pig.experimental.plan.optimizer.PlanTransformListener"/>
+    <constructor name="ProjectionPatcher"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="getInstance" return="org.apache.pig.data.BagFactory"
+    <method name="transformed"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get a reference to the singleton factory.]]>
-      </doc>
-    </method>
-    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
-      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="fp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <param name="tp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Get a default (unordered, not distinct) data bag.]]>
+      <![CDATA[@link org.apache.pig.experimental.plan.optimizer.PlanTransformListener#transformed(org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.OperatorPlan)]]>
       </doc>
     </method>
-    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
-      abstract="true" native="false" synchronized="false"
+    <doc>
+    <![CDATA[A PlanTransformListener that will patch up references in projections.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.optimizer.ProjectionPatcher -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.SchemaPatcher -->
+  <class name="SchemaPatcher" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.experimental.plan.optimizer.PlanTransformListener"/>
+    <constructor name="SchemaPatcher"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="listOfTuples" type="java.util.List"/>
-      <doc>
-      <![CDATA[Get a default (unordered, not distinct) data bag from
- an existing list of tuples.]]>
-      </doc>
-    </method>
-    <method name="newSortedBag" return="org.apache.pig.data.DataBag"
-      abstract="true" native="false" synchronized="false"
+    </constructor>
+    <method name="transformed"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="comp" type="java.util.Comparator"/>
+      <param name="fp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <param name="tp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Get a sorted data bag.
- @param comp Comparator that controls how the data is sorted.
- If null, default comparator will be used.]]>
+      <![CDATA[@throws IOException 
+ @link org.apache.pig.experimental.plan.optimizer.PlanTransformListener#transformed(org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.OperatorPlan)]]>
       </doc>
     </method>
-    <method name="newDistinctBag" return="org.apache.pig.data.DataBag"
-      abstract="true" native="false" synchronized="false"
+    <doc>
+    <![CDATA[A PlanTransformListener for the logical optimizer that will patch up schemas
+ after a plan has been transformed.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.optimizer.SchemaPatcher -->
+  <!-- start class org.apache.pig.experimental.logical.optimizer.UidStamper -->
+  <class name="UidStamper" extends="org.apache.pig.experimental.logical.optimizer.AllExpressionVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="UidStamper" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Get a distinct data bag.]]>
+      <![CDATA[@param plan LogicalPlan that this stamper will act on.]]>
       </doc>
-    </method>
-    <method name="registerBag"
+    </constructor>
+    <method name="getVisitor" return="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <param name="expr" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
     </method>
-    <method name="resetSelf"
+    <method name="visitLOLoad"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Provided for testing purposes only.  This function should never be
- called by anybody but the unit tests.]]>
-      </doc>
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
-    <![CDATA[Factory for constructing different types of bags.
- This class is abstract so that users can
- override the bag factory if they desire to provide their own that
- returns their implementation of a bag.  If the property
- pig.data.bag.factory.name is set to a class name and
- pig.data.bag.factory.jar is set to a URL pointing to a jar that
- contains the above named class, then getInstance() will create a
- a instance of the named class using the indicatd jar.  Otherwise, it
- will create an instance of DefaultBagFactory.]]>
+    <![CDATA[A Visitor to stamp every part of every expression in a tree with a uid.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.data.BagFactory -->
-  <!-- start interface org.apache.pig.data.DataBag -->
-  <interface name="DataBag"    abstract="true"
+  <!-- end class org.apache.pig.experimental.logical.optimizer.UidStamper -->
+</package>
+<package name="org.apache.pig.experimental.logical.relational">
+  <!-- start class org.apache.pig.experimental.logical.relational.LOCogroup -->
+  <class name="LOCogroup" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.impl.util.Spillable"/>
-    <implements name="org.apache.hadoop.io.WritableComparable"/>
-    <implements name="java.lang.Iterable"/>
-    <implements name="java.io.Serializable"/>
-    <method name="size" return="long"
+    <constructor name="LOCogroup" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.impl.util.MultiMap, boolean[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="LOCogroup" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.impl.util.MultiMap, org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE, boolean[], int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get the number of elements in the bag, both in memory and on disk.]]>
-      </doc>
     </method>
-    <method name="isSorted" return="boolean"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Find out if the bag is sorted.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Find out if the bag is distinct.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="getGroupType" return="org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get an iterator to the bag. For default and distinct bags,
- no particular order is guaranteed. For sorted bags the order
- is guaranteed to be sorted according
- to the provided comparator.]]>
-      </doc>
     </method>
-    <method name="add"
+    <method name="getGeneratedInputUids" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
       <doc>
-      <![CDATA[Add a tuple to the bag.
- @param t tuple to add.]]>
+      <![CDATA[Returns an Unmodifiable Map of Input Number to Uid 
+ @return Unmodifiable Map<Integer,Long>]]>
       </doc>
     </method>
-    <method name="addAll"
+    <method name="getExpressionPlans" return="org.apache.pig.impl.util.MultiMap"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
-      <doc>
-      <![CDATA[Add contents of a bag to the bag.
- @param b bag to add contents of.]]>
-      </doc>
     </method>
-    <method name="clear"
+    <method name="getInner" return="boolean[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Clear out the contents of the bag, both on disk and in memory.
- Any attempts to read after this is called will produce undefined
- results.]]>
-      </doc>
     </method>
-    <method name="markStale"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOCogroup -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE -->
+  <class name="LOCogroup.GROUPTYPE" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE[]"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stale" type="boolean"/>
-      <doc>
-      <![CDATA[This is used by FuncEvalSpec.FakeDataBag.
- @param stale Set stale state.]]>
-      </doc>
     </method>
+    <method name="valueOf" return="org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="REGULAR" type="org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="COLLECTED" type="org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <doc>
-    <![CDATA[A collection of Tuples.  A DataBag may or may not fit into memory.
- DataBag extends spillable, which means that it registers with a memory
- manager.  By default, it attempts to keep all of its contents in memory.
- If it is asked by the memory manager to spill to disk (by a call to
- spill()), it takes whatever it has in memory, opens a spill file, and
- writes the contents out.  This may happen multiple times.  The bag
- tracks all of the files it's spilled to.
- 
- DataBag provides an Iterator interface, that allows callers to read
- through the contents.  The iterators are aware of the data spilling.
- They have to be able to handle reading from files, as well as the fact
- that data they were reading from memory may have been spilled to disk
- underneath them.
-
- The DataBag interface assumes that all data is written before any is
- read.  That is, a DataBag cannot be used as a queue.  If data is written
- after data is read, the results are undefined.  This condition is not
- checked on each add or read, for reasons of speed.  Caveat emptor.
-
- Since spills are asynchronous (the memory manager requesting a spill
- runs in a separate thread), all operations dealing with the mContents
- Collection (which is the collection of tuples contained in the bag) have
- to be synchronized.  This means that reading from a DataBag is currently
- serialized.  This is ok for the moment because pig execution is
- currently single threaded.  A ReadWriteLock was experimented with, but
- it was found to be about 10x slower than using the synchronize keyword.
- If pig changes its execution model to be multithreaded, we may need to
- return to this issue, as synchronizing reads will most likely defeat the
- purpose of multi-threading execution.
-
- DataBags come in several types, default, sorted, and distinct.  The type
- must be chosen up front, there is no way to convert a bag on the fly.]]>
+    <![CDATA[Enum for the type of group]]>
     </doc>
-  </interface>
-  <!-- end interface org.apache.pig.data.DataBag -->
-  <!-- start class org.apache.pig.data.DataByteArray -->
-  <class name="DataByteArray" extends="java.lang.Object"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOCogroup.GROUPTYPE -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOFilter -->
+  <class name="LOFilter" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="java.lang.Comparable"/>
-    <implements name="java.io.Serializable"/>
-    <constructor name="DataByteArray"
+    <constructor name="LOFilter" type="org.apache.pig.experimental.logical.relational.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Default constructor.  The data array will not be allocated when this
- constructor is called.]]>
-      </doc>
     </constructor>
-    <constructor name="DataByteArray" type="byte[]"
+    <constructor name="LOFilter" type="org.apache.pig.experimental.logical.relational.LogicalPlan, org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Construct a byte array using the provided bytes as the content.
- @param b byte array to use as content.  A reference to the bytes
- will be taken, the underlying bytes will not be copied.]]>
-      </doc>
     </constructor>
-    <constructor name="DataByteArray" type="org.apache.pig.data.DataByteArray, org.apache.pig.data.DataByteArray"
+    <method name="getFilterPlan" return="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Construct a byte array concatenating the two provided 
- byte arrays as the content.
- @param b the first byte array to use as content.
- @param c the other byte array to use as content.]]>
-      </doc>
-    </constructor>
-    <constructor name="DataByteArray" type="byte[], int, int"
+    </method>
+    <method name="setFilterPlan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Construct a byte array using a portion of the provided bytes as content.
- @param b byte array to read from.  A copy of the underlying bytes will be
- made.
- @param start starting point to copy from
- @param end ending point to copy to, exclusive.]]>
-      </doc>
-    </constructor>
-    <constructor name="DataByteArray" type="java.lang.String"
+      <param name="filterPlan" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
+    </method>
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Construct a byte array from a String.  The contents of the string
- are copied.
- @param s String to make a byte array out of.]]>
-      </doc>
-    </constructor>
-    <method name="size" return="int"
+    </method>
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Find the size of the byte array.
- @return number of bytes in the array.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="get" return="byte[]"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get the underlying byte array.  This is the real thing, not a copy,
- so don't mess with it!
- @return underlying byte[]]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="set"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOFilter -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOForEach -->
+  <class name="LOForEach" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOForEach" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getInnerPlan" return="org.apache.pig.experimental.logical.relational.LogicalPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="byte[]"/>
-      <doc>
-      <![CDATA[Set the internal byte array.  This should not be called unless the
- default constructor was used.
- @param b byte array to store.  The contents of the byte array are
- not copied.]]>
-      </doc>
     </method>
-    <method name="set"
+    <method name="setInnerPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="s" type="java.lang.String"/>
-      <doc>
-      <![CDATA[Set the internal byte array.  This should not be called unless the
- default constructor was used.
- @param s String to copy.  The contents of the string are copied.]]>
-      </doc>
+      <param name="p" type="org.apache.pig.experimental.logical.relational.LogicalPlan"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="compareTo" return="int"
+    <method name="resetSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[Compare two byte arrays.  Comparison is done first using byte values
- then length.  So "g" will be greater than "abcdefg", but "hello worlds"
- is greater than "hello world".  If the other object is not a
- DataByteArray, DataType.compare will be called.
- @param other Other object to compare to.
- @return -1 if less than, 1 if greater than, 0 if equal.]]>
-      </doc>
     </method>
-    <method name="equals" return="boolean"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
     </method>
-    <method name="hashCode" return="int"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[An implementation of byte array.  This is done as an object because we
- need to be able to implement compareTo, toString, hashCode, and some
- other methods.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DataByteArray -->
-  <!-- start class org.apache.pig.data.DataReaderWriter -->
-  <class name="DataReaderWriter" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.logical.relational.LOForEach -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOGenerate -->
+  <class name="LOGenerate" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DataReaderWriter"
+    <constructor name="LOGenerate" type="org.apache.pig.experimental.plan.OperatorPlan, java.util.List, boolean[]"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="bytesToTuple" return="org.apache.pig.data.Tuple"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="bytesToBag" return="org.apache.pig.data.DataBag"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToMap" return="java.util.Map"
+    <method name="getOutputPlans" return="java.util.List"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToCharArray" return="java.lang.String"
+    <method name="getFlattenFlags" return="boolean[]"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bytesToBigCharArray" return="java.lang.String"
+    <method name="setFlattenFlags"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="flatten" type="boolean[]"/>
     </method>
-    <method name="readDatum" return="java.lang.Object"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="readDatum" return="java.lang.Object"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <param name="type" type="byte"/>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="writeDatum"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <param name="val" type="java.lang.Object"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[A class to handle reading and writing of intermediate results of data
- types.  This class could also be used for storing permanent results.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DataReaderWriter -->
-  <!-- start class org.apache.pig.data.DataType -->
-  <class name="DataType" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.logical.relational.LOGenerate -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogicalPlan -->
+  <class name="LogicalPlan" extends="org.apache.pig.experimental.plan.BaseOperatorPlan"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DataType"
+    <constructor name="LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="findType" return="byte"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
+      <param name="other" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <doc>
-      <![CDATA[Determine the datatype of an object.
- @param o Object to test.
- @return byte code of the type, or ERROR if we don't know.]]>
+      <![CDATA[Equality is checked by calling equals on every leaf in the plan.  This
+ assumes that plans are always connected graphs.  It is somewhat 
+ inefficient since every leaf will test equality all the way to 
+ every root.  But it is only intended for use in testing, so that
+ should be ok.  Checking predecessors (as opposed to successors) was
+ chosen because splits (which have multiple successors) do not depend
+ on order of outputs for correctness, whereas joins (with multiple
+ predecessors) do.  That is, reversing the outputs of split in the
+ graph has no correctness implications, whereas reversing the inputs
+ of join can.  This method of doing equals will detect predecessors
+ in different orders but not successors in different orders.]]>
       </doc>
     </method>
-    <method name="findType" return="byte"
+    <doc>
+    <![CDATA[LogicalPlan is the logical view of relational operations Pig will execute 
+ for a given script.  Note that it contains only relational operations.
+ All expressions will be contained in LogicalExpressionPlans inside
+ each relational operator.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LogicalPlan -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogicalPlanVisitor -->
+  <class name="LogicalPlanVisitor" extends="org.apache.pig.experimental.plan.PlanVisitor"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalPlanVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visitLOLoad"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="java.lang.reflect.Type"/>
-      <doc>
-      <![CDATA[Given a Type object determine the data type it represents.  This isn't
- cheap, as it uses reflection, so use sparingly.
- @param t Type to examine
- @return byte code of the type, or ERROR if we don't know.]]>
-      </doc>
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="numTypes" return="int"
+    <method name="visitLOFilter"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="genAllTypes" return="byte[]"
+    <method name="visitLOStore"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.experimental.logical.relational.LOStore"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="genTypeToNameMap" return="java.util.Map"
+    <method name="visitLOJoin"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="join" type="org.apache.pig.experimental.logical.relational.LOJoin"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="genNameToTypeMap" return="java.util.Map"
+    <method name="visitLOForEach"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="foreach" type="org.apache.pig.experimental.logical.relational.LOForEach"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="findTypeName" return="java.lang.String"
+    <method name="visitLOGenerate"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[Get the type name.
- @param o Object to test.
- @return type name, as a String.]]>
-      </doc>
+      <param name="gen" type="org.apache.pig.experimental.logical.relational.LOGenerate"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="findTypeName" return="java.lang.String"
+    <method name="visitLOInnerLoad"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dt" type="byte"/>
-      <doc>
-      <![CDATA[Get the type name from the type byte code
- @param dt Type byte code
- @return type name, as a String.]]>
-      </doc>
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOInnerLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isComplex" return="boolean"
+    <method name="visitLOCogroup"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dataType" type="byte"/>
-      <doc>
-      <![CDATA[Determine whether the this data type is complex.
- @param dataType Data type code to test.
- @return true if dataType is bag, tuple, or map.]]>
-      </doc>
+      <param name="loCogroup" type="org.apache.pig.experimental.logical.relational.LOCogroup"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isComplex" return="boolean"
+    <method name="visitLOSplit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[Determine whether the object is complex or atomic.
- @param o Object to determine type of.
- @return true if dataType is bag, tuple, or map.]]>
-      </doc>
+      <param name="loSplit" type="org.apache.pig.experimental.logical.relational.LOSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isAtomic" return="boolean"
+    <method name="visitLOSplitOutput"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dataType" type="byte"/>
-      <doc>
-      <![CDATA[Determine whether the this data type is atomic.
- @param dataType Data type code to test.
- @return true if dataType is bytearray, bigchararray, chararray, integer, long,
- float, or boolean.]]>
-      </doc>
+      <param name="loSplitOutput" type="org.apache.pig.experimental.logical.relational.LOSplitOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isAtomic" return="boolean"
+    <method name="visitLOUnion"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[Determine whether the this data type is atomic.
- @param o Object to determine type of.
- @return true if dataType is bytearray, chararray, integer, long,
- float, or boolean.]]>
-      </doc>
+      <param name="loUnion" type="org.apache.pig.experimental.logical.relational.LOUnion"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isSchemaType" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    <doc>
+    <![CDATA[A visitor for logical plans.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LogicalPlanVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogicalRelationalOperator -->
+  <class name="LogicalRelationalOperator" extends="org.apache.pig.experimental.plan.Operator"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalRelationalOperator" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
       <doc>
-      <![CDATA[Determine whether the this object can have a schema.
- @param o Object to determine if it has a schema
- @return true if the type can have a valid schema (i.e., bag or tuple)]]>
+      <![CDATA[@param name of this operator
+ @param plan this operator is in]]>
       </doc>
-    </method>
-    <method name="isSchemaType" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    </constructor>
+    <constructor name="LogicalRelationalOperator" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan, int"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dataType" type="byte"/>
       <doc>
-      <![CDATA[Determine whether the this data type can have a schema.
- @param dataType dataType to determine if it has a schema
- @return true if the type can have a valid schema (i.e., bag or tuple)]]>
+      <![CDATA[@param name of this operator
+ @param plan this operator is in
+ @param rp requested parallelism]]>
       </doc>
-    </method>
-    <method name="compare" return="int"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    </constructor>
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o1" type="java.lang.Object"/>
-      <param name="o2" type="java.lang.Object"/>
       <doc>
-      <![CDATA[/**
- Compare two objects to each other.  This function is necessary
- because there's no super class that implements compareTo.  This
- function provides an (arbitrary) ordering of objects of different
- types as follows:  NULL &lt; BOOLEAN &lt; BYTE &lt; INTEGER &lt; LONG &lt;
- FLOAT &lt; DOUBLE * &lt; BYTEARRAY &lt; STRING &lt; MAP &lt;
- TUPLE &lt; BAG.  No other functions should implement this cross
- object logic.  They should call this function for it instead.
- @param o1 First object
- @param o2 Second object
- @return -1 if o1 is less, 0 if they are equal, 1 if o2 is less.]]>
+      <![CDATA[Get the schema for the output of this relational operator.  This does
+ not merely return the schema variable.  If schema is not yet set, this
+ will attempt to construct it.  Therefore it is abstract since each
+ operator will need to construct its schema differently.
+ @return the schema]]>
       </doc>
     </method>
-    <method name="toInteger" return="java.lang.Integer"
+    <method name="resetSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="type" type="byte"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[Force a data object to an Integer, if possible.  Any numeric type
- can be forced to an Integer (though precision may be lost), as well
- as CharArray, ByteArray, or Boolean.  Complex types cannot be
- forced to an Integer.  This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is an Integer you
- should just cast it.
- @return The object as a Integer.
- @throws ExecException if the type can't be forced to an Integer.]]>
+      <![CDATA[Reset the schema to null so that the next time getSchema is called
+ the schema will be regenerated from scratch.]]>
       </doc>
     </method>
-    <method name="toInteger" return="java.lang.Integer"
+    <method name="getRequestedParallelisam" return="int"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[If type of object is not known, use this method, which internally calls
- toInteger(object,type)
- 
- @param o
- @return Object as Integer.
- @throws ExecException]]>
+      <![CDATA[Get the requestedParallelism for this operator.
+ @return requestedParallelsim]]>
       </doc>
     </method>
-    <method name="toLong" return="java.lang.Long"
+    <method name="getAlias" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="type" type="byte"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[Force a data object to a Long, if possible.  Any numeric type
- can be forced to a Long (though precision may be lost), as well
- as CharArray, ByteArray, or Boolean.  Complex types cannot be
- forced to a Long.  This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a Long you
- should just cast it.
- @return The object as a Long.
- @throws ExecException if the type can't be forced to a Long.]]>
+      <![CDATA[Get the alias of this operator.  That is, if the Pig Latin for this operator
+ was 'X = sort W by $0' then the alias will be X.  For store and split it will
+ be the alias being stored or split.  Note that because of this this alias
+ is not guaranteed to be unique to a single operator.
+ @return alias]]>
       </doc>
     </method>
-    <method name="toLong" return="java.lang.Long"
+    <method name="setAlias"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[If type of object is not known, use this method which in turns call
- toLong(object,type) after finding type.
- 
- @param o
- @return Object as Long.
- @throws ExecException]]>
-      </doc>
+      <param name="alias" type="java.lang.String"/>
     </method>
-    <method name="toFloat" return="java.lang.Float"
+    <method name="setRequestedParallelism"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="type" type="byte"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Force a data object to a Float, if possible.  Any numeric type
- can be forced to a Float (though precision may be lost), as well
- as CharArray, ByteArray.  Complex types cannot be
- forced to a Float.  This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a Float you
- should just cast it.
- @return The object as a Float.
- @throws ExecException if the type can't be forced to a Float.]]>
-      </doc>
+      <param name="parallel" type="int"/>
     </method>
-    <method name="toFloat" return="java.lang.Float"
+    <method name="getLineNumber" return="int"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[If type of object is not known, use this method which in turns call
- toFloat(object,type) after finding type.
- 
- @param o
- @return Object as Float.
- @throws ExecException]]>
+      <![CDATA[Get the line number in the submitted Pig Latin script where this operator
+ occurred.
+ @return line number]]>
       </doc>
     </method>
-    <method name="toDouble" return="java.lang.Double"
+    <method name="neverUseForRealSetSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="type" type="byte"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="schema" type="org.apache.pig.experimental.logical.relational.LogicalSchema"/>
       <doc>
-      <![CDATA[Force a data object to a Double, if possible.  Any numeric type
- can be forced to a Double, as well
- as CharArray, ByteArray.  Complex types cannot be
- forced to a Double.  This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a Double you
- should just cast it.
- @return The object as a Double.
- @throws ExecException if the type can't be forced to a Double.]]>
+      <![CDATA[Only to be used by unit tests.  This is a back door cheat to set the schema
+ without having to calculate it.  This should never be called by production
+ code, only by tests.
+ @param schema to set]]>
       </doc>
     </method>
-    <method name="toDouble" return="java.lang.Double"
+    <method name="checkEquality" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="other" type="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"/>
       <doc>
-      <![CDATA[If type of object is not known, use this method which in turns call
- toLong(object,type) after finding type.
- 
- @param o
- @return Object as Double.
- @throws ExecException]]>
+      <![CDATA[Do some basic equality checks on two relational operators.  Equality
+ is defined here as having equal schemas and  predecessors that are equal.
+ This is intended to be used by operators' equals methods.
+ @param other LogicalRelationalOperator to compare predecessors against
+ @return true if the isEquals() methods of this node's predecessor(s) returns
+ true when invoked with other's predecessor(s).]]>
       </doc>
     </method>
     <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <param name="type" type="byte"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Force a data object to a String, if possible.  Any simple (atomic) type
- can be forced to a String including ByteArray.  Complex types cannot be
- forced to a String.  This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a String you
- should just cast it.
- @return The object as a String.
- @throws ExecException if the type can't be forced to a String.]]>
-      </doc>
     </method>
-    <method name="toString" return="java.lang.String"
+    <field name="schema" type="org.apache.pig.experimental.logical.relational.LogicalSchema"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="requestedParallelism" type="int"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="alias" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="lineNum" type="int"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Logical representation of relational operators.  Relational operators have
+ a schema.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LogicalRelationalOperator -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogicalSchema -->
+  <class name="LogicalSchema" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalSchema"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="addField"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="field" type="org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema"/>
       <doc>
-      <![CDATA[If type of object is not known, use this method which in turns call
- toString(object,type) after finding type.
- 
- @param o
- @return Object as String.
- @throws ExecException]]>
+      <![CDATA[Add a field to this schema.
+ @param field to be added to the schema]]>
       </doc>
     </method>
-    <method name="toMap" return="java.util.Map"
+    <method name="getField" return="org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="alias" type="java.lang.String"/>
       <doc>
-      <![CDATA[If this object is a map, return it as a map.
- This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a Map you
- should just cast it.
- @return The object as a Double.
- @throws ExecException if the type can't be forced to a Double.]]>
+      <![CDATA[Fetch a field by alias
+ @param alias
+ @return field associated with alias, or null if no such field]]>
       </doc>
     </method>
-    <method name="toTuple" return="org.apache.pig.data.Tuple"
+    <method name="getField" return="org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="fieldNum" type="int"/>
       <doc>
-      <![CDATA[If this object is a tuple, return it as a tuple.
- This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a Tuple you
- should just cast it.
- @return The object as a Double.
- @throws ExecException if the type can't be forced to a Double.]]>
+      <![CDATA[Fetch a field by field number
+ @param fieldNum field number to fetch
+ @return field]]>
       </doc>
     </method>
-    <method name="toBag" return="org.apache.pig.data.DataBag"
+    <method name="getFields" return="java.util.List"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
       <doc>
-      <![CDATA[If this object is a bag, return it as a bag.
- This isn't particularly efficient, so if you
- already <b>know</b> that the object you have is a bag you
- should just cast it.
- @return The object as a Double.
- @throws ExecException if the type can't be forced to a Double.]]>
+      <![CDATA[Get all fields
+ @return list of all fields]]>
       </doc>
     </method>
-    <method name="spillTupleContents"
+    <method name="size" return="int"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <param name="label" type="java.lang.String"/>
       <doc>
-      <![CDATA[Purely for debugging]]>
+      <![CDATA[Get the size of the schema.
+ @return size]]>
       </doc>
     </method>
-    <method name="isNumberType" return="boolean"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="byte"/>
+      <param name="other" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Two schemas are equal if they are of equal size and their fields
+ schemas considered in order are equal.]]>
+      </doc>
     </method>
-    <method name="isUsableType" return="boolean"
+    <method name="findField" return="int"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="byte"/>
+      <param name="uid" type="long"/>
+      <doc>
+      <![CDATA[Look for the index of the field that contains the specified uid
+ @param uid the uid to look for
+ @return the index of the field, -1 if not found]]>
+      </doc>
     </method>
-    <method name="mergeType" return="byte"
+    <method name="merge" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="type1" type="byte"/>
-      <param name="type2" type="byte"/>
+      <param name="s1" type="org.apache.pig.experimental.logical.relational.LogicalSchema"/>
+      <param name="s2" type="org.apache.pig.experimental.logical.relational.LogicalSchema"/>
       <doc>
-      <![CDATA[Merge types if possible
- @param type1
- @param type2
- @return the merged type, or DataType.ERROR if not successful]]>
+      <![CDATA[Merge two schemas.
+ @param s1
+ @param s2
+ @return a merged schema, or null if the merge fails]]>
       </doc>
     </method>
-    <method name="mapToString" return="java.lang.String"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="m" type="java.util.Map"/>
     </method>
-    <method name="equalByteArrays" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    <doc>
+    <![CDATA[Schema, from a logical perspective.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LogicalSchema -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema -->
+  <class name="LogicalSchema.LogicalFieldSchema" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogicalSchema.LogicalFieldSchema" type="java.lang.String, org.apache.pig.experimental.logical.relational.LogicalSchema, byte"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="lhs" type="byte[]"/>
-      <param name="rhs" type="byte[]"/>
-    </method>
-    <method name="determineFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
+    </constructor>
+    <constructor name="LogicalSchema.LogicalFieldSchema" type="java.lang.String, org.apache.pig.experimental.logical.relational.LogicalSchema, byte, long"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
-      <exception name="SchemaMergeException" type="org.apache.pig.impl.logicalLayer.schema.SchemaMergeException"/>
+      <param name="other" type="java.lang.Object"/>
       <doc>
-      <![CDATA[Determine the field schema of an object
- @param o the object whose field schema is to be determined
- @return the field schema corresponding to the object
- @throws ExecException,FrontendException,SchemaMergeException]]>
+      <![CDATA[Equality is defined as having the same type and either the same schema
+ or both null schema.  Alias and uid are not checked.]]>
       </doc>
     </method>
-    <field name="UNKNOWN" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="NULL" type="byte"
+    </method>
+    <field name="alias" type="java.lang.String"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="BOOLEAN" type="byte"
+    <field name="type" type="byte"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="BYTE" type="byte"
+    <field name="uid" type="long"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="INTEGER" type="byte"
+    <field name="schema" type="org.apache.pig.experimental.logical.relational.LogicalSchema"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="LONG" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LogicalSchema.LogicalFieldSchema -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LogToPhyTranslationVisitor -->
+  <class name="LogToPhyTranslationVisitor" extends="org.apache.pig.experimental.logical.relational.LogicalPlanVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LogToPhyTranslationVisitor" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="FLOAT" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    </constructor>
+    <method name="setPigContext"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="DOUBLE" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      <param name="pc" type="org.apache.pig.impl.PigContext"/>
+    </method>
+    <method name="getPhysicalPlan" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="BYTEARRAY" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+    </method>
+    <method name="visitLOLoad"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="CHARARRAY" type="byte"
-      transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      <param name="loLoad" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOFilter"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="BIGCHARARRAY" type="byte"
+      <param name="filter" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOInnerLoad"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOInnerLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOForEach"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="foreach" type="org.apache.pig.experimental.logical.relational.LOForEach"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOStore"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loStore" type="org.apache.pig.experimental.logical.relational.LOStore"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOCogroup"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="cg" type="org.apache.pig.experimental.logical.relational.LOCogroup"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOJoin"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loj" type="org.apache.pig.experimental.logical.relational.LOJoin"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOUnion"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loUnion" type="org.apache.pig.experimental.logical.relational.LOUnion"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOSplit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loSplit" type="org.apache.pig.experimental.logical.relational.LOSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="visitLOSplitOutput"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="loSplitOutput" type="org.apache.pig.experimental.logical.relational.LOSplitOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="updateWithEmptyBagCheck"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fePlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="joinInput" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <doc>
+      <![CDATA[updates plan with check for empty bag and if bag is empty to flatten a bag
+ with as many null's as dictated by the schema
+ @param fePlan the plan to update
+ @param joinInput the relation for which the corresponding bag is being checked
+ @throws FrontendException]]>
+      </doc>
+    </method>
+    <field name="logToPhyMap" type="java.util.Map"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="MAP" type="byte"
+    <field name="currentPlans" type="java.util.Stack"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="TUPLE" type="byte"
+    <field name="currentPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="BAG" type="byte"
+    <field name="nodeGen" type="org.apache.pig.impl.plan.NodeIdGenerator"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="ERROR" type="byte"
+    <field name="pc" type="org.apache.pig.impl.PigContext"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <doc>
-    <![CDATA[A class of static final values used to encode data type and a number of
- static helper funcitons for manipulating data objects.  The data type
- values could be
- done as an enumeration, but it is done as byte codes instead to save
- creating objects.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DataType -->
-  <!-- start class org.apache.pig.data.DefaultAbstractBag -->
-  <class name="DefaultAbstractBag" extends="java.lang.Object"
-    abstract="true"
+  <!-- end class org.apache.pig.experimental.logical.relational.LogToPhyTranslationVisitor -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOInnerLoad -->
+  <class name="LOInnerLoad" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.data.DataBag"/>
-    <constructor name="DefaultAbstractBag"
+    <constructor name="LOInnerLoad" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.logical.relational.LOForEach, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="size" return="long"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get the number of elements in the bag, both in memory and on disk.]]>
-      </doc>
     </method>
-    <method name="add"
+    <method name="getProjection" return="org.apache.pig.experimental.logical.expression.ProjectExpression"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <doc>
-      <![CDATA[Add a tuple to the bag.
- @param t tuple to add.]]>
-      </doc>
     </method>
-    <method name="addAll"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
-      <doc>
-      <![CDATA[Add contents of a bag to the bag.
- @param b bag to add contents of.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="addAll"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="c" type="java.util.Collection"/>
-      <doc>
-      <![CDATA[Add contents of a container to the bag.
- @param c Collection to add contents of.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getMemorySize" return="long"
+    <method name="getColNum" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Return the size of memory usage.]]>
-      </doc>
     </method>
-    <method name="clear"
+    <method name="getLOForEach" return="org.apache.pig.experimental.logical.relational.LOForEach"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Clear out the contents of the bag, both on disk and in memory.
- Any attempts to read after this is called will produce undefined
- results.]]>
+      <![CDATA[Get the LOForEach operator that contains this operator as part of inner plan
+ @return the LOForEach operator]]>
       </doc>
     </method>
-    <method name="compareTo" return="int"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[Operator to map the data into the inner plan of LOForEach
+ It can only be used in the inner plan of LOForEach]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOInnerLoad -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOJoin -->
+  <class name="LOJoin" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOJoin" type="org.apache.pig.experimental.logical.relational.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[This method is potentially very expensive since it may require a
- sort of the bag; don't call it unless you have to.]]>
-      </doc>
-    </method>
-    <method name="equals" return="boolean"
+    </constructor>
+    <constructor name="LOJoin" type="org.apache.pig.experimental.logical.relational.LogicalPlan, org.apache.pig.impl.util.MultiMap, org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE, boolean[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="isInner" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
+      <param name="inputIndex" type="int"/>
     </method>
-    <method name="write"
+    <method name="getInnerFlags" return="boolean[]"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Write a bag's contents to disk.
- @param out DataOutput to write data to.
- @throws IOException (passes it on from underlying calls).]]>
-      </doc>
     </method>
-    <method name="readFields"
+    <method name="getJoinType" return="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Read a bag from disk.
- @param in DataInput to read data from.
- @throws IOException (passes it on from underlying calls).]]>
-      </doc>
     </method>
-    <method name="markStale"
+    <method name="getJoinPlan" return="java.util.Collection"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stale" type="boolean"/>
-      <doc>
-      <![CDATA[This is used by FuncEvalSpec.FakeDataBag.
- @param stale Set stale state.]]>
-      </doc>
+      <param name="inputIndex" type="int"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="getExpressionPlans" return="java.util.Collection"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Write the bag into a string.]]>
+      <![CDATA[Get all of the expressions plans that are in this join.
+ @return collection of all expression plans.]]>
       </doc>
     </method>
-    <method name="hashCode" return="int"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="finalize"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Need to override finalize to clean out the mSpillFiles array.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getSpillFile" return="java.io.DataOutputStream"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Get a file to spill contents to.  The file will be registered in the
- mSpillFiles array.
- @return stream to write tuples to.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="reportProgress"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOJoin -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE -->
+  <class name="LOJoin.JOINTYPE" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE[]"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Report progress to HDFS.]]>
-      </doc>
     </method>
-    <method name="warn"
+    <method name="valueOf" return="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="msg" type="java.lang.String"/>
-      <param name="warningEnum" type="java.lang.Enum"/>
-      <param name="e" type="java.lang.Exception"/>
+      <param name="name" type="java.lang.String"/>
     </method>
-    <field name="mContents" type="java.util.Collection"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="mSpillFiles" type="java.util.ArrayList"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="mSize" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="mMemSizeChanged" type="boolean"
+    <field name="HASH" type="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <field name="mMemSize" type="long"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="startBag" type="org.apache.pig.data.Tuple"
+    <field name="REPLICATED" type="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="endBag" type="org.apache.pig.data.Tuple"
+    <field name="SKEWED" type="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="MAX_SPILL_FILES" type="int"
+    <field name="MERGE" type="org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE"
       transient="false" volatile="false"
-      static="true" final="true" visibility="protected"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
     <doc>
-    <![CDATA[Default implementation of DataBag.  This is the an abstract class used as a
- parent for all three of the types of data bags.]]>
+    <![CDATA[Enum for the type of join]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.data.DefaultAbstractBag -->
-  <!-- start class org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple -->
-  <class name="DefaultAbstractBag.BagDelimiterTuple" extends="org.apache.pig.data.DefaultTuple"
-    abstract="true"
-    static="true" final="false" visibility="public"
+  <!-- end class org.apache.pig.experimental.logical.relational.LOJoin.JOINTYPE -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOLoad -->
+  <class name="LOLoad" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DefaultAbstractBag.BagDelimiterTuple"
+    <constructor name="LOLoad" type="org.apache.pig.impl.io.FileSpec, org.apache.pig.experimental.logical.relational.LogicalSchema, org.apache.pig.experimental.logical.relational.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param loader FuncSpec for load function to use for this load.
+ @param schema schema user specified in script, or null if not
+ specified.
+ @param plan logical plan this load is part of.]]>
+      </doc>
     </constructor>
-  </class>
-  <!-- end class org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple -->
-  <!-- start class org.apache.pig.data.DefaultAbstractBag.EndBag -->
-  <class name="DefaultAbstractBag.EndBag" extends="org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="DefaultAbstractBag.EndBag"
+    <method name="getLoadFunc" return="org.apache.pig.LoadFunc"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-  </class>
-  <!-- end class org.apache.pig.data.DefaultAbstractBag.EndBag -->
-  <!-- start class org.apache.pig.data.DefaultAbstractBag.StartBag -->
-  <class name="DefaultAbstractBag.StartBag" extends="org.apache.pig.data.DefaultAbstractBag.BagDelimiterTuple"
-    abstract="false"
-    static="true" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="DefaultAbstractBag.StartBag"
+    </method>
+    <method name="setScriptSchema"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-  </class>
-  <!-- end class org.apache.pig.data.DefaultAbstractBag.StartBag -->
-  <!-- start class org.apache.pig.data.DefaultBagFactory -->
-  <class name="DefaultBagFactory" extends="org.apache.pig.data.BagFactory"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+      <param name="schema" type="org.apache.pig.experimental.logical.relational.LogicalSchema"/>
+    </method>
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Get a default (unordered, not distinct) data bag.]]>
+      <![CDATA[Get the schema for this load.  The schema will be either be what was
+ given by the user in the script or what the load functions getSchema
+ call returned.  Otherwise null will be returned, indicating that the
+ schema is unknown.
+ @return schema, or null if unknown]]>
       </doc>
     </method>
-    <method name="newDefaultBag" return="org.apache.pig.data.DataBag"
+    <method name="getFileSpec" return="org.apache.pig.impl.io.FileSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="listOfTuples" type="java.util.List"/>
-      <doc>
-      <![CDATA[Get a default (unordered, not distinct) data bag from
- an existing list of tuples. Note that the bag does NOT
- copy the tuples but uses the provided list as its backing store.
- So it takes ownership of the list.]]>
-      </doc>
     </method>
-    <method name="newSortedBag" return="org.apache.pig.data.DataBag"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="comp" type="java.util.Comparator"/>
-      <doc>
-      <![CDATA[Get a sorted data bag.
- @param comp Comparator that controls how the data is sorted.
- If null, default comparator will be used.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="newDistinctBag" return="org.apache.pig.data.DataBag"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get a distinct data bag.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <doc>
-    <![CDATA[Default implementation of BagFactory.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DefaultBagFactory -->
-  <!-- start class org.apache.pig.data.DefaultDataBag -->
-  <class name="DefaultDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
+  <!-- end class org.apache.pig.experimental.logical.relational.LOLoad -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOSplit -->
+  <class name="LOSplit" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DefaultDataBag"
+    <constructor name="LOSplit" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="DefaultDataBag" type="java.util.List"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="accept"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOSplit -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOSplitOutput -->
+  <class name="LOSplitOutput" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOSplitOutput" type="org.apache.pig.experimental.logical.relational.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[This constructor creates a bag out of an existing list
- of tuples by taking ownership of the list and NOT
- copying the contents of the list.
- @param listOfTuples List<Tuple> containing the tuples]]>
-      </doc>
     </constructor>
-    <method name="isSorted" return="boolean"
+    <constructor name="LOSplitOutput" type="org.apache.pig.experimental.logical.relational.LogicalPlan, org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getFilterPlan" return="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="setFilterPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="filterPlan" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="spill" return="long"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="isEqual" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <doc>
-    <![CDATA[An unordered collection of Tuples (possibly) with multiples.  The tuples
- are stored in an ArrayList, since there is no concern for order or
- distinctness.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DefaultDataBag -->
-  <!-- start class org.apache.pig.data.DefaultTuple -->
-  <class name="DefaultTuple" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.logical.relational.LOSplitOutput -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOStore -->
+  <class name="LOStore" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.data.Tuple"/>
-    <constructor name="DefaultTuple"
+    <constructor name="LOStore" type="org.apache.pig.experimental.logical.relational.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Default constructor.  This constructor is public so that hadoop can call
- it directly.  However, inside pig you should never be calling this
- function.  Use TupleFactory instead.]]>
-      </doc>
     </constructor>
-    <method name="reference"
+    <constructor name="LOStore" type="org.apache.pig.experimental.logical.relational.LogicalPlan, org.apache.pig.impl.io.FileSpec"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getOutputSpec" return="org.apache.pig.impl.io.FileSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
-      <doc>
-      <![CDATA[Make this tuple reference the contents of another.  This method does not copy
- the underlying data.   It maintains references to the data from the original
- tuple (and possibly even to the data structure holding the data).
- @param t Tuple to reference.]]>
-      </doc>
     </method>
-    <method name="size" return="int"
+    <method name="getStoreFunc" return="org.apache.pig.StoreFuncInterface"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Find the size of the tuple.  Used to be called arity().
- @return number of fields in the tuple.]]>
-      </doc>
     </method>
-    <method name="isNull" return="boolean"
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Find out if a given field is null.
- @param fieldNum Number of field to check for null.
- @return true if the field is null, false otherwise.
- @throws ExecException if the field number given is greater
- than or equal to the number of fields in the tuple.]]>
-      </doc>
     </method>
-    <method name="getType" return="byte"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Find the type of a given field.
- @param fieldNum Number of field to get the type for.
- @return type, encoded as a byte value.  The values are taken from
- the class DataType.  If the field is null, then DataType.UNKNOWN
- will be returned.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="get" return="java.lang.Object"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Get the value in a given field.
- @param fieldNum Number of the field to get the value for.
- @return value, as an Object.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getAll" return="java.util.List"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOStore -->
+  <!-- start class org.apache.pig.experimental.logical.relational.LOUnion -->
+  <class name="LOUnion" extends="org.apache.pig.experimental.logical.relational.LogicalRelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOUnion" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getSchema" return="org.apache.pig.experimental.logical.relational.LogicalSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get all of the fields in the tuple as a list.
- @return List&lt;Object&gt; containing the fields of the tuple
- in order.]]>
-      </doc>
     </method>
-    <method name="set"
+    <method name="accept"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <param name="val" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Set the value in a given field.
- @param fieldNum Number of the field to set the value for.
- @param val Object to put in the indicated field.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
-      </doc>
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="append"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="val" type="java.lang.Object"/>
-      <doc>
-      <![CDATA[Append a field to a tuple.  This method is not efficient as it may
- force copying of existing data in order to grow the data structure.
- Whenever possible you should construct your Tuple with the
- newTuple(int) method and then fill in the values with set(), rather
- than construct it with newTuple() and append values.
- @param val Object to append to the tuple.]]>
-      </doc>
+      <param name="other" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getMemorySize" return="long"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.LOUnion -->
+  <!-- start class org.apache.pig.experimental.logical.relational.SchemaNotDefinedException -->
+  <class name="SchemaNotDefinedException" extends="java.lang.RuntimeException"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SchemaNotDefinedException" type="java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="SchemaNotDefinedException" type="java.lang.String, java.lang.Throwable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="SchemaNotDefinedException" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.relational.SchemaNotDefinedException -->
+</package>
+<package name="org.apache.pig.experimental.logical.rules">
+  <!-- start class org.apache.pig.experimental.logical.rules.AddForEach -->
+  <class name="AddForEach" extends="org.apache.pig.experimental.logical.rules.WholePlanRule"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AddForEach" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Determine the size of tuple in memory.  This is used by data bags
- to determine their memory size.  This need not be exact, but it
- should be a decent estimation.
- @return estimated memory size.]]>
-      </doc>
     </method>
-    <method name="toDelimitedString" return="java.lang.String"
+    <field name="REQUIREDCOLS" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.AddForEach -->
+  <!-- start class org.apache.pig.experimental.logical.rules.AddForEach.AddForEachTransformer -->
+  <class name="AddForEach.AddForEachTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="AddForEach.AddForEachTransformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="delim" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Write a tuple of atomic values into a string.  All values in the
- tuple must be atomic (no bags, tuples, or maps).
- @param delim Delimiter to use in the string.
- @return A string containing the tuple.
- @throws ExecException if a non-atomic value is found.]]>
-      </doc>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="compareTo" return="int"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="equals" return="boolean"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.AddForEach.AddForEachTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.ColumnMapKeyPrune -->
+  <class name="ColumnMapKeyPrune" extends="org.apache.pig.experimental.logical.rules.WholePlanRule"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnMapKeyPrune" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
     </method>
-    <method name="hashCode" return="int"
+    <doc>
+    <![CDATA[This Rule prunes columns and map keys and set to loader. This rule depends
+ on MapKeysPruneHelper to calculate what keys are required for a loader,
+ and ColumnPruneHelper to calculate the required columns for a loader. Then
+ it combines the map keys and columns info to set into the loader.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.ColumnMapKeyPrune -->
+  <!-- start class org.apache.pig.experimental.logical.rules.ColumnMapKeyPrune.ColumnMapKeyPruneTransformer -->
+  <class name="ColumnMapKeyPrune.ColumnMapKeyPruneTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnMapKeyPrune.ColumnMapKeyPruneTransformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="write"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="readFields"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isNull" return="boolean"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.ColumnMapKeyPrune.ColumnMapKeyPruneTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.ColumnPruneHelper -->
+  <class name="ColumnPruneHelper" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnPruneHelper" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[@return true if this Tuple is null]]>
-      </doc>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="setNull"
+    <method name="getColumns" return="java.util.Set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="schema" type="org.apache.pig.experimental.logical.relational.LogicalSchema"/>
+      <param name="uids" type="java.util.Set"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="isNull" type="boolean"/>
-      <doc>
-      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
-      </doc>
     </method>
-    <field name="isNull" type="boolean"
+    <field name="INPUTUIDS" type="java.lang.String"
       transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="mFields" type="java.util.List"
+    <field name="OUTPUTUIDS" type="java.lang.String"
       transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="REQUIREDCOLS" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <doc>
-    <![CDATA[A default implementation of Tuple.  This class will be created by the
- DefaultTupleFactory.]]>
+    <![CDATA[Helper class used by ColumnMapKeyPrune to figure out what columns can be pruned.
+ It doesn't make any changes to the operator plan]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.data.DefaultTuple -->
-  <!-- start class org.apache.pig.data.DefaultTupleFactory -->
-  <class name="DefaultTupleFactory" extends="org.apache.pig.data.TupleFactory"
+  <!-- end class org.apache.pig.experimental.logical.rules.ColumnPruneHelper -->
+  <!-- start class org.apache.pig.experimental.logical.rules.FilterAboveForeach -->
+  <class name="FilterAboveForeach" extends="org.apache.pig.experimental.plan.optimizer.Rule"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="FilterAboveForeach" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    </constructor>
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="size" type="int"/>
     </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="c" type="java.util.List"/>
     </method>
-    <method name="newTupleNoCopy" return="org.apache.pig.data.Tuple"
+    <doc>
+    <![CDATA[This Rule moves Filter Above Foreach.
+ It checks if uid on which filter works on
+ is present in the predecessor of foreach.
+ If so it transforms it.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.FilterAboveForeach -->
+  <!-- start class org.apache.pig.experimental.logical.rules.FilterAboveForeach.FilterAboveForEachTransformer -->
+  <class name="FilterAboveForeach.FilterAboveForEachTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="FilterAboveForeach.FilterAboveForEachTransformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="list" type="java.util.List"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="datum" type="java.lang.Object"/>
     </method>
-    <method name="tupleClass" return="java.lang.Class"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <doc>
-    <![CDATA[Default implementation of TupleFactory.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.DefaultTupleFactory -->
-  <!-- start class org.apache.pig.data.DistinctDataBag -->
-  <class name="DistinctDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
+  <!-- end class org.apache.pig.experimental.logical.rules.FilterAboveForeach.FilterAboveForEachTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.MapKeysPruneHelper -->
+  <class name="MapKeysPruneHelper" extends="java.lang.Object"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DistinctDataBag"
+    <constructor name="MapKeysPruneHelper" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="isSorted" return="boolean"
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="size" return="long"
+    <field name="REQUIRED_MAPKEYS" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[This filter Marks every Load Operator which has a Map 
+ with MAP_MARKER_ANNOTATION. The annotation value is 
+ <code>Map<Integer,Set<String>><code> where Integer is the column number 
+ of the field and Set is the set of Keys in this field ( field is a map field only ).
+ 
+ It does this for only the top level schema in load. 
+ 
+ Algorithm:
+  Traverse the Plan in ReverseDependency order ( ie. Sink to Source )
+      For LogicalRelationalOperators having MapLookupExpression in their 
+          expressionPlan collect uid and keys related to it. This is
+          retained in the visitor
+      For ForEach having nested LogicalPlan use the same visitor hence
+          there is no distinction required
+      At Sources find all the uids provided by this source and annotate this 
+      LogicalRelationalOperator ( load ) with <code>Map<Integer,Set<String>></code>
+      containing only the column numbers that this LogicalRelationalOperator generates
+      
+ NOTE: This is a simple Map Pruner. If a map key is mentioned in the script
+      then this pruner assumes you need the key. This pruner is not as optimized
+      as column pruner ( which removes a column if it is mentioned but never used )]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.MapKeysPruneHelper -->
+  <!-- start class org.apache.pig.experimental.logical.rules.MapKeysPruneHelper.MapMarker -->
+  <class name="MapKeysPruneHelper.MapMarker" extends="org.apache.pig.experimental.logical.optimizer.AllExpressionVisitor"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="MapKeysPruneHelper.MapMarker" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visitLOLoad"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.experimental.logical.relational.LOLoad"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="visitLOFilter"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.experimental.logical.relational.LOFilter"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="add"
+    <method name="visitLOJoin"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="join" type="org.apache.pig.experimental.logical.relational.LOJoin"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="addAll"
+    <method name="visitLOGenerate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <param name="gen" type="org.apache.pig.experimental.logical.relational.LOGenerate"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="spill" return="long"
+    <method name="getVisitor" return="org.apache.pig.experimental.logical.expression.LogicalExpressionVisitor"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="expr" type="org.apache.pig.experimental.logical.expression.LogicalExpressionPlan"/>
     </method>
     <doc>
-    <![CDATA[An unordered collection of Tuples with no multiples.  Data is
- stored without duplicates as it comes in.  When it is time to spill,
- that data is sorted and written to disk.  It must also be sorted upon
- the first read, otherwise if a spill happened after that the iterators
- would have no way to find their place in the new file.  The data is
- stored in a HashSet.  When it is time to sort it is placed in an
- ArrayList and then sorted.  Dispite all these machinations, this was
- found to be faster than storing it in a TreeSet.]]>
+    <![CDATA[This class collects all the information required to create
+ the list of keys required for a map]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.data.DistinctDataBag -->
-  <!-- start class org.apache.pig.data.NonSpillableDataBag -->
-  <class name="NonSpillableDataBag" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.logical.rules.MapKeysPruneHelper.MapMarker -->
+  <!-- start class org.apache.pig.experimental.logical.rules.MergeFilter -->
+  <class name="MergeFilter" extends="org.apache.pig.experimental.plan.optimizer.Rule"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.data.DataBag"/>
-    <constructor name="NonSpillableDataBag"
+    <constructor name="MergeFilter" type="java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <constructor name="NonSpillableDataBag" type="java.util.List"
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.MergeFilter -->
+  <!-- start class org.apache.pig.experimental.logical.rules.MergeFilter.MergeFilterTransformer -->
+  <class name="MergeFilter.MergeFilterTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="MergeFilter.MergeFilterTransformer"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[This constructor creates a bag out of an existing list
- of tuples by taking ownership of the list and NOT
- copying the contents of the list.
- @param listOfTuples List<Tuple> containing the tuples]]>
-      </doc>
     </constructor>
-    <method name="isSorted" return="boolean"
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="reportProgress"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.MergeFilter.MergeFilterTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.PushUpFilter -->
+  <class name="PushUpFilter" extends="org.apache.pig.experimental.plan.optimizer.Rule"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PushUpFilter" type="java.lang.String"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Report progress to HDFS.]]>
-      </doc>
-    </method>
-    <method name="add"
+    </constructor>
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
     </method>
-    <method name="addAll"
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
     </method>
-    <method name="clear"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.PushUpFilter -->
+  <!-- start class org.apache.pig.experimental.logical.rules.PushUpFilter.PushUpFilterTransformer -->
+  <class name="PushUpFilter.PushUpFilterTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PushUpFilter.PushUpFilterTransformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="markStale"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stale" type="boolean"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="size" return="long"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getMemorySize" return="long"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.PushUpFilter.PushUpFilterTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.SplitFilter -->
+  <class name="SplitFilter" extends="org.apache.pig.experimental.plan.optimizer.Rule"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SplitFilter" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="spill" return="long"
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </method>
-    <method name="write"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.SplitFilter -->
+  <!-- start class org.apache.pig.experimental.logical.rules.SplitFilter.SplitFilterTransformer -->
+  <class name="SplitFilter.SplitFilterTransformer" extends="org.apache.pig.experimental.plan.optimizer.Transformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SplitFilter.SplitFilterTransformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Write a bag's contents to disk.
- @param out DataOutput to write data to.
- @throws IOException (passes it on from underlying calls).]]>
-      </doc>
     </method>
-    <method name="readFields"
+    <method name="transform"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <exception name="IOException" type="java.io.IOException"/>
-      <doc>
-      <![CDATA[Read a bag from disk.
- @param in DataInput to read data from.
- @throws IOException (passes it on from underlying calls).]]>
-      </doc>
     </method>
-    <method name="equals" return="boolean"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="obj" type="java.lang.Object"/>
     </method>
-    <method name="compareTo" return="int"
+  </class>
+  <!-- end class org.apache.pig.experimental.logical.rules.SplitFilter.SplitFilterTransformer -->
+  <!-- start class org.apache.pig.experimental.logical.rules.WholePlanRule -->
+  <class name="WholePlanRule" extends="org.apache.pig.experimental.plan.optimizer.Rule"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="WholePlanRule" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="match" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="toString" return="java.lang.String"
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Write the bag into a string.]]>
-      </doc>
     </method>
     <doc>
-    <![CDATA[An unordered collection of Tuples (possibly) with multiples.  The tuples
- are stored in an ArrayList, since there is no concern for order or
- distinctness. The implicit assumption is that the user of this class
- is storing only those many tuples as will fit in memory - no spilling
- will be done on this bag to disk.]]>
+    <![CDATA[Super class for all rules that operates on the whole plan. It doesn't look for
+ a specific pattern. An example of such kind rule is ColumnPrune.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.data.NonSpillableDataBag -->
-  <!-- start class org.apache.pig.data.ReadOnceBag -->
-  <class name="ReadOnceBag" extends="java.lang.Object"
-    abstract="false"
+  <!-- end class org.apache.pig.experimental.logical.rules.WholePlanRule -->
+</package>
+<package name="org.apache.pig.experimental.plan">
+  <!-- start class org.apache.pig.experimental.plan.BaseOperatorPlan -->
+  <class name="BaseOperatorPlan" extends="java.lang.Object"
+    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.data.DataBag"/>
-    <constructor name="ReadOnceBag" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POPackageLite, java.util.Iterator, java.lang.Object"
+    <implements name="org.apache.pig.experimental.plan.OperatorPlan"/>
+    <constructor name="BaseOperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[This constructor creates a bag out of an existing iterator
- of tuples by taking ownership of the iterator and NOT
- copying the elements of the iterator.
- @param pkg POPackageLite
- @param tupIter Iterator<NullableTuple>
- @param key Object]]>
-      </doc>
     </constructor>
-    <method name="getMemorySize" return="long"
+    <method name="size" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get number of nodes in the plan.]]>
+      </doc>
     </method>
-    <method name="spill" return="long"
+    <method name="getSources" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get all operators in the plan that have no predecessors.
+ @return all operators in the plan that have no predecessors, or
+ an empty list if the plan is empty.]]>
+      </doc>
     </method>
-    <method name="add"
+    <method name="getSinks" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Get all operators in the plan that have no successors.
+ @return all operators in the plan that have no successors, or
+ an empty list if the plan is empty.]]>
+      </doc>
     </method>
-    <method name="addAll"
+    <method name="getPredecessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[For a given operator, get all operators immediately before it in the
+ plan.
+ @param op operator to fetch predecessors of
+ @return list of all operators imeediately before op, or an empty list
+ if op is a root.
+ @throws IOException if op is not in the plan.]]>
+      </doc>
     </method>
-    <method name="clear"
+    <method name="getSuccessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[For a given operator, get all operators immediately after it.
+ @param op operator to fetch successors of
+ @return list of all operators imeediately after op, or an empty list
+ if op is a leaf.
+ @throws IOException if op is not in the plan.]]>
+      </doc>
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="add"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <doc>
+      <![CDATA[Add a new operator to the plan.  It will not be connected to any
+ existing operators.
+ @param op operator to add]]>
+      </doc>
     </method>
-    <method name="isSorted" return="boolean"
+    <method name="remove"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Remove an operator from the plan.
+ @param op Operator to be removed
+ @throws IOException if the remove operation attempts to 
+ remove an operator that is still connected to other operators.]]>
+      </doc>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="fromPos" type="int"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="toPos" type="int"/>
+      <doc>
+      <![CDATA[Connect two operators in the plan, controlling which position in the
+ edge lists that the from and to edges are placed.
+ @param from Operator edge will come from
+ @param fromPos Position in the array for the from edge
+ @param to Operator edge will go to
+ @param toPos Position in the array for the to edge]]>
+      </doc>
     </method>
-    <method name="markStale"
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stale" type="boolean"/>
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <doc>
+      <![CDATA[Connect two operators in the plan.
+ @param from Operator edge will come from
+ @param to Operator edge will go to]]>
+      </doc>
     </method>
-    <method name="size" return="long"
+    <method name="disconnect" return="org.apache.pig.impl.util.Pair"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Disconnect two operators in the plan.
+ @param from Operator edge is coming from
+ @param to Operator edge is going to
+ @return pair of positions, indicating the position in the from and
+ to arrays.
+ @throws IOException if the two operators aren't connected.]]>
+      </doc>
     </method>
-    <method name="readFields"
+    <method name="getOperators" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="write"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="other" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="compareTo" return="int"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="true" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
+      <param name="p1" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <param name="p2" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="equals" return="boolean"
+    <method name="explain"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="other" type="java.lang.Object"/>
+      <param name="ps" type="java.io.PrintStream"/>
+      <param name="format" type="java.lang.String"/>
+      <param name="verbose" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="hashCode" return="int"
+    <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <field name="mTupleFactory" type="org.apache.pig.data.TupleFactory"
+    <field name="ops" type="java.util.Set"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="fromEdges" type="org.apache.pig.experimental.plan.PlanEdge"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="toEdges" type="org.apache.pig.experimental.plan.PlanEdge"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="log" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <doc>
-    <![CDATA[This bag is specifically created for use by POPackageLite. So it has three 
- properties, the NullableTuple iterator, the key (Object) and the keyInfo 
- (Map<Integer, Pair<Boolean, Map<Integer, Integer>>>) all three 
- of which are required in the constructor call. This bag does not store 
- the tuples in memory, but has access to an iterator typically provided by 
- Hadoop. Use this when you already have an iterator over tuples and do not 
- want to copy over again to a new bag.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.ReadOnceBag -->
-  <!-- start class org.apache.pig.data.SingleTupleBag -->
-  <class name="SingleTupleBag" extends="java.lang.Object"
+  <!-- end class org.apache.pig.experimental.plan.BaseOperatorPlan -->
+  <!-- start class org.apache.pig.experimental.plan.DependencyOrderWalker -->
+  <class name="DependencyOrderWalker" extends="org.apache.pig.experimental.plan.PlanWalker"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.pig.data.DataBag"/>
-    <constructor name="SingleTupleBag" type="org.apache.pig.data.Tuple"
+    <constructor name="DependencyOrderWalker" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan for this walker to traverse.]]>
+      </doc>
     </constructor>
-    <method name="add"
+    <method name="spawnChildWalker" return="org.apache.pig.experimental.plan.PlanWalker"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="addAll"
+    <method name="walk"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="b" type="org.apache.pig.data.DataBag"/>
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Begin traversing the graph.
+ @param visitor Visitor this walker is being used by.
+ @throws VisitorException if an error is encountered while walking.]]>
+      </doc>
     </method>
-    <method name="clear"
+    <method name="doAllPredecessors"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="node" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="seen" type="java.util.Set"/>
+      <param name="fifo" type="java.util.Collection"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="isDistinct" return="boolean"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[A walker to walk graphs in dependency order.  It is guaranteed that a node
+ will not be visited until all of its predecessors have been visited.  This
+ is equivalent to doing a topilogical sort on the graph and then visiting
+ the nodes in order.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.DependencyOrderWalker -->
+  <!-- start class org.apache.pig.experimental.plan.DepthFirstWalker -->
+  <class name="DepthFirstWalker" extends="org.apache.pig.experimental.plan.PlanWalker"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DepthFirstWalker" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </method>
-    <method name="isSorted" return="boolean"
+    </constructor>
+    <method name="spawnChildWalker" return="org.apache.pig.experimental.plan.PlanWalker"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="walk"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Begin traversing the graph.
+ @param visitor Visitor this walker is being used by.
+ @throws IOException if an error is encountered while walking.]]>
+      </doc>
     </method>
-    <method name="markStale"
-      abstract="false" native="false" synchronized="false"
+    <doc>
+    <![CDATA[Do a depth first traversal of the graph.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.DepthFirstWalker -->
+  <!-- start class org.apache.pig.experimental.plan.Operator -->
+  <class name="Operator" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Operator" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="stale" type="boolean"/>
-    </method>
-    <method name="size" return="long"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <method name="accept"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Accept a visitor at this node in the graph.
+ @param v Visitor to accept.
+ @throws IOException]]>
+      </doc>
     </method>
-    <method name="getMemorySize" return="long"
+    <method name="getName" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="spill" return="long"
+    <method name="getPlan" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the plan associated with this operator.
+ @return plan]]>
+      </doc>
     </method>
-    <method name="readFields"
+    <method name="annotate"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="key" type="java.lang.String"/>
+      <param name="val" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[Add an annotation to a node in the plan.
+ @param key string name of this annotation
+ @param val value, as an Object]]>
+      </doc>
     </method>
-    <method name="write"
+    <method name="getAnnotation" return="java.lang.Object"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="key" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Look to see if a node is annotated.
+ @param key string name of annotation to look for
+ @return value of the annotation, as an Object, or null if the key is
+ not present in the map.]]>
+      </doc>
     </method>
-    <method name="compareTo" return="int"
+    <method name="removeAnnotation" return="java.lang.Object"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
+      <param name="key" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Remove an annotation
+ @param key the key of the annotation
+ @return the original value of the annotation]]>
+      </doc>
     </method>
-    <method name="toString" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
+    <method name="isEqual" return="boolean"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="operator" type="org.apache.pig.experimental.plan.Operator"/>
       <doc>
-      <![CDATA[Write the bag into a string.]]>
+      <![CDATA[This is like a shallow equals comparison.
+ It returns true if two operators have equivalent properties even if they are 
+ different objects. Here properties mean equivalent plan and equivalent name.
+ @param operator
+ @return true if two object have equivalent properties, else false]]>
       </doc>
     </method>
-    <doc>
-    <![CDATA[A simple performant implementation of the DataBag
- interface which only holds a single tuple. This will
- be used from POPreCombinerLocalRearrange and wherever else
- a single Tuple non-serializable DataBag is required.]]>
-    </doc>
+    <field name="name" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="annotations" type="java.util.Map"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="hashPrime" type="int"
+      transient="false" volatile="false"
+      static="false" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
   </class>
-  <!-- end class org.apache.pig.data.SingleTupleBag -->
-  <!-- start class org.apache.pig.data.SortedDataBag -->
-  <class name="SortedDataBag" extends="org.apache.pig.data.DefaultAbstractBag"
-    abstract="false"
+  <!-- end class org.apache.pig.experimental.plan.Operator -->
+  <!-- start interface org.apache.pig.experimental.plan.OperatorPlan -->
+  <interface name="OperatorPlan"    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="SortedDataBag" type="java.util.Comparator"
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[@param comp Comparator to use to do the sorting.  If null,
- DefaultComparator will be used.]]>
+      <![CDATA[Get number of nodes in the plan.]]>
       </doc>
-    </constructor>
-    <method name="isSorted" return="boolean"
+    </method>
+    <method name="getSources" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get all operators in the plan that have no predecessors.
+ @return all operators in the plan that have no predecessors, or
+ an empty list if the plan is empty.]]>
+      </doc>
     </method>
-    <method name="isDistinct" return="boolean"
+    <method name="getSinks" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get all operators in the plan that have no successors.
+ @return all operators in the plan that have no successors, or
+ an empty list if the plan is empty.]]>
+      </doc>
     </method>
-    <method name="iterator" return="java.util.Iterator"
+    <method name="getPredecessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[For a given operator, get all operators immediately before it in the
+ plan.
+ @param op operator to fetch predecessors of
+ @return list of all operators immediately before op, or an empty list
+ if op is a root.
+ @throws IOException if op is not in the plan.]]>
+      </doc>
     </method>
-    <method name="spill" return="long"
+    <method name="getSuccessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[For a given operator, get all operators immediately after it.
+ @param op operator to fetch successors of
+ @return list of all operators immediately after op, or an empty list
+ if op is a leaf.
+ @throws IOException if op is not in the plan.]]>
+      </doc>
     </method>
-    <doc>
-    <![CDATA[An ordered collection of Tuples (possibly) with multiples.  Data is
- stored unsorted as it comes in, and only sorted when it is time to dump
- it to a file or when the first iterator is requested.  Experementation
- found this to be the faster than storing it sorted to begin with.
- 
- We allow a user defined comparator, but provide a default comparator in
- cases where the user doesn't specify one.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.data.SortedDataBag -->
-  <!-- start class org.apache.pig.data.TargetedTuple -->
-  <class name="TargetedTuple" extends="java.lang.Object"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <implements name="org.apache.pig.data.Tuple"/>
-    <constructor name="TargetedTuple"
+    <method name="add"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <constructor name="TargetedTuple" type="org.apache.pig.data.Tuple, java.util.List"
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <doc>
+      <![CDATA[Add a new operator to the plan.  It will not be connected to any
+ existing operators.
+ @param op operator to add]]>
+      </doc>
+    </method>
+    <method name="remove"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="toString" return="java.lang.String"
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Remove an operator from the plan.
+ @param op Operator to be removed
+ @throws IOException if the remove operation attempts to 
+ remove an operator that is still connected to other operators.]]>
+      </doc>
+    </method>
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="fromPos" type="int"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="toPos" type="int"/>
+      <doc>
+      <![CDATA[Connect two operators in the plan, controlling which position in the
+ edge lists that the from and to edges are placed.
+ @param from Operator edge will come from
+ @param fromPos Position in the array for the from edge
+ @param to Operator edge will go to
+ @param toPos Position in the array for the to edge]]>
+      </doc>
     </method>
-    <method name="write"
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="out" type="java.io.DataOutput"/>
-      <exception name="IOException" type="java.io.IOException"/>
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <doc>
+      <![CDATA[Connect two operators in the plan.
+ @param from Operator edge will come from
+ @param to Operator edge will go to]]>
+      </doc>
     </method>
-    <method name="readFields"
+    <method name="disconnect" return="org.apache.pig.impl.util.Pair"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="in" type="java.io.DataInput"/>
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Disconnect two operators in the plan.
+ @param from Operator edge is coming from
+ @param to Operator edge is going to
+ @return pair of positions, indicating the position in the from and
+ to arrays.
+ @throws IOException if the two operators aren't connected.]]>
+      </doc>
     </method>
-    <method name="toTuple" return="org.apache.pig.data.Tuple"
+    <method name="getOperators" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get an iterator of all operators in this plan
+ @return an iterator of all operators in this plan]]>
+      </doc>
     </method>
-    <method name="getTargetOps" return="java.util.List"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <doc>
+      <![CDATA[This is like a shallow comparison.
+ Two plans are equal if they have equivalent operators and equivalent 
+ structure.
+ @param other  object to compare
+ @return boolean if both the plans are equivalent]]>
+      </doc>
     </method>
-    <method name="setTargetOps"
+  </interface>
+  <!-- end interface org.apache.pig.experimental.plan.OperatorPlan -->
+  <!-- start class org.apache.pig.experimental.plan.OperatorSubPlan -->
+  <class name="OperatorSubPlan" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.experimental.plan.OperatorPlan"/>
+    <constructor name="OperatorSubPlan" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getBasePlan" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="targetOps" type="java.util.List"/>
     </method>
-    <method name="append"
+    <method name="add"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="val" type="java.lang.Object"/>
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="get" return="java.lang.Object"
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="fromPos" type="int"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="toPos" type="int"/>
     </method>
-    <method name="getAll" return="java.util.List"
+    <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
     </method>
-    <method name="getMemorySize" return="long"
+    <method name="disconnect" return="org.apache.pig.impl.util.Pair"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="to" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getType" return="byte"
+    <method name="getSinks" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="isNull" return="boolean"
+    <method name="getOperators" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="reference"
+    <method name="getPredecessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="set"
+    <method name="getSources" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <param name="val" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="size" return="int"
+    <method name="getSuccessors" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toDelimitedString" return="java.lang.String"
+    <method name="remove"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="delim" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="op" type="org.apache.pig.experimental.plan.Operator"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="compareTo" return="int"
+    <method name="size" return="int"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="o" type="java.lang.Object"/>
     </method>
-    <method name="isNull" return="boolean"
+    <method name="isEqual" return="boolean"
       abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+    </method>
+    <doc>
+    <![CDATA[Class to represent a view of a plan. The view contains a subset of the plan.
+ All the operators returned from the view are the same objects to the operators
+ in its base plan. It is used to represent match results.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.OperatorSubPlan -->
+  <!-- start class org.apache.pig.experimental.plan.PlanEdge -->
+  <class name="PlanEdge" extends="org.apache.pig.impl.util.MultiMap"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PlanEdge"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="PlanEdge" type="int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[@return true if this Tuple is null]]>
+      <![CDATA[@param size Initial size of the map]]>
       </doc>
-    </method>
-    <method name="setNull"
+    </constructor>
+    <method name="put"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="isNull" type="boolean"/>
+      <param name="key" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="value" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="pos" type="int"/>
       <doc>
-      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
+      <![CDATA[Add an element to the map.
+ @param key The key to store the value under.  If the key already
+ exists the value will be added to the collection for that key, it
+ will not replace the existing value (as in a standard map).
+ @param value value to store.
+ @param pos position in the arraylist to store the new value at.
+ Positions are zero based.]]>
       </doc>
     </method>
-    <field name="targetOps" type="java.util.List"
-      transient="false" volatile="false"
+    <method name="removeWithPosition" return="org.apache.pig.impl.util.Pair"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
-    <field name="isNull" type="boolean"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-    </field>
-    <doc>
-    <![CDATA[A tuple composed with the operators to which
- it needs be attached]]>
-    </doc>
+      <param name="key" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="value" type="org.apache.pig.experimental.plan.Operator"/>
+      <doc>
+      <![CDATA[Remove one value from an existing key and return which position in
+ the arraylist the value was at..  If that is the last value
+ for the key, then remove the key too.
+ @param key Key to remove the value from.
+ @param value Value to remove.
+ @return A pair containing the value being removed and an integer
+ indicating the position, or null if the key or value does
+ not exist.  Positions are zero based.]]>
+      </doc>
+    </method>
   </class>
-  <!-- end class org.apache.pig.data.TargetedTuple -->
-  <!-- start class org.apache.pig.data.TimestampedTuple -->
-  <class name="TimestampedTuple" extends="org.apache.pig.data.DefaultTuple"
-    abstract="false"
+  <!-- end class org.apache.pig.experimental.plan.PlanEdge -->
+  <!-- start class org.apache.pig.experimental.plan.PlanVisitor -->
+  <class name="PlanVisitor" extends="java.lang.Object"
+    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="TimestampedTuple" type="int"
-      static="false" final="false" visibility="public"
+    <constructor name="PlanVisitor" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.PlanWalker"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan OperatorPlan this visitor will visit.
+ @param walker PlanWalker this visitor will use to traverse the plan.]]>
+      </doc>
     </constructor>
-    <constructor name="TimestampedTuple" type="java.lang.String, java.lang.String, int, java.text.SimpleDateFormat"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="getTimeStamp" return="double"
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Entry point for visiting the plan.
+ @throws VisitorException if an error is encountered while visiting.]]>
+      </doc>
+    </method>
+    <method name="getPlan" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="setTimeStamp"
+    <method name="pushWalker"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="t" type="double"/>
+      <param name="walker" type="org.apache.pig.experimental.plan.PlanWalker"/>
+      <doc>
+      <![CDATA[Push the current walker onto the stack of saved walkers and begin using
+ the newly passed walker as the current walker.
+ @param walker new walker to set as the current walker.]]>
+      </doc>
     </method>
-    <method name="isHeartBeat" return="boolean"
+    <method name="popWalker"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Pop the next to previous walker off of the stack and set it as the current
+ walker.  This will drop the reference to the current walker.
+ @throws VisitorException if there are no more walkers on the stack.  In
+ this case the current walker is not reset.]]>
+      </doc>
     </method>
-    <method name="setHeartBeat"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+    <field name="DEFAULT_SCOPE" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
-      <param name="h" type="boolean"/>
-    </method>
-    <field name="timestamp" type="double"
+    </field>
+    <field name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
-    <field name="heartbeat" type="boolean"
+    <field name="currentWalker" type="org.apache.pig.experimental.plan.PlanWalker"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Guaranteed to always point to the walker currently being used.]]>
+      </doc>
     </field>
+    <doc>
+    <![CDATA[A visitor mechanism for navigating and operating on a plan of 
+ Operators.  This class contains the logic to traverse the plan.  It does
+ not visit individual nodes.  That is left to implementing classes
+ (such as LOVisitor).]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.data.TimestampedTuple -->
-  <!-- start interface org.apache.pig.data.Tuple -->
-  <interface name="Tuple"    abstract="true"
+  <!-- end class org.apache.pig.experimental.plan.PlanVisitor -->
+  <!-- start class org.apache.pig.experimental.plan.PlanWalker -->
+  <class name="PlanWalker" extends="java.lang.Object"
+    abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <implements name="org.apache.hadoop.io.WritableComparable"/>
-    <implements name="java.io.Serializable"/>
-    <method name="reference"
-      abstract="false" native="false" synchronized="false"
+    <constructor name="PlanWalker" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="t" type="org.apache.pig.data.Tuple"/>
       <doc>
-      <![CDATA[Make this tuple reference the contents of another.  This method does not copy
- the underlying data.   It maintains references to the data from the original
- tuple (and possibly even to the data structure holding the data).
- @param t Tuple to reference.]]>
+      <![CDATA[@param plan Plan for this walker to traverse.]]>
       </doc>
-    </method>
-    <method name="size" return="int"
-      abstract="false" native="false" synchronized="false"
+    </constructor>
+    <method name="walk"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Find the size of the tuple.  Used to be called arity().
- @return number of fields in the tuple.]]>
+      <![CDATA[Begin traversing the graph.
+ @param visitor Visitor this walker is being used by.  This can't be set in
+ the constructor because the visitor is constructing this class, and does
+ not yet have a 'this' pointer to send as an argument.
+ @throws VisitorException if an error is encountered while walking.]]>
       </doc>
     </method>
-    <method name="isNull" return="boolean"
-      abstract="false" native="false" synchronized="false"
+    <method name="spawnChildWalker" return="org.apache.pig.experimental.plan.PlanWalker"
+      abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <doc>
-      <![CDATA[Find out if a given field is null.
- @param fieldNum Number of field to check for null.
- @return true if the field is null, false otherwise.
- @throws ExecException if the field number given is greater
- than or equal to the number of fields in the tuple.]]>
+      <![CDATA[Return a new instance of this same type of walker for a subplan.
+ When this method is called the same type of walker with the
+ provided plan set as the plan, must be returned.  This can then be
+ used to walk subplans.  This allows abstract visitors to clone
+ walkers without knowning the type of walker their subclasses used.
+ @param plan Plan for the new walker.
+ @return Instance of the same type of walker with plan set to plan.]]>
       </doc>
     </method>
-    <method name="getType" return="byte"
+    <method name="getPlan" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Find the type of a given field.
- @param fieldNum Number of field to get the type for.
- @return type, encoded as a byte value.  The values are taken from
- the class DataType.  If the field is null, then DataType.UNKNOWN
- will be returned.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
-      </doc>
     </method>
-    <method name="get" return="java.lang.Object"
+    <method name="setPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <doc>
-      <![CDATA[Get the value in a given field.
- @param fieldNum Number of the field to get the value for.
- @return value, as an Object.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
+      <![CDATA[Set the plan for this walker to operate on.
+ @param plan to walk]]>
       </doc>
     </method>
-    <method name="getAll" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
+    <field name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.PlanWalker -->
+  <!-- start class org.apache.pig.experimental.plan.ReverseDependencyOrderWalker -->
+  <class name="ReverseDependencyOrderWalker" extends="org.apache.pig.experimental.plan.PlanWalker"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ReverseDependencyOrderWalker" type="org.apache.pig.experimental.plan.OperatorPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get all of the fields in the tuple as a list.
- @return List&lt;Object&gt; containing the fields of the tuple
- in order.]]>
-      </doc>
-    </method>
-    <method name="set"
+    </constructor>
+    <method name="spawnChildWalker" return="org.apache.pig.experimental.plan.PlanWalker"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fieldNum" type="int"/>
-      <param name="val" type="java.lang.Object"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
-      <doc>
-      <![CDATA[Set the value in a given field.
- @param fieldNum Number of the field to set the value for.
- @param val Object to put in the indicated field.
- @throws ExecException if the field number is greater than or equal to
- the number of fields in the tuple.]]>
-      </doc>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
     </method>
-    <method name="append"
+    <method name="walk"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="val" type="java.lang.Object"/>
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Append a field to a tuple.  This method is not efficient as it may
- force copying of existing data in order to grow the data structure.
- Whenever possible you should construct your Tuple with the
- newTuple(int) method and then fill in the values with set(), rather
- than construct it with newTuple() and append values.
- @param val Object to append to the tuple.]]>
+      <![CDATA[Begin traversing the graph.
+ @param visitor Visitor this walker is being used by.
+ @throws VisitorException if an error is encountered while walking.]]>
       </doc>
     </method>
-    <method name="getMemorySize" return="long"
+    <method name="doAllSuccessors"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Determine the size of tuple in memory.  This is used by data bags
- to determine their memory size.  This need not be exact, but it
- should be a decent estimation.
- @return estimated memory size.]]>
-      </doc>
+      <param name="node" type="org.apache.pig.experimental.plan.Operator"/>
+      <param name="seen" type="java.util.Set"/>
+      <param name="fifo" type="java.util.Collection"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="toDelimitedString" return="java.lang.String"
+    <doc>
+    <![CDATA[Visit a plan in the reverse of the dependency order.  That is, every node
+ after every node that depends on it is visited.  Thus this is equivalent to
+ doing a reverse topilogical sort on the graph and then visiting it in order.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.ReverseDependencyOrderWalker -->
+  <!-- start class org.apache.pig.experimental.plan.SubtreeDependencyOrderWalker -->
+  <class name="SubtreeDependencyOrderWalker" extends="org.apache.pig.experimental.plan.DependencyOrderWalker"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SubtreeDependencyOrderWalker" type="org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="SubtreeDependencyOrderWalker" type="org.apache.pig.experimental.plan.OperatorPlan, org.apache.pig.experimental.plan.Operator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="walk"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="delim" type="java.lang.String"/>
-      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <param name="visitor" type="org.apache.pig.experimental.plan.PlanVisitor"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.SubtreeDependencyOrderWalker -->
+</package>
+<package name="org.apache.pig.experimental.plan.optimizer">
+  <!-- start class org.apache.pig.experimental.plan.optimizer.PlanOptimizer -->
+  <class name="PlanOptimizer" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PlanOptimizer" type="org.apache.pig.experimental.plan.OperatorPlan, java.util.List, int"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
       <doc>
-      <![CDATA[Write a tuple of atomic values into a string.  All values in the
- tuple must be atomic (no bags, tuples, or maps).
- @param delim Delimiter to use in the string.
- @return A string containing the tuple.
- @throws ExecException if a non-atomic value is found.]]>
+      <![CDATA[@param p Plan to optimize
+ @param rs List of RuleSets to use to optimize
+ @param iterations maximum number of optimization iterations,
+ set to -1 for default]]>
       </doc>
-    </method>
-    <method name="isNull" return="boolean"
+    </constructor>
+    <method name="addPlanTransformListener"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
+      <param name="listener" type="org.apache.pig.experimental.plan.optimizer.PlanTransformListener"/>
       <doc>
-      <![CDATA[@return true if this Tuple is null]]>
+      <![CDATA[Adds a listener to the optimization.  This listener will be fired 
+ after each rule transforms a plan.  Listeners are guaranteed to
+ be fired in the order they are added.
+ @param listener]]>
       </doc>
     </method>
-    <method name="setNull"
+    <method name="optimize"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="isNull" type="boolean"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[@param isNull boolean indicating whether this tuple is null]]>
+      <![CDATA[Run the optimizer.  This method attempts to match each of the Rules
+ against the plan.  If a Rule matches, it then calls the check
+ method of the associated Transformer to give the it a chance to
+ check whether it really wants to do the optimization.  If that
+ returns true as well, then Transformer.transform is called. 
+ @throws OptimizerException]]>
       </doc>
     </method>
-    <field name="NULL" type="byte"
+    <field name="ruleSets" type="java.util.List"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Marker for indicating whether the value this object holds
- is a null]]>
-      </doc>
     </field>
-    <field name="NOTNULL" type="byte"
+    <field name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"
       transient="false" volatile="false"
-      static="true" final="true" visibility="public"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="listeners" type="java.util.List"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="maxIter" type="int"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[The core class of the optimizer.  The basic design of this class is that it
+ is provided a list of RuleSets.  RuleSets represent all of the optimizer
+ rules that can be run together.  The rules in the RuleSet will be run
+ repeatedly until either no rule in the RuleSet passes check and calls
+ transform or until maxIter iterations (default 500) has been made over
+ the RuleSet.  Then the next RuleSet will be moved to.  Once finished,
+ a given RuleSet is never returned to.
+ 
+ Each rule is has two parts:  a pattern and and associated transformer.
+ Transformers have two important functions:   check(), and transform().
+ The pattern describes a pattern of node types that the optimizer will
+ look to match.  If that match is found anywhere in the plan, then check()
+ will be called.  check() allows the rule to look more in depth at the 
+ matched pattern and decide whether the rule should be run or not.  For
+ example, one might design a rule to push filters above join that would
+ look for the pattern filter(join) (meaning a filter followed by a join).
+ But only certain types of filters can be pushed.  The check() function 
+ would need to decide whether the filter that it found was pushable or not.
+ If check() returns true, the rule is said to have matched, and transform()
+ is then called.  This function is responsible for making changes in the
+ logical plan.  Once transform is complete PlanPatcher.patchUp will be
+ called to do any necessary cleanup in the plan, such as resetting 
+ schemas, etc.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.optimizer.PlanOptimizer -->
+  <!-- start interface org.apache.pig.experimental.plan.optimizer.PlanTransformListener -->
+  <interface name="PlanTransformListener"    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="transformed"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="fp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <param name="tp" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Marker for indicating whether the value this object holds
- is not a null]]>
+      <![CDATA[the listener that is notified after a plan is transformed
+ @param fp  the full plan that has been transformed
+ @param tp  a plan containing only the operators that have been transformed
+ @throws IOException]]>
       </doc>
-    </field>
+    </method>
     <doc>
-    <![CDATA[An ordered list of Data.  A tuple has fields, numbered 0 through
- (number of fields - 1).  The entry in the field can be any datatype,
- or it can be null.
-
- Tuples are constructed only by a TupleFactory.  A DefaultTupleFactory
- is provided by the system.  If a user wishes to use their own type of
- Tuple, they should also provide an implementation of TupleFactory to
- construct their types of Tuples.
-
- Fields are numbered from 0.]]>
+    <![CDATA[A listener class that patches up plans after they have been transformed.]]>
     </doc>
   </interface>
-  <!-- end interface org.apache.pig.data.Tuple -->
-  <!-- start class org.apache.pig.data.TupleFactory -->
-  <class name="TupleFactory" extends="java.lang.Object"
+  <!-- end interface org.apache.pig.experimental.plan.optimizer.PlanTransformListener -->
+  <!-- start class org.apache.pig.experimental.plan.optimizer.Rule -->
+  <class name="Rule" extends="java.lang.Object"
     abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="TupleFactory"
-      static="false" final="false" visibility="protected"
+    <constructor name="Rule" type="java.lang.String"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <doc>
+      <![CDATA[Create this rule by using the default pattern that this rule provided
+ @param n Name of this rule]]>
+      </doc>
     </constructor>
-    <method name="getInstance" return="org.apache.pig.data.TupleFactory"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    <constructor name="Rule" type="java.lang.String, org.apache.pig.experimental.plan.OperatorPlan"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Get a reference to the singleton factory.]]>
+      <![CDATA[@param n Name of this rule
+ @param p Pattern to look for.]]>
       </doc>
-    </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    </constructor>
+    <method name="buildPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
       abstract="true" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Create an empty tuple.  This should be used as infrequently as
- possible, use newTuple(int) instead.]]>
+      <![CDATA[Build the pattern that this rule will look for
+ @return  the pattern to look for by this rule]]>
       </doc>
     </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    <method name="getNewTransformer" return="org.apache.pig.experimental.plan.optimizer.Transformer"
       abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="size" type="int"/>
       <doc>
-      <![CDATA[Create a tuple with size fields.  Whenever possible this is prefered
- over the nullary constructor, as the constructor can preallocate the
- size of the container holding the fields.  Once this is called, it
- is legal to call Tuple.set(x, object), where x &lt; size.
- @param size Number of fields in the tuple.]]>
+      <![CDATA[Get the transformer for this rule.  Abstract because the rule
+ may want to choose how to instantiate the transformer.  
+ This should never return a cached transformer, it should
+ always return a fresh one with no state.
+ @return Transformer to use with this rule]]>
       </doc>
     </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
-      abstract="true" native="false" synchronized="false"
+    <method name="getPattern" return="org.apache.pig.experimental.plan.OperatorPlan"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="c" type="java.util.List"/>
       <doc>
-      <![CDATA[Create a tuple from the provided list of objects.  The underlying list
- will be copied.
- @param c List of objects to use as the fields of the tuple.]]>
+      <![CDATA[Return the pattern to be matched for this rule
+ @return the pattern to be matched for this rule]]>
       </doc>
     </method>
-    <method name="newTupleNoCopy" return="org.apache.pig.data.Tuple"
-      abstract="true" native="false" synchronized="false"
+    <method name="match" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="list" type="java.util.List"/>
+      <param name="plan" type="org.apache.pig.experimental.plan.OperatorPlan"/>
       <doc>
-      <![CDATA[Create a tuple from a provided list of objects, keeping the provided
- list.  The new tuple will take over ownership of the provided list.
- @param list List of objects that will become the fields of the tuple.]]>
+      <![CDATA[Search for all the sub-plans that matches the pattern
+ defined by this rule. 
+ @return A list of all matched sub-plans. The returned plans are
+        partial views of the original OperatorPlan. Each is a 
+        sub-set of the original plan and represents the same
+        topology as the pattern, but operators in the returned plan  
+        are the same objects as the original plan. Therefore, 
+        a call getPlan() from any node in the return plan would 
+        return the original plan.
+        
+ @param plan the OperatorPlan to look for matches to the pattern]]>
       </doc>
     </method>
-    <method name="newTuple" return="org.apache.pig.data.Tuple"
+    <method name="getName" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <field name="name" type="java.lang.String"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="pattern" type="org.apache.pig.experimental.plan.OperatorPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="currentPlan" type="org.apache.pig.experimental.plan.OperatorPlan"
+      transient="true" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="log" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Rules describe a pattern of operators.  They also reference a Transformer.
+ If the pattern of operators is found one or more times in the provided plan,
+ then the optimizer will use the associated Transformer to transform the
+ plan.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.experimental.plan.optimizer.Rule -->
+  <!-- start class org.apache.pig.experimental.plan.optimizer.Transformer -->
+  <class name="Transformer" extends="java.lang.Object"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Transformer"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
       abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="datum" type="java.lang.Object"/>
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Create a tuple with a single element.  This is useful because of
- the fact that bags (currently) only take tuples, we often end up
- sticking a single element in a tuple in order to put it in a bag.
- @param datum Datum to put in the tuple.]]>
+      <![CDATA[check if the transform should be done.  If this is being called then
+ the pattern matches, but there may be other criteria that must be met
+ as well.
+ @param matched the sub-set of the plan that matches the pattern. This 
+        subset has the same graph as the pattern, but the operators
+        point to the same objects as the plan to be matched.
+ @return true if the transform should be done.
+ @throws IOException]]>
       </doc>
     </method>
-    <method name="tupleClass" return="java.lang.Class"
+    <method name="transform"
       abstract="true" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="matched" type="org.apache.pig.experimental.plan.OperatorPlan"/>
+      <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[Return the actual class representing a tuple that the implementing
- factory will be returning.  This is needed because hadoop (and
- possibly other systems) we use need to know the exact class we will
- be using for input and output.
- @return Class that implements tuple.]]>
+      <![CDATA[Transform the tree
+ @param matched the sub-set of the plan that matches the pattern. This 
+        subset has the same graph as the pattern, but the operators
+        point to the same objects as the plan to be matched.
+ @throws IOException]]>
       </doc>
     </method>
-    <method name="resetSelf"
-      abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+    <method name="reportChanges" return="org.apache.pig.experimental.plan.OperatorPlan"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
-      <![CDATA[Provided for testing purposes only.  This function should never be
- called by anybody but the unit tests.]]>
+      <![CDATA[Report what parts of the tree were transformed.  This is so that 
+ listeners can know which part of the tree to visit and modify
+ schemas, annotations, etc.  So any nodes that were removed need
+ will not be in this plan, only nodes that were added or moved.
+ @return OperatorPlan that describes just the changed nodes.]]>
       </doc>
     </method>
-    <doc>
-    <![CDATA[A factory to construct tuples.  This class is abstract so that users can
- override the tuple factory if they desire to provide their own that
- returns their implementation of a tuple.  If the property
- pig.data.tuple.factory.name is set to a class name and
- pig.data.tuple.factory.jar is set to a URL pointing to a jar that
- contains the above named class, then getInstance() will create a
- a instance of the named class using the indicatd jar.  Otherwise, it
- will create and instance of DefaultTupleFactory.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.data.TupleFactory -->
-  <doc>
-  <![CDATA[<p>
-Data types for Pig.
-<p>
-This package contains implementations of Pig specific data types as well as
-support functions for reading, writing, and using all Pig data types.
-<p>
-Whenever possible, Pig utilizes Java provided data types.  These include
-Integer, Long, Float, Double, Boolean, String, and Map.  Tuple, Bag, and
-DataByteArray are implemented in this package.  
-
-<h2> Design </h2>
-<p>
-The choice was made to utilize Java provided types for two main reasons.  One,
-it minimizes the burden on UDF developers, as they will have full access to
-these types with no need to convert to and from Pig specific types.  Two,
-maintenance costs will be lower as there is no need to implement and maintain
-Pig specific data classes.  The drawback is that the only common parent of all
-these types is Object.  Thus Pig is often required to treat its data objects
-as Objects and then implement static methods to manipulate these Objects,
-rather than being able to define a PigDatum class with common funcitons.
-<p>
-Three data types were implemented as Pig specific classes: 
-{@link org.apache.pig.data.DataByteArray}, {@link org.apache.pig.data.Tuple},
-and {@link org.apache.pig.data.DataBag}.  
-<p>
-DataByteArray represents an array of bytes, with no interpretation of those
-bytes provided or assumed.  This could have been represented as byte[], but a
-separate class was constructed to provide common functions needed to
-manipulate these objects.
-<p>
-Tuple represents an ordered collection of data elements.  Every field in a
-tuple can contain any Pig data type.  Tuple is presented as an interface to
-allow differing implementations in cases where users have unique
-representations of their data that they wish to preserve in their in memory
-representations.  The {@link org.apache.pig.data.TupleFactory} is an
-abstract class, to enable a user who has defined his own tuples to provide a
-factory that creates those tuples.  Default implementations of Tuple and
-TupleFactory are provided and used by default. 
-<p>
-DataBag represents a collection of Tuples.  DataBags can be of default type
-(no extra features), sorted (tuples are sorted according to a provided
-comparator function), or distinct (no duplicate tuples).  As with Tuple,
-DataBag is presented as an interface, and 
-{@link org.apache.pig.data.BagFactory} is an abstract class.  Default implementations of DataBag,
-BagFactory, and all three types of bags are provided.]]>
-  </doc>
+  <!-- end class org.apache.pig.experimental.plan.optimizer.Transformer -->
 </package>
 <package name="org.apache.pig.impl">
   <!-- start interface org.apache.pig.impl.FunctionInstantiator -->
@@ -22794,6 +30986,12 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
+    <method name="initializeImportList"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="importListCommandLineProperties" type="java.lang.String"/>
+    </method>
     <method name="connect"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -23047,6 +31245,39 @@ BagFactory, and all three types of bags are provided.]]>
  @return error source]]>
       </doc>
     </method>
+    <method name="getPackageImportList" return="java.util.ArrayList"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setPackageImportList"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="list" type="java.util.ArrayList"/>
+    </method>
+    <method name="setLog4jProperties"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="p" type="java.util.Properties"/>
+    </method>
+    <method name="getLog4jProperties" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getDefaultLogLevel" return="org.apache.log4j.Level"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setDefaultLogLevel"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="l" type="org.apache.log4j.Level"/>
+    </method>
     <field name="JOB_NAME" type="java.lang.String"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
@@ -23057,6 +31288,11 @@ BagFactory, and all three types of bags are provided.]]>
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="JOB_PRIORITY" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
     <field name="extraJars" type="java.util.List"
       transient="true" volatile="false"
       static="false" final="false" visibility="public"
@@ -23067,7 +31303,7 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </field>
-    <field name="debug" type="boolean"
+    <field name="defaultParallel" type="int"
       transient="false" volatile="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -23081,6 +31317,84 @@ BagFactory, and all three types of bags are provided.]]>
   <!-- end class org.apache.pig.impl.PigContext -->
 </package>
 <package name="org.apache.pig.impl.builtin">
+  <!-- start class org.apache.pig.impl.builtin.DefaultIndexableLoader -->
+  <class name="DefaultIndexableLoader" extends="org.apache.pig.LoadFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <implements name="org.apache.pig.IndexableLoadFunc"/>
+    <constructor name="DefaultIndexableLoader" type="java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="seekNear"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="keys" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="close"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="initialize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setIndexFile"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="indexFile" type="java.lang.String"/>
+    </method>
+    <doc>
+    <![CDATA[Used by MergeJoin . Takes an index on sorted data
+ consisting of sorted tuples of the form
+ (key1,key2..., position,splitIndex) as input. For key given in seekNear(Tuple)
+ finds the splitIndex that can contain the key and initializes ReadToEndLoader
+ to read from that splitIndex onwards , in the sequence of splits in the index]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.builtin.DefaultIndexableLoader -->
   <!-- start class org.apache.pig.impl.builtin.FindQuantiles -->
   <class name="FindQuantiles" extends="org.apache.pig.EvalFunc"
     abstract="false"
@@ -23117,6 +31431,39 @@ BagFactory, and all three types of bags are provided.]]>
     </field>
   </class>
   <!-- end class org.apache.pig.impl.builtin.FindQuantiles -->
+  <!-- start class org.apache.pig.impl.builtin.GetMemNumRows -->
+  <class name="GetMemNumRows" extends="org.apache.pig.EvalFunc"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="GetMemNumRows"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@param  in - input tuple
+ @return - tuple having size in memory of this tuple and numRows if this
+ is specially marked tuple having number of rows field]]>
+      </doc>
+    </method>
+    <method name="getReturnType" return="java.lang.reflect.Type"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[UDF to get memory size of a tuple and extracts number of rows value from
+ special tuple created by PoissonSampleLoader
+ It is used by skewed join.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.builtin.GetMemNumRows -->
   <!-- start class org.apache.pig.impl.builtin.GFAny -->
   <class name="GFAny" extends="org.apache.pig.EvalFunc"
     abstract="false"
@@ -23165,7 +31512,7 @@ BagFactory, and all three types of bags are provided.]]>
     </method>
     <field name="DEFAULT_PARALLELISM" type="int"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
   </class>
@@ -23192,47 +31539,395 @@ BagFactory, and all three types of bags are provided.]]>
     </method>
   </class>
   <!-- end class org.apache.pig.impl.builtin.GFReplicate -->
-  <!-- start class org.apache.pig.impl.builtin.RandomSampleLoader -->
-  <class name="RandomSampleLoader" extends="org.apache.pig.builtin.BinStorage"
+  <!-- start class org.apache.pig.impl.builtin.PartitionSkewedKeys -->
+  <class name="PartitionSkewedKeys" extends="org.apache.pig.EvalFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="RandomSampleLoader"
+    <constructor name="PartitionSkewedKeys"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="bindTo"
+    <constructor name="PartitionSkewedKeys" type="java.lang.String[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="exec" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="is" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
+      <param name="in" type="org.apache.pig.data.Tuple"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[first field in the input tuple is the number of reducers
+ 
+ second field is the *sorted* bag of samples
+ this should be called only once]]>
+      </doc>
     </method>
+    <field name="PARTITION_LIST" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="TOTAL_REDUCERS" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="DEFAULT_PERCENT_MEMUSAGE" type="float"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Partition reducers for skewed keys. This is used in skewed join during
+ sampling process. It figures out how many reducers required to process a
+ skewed key without causing spill and allocate this number of reducers to this
+ key. This UDF outputs a map which contains 2 keys:
+ 
+ <li>&quot;totalreducers&quot;: the value is an integer wich indicates the
+         number of total reducers for this join job </li>
+ <li>&quot;partition.list&quot;: the value is a bag which contains a
+ list of tuples with each tuple representing partitions for a skewed key.
+ The tuple has format of &lt;join key&gt;,&lt;min index of reducer&gt;, 
+ &lt;max index of reducer&gt; </li>
+ 
+ For example, a join job configures 10 reducers, and the sampling process 
+ finds out 2 skewed keys, &quot;swpv&quot; needs 4 reducers and &quot;swps&quot;
+ needs 2 reducers. The output file would be like following:
+ 
+ {totalreducers=10, partition.list={(swpv,0,3), (swps,4,5)}}
+
+ The name of this file is set into next MR job which does the actual join. 
+ That job uses this information to partition skewed keys properly]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.builtin.PartitionSkewedKeys -->
+  <!-- start class org.apache.pig.impl.builtin.PoissonSampleLoader -->
+  <class name="PoissonSampleLoader" extends="org.apache.pig.impl.builtin.SampleLoader"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PoissonSampleLoader" type="java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
     <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="bindTo"
+    <method name="computeSamples"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="inputs" type="java.util.ArrayList"/>
+      <param name="pc" type="org.apache.pig.impl.PigContext"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[Computes the number of samples for the loader
+ 
+ @param inputs : Set to pig inputs
+ @param pc : PigContext object]]>
+      </doc>
+    </method>
+    <field name="NUMROWS_TUPLE_MARKER" type="java.lang.String"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[See "Skewed Join sampler" in http://wiki.apache.org/pig/PigSampler]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.builtin.PoissonSampleLoader -->
+  <!-- start class org.apache.pig.impl.builtin.RandomSampleLoader -->
+  <class name="RandomSampleLoader" extends="org.apache.pig.impl.builtin.SampleLoader"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="RandomSampleLoader" type="java.lang.String, java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Construct with a class of loader to use.
+ @param funcSpec func spec of the loader to use.
+ @param ns Number of samples per map to collect. 
+ Arguments are passed as strings instead of actual types (FuncSpec, int) 
+ because FuncSpec only supports string arguments to
+ UDF constructors.]]>
+      </doc>
+    </constructor>
+    <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Allocate a buffer for numSamples elements, populate it with the 
+ first numSamples tuples, and continue scanning rest of the input.
+ For every ith next() call, we generate a random number r s.t. 0<=r<i,
+ and if r<numSamples we insert the new tuple into our buffer at position r.
+ This gives us a random sample of the tuples in the partition.]]>
+      </doc>
     </method>
-    <field name="defaultNumSamples" type="int"
+    <field name="nextSampleIdx" type="int"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </field>
+    <doc>
+    <![CDATA[A loader that samples the data.  
+ It randomly samples tuples from input. The number of tuples to be sampled
+ has to be set before the first call to getNext().
+  see documentation of getNext() call.]]>
+    </doc>
   </class>
   <!-- end class org.apache.pig.impl.builtin.RandomSampleLoader -->
+  <!-- start class org.apache.pig.impl.builtin.SampleLoader -->
+  <class name="SampleLoader" extends="org.apache.pig.LoadFunc"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SampleLoader" type="java.lang.String"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setNumSamples"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="n" type="int"/>
+    </method>
+    <method name="getNumSamples" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="skipNext" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="computeSamples"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="inputs" type="java.util.ArrayList"/>
+      <param name="pc" type="org.apache.pig.impl.PigContext"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="relativeToAbsolutePath" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="curDir" type="org.apache.hadoop.fs.Path"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="setUDFContextSignature"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="signature" type="java.lang.String"/>
+    </method>
+    <field name="numSamples" type="int"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="loader" type="org.apache.pig.LoadFunc"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Abstract class that specifies the interface for sample loaders]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.builtin.SampleLoader -->
 </package>
 <package name="org.apache.pig.impl.io">
+  <!-- start class org.apache.pig.impl.io.BinStorageInputFormat -->
+  <class name="BinStorageInputFormat" extends="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigFileInputFormat"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BinStorageInputFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="createRecordReader" return="org.apache.hadoop.mapreduce.RecordReader"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.io.BinStorageInputFormat -->
+  <!-- start class org.apache.pig.impl.io.BinStorageOutputFormat -->
+  <class name="BinStorageOutputFormat" extends="org.apache.hadoop.mapreduce.lib.output.FileOutputFormat"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BinStorageOutputFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getRecordWriter" return="org.apache.hadoop.mapreduce.RecordWriter"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="job" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.io.BinStorageOutputFormat -->
+  <!-- start class org.apache.pig.impl.io.BinStorageRecordReader -->
+  <class name="BinStorageRecordReader" extends="org.apache.hadoop.mapreduce.RecordReader"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BinStorageRecordReader"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="initialize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="genericSplit" type="org.apache.hadoop.mapreduce.InputSplit"/>
+      <param name="context" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="nextKeyValue" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getCurrentKey" return="org.apache.hadoop.io.Text"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getCurrentValue" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getProgress" return="float"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the progress within the split]]>
+      </doc>
+    </method>
+    <method name="close"
+      abstract="false" native="false" synchronized="true"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <field name="RECORD_1" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_2" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_3" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Treats keys as offset in file and value as line.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.io.BinStorageRecordReader -->
+  <!-- start class org.apache.pig.impl.io.BinStorageRecordWriter -->
+  <class name="BinStorageRecordWriter" extends="org.apache.hadoop.mapreduce.RecordWriter"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BinStorageRecordWriter" type="java.io.DataOutputStream"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="close"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="arg0" type="org.apache.hadoop.mapreduce.TaskAttemptContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="wc" type="org.apache.hadoop.io.WritableComparable"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <exception name="InterruptedException" type="java.lang.InterruptedException"/>
+    </method>
+    <field name="RECORD_1" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_2" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="RECORD_3" type="int"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.impl.io.BinStorageRecordWriter -->
   <!-- start class org.apache.pig.impl.io.BufferedPositionedInputStream -->
   <class name="BufferedPositionedInputStream" extends="java.io.InputStream"
     abstract="false"
@@ -23323,6 +32018,21 @@ BagFactory, and all three types of bags are provided.]]>
       <param name="properties" type="java.util.Properties"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="getSize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fileName" type="java.lang.String"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getSize" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fileName" type="java.lang.String"/>
+      <param name="properties" type="java.util.Properties"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
     <method name="open" return="java.io.InputStream"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
@@ -23341,6 +32051,13 @@ BagFactory, and all three types of bags are provided.]]>
  @throws IOException]]>
       </doc>
     </method>
+    <method name="fullPath" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fileName" type="java.lang.String"/>
+      <param name="storage" type="org.apache.pig.backend.datastorage.DataStorage"/>
+    </method>
     <method name="open" return="java.io.InputStream"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
@@ -23349,6 +32066,25 @@ BagFactory, and all three types of bags are provided.]]>
       <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="open" return="org.apache.pig.backend.datastorage.SeekableInputStream"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fileSpec" type="java.lang.String"/>
+      <param name="offset" type="long"/>
+      <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@param fileSpec
+ @param offset
+ @param pigContext
+ @return SeekableInputStream
+ @throws IOException
+ 
+ This is an overloaded version of open where there is a need to seek in stream. Currently seek is supported
+ only in file, not in directory or glob.]]>
+      </doc>
+    </method>
     <method name="create" return="java.io.OutputStream"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
@@ -23374,6 +32110,15 @@ BagFactory, and all three types of bags are provided.]]>
       <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="setInitialized"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="initialized" type="boolean"/>
+      <doc>
+      <![CDATA[@param initialized the initialized to set]]>
+      </doc>
+    </method>
     <method name="deleteTempFiles"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
@@ -23599,6 +32344,17 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="equals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="other" type="java.lang.Object"/>
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <doc>
     <![CDATA[A simple class that specifies a file name and storage function which is used to read/write it]]>
     </doc>
@@ -23765,6 +32521,104 @@ BagFactory, and all three types of bags are provided.]]>
     </method>
   </class>
   <!-- end class org.apache.pig.impl.io.NullableLongWritable -->
+  <!-- start class org.apache.pig.impl.io.NullablePartitionWritable -->
+  <class name="NullablePartitionWritable" extends="org.apache.pig.impl.io.PigNullableWritable"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="NullablePartitionWritable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="NullablePartitionWritable" type="org.apache.pig.impl.io.PigNullableWritable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setKey"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="k" type="org.apache.pig.impl.io.PigNullableWritable"/>
+    </method>
+    <method name="getKey" return="org.apache.pig.impl.io.PigNullableWritable"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setPartition"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="n" type="int"/>
+    </method>
+    <method name="getPartition" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="compareTo" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="o" type="java.lang.Object"/>
+    </method>
+    <method name="readFields"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="in" type="java.io.DataInput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="write"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.DataOutput"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="isNull" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setNull"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="isNull" type="boolean"/>
+    </method>
+    <method name="getIndex" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setIndex"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="index" type="byte"/>
+    </method>
+    <method name="getValueAsPigType" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[NullablePartitionWritable is an adaptor class around PigNullableWritable that adds a partition
+ index to the class.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.io.NullablePartitionWritable -->
   <!-- start class org.apache.pig.impl.io.NullableText -->
   <class name="NullableText" extends="org.apache.pig.impl.io.PigNullableWritable"
     abstract="false"
@@ -23818,6 +32672,30 @@ BagFactory, and all three types of bags are provided.]]>
     </method>
   </class>
   <!-- end class org.apache.pig.impl.io.NullableTuple -->
+  <!-- start class org.apache.pig.impl.io.NullableUnknownWritable -->
+  <class name="NullableUnknownWritable" extends="org.apache.pig.impl.io.PigNullableWritable"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="NullableUnknownWritable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="NullableUnknownWritable" type="org.apache.hadoop.io.WritableComparable"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getValueAsPigType" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[This class can be used when data type is 'Unknown' and 
+ there is a need for PigNullableWritable object.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.io.NullableUnknownWritable -->
   <!-- start class org.apache.pig.impl.io.PigFile -->
   <class name="PigFile" extends="java.lang.Object"
     abstract="false"
@@ -23844,7 +32722,7 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="data" type="org.apache.pig.data.DataBag"/>
-      <param name="sfunc" type="org.apache.pig.StoreFunc"/>
+      <param name="storeFuncSpec" type="org.apache.pig.FuncSpec"/>
       <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
@@ -23990,39 +32868,86 @@ BagFactory, and all three types of bags are provided.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.io.PigNullableWritable -->
-  <!-- start class org.apache.pig.impl.io.ValidatingInputFileSpec -->
-  <class name="ValidatingInputFileSpec" extends="org.apache.pig.impl.io.FileSpec"
+  <!-- start class org.apache.pig.impl.io.ReadToEndLoader -->
+  <class name="ReadToEndLoader" extends="org.apache.pig.LoadFunc"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ValidatingInputFileSpec" type="org.apache.pig.impl.io.FileSpec, org.apache.pig.backend.datastorage.DataStorage"
+    <constructor name="ReadToEndLoader" type="org.apache.pig.LoadFunc, org.apache.hadoop.conf.Configuration, java.lang.String, int"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[@param wrappedLoadFunc
+ @param conf
+ @param inputLocation
+ @param splitIndex
+ @throws IOException 
+ @throws InterruptedException]]>
+      </doc>
     </constructor>
-    <constructor name="ValidatingInputFileSpec" type="java.lang.String, java.lang.String, org.apache.pig.impl.PigContext"
+    <constructor name="ReadToEndLoader" type="org.apache.pig.LoadFunc, org.apache.hadoop.conf.Configuration, java.lang.String, int[]"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
       <doc>
-      <![CDATA[If the <code>ExecType</code> of <code>context</code> is LOCAL,
- validation is not performed.]]>
+      <![CDATA[This constructor takes an array of split indexes (toReadSplitIdxs) of the 
+ splits to be read.
+ @param wrappedLoadFunc
+ @param conf
+ @param inputLocation
+ @param toReadSplitIdxs
+ @throws IOException 
+ @throws InterruptedException]]>
       </doc>
     </constructor>
-    <method name="getSlicer" return="org.apache.pig.Slicer"
+    <method name="getNext" return="org.apache.pig.data.Tuple"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <doc>
-      <![CDATA[Returns the Slicer created by this spec's funcSpec.]]>
-      </doc>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getInputFormat" return="org.apache.hadoop.mapreduce.InputFormat"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="getLoadCaster" return="org.apache.pig.LoadCaster"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
+    <method name="prepareToRead"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="reader" type="org.apache.hadoop.mapreduce.RecordReader"/>
+      <param name="split" type="org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigSplit"/>
+    </method>
+    <method name="setLocation"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="location" type="java.lang.String"/>
+      <param name="job" type="org.apache.hadoop.mapreduce.Job"/>
+      <exception name="IOException" type="java.io.IOException"/>
     </method>
     <doc>
-    <![CDATA[Creates a Slicer using its funcSpec in its construction and checks that it's
- valid.]]>
+    <![CDATA[This is wrapper Loader which wraps a real LoadFunc underneath and allows
+ to read a file completely starting a given split (indicated by a split index 
+ which is used to look in the List<InputSplit> returned by the underlying
+ InputFormat's getSplits() method). So if the supplied split index is 0, this
+ loader will read the entire file. If it is non zero it will read the partial
+ file beginning from that split to the last split.
+ 
+ The call sequence to use this is:
+ 1) construct an object using the constructor
+ 2) Call getNext() in a loop till it returns null]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.impl.io.ValidatingInputFileSpec -->
+  <!-- end class org.apache.pig.impl.io.ReadToEndLoader -->
 </package>
 <package name="org.apache.pig.impl.logicalLayer">
   <!-- start class org.apache.pig.impl.logicalLayer.BinaryExpressionOperator -->
@@ -24113,6 +33038,183 @@ BagFactory, and all three types of bags are provided.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.CanonicalNamer -->
+  <!-- start class org.apache.pig.impl.logicalLayer.CastFinder -->
+  <class name="CastFinder" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="CastFinder" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            logical plan to query the presence of UDFs]]>
+      </doc>
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cast" type="org.apache.pig.impl.logicalLayer.LOCast"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getCastList" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return list of casts found in the plan]]>
+      </doc>
+    </method>
+    <method name="getCastSet" return="java.util.Set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return set of casts found in the plan]]>
+      </doc>
+    </method>
+    <method name="foundAnyCast" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the plan contained any Casts; false otherwise]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[A visitor to track the casts in a plan.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.CastFinder -->
+  <!-- start class org.apache.pig.impl.logicalLayer.ColumnPruner -->
+  <class name="ColumnPruner" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ColumnPruner" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="addPruneMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <param name="prunedColumns" type="java.util.List"/>
+    </method>
+    <method name="isEmpty" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="prune"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="lOp" type="org.apache.pig.impl.logicalLayer.RelationalOperator"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cogroup" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cross" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="distinct" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="foreach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="limit" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="sort" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="splitoutput" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="union" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="lOp" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.ColumnPruner -->
   <!-- start class org.apache.pig.impl.logicalLayer.DotLOPrinter -->
   <class name="DotLOPrinter" extends="org.apache.pig.impl.plan.DotPlanDumper"
     abstract="false"
@@ -24588,6 +33690,13 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="setFieldSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fs" type="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
     <method name="getFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -24629,7 +33738,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOCast -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOCogroup -->
-  <class name="LOCogroup" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOCogroup" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -24643,6 +33752,22 @@ BagFactory, and all three types of bags are provided.]]>
             OperatorKey for this operator
  @param groupByPlans
             the group by columns
+ @param isInner
+            indicates whether the cogroup is inner for each relation]]>
+      </doc>
+    </constructor>
+    <constructor name="LOCogroup" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.util.MultiMap, org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE, boolean[]"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            LogicalPlan this operator is a part of.
+ @param k
+            OperatorKey for this operator
+ @param groupByPlans
+            the group by columns
+ @param type
+            the type of this group           
  @param isInner
             indicates whether the cogroup is inner for each relation]]>
       </doc>
@@ -24674,6 +33799,11 @@ BagFactory, and all three types of bags are provided.]]>
       deprecated="not deprecated">
       <param name="inner" type="boolean[]"/>
     </method>
+    <method name="getGroupType" return="org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="name" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -24766,8 +33896,72 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <field name="OPTION_GROUPTYPE" type="java.lang.Integer"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[static constant to refer to the option of selecting a group type]]>
+      </doc>
+    </field>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOCogroup -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE -->
+  <class name="LOCogroup.GROUPTYPE" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="REGULAR" type="org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="COLLECTED" type="org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Enum for the type of group]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.LOCogroup.GROUPTYPE -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOConst -->
   <class name="LOConst" extends="org.apache.pig.impl.logicalLayer.ExpressionOperator"
     abstract="false"
@@ -24837,7 +34031,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOConst -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOCross -->
-  <class name="LOCross" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOCross" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -24894,6 +34088,14 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOCross -->
   <!-- start class org.apache.pig.impl.logicalLayer.LODefine -->
@@ -24930,7 +34132,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LODefine -->
   <!-- start class org.apache.pig.impl.logicalLayer.LODistinct -->
-  <class name="LODistinct" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LODistinct" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -24998,6 +34200,14 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LODistinct -->
   <!-- start class org.apache.pig.impl.logicalLayer.LODivide -->
@@ -25081,7 +34291,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOEqual -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOFilter -->
-  <class name="LOFilter" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOFilter" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -25162,223 +34372,196 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-  </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOFilter -->
-  <!-- start class org.apache.pig.impl.logicalLayer.LOForEach -->
-  <class name="LOForEach" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LOForEach" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.util.ArrayList, java.util.ArrayList"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[@param plan
-            Logical plan this operator is a part of.
- @param k
-            Operator key to assign to this node.
- @param foreachPlans
-            the list of plans that are applied for each input
- @param flattenList
-            boolean list that tells which elements of the foreach
-            projection should be flattened.]]>
-      </doc>
-    </constructor>
-    <constructor name="LOForEach" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.util.ArrayList, java.util.ArrayList, java.util.ArrayList"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="getForEachPlans" return="java.util.ArrayList"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="setForEachPlans"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="foreachPlans" type="java.util.ArrayList"/>
-    </method>
-    <method name="getFlatten" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="setFlatten"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="flattenList" type="java.util.ArrayList"/>
-    </method>
-    <method name="getUserDefinedSchema" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="setUserDefinedSchema"
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.LOFilter -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOForEach -->
+  <class name="LOForEach" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOForEach" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.util.ArrayList, java.util.ArrayList"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            Logical plan this operator is a part of.
+ @param k
+            Operator key to assign to this node.
+ @param foreachPlans
+            the list of plans that are applied for each input
+ @param flattenList
+            boolean list that tells which elements of the foreach
+            projection should be flattened.]]>
+      </doc>
+    </constructor>
+    <constructor name="LOForEach" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.util.ArrayList, java.util.ArrayList, java.util.ArrayList"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getForEachPlans" return="java.util.ArrayList"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setForEachPlans"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="foreachPlans" type="java.util.ArrayList"/>
+    </method>
+    <method name="getFlatten" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setFlatten"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="flattenList" type="java.util.ArrayList"/>
+    </method>
+    <method name="getUserDefinedSchema" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setUserDefinedSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="userDefinedSchema" type="java.util.ArrayList"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.impl.logicalLayer.LOVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="unsetSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="clone" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
+      <doc>
+      <![CDATA[@see org.apache.pig.impl.plan.Operator#clone()
+ Do not use the clone method directly. Operators are cloned when logical plans
+ are cloned using {@link LogicalPlanCloner}]]>
+      </doc>
+    </method>
+    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getRequiredFields" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="rewire"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="userDefinedSchema" type="java.util.ArrayList"/>
-    </method>
-    <method name="name" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="supportsMultipleInputs" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="visit"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.impl.logicalLayer.LOVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="getType" return="byte"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
     </method>
-    <method name="unsetSchema"
+    <method name="hasFlatten" return="org.apache.pig.impl.util.Pair"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="clone" return="java.lang.Object"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
       <doc>
-      <![CDATA[@see org.apache.pig.impl.plan.Operator#clone()
- Do not use the clone method directly. Operators are cloned when logical plans
- are cloned using {@link LogicalPlanCloner}]]>
+      <![CDATA[A helper method to check if the foreach has a flattened element
+ 
+ @return true if any of the expressions in the foreach has a flatten;
+         false otherwise]]>
       </doc>
     </method>
-    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+    <method name="getRelevantPlan" return="org.apache.pig.impl.logicalLayer.LogicalPlan"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="column" type="int"/>
     </method>
-    <method name="getRequiredFields" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-  </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOForEach -->
-  <!-- start class org.apache.pig.impl.logicalLayer.LOFRJoin -->
-  <class name="LOFRJoin" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="LOFRJoin" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.util.MultiMap, boolean[], org.apache.pig.impl.logicalLayer.LogicalOperator"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="isInputFlattened" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="column" type="int"/>
       <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="getJoinColPlans" return="org.apache.pig.impl.util.MultiMap"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="switchJoinColPlanOp"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="oldOp" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
-      <param name="newOp" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
-    </method>
-    <method name="unsetSchema"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="getInputs" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="visit"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="v" type="org.apache.pig.impl.logicalLayer.LOVisitor"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
-    <method name="name" return="java.lang.String"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="supportsMultipleInputs" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getFragOp" return="org.apache.pig.impl.logicalLayer.LogicalOperator"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="setFragOp"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="fragOp" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
-    </method>
-    <method name="isTupleJoinCol" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getAtomicJoinColType" return="byte"
+    <method name="getRelevantInputs" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
       <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="getTupleJoinColSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="pruneColumns" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
       <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
-    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <method name="getRequiredFields" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
-    <doc>
-    <![CDATA[This is the logical operator for the Fragment Replicate Join
- It holds the user specified information and is responsible for 
- the schema computation. This mimics the LOCogroup operator except
- the schema computation.]]>
-    </doc>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOFRJoin -->
+  <!-- end class org.apache.pig.impl.logicalLayer.LOForEach -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOGenerate -->
   <class name="LOGenerate" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
     abstract="false"
@@ -25542,6 +34725,9 @@ BagFactory, and all three types of bags are provided.]]>
       deprecated="not deprecated">
       <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Regenerate the schema by unsetting and getting the schema]]>
+      </doc>
     </method>
     <method name="setCanonicalNames"
       abstract="false" native="false" synchronized="false"
@@ -25604,6 +34790,18 @@ BagFactory, and all three types of bags are provided.]]>
       deprecated="not deprecated">
       <param name="newRequestedParallelism" type="int"/>
     </method>
+    <method name="pinOption"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="opt" type="java.lang.Integer"/>
+    </method>
+    <method name="isPinnedOption" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="opt" type="java.lang.Integer"/>
+    </method>
     <method name="toString" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -25681,31 +34879,6 @@ BagFactory, and all three types of bags are provided.]]>
  are cloned using {@link LogicalPlanCloner}]]>
       </doc>
     </method>
-    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Produce a map describing how this operator modifies its projection.
- @return ProjectionMap null indicates it does not know how the projection
- changes, for example a join of two inputs where one input does not have
- a schema.]]>
-      </doc>
-    </method>
-    <method name="getRequiredFields" return="java.util.List"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <doc>
-      <![CDATA[Get a list of fields that this operator requires. This is not necessarily
- equivalent to the list of fields the operator projects. For example, a
- filter will project anything passed to it, but requires only the fields
- explicitly referenced in its filter expression.
- 
- @return list of RequiredFields null indicates that the operator does not need any
-         fields from its input.]]>
-      </doc>
-    </method>
     <field name="mSchema" type="org.apache.pig.impl.logicalLayer.schema.Schema"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -25755,6 +34928,31 @@ BagFactory, and all three types of bags are provided.]]>
       <![CDATA[Logical plan that this operator is a part of.]]>
       </doc>
     </field>
+    <field name="mProjectionMap" type="org.apache.pig.impl.plan.ProjectionMap"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[ProjectionMap of this operator.]]>
+      </doc>
+    </field>
+    <field name="mIsProjectionMapComputed" type="boolean"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[A boolean variable to remember if the projection map has been computed]]>
+      </doc>
+    </field>
+    <field name="mPinnedOptions" type="java.util.HashSet"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[A HashSet to indicate whether an option (such a Join Type) was pinned
+ by the user or can be chosen at runtime by the optimizer.]]>
+      </doc>
+    </field>
     <doc>
     <![CDATA[Parent for all Logical operators.]]>
     </doc>
@@ -25807,18 +35005,20 @@ BagFactory, and all three types of bags are provided.]]>
       <![CDATA[Do not use the clone method directly. Use {@link LogicalPlanCloner} instead.]]>
       </doc>
     </method>
-    <method name="chainOfProjects" return="boolean"
+    <method name="chainOfProjects" return="org.apache.pig.impl.util.Pair"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
       <doc>
       <![CDATA[A utility method to check if a plan contains a chain of projection
- operators
+ operators with or without casts
  
  @param plan
             input plan
- @return true if there is a chain of projection operators; false otherwise]]>
+ @return a pair consisting of the top most projection operator and the
+         cast (if present) if there is a chain of projection operators
+         with or without casts; null otherwise]]>
       </doc>
     </method>
   </class>
@@ -26374,13 +35574,53 @@ BagFactory, and all three types of bags are provided.]]>
       deprecated="not deprecated">
     </method>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOGreaterThan -->
-  <!-- start class org.apache.pig.impl.logicalLayer.LOGreaterThanEqual -->
-  <class name="LOGreaterThanEqual" extends="org.apache.pig.impl.logicalLayer.BinaryExpressionOperator"
+  <!-- end class org.apache.pig.impl.logicalLayer.LOGreaterThan -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOGreaterThanEqual -->
+  <class name="LOGreaterThanEqual" extends="org.apache.pig.impl.logicalLayer.BinaryExpressionOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LOGreaterThanEqual" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            Logical plan this operator is a part of.
+ @param k
+            Operator key to assign to this node.]]>
+      </doc>
+    </constructor>
+    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="v" type="org.apache.pig.impl.logicalLayer.LOVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.LOGreaterThanEqual -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOIsNull -->
+  <class name="LOIsNull" extends="org.apache.pig.impl.logicalLayer.UnaryExpressionOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LOGreaterThanEqual" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey"
+    <constructor name="LOIsNull" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
@@ -26414,33 +35654,71 @@ BagFactory, and all three types of bags are provided.]]>
       deprecated="not deprecated">
     </method>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOGreaterThanEqual -->
-  <!-- start class org.apache.pig.impl.logicalLayer.LOIsNull -->
-  <class name="LOIsNull" extends="org.apache.pig.impl.logicalLayer.UnaryExpressionOperator"
+  <!-- end class org.apache.pig.impl.logicalLayer.LOIsNull -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOJoin -->
+  <class name="LOJoin" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LOIsNull" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey"
+    <constructor name="LOJoin" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.util.MultiMap, org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE, boolean[]"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
       <![CDATA[@param plan
-            Logical plan this operator is a part of.
+            LogicalPlan this operator is a part of.
  @param k
-            Operator key to assign to this node.]]>
+            OperatorKey for this operator
+ @param joinPlans
+            the join columns
+ @param jt
+            indicates the type of join - regular, skewed fragment replicated or merge join]]>
       </doc>
     </constructor>
-    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+    <method name="getInputs" return="java.util.List"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getFieldSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema"
+    <method name="getJoinPlans" return="org.apache.pig.impl.util.MultiMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setJoinPlans"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="joinPlans" type="org.apache.pig.impl.util.MultiMap"/>
+    </method>
+    <method name="getJoinType" return="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Returns the type of join.]]>
+      </doc>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
+    <method name="isTupleJoinCol" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -26448,13 +35726,153 @@ BagFactory, and all three types of bags are provided.]]>
       <param name="v" type="org.apache.pig.impl.logicalLayer.LOVisitor"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="name" return="java.lang.String"
+    <method name="switchJoinColPlanOp"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="oldOp" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <param name="newOp" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <doc>
+      <![CDATA[This does switch the mapping
+
+ oldOp -> List of inner plans
+         to
+ newOp -> List of inner plans
+
+ which is useful when there is a structural change in LogicalPlan
+
+ @param oldOp the old operator
+ @param newOp the new operator]]>
+      </doc>
+    </method>
+    <method name="unsetSchema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getAtomicJoinColType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <doc>
+      <![CDATA[This can be used to get the merged type of output join col
+ only when the join col is of atomic type
+ @return The type of the join col]]>
+      </doc>
+    </method>
+    <method name="getTupleJoinSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="clone" return="java.lang.Object"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <exception name="CloneNotSupportedException" type="java.lang.CloneNotSupportedException"/>
+      <doc>
+      <![CDATA[@see org.apache.pig.impl.logicalLayer.LogicalOperator#clone()
+ Do not use the clone method directly. Operators are cloned when logical plans
+ are cloned using {@link LogicalPlanCloner}]]>
+      </doc>
+    </method>
+    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getRequiredFields" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="getInnerFlags" return="boolean[]"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the mInnerFlags]]>
+      </doc>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
     </method>
+    <field name="OPTION_JOIN" type="java.lang.Integer"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[static constant to refer to the option of selecting a join type]]>
+      </doc>
+    </field>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.LOIsNull -->
+  <!-- end class org.apache.pig.impl.logicalLayer.LOJoin -->
+  <!-- start class org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE -->
+  <class name="LOJoin.JOINTYPE" extends="java.lang.Enum"
+    abstract="false"
+    static="true" final="true" visibility="public"
+    deprecated="not deprecated">
+    <method name="values" return="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE[]"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="valueOf" return="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="name" type="java.lang.String"/>
+    </method>
+    <field name="HASH" type="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="REPLICATED" type="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="SKEWED" type="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <field name="MERGE" type="org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Enum for the type of join]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.LOJoin.JOINTYPE -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOLesserThan -->
   <class name="LOLesserThan" extends="org.apache.pig.impl.logicalLayer.BinaryExpressionOperator"
     abstract="false"
@@ -26536,7 +35954,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOLesserThanEqual -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOLimit -->
-  <class name="LOLimit" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOLimit" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -26627,14 +36045,22 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOLimit -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOLoad -->
-  <class name="LOLoad" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOLoad" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LOLoad" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec, org.apache.pig.ExecType, org.apache.pig.backend.datastorage.DataStorage, boolean"
+    <constructor name="LOLoad" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec, org.apache.hadoop.conf.Configuration"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
@@ -26645,12 +36071,8 @@ BagFactory, and all three types of bags are provided.]]>
             OperatorKey for this operator
  @param inputFileSpec
             the file to be loaded *
- @param execType
-            the execution mode @see org.apache.pig.ExecType
- @param storage
-            the underlying storage
- @param splittable
-            if the input file is splittable (.gz is not)]]>
+ @param conf
+            the read-only configuration object]]>
       </doc>
     </constructor>
     <method name="getInputFile" return="org.apache.pig.impl.io.FileSpec"
@@ -26720,11 +36142,6 @@ BagFactory, and all three types of bags are provided.]]>
  @param enforcedSchema]]>
       </doc>
     </method>
-    <method name="isSplittable" return="boolean"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </method>
     <method name="getType" return="byte"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -26748,11 +36165,44 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <field name="splittable" type="boolean"
-      transient="false" volatile="false"
-      static="false" final="false" visibility="protected"
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </field>
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pushProjection" return="org.apache.pig.LoadPushDown.RequiredFieldResponse"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="requiredFieldList" type="org.apache.pig.LoadPushDown.RequiredFieldList"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="setAlias"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="newAlias" type="java.lang.String"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="getRequiredFieldList" return="org.apache.pig.LoadPushDown.RequiredFieldList"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getConfiguration" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOLoad -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOMapLookup -->
@@ -26760,7 +36210,7 @@ BagFactory, and all three types of bags are provided.]]>
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LOMapLookup" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.lang.Object, byte, org.apache.pig.impl.logicalLayer.schema.Schema"
+    <constructor name="LOMapLookup" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, java.lang.String, byte, org.apache.pig.impl.logicalLayer.schema.Schema"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="ParseException" type="org.apache.pig.impl.logicalLayer.parser.ParseException"/>
@@ -26782,7 +36232,7 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="getLookUpKey" return="java.lang.Object"
+    <method name="getLookUpKey" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -27357,7 +36807,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LORegexp -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOSort -->
-  <class name="LOSort" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOSort" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -27493,10 +36943,41 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getSortInfo" return="org.apache.pig.SortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOSort -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOSplit -->
-  <class name="LOSplit" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOSplit" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -27583,10 +37064,28 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOSplit -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOSplitOutput -->
-  <class name="LOSplitOutput" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOSplitOutput" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -27669,6 +37168,31 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
     <field name="mIndex" type="int"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -27677,11 +37201,11 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOSplitOutput -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOStore -->
-  <class name="LOStore" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOStore" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LOStore" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec"
+    <constructor name="LOStore" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.io.FileSpec, java.lang.String"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="IOException" type="java.io.IOException"/>
@@ -27694,6 +37218,25 @@ BagFactory, and all three types of bags are provided.]]>
             the file to be stored]]>
       </doc>
     </constructor>
+    <method name="getSortInfo" return="org.apache.pig.SortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setSortInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="sortInfo" type="org.apache.pig.SortInfo"/>
+    </method>
+    <method name="constructSignature" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="alias" type="java.lang.String"/>
+      <param name="filename" type="java.lang.String"/>
+      <param name="funcSpec" type="org.apache.pig.FuncSpec"/>
+    </method>
     <method name="getOutputFile" return="org.apache.pig.impl.io.FileSpec"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -27706,7 +37249,7 @@ BagFactory, and all three types of bags are provided.]]>
       <param name="outputFileSpec" type="org.apache.pig.impl.io.FileSpec"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="getStoreFunc" return="org.apache.pig.StoreFunc"
+    <method name="getStoreFunc" return="org.apache.pig.StoreFuncInterface"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -27760,10 +37303,29 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="setAlias"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="newAlias" type="java.lang.String"/>
+    </method>
+    <method name="getSignature" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOStore -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOStream -->
-  <class name="LOStream" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOStream" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -27846,6 +37408,14 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
     <doc>
     <![CDATA[{@link LOStream} represents the specification of an external
  command to be executed in a Pig Query. 
@@ -27899,7 +37469,7 @@ BagFactory, and all three types of bags are provided.]]>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOSubtract -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOUnion -->
-  <class name="LOUnion" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+  <class name="LOUnion" extends="org.apache.pig.impl.logicalLayer.RelationalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
@@ -27967,6 +37537,21 @@ BagFactory, and all three types of bags are provided.]]>
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOUnion -->
   <!-- start class org.apache.pig.impl.logicalLayer.LOUserFunc -->
@@ -28121,8 +37706,13 @@ BagFactory, and all three types of bags are provided.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="frj" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="loj" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param loj 
+            the logical join operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
@@ -28443,6 +38033,218 @@ BagFactory, and all three types of bags are provided.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.LOVisitor -->
+  <!-- start class org.apache.pig.impl.logicalLayer.PColFilterExtractor -->
+  <class name="PColFilterExtractor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PColFilterExtractor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan logical plan corresponding the filter's comparison condition
+ @param partitionCols list of partition columns of the table which is
+ being loaded in the LOAD statement which is input to the filter]]>
+      </doc>
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="project" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.BinaryExpressionOperator"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getPColCondition" return="org.apache.pig.Expression"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the condition on partition columns extracted from filter]]>
+      </doc>
+    </method>
+    <method name="isFilterRemovable" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the filterRemovable]]>
+      </doc>
+    </method>
+    <method name="getExpression" return="org.apache.pig.Expression"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.ExpressionOperator"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="throwException"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOAdd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOAnd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LODivide"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMod"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMultiply"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONotEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOOr"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSubtract"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.ExpressionOperator"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cast" type="org.apache.pig.impl.logicalLayer.LOCast"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="not" type="org.apache.pig.impl.logicalLayer.LONot"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="regexp" type="org.apache.pig.impl.logicalLayer.LORegexp"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="binCond" type="org.apache.pig.impl.logicalLayer.LOBinCond"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="udf" type="org.apache.pig.impl.logicalLayer.LOUserFunc"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="isNull" type="org.apache.pig.impl.logicalLayer.LOIsNull"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <doc>
+    <![CDATA[This Visitor works on the filter condition of a LOFilter which immediately 
+ follows a LOLoad that interacts with a metadata system (currently OWL) to 
+ read table data. The visitor looks for conditions on partition columns in the
+ filter condition and extracts those conditions out of the filter condition.
+ The condition on partition cols will be used to prune partitions of the table.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.PColFilterExtractor -->
   <!-- start class org.apache.pig.impl.logicalLayer.PlanSetter -->
   <class name="PlanSetter" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
     abstract="false"
@@ -28491,7 +38293,7 @@ BagFactory, and all three types of bags are provided.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
@@ -28512,218 +38314,588 @@ BagFactory, and all three types of bags are provided.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LODivide"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOIsNull"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMapLookup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMod"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMultiply"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONegative"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONot"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONotEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOOr"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LORegexp"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSubtract"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOUserFunc"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOStream"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <doc>
+    <![CDATA[A visitor to set plans correctly inside logical operators.  When a logical
+ operator is constructed, it is passed the plan value that is currently
+ being used.  However, once a single plan is stitched together, these
+ references are no longer useful.  However, there are a number of places
+ that it is useful to be able to refer to the correct plan.  So this visitor
+ walks the final plan and sets the mCurrentWalker.getPlan() values in LogicalOperator
+ appropriately.  Note that some operators can be in multiple plans (such as
+ inside a foreach).  In this case the mCurrentWalker.getPlan() value will be for one of the
+ plans.  Which one is not guaranteed.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.PlanSetter -->
+  <!-- start class org.apache.pig.impl.logicalLayer.ProjectFixerUpper -->
+  <class name="ProjectFixerUpper" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ProjectFixerUpper" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.logicalLayer.LogicalOperator, int, org.apache.pig.impl.logicalLayer.LogicalOperator, boolean, org.apache.pig.impl.logicalLayer.LogicalOperator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </constructor>
+    <constructor name="ProjectFixerUpper" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.logicalLayer.LogicalOperator, org.apache.pig.impl.logicalLayer.LogicalOperator, java.util.Map"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="f" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="f" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="p" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[A class to visit all the projects and change them to attach to a new
+ node.  This class overrides all of the relational operators visit
+ methods because it does not want to visit contained plans.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.ProjectFixerUpper -->
+  <!-- start class org.apache.pig.impl.logicalLayer.ProjectionMapCalculator -->
+  <class name="ProjectionMapCalculator" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ProjectionMapCalculator" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LODivide"/>
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param cg
+            the logical cogroup operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOEqual"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param join
+            the logical join operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param s
+            the logical sort operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <param name="limit" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param limit
+            the logical limit operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThan"/>
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param filter
+            the logical filter operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThanEqual"/>
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param split
+            the logical split operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOIsNull"/>
+      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param forEach
+            the logical foreach operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThan"/>
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThanEqual"/>
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <param name="sop" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMapLookup"/>
+      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMod"/>
+      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMultiply"/>
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+    <doc>
+    <![CDATA[A visitor to calculate all the projection maps in a logical plan.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.ProjectionMapCalculator -->
+  <!-- start class org.apache.pig.impl.logicalLayer.ProjectionMapRemover -->
+  <class name="ProjectionMapRemover" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ProjectionMapRemover" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LONegative"/>
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param cg
+            the logical cogroup operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LONot"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param join
+            the logical join operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LONotEqual"/>
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param s
+            the logical sort operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOOr"/>
+      <param name="limit" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param limit
+            the logical limit operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOProject"/>
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param filter
+            the logical filter operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LORegexp"/>
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param split
+            the logical split operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param forEach
+            the logical foreach operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSubtract"/>
+      <param name="sop" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOUserFunc"/>
+      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
+      static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOStream"/>
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <doc>
-    <![CDATA[A visitor to set plans correctly inside logical operators.  When a logical
- operator is constructed, it is passed the plan value that is currently
- being used.  However, once a single plan is stitched together, these
- references are no longer useful.  However, there are a number of places
- that it is useful to be able to refer to the correct plan.  So this visitor
- walks the final plan and sets the mCurrentWalker.getPlan() values in LogicalOperator
- appropriately.  Note that some operators can be in multiple plans (such as
- inside a foreach).  In this case the mCurrentWalker.getPlan() value will be for one of the
- plans.  Which one is not guaranteed.]]>
+    <![CDATA[A visitor to reset all the projection maps in a logical plan.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.PlanSetter -->
+  <!-- end class org.apache.pig.impl.logicalLayer.ProjectionMapRemover -->
   <!-- start class org.apache.pig.impl.logicalLayer.ProjectStarTranslator -->
   <class name="ProjectStarTranslator" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
     abstract="false"
@@ -28749,7 +38921,7 @@ BagFactory, and all three types of bags are provided.]]>
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="frj" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
@@ -28783,6 +38955,151 @@ BagFactory, and all three types of bags are provided.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.ProjectStarTranslator -->
+  <!-- start class org.apache.pig.impl.logicalLayer.RelationalOperator -->
+  <class name="RelationalOperator" extends="org.apache.pig.impl.logicalLayer.LogicalOperator"
+    abstract="true"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="RelationalOperator" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            Logical plan this operator is a part of.
+ @param k
+            Operator key to assign to this node.
+ @param rp
+            degree of requested parallelism with which to execute this
+            node.]]>
+      </doc>
+    </constructor>
+    <constructor name="RelationalOperator" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            Logical plan this operator is a part of.
+ @param k
+            Operator key to assign to this node.]]>
+      </doc>
+    </constructor>
+    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Produce a map describing how this operator modifies its projection.
+ @return ProjectionMap null indicates it does not know how the projection
+ changes, for example a join of two inputs where one input does not have
+ a schema.]]>
+      </doc>
+    </method>
+    <method name="unsetProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Unset the projection map as if it had not been calculated.  This is used by
+ anyone who reorganizes the tree and needs to have projection maps recalculated.]]>
+      </doc>
+    </method>
+    <method name="regenerateProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Regenerate the projection map by unsetting and getting the projection map]]>
+      </doc>
+    </method>
+    <method name="getRequiredFields" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get a list of fields that this operator requires. This is not necessarily
+ equivalent to the list of fields the operator projects. For example, a
+ filter will project anything passed to it, but requires only the fields
+ explicitly referenced in its filter expression.
+ 
+ @return list of RequiredFields null indicates that the operator does not need any
+         fields from its input.]]>
+      </doc>
+    </method>
+    <method name="getRelevantInputs" return="java.util.List"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="output" type="int"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+      <doc>
+      <![CDATA[Get relevant input columns of a particular output column. The resulting input columns 
+ are necessary components only to the output column. Input columns needed by the entire 
+ RelationalOperator thus indirectly contribute to the output columns are not counted. Those
+ are required columns.
+ eg1:
+ A = load 'a' AS (a0, a1, a2);
+ B = filter a by a0=='1';
+ 
+ Relevant input columns for B.$1 is A.a1 because A.a1 direct generate B.$1. A.a0 is needed
+ by the filter operator and it is considered as required fields for the relational operator.
+ 
+ eg2:
+ A = load 'a' AS (a0, a1);
+ B = load 'b' AS (b0, b1);
+ C = join A by a0, B by b0;
+ 
+ Relevant input columns for C.$0 is A.a0. Relevant input columns for C.$1 is A.a1.
+ 
+ eg3:
+ A = load 'a' AS (a0, a1);
+ B = load 'b' AS (b0, b1);
+ C = cogroup A by a0, B by b0;
+ 
+ Relevant input columns for C.$0 is A.a0, B.b0. Relevant input columns for C.$1 is A.*. Relevant input columns for C.$2 is B.*.
+ 
+ eg4:
+ A = load 'a' AS (a0, a1, a2);
+ B = foreach A generate a1, a0+a2;
+ 
+ Relevant input columns for B.$0 is A.a1. Relevant input columns for B.$1 is A.a0 and A.a2.
+ 
+ eg5:
+ A = load 'a' AS (a0, a1, a2);
+ B = foreach A generate a1, *;
+ 
+ Relevant input columns for B.$0 is A.a1. Relevant input columns for B.$1 is A.a0. 
+ Relevant input columns for B.$2 is A.a1. Relevant input columns for B.$3 is A.a2.
+ 
+ @param output output index. Only LOSplit have output other than 0 currently 
+ @param column output column
+ @return List of relevant input columns. null if Pig cannot determine relevant inputs or any error occurs]]>
+      </doc>
+    </method>
+    <method name="pruneColumns" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columns" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="pruneColumnInPlan"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
+      <param name="column" type="int"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+    <method name="insertPlainForEachAfter" return="org.apache.pig.impl.logicalLayer.LogicalOperator"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="columnsToProject" type="java.util.List"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.RelationalOperator -->
   <!-- start class org.apache.pig.impl.logicalLayer.RemoveRedundantOperators -->
   <class name="RemoveRedundantOperators" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
     abstract="false"
@@ -28874,6 +39191,55 @@ BagFactory, and all three types of bags are provided.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.TopLevelProjectFinder -->
+  <!-- start class org.apache.pig.impl.logicalLayer.UDFFinder -->
+  <class name="UDFFinder" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="UDFFinder" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param plan
+            logical plan to query the presence of UDFs]]>
+      </doc>
+    </constructor>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="udf" type="org.apache.pig.impl.logicalLayer.LOUserFunc"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getUDFList" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return list of function specifications found in the plan]]>
+      </doc>
+    </method>
+    <method name="getUDFSet" return="java.util.Set"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return set of function specifications found in the plan]]>
+      </doc>
+    </method>
+    <method name="foundAnyUDF" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the plan had any UDFs; false otherwise]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[A visitor to track the UDFs in a plan.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.UDFFinder -->
   <!-- start class org.apache.pig.impl.logicalLayer.UnaryExpressionOperator -->
   <class name="UnaryExpressionOperator" extends="org.apache.pig.impl.logicalLayer.ExpressionOperator"
     abstract="true"
@@ -29027,6 +39393,12 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
+    <method name="optimize" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="true" visibility="public"
+      deprecated="not deprecated">
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
     <doc>
     <![CDATA[An optimizer for logical plans.]]>
     </doc>
@@ -29037,7 +39409,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LogicalTransformer" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.plan.PlanWalker"
+    <constructor name="LogicalTransformer" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
     </constructor>
@@ -29053,6 +39425,17 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @throws VisitorException, FrontendException]]>
       </doc>
     </method>
+    <method name="rebuildProjectionMaps"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[Rebuild projection maps after a rule has transformed the tree.  This will first
+ null out existing projection maps and then call getProjectionMap to rebuild them.
+ @throws VisitorException]]>
+      </doc>
+    </method>
     <method name="insertBetween"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
@@ -29126,26 +39509,10 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @throws VisitorException, FrontendException]]>
       </doc>
     </method>
-    <method name="removeFromChain"
+    <method name="reset"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="nodeToRemove" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
-      <param name="projectionMapping" type="java.util.Map"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
-      <doc>
-      <![CDATA[Remove a node in the middle of a linear chain. This includes removing the node 
- from the plan and reconnect the nodes before and after the node as well as rebuilding
- all of the schemas. This node should have one and only one predecessor and zero or one 
- successor
- @param nodeToRemove Node to remove
- @param projectionMapping A map that defines how projections in after
- relate to projections in nodeToRemove.  Keys are the projection offsets in
- after, values are the new offsets in nodeToRemove.  If this field is null,
- then it will be assumed that the mapping is 1-1.
- @throws VisitorException, FrontendException]]>
-      </doc>
     </method>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer -->
@@ -29193,6 +39560,199 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.optimizer.OpLimitOptimizer -->
+  <!-- start class org.apache.pig.impl.logicalLayer.optimizer.PartitionFilterOptimizer -->
+  <class name="PartitionFilterOptimizer" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PartitionFilterOptimizer" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="transform"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <doc>
+    <![CDATA[When the load statement in a pig script is loading a table from a meta data
+ system (like owl), the load can be followed by a filter which can contain
+ conditions on partition columns. This filter can also contain conditions on
+ non partition columns. This optimizer looks at the logical plan and checks if
+ there is a load followed by such a filter which has conditions on partition
+ columns. If so, it extracts the conditions on partition columns out of the
+ filter.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.PartitionFilterOptimizer -->
+  <!-- start class org.apache.pig.impl.logicalLayer.optimizer.PruneColumns -->
+  <class name="PruneColumns" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PruneColumns" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="check" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="transform"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="processNode"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="lo" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <param name="requiredOutputInfo" type="org.apache.pig.impl.logicalLayer.optimizer.RequiredInfo"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="prune"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.PruneColumns -->
+  <!-- start class org.apache.pig.impl.logicalLayer.optimizer.PushDownForeachFlatten -->
+  <class name="PushDownForeachFlatten" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PushDownForeachFlatten" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getSwap" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the foreach has to swapped; false otherwise]]>
+      </doc>
+    </method>
+    <method name="getInsertBetween" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the foreach has to be inserted after its successor; false
+         otherwise]]>
+      </doc>
+    </method>
+    <method name="getFlattenedColumnMap" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return a map of old column position in the foreach to the column
+         position in foreach's successor]]>
+      </doc>
+    </method>
+    <method name="check" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="transform"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="reset"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[A visitor to discover if a foreach with flatten(s) can be pushed as low down the tree as
+ possible.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.PushDownForeachFlatten -->
+  <!-- start class org.apache.pig.impl.logicalLayer.optimizer.PushUpFilter -->
+  <class name="PushUpFilter" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="PushUpFilter" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getSwap" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the filter has to swapped; false otherwise]]>
+      </doc>
+    </method>
+    <method name="getPushBefore" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return true if the filter has to be pushed before its predecessor; false
+         otherwise]]>
+      </doc>
+    </method>
+    <method name="getPushBeforeInput" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return return the input of the predecessor where the filter has to be
+         pushed]]>
+      </doc>
+    </method>
+    <method name="check" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="transform"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="nodes" type="java.util.List"/>
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+    </method>
+    <method name="reset"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[A visitor to discover if a filter can be pushed as high up the tree as
+ possible.]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.PushUpFilter -->
   <!-- start class org.apache.pig.impl.logicalLayer.optimizer.SchemaCalculator -->
   <class name="SchemaCalculator" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
     abstract="false"
@@ -29235,6 +39795,18 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <doc>
       <![CDATA[@param cg
             the logical cogroup operator that has to be visited
+ @throws VisitorException]]>
+      </doc>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <doc>
+      <![CDATA[@param join
+            the logical join operator that has to be visited
  @throws VisitorException]]>
       </doc>
     </method>
@@ -29624,51 +40196,140 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="frj" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <doc>
-    <![CDATA[A visitor to reset all the schemas in a logical plan.]]>
-    </doc>
-  </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.SchemaRemover -->
-  <!-- start class org.apache.pig.impl.logicalLayer.optimizer.StreamOptimizer -->
-  <class name="StreamOptimizer" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
-    abstract="false"
-    static="false" final="false" visibility="public"
-    deprecated="not deprecated">
-    <constructor name="StreamOptimizer" type="org.apache.pig.impl.logicalLayer.LogicalPlan, java.lang.String"
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.ExpressionOperator"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-    </constructor>
-    <method name="check" return="boolean"
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOAdd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="nodes" type="java.util.List"/>
-      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOAnd"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="transform"
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="nodes" type="java.util.List"/>
-      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LODivide"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOGreaterThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="uniOp" type="org.apache.pig.impl.logicalLayer.LOIsNull"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThan"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOLesserThanEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMapLookup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMod"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOMultiply"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONegative"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="uniOp" type="org.apache.pig.impl.logicalLayer.LONot"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LONotEqual"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="binOp" type="org.apache.pig.impl.logicalLayer.LOOr"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOSubtract"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <doc>
-    <![CDATA[A visitor to optimize in the following scenario with
- streaming:
- Optimize when LOAD precedes STREAM and the loader class
- is the same as the serializer for the STREAM.
- Similarly optimize when STREAM is followed by store and the
- deserializer class is same as the Storage class.
- Specifically in both these cases the optimization is to
- replace the loader/serializer with BinaryStorage which 
- just moves bytes around and likewise replace the storer/deserializer
- with BinaryStorage]]>
+    <![CDATA[A visitor to reset all the schemas in a logical plan.]]>
     </doc>
   </class>
-  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.StreamOptimizer -->
+  <!-- end class org.apache.pig.impl.logicalLayer.optimizer.SchemaRemover -->
   <!-- start class org.apache.pig.impl.logicalLayer.optimizer.TypeCastInserter -->
   <class name="TypeCastInserter" extends="org.apache.pig.impl.logicalLayer.optimizer.LogicalTransformer"
     abstract="false"
@@ -30057,6 +40718,13 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <![CDATA[@param twoLevelAccess the twoLevelAccess to set]]>
       </doc>
     </method>
+    <method name="getPigSchema" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="rSchema" type="org.apache.pig.ResourceSchema"/>
+      <exception name="FrontendException" type="org.apache.pig.impl.logicalLayer.FrontendException"/>
+    </method>
     <doc>
     <![CDATA[The Schema class encapsulates the notion of a schema for a relational operator.
  A schema is a list of columns that describe the output of a relational operator.
@@ -30327,7 +40995,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </field>
     <field name="canonicalNamer" type="org.apache.pig.impl.logicalLayer.CanonicalNamer"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
       <doc>
       <![CDATA[Canonical namer object to generate new canonical names on
@@ -30729,7 +41397,8 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
       <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
       <doc>
-      <![CDATA[The logic here is just to check that the file(s) do not exist]]>
+      <![CDATA[The logic here is to delegate the validation of output specification
+ to output format implementation.]]>
       </doc>
     </method>
     <doc>
@@ -30748,7 +41417,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
     <implements name="org.apache.pig.impl.plan.PlanValidationExecutor"/>
-    <constructor name="LogicalPlanValidationExecutor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext"
+    <constructor name="LogicalPlanValidationExecutor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext, boolean"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <doc>
@@ -30780,6 +41449,144 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.logicalLayer.validators.LogicalPlanValidationExecutor -->
+  <!-- start class org.apache.pig.impl.logicalLayer.validators.SchemaAliasValidator -->
+  <class name="SchemaAliasValidator" extends="org.apache.pig.impl.plan.PlanValidator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SchemaAliasValidator"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="validate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="plan" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
+      <param name="msgCollector" type="org.apache.pig.impl.plan.CompilationMessageCollector"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.validators.SchemaAliasValidator -->
+  <!-- start class org.apache.pig.impl.logicalLayer.validators.SchemaAliasVisitor -->
+  <class name="SchemaAliasVisitor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="SchemaAliasVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="validate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="lo" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+      <doc>
+      <![CDATA[The logic here is to check if we have duplicate alias in each schema]]>
+      </doc>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cogroup" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cross" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="distinct" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="foreach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="limit" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="sort" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="splitoutput" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="union" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="PlanValidationException" type="org.apache.pig.impl.plan.PlanValidationException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.logicalLayer.validators.SchemaAliasVisitor -->
   <!-- start class org.apache.pig.impl.logicalLayer.validators.TypeCheckerException -->
   <class name="TypeCheckerException" extends="org.apache.pig.impl.plan.VisitorException"
     abstract="false"
@@ -31254,10 +42061,10 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
-      <param name="frj" type="org.apache.pig.impl.logicalLayer.LOFRJoin"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
       <doc>
-      <![CDATA[Mimics the type checking of LOCogroup]]>
+      <![CDATA[LOJoin visitor]]>
       </doc>
     </method>
     <method name="visit"
@@ -31320,7 +42127,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </method>
     <field name="castLookup" type="org.apache.pig.impl.util.MultiMap"
       transient="false" volatile="false"
-      static="true" final="false" visibility="public"
+      static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
     <doc>
@@ -31744,6 +42551,44 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.plan.DotPlanDumper -->
+  <!-- start class org.apache.pig.impl.plan.MapKeysInfo -->
+  <class name="MapKeysInfo" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="MapKeysInfo"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="MapKeysInfo" type="java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="MapKeysInfo" type="boolean"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="MapKeysInfo" type="boolean, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getKeys" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="needAllKeys" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.plan.MapKeysInfo -->
   <!-- start class org.apache.pig.impl.plan.NodeIdGenerator -->
   <class name="NodeIdGenerator" extends="java.lang.Object"
     abstract="false"
@@ -31873,6 +42718,60 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  are cloned using {@link LogicalPlanCloner}]]>
       </doc>
     </method>
+    <method name="getProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Produce a map describing how this operator modifies its projection.
+ @return ProjectionMap null indicates it does not know how the projection
+ changes, for example a join of two inputs where one input does not have
+ a schema.]]>
+      </doc>
+    </method>
+    <method name="unsetProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Unset the projection map as if it had not been calculated.  This is used by
+ anyone who reorganizes the tree and needs to have projection maps recalculated.]]>
+      </doc>
+    </method>
+    <method name="regenerateProjectionMap" return="org.apache.pig.impl.plan.ProjectionMap"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Regenerate the projection map by unsetting and getting the projection map]]>
+      </doc>
+    </method>
+    <method name="rewire"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="oldPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="oldPredIndex" type="int"/>
+      <param name="newPred" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="useOldPred" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+      <doc>
+      <![CDATA[Make any necessary changes to a node based on a change of position in the
+ plan. This allows operators to rewire their projections, etc. when they
+ are relocated in a plan.
+ 
+ @param oldPred
+            Operator that was previously the predecessor.
+ @param oldPredIndex
+            position of the old predecessor in the list of predecessors
+ @param newPred
+            Operator that will now be the predecessor.
+ @param useOldPred
+            If true use oldPred's projection map for the rewire; otherwise
+            use newPred's projection map
+ @throws PlanException]]>
+      </doc>
+    </method>
     <field name="mKey" type="org.apache.pig.impl.plan.OperatorKey"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
@@ -32121,6 +43020,19 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @return Collection of nodes.]]>
       </doc>
     </method>
+    <method name="pathExists" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="from" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="to" type="org.apache.pig.impl.plan.Operator"/>
+      <doc>
+      <![CDATA[A method to check if there is a path from a given node to another node
+ @param from the start node for checking
+ @param to the end node for checking
+ @return true if path exists, false otherwise]]>
+      </doc>
+    </method>
     <method name="iterator" return="java.util.Iterator"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -32200,6 +43112,16 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  connecting nodes.]]>
       </doc>
     </method>
+    <method name="doInsertBetween"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="after" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="newNode" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="before" type="org.apache.pig.impl.plan.Operator"/>
+      <param name="rewire" type="boolean"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
     <method name="replace"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -32210,7 +43132,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <doc>
       <![CDATA[Replace an existing node in the graph with a new node.  The new node
  will be connected to all the nodes the old node was.  The old node will
- be removed.
+ be removed. The new node is assumed to have no incoming or outgoing edges
  @param oldNode Node to be replaced
  @param newNode Node to add in place of oldNode
  @throws PlanException]]>
@@ -32340,7 +43262,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </field>
     <field name="log" type="org.apache.commons.logging.Log"
       transient="false" volatile="false"
-      static="true" final="false" visibility="protected"
+      static="true" final="true" visibility="protected"
       deprecated="not deprecated">
     </field>
     <doc>
@@ -32359,6 +43281,23 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.plan.OperatorPlan -->
+  <!-- start class org.apache.pig.impl.plan.OperatorPlan.IndexHelper -->
+  <class name="OperatorPlan.IndexHelper" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="OperatorPlan.IndexHelper" type="java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getIndex" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="e" type="java.lang.Object"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.plan.OperatorPlan.IndexHelper -->
   <!-- start class org.apache.pig.impl.plan.PlanDumper -->
   <class name="PlanDumper" extends="java.lang.Object"
     abstract="false"
@@ -33200,6 +44139,85 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.plan.ProjectionMap -->
+  <!-- start class org.apache.pig.impl.plan.ProjectionMap.Column -->
+  <class name="ProjectionMap.Column" extends="java.lang.Object"
+    abstract="false"
+    static="true" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ProjectionMap.Column" type="org.apache.pig.impl.util.Pair"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param inputColumn
+            A pair of integers representing the input number and the
+            input column number]]>
+      </doc>
+    </constructor>
+    <constructor name="ProjectionMap.Column" type="org.apache.pig.impl.util.Pair, boolean, byte"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param inputColumn
+            A pair of integers representing the input number and the
+            input column number
+ @param cast
+            true if the input column has a cast
+ @param castType
+            the data type of the cast]]>
+      </doc>
+    </constructor>
+    <method name="getInputColumn" return="org.apache.pig.impl.util.Pair"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the mapped column details
+ 
+ @return A pair of integers representing the input number and the
+         input column number]]>
+      </doc>
+    </method>
+    <method name="getCast" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Check if the column is cast
+ 
+ @return true if the input column has a cast; false otherwise]]>
+      </doc>
+    </method>
+    <method name="cast" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Check if the column is cast
+ 
+ @return true if the input column has a cast; false otherwise]]>
+      </doc>
+    </method>
+    <method name="getCastType" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the data type of the cast
+ 
+ @return the data type of the cast]]>
+      </doc>
+    </method>
+    <method name="toString" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <doc>
+    <![CDATA[A wrapper for projection map columns to contain the input number, input
+ column. Additionally, if a cast is used, record the type of the cast]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.plan.ProjectionMap.Column -->
   <!-- start class org.apache.pig.impl.plan.RequiredFields -->
   <class name="RequiredFields" extends="java.lang.Object"
     abstract="false"
@@ -33239,6 +44257,25 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <![CDATA[@return the list of input columns that are required]]>
       </doc>
     </method>
+    <method name="getField" return="org.apache.pig.impl.util.Pair"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+      <doc>
+      <![CDATA[@param i
+         the index of the required field
+ @return the ith required input column]]>
+      </doc>
+    </method>
+    <method name="size" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return the size of required input columns]]>
+      </doc>
+    </method>
     <method name="setFields"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -33308,6 +44345,104 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="merge"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="r2" type="org.apache.pig.impl.plan.RequiredFields"/>
+      <doc>
+      <![CDATA[Merge with RequiredFields r2. Merge both required fields and required map keys 
+ @param r2
+            Required fields to merge]]>
+      </doc>
+    </method>
+    <method name="reIndex"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+      <doc>
+      <![CDATA[Set the index of all fields to i  
+ @param i
+            New index to set]]>
+      </doc>
+    </method>
+    <method name="mergeMapKey"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="int"/>
+      <param name="column" type="int"/>
+      <param name="key" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Merge another map key into existing required map keys list
+ @param input
+            The input of the field to merge
+ @param column
+            The column of the field to merge
+ @param key
+            The key to merge]]>
+      </doc>
+    </method>
+    <method name="mergeMapKeysInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="int"/>
+      <param name="column" type="int"/>
+      <param name="mapKeysInfo" type="org.apache.pig.impl.plan.MapKeysInfo"/>
+      <doc>
+      <![CDATA[Merge a MapKeysInfo structure to existing required map keys list
+ @param input
+            The input of the field to merge
+ @param column
+            The column of the field to merge
+ @param mapKeysInfo
+            The MapKeysInfo structure to merge]]>
+      </doc>
+    </method>
+    <method name="setMapKeysInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="input" type="int"/>
+      <param name="column" type="int"/>
+      <param name="mapKeysInfo" type="org.apache.pig.impl.plan.MapKeysInfo"/>
+      <doc>
+      <![CDATA[Set a MapKeysInfo structure to the required map keys list
+ @param input
+            The input of the field to set
+ @param column
+            The column of the field to set
+ @param mapKeysInfo
+            The MapKeysInfo structure to set]]>
+      </doc>
+    </method>
+    <method name="getMapKeysInfo" return="org.apache.pig.impl.plan.MapKeysInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+      <doc>
+      <![CDATA[Get the ith MapKeysInfo structure 
+ @param i
+            The index of the MapKeysInfo, the index of MapKeysInfo is synchronized with mFields]]>
+      </doc>
+    </method>
+    <method name="setMapKeysInfo"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="i" type="int"/>
+      <param name="mapKeysInfo" type="org.apache.pig.impl.plan.MapKeysInfo"/>
+      <doc>
+      <![CDATA[Set the ith MapKeysInfo structure 
+ @param i
+            The index of the MapKeysInfo, the index of MapKeysInfo is synchronized with mFields
+ @param mapKeysInfo
+            The MapKeysInfo to set]]>
+      </doc>
+    </method>
     <doc>
     <![CDATA[A struct detailing how a projection is altered by an operator.]]>
     </doc>
@@ -33695,9 +44830,9 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @param iterations maximum number of optimization iterations]]>
       </doc>
     </constructor>
-    <method name="optimize"
+    <method name="optimize" return="int"
       abstract="false" native="false" synchronized="false"
-      static="false" final="true" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
       <doc>
@@ -33706,6 +44841,8 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  method of the associated Transformer to give the it a chance to
  check whether it really wants to do the optimization.  If that
  returns true as well, then Transformer.transform is called. 
+ @return number of iterations the optimizer tried check and transform for
+ the various rules
  @throws OptimizerException]]>
       </doc>
     </method>
@@ -33816,6 +44953,11 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="true" final="true" visibility="public"
       deprecated="not deprecated">
     </field>
+    <field name="ReverseDependencyOrderWalker" type="org.apache.pig.impl.plan.optimizer.Rule.WalkerAlgo"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="public"
+      deprecated="not deprecated">
+    </field>
   </class>
   <!-- end class org.apache.pig.impl.plan.optimizer.Rule.WalkerAlgo -->
   <!-- start class org.apache.pig.impl.plan.optimizer.RuleMatcher -->
@@ -33839,6 +44981,17 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @return true if the plan matches.]]>
       </doc>
     </method>
+    <method name="getAllMatches" return="java.util.List"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@return all occurrences of matches. lists of nodes that with the instances of nodes that matched the
+ pattern defined by
+ the rule.  The nodes will be in the vector in the order they are
+ specified in the rule.]]>
+      </doc>
+    </method>
     <doc>
     <![CDATA[RuleMatcher contains the logic to determine whether a given rule matches.
  This alone does not mean the rule will be applied.  Transformer.check()
@@ -34074,11 +45227,11 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
   </class>
   <!-- end class org.apache.pig.impl.plan.optimizer.RulePlanVisitor -->
   <!-- start class org.apache.pig.impl.plan.optimizer.Transformer -->
-  <class name="Transformer" extends="org.apache.pig.impl.plan.PlanVisitor"
+  <class name="Transformer" extends="java.lang.Object"
     abstract="true"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="Transformer" type="org.apache.pig.impl.plan.OperatorPlan, org.apache.pig.impl.plan.PlanWalker"
+    <constructor name="Transformer" type="org.apache.pig.impl.plan.OperatorPlan"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
       <doc>
@@ -34118,6 +45271,27 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @throws OptimizerException]]>
       </doc>
     </method>
+    <method name="reset"
+      abstract="true" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="OptimizerException" type="org.apache.pig.impl.plan.optimizer.OptimizerException"/>
+      <doc>
+      <![CDATA[Reset any internal state after the transformation.
+ 
+ @throws OptimizerException]]>
+      </doc>
+    </method>
+    <method name="getPlan" return="org.apache.pig.impl.plan.OperatorPlan"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <field name="mPlan" type="org.apache.pig.impl.plan.OperatorPlan"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <doc>
     <![CDATA[Transformer represents one tranform that the optimizer can
  apply to a graph.  This class is a special case of a PlanVisitor,so it
@@ -34145,13 +45319,6 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="bindTo"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="os" type="java.io.OutputStream"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
     <method name="close"
       abstract="false" native="false" synchronized="true"
       static="false" final="false" visibility="public"
@@ -34184,22 +45351,6 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
-    <method name="bindTo"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <param name="fileName" type="java.lang.String"/>
-      <param name="is" type="org.apache.pig.impl.io.BufferedPositionedInputStream"/>
-      <param name="offset" type="long"/>
-      <param name="end" type="long"/>
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
-    <method name="close"
-      abstract="false" native="false" synchronized="true"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
     <doc>
     <![CDATA[FileOutputHandler handles the output from the Pig-Streaming
  executable in an synchronous manner by reading its output
@@ -34410,12 +45561,6 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="end" type="long"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
-    <method name="close"
-      abstract="false" native="false" synchronized="true"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-      <exception name="IOException" type="java.io.IOException"/>
-    </method>
     <doc>
     <![CDATA[FileOutputHandler handles the output from the Pig-Streaming
  executable in an asynchronous manner by reading it from
@@ -34533,7 +45678,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @throws IOException]]>
       </doc>
     </method>
-    <field name="serializer" type="org.apache.pig.StoreFunc"
+    <field name="serializer" type="org.apache.pig.PigToStream"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -34639,7 +45784,12 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
  @throws IOException]]>
       </doc>
     </method>
-    <field name="deserializer" type="org.apache.pig.LoadFunc"
+    <field name="deserializer" type="org.apache.pig.StreamToPig"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <field name="in" type="org.apache.hadoop.util.LineReader"
       transient="false" volatile="false"
       static="false" final="false" visibility="protected"
       deprecated="not deprecated">
@@ -35107,6 +46257,11 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       deprecated="not deprecated">
       <param name="obj" type="java.lang.Object"/>
     </method>
+    <method name="hashCode" return="int"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
     <method name="clone" return="java.lang.Object"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
@@ -35125,6 +46280,82 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
   <!-- end class org.apache.pig.impl.streaming.StreamingCommand.HandleSpec -->
 </package>
 <package name="org.apache.pig.impl.util">
+  <!-- start class org.apache.pig.impl.util.BagFormat -->
+  <class name="BagFormat" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="BagFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="format" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="bag" type="org.apache.pig.data.DataBag"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.util.BagFormat -->
+  <!-- start class org.apache.pig.impl.util.CastUtils -->
+  <class name="CastUtils" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="CastUtils"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="stringToDouble" return="java.lang.Double"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="str" type="java.lang.String"/>
+    </method>
+    <method name="stringToFloat" return="java.lang.Float"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="str" type="java.lang.String"/>
+    </method>
+    <method name="stringToInteger" return="java.lang.Integer"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="str" type="java.lang.String"/>
+    </method>
+    <method name="stringToLong" return="java.lang.Long"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="str" type="java.lang.String"/>
+    </method>
+    <field name="mLog" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+  </class>
+  <!-- end class org.apache.pig.impl.util.CastUtils -->
+  <!-- start class org.apache.pig.impl.util.CompilerUtils -->
+  <class name="CompilerUtils" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="CompilerUtils"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="addEmptyBagOuterJoin"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="fePlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
+      <param name="inputSchema" type="org.apache.pig.impl.logicalLayer.schema.Schema"/>
+      <exception name="PlanException" type="org.apache.pig.impl.plan.PlanException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.util.CompilerUtils -->
   <!-- start class org.apache.pig.impl.util.ConfigurationValidator -->
   <class name="ConfigurationValidator" extends="java.lang.Object"
     abstract="false"
@@ -35263,7 +46494,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="os" type="java.io.OutputStream"/>
-      <param name="funcs" type="java.util.List"/>
+      <param name="funcs" type="java.util.Set"/>
       <param name="pigContext" type="org.apache.pig.impl.PigContext"/>
       <exception name="ClassNotFoundException" type="java.lang.ClassNotFoundException"/>
       <exception name="IOException" type="java.io.IOException"/>
@@ -35348,6 +46579,24 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </method>
   </class>
   <!-- end class org.apache.pig.impl.util.LineageTracer -->
+  <!-- start class org.apache.pig.impl.util.LinkedMultiMap -->
+  <class name="LinkedMultiMap" extends="org.apache.pig.impl.util.MultiMap"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LinkedMultiMap"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="LinkedMultiMap" type="int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[@param size Initial size of the map]]>
+      </doc>
+    </constructor>
+  </class>
+  <!-- end class org.apache.pig.impl.util.LinkedMultiMap -->
   <!-- start class org.apache.pig.impl.util.LogUtils -->
   <class name="LogUtils" extends="java.lang.Object"
     abstract="false"
@@ -35386,6 +46635,7 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="logFileName" type="java.lang.String"/>
       <param name="log" type="org.apache.commons.logging.Log"/>
       <param name="verbose" type="boolean"/>
+      <param name="headerMessage" type="java.lang.String"/>
     </method>
     <method name="writeLog"
       abstract="false" native="false" synchronized="false"
@@ -35399,6 +46649,15 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="displayFooter" type="boolean"/>
       <param name="displayMessage" type="boolean"/>
     </method>
+    <method name="writeLog"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="headerMessage" type="java.lang.String"/>
+      <param name="message" type="java.lang.String"/>
+      <param name="logFileName" type="java.lang.String"/>
+      <param name="log" type="org.apache.commons.logging.Log"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.impl.util.LogUtils -->
   <!-- start class org.apache.pig.impl.util.MultiMap -->
@@ -35539,6 +46798,11 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       deprecated="not deprecated">
       <param name="val" type="java.lang.Object"/>
     </method>
+    <field name="mMap" type="java.util.Map"
+      transient="false" volatile="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+    </field>
     <doc>
     <![CDATA[An implementation of multi-map.  We can't use Apache commons
  MultiValueMap because it isn't serializable.  And we don't want to use
@@ -35763,11 +47027,319 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.util.SpillableMemoryManager -->
+  <!-- start class org.apache.pig.impl.util.StorageUtil -->
+  <class name="StorageUtil" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="true" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="StorageUtil"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="parseFieldDel" return="byte"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="delimiter" type="java.lang.String"/>
+      <doc>
+      <![CDATA[Transform a <code>String</code> into a byte representing the
+ field delimiter. 
+ 
+ @param delimiter a string that may be in single-quoted form   
+ @return the field delimiter in byte form]]>
+      </doc>
+    </method>
+    <method name="putField"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="out" type="java.io.OutputStream"/>
+      <param name="field" type="java.lang.Object"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Serialize an object to an {@link OutputStream} in the 
+ field-delimited form.  
+ 
+ @param out an OutputStream object 
+ @param field an object to be serialized
+ @throws IOException if serialization fails.]]>
+      </doc>
+    </method>
+    <method name="textToTuple" return="org.apache.pig.data.Tuple"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="val" type="org.apache.hadoop.io.Text"/>
+      <param name="fieldDel" type="byte"/>
+      <doc>
+      <![CDATA[Transform a line of <code>Text</code> to a <code>Tuple</code>
+ 
+ @param val a line of text
+ @param fieldDel the field delimiter
+ @return tuple constructed from the text]]>
+      </doc>
+    </method>
+    <doc>
+    <![CDATA[This util class provides methods that are shared by storage class 
+ {@link PigStorage} and streaming class {@link PigStreaming}]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.util.StorageUtil -->
+  <!-- start class org.apache.pig.impl.util.TupleFormat -->
+  <class name="TupleFormat" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="TupleFormat"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="format" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="tuple" type="org.apache.pig.data.Tuple"/>
+      <doc>
+      <![CDATA[Default implementation of format of tuple (each filed is delimited by
+ tab)
+ 
+ @param tuple
+ @return Default format of Tuple]]>
+      </doc>
+    </method>
+    <field name="mLog" type="org.apache.commons.logging.Log"
+      transient="false" volatile="false"
+      static="true" final="true" visibility="protected"
+      deprecated="not deprecated">
+    </field>
+    <doc>
+    <![CDATA[Default implementation of format of Tuple. Dump and PigDump use this default
+ implementation]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.util.TupleFormat -->
+  <!-- start class org.apache.pig.impl.util.UDFContext -->
+  <class name="UDFContext" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <method name="getUDFContext" return="org.apache.pig.impl.util.UDFContext"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="setClientSystemProps"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getClientSystemProps" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the System Properties (Read only) as on the client machine from where Pig
+ was launched. This will include command line properties passed at launch
+ time
+ @return client side System Properties including command line properties]]>
+      </doc>
+    </method>
+    <method name="addJobConf"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
+      <doc>
+      <![CDATA[Adds the JobConf to this singleton.  Will be 
+ called on the backend by the Map and Reduce 
+ functions so that UDFs can obtain the JobConf
+ on the backend.]]>
+      </doc>
+    </method>
+    <method name="getJobConf" return="org.apache.hadoop.conf.Configuration"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <doc>
+      <![CDATA[Get the JobConf.  This should only be called on
+ the backend.  It will return null on the frontend.
+ @return JobConf for this job.  This is a copy of the
+ JobConf.  Nothing written here will be kept by the system.
+ getUDFConf should be used for recording UDF specific
+ information.]]>
+      </doc>
+    </method>
+    <method name="getUDFProperties" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.lang.Class"/>
+      <param name="args" type="java.lang.String[]"/>
+      <doc>
+      <![CDATA[Get a properties object that is specific to this UDF.
+ Note that if a given UDF is called multiple times in a script, 
+ and each instance passes different arguments, then each will
+ be provided with different configuration object.
+ This can be used by loaders to pass their input object path
+ or URI and separate themselves from other instances of the
+ same loader.  Constructor arguments could also be used,
+ as they are available on both the front and back end.
+
+ Note that this can only be used to share information
+ across instantiations of the same function in the front end
+ and between front end and back end.  It cannot be used to
+ share information between instantiations (that is, between
+ map and/or reduce instances) on the back end at runtime.
+ @param c of the UDF obtaining the properties object.
+ @param args String arguments that make this instance of
+ the UDF unique.
+ @return A reference to the properties object specific to
+ the calling UDF.  This is a reference, not a copy.
+ Any changes to this object will automatically be 
+ propogated to other instances of the UDF calling this 
+ function.]]>
+      </doc>
+    </method>
+    <method name="getUDFProperties" return="java.util.Properties"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="c" type="java.lang.Class"/>
+      <doc>
+      <![CDATA[Get a properties object that is specific to this UDF.
+ Note that if a given UDF is called multiple times in a script, 
+ they will all be provided the same configuration object.  It
+ is up to the UDF to make sure the multiple instances do not
+ stomp on each other.
+
+ It is guaranteed that this properties object will be separate
+ from that provided to any other UDF.
+
+ Note that this can only be used to share information
+ across instantiations of the same function in the front end
+ and between front end and back end.  It cannot be used to
+ share information between instantiations (that is, between
+ map and/or reduce instances) on the back end at runtime.
+ @param c of the UDF obtaining the properties object.
+ @return A reference to the properties object specific to
+ the calling UDF.  This is a reference, not a copy.
+ Any changes to this object will automatically be 
+ propogated to other instances of the UDF calling this 
+ function.]]>
+      </doc>
+    </method>
+    <method name="serialize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="conf" type="org.apache.hadoop.conf.Configuration"/>
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Serialize the UDF specific information into an instance
+ of JobConf.  This function is intended to be called on
+ the front end in preparation for sending the data to the
+ backend.
+ @param conf JobConf to serialize into
+ @throws IOException if underlying serialization throws it]]>
+      </doc>
+    </method>
+    <method name="deserialize"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <exception name="IOException" type="java.io.IOException"/>
+      <doc>
+      <![CDATA[Populate the udfConfs field.  This function is intended to
+ be called by Map.configure or Reduce.configure on the backend.
+ It assumes that addJobConf has already been called.
+ @throws IOException if underlying deseralization throws it]]>
+      </doc>
+    </method>
+    <method name="reset"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.impl.util.UDFContext -->
+  <!-- start class org.apache.pig.impl.util.Utils -->
+  <class name="Utils" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="Utils"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="checkNullEquals" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="obj1" type="java.lang.Object"/>
+      <param name="obj2" type="java.lang.Object"/>
+      <param name="checkEquality" type="boolean"/>
+      <doc>
+      <![CDATA[This method is a helper for classes to implement {@link java.lang.Object#equals(java.lang.Object)}
+ checks if two objects are equals - two levels of checks are
+ made - first if both are null or not null. If either is null,
+ check is made whether both are null.
+ If both are non null, equality also is checked if so indicated
+ @param obj1 first object to be compared
+ @param obj2 second object to be compared
+ @param checkEquality flag to indicate whether object equality should
+ be checked if obj1 and obj2 are non-null
+ @return true if the two objects are equal
+ false otherwise]]>
+      </doc>
+    </method>
+    <method name="checkNullAndClass" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="obj1" type="java.lang.Object"/>
+      <param name="obj2" type="java.lang.Object"/>
+      <doc>
+      <![CDATA[This method is a helper for classes to implement {@link java.lang.Object#equals(java.lang.Object)}
+ The method checks whether the two arguments are both null or both not null and 
+ whether they are of the same class
+ @param obj1 first object to compare
+ @param obj2 second object to compare
+ @return true if both objects are null or both are not null
+ and if both are of the same class if not null
+ false otherwise]]>
+      </doc>
+    </method>
+    <method name="getSchemaFromString" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="schemaString" type="java.lang.String"/>
+      <exception name="ParseException" type="org.apache.pig.impl.logicalLayer.parser.ParseException"/>
+    </method>
+    <method name="getSchemaFromString" return="org.apache.pig.impl.logicalLayer.schema.Schema"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="schemaString" type="java.lang.String"/>
+      <param name="defaultType" type="byte"/>
+      <exception name="ParseException" type="org.apache.pig.impl.logicalLayer.parser.ParseException"/>
+    </method>
+    <doc>
+    <![CDATA[Class with utility static methods]]>
+    </doc>
+  </class>
+  <!-- end class org.apache.pig.impl.util.Utils -->
   <!-- start class org.apache.pig.impl.util.WrappedIOException -->
   <class name="WrappedIOException" extends="java.lang.Object"
     abstract="false"
     static="false" final="false" visibility="public"
-    deprecated="not deprecated">
+    deprecated="This class was introduced to overcome the limitation that before 
+ Java 1.6, {@link IOException} did not have a constructor which took a 
+ {@link Throwable} argument. Since Pig code is now compiled with Java 1.6 and 
+ {@link EvalFunc} and {@link LoadFunc} user implementations should also use 
+ Java 1.6, they can use {@link IOException} instead. From Java 1.6, 
+ {@link IOException} has constructors which take a {@link Throwable}
+ argument.">
     <constructor name="WrappedIOException"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
@@ -35786,8 +47358,13 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="e" type="java.lang.Throwable"/>
     </method>
     <doc>
-    <![CDATA[FIXME PIG-80 replace this code when pig will be java 6 compliant with "throw
- new IOException(e);"]]>
+    <![CDATA[@deprecated This class was introduced to overcome the limitation that before 
+ Java 1.6, {@link IOException} did not have a constructor which took a 
+ {@link Throwable} argument. Since Pig code is now compiled with Java 1.6 and 
+ {@link EvalFunc} and {@link LoadFunc} user implementations should also use 
+ Java 1.6, they can use {@link IOException} instead. From Java 1.6, 
+ {@link IOException} has constructors which take a {@link Throwable}
+ argument.]]>
     </doc>
   </class>
   <!-- end class org.apache.pig.impl.util.WrappedIOException -->
@@ -35863,13 +47440,251 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
-      abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
-      deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
-    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.pen.AugmentBaseDataVisitor -->
+  <!-- start class org.apache.pig.pen.DerivedDataVisitor -->
+  <class name="DerivedDataVisitor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="DerivedDataVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="DerivedDataVisitor" type="org.apache.pig.impl.logicalLayer.LogicalOperator, org.apache.pig.impl.PigContext, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setOperatorToEvaluate"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="l" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="sort" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="evaluateIsolatedOperator" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <param name="inputBags" type="java.util.List"/>
+    </method>
+    <method name="evaluateIsolatedOperator" return="org.apache.pig.data.DataBag"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.pen.DerivedDataVisitor -->
+  <!-- start class org.apache.pig.pen.EquivalenceClasses -->
+  <class name="EquivalenceClasses" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="EquivalenceClasses"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getEquivalenceClasses" return="java.util.Collection"
+      abstract="false" native="false" synchronized="false"
+      static="true" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
+      <param name="derivedData" type="java.util.Map"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.pen.EquivalenceClasses -->
+  <!-- start class org.apache.pig.pen.ExampleGenerator -->
+  <class name="ExampleGenerator" extends="java.lang.Object"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="ExampleGenerator" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setMaxRecords"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="max" type="int"/>
+    </method>
+    <method name="getExamples" return="java.util.Map"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+  </class>
+  <!-- end class org.apache.pig.pen.ExampleGenerator -->
+  <!-- start class org.apache.pig.pen.LineageTrimmingVisitor -->
+  <class name="LineageTrimmingVisitor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="LineageTrimmingVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, org.apache.pig.impl.PigContext"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="init"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="limOp" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="visit"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="protected"
@@ -35878,245 +47693,388 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.pen.AugmentBaseDataVisitor -->
-  <!-- start class org.apache.pig.pen.DerivedDataVisitor -->
-  <class name="DerivedDataVisitor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+  <!-- end class org.apache.pig.pen.LineageTrimmingVisitor -->
+  <!-- start class org.apache.pig.pen.LocalLogToPhyTranslationVisitor -->
+  <class name="LocalLogToPhyTranslationVisitor" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.LogToPhyTranslationVisitor"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="DerivedDataVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
-      static="false" final="false" visibility="public"
-      deprecated="not deprecated">
-    </constructor>
-    <constructor name="DerivedDataVisitor" type="org.apache.pig.impl.logicalLayer.LogicalOperator, org.apache.pig.impl.PigContext, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"
+    <constructor name="LocalLogToPhyTranslationVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="setOperatorToEvaluate"
+    <method name="getLogToPhyMap" return="java.util.Map"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
+      <param name="join" type="org.apache.pig.impl.logicalLayer.LOJoin"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
+      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplitOutput"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <param name="stream" type="org.apache.pig.impl.logicalLayer.LOStream"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
+      <param name="cross" type="org.apache.pig.impl.logicalLayer.LOCross"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
+      <param name="loStore" type="org.apache.pig.impl.logicalLayer.LOStore"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+  </class>
+  <!-- end class org.apache.pig.pen.LocalLogToPhyTranslationVisitor -->
+</package>
+<package name="org.apache.pig.pen.physicalOperators">
+  <!-- start class org.apache.pig.pen.physicalOperators.POCogroup -->
+  <class name="POCogroup" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCogroup" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="setInner"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="store" type="org.apache.pig.impl.logicalLayer.LOStore"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="inner" type="boolean[]"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="name" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="l" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="sort" type="org.apache.pig.impl.logicalLayer.LOSort"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="evaluateIsolatedOperator" return="org.apache.pig.data.DataBag"
+    <method name="supportsMultipleInputs" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
-      <param name="inputBags" type="java.util.List"/>
     </method>
-    <method name="evaluateIsolatedOperator" return="org.apache.pig.data.DataBag"
+    <method name="supportsMultipleOutputs" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
     </method>
+    <doc>
+    <![CDATA[This is a local implementation of Cogroup.
+ The inputs need to be connected to LocalRearranges possibly by the
+ logical to physical translator.
+ 
+ This is a blocking operator. The outputs of LRs are put into
+ SortedDataBags. They are sorted on the keys. We then start pulling
+ tuple out of these bags and start constructing output.]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.pen.DerivedDataVisitor -->
-  <!-- start class org.apache.pig.pen.EquivalenceClasses -->
-  <class name="EquivalenceClasses" extends="java.lang.Object"
+  <!-- end class org.apache.pig.pen.physicalOperators.POCogroup -->
+  <!-- start class org.apache.pig.pen.physicalOperators.POCounter -->
+  <class name="POCounter" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="EquivalenceClasses"
+    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="GetEquivalenceClasses" return="java.util.Collection"
+    <constructor name="POCounter" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="true" final="false" visibility="public"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
-      <param name="derivedData" type="java.util.Map"/>
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+    </method>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
       <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleOutputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getCount" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
   </class>
-  <!-- end class org.apache.pig.pen.EquivalenceClasses -->
-  <!-- start class org.apache.pig.pen.ExampleGenerator -->
-  <class name="ExampleGenerator" extends="java.lang.Object"
+  <!-- end class org.apache.pig.pen.physicalOperators.POCounter -->
+  <!-- start class org.apache.pig.pen.physicalOperators.POCross -->
+  <class name="POCross" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="ExampleGenerator" type="org.apache.pig.impl.logicalLayer.LogicalPlan, org.apache.pig.impl.PigContext"
+    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="setMaxRecords"
+    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POCross" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="visit"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="max" type="int"/>
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
+      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="getExamples" return="java.util.Map"
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+    </method>
+    <method name="name" return="java.lang.String"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleInputs" return="boolean"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="supportsMultipleOutputs" return="boolean"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <doc>
+    <![CDATA[This is a local implementation of the cross. Its a blocking operator.
+ It accumulates inputs into databags and then applies logic similar to 
+ foreach flatten(*) to get the output tuples]]>
+    </doc>
   </class>
-  <!-- end class org.apache.pig.pen.ExampleGenerator -->
-  <!-- start class org.apache.pig.pen.LineageTrimmingVisitor -->
-  <class name="LineageTrimmingVisitor" extends="org.apache.pig.impl.logicalLayer.LOVisitor"
+  <!-- end class org.apache.pig.pen.physicalOperators.POCross -->
+  <!-- start class org.apache.pig.pen.physicalOperators.POSplit -->
+  <class name="POSplit" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
     abstract="false"
     static="false" final="false" visibility="public"
     deprecated="not deprecated">
-    <constructor name="LineageTrimmingVisitor" type="org.apache.pig.impl.logicalLayer.LogicalPlan, java.util.Map, java.util.Map, org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan, org.apache.pig.impl.PigContext"
+    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="init"
+    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSplit" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
       abstract="false" native="false" synchronized="false"
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cg" type="org.apache.pig.impl.logicalLayer.LOCogroup"/>
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="name" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="cs" type="org.apache.pig.impl.logicalLayer.LOCross"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="supportsMultipleInputs" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="dt" type="org.apache.pig.impl.logicalLayer.LODistinct"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="supportsMultipleOutputs" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="filter" type="org.apache.pig.impl.logicalLayer.LOFilter"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
+  </class>
+  <!-- end class org.apache.pig.pen.physicalOperators.POSplit -->
+  <!-- start class org.apache.pig.pen.physicalOperators.POSplitOutput -->
+  <class name="POSplitOutput" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, int, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, int"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey, java.util.List"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <constructor name="POSplitOutput" type="org.apache.pig.impl.plan.OperatorKey"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
     <method name="visit"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="forEach" type="org.apache.pig.impl.logicalLayer.LOForEach"/>
+      <param name="v" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhyPlanVisitor"/>
       <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="limOp" type="org.apache.pig.impl.logicalLayer.LOLimit"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
     </method>
-    <method name="visit"
+    <method name="name" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="load" type="org.apache.pig.impl.logicalLayer.LOLoad"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="supportsMultipleInputs" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="s" type="org.apache.pig.impl.logicalLayer.LOSort"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="supportsMultipleOutputs" return="boolean"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="split" type="org.apache.pig.impl.logicalLayer.LOSplit"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
     </method>
-    <method name="visit"
+    <method name="setPlan"
       abstract="false" native="false" synchronized="false"
-      static="false" final="false" visibility="protected"
+      static="false" final="false" visibility="public"
       deprecated="not deprecated">
-      <param name="u" type="org.apache.pig.impl.logicalLayer.LOUnion"/>
-      <exception name="VisitorException" type="org.apache.pig.impl.plan.VisitorException"/>
+      <param name="compPlan" type="org.apache.pig.backend.hadoop.executionengine.physicalLayer.plans.PhysicalPlan"/>
     </method>
   </class>
-  <!-- end class org.apache.pig.pen.LineageTrimmingVisitor -->
+  <!-- end class org.apache.pig.pen.physicalOperators.POSplitOutput -->
+  <!-- start class org.apache.pig.pen.physicalOperators.POStreamLocal -->
+  <class name="POStreamLocal" extends="org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POStream"
+    abstract="false"
+    static="false" final="false" visibility="public"
+    deprecated="not deprecated">
+    <constructor name="POStreamLocal" type="org.apache.pig.impl.plan.OperatorKey, org.apache.pig.impl.streaming.ExecutableManager, org.apache.pig.impl.streaming.StreamingCommand, java.util.Properties"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </constructor>
+    <method name="getNext" return="org.apache.pig.backend.hadoop.executionengine.physicalLayer.Result"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+      <param name="t" type="org.apache.pig.data.Tuple"/>
+      <exception name="ExecException" type="org.apache.pig.backend.executionengine.ExecException"/>
+      <doc>
+      <![CDATA[This is different from the Map-Reduce implementation of the POStream since there is no
+ push model here. POStatus_EOP signals the end of input and can be used to decide when 
+ to stop the stdin to the process]]>
+      </doc>
+    </method>
+  </class>
+  <!-- end class org.apache.pig.pen.physicalOperators.POStreamLocal -->
 </package>
 <package name="org.apache.pig.pen.util">
   <!-- start class org.apache.pig.pen.util.DependencyOrderLimitedWalker -->
@@ -36146,25 +48104,20 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </constructor>
-    <method name="PrintTabular" return="java.lang.String"
+    <method name="printTabular" return="java.lang.String"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="lp" type="org.apache.pig.impl.logicalLayer.LogicalPlan"/>
       <param name="exampleData" type="java.util.Map"/>
     </method>
-    <method name="PrintSimple"
+    <method name="printSimple"
       abstract="false" native="false" synchronized="false"
       static="true" final="false" visibility="public"
       deprecated="not deprecated">
       <param name="op" type="org.apache.pig.impl.logicalLayer.LogicalOperator"/>
       <param name="exampleData" type="java.util.Map"/>
     </method>
-    <field name="Result" type="java.lang.StringBuffer"
-      transient="false" volatile="false"
-      static="true" final="false" visibility="public"
-      deprecated="not deprecated">
-    </field>
     <field name="MAX_DATAATOM_LENGTH" type="int"
       transient="false" volatile="false"
       static="true" final="true" visibility="public"
@@ -36843,6 +48796,13 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       <param name="options" type="java.lang.String"/>
       <exception name="IOException" type="java.io.IOException"/>
     </method>
+    <method name="processFsCommand"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="protected"
+      deprecated="not deprecated">
+      <param name="cmdTokens" type="java.lang.String[]"/>
+      <exception name="IOException" type="java.io.IOException"/>
+    </method>
   </class>
   <!-- end class org.apache.pig.tools.grunt.GruntParser -->
   <!-- start class org.apache.pig.tools.grunt.PigCompletor -->
@@ -37082,6 +49042,16 @@ These include {@link org.apache.pig.impl.logicalLayer.PlanSetter},
       static="false" final="false" visibility="public"
       deprecated="not deprecated">
     </method>
+    <method name="getSMMSpillCount" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
+    <method name="getProactiveSpillCount" return="long"
+      abstract="false" native="false" synchronized="false"
+      static="false" final="false" visibility="public"
+      deprecated="not deprecated">
+    </method>
   </class>
   <!-- end class org.apache.pig.tools.pigstats.PigStats -->
 </package>
diff --git a/src/docs/forrest.properties b/src/docs/forrest.properties
index ac436d11a..51f1af7c7 100644
--- a/src/docs/forrest.properties
+++ b/src/docs/forrest.properties
@@ -136,6 +136,7 @@
 #If you want to use it for static site then modify the JVM system.language
 # and run once per language
 #project.i18n=false
+project.configfile=${project.home}/src/documentation/conf/cli.xconf
 
 # The names of plugins that are required to build the project
 # comma separated list (no spaces)
diff --git a/src/docs/src/documentation/conf/cli.xconf b/src/docs/src/documentation/conf/cli.xconf
new file mode 100644
index 000000000..5c6e24568
--- /dev/null
+++ b/src/docs/src/documentation/conf/cli.xconf
@@ -0,0 +1,327 @@
+<?xml version="1.0"?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one or more
+  contributor license agreements.  See the NOTICE file distributed with
+  this work for additional information regarding copyright ownership.
+  The ASF licenses this file to You under the Apache License, Version 2.0
+  (the "License"); you may not use this file except in compliance with
+  the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+  Unless required by applicable law or agreed to in writing, software
+  distributed under the License is distributed on an "AS IS" BASIS,
+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  See the License for the specific language governing permissions and
+  limitations under the License.
+-->
+<!--+
+    |  This is the Apache Cocoon command line configuration file.
+    |  Here you give the command line interface details of where
+    |  to find various aspects of your Cocoon installation.
+    |
+    |  If you wish, you can also use this file to specify the URIs
+    |  that you wish to generate.
+    |
+    |  The current configuration information in this file is for
+    |  building the Cocoon documentation. Therefore, all links here
+    |  are relative to the build context dir, which, in the build.xml
+    |  file, is set to ${build.context}
+    |
+    |  Options:
+    |    verbose:            increase amount of information presented
+    |                        to standard output (default: false)
+    |    follow-links:       whether linked pages should also be
+    |                        generated (default: true)
+    |    precompile-only:    precompile sitemaps and XSP pages, but
+    |                        do not generate any pages (default: false)
+    |    confirm-extensions: check the mime type for the generated page
+    |                        and adjust filename and links extensions
+    |                        to match the mime type
+    |                        (e.g. text/html->.html)
+    |
+    |  Note: Whilst using an xconf file to configure the Cocoon
+    |        Command Line gives access to more features, the use of
+    |        command line parameters is more stable, as there are
+    |        currently plans to improve the xconf format to allow
+    |        greater flexibility. If you require a stable and
+    |        consistent method for accessing the CLI, it is recommended
+    |        that you use the command line parameters to configure
+    |        the CLI. See documentation at:
+    |        http://cocoon.apache.org/2.1/userdocs/offline/
+    |        http://wiki.apache.org/cocoon/CommandLine
+    |
+    +-->
+
+<cocoon verbose="true"
+        follow-links="true"
+        precompile-only="false"
+        confirm-extensions="false">
+
+   <!--+
+       |  The context directory is usually the webapp directory
+       |  containing the sitemap.xmap file.
+       |
+       |  The config file is the cocoon.xconf file.
+       |
+       |  The work directory is used by Cocoon to store temporary
+       |  files and cache files.
+       |
+       |  The destination directory is where generated pages will
+       |  be written (assuming the 'simple' mapper is used, see
+       |  below)
+       +-->
+   <context-dir>.</context-dir>
+   <config-file>WEB-INF/cocoon.xconf</config-file>
+   <work-dir>../tmp/cocoon-work</work-dir>
+   <dest-dir>../site</dest-dir>
+
+   <!--+
+       |  A checksum file can be used to store checksums for pages
+       |  as they are generated. When the site is next generated,
+       |  files will not be written if their checksum has not changed.
+       |  This means that it will be easier to detect which files
+       |  need to be uploaded to a server, using the timestamp.
+       |
+       |  The default path is relative to the core webapp directory.
+       |  An asolute path can be used.
+       +-->
+   <!--   <checksums-uri>build/work/checksums</checksums-uri>-->
+
+   <!--+
+       | Broken link reporting options:
+       |   Report into a text file, one link per line:
+       |     <broken-links type="text" report="filename"/>
+       |   Report into an XML file:
+       |     <broken-links type="xml" report="filename"/>
+       |   Ignore broken links (default):
+       |     <broken-links type="none"/>
+       |
+       |   Two attributes to this node specify whether a page should
+       |   be generated when an error has occured. 'generate' specifies
+       |   whether a page should be generated (default: true) and
+       |   extension specifies an extension that should be appended
+       |   to the generated page's filename (default: none)
+       |
+       |   Using this, a quick scan through the destination directory
+       |   will show broken links, by their filename extension.
+       +-->
+   <broken-links type="xml"
+                 file="../brokenlinks.xml"
+                 generate="false"
+                 extension=".error"
+                 show-referrers="true"/>
+
+   <!--+
+       |  Load classes at startup. This is necessary for generating
+       |  from sites that use SQL databases and JDBC.
+       |  The <load-class> element can be repeated if multiple classes
+       |  are needed.
+       +-->
+   <!--
+   <load-class>org.firebirdsql.jdbc.Driver</load-class>
+   -->
+
+   <!--+
+       |  Configures logging.
+       |  The 'log-kit' parameter specifies the location of the log kit
+       |  configuration file (usually called logkit.xconf.
+       |
+       |  Logger specifies the logging category (for all logging prior
+       |  to other Cocoon logging categories taking over)
+       |
+       |  Available log levels are:
+       |    DEBUG:        prints all level of log messages.
+       |    INFO:         prints all level of log messages except DEBUG
+       |                  ones.
+       |    WARN:         prints all level of log messages except DEBUG
+       |                  and INFO ones.
+       |    ERROR:        prints all level of log messages except DEBUG,
+       |                  INFO and WARN ones.
+       |    FATAL_ERROR:  prints only log messages of this level
+       +-->
+   <!-- <logging log-kit="WEB-INF/logkit.xconf" logger="cli" level="ERROR" /> -->
+
+   <!--+
+       |  Specifies the filename to be appended to URIs that
+       |  refer to a directory (i.e. end with a forward slash).
+       +-->
+   <default-filename>index.html</default-filename>
+
+   <!--+
+       |  Specifies a user agent string to the sitemap when
+       |  generating the site.
+       |
+       |  A generic term for a web browser is "user agent". Any
+       |  user agent, when connecting to a web server, will provide
+       |  a string to identify itself (e.g. as Internet Explorer or
+       |  Mozilla). It is possible to have Cocoon serve different
+       |  content depending upon the user agent string provided by
+       |  the browser. If your site does this, then you may want to
+       |  use this <user-agent> entry to provide a 'fake' user agent
+       |  to Cocoon, so that it generates the correct version of your
+       |  site.
+       |
+       |  For most sites, this can be ignored.
+       +-->
+   <!--
+   <user-agent>Cocoon Command Line Environment 2.1</user-agent>
+   -->
+
+   <!--+
+       |  Specifies an accept string to the sitemap when generating
+       |  the site.
+       |  User agents can specify to an HTTP server what types of content
+       |  (by mime-type) they are able to receive. E.g. a browser may be
+       |  able to handle jpegs, but not pngs. The HTTP accept header
+       |  allows the server to take the browser's capabilities into account,
+       |  and only send back content that it can handle.
+       |
+       |  For most sites, this can be ignored.
+       +-->
+
+   <accept>*/*</accept>
+
+   <!--+
+       | Specifies which URIs should be included or excluded, according
+       | to wildcard patterns.
+       |
+       | These includes/excludes are only relevant when you are following
+       | links. A link URI must match an include pattern (if one is given)
+       | and not match an exclude pattern, if it is to be followed by
+       | Cocoon. It can be useful, for example, where there are links in
+       | your site to pages that are not generated by Cocoon, such as
+       | references to api-documentation.
+       |
+       | By default, all URIs are included. If both include and exclude
+       | patterns are specified, a URI is first checked against the
+       | include patterns, and then against the exclude patterns.
+       |
+       | Multiple patterns can be given, using muliple include or exclude
+       | nodes.
+       |
+       | The order of the elements is not significant, as only the first
+       | successful match of each category is used.
+       |
+       | Currently, only the complete source URI can be matched (including
+       | any URI prefix). Future plans include destination URI matching
+       | and regexp matching. If you have requirements for these, contact
+       | dev@cocoon.apache.org.
+       +-->
+
+   <exclude pattern="**/"/>
+   <exclude pattern="api/**"/>
+   <exclude pattern="jdiff/**"/>
+   <exclude pattern="changes.html"/>
+   <exclude pattern="releasenotes.html"/>
+
+<!--
+  This is a workaround for FOR-284 "link rewriting broken when
+  linking to xml source views which contain site: links".
+  See the explanation there and in declare-broken-site-links.xsl
+-->
+   <exclude pattern="site:**"/>
+   <exclude pattern="ext:**"/>
+   <exclude pattern="lm:**"/>
+   <exclude pattern="**/site:**"/>
+   <exclude pattern="**/ext:**"/>
+   <exclude pattern="**/lm:**"/>
+
+   <!-- Exclude tokens used in URLs to ASF mirrors (interpreted by a CGI) -->
+   <exclude pattern="[preferred]/**"/>
+   <exclude pattern="[location]"/>
+
+   <!--   <include-links extension=".html"/>-->
+
+   <!--+
+       |  <uri> nodes specify the URIs that should be generated, and
+       |  where required, what should be done with the generated pages.
+       |  They describe the way the URI of the generated file is created
+       |  from the source page's URI. There are three ways that a generated
+       |  file URI can be created: append, replace and insert.
+       |
+       |  The "type" attribute specifies one of (append|replace|insert):
+       |
+       |  append:
+       |  Append the generated page's URI to the end of the source URI:
+       |
+       |   <uri type="append" src-prefix="documents/" src="index.html"
+       |   dest="build/dest/"/>
+       |
+       |  This means that
+       |   (1) the "documents/index.html" page is generated
+       |   (2) the file will be written to "build/dest/documents/index.html"
+       |
+       |  replace:
+       |  Completely ignore the generated page's URI - just
+       |  use the destination URI:
+       |
+       |   <uri type="replace" src-prefix="documents/" src="index.html"
+       |   dest="build/dest/docs.html"/>
+       |
+       |  This means that
+       |   (1) the "documents/index.html" page is generated
+       |   (2) the result is written to "build/dest/docs.html"
+       |   (3) this works only for "single" pages - and not when links
+       |       are followed
+       |
+       |  insert:
+       |  Insert generated page's URI into the destination
+       |  URI at the point marked with a * (example uses fictional
+       |  zip protocol)
+       |
+       |   <uri type="insert" src-prefix="documents/" src="index.html"
+       |   dest="zip://*.zip/page.html"/>
+       |
+       |  This means that
+       |   (1)
+       |
+       |  In any of these scenarios, if the dest attribute is omitted,
+       |  the value provided globally using the <dest-dir> node will
+       |  be used instead.
+       +-->
+   <!--
+   <uri type="replace"
+        src-prefix="samples/"
+        src="hello-world/hello.html"
+        dest="build/dest/hello-world.html"/>
+   -->
+
+   <!--+
+       | <uri> nodes can be grouped together in a <uris> node. This
+       | enables a group of URIs to share properties. The following
+       | properties can be set for a group of URIs:
+       |   * follow-links:       should pages be crawled for links
+       |   * confirm-extensions: should file extensions be checked
+       |                         for the correct mime type
+       |   * src-prefix:         all source URIs should be
+       |                         pre-pended with this prefix before
+       |                         generation. The prefix is not
+       |                         included when calculating the
+       |                         destination URI
+       |   * dest:               the base destination URI to be
+       |                         shared by all pages in this group
+       |   * type:               the method to be used to calculate
+       |                         the destination URI. See above
+       |                         section on <uri> node for details.
+       |
+       | Each <uris> node can have a name attribute. When a name
+       | attribute has been specified, the -n switch on the command
+       | line can be used to tell Cocoon to only process the URIs
+       | within this URI group. When no -n switch is given, all
+       | <uris> nodes are processed. Thus, one xconf file can be
+       | used to manage multiple sites.
+       +-->
+   <!--
+   <uris name="mirrors" follow-links="false">
+     <uri type="append" src="mirrors.html"/>
+   </uris>
+   -->
+
+   <!--+
+       |  File containing URIs (plain text, one per line).
+       +-->
+   <!--
+   <uri-file>uris.txt</uri-file>
+   -->
+</cocoon>
diff --git a/src/docs/src/documentation/content/xdocs/site.xml b/src/docs/src/documentation/content/xdocs/site.xml
index 75fa169dc..d343b34a1 100644
--- a/src/docs/src/documentation/content/xdocs/site.xml
+++ b/src/docs/src/documentation/content/xdocs/site.xml
@@ -60,6 +60,7 @@ See http://forrest.apache.org/docs/linking.html for more info
 
      <docs label="Miscellaneous"> 
      <api	label="API Docs" href="api/"/>
+     <jdiff	label="API Changes" href="ext:jdiff/changes"/>
      <wiki  label="Wiki" href="ext:wiki" />
      <faq  label="FAQ" href="ext:faq" />
      <relnotes  label="Release Notes" 	href="ext:relnotes" />
@@ -68,6 +69,9 @@ See http://forrest.apache.org/docs/linking.html for more info
  <external-refs> 
     <wiki      href="http://wiki.apache.org/pig/" />
     <faq       href="http://wiki.apache.org/pig/FAQ" />
-    <relnotes href="http://hadoop.apache.org/pig/releases.html" />
+    <relnotes  href="http://hadoop.apache.org/pig/releases.html" />
+    <jdiff     href="jdiff/">
+      <changes href="changes.html" />
+    </jdiff>
  </external-refs>
 </site>
