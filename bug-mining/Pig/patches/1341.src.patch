diff --git a/CHANGES.txt b/CHANGES.txt
index 581b952f0..0d62a8253 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -30,6 +30,8 @@ PIG-2207: Support custom counters for aggregating warnings from different udfs (
 
 IMPROVEMENTS
 
+PIG-3730: Performance issue in SelfSpillBag (rajesh.balamohan via rohini)
+
 PIG-3654: Add class cache to PigContext (tmwoodruff via daijy)
 
 PIG-3463: Pig should use hadoop local mode for small jobs (aniket486)
@@ -76,7 +78,7 @@ BUG FIXES
 
 PIG-3682: mvn-inst target does not install pig-h2.jar into local .m2 (raluri via aniket486)
 
-PIG-3677: ConfigurationUtil.getLocalFSProperties can return an inconsistent property set (rohini)
+PIG-3661: Piggybank AvroStorage fails if used in more than one load or store statement (rohini)
 
 PIG-3511: Security: Pig temporary directories might have world readable permissions (rohini)
 
@@ -179,6 +181,8 @@ PIG-3480: TFile-based tmpfile compression crashes in some cases (dvryaboy via an
 
 BUG FIXES
 
+PIG-3677: ConfigurationUtil.getLocalFSProperties can return an inconsistent property set (rohini)
+
 PIG-3621: Python Avro library can't read Avros made with builtin AvroStorage (rusell.jurney via cheolsoo)
 
 PIG-3592: Should not try to create success file for non-fs schemes like hbase (rohini)
diff --git a/src/org/apache/pig/data/SelfSpillBag.java b/src/org/apache/pig/data/SelfSpillBag.java
index 823026604..2fcf36a8c 100644
--- a/src/org/apache/pig/data/SelfSpillBag.java
+++ b/src/org/apache/pig/data/SelfSpillBag.java
@@ -56,6 +56,19 @@ public abstract class SelfSpillBag extends DefaultAbstractBag {
         private int cacheLimit = Integer.MAX_VALUE;
         private long memUsage = 0;
         private long numObjsSizeChecked = 0;
+        
+        private static float cachedMemUsage = 0.2F;
+        private static long maxMem = 0;
+        static {
+            maxMem = Runtime.getRuntime().maxMemory();
+            if (PigMapReduce.sJobConfInternal.get() != null) {
+                String usage = PigMapReduce.sJobConfInternal.get().get(
+                        PigConfiguration.PROP_CACHEDBAG_MEMUSAGE);
+                if (usage != null) {
+                    cachedMemUsage = Float.parseFloat(usage);
+                }
+            }
+        }
 
         /**
          * @param bagCount
@@ -68,18 +81,10 @@ public abstract class SelfSpillBag extends DefaultAbstractBag {
         private void init(int bagCount, float percent) {
 
             if (percent < 0) {
-                percent = 0.2F;
-                if (PigMapReduce.sJobConfInternal.get() != null) {
-                    String usage = PigMapReduce.sJobConfInternal.get().get(
-                            PigConfiguration.PROP_CACHEDBAG_MEMUSAGE);
-                    if (usage != null) {
-                        percent = Float.parseFloat(usage);
-                    }
-                }
+                percent = cachedMemUsage;
             }
 
-            long max = Runtime.getRuntime().maxMemory();
-            maxMemUsage = (long) ((max * percent) / bagCount);
+            maxMemUsage = (long) ((maxMem * percent) / bagCount);
 
             // set limit to 0, if memusage is 0 or really really small.
             // then all tuples are put into disk
