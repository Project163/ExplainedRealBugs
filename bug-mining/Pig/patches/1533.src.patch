diff --git a/CHANGES.txt b/CHANGES.txt
index d760924c6..22fa1f139 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -56,6 +56,8 @@ OPTIMIZATIONS
  
 BUG FIXES
 
+PIG-4105: Fix TestAvroStorage with ibm jdk (fang fang chen via daijy)
+
 PIG-4108: Pig -Dhadoopversion=23 compile fail after TEZ-1317 (daijy)
 
 PIG-4086: Fix Orc e2e tests for tez (daijy)
diff --git a/test/org/apache/pig/builtin/TestAvroStorage.java b/test/org/apache/pig/builtin/TestAvroStorage.java
index aa56ba890..ca1f5daba 100644
--- a/test/org/apache/pig/builtin/TestAvroStorage.java
+++ b/test/org/apache/pig/builtin/TestAvroStorage.java
@@ -40,6 +40,7 @@ import org.apache.pig.backend.executionengine.ExecJob;
 import org.apache.pig.backend.executionengine.ExecJob.JOB_STATUS;
 import org.apache.pig.builtin.mock.Storage.Data;
 import org.apache.pig.data.Tuple;
+import org.apache.pig.impl.util.Utils;
 import org.apache.pig.impl.util.avro.AvroBagWrapper;
 import org.apache.pig.impl.util.avro.AvroMapWrapper;
 import org.apache.pig.impl.util.avro.AvroTupleWrapper;
@@ -311,7 +312,15 @@ public class TestAvroStorage {
         if(Util.WINDOWS){
             outbasedir = outbasedir.replace('\\','/');
         }
-        return outbasedir + st[2].getMethodName();
+
+        int index;
+        if (Utils.isVendorIBM()) {
+            index = 3;
+        } else {
+            index = 2;
+        }
+
+        return outbasedir + st[index].getMethodName();
     }
 
     @Test public void testLoadRecords() throws Exception {
