diff --git a/CHANGES.txt b/CHANGES.txt
index 2cfc9bfc6..10cb61282 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -334,6 +334,9 @@ PIG-761: ERROR 2086 on simple JOIN (daijy)
 PIG-1172: PushDownForeachFlatten shall not push ForEach below Join if the
 flattened fields is used in Join (daijy)
 
+PIG-1180: Piggybank should compile even if we only have
+"pig-withouthadoop.jar" but no "pig.jar" in the pig home directory (daijy)
+
 Release 0.5.0
 
 INCOMPATIBLE CHANGES
diff --git a/contrib/piggybank/java/build.xml b/contrib/piggybank/java/build.xml
index df0d46091..b00a10e28 100755
--- a/contrib/piggybank/java/build.xml
+++ b/contrib/piggybank/java/build.xml
@@ -32,6 +32,8 @@
     <property name="build.docs" value="${build.dir}/docs" />
     <property name="build.javadoc" value="${build.docs}/api" />
     <property name="pigjar" value="../../../pig.jar" />
+    <property name="pigjar-withouthadoop" value="../../../pig-withouthadoop.jar" />
+    <property name="hadoopjar" value="../../../lib/hadoop20.jar" />
     <property name="pigtest" value="../../../build/test/classes" />
     <property name="udfjar" value="piggybank.jar" />
     <property name="src.dir" value="src/main/java/org/apache/pig/piggybank" />
@@ -51,6 +53,8 @@
     <path id="pigudf.classpath">
         <pathelement location="${build.classes}"/>
         <pathelement location="${pigjar}"/>
+        <pathelement location="${pigjar-withouthadoop}"/>
+        <pathelement location="${hadoopjar}"/>
         <pathelement location="${pigtest}"/>
     </path>
 
