<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1296] DescriptiveStatistics return geometric mean as 0 when product of values is zero, expected to return NaN</title>
                <link>https://issues.apache.org/jira/browse/MATH-1296</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;	@Test&lt;br/&gt;
	public void test() {&lt;br/&gt;
		DescriptiveStatistics stats = new DescriptiveStatistics();&lt;br/&gt;
		stats.addValue(1);&lt;br/&gt;
		stats.addValue(2);&lt;br/&gt;
		stats.addValue(4);&lt;br/&gt;
		System.out.println(stats.getGeometricMean()); //prints 2&lt;/p&gt;

&lt;p&gt;		stats.addValue(0);&lt;br/&gt;
		System.out.println(stats.getGeometricMean()); //prints 0, expected NaN as per the documentation&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The class in consideration is: org.apache.commons.math3.stat.descriptive.DescriptiveStatistics&lt;/p&gt;</description>
                <environment></environment>
        <key id="12917527">MATH-1296</key>
            <summary>DescriptiveStatistics return geometric mean as 0 when product of values is zero, expected to return NaN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anmol">Anmol</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Wed, 2 Dec 2015 09:50:01 +0000</created>
                <updated>Thu, 3 Dec 2015 03:43:00 +0000</updated>
                            <resolved>Thu, 3 Dec 2015 03:43:00 +0000</resolved>
                                    <version>3.4.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="15035696" author="erans" created="Wed, 2 Dec 2015 12:02:59 +0000"  >&lt;p&gt;The documentation is wrong (in &lt;tt&gt;DescriptiveStatistics&lt;/tt&gt; and in &lt;tt&gt;GeometricMean&lt;/tt&gt; classes).&lt;br/&gt;
When one of the values is zero, the &lt;a href=&quot;http://mathworld.wolfram.com/GeometricMean.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;geometric mean&lt;/a&gt; should be 0.&lt;/p&gt;</comment>
                            <comment id="15035716" author="anmol" created="Wed, 2 Dec 2015 12:25:35 +0000"  >&lt;p&gt;MS Excel returns not a number too when any value is zero in the set. &lt;/p&gt;

&lt;p&gt;Documentation is inconsistent at a couple of other places too:&lt;/p&gt;

&lt;p&gt;1) getKustosis() returns NaN when &amp;lt;= 3 values are added, but documentation says it will return 0&lt;br/&gt;
2) getSkewness() returns NaN when &amp;lt;=2 values are added, but documentation says it will return 0&lt;/p&gt;</comment>
                            <comment id="15036575" author="otmar ertl" created="Wed, 2 Dec 2015 20:48:36 +0000"  >&lt;p&gt;Gilles, I agree, it is the documentation that needs to be fixed. Geometric mean should be 0.&lt;/p&gt;

&lt;p&gt;By the way, I have checked the documentations for Kurtosis.java and Skewness.java. The documentation for Kurtosis.java already describes that NaN is returned for less than 4 values. The documentation of Skewness.java also needs to be improved, the corresponding information is hidden in the documentation of its evaluate() method.&lt;/p&gt;</comment>
                            <comment id="15036608" author="psteitz" created="Wed, 2 Dec 2015 20:58:02 +0000"  >&lt;p&gt;Gilles, Otmar - yes, that is correct.  Tests and code are correct, but the javadoc needs to be fixed.  I am working on this.&lt;/p&gt;

&lt;p&gt;Anmol - thanks for the report!&lt;/p&gt;</comment>
                            <comment id="15037198" author="psteitz" created="Thu, 3 Dec 2015 03:43:00 +0000"  >&lt;p&gt;Fixed in &lt;br/&gt;
b2627dacc (master)&lt;br/&gt;
c23e9fb1a (MATH_3_X)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2p5wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>