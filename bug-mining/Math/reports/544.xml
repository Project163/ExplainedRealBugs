<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1230] SimplexSolver returning wrong answer from optimize</title>
                <link>https://issues.apache.org/jira/browse/MATH-1230</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;SimplexSolver fails for the following linear program:&lt;/p&gt;

&lt;p&gt;min 2x1 +15x2 +18x3&lt;/p&gt;

&lt;p&gt;Subject to&lt;/p&gt;

&lt;p&gt;  -x1 +2x2  -6x3 &amp;lt;=-10&lt;br/&gt;
            x2  +2x3 &amp;lt;= 6&lt;br/&gt;
   2x1      +10x3 &amp;lt;= 19&lt;br/&gt;
    -x1  +x2       &amp;lt;= -2&lt;br/&gt;
    x1,x2,x3 &amp;gt;= 0&lt;/p&gt;

&lt;p&gt;Solution should be&lt;br/&gt;
x1 = 7&lt;br/&gt;
x2 = 0&lt;br/&gt;
x3 = 1/2&lt;br/&gt;
Objective function = 23&lt;/p&gt;

&lt;p&gt;Instead, it is returning&lt;br/&gt;
x1 = 9.5&lt;br/&gt;
x2 = 1/8&lt;br/&gt;
x3 = 0&lt;br/&gt;
Objective function = 20.875&lt;/p&gt;

&lt;p&gt;Constraint number 1 is violated by this answer&lt;/p&gt;</description>
                <environment></environment>
        <key id="12836566">MATH-1230</key>
            <summary>SimplexSolver returning wrong answer from optimize</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="koppdk">David Kopp</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jun 2015 15:07:08 +0000</created>
                <updated>Tue, 9 Jun 2015 18:49:44 +0000</updated>
                            <resolved>Tue, 9 Jun 2015 18:49:44 +0000</resolved>
                                    <version>3.5</version>
                                    <fixVersion>4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14579055" author="koppdk" created="Tue, 9 Jun 2015 15:13:06 +0000"  >&lt;p&gt;This test case should be added to SimplexSolverTest.java&lt;/p&gt;

&lt;p&gt;    @Test&lt;br/&gt;
    public void testMath1230() {&lt;br/&gt;
        //  min 2x1 +15x2 +18x3&lt;br/&gt;
        //  Subject to&lt;br/&gt;
        //  -x1 +2x2  -6x3 &amp;lt;=-10&lt;br/&gt;
        //        x2  +2x3 &amp;lt;= 6&lt;br/&gt;
        //  2x1      +10x3 &amp;lt;= 19&lt;br/&gt;
        //  -x1  +x2       &amp;lt;= -2&lt;br/&gt;
        //   x1,x2,x3 &amp;gt;= 0&lt;/p&gt;

&lt;p&gt;        LinearObjectiveFunction f =&lt;br/&gt;
          new LinearObjectiveFunction(new double[] &lt;/p&gt;
{ 2, 15, 18 }
&lt;p&gt;, 0);&lt;br/&gt;
        Collection&amp;lt;LinearConstraint&amp;gt; constraints = new ArrayList&amp;lt;LinearConstraint&amp;gt;();&lt;br/&gt;
        constraints.add(new LinearConstraint(new double[] &lt;/p&gt;
{ -1, 2  -6 }
&lt;p&gt;, Relationship.LEQ, -10));&lt;br/&gt;
        constraints.add(new LinearConstraint(new double[] &lt;/p&gt;
{  0, 1,  2 }
&lt;p&gt;, Relationship.LEQ, 6));&lt;br/&gt;
        constraints.add(new LinearConstraint(new double[] &lt;/p&gt;
{  2, 0, 10 }
&lt;p&gt;, Relationship.LEQ, 19));&lt;br/&gt;
        constraints.add(new LinearConstraint(new double[] &lt;/p&gt;
{ -1, 1,  0 }
&lt;p&gt;, Relationship.LEQ, -2));&lt;/p&gt;

&lt;p&gt;        SimplexSolver solver = new SimplexSolver();&lt;br/&gt;
        PointValuePair solution = solver.optimize(f,&lt;br/&gt;
                                                  new LinearConstraintSet(constraints),&lt;br/&gt;
                                                  new NonNegativeConstraint(true),&lt;br/&gt;
                                                  PivotSelectionRule.BLAND);&lt;/p&gt;

&lt;p&gt;        Assert.assertEquals(7, solution.getPoint()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, 0d);&lt;br/&gt;
        Assert.assertEquals(0, solution.getPoint()&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, 0d);&lt;br/&gt;
        Assert.assertEquals(0.5, solution.getPoint()&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, 0d);&lt;br/&gt;
        Assert.assertEquals(23, solution.getValue(), 0d);&lt;br/&gt;
    }&lt;/p&gt;
</comment>
                            <comment id="14579068" author="tn" created="Tue, 9 Jun 2015 15:22:58 +0000"  >&lt;p&gt;You have a typo here:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;{ -1, 2 -6 } &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;it should be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{-1, 2, -6}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the solver returns the correct solution.&lt;/p&gt;</comment>
                            <comment id="14579126" author="koppdk" created="Tue, 9 Jun 2015 15:50:52 +0000"  >&lt;p&gt;Ooops. I feel sheepish.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14579128" author="koppdk" created="Tue, 9 Jun 2015 15:51:20 +0000"  >&lt;p&gt;I had a typo in my attempt at making an array&lt;/p&gt;</comment>
                            <comment id="14579129" author="koppdk" created="Tue, 9 Jun 2015 15:51:39 +0000"  >&lt;p&gt;Submitter error. Sorry about that.&lt;/p&gt;</comment>
                            <comment id="14579307" author="tn" created="Tue, 9 Jun 2015 17:52:00 +0000"  >&lt;p&gt;Other people had the same problem before if I remember correctly.&lt;/p&gt;

&lt;p&gt;In fact we should add a safe-guard mechanism to ensure that all constraints have the same coefficient dimension.&lt;/p&gt;</comment>
                            <comment id="14579393" author="tn" created="Tue, 9 Jun 2015 18:49:44 +0000"  >&lt;p&gt;Fixed in commit 96eb80efe1da48f37846aa899260aa0c84b15944.&lt;br/&gt;
The optimize method will now throw a DimensionMismatchException if the dimension of the objective function does not match the dimension of the constraints.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fu2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>