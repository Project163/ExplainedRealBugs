<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1165] Rare case for updateMembershipMatrix() in FuzzyKMeansClusterer</title>
                <link>https://issues.apache.org/jira/browse/MATH-1165</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;The function updateMembershipMatrix() in FuzzyKMeansClusterer assigns the points to the cluster with the highest membership. Consider the following case:&lt;/p&gt;

&lt;p&gt;If the distance between a point and the cluster center is zero, then we will have a cluster membership of one, and all other membership values will be zero.&lt;/p&gt;

&lt;p&gt;So the if condition:&lt;br/&gt;
if (membershipMatrix&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;j&amp;#93;&lt;/span&gt; &amp;gt; maxMembership) {&lt;br/&gt;
                    maxMembership = membershipMatrix&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;j&amp;#93;&lt;/span&gt;;&lt;br/&gt;
                    newCluster = j;&lt;br/&gt;
}&lt;br/&gt;
will never be true during the for loop and newCluster will remain -1. This will throw an exception because of the line:&lt;br/&gt;
clusters.get(newCluster)&lt;br/&gt;
                    .addPoint(point);&lt;/p&gt;

&lt;p&gt;Adding the following condition can solve the problem:&lt;br/&gt;
double d;&lt;br/&gt;
if (sum == 0)&lt;br/&gt;
d = 1;&lt;br/&gt;
else&lt;br/&gt;
d = 1.0/sum;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12753376">MATH-1165</key>
            <summary>Rare case for updateMembershipMatrix() in FuzzyKMeansClusterer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pasmod">Pashutan Modaresi</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Thu, 6 Nov 2014 11:57:49 +0000</created>
                <updated>Fri, 26 Dec 2014 19:50:50 +0000</updated>
                            <resolved>Fri, 7 Nov 2014 22:10:00 +0000</resolved>
                                    <version>3.3</version>
                                    <fixVersion>3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="14200256" author="tn" created="Thu, 6 Nov 2014 14:59:24 +0000"  >&lt;p&gt;This can only happen if the clusterer is initialized to form exactly 1 cluster and is then fed with only 1 data point.&lt;/p&gt;

&lt;p&gt;It is quite unlikely that somebody will use the clusterer in that way, but we will fix this rare case.&lt;/p&gt;</comment>
                            <comment id="14201019" author="tn" created="Thu, 6 Nov 2014 21:57:42 +0000"  >&lt;p&gt;Fixed in commit 596ccd59a11ad5e9fda19ccd0f4fc714d8d3394d&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                            <comment id="14202622" author="pasmod" created="Fri, 7 Nov 2014 20:40:55 +0000"  >&lt;p&gt;I think the case that u mentioned is not the only one! What if one of the initial random centroids is exactly the same as the one of the data points?&lt;/p&gt;</comment>
                            <comment id="14202796" author="tn" created="Fri, 7 Nov 2014 22:10:00 +0000"  >&lt;p&gt;Yes, I realized this while working on the fix.&lt;/p&gt;

&lt;p&gt;The implemented fix takes care of these cases too now, so I assume this issue can be closed safely.&lt;/p&gt;

&lt;p&gt;If you still encounter problems with the code in trunk, please let us know.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i221yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>