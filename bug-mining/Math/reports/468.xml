<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1117] twod.PolygonsSet.getSize produces NullPointerException if BSPTree has no nodes</title>
                <link>https://issues.apache.org/jira/browse/MATH-1117</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;org.apache.commons.math3.geometry.euclidean.twod.PolygonsSet.getSize() uses a tree internally:&lt;/p&gt;

&lt;p&gt;final BSPTree&amp;lt;Euclidean2D&amp;gt; tree = getTree(false);&lt;/p&gt;

&lt;p&gt;However, if that tree contains no data, it seems that the reference returned is null, which causes a subsequent NullPointerException.&lt;/p&gt;

&lt;p&gt;Probably an exception with a message (&quot;tree has no data&quot;) would clarify that this is an API usage error.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS 10.9, Java 6, 7&lt;/p&gt;</environment>
        <key id="12708180">MATH-1117</key>
            <summary>twod.PolygonsSet.getSize produces NullPointerException if BSPTree has no nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Telcontar">Cyrille Artho</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Apr 2014 03:02:08 +0000</created>
                <updated>Mon, 19 May 2014 15:13:19 +0000</updated>
                            <resolved>Sat, 26 Apr 2014 16:57:06 +0000</resolved>
                                    <version>3.2</version>
                                    <fixVersion>3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13968036" author="telcontar" created="Mon, 14 Apr 2014 03:04:27 +0000"  >&lt;p&gt;JUnit test to reproduce problem.&lt;/p&gt;</comment>
                            <comment id="13968106" author="telcontar" created="Mon, 14 Apr 2014 06:12:12 +0000"  >&lt;p&gt;Just calling the constructor with the right numbers produces the same effect, for example this one-liner:&lt;/p&gt;

&lt;p&gt;new org.apache.commons.math3.geometry.euclidean.twod.PolygonsSet(0.0d, 0.0d, 0.0d, 10.3206397147574d);&lt;/p&gt;</comment>
                            <comment id="13982038" author="luc" created="Sat, 26 Apr 2014 16:57:06 +0000"  >&lt;p&gt;The two problems you report are completely different from each other.&lt;/p&gt;

&lt;p&gt;The first report is really a wrong API use. The call did not fulfill the constraints that were already given in&lt;br/&gt;
the javadoc, i.e. that the provided tree MUST have proper Boolean attributes at leaf nodes. There is no&lt;br/&gt;
verification here for performance reasons (it would imply walking the full trees all the time). I really don&apos;t&lt;br/&gt;
think it would be a good idea to do such verifications. So I only improved the javadoc of the constructor&lt;br/&gt;
to make it more clear this constructor is for expert use only (building a tree is difficult) and that there is&lt;br/&gt;
no verifications, adding in the documentation that failing to provide appropriate arguments is the&lt;br/&gt;
responsibility of users.&lt;/p&gt;

&lt;p&gt;In fact, general users should never use this specific constructor, but should rely on the other ones which&lt;br/&gt;
are there precisely to avoid this kind of errors : the other constructors ensure the tree is correct before&lt;br/&gt;
calling this constructor.&lt;/p&gt;

&lt;p&gt;The second one is a real problem, I have fixed it (see r1590251).&lt;/p&gt;

&lt;p&gt;Please reopen the issue if you do not agree with the fix for the first problem, as it is documentation only.&lt;/p&gt;</comment>
                            <comment id="13982671" author="telcontar" created="Mon, 28 Apr 2014 00:12:52 +0000"  >&lt;p&gt;Thanks for clarifying this one. I guess making these constructors package-private may break existing code so the documentation is the best way to warn the user.&lt;br/&gt;
By the way, the new documentation has a typo in &quot;task&quot; (currently &quot;taks&quot;). The same typo is also in PolyhedronsSet.java. Of course that&apos;s easy to fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13982785" author="luc" created="Mon, 28 Apr 2014 06:49:00 +0000"  >&lt;p&gt;Yes, these constructors are used outside of their package. Typically, the constructor for polygons (in 2D) is called from the split method in SubPlane and also from an internal class in OutlineExtractor, both in the 3D package. As the methods have been public for a while, they may also be used from user code. The call from the split method is a very important one: it is used a very large number of times as part of building 3D BSP trees, and here the tree has been built using a complex algorithm to ensure it is correct, so we don&apos;t want to visit all its leafs to check it.&lt;/p&gt;

&lt;p&gt;Thanks for the hint about the typos, I have fixed them now.&lt;/p&gt;</comment>
                            <comment id="14001771" author="luc" created="Mon, 19 May 2014 15:13:19 +0000"  >&lt;p&gt;Closing all resolved issue now available in released 3.3 version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640014" name="Report3.java" size="544" author="Telcontar" created="Mon, 14 Apr 2014 03:04:27 +0000"/>
                            <attachment id="12640029" name="Report3_1.java" size="262" author="Telcontar" created="Mon, 14 Apr 2014 06:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ukzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386767</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>