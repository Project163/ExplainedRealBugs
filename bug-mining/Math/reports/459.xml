<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1103] Convergence Checker Fixes</title>
                <link>https://issues.apache.org/jira/browse/MATH-1103</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description></description>
                <environment></environment>
        <key id="12697239">MATH-1103</key>
            <summary>Convergence Checker Fixes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="evanward1">Evan Ward</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2014 22:47:00 +0000</created>
                <updated>Mon, 19 May 2014 15:13:34 +0000</updated>
                            <resolved>Sun, 2 Mar 2014 14:04:00 +0000</resolved>
                                                    <fixVersion>3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13912255" author="erans" created="Tue, 25 Feb 2014 23:30:57 +0000"  >&lt;p&gt;Please create different tickets for different problems.&lt;br/&gt;
The second patch seems to introduce a dependency.&lt;/p&gt;

&lt;p&gt;The first patch shows how brittle code can become without defensive copying.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-        Evaluation current = problem.evaluate(new ArrayRealVector(currentPoint, false));
+        Evaluation current = problem.evaluate(new ArrayRealVector(currentPoint));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Although the second may be correct, it is no less dangerous because nothing at this level warns the developer that a new instance is required for correctness. The &quot;evaluate&quot; method should be creating a copy of an object that will be used outside the class (i.e. without control).&lt;br/&gt;
It is fine to be concerned about performance but IMO robustness must come before premature optimization.&lt;/p&gt;</comment>
                            <comment id="13914617" author="luc" created="Thu, 27 Feb 2014 15:00:58 +0000"  >&lt;p&gt;I don&apos;t think the call without the boolean parameter is as dangerous as the first one. In the first case, the developer explicitly states he want to reuse the array, and it was an error. In the second case, no assumption is made and the safe option (copying) is used.&lt;/p&gt;

&lt;p&gt;Concerning the second patch, there is no added dependency, org.hamcrest is embedded into Junit.&lt;/p&gt;

&lt;p&gt;So I think we could apply the patches, is this OK for you?&lt;/p&gt;</comment>
                            <comment id="13914633" author="erans" created="Thu, 27 Feb 2014 15:16:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; is this OK for you?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think so.&lt;br/&gt;
The concern I state is that the implementation of the optimization algorithm should not have to figure out whether a copy must be made or not.&lt;br/&gt;
The default implementation of the &quot;LeastSquareProblem&quot; (i.e. &quot;LocalLeastSquaresProblem&quot; in &quot;LeastSquaresFactory&quot;) should use a &quot;LeastSquareProblem.Evaluation&quot; that makes a defensive copy.&lt;/p&gt;</comment>
                            <comment id="13914645" author="evanward1" created="Thu, 27 Feb 2014 15:23:20 +0000"  >&lt;p&gt;Gilles solution is o.k. by me. Let&apos;s add some documentation to the interface since I think users will be implementing both Optimizer and Problem.&lt;/p&gt;

&lt;p&gt;I put the patches in the same issue because the tests in #1 still fail for LM due to the bug fixed in #2.&lt;/p&gt;

&lt;p&gt;Fixing #1 here is making me rethink the Jacobian copying issues. Maybe it is best to have a copy of the Jacobian for each Evaluation so that there aren&apos;t stale data issues. (Slower and safer) I think we could still apply diagonal weights without copying the Jacobian matrix.&lt;/p&gt;</comment>
                            <comment id="13914662" author="luc" created="Thu, 27 Feb 2014 15:41:33 +0000"  >&lt;p&gt;OK, I&apos;ll wait for the next patch.&lt;/p&gt;</comment>
                            <comment id="13916450" author="evanward1" created="Fri, 28 Feb 2014 21:41:22 +0000"  >&lt;p&gt;created &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-1106&quot; title=&quot;LevenburgMaquardt switched evaluation and iterations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-1106&quot;&gt;&lt;del&gt;MATH-1106&lt;/del&gt;&lt;/a&gt; for the second patch&lt;/p&gt;</comment>
                            <comment id="13916469" author="evanward1" created="Fri, 28 Feb 2014 21:57:55 +0000"  >&lt;p&gt;Now we copy on both sides of the LSP.evaluate() call.&lt;/p&gt;</comment>
                            <comment id="13917416" author="luc" created="Sun, 2 Mar 2014 14:04:00 +0000"  >&lt;p&gt;Patch applied as of r1573307.&lt;/p&gt;

&lt;p&gt;Thanks for the report and for the patch!&lt;/p&gt;</comment>
                            <comment id="14001862" author="luc" created="Mon, 19 May 2014 15:13:34 +0000"  >&lt;p&gt;Closing all resolved issue now available in released 3.3 version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12631852" name="0001-Fix-checker-seeing-not-old-point.patch" size="8965" author="evanward1" created="Fri, 28 Feb 2014 21:57:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sqrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>