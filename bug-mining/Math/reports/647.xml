<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:25:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1558] MidpointIntegrator doesn&apos;t implement the midpoint method correctly</title>
                <link>https://issues.apache.org/jira/browse/MATH-1558</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;Hi all,&lt;/p&gt;

&lt;p&gt;I&apos;ve been reading through the implementation of &lt;tt&gt;MidpointIntegrator&lt;/tt&gt;, and I&apos;ve discovered an issue with the algorithm as implemented.&lt;/p&gt;

&lt;p&gt;The midpoint method generates an estimate for the definite integral of &lt;tt&gt;f&lt;/tt&gt;&#160;between &lt;tt&gt;a&lt;/tt&gt; and &lt;tt&gt;b&lt;/tt&gt; by&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;subdividing &lt;tt&gt;(a, b)&lt;/tt&gt;&#160;into &lt;tt&gt;n&lt;/tt&gt; intervals&lt;/li&gt;
	&lt;li&gt;estimating the area of each interval as a rectangle &lt;tt&gt;(b-a)/n&lt;/tt&gt; wide and as tall as the midpoint of the interval - ie, &lt;tt&gt;((b-a)/n) * f((a + b) / 2)&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;adding up all estimates.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The &lt;tt&gt;MidpointIntegrator&lt;/tt&gt; implementation here sticks to n = powers of 2 for this reason, stated in the comments:&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;&#160;The interval is divided equally into 2^n sections rather than an arbitrary m sections because this configuration can best utilize the already computed values.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Here is the&lt;/b&gt;&#160;&lt;b&gt;problem:&lt;/b&gt; the midpoint method can&apos;t reuse values if you split an interval in half. It can only reuse previous values if you split the interval into 3; ie, use 3^n sections, not 2^n.&lt;/p&gt;

&lt;p&gt;What&apos;s actually implemented in `MidpointIntegrator` is a left Riemann sum without the leftmost point. Or, identically, a right Riemann sum without the rightmost point: &lt;a href=&quot;https://en.wikipedia.org/wiki/Riemann_sum&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Riemann_sum&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This matters because the error of a (left, right) Riemann sum is proportional to 1/n, while the error of the midpoint method is proportional to 1/n^2... a big difference.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;Explanation&quot;&gt;&lt;/a&gt;Explanation&lt;/h2&gt;

&lt;p&gt;The idea behind the midpoint method&apos;s point reuse is that if you triple the number of integral slices, one of the midpoints with n slices will overlap with the n/3 slice evaluation:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 1 |--------x--------|
n = 3 |--x--|--x--|--x&#8211;-|
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can incrementally update the n=1 estimate by&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;sampling the points at (1/6) and (5/6) of the way across the n=1 interval&lt;/li&gt;
	&lt;li&gt;adding them to the n=1 estimate&lt;/li&gt;
	&lt;li&gt;scaling this sum down by 3, to scale down the widths of the rectangles&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For values of n != 1, the same trick applies... just sample the 1/6, 5/6 point for every slice in the n/3 evaluation.&lt;/p&gt;

&lt;p&gt;What happens when you try and scale from n =&amp;gt; 2n? The old function evaluations all fall on the &lt;em&gt;boundaries&lt;/em&gt;&#160;between the new cells, and can&apos;t be reused:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 1 |-------x-------|
n = 2 |---x---|---x---|
n = 4 |-x-|-x-|-x-|-x-|
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The implementation of &quot;stage&quot; in MidpointIntegrator is combining them like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 1 |-------x-------|
n = 2 |---x---x---x---|
n = 4 |-x-x-x-x-x-x-x-|
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is actually:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tripling the number of integration slices at each step, not doubling, and&lt;/li&gt;
	&lt;li&gt;moving the function evaluation points out of the midpoint.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In fact, what &quot;stage&quot; is actually doing is calculating a left Riemann sum, just without the left-most point.&lt;/p&gt;

&lt;p&gt;Here are the evaluation points for a left Riemann sum for comparison:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 2 x-------x--------
n = 4 x---x---x---x----
n = 8 x-x-x-x-x-x-x-x--
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s the code from &quot;stage&quot; implementing this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// number of &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; points in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; stage... 2^n points at &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; stage, so we
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// have 2^n-1 points.
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; np = 1L &amp;lt;&amp;lt; (n - 1);
&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; sum = 0;

&lt;span class=&quot;code-comment&quot;&gt;// spacing between adjacent &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; points
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; spacing = diffMaxMin / np;

&lt;span class=&quot;code-comment&quot;&gt;// the first &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; point}}}}
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; x = min + 0.5 * spacing;}}}}
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; i = 0; i &amp;lt; np; i++) {}}}}
    sum += computeObjectiveValue(x);
    x += spacing;}}}}
}
&lt;span class=&quot;code-comment&quot;&gt;// add the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; sum to previously calculated result
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0.5 * (previousStageResult + sum * spacing);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h2&gt;&lt;a name=&quot;SuggestedResolution%C2%A0&quot;&gt;&lt;/a&gt;Suggested Resolution&#160;&lt;/h2&gt;

&lt;p&gt;To keep the exact same results, I think the only solution is to remove the incorrect incremental &quot;stage&quot;; or convert it to the algorithm that implements the correct incremental increase by 3, and then&#160;&lt;em&gt;don&apos;t&lt;/em&gt; call it by default.&lt;/p&gt;

&lt;p&gt;Everything does work wonderfully if you expand n by a factor of 3 each time. Press discusses this trick in Numerical Recipes, section 4.4 (p136): &lt;a href=&quot;http://phys.uri.edu/nigh/NumRec/bookfpdf/f4-4.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://phys.uri.edu/nigh/NumRec/bookfpdf/f4-4.pdf&lt;/a&gt;&#160;and notes that the savings you get still make it more efficient than NOT reusing function evaluations and implementing a correct scale-by-2 each time.&lt;/p&gt;

&lt;p&gt;Happy to provide more information if I can be helpful!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13335814">MATH-1558</key>
            <summary>MidpointIntegrator doesn&apos;t implement the midpoint method correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sritchie">Sam Ritchie</reporter>
                        <labels>
                            <label>integration</label>
                            <label>midpoint</label>
                    </labels>
                <created>Fri, 16 Oct 2020 17:34:19 +0000</created>
                <updated>Wed, 21 Oct 2020 00:34:52 +0000</updated>
                                            <version>3.6.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17215560" author="sritchie" created="Fri, 16 Oct 2020 17:38:59 +0000"  >&lt;p&gt;Ugh, sorry, the code formatting looked great in the editor but now looks goofy here on the issue. My nice ascii art got a little corrupted, and I&apos;m not sure how to keep it looking right, so you may need to look at the raw text to see everything more clearly.&lt;/p&gt;

&lt;p&gt;I should note that the reason it was probably implemented this way is that doubling `n`&#160;&lt;em&gt;does&lt;/em&gt; work for the trapezoid method, if you want to reuse points:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 2: x-------x-------x
n = 4: x---x---x---x&#8212;--x
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;And TrapezoidIntegrator does implement this correctly. It looks like the MidpointIntegrator code was adapted from the TrapezoidIntegrator code without realizing the difference.&lt;/p&gt;</comment>
                            <comment id="17215661" author="erans" created="Fri, 16 Oct 2020 21:40:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;the code formatting looked great in the editor but &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve tried to correct the formatting.&lt;/p&gt;</comment>
                            <comment id="17215679" author="erans" created="Fri, 16 Oct 2020 22:14:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Suggested Resolution &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; To keep the exact same results, &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For the next major release, it is not necessary; the implementation could just be fixed in the &quot;master&quot; branch.&lt;br/&gt;
Thanks for the detailed explanation; however, could you provide another reference (NR codes cannot be used)?&lt;/p&gt;

&lt;p&gt;A patch is most welcome.&lt;/p&gt;</comment>
                            <comment id="17216478" author="sritchie" created="Mon, 19 Oct 2020 06:08:33 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt;, I&apos;ve attached a patch that should fix the issue. I don&apos;t have a good Java setup so I stalled short of adding tests showing the increase in accuracy, or decrease in specific number of iterations, but those would be good too.&lt;/p&gt;


&lt;p&gt;I don&apos;t have another reference to this incremental method, as I wasn&apos;t able to find anyone else that had implemented it. I&apos;ve implemented it myself in the Clojure computer algebra system I maintain:&#160;&lt;a href=&quot;https://github.com/littleredcomputer/sicmutils/pull/120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/littleredcomputer/sicmutils/pull/120&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s a PR waiting to merge with the incremental implementation: &lt;a href=&quot;https://github.com/littleredcomputer/sicmutils/pull/120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/littleredcomputer/sicmutils/pull/120&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Specifically this file goes into the same visual proof I laid out above: &lt;a href=&quot;https://github.com/littleredcomputer/sicmutils/blob/a430460faaccd7ef583543159175d64735ba6613/src/sicmutils/numerical/quadrature/midpoint.cljc#L94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/littleredcomputer/sicmutils/blob/a430460faaccd7ef583543159175d64735ba6613/src/sicmutils/numerical/quadrature/midpoint.cljc#L94&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This test in Clojure shows that the naive implementation and the incremental version of midpoint integration produce the same results: &lt;a href=&quot;https://github.com/littleredcomputer/sicmutils/blob/a430460faaccd7ef583543159175d64735ba6613/test/sicmutils/numerical/quadrature/midpoint_test.cljc#L41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/littleredcomputer/sicmutils/blob/a430460faaccd7ef583543159175d64735ba6613/test/sicmutils/numerical/quadrature/midpoint_test.cljc#L41&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                            <comment id="17216615" author="erans" created="Mon, 19 Oct 2020 10:38:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t have another reference to this incremental method,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve found &lt;a href=&quot;https://math.libretexts.org/Courses/Mount_Royal_University/MATH_2200%3A_Calculus_for_Scientists_II/2%3A_Techniques_of_Integration/2.5%3A_Numerical_Integration_-_Midpoint%2C_Trapezoid%2C_Simpson%27s_rule&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt;. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wasn&apos;t able to find anyone else that had implemented it. I&apos;ve implemented it myself &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m confused now: Does this report refer to a bug (discrepancy between an algorithm and its implementation), or to an alternate implementation of a &quot;family&quot; of similarly-named algorithms?&lt;/p&gt;</comment>
                            <comment id="17216689" author="sritchie" created="Mon, 19 Oct 2020 12:46:43 +0000"  >&lt;p&gt;Apologies, let me be more clear. &quot;MidpointIntegrator&quot; claims to implement the well-known Midpoint rule (see your link, or this &lt;a href=&quot;https://en.wikipedia.org/wiki/Riemann_sum#Midpoint_rule&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Wikipedia page&lt;/a&gt; for numerical quadrature. It&apos;s correct for one iteration. The bug I&apos;m reporting enters because of this feature:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The interval is divided equally into 2^n sections rather than an arbitrary m sections because this configuration can best utilize the already computed values.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A correct implementation of the Midpoint rule can&apos;t reuse function values if you 2x the number of intervals, as I&apos;ve reported above. So by trying to implement this optimization, MidpointIntegrator actually implements a not-quite-correct version of a different algorithm called a Left Riemann sum.&lt;/p&gt;

&lt;p&gt;This would become clear in the tests if Commons-Math had an implementation of MidpointIntegrator with &lt;em&gt;no&lt;/em&gt; function reuse for comparison; Mapping across &quot;n&quot; slices, summing each midpoint and multiplying by (b-a)/n would give you different results.&lt;/p&gt;

&lt;p&gt;There are 2 ways out:&lt;br/&gt;
1. Implement the correct Midpoint rule by removing the current function value reuse, the source of the bug&lt;br/&gt;
2. Recognize that we &lt;em&gt;can&lt;/em&gt; reuse function values if we go from n =&amp;gt; 3n slices each time, as I&apos;ve described above.&lt;/p&gt;

&lt;p&gt;My patch implements #2.&lt;/p&gt;

&lt;p&gt;Restating:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;MidpointIntegrator has a bug, ie, a discrepancy between its stated algorithm and the implementation&lt;/li&gt;
	&lt;li&gt;My patch offers a fix that fixes the discrepancy while retaining the ability to reuse function values&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hopefully that&apos;s more clear!&lt;/p&gt;</comment>
                            <comment id="17216702" author="sritchie" created="Mon, 19 Oct 2020 13:00:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt;, I&apos;ve also just noticed that the Wikipedia link at the top of the source file is incorrect. It links to a different Midpoint method, used for solving differential equations: &lt;a href=&quot;http://en.wikipedia.org/wiki/Midpoint_method&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Midpoint_method&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The correct link should be to the &quot;Midpoint rule&quot; section of the &quot;Riemann sum&quot; page here: &lt;a href=&quot;https://en.wikipedia.org/wiki/Riemann_sum#Midpoint_rule&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Riemann_sum#Midpoint_rule&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As you noted in your comment there are tons of references to the &quot;Midpoint rule&quot;. What I meant above was, I couldn&apos;t find a reference, other than NR, where anyone mentions the fact that you can reuse function evaluations by tripling N. But the derivation is straightforward as I showed above: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;n = 1 |--------x--------|
n = 3 |--x--|--x--|--x&#8211;-|
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17217562" author="sritchie" created="Tue, 20 Oct 2020 12:26:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt; does that all make sense? Happy to explain further if you like, or chat if there&apos;s a good chat system y&apos;all use.&lt;/p&gt;</comment>
                            <comment id="17217638" author="erans" created="Tue, 20 Oct 2020 14:45:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;does that all make sense?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17217877" author="sritchie" created="Tue, 20 Oct 2020 19:13:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt;&#160;okay, great. What&apos;s the right next step?&lt;/p&gt;</comment>
                            <comment id="17217933" author="erans" created="Tue, 20 Oct 2020 21:01:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;next step?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Either I merge the patch (and will probably have to fix &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=commons-math.git;a=blob;f=src/test/java/org/apache/commons/math4/analysis/integration/MidPointIntegratorTest.java;h=0474d27bdc217fec4120172ba24874dfc584ff85;hb=HEAD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;some unit tests&lt;/a&gt;), or you could provide a pull request through &lt;a href=&quot;https://github.com/apache/commons-math/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GitHub&lt;/a&gt; (which will be automatically checked by &lt;a href=&quot;https://travis-ci.org/github/apache/commons-math/pull_requests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Travis CI&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17217982" author="sritchie" created="Tue, 20 Oct 2020 22:30:03 +0000"  >&lt;p&gt;Whoops, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erans&quot; class=&quot;user-hover&quot; rel=&quot;erans&quot;&gt;erans&lt;/a&gt; somehow it escaped me that the project lived on GitHub. I&apos;ve just made a PR and added some tests verifying that we are saving roughly 1/3 of evaluations vs a non-incremental approach. The rest of the tests pass (they weren&apos;t making particularly strong claims about the results, just that iterations didn&apos;t exceed the max).&lt;/p&gt;

&lt;p&gt;I&apos;ve also just sent an ICLA to secretary@apache.org, so we should be all set there too.&lt;/p&gt;</comment>
                            <comment id="17218016" author="erans" created="Wed, 21 Oct 2020 00:34:52 +0000"  >&lt;p&gt;PR merged (commit 43b77ffabba8a48144080674973362150cbcfb28 in &quot;master&quot; branch).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13013744" name="midpoint.patch" size="4122" author="sritchie" created="Mon, 19 Oct 2020 06:12:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jrm8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>