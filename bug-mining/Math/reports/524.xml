<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1203] getKernel fails for buckets with only multiple instances of the same value in random.EmpiricalDistribution</title>
                <link>https://issues.apache.org/jira/browse/MATH-1203</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;After loading a set of values into an EmpericalDistribution, assume that there&apos;s a case where a single bin ONLY contains multiple instances of the same value.  In this case the standard deviation will equal zero.  This will fail when getKernel attempts to create a NormalDistribution.  The other case where stddev=0 is when there is only a single value in the bin, and this is handled by returning a ConstantRealDistribution rather than a NormalDistrbution.&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MATH-984&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776213">MATH-1203</key>
            <summary>getKernel fails for buckets with only multiple instances of the same value in random.EmpiricalDistribution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kdkavanagh">Kyle Kavanagh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Feb 2015 17:46:40 +0000</created>
                <updated>Fri, 19 Jun 2015 08:21:42 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 12:18:42 +0000</resolved>
                                    <version>3.4</version>
                    <version>3.4.1</version>
                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>3.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14352272" author="tn" created="Sun, 8 Mar 2015 21:28:14 +0000"  >&lt;p&gt;I have seen that Phil fixed this issue, but there is still something wrong in case a bin has a constant real distribution as kernel:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;[] data = {0, 0, 1, 1};
        EmpiricalDistribution dist = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EmpiricalDistribution(2);
        dist.load(data);

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(dist.cumulativeProbability(0));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Will output NaN. I have seen this while taking a look, but did not yet have the time to further dig into it.&lt;/p&gt;</comment>
                            <comment id="14352312" author="psteitz" created="Sun, 8 Mar 2015 22:21:24 +0000"  >&lt;p&gt;Thanks, Thomas!  That looks like a different problem.  Looking into it...  Leaving this open for now.&lt;/p&gt;</comment>
                            <comment id="14352362" author="psteitz" created="Mon, 9 Mar 2015 00:06:50 +0000"  >&lt;p&gt;Fixed in 59912a0724200beef63df2d74497165c3d1081bf for 3.x&lt;br/&gt;
4aa4c6d31f98d8cd80ccbcf99ded77bfc6de25c5 for 4.0&lt;/p&gt;</comment>
                            <comment id="14354525" author="tn" created="Tue, 10 Mar 2015 08:23:22 +0000"  >&lt;p&gt;Sorry to bugger again, but there is something with the fix that should at least be documented.&lt;br/&gt;
The getKernel method is protected, thus users may override it to return a different distribution, but the cumulativeProbability method now explicitly checks if the bin kernel is of type ConstantRealDistribution. Either we document this explicitly in the javadoc as a requirements when overriding the method, or we do a check on the variance of the kernel to decide if we have to do interpolation or not.&lt;/p&gt;</comment>
                            <comment id="14354888" author="psteitz" created="Tue, 10 Mar 2015 13:36:28 +0000"  >&lt;p&gt;Thanks for reviewing, Thomas.  I did think about checking variance = 0 instead and probably should have done that.  In fact, since it is possible that a non-constant user-supplied kernel can have no support in a bin, the 0/0 computation that led to &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-1208&quot; title=&quot;EmpiricalDistribution cumulativeProbability can return NaN when evaluated within a constant bin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-1208&quot;&gt;&lt;del&gt;MATH-1208&lt;/del&gt;&lt;/a&gt; could happen even without variance == 0.  So I guess a more robust test is first check if the distribution variance is 0, then check kB &amp;gt; 0.  Thanks again for reviewing.  &lt;/p&gt;</comment>
                            <comment id="14501210" author="luc" created="Sat, 18 Apr 2015 09:28:24 +0000"  >&lt;p&gt;Closing resolved issue as 3.5 has been released.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12838473">MATH-1234</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25th3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>