<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:24:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-1258] compute() method in classes in org.apache.commons.math4.ml.distance package</title>
                <link>https://issues.apache.org/jira/browse/MATH-1258</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;There are five classes CanberraDistance, ChebyshevDistance, EarthMoversDistance, EuclideanDistance and ManhattanDistance in org.apache.commons.math4.ml.distance package, which compute different types of distances. Each of them contains method compute(double[] a, double[] b) that accepts two double arrays as variables.&lt;/p&gt;

&lt;p&gt;However, if the lengths of array a is greater than the length of array b, the method compute() in all the five classes produces java.lang.ArrayIndexOutOfBoundsException.&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
         private void test0() {&lt;br/&gt;
           CanberraDistance distance = new CanberraDistance();&lt;/p&gt;

&lt;p&gt;            final double[] a = &lt;/p&gt;
{ 1, 2, 3, 4, 9, 4 }
&lt;p&gt;;&lt;br/&gt;
            final double[] b = &lt;/p&gt;
{ -5, -6, 7, 4, 3 }
&lt;p&gt;;&lt;br/&gt;
            distance.compute(a, b);&lt;br/&gt;
       }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12857202">MATH-1258</key>
            <summary>compute() method in classes in org.apache.commons.math4.ml.distance package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gjahanagirova">Gunel Jahangirova</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2015 12:51:49 +0000</created>
                <updated>Mon, 25 Jan 2016 20:28:01 +0000</updated>
                            <resolved>Thu, 20 Aug 2015 20:02:32 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>3.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14702975" author="tn" created="Wed, 19 Aug 2015 13:08:26 +0000"  >&lt;p&gt;Closing this as invalid as the javadoc of DistanceMeasure#compute clearly states that the provided arrays need to have the same dimension.&lt;/p&gt;</comment>
                            <comment id="14702995" author="gjahanagirova" created="Wed, 19 Aug 2015 13:17:35 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;Well, it is good that documentation states that, but why not to add a simple check into the code which will throw an exception with a meaningful message?&lt;/p&gt;</comment>
                            <comment id="14703447" author="otmar ertl" created="Wed, 19 Aug 2015 17:49:55 +0000"  >&lt;p&gt;I also do not like throwing an ArrayIndexOutOfBoundsException due to 2 reasons:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The current behavior is asymmetric. distance(a,b) succeeds while distance(b, a) fails with an exception, if a and b have different lengths. Since distance functions are known to be symmetric, their behavior should be symmetric too, even in case of invalid parameters.&lt;/li&gt;
	&lt;li&gt;The element-by-element functions in MathArrays throw a DimensionMismatchException instead of an ArrayIndexOutOfBoundsException. For the sake of consistency, I think throwing a DimensionMismatchException is more appropriate for distance functions as well.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please see attached patch.&lt;/p&gt;</comment>
                            <comment id="14704079" author="erans" created="Thu, 20 Aug 2015 00:58:35 +0000"  >&lt;p&gt;Then, I&apos;d propose that the patch I&apos;ve attached be applied first.&lt;br/&gt;
It adds a &quot;checkEqualLength(double[], double[])&quot; utility to &lt;tt&gt;MathArrays&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14704314" author="tn" created="Thu, 20 Aug 2015 05:27:51 +0000"  >&lt;p&gt;No objections against the patches, they certainly make things more consistent.&lt;/p&gt;</comment>
                            <comment id="14704690" author="erans" created="Thu, 20 Aug 2015 11:10:08 +0000"  >&lt;p&gt;My patch was applied in the following commits:&lt;br/&gt;
9cb16d5b1e02ad41fe8481cb7e74fa57da5f08e7 (3.6)&lt;br/&gt;
f70741c9b216d3836d047c542847920d4778cf9d (4.0)&lt;/p&gt;</comment>
                            <comment id="14705180" author="otmar ertl" created="Thu, 20 Aug 2015 16:05:40 +0000"  >&lt;p&gt;Committed my patch:&lt;br/&gt;
7934bfea106206d2840ba062eef105001601588a (3.6)&lt;br/&gt;
5ca0a1c3564d35293a5ecf03e5f32e6f0f6f445c (4.0)&lt;/p&gt;</comment>
                            <comment id="14705509" author="otmar ertl" created="Thu, 20 Aug 2015 18:30:36 +0000"  >&lt;p&gt;I have just added the missing entries to changes.xml. I think we can close this issue now. It seems that I do not have the required rights to do that. &lt;/p&gt;</comment>
                            <comment id="14705663" author="erans" created="Thu, 20 Aug 2015 19:59:18 +0000"  >&lt;p&gt;I&apos;ve just added you in the &quot;committers&quot; list (in JIRA).  Could you try again to resolve the issue?&lt;/p&gt;</comment>
                            <comment id="14705674" author="otmar ertl" created="Thu, 20 Aug 2015 20:04:53 +0000"  >&lt;p&gt;Thanks! It worked now.&lt;/p&gt;</comment>
                            <comment id="15115963" author="luc" created="Mon, 25 Jan 2016 20:28:01 +0000"  >&lt;p&gt;Closing all resolved issues that were included in 3.6 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12751309" name="patch.diff" size="10533" author="Otmar Ertl" created="Wed, 19 Aug 2015 17:49:55 +0000"/>
                            <attachment id="12751383" name="pre-MATH-1258.patch" size="4496" author="erans" created="Thu, 20 Aug 2015 00:58:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j3ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>