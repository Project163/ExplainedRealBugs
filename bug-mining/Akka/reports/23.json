{"url":"https://api.github.com/repos/akka/akka-core/issues/23977","repository_url":"https://api.github.com/repos/akka/akka-core","labels_url":"https://api.github.com/repos/akka/akka-core/issues/23977/labels{/name}","comments_url":"https://api.github.com/repos/akka/akka-core/issues/23977/comments","events_url":"https://api.github.com/repos/akka/akka-core/issues/23977/events","html_url":"https://github.com/akka/akka-core/issues/23977","id":273516874,"node_id":"MDU6SXNzdWUyNzM1MTY4NzQ=","number":23977,"title":"[typed] Actor.immutable docs are not correct wrt. mutable state","user":{"login":"hseeberger","id":41911,"node_id":"MDQ6VXNlcjQxOTEx","avatar_url":"https://avatars.githubusercontent.com/u/41911?v=4","gravatar_id":"","url":"https://api.github.com/users/hseeberger","html_url":"https://github.com/hseeberger","followers_url":"https://api.github.com/users/hseeberger/followers","following_url":"https://api.github.com/users/hseeberger/following{/other_user}","gists_url":"https://api.github.com/users/hseeberger/gists{/gist_id}","starred_url":"https://api.github.com/users/hseeberger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hseeberger/subscriptions","organizations_url":"https://api.github.com/users/hseeberger/orgs","repos_url":"https://api.github.com/users/hseeberger/repos","events_url":"https://api.github.com/users/hseeberger/events{/privacy}","received_events_url":"https://api.github.com/users/hseeberger/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":92356828,"node_id":"MDU6TGFiZWw5MjM1NjgyOA==","url":"https://api.github.com/repos/akka/akka-core/labels/1%20-%20triaged","name":"1 - triaged","color":"5319e7","default":false,"description":"Tickets that are safe to pick up for contributing in terms of likeliness of being accepted"},{"id":92616708,"node_id":"MDU6TGFiZWw5MjYxNjcwOA==","url":"https://api.github.com/repos/akka/akka-core/labels/help%20wanted","name":"help wanted","color":"009800","default":true,"description":"Issues that the core team will likely not have time to work on"},{"id":92622675,"node_id":"MDU6TGFiZWw5MjYyMjY3NQ==","url":"https://api.github.com/repos/akka/akka-core/labels/t:docs","name":"t:docs","color":"CCCCCC","default":false,"description":null},{"id":171272294,"node_id":"MDU6TGFiZWwxNzEyNzIyOTQ=","url":"https://api.github.com/repos/akka/akka-core/labels/t:typed","name":"t:typed","color":"eeeeee","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/akka/akka-core/milestones/121","html_url":"https://github.com/akka/akka-core/milestone/121","labels_url":"https://api.github.com/repos/akka/akka-core/milestones/121/labels","id":2800408,"node_id":"MDk6TWlsZXN0b25lMjgwMDQwOA==","number":121,"title":"2.5.7","description":"","creator":{"login":"raboof","id":131856,"node_id":"MDQ6VXNlcjEzMTg1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/131856?v=4","gravatar_id":"","url":"https://api.github.com/users/raboof","html_url":"https://github.com/raboof","followers_url":"https://api.github.com/users/raboof/followers","following_url":"https://api.github.com/users/raboof/following{/other_user}","gists_url":"https://api.github.com/users/raboof/gists{/gist_id}","starred_url":"https://api.github.com/users/raboof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raboof/subscriptions","organizations_url":"https://api.github.com/users/raboof/orgs","repos_url":"https://api.github.com/users/raboof/repos","events_url":"https://api.github.com/users/raboof/events{/privacy}","received_events_url":"https://api.github.com/users/raboof/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":104,"state":"closed","created_at":"2017-09-28T13:38:23Z","updated_at":"2020-02-04T14:22:19Z","due_on":null,"closed_at":"2017-11-20T09:40:42Z"},"comments":2,"created_at":"2017-11-13T17:40:51Z","updated_at":"2017-11-14T11:10:17Z","closed_at":"2017-11-14T11:09:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The docs: \"This constructor is called immutable because the behavior instance doesn't have or close over any mutable state.\"\r\n\r\nBut of course it's possible to close over a var like this:\r\n\r\n``` scala\r\ndef behavior(): Behavior[Any] = {\r\n  var n = 0\r\n  Actor.immutable {\r\n    case (_, _) =>\r\n      n += 1\r\n      println(n)\r\n      Actor.same\r\n  }\r\n}\r\n```\r\n\r\nSo I guess the docs should be changed. Or even the name (but I like it)?\r\n\r\nI suggest to change the docs along these lines: \"This constructor is called immutable because the behavior instance typically doesn't need to use mutable variables, but instead returns a potentially different behavior encapsulating any state changes\".","closed_by":{"login":"chbatey","id":1866779,"node_id":"MDQ6VXNlcjE4NjY3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/1866779?v=4","gravatar_id":"","url":"https://api.github.com/users/chbatey","html_url":"https://github.com/chbatey","followers_url":"https://api.github.com/users/chbatey/followers","following_url":"https://api.github.com/users/chbatey/following{/other_user}","gists_url":"https://api.github.com/users/chbatey/gists{/gist_id}","starred_url":"https://api.github.com/users/chbatey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chbatey/subscriptions","organizations_url":"https://api.github.com/users/chbatey/orgs","repos_url":"https://api.github.com/users/chbatey/repos","events_url":"https://api.github.com/users/chbatey/events{/privacy}","received_events_url":"https://api.github.com/users/chbatey/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/akka/akka-core/issues/23977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/akka/akka-core/issues/23977/timeline","performed_via_github_app":null,"state_reason":"completed"}