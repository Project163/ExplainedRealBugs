{"url":"https://api.github.com/repos/akka/akka-core/issues/31585","repository_url":"https://api.github.com/repos/akka/akka-core","labels_url":"https://api.github.com/repos/akka/akka-core/issues/31585/labels{/name}","comments_url":"https://api.github.com/repos/akka/akka-core/issues/31585/comments","events_url":"https://api.github.com/repos/akka/akka-core/issues/31585/events","html_url":"https://github.com/akka/akka-core/issues/31585","id":1372427763,"node_id":"I_kwDOAAH73c5RzZXz","number":31585,"title":"Failed: MapWithResourceSpec.MapWithResource must fail when close throws exception","user":{"login":"He-Pin","id":501740,"node_id":"MDQ6VXNlcjUwMTc0MA==","avatar_url":"https://avatars.githubusercontent.com/u/501740?v=4","gravatar_id":"","url":"https://api.github.com/users/He-Pin","html_url":"https://github.com/He-Pin","followers_url":"https://api.github.com/users/He-Pin/followers","following_url":"https://api.github.com/users/He-Pin/following{/other_user}","gists_url":"https://api.github.com/users/He-Pin/gists{/gist_id}","starred_url":"https://api.github.com/users/He-Pin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/He-Pin/subscriptions","organizations_url":"https://api.github.com/users/He-Pin/orgs","repos_url":"https://api.github.com/users/He-Pin/repos","events_url":"https://api.github.com/users/He-Pin/events{/privacy}","received_events_url":"https://api.github.com/users/He-Pin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":92618559,"node_id":"MDU6TGFiZWw5MjYxODU1OQ==","url":"https://api.github.com/repos/akka/akka-core/labels/failed","name":"failed","color":"e11d21","default":false,"description":"Tickets that indicate a CI failure, likely a flakey test"},{"id":93144690,"node_id":"MDU6TGFiZWw5MzE0NDY5MA==","url":"https://api.github.com/repos/akka/akka-core/labels/t:stream","name":"t:stream","color":"cccccc","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/akka/akka-core/milestones/187","html_url":"https://github.com/akka/akka-core/milestone/187","labels_url":"https://api.github.com/repos/akka/akka-core/milestones/187/labels","id":8541025,"node_id":"MI_kwDOAAH73c4AglNh","number":187,"title":"2.7.0","description":"","creator":{"login":"patriknw","id":336161,"node_id":"MDQ6VXNlcjMzNjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/336161?v=4","gravatar_id":"","url":"https://api.github.com/users/patriknw","html_url":"https://github.com/patriknw","followers_url":"https://api.github.com/users/patriknw/followers","following_url":"https://api.github.com/users/patriknw/following{/other_user}","gists_url":"https://api.github.com/users/patriknw/gists{/gist_id}","starred_url":"https://api.github.com/users/patriknw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patriknw/subscriptions","organizations_url":"https://api.github.com/users/patriknw/orgs","repos_url":"https://api.github.com/users/patriknw/repos","events_url":"https://api.github.com/users/patriknw/events{/privacy}","received_events_url":"https://api.github.com/users/patriknw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":61,"state":"closed","created_at":"2022-10-14T13:37:43Z","updated_at":"2022-11-08T07:53:47Z","due_on":null,"closed_at":"2022-10-19T08:08:10Z"},"comments":6,"created_at":"2022-09-14T06:35:44Z","updated_at":"2022-10-19T07:59:42Z","closed_at":"2022-09-15T10:12:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\nsbt.ForkMain$ForkError: java.lang.AssertionError: assertion failed: expected OnNext(a), found OnError(akka.stream.testkit.Utils$TE: \r\n)\r\n\tat scala.Predef$.assert(Predef.scala:279)\r\n\tat akka.testkit.TestKitBase.expectMsg_internal(TestKit.scala:462)\r\n\tat akka.testkit.TestKitBase.expectMsg(TestKit.scala:438)\r\n\tat akka.testkit.TestKitBase.expectMsg$(TestKit.scala:438)\r\n\tat akka.testkit.TestKit.expectMsg(TestKit.scala:973)\r\n\tat akka.stream.testkit.TestSubscriber$ManualProbe.expectNext(StreamTestKit.scala:399)\r\n\tat akka.stream.scaladsl.MapWithResourceSpec.$anonfun$new$33(MapWithResourceSpec.scala:247)\r\n\tat org.scalatest.OutcomeOf.outcomeOf(OutcomeOf.scala:85)\r\n\tat org.scalatest.OutcomeOf.outcomeOf$(OutcomeOf.scala:83)\r\n\tat org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104)\r\n\tat org.scalatest.Transformer.apply(Transformer.scala:22)\r\n\tat org.scalatest.Transformer.apply(Transformer.scala:20)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike$$anon$3.apply(AnyWordSpecLike.scala:1076)\r\n\tat org.scalatest.TestSuite.withFixture(TestSuite.scala:196)\r\n\tat org.scalatest.TestSuite.withFixture$(TestSuite.scala:195)\r\n\tat akka.stream.testkit.StreamSpec.withFixture(StreamSpec.scala:36)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.invokeWithFixture$1(AnyWordSpecLike.scala:1074)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.$anonfun$runTest$1(AnyWordSpecLike.scala:1086)\r\n\tat org.scalatest.SuperEngine.runTestImpl(Engine.scala:306)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.runTest(AnyWordSpecLike.scala:1086)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.runTest$(AnyWordSpecLike.scala:1068)\r\n\tat akka.testkit.AkkaSpec.runTest(AkkaSpec.scala:54)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.$anonfun$runTests$1(AnyWordSpecLike.scala:1145)\r\n\tat org.scalatest.SuperEngine.$anonfun$runTestsInBranch$1(Engine.scala:413)\r\n\tat scala.collection.immutable.List.foreach(List.scala:333)\r\n\tat org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)\r\n\tat org.scalatest.SuperEngine.runTestsInBranch(Engine.scala:390)\r\n\tat org.scalatest.SuperEngine.$anonfun$runTestsInBranch$1(Engine.scala:427)\r\n\tat scala.collection.immutable.List.foreach(List.scala:333)\r\n\tat org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)\r\n\tat org.scalatest.SuperEngine.runTestsInBranch(Engine.scala:396)\r\n\tat org.scalatest.SuperEngine.runTestsImpl(Engine.scala:475)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.runTests(AnyWordSpecLike.scala:1145)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.runTests$(AnyWordSpecLike.scala:1144)\r\n\tat akka.testkit.AkkaSpec.runTests(AkkaSpec.scala:54)\r\n\tat org.scalatest.Suite.run(Suite.scala:1112)\r\n\tat org.scalatest.Suite.run$(Suite.scala:1094)\r\n\tat akka.testkit.AkkaSpec.org$scalatest$wordspec$AnyWordSpecLike$$super$run(AkkaSpec.scala:54)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.$anonfun$run$1(AnyWordSpecLike.scala:1190)\r\n\tat org.scalatest.SuperEngine.runImpl(Engine.scala:535)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.run(AnyWordSpecLike.scala:1190)\r\n\tat org.scalatest.wordspec.AnyWordSpecLike.run$(AnyWordSpecLike.scala:1188)\r\n\tat akka.testkit.AkkaSpec.org$scalatest$BeforeAndAfterAll$$super$run(AkkaSpec.scala:54)\r\n\tat org.scalatest.BeforeAndAfterAll.liftedTree1$1(BeforeAndAfterAll.scala:213)\r\n\tat org.scalatest.BeforeAndAfterAll.run(BeforeAndAfterAll.scala:210)\r\n\tat org.scalatest.BeforeAndAfterAll.run$(BeforeAndAfterAll.scala:208)\r\n\tat akka.testkit.AkkaSpec.run(AkkaSpec.scala:54)\r\n\tat org.scalatest.tools.Framework.org$scalatest$tools$Framework$$runSuite(Framework.scala:318)\r\n\tat org.scalatest.tools.Framework$ScalaTestTask.execute(Framework.scala:513)\r\n\tat sbt.ForkMain$Run.lambda$runTest$1(ForkMain.java:413)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nhttps://github.com/akka/akka/runs/8341017910\r\n","closed_by":{"login":"patriknw","id":336161,"node_id":"MDQ6VXNlcjMzNjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/336161?v=4","gravatar_id":"","url":"https://api.github.com/users/patriknw","html_url":"https://github.com/patriknw","followers_url":"https://api.github.com/users/patriknw/followers","following_url":"https://api.github.com/users/patriknw/following{/other_user}","gists_url":"https://api.github.com/users/patriknw/gists{/gist_id}","starred_url":"https://api.github.com/users/patriknw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patriknw/subscriptions","organizations_url":"https://api.github.com/users/patriknw/orgs","repos_url":"https://api.github.com/users/patriknw/repos","events_url":"https://api.github.com/users/patriknw/events{/privacy}","received_events_url":"https://api.github.com/users/patriknw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/akka/akka-core/issues/31585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/akka/akka-core/issues/31585/timeline","performed_via_github_app":null,"state_reason":"completed"}