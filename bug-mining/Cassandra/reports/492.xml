<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:16:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1293] add locking around row cache accesses</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1293</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1267&quot; title=&quot;Improve performance of cached row slices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1267&quot;&gt;&lt;del&gt;CASSANDRA-1267&lt;/del&gt;&lt;/a&gt; means we need to lock around removeDeleted on the row cache entry and the write path where we merge in new columns (otherwise there can be a race where we incorrectly continue to remove a column, that has been updated by the writer thread to be newly relevant)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469514">CASSANDRA-1293</key>
            <summary>add locking around row cache accesses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Jul 2010 02:16:30 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:20 +0000</updated>
                            <resolved>Fri, 1 Oct 2010 21:22:29 +0000</resolved>
                                        <fixVersion>0.7 beta 3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12904373" author="stuhood" created="Mon, 30 Aug 2010 22:16:22 +0000"  >&lt;p&gt;How much of a benefit do we get from the row cache being write-through? It would be really nice not having to lock it... or maybe making the locking and write-throughness an option, via &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1158&quot; title=&quot;Update the write/read paths to include KeyCache and RowCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1158&quot;&gt;&lt;del&gt;CASSANDRA-1158&lt;/del&gt;&lt;/a&gt;. It would also be easier to manage cache sizes in terms of bytes if we didn&apos;t need to deal with mutations to the row cache.&lt;/p&gt;</comment>
                            <comment id="12917032" author="jbellis" created="Fri, 1 Oct 2010 20:44:32 +0000"  >&lt;p&gt;We expect to save &lt;span class=&quot;error&quot;&gt;&amp;#91;cache hit rate&amp;#93;&lt;/span&gt; of a read per write with write-through, since the alternative is to invalidate the cached row at write time and reload it when it&apos;s requested again.&lt;/p&gt;

&lt;p&gt;Attached patch moves the cache udpate into CFS.apply.&lt;/p&gt;</comment>
                            <comment id="12917034" author="brandon.williams" created="Fri, 1 Oct 2010 21:02:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12917039" author="brandon.williams" created="Fri, 1 Oct 2010 21:17:03 +0000"  >&lt;p&gt;No quantifiable difference in write speed with or without this patch.&lt;/p&gt;</comment>
                            <comment id="12917040" author="jbellis" created="Fri, 1 Oct 2010 21:22:29 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12917192" author="hudson" created="Sat, 2 Oct 2010 12:56:27 +0000"  >&lt;p&gt;Integrated in Cassandra #553 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/553/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/553/&lt;/a&gt;)&lt;br/&gt;
    lock row cache updates to prevent race condition&lt;br/&gt;
patch by jbellis; reviewed by brandonwilliams for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1293&quot; title=&quot;add locking around row cache accesses&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1293&quot;&gt;&lt;del&gt;CASSANDRA-1293&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456158" name="1293.txt" size="3126" author="jbellis" created="Fri, 1 Oct 2010 20:44:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g46f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>