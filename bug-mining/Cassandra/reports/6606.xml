<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:31:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-20238] Correct the default behavior of compareTo() when comparing WIDE and STATIC PrimaryKeys</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-20238</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-20156&quot; title=&quot;To improve accord interoperability test coverage, need to extend the harry model domain to handle more possible CQL states&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-20156&quot;&gt;&lt;del&gt;CASSANDRA-20156&lt;/del&gt;&lt;/a&gt; I have fuzz tests that cover multiple different types of queries and hit an issue where an SAI query returned missing data; the test was on a single node.&lt;/p&gt;

&lt;p&gt;To create the table/indexes&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE KEYSPACE IF NOT EXISTS ks1 WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 1};
CREATE TABLE ks1.tbl (
		pk0 time,
		pk1 varint,
		ck0 date,
		s0 &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,
		s1 text &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,
		v0 &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;,
		PRIMARY KEY ((pk0, pk1), ck0)
) WITH CLUSTERING ORDER BY (ck0 ASC)
		AND additional_write_policy = &lt;span class=&quot;code-quote&quot;&gt;&apos;99p&apos;&lt;/span&gt;
		AND allow_auto_snapshot = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
		AND bloom_filter_fp_chance = 0.01
		AND caching = {&lt;span class=&quot;code-quote&quot;&gt;&apos;keys&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;ALL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;rows_per_partition&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NONE&apos;&lt;/span&gt;}
		AND cdc = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
		AND comment = &apos;&apos;
		AND compaction = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;max_threshold&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;32&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;min_threshold&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;4&apos;&lt;/span&gt;}
		AND compression = {&lt;span class=&quot;code-quote&quot;&gt;&apos;chunk_length_in_kb&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;16&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.io.compress.LZ4Compressor&apos;&lt;/span&gt;}
		AND memtable = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&apos;&lt;/span&gt;
		AND crc_check_chance = 1.0
		AND fast_path = &lt;span class=&quot;code-quote&quot;&gt;&apos;keyspace&apos;&lt;/span&gt;
		AND default_time_to_live = 0
		AND extensions = {}
		AND gc_grace_seconds = 864000
		AND incremental_backups = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
		AND max_index_interval = 2048
		AND memtable_flush_period_in_ms = 0
		AND min_index_interval = 128
		AND read_repair = &lt;span class=&quot;code-quote&quot;&gt;&apos;BLOCKING&apos;&lt;/span&gt;
		AND transactional_mode = &lt;span class=&quot;code-quote&quot;&gt;&apos;off&apos;&lt;/span&gt;
		AND transactional_migration_from = &lt;span class=&quot;code-quote&quot;&gt;&apos;none&apos;&lt;/span&gt;
		AND speculative_retry = &lt;span class=&quot;code-quote&quot;&gt;&apos;99p&apos;&lt;/span&gt;;
CREATE INDEX tbl_pk0 ON ks1.tbl(pk0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE CUSTOM INDEX tbl_pk1 ON ks1.tbl(pk1) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;StorageAttachedIndex&apos;&lt;/span&gt;;
CREATE INDEX tbl_ck0 ON ks1.tbl(ck0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE INDEX tbl_s0 ON ks1.tbl(s0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE CUSTOM INDEX tbl_s1 ON ks1.tbl(s1) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;StorageAttachedIndex&apos;&lt;/span&gt;;
CREATE CUSTOM INDEX tbl_v0 ON ks1.tbl(v0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;StorageAttachedIndex&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The steps taken to hit the issue&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
History:
	1: INSERT INTO ks1.tbl (pk0, pk1, ck0, s0, s1, v0) VALUES (&lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt;, -2272, &lt;span class=&quot;code-quote&quot;&gt;&apos;-1296648-01-08&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&#5450;&#2838;&#43372;&#14882;&#44146;&#26144;&#13955;&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;); -- on node1
	9: UPDATE ks1.tbl SET s0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, s1=&lt;span class=&quot;code-quote&quot;&gt;&apos;&#49045;&#8978;&#31830;&apos;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&apos;&#37631;&#32030;&apos;&lt;/span&gt;, v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt; AND  pk1 = -2272 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-1306427-11-21&apos;&lt;/span&gt;; -- on node1
	13: DELETE FROM ks1.tbl WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;04:38:30.720018316&apos;&lt;/span&gt; AND  pk1 = 0; -- on node1
	14: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;21:08:07.371523790&apos;&lt;/span&gt; AND  pk1 = -113810779 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-3063364-12-03&apos;&lt;/span&gt;; -- on node1
	17: nodetool flush ks1 tbl
	23: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, s0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, s1=&lt;span class=&quot;code-quote&quot;&gt;&apos;&#45231;&#55020;&apos;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&apos;&#39938;&apos;&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;04:38:30.720018316&apos;&lt;/span&gt; AND  pk1 = 0 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-4470111-11-16&apos;&lt;/span&gt;; -- on node1
	24: DELETE FROM ks1.tbl WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;11:30:52.635751063&apos;&lt;/span&gt; AND  pk1 = -2780431 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-3740052-12-21&apos;&lt;/span&gt;; -- on node1
	25: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;09:39:52.201668336&apos;&lt;/span&gt; AND  pk1 = 0 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-2926364-04-03&apos;&lt;/span&gt;; -- on node1
	37: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;09:39:52.201668336&apos;&lt;/span&gt; AND  pk1 = 0 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-4629966-09-04&apos;&lt;/span&gt;; -- on node1
	38: nodetool flush ks1 tbl
	39: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, s1=&lt;span class=&quot;code-quote&quot;&gt;&apos;&#44088;&apos;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&apos;&#60521;&#45282;&#20755;&#15987;&#48532;&#51608;&apos;&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;14:39:04.020773177&apos;&lt;/span&gt; AND  pk1 = 32736763 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-503020-09-13&apos;&lt;/span&gt;; -- on node1
	41: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;20:21:26.771172592&apos;&lt;/span&gt; AND  pk1 = 129558081 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-266604-10-11&apos;&lt;/span&gt;; -- on node1
	42: DELETE FROM ks1.tbl WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;11:30:52.635751063&apos;&lt;/span&gt; AND  pk1 = -2780431; -- on node1
	46: DELETE FROM ks1.tbl WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;14:39:04.020773177&apos;&lt;/span&gt; AND  pk1 = 32736763 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-616256-09-24&apos;&lt;/span&gt;; -- on node1
	49: nodetool flush ks1 tbl
	51: UPDATE ks1.tbl SET v0=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; WHERE  pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;11:30:52.635751063&apos;&lt;/span&gt; AND  pk1 = -2780431 AND  ck0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;-1357124-04-27&apos;&lt;/span&gt;; -- on node1
	53: INSERT INTO ks1.tbl (pk0, pk1, ck0, s0, s1, v0) VALUES (&lt;span class=&quot;code-quote&quot;&gt;&apos;20:21:26.771172592&apos;&lt;/span&gt;, 129558081, &lt;span class=&quot;code-quote&quot;&gt;&apos;-5463789-04-16&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&#27165;&apos;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&apos;&#38026;&#34238;&#31257;&#27678;&#338;?&#23321;&#64808;&#51617;&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;); -- on node1
	54: SELECT * FROM ks1.tbl WHERE s0 = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; AND pk0 = &lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt; ALLOW FILTERING; -- s0 &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; (indexed with SAI), pk0 time (indexed with SAI), on node1, fetch size 100
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the exception&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.AssertionError: Missing rows:
pk0                  | pk1   | ck0              | s0   | s1      | v0
&lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt; | -2272 | &lt;span class=&quot;code-quote&quot;&gt;&apos;-1296648-01-08&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; | &lt;span class=&quot;code-quote&quot;&gt;&apos;&#49045;&#8978;&#31830;&#37631;&#32030;&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;

Expected:
pk0                  | pk1   | ck0              | s0   | s1      | v0
&lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt; | -2272 | &lt;span class=&quot;code-quote&quot;&gt;&apos;-1296648-01-08&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; | &lt;span class=&quot;code-quote&quot;&gt;&apos;&#49045;&#8978;&#31830;&#37631;&#32030;&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&apos;23:15:13.897962392&apos;&lt;/span&gt; | -2272 | &lt;span class=&quot;code-quote&quot;&gt;&apos;-1306427-11-21&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; | &lt;span class=&quot;code-quote&quot;&gt;&apos;&#49045;&#8978;&#31830;&#37631;&#32030;&apos;&lt;/span&gt; | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was able to simplify this history and produce a smaller repo&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
    {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (Cluster cluster = Cluster.build(1).start())
        {
            cluster.schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE KEYSPACE IF NOT EXISTS ks WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 1};&quot;&lt;/span&gt;);
            cluster.schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE ks.tbl (\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  pk0 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  pk1 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  ck0 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  s1 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  v0 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;  PRIMARY KEY ((pk0, pk1), ck0)\n&quot;&lt;/span&gt; +
                                 &lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt;);
            cluster.schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX tbl_pk0 ON ks.tbl(pk0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;&quot;&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;//            cluster.schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX tbl_v0 ON ks.tbl(v0) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;&quot;&lt;/span&gt;);
&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; node = cluster.get(1);
            node.executeInternal(&lt;span class=&quot;code-quote&quot;&gt;&quot;UPDATE ks.tbl SET s1=0, v0=0 WHERE  pk0 = 0 AND  pk1 = 1 AND  ck0 = 0 &quot;&lt;/span&gt;);
            node.executeInternal(&lt;span class=&quot;code-quote&quot;&gt;&quot;DELETE FROM ks.tbl WHERE  pk0 = 0 AND  pk1 = 1&quot;&lt;/span&gt;);
            node.executeInternal(&lt;span class=&quot;code-quote&quot;&gt;&quot;UPDATE ks.tbl SET v0=1 WHERE  pk0 = 0 AND  pk1 = 1 AND  ck0 = 1&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// expected result
&lt;/span&gt;            node.nodetoolResult(&lt;span class=&quot;code-quote&quot;&gt;&quot;flush&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;ks&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;).asserts().success();

            &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; qr = node.coordinator().executeWithResult(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT * FROM ks.tbl WHERE v0 = 1 AND pk0 = 0 ALLOW FILTERING&quot;&lt;/span&gt;, ConsistencyLevel.ALL);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Results&quot;&lt;/span&gt;);
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; found = 0;
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (qr.hasNext())
            {
                found++;
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(qr.next());
            }
            Assertions.assertThat(found).isEqualTo(1);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I couldn&apos;t find a way to shrink this test further.  Static columns are not touched, but removing causes the test to pass.  Index on v0 doesn&apos;t matter even though its part of the query... since the failing column is a partition column I need to have the 2 partition columns else we can&apos;t index the column&lt;/p&gt;</description>
                <environment></environment>
        <key id="13605932">CASSANDRA-20238</key>
            <summary>Correct the default behavior of compareTo() when comparing WIDE and STATIC PrimaryKeys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maedhroz">Caleb Rackliffe</assignee>
                                    <reporter username="dcapwell">David Capwell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2025 17:29:14 +0000</created>
                <updated>Tue, 4 Feb 2025 09:02:46 +0000</updated>
                            <resolved>Mon, 27 Jan 2025 21:24:35 +0000</resolved>
                                        <fixVersion>5.0.4</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Feature/SAI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="17916211" author="maedhroz" created="Wed, 22 Jan 2025 22:26:10 +0000"  >&lt;p&gt;Added an &lt;tt&gt;SAITester&lt;/tt&gt;-based version of this test to &lt;tt&gt;CompositePartitionKeyIndexTest&lt;/tt&gt; and have identified the nominal cause of the issue. Working on a patch...&lt;/p&gt;</comment>
                            <comment id="17916544" author="maedhroz" created="Fri, 24 Jan 2025 00:08:25 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13074215/13074215_ci_summary.html&quot; title=&quot;ci_summary.html attached to CASSANDRA-20238&quot;&gt;ci_summary.html&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;This is ready for review. There are actually two distinct issues fixed, but there are comments around them in &lt;tt&gt;CompositePartitionKeyIndexTest&lt;/tt&gt; and inline in the PR already.&lt;/p&gt;</comment>
                            <comment id="17916841" author="dcapwell" created="Fri, 24 Jan 2025 20:14:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17921535" author="maedhroz" created="Mon, 27 Jan 2025 20:56:58 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3833&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13074297/13074297_ci_summary-1.html&quot; title=&quot;ci_summary-1.html attached to CASSANDRA-20238&quot;&gt;ci_summary-1.html&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="13074297" name="ci_summary-1.html" size="36648" author="maedhroz" created="Mon, 27 Jan 2025 20:56:18 +0000"/>
                            <attachment id="13074215" name="ci_summary.html" size="37880" author="maedhroz" created="Fri, 24 Jan 2025 00:07:14 +0000"/>
                            <attachment id="13074298" name="result_details.tar-1.gz" size="2839920" author="maedhroz" created="Mon, 27 Jan 2025 20:56:19 +0000"/>
                            <attachment id="13074216" name="result_details.tar.gz" size="2611953" author="maedhroz" created="Fri, 24 Jan 2025 00:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[maedhroz]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="13161" cascade-level="1"><![CDATA[Unrecoverable Corruption / Loss]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12972"><![CDATA[Fuzz Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311120" key="com.pyxis.greenhopper.jira:gh-epic-link">
                        <customfieldname>Epic Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>CASSANDRA-19224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ts00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12355063">5.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/225eb2feeb6ba856c5bf3f46fd0534d074539433&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/225eb2feeb6ba856c5bf3f46fd0534d074539433&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;new tests in &lt;tt&gt;CompositePartitionKeyIndexTest&lt;/tt&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>