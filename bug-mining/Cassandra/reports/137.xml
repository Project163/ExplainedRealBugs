<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:11:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-399] Consisteny Level of ZERO blocks for ack on Commit Log</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-399</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;If consistency level is set to ZERO and endpoint is local, clients must wait for a write to the commit log. We need to remove this special case, and just send through MessagingService.getMessagingInstance().sendOneWay.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12434368">CASSANDRA-399</key>
            <summary>Consisteny Level of ZERO blocks for ack on Commit Log</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lenn0x">Chris Goffinet</assignee>
                                    <reporter username="lenn0x">Chris Goffinet</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Aug 2009 22:23:33 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:34 +0000</updated>
                            <resolved>Sat, 29 Aug 2009 22:47:07 +0000</resolved>
                                        <fixVersion>0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12749195" author="sandeep_tata" created="Sat, 29 Aug 2009 22:33:42 +0000"  >&lt;p&gt;I remember we put this in to get limited read-your-writes consistency for a session. (Log + rm.apply()  before ack.)&lt;br/&gt;
See &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-132&quot; title=&quot;Support (limited) session level consistency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-132&quot;&gt;&lt;del&gt;CASSANDRA-132&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are cases when this is not the right thing to do (eg skip logging during a load operation), but for a normal client, read-your-writes is way easier to deal with than pure eventual consistency. &lt;/p&gt;




</comment>
                            <comment id="12749197" author="jbellis" created="Sat, 29 Aug 2009 22:47:07 +0000"  >&lt;p&gt;Committed before I saw Sandeep&apos;s objection.  But insert &amp;#8211; the method that handles ConsistencyLevel.ZERO &amp;#8211; is the wrong place to do this.  If you want any blocking you need to use ONE or higher, that&apos;s how it&apos;s supposed to work.&lt;/p&gt;</comment>
                            <comment id="12749198" author="jbellis" created="Sat, 29 Aug 2009 22:47:29 +0000"  >&lt;p&gt;(which goes to the separate insertBlocking method.)&lt;/p&gt;</comment>
                            <comment id="12749199" author="jbellis" created="Sat, 29 Aug 2009 22:49:16 +0000"  >&lt;p&gt;to clarify: I am +1 on adding a &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-132&quot; title=&quot;Support (limited) session level consistency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-132&quot;&gt;&lt;del&gt;CASSANDRA-132&lt;/del&gt;&lt;/a&gt; special case for insertBlocking, but -1 on having it in insert.  My bad for not catching that in review originally.  Should we re-open 132?&lt;/p&gt;</comment>
                            <comment id="12749200" author="lenn0x" created="Sat, 29 Aug 2009 22:51:07 +0000"  >&lt;p&gt;I agree that I think this special case should live in insertBlocking. &lt;/p&gt;</comment>
                            <comment id="12749206" author="sandeep_tata" created="Sat, 29 Aug 2009 23:05:51 +0000"  >&lt;p&gt;I&apos;m +1 on the patch, but we should re-open 132. &lt;br/&gt;
Current insertBlocking=1 is not the same as session level read-your-writes.&lt;br/&gt;
I guess we could just special-case this write for insertBlocking=1. I&apos;d rather not introduce a new ConsistencyLevel.&lt;/p&gt;


&lt;p&gt;ConsistencyLevel.ZERO should help stress test MessagingService... I remember with the old codepath writes would get queued up in the MessagingService and we ended up with a few lost writes. Should be interesting to see if those problems pop up again.&lt;/p&gt;


</comment>
                            <comment id="12749250" author="hudson" created="Sun, 30 Aug 2009 12:35:36 +0000"  >&lt;p&gt;Integrated in Cassandra #182 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/182/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/182/&lt;/a&gt;)&lt;br/&gt;
    r/m special case of local destination when writing with ConsistencyLevel.ZERO, since it causes blocking for commitlog.  (MessagingService still optimizes out the network write/read.)  Patch by Chris Goffinet; reviewed by jbellis for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12418076" name="0001-CASSANDRA-399-If-consistency-level-is-set-to-ZERO-an.patch" size="2110" author="lenn0x" created="Sat, 29 Aug 2009 22:31:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[lenn0x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fyp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>