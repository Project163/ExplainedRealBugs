<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:45:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7397] BatchlogManagerTest unit test failing</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7397</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;This test is passing on cassci, but has failed on other dev machines. This is from my machine on trunk (I&apos;m checking other versions).&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Testsuite: org.apache.cassandra.db.BatchlogManagerTest
    [junit] Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 83.015 sec
    [junit] 
    [junit] ------------- Standard Output ---------------
    [junit] WARN  19:48:53 Changing /127.0.0.1&apos;s host ID from 7d5feaa0-f26a-11e3-9d93-ed61e821317c to 952657a0-f26a-11e3-9d93-ed61e821317c
    [junit] WARN  19:48:53 Changing /127.0.0.1&apos;s host ID from 7d5feaa0-f26a-11e3-9d93-ed61e821317c to 952657a0-f26a-11e3-9d93-ed61e821317c
    [junit] ------------- ---------------- ---------------
    [junit] Testcase: testReplay(org.apache.cassandra.db.BatchlogManagerTest):  FAILED
    [junit] expected:&amp;lt;500&amp;gt; but was:&amp;lt;0&amp;gt;
    [junit] junit.framework.AssertionFailedError: expected:&amp;lt;500&amp;gt; but was:&amp;lt;0&amp;gt;
    [junit]     at org.apache.cassandra.db.BatchlogManagerTest.testReplay(BatchlogManagerTest.java:91)
    [junit] 
    [junit] 
    [junit] Test org.apache.cassandra.db.BatchlogManagerTest FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;DEBUG test log attached&lt;/p&gt;</description>
                <environment>&lt;p&gt;cassci: Debian Wheezy amd64 / Oracle JDK 1.7_60 / 8G SSD&lt;br/&gt;
my machine: Debian Jessie amd64 / Oracle JDK 1.7_60 / 16G SSD&lt;/p&gt;</environment>
        <key id="12720968">CASSANDRA-7397</key>
            <summary>BatchlogManagerTest unit test failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="carlyeks">Carl Yeksigian</assignee>
                                    <reporter username="mshuler">Michael Shuler</reporter>
                        <labels>
                            <label>qa-resolved</label>
                    </labels>
                <created>Thu, 12 Jun 2014 19:54:45 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:42 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 19:59:02 +0000</resolved>
                                        <fixVersion>2.0.9</fixVersion>
                    <fixVersion>2.1 rc2</fixVersion>
                    <fixVersion>2.2.0 beta 1</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14029733" author="kishkaru" created="Thu, 12 Jun 2014 20:14:48 +0000"  >&lt;p&gt;Tested on 2.1, 2.0, 1.2. Failure on 2.1 and 2.0.&lt;/p&gt;</comment>
                            <comment id="14029779" author="lyubent" created="Thu, 12 Jun 2014 20:46:17 +0000"  >&lt;p&gt;Passing for me on trunk (OSX 10.8.5), &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kishkaru&quot; class=&quot;user-hover&quot; rel=&quot;kishkaru&quot;&gt;kishkaru&lt;/a&gt; might we worth adding your environment to the desc. I&apos;ll test is out on Windows to see what happens.&lt;/p&gt;</comment>
                            <comment id="14030051" author="lyubent" created="Fri, 13 Jun 2014 00:00:51 +0000"  >&lt;p&gt;Failing on windows with the same exception, I though it might be the JDK version but it&apos;s still passing for me on OSX with JDK 7_u60.&lt;/p&gt;</comment>
                            <comment id="14032663" author="kishkaru" created="Mon, 16 Jun 2014 17:27:40 +0000"  >&lt;p&gt;Environment: Linux Mint 17 (Ubuntu-based) / 64-bit / JDK 1.7u60 / 16GB SSD&lt;/p&gt;</comment>
                            <comment id="14035625" author="carlyeks" created="Wed, 18 Jun 2014 12:13:22 +0000"  >&lt;p&gt;This seems to  be related to the length of time it takes to run the method. If it takes more than 4 seconds to execute, then all of the batches will be replayed instead of just those whose &quot;now&quot; is set to be 4 seconds in the past.&lt;br/&gt;
Attached is a simple patch that continues to keep the expired batches 4 seconds in the past, while pushing the other batches out to Long.MAX_VALUE.&lt;/p&gt;</comment>
                            <comment id="14036097" author="mshuler" created="Wed, 18 Jun 2014 18:29:18 +0000"  >&lt;p&gt;Patch works for me on my machine - thanks Carl!&lt;/p&gt;</comment>
                            <comment id="14036107" author="iamaleksey" created="Wed, 18 Jun 2014 18:32:28 +0000"  >&lt;p&gt;Will commit, thanks.&lt;/p&gt;</comment>
                            <comment id="14036109" author="mshuler" created="Wed, 18 Jun 2014 18:34:53 +0000"  >&lt;p&gt;Patch also works on a dev machine that was having the same problem.&lt;/p&gt;</comment>
                            <comment id="14036278" author="iamaleksey" created="Wed, 18 Jun 2014 19:59:02 +0000"  >&lt;p&gt;Committed, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651115" name="7397.patch" size="2503" author="carlyeks" created="Wed, 18 Jun 2014 12:13:21 +0000"/>
                            <attachment id="12650126" name="system.log.txt" size="943999" author="mshuler" created="Thu, 12 Jun 2014 19:54:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[carlyeks]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wpuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mshuler</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mshuler]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311124" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mshuler</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>