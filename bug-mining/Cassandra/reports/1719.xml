<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:34:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4385] bug when trying to describe a cf in a pre cql3 case sensitive keyspace</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4385</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I can&apos;t describe column families in my schema defined via cassandra-cli. Update also seems to fail for the same CF&apos;s.&lt;/p&gt;

&lt;p&gt;CREATE KEYSPACE Hastur&lt;br/&gt;
  with placement_strategy = &apos;org.apache.cassandra.locator.SimpleStrategy&apos;&lt;br/&gt;
  and strategy_options = &lt;/p&gt;
{replication_factor:2}
&lt;p&gt;;&lt;/p&gt;

&lt;p&gt;CREATE COLUMN FAMILY LookupByKey&lt;br/&gt;
  with compaction_strategy = &apos;LeveledCompactionStrategy&apos;&lt;br/&gt;
  and compression_options = null;&lt;/p&gt;

&lt;p&gt;Then later, &lt;a href=&quot;https://gist.github.com/3006886&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/3006886&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, Hotspot JDK6, Cassandra 1.1.0 from tarball unmodified, stock config.&lt;/p&gt;</environment>
        <key id="12596170">CASSANDRA-4385</key>
            <summary>bug when trying to describe a cf in a pre cql3 case sensitive keyspace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thepaul">paul cannon</assignee>
                                    <reporter username="al@ooyala.com">Al Tobey</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Wed, 27 Jun 2012 21:36:16 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:31 +0000</updated>
                            <resolved>Thu, 26 Jul 2012 17:40:12 +0000</resolved>
                                        <fixVersion>1.1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13404164" author="al@ooyala.com" created="Fri, 29 Jun 2012 20:08:34 +0000"  >&lt;p&gt;Recreating the keyspace and CF via cqlsh instead of cassandra-cli resolves the issue. This isn&apos;t really practical on my production systems.&lt;/p&gt;</comment>
                            <comment id="13404344" author="brandon.williams" created="Sat, 30 Jun 2012 00:41:56 +0000"  >&lt;p&gt;You need to quote the cf/ks in cql3 since it is case insensitive.&lt;/p&gt;</comment>
                            <comment id="13404356" author="al@ooyala.com" created="Sat, 30 Jun 2012 01:17:31 +0000"  >&lt;p&gt;Quoted is also broken.&lt;/p&gt;</comment>
                            <comment id="13404617" author="thepaul" created="Sat, 30 Jun 2012 20:39:00 +0000"  >&lt;p&gt;(Pasting the contents of the gist for posterity.)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh:system&amp;gt; use Hastur;
Bad Request: Keyspace &apos;hastur&apos; does not exist
cqlsh:system&amp;gt; use &quot;Hastur&quot;;
cqlsh:&quot;Hastur&quot;&amp;gt; describe columnfamily lookupbykey;

Keyspace NotFoundException() not found.
cqlsh:&quot;Hastur&quot;&amp;gt; describe columnfamily LookupByKey;

Keyspace NotFoundException() not found.
cqlsh:&quot;Hastur&quot;&amp;gt; describe columnfamily &quot;LookupByKey&quot;;

Keyspace NotFoundException() not found.

cqlsh:system&amp;gt; use system;
cqlsh:system&amp;gt; desc columnfamily NodeIdInfo;

CREATE COLUMNFAMILY NodeIdInfo (
  KEY blob PRIMARY KEY
) WITH
  comment=&apos;nodeId and their metadata&apos; AND
  comparator=&apos;TimeUUIDType&apos; AND
  read_repair_chance=0.000000 AND
  gc_grace_seconds=0 AND
  default_validation=blob AND
  min_compaction_threshold=4 AND
  max_compaction_threshold=32 AND
  replicate_on_write=True AND
  compaction_strategy_class=&apos;SizeTieredCompactionStrategy&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13409924" author="thepaul" created="Mon, 9 Jul 2012 22:45:29 +0000"  >&lt;p&gt;The root cause of this should be fixed in the 1.1 branch already by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4173&quot; title=&quot;cqlsh: in cql3 mode, use cql3 quoting when outputting cql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4173&quot;&gt;&lt;del&gt;CASSANDRA-4173&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4198&quot; title=&quot;cqlsh: update recognized syntax for cql3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4198&quot;&gt;&lt;del&gt;CASSANDRA-4198&lt;/del&gt;&lt;/a&gt;, but the error reporting is clearly also broken here. &quot;&lt;tt&gt;Keyspace NotFoundException() not found.&lt;/tt&gt;&quot; is messed up.&lt;/p&gt;

&lt;p&gt;Al, you can safely use a more recent cqlsh from the 1.1 branch if you&apos;d like.&lt;/p&gt;

&lt;p&gt;I&apos;ll put up a fix for the error reporting.&lt;/p&gt;</comment>
                            <comment id="13409925" author="thepaul" created="Mon, 9 Jul 2012 22:48:08 +0000"  >&lt;p&gt;Attached patch fixes error reporting when a columnfamily is not found.&lt;/p&gt;

&lt;p&gt;Also available in my github, in the 4385 branch; current version tagged pending/4385.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/thepaul/cassandra/tree/pending/4385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/thepaul/cassandra/tree/pending/4385&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13409999" author="al@ooyala.com" created="Tue, 10 Jul 2012 01:38:37 +0000"  >&lt;p&gt;If I &apos;desc schema&apos; in cqlsh --cql3 using a build of either HEAD or 4385 from your tree, I still can&apos;t see my application keyspace, likely because it&apos;s called &quot;Hastur&quot;. If I run cqlsh --cql2 everything shows up.&lt;/p&gt;

&lt;p&gt;It could be that the answer is, &quot;rebuild your schema using CQL 3&quot; ...&lt;/p&gt;</comment>
                            <comment id="13410000" author="al@ooyala.com" created="Tue, 10 Jul 2012 01:42:31 +0000"  >&lt;p&gt;The &quot;Hastur&quot; schema was created with this file: &lt;a href=&quot;https://github.com/ooyala/hastur-server/blob/master/tools/cassandra/create_keyspace.cass&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ooyala/hastur-server/blob/master/tools/cassandra/create_keyspace.cass&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Weirdly, the &quot;HasturTrigger&quot; keyspace shows up in CQL3 but &quot;Hastur&quot; does not.&lt;/p&gt;</comment>
                            <comment id="13410044" author="thepaul" created="Tue, 10 Jul 2012 04:30:44 +0000"  >&lt;p&gt;Interesting. Do you see any errors, or does it just not show up?&lt;/p&gt;

&lt;p&gt;There are some related issues with DESC that are fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4380&quot; title=&quot;CQLSH: describe command doesn&amp;#39;t output valid CQL command.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4380&quot;&gt;&lt;del&gt;CASSANDRA-4380&lt;/del&gt;&lt;/a&gt;, which will probably help too. I&apos;ve merged the 4380 branch into the 4385 one in my github (new tag is pending/4385-2). Give that a try.&lt;/p&gt;</comment>
                            <comment id="13423274" author="brandon.williams" created="Thu, 26 Jul 2012 17:40:12 +0000"  >&lt;p&gt;Worked for me.  Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12535756" name="0001-cqlsh-Fix-error-reporting-for-unknown-CFs.patch" size="1788" author="thepaul" created="Mon, 9 Jul 2012 22:48:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gvaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>