<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4709] (CQL3) Missing validation for IN queries on column not part of the PK</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4709</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Copy-pasting from the original mail (&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/cassandra-user/201209.mbox/%3C20120922185826.GO6205@pslp2%3E):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/cassandra-user/201209.mbox/%3C20120922185826.GO6205@pslp2%3E):&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[cqlsh 2.2.0 | Cassandra 1.1.5 | CQL spec 3.0.0 | Thrift protocol 19.32.0]
Use HELP for help.
cqlsh&amp;gt; 
cqlsh&amp;gt; create keyspace xpl1 WITH strategy_class =&apos;SimpleStrategy&apos; and strategy_options:replication_factor=1;
cqlsh&amp;gt; use xpl1;
cqlsh:xpl1&amp;gt; create table t1 (pk varchar primary key, col1 varchar, col2 varchar);
cqlsh:xpl1&amp;gt; create index t1_c1 on t1(col1);
cqlsh:xpl1&amp;gt; create index t1_c2 on t1(col2);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk1&apos;,&apos;foo1&apos;,&apos;bar1&apos;);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk1a&apos;,&apos;foo1&apos;,&apos;bar1&apos;);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk1b&apos;,&apos;foo1&apos;,&apos;bar1&apos;);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk1c&apos;,&apos;foo1&apos;,&apos;bar1&apos;);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk2&apos;,&apos;foo2&apos;,&apos;bar2&apos;);
cqlsh:xpl1&amp;gt; insert into t1  (pk, col1, col2) values (&apos;pk3&apos;,&apos;foo3&apos;,&apos;bar3&apos;);
cqlsh:xpl1&amp;gt; select * from t1 where col2=&apos;bar1&apos;;
 pk   | col1 | col2
------+------+------
 pk1b | foo1 | bar1
  pk1 | foo1 | bar1
 pk1a | foo1 | bar1
 pk1c | foo1 | bar1

cqlsh:xpl1&amp;gt; select * from t1 where col2 in (&apos;bar1&apos;, &apos;bar2&apos;) ;
cqlsh:xpl1&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should either make that last query work or refuse the query but returning nothing is wrong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608856">CASSANDRA-4709</key>
            <summary>(CQL3) Missing validation for IN queries on column not part of the PK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="slebresne">Sylvain Lebresne</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Sep 2012 12:12:12 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:26 +0000</updated>
                            <resolved>Tue, 9 Oct 2012 14:16:27 +0000</resolved>
                                        <fixVersion>1.1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13462732" author="slebresne" created="Tue, 25 Sep 2012 13:31:05 +0000"  >&lt;p&gt;For now I think we should just refuse the query since this would require secondary indexes to do an OR which they can&apos;t do right now. Attaching patch that simply refuse such queries.&lt;/p&gt;</comment>
                            <comment id="13462961" author="jbellis" created="Tue, 25 Sep 2012 16:52:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13472415" author="slebresne" created="Tue, 9 Oct 2012 14:16:27 +0000"  >&lt;p&gt;Forgot to mark that one resolved somehow, doing it now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546513" name="4709.txt" size="1565" author="slebresne" created="Tue, 25 Sep 2012 13:31:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00han:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>