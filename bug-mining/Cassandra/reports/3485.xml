<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:52:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9117] LEAK DETECTED during repair, startup</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9117</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When running the &lt;tt&gt;incremental_repair_test.TestIncRepair.multiple_repair_test&lt;/tt&gt; dtest, the following error logs show up:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [Reference-Reaper:1] 2015-04-03 15:48:25,491 Ref.java:181 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@83f047e) to class org.apache.cassandra.io.util.SafeMemory$MemoryTidy@1631580268:Memory@[7f354800bdc0..7f354800bde8) was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-04-03 15:48:25,493 Ref.java:181 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@50bc8f67) to class org.apache.cassandra.io.util.SafeMemory$MemoryTidy@191552666:Memory@[7f354800ba90..7f354800bdb0) was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-04-03 15:48:25,493 Ref.java:181 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@7fd10877) to class org.apache.cassandra.io.util.SafeMemory$MemoryTidy@1954741807:Memory@[7f3548101190..7f3548101194) was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-04-03 15:48:25,494 Ref.java:181 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@578550ac) to class org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@1903393047:[[OffHeapBitSet]] was not released before the reference was garbage collected
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test is being run against trunk (commit &lt;tt&gt;1dff098e&lt;/tt&gt;).  I&apos;ve attached a DEBUG-level log from the test run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12788104">CASSANDRA-9117</key>
            <summary>LEAK DETECTED during repair, startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcuse">Marcus Eriksson</assignee>
                                    <reporter username="thobbs">Tom Hobbs</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Apr 2015 21:11:28 +0000</created>
                <updated>Wed, 15 Oct 2025 09:48:58 +0000</updated>
                            <resolved>Mon, 13 Apr 2015 05:23:42 +0000</resolved>
                                        <fixVersion>2.2.0 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14395086" author="thobbs" created="Fri, 3 Apr 2015 21:12:13 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8996&quot; title=&quot;dtests should pass on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8996&quot;&gt;&lt;del&gt;CASSANDRA-8996&lt;/del&gt;&lt;/a&gt;, as this is causing one of the few remaining dtest failures against trunk.&lt;/p&gt;</comment>
                            <comment id="14395146" author="thobbs" created="Fri, 3 Apr 2015 22:03:15 +0000"  >&lt;p&gt;Hmm, it looks like this may not be specific to repair.  I&apos;m attaching node2.log which shows a very similar problem during startup.  This is reproducible for me with the &lt;tt&gt;pushed_notifications_test.py:TestPushedNotifications.restart_node_test&lt;/tt&gt; dtest.&lt;/p&gt;</comment>
                            <comment id="14395154" author="benedict" created="Fri, 3 Apr 2015 22:10:14 +0000"  >&lt;p&gt;I was looking into a flood of LEAK DETECTED earlier today on trunk, but since they don&apos;t affect 2.1, I was hoping to wait until &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8984&quot; title=&quot;Introduce Transactional API for behaviours that can corrupt system state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8984&quot;&gt;&lt;del&gt;CASSANDRA-8984&lt;/del&gt;&lt;/a&gt; is committed, since I fully expect that to fix them if they&apos;re bugs anywhere in the main innards of resource management.&lt;/p&gt;</comment>
                            <comment id="14488278" author="thobbs" created="Thu, 9 Apr 2015 21:05:57 +0000"  >&lt;p&gt;There are more dtests that are affected by this than I thought at first.  This also affects &lt;tt&gt;topology_test.TestTopology.decomission_test&lt;/tt&gt;, &lt;tt&gt;secondary_indexes_test.TestSecondaryIndexes.test_6924_dropping_ks&lt;/tt&gt;, &lt;tt&gt;incremental_repair_test.TestIncRepair.sstable_repairedset_test&lt;/tt&gt;, and &lt;tt&gt;counter_tests.TestCounters.upgrade_test&lt;/tt&gt;.  It&apos;s important that we get the dtests into a reliable state soon, especially so that we can properly test &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8099&quot; title=&quot;Refactor and modernize the storage engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8099&quot;&gt;&lt;del&gt;CASSANDRA-8099&lt;/del&gt;&lt;/a&gt;.  I don&apos;t want to rush the review of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8984&quot; title=&quot;Introduce Transactional API for behaviours that can corrupt system state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8984&quot;&gt;&lt;del&gt;CASSANDRA-8984&lt;/del&gt;&lt;/a&gt; just so that we can fix the dtests.  Can you try to look into this (using the patch from 8984, if that&apos;s useful)?&lt;/p&gt;</comment>
                            <comment id="14488297" author="benedict" created="Thu, 9 Apr 2015 21:13:29 +0000"  >&lt;p&gt;I won&apos;t have time to look into this for at least a week. If we could get a bisect in the meantime, it might help. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoshuaMcKenzie&quot; class=&quot;user-hover&quot; rel=&quot;JoshuaMcKenzie&quot;&gt;JoshuaMcKenzie&lt;/a&gt;: how are your thoughts coming along on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8984&quot; title=&quot;Introduce Transactional API for behaviours that can corrupt system state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8984&quot;&gt;&lt;del&gt;CASSANDRA-8984&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14488300" author="jmckenzie" created="Thu, 9 Apr 2015 21:19:16 +0000"  >&lt;p&gt;I should have something useful to say about it by tomorrow morning to mid-day. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14488313" author="benedict" created="Thu, 9 Apr 2015 21:27:20 +0000"  >&lt;p&gt;Perfect. Thanks!&lt;/p&gt;</comment>
                            <comment id="14488471" author="thobbs" created="Thu, 9 Apr 2015 23:15:04 +0000"  >&lt;p&gt;Git bisect points to &lt;tt&gt;910170c9d10bb6a71922a529b2f070cf27891a10&lt;/tt&gt;, which is &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7272&quot; title=&quot;Add &amp;quot;Major&amp;quot; Compaction to LCS and split sstables during STCS major compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7272&quot;&gt;&lt;del&gt;CASSANDRA-7272&lt;/del&gt;&lt;/a&gt;.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt; can you look into this?&lt;/p&gt;

&lt;p&gt;To bisect, I modified the &lt;tt&gt;pushed_notifications_test.py:TestPushedNotifications.restart_node_test&lt;/tt&gt; to just be a simple restart:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;def simple_restart_node_test(self):
    self.cluster.populate(2).start()
    node1, node2 = self.cluster.nodelist()

    for i in range(5):
        node2.stop()
        node2.start()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The dtest check for errors in the logs on test teardown catches the problem.&lt;/p&gt;</comment>
                            <comment id="14489534" author="krummas" created="Fri, 10 Apr 2015 12:38:28 +0000"  >&lt;p&gt;attaching patch to avoid creating the SSTableWriter before checking if iter.hasNext()&lt;/p&gt;

&lt;p&gt;since we only do &quot;return;&quot; if we have nothing to write, the writer would not get aborted, before #7272 created the SSTableRewriter and then called switchWriter() on it after checking iter.hasNext(), now we do switchWriter in DefaultCompactionWriter constructor&lt;/p&gt;</comment>
                            <comment id="14489784" author="thobbs" created="Fri, 10 Apr 2015 15:26:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14491925" author="krummas" created="Mon, 13 Apr 2015 05:23:42 +0000"  >&lt;p&gt;committed, thanks&lt;/p&gt;</comment>
                            <comment id="14654118" author="mwmanley" created="Tue, 4 Aug 2015 18:39:44 +0000"  >&lt;p&gt;I&apos;m still seeing this in 2.2.0:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [MessagingService-Outgoing-/10.20.44.122] 2015-07-30 18:55:00,589 OutboundTcpConnection.java:316 - error writing to /10.20.44.122
ERROR [MessagingService-Outgoing-/10.20.44.74] 2015-07-31 10:52:39,346 OutboundTcpConnection.java:316 - error writing to /10.20.44.74
ERROR [STREAM-OUT-/10.20.44.108] 2015-07-31 20:22:17,052 StreamSession.java:518 - [Stream #6f73e430-37c1-11e5-9fb4-a322a3bdb126] Streaming error occurred
ERROR [STREAM-IN-/10.20.44.108] 2015-07-31 20:22:18,513 StreamSession.java:518 - [Stream #6f73e430-37c1-11e5-9fb4-a322a3bdb126] Streaming error occurred
ERROR [Reference-Reaper:1] 2015-07-31 20:22:23,444 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@35ceb976) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.SafeMemory$MemoryTidy@990466495:Memory@[7f426f54e880..7f426f54e884) was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-07-31 20:22:23,445 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@3f36d206) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@2050251652:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-07-31 20:22:23,445 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@3af158bd) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.SafeMemory$MemoryTidy@1258578677:Memory@[7f56a130f400..7f56a130fa40) was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-07-31 20:22:23,445 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@422b3f71) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.SafeMemory$MemoryTidy@438019275:Memory@[7f56a0158150..7f56a01581a0) was not released before the reference was garbage collected
ERROR [MessagingService-Outgoing-/10.20.44.108] 2015-08-02 00:21:30,685 OutboundTcpConnection.java:316 - error writing to /10.20.44.108
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14697190" author="sebastian.estevez@datastax.com" created="Fri, 14 Aug 2015 15:14:59 +0000"  >&lt;p&gt;Seeing this issue on 2.1.8:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://dl.dropboxusercontent.com/u/4179566/cassandra-system.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dl.dropboxusercontent.com/u/4179566/cassandra-system.log&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,055 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@5534701) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@194296283:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@fab2c71) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.MmappedSegmentedFile$Cleanup@1252635616:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/data/metric/metric-811fa5402a3b11e5a2c0870545c0f352/metric-metric-ka-6883-Index.db was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@555d8efb) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.MmappedSegmentedFile$Cleanup@1252635616:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/data/metric/metric-811fa5402a3b11e5a2c0870545c0f352/metric-metric-ka-6883-Index.db was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@7b29bfea) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.MmappedSegmentedFile$Cleanup@1252635616:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/data/metric/metric-811fa5402a3b11e5a2c0870545c0f352/metric-metric-ka-6883-Index.db was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@2d37dc5a) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@713444527:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@13153552) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@713444527:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@25f51e35) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@713444527:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@3633d3dd) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@194296283:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,057 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@2ec81280) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@194296283:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,058 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@144d1dae) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@194296283:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,058 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@1944bda4) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.utils.concurrent.WrappedSharedCloseable$1@194296283:[[OffHeapBitSet]] was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 13:37:37,058 Ref.java:179 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@31c1386a) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.util.MmappedSegmentedFile$Cleanup@1601396928:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/data/metric/metric-811fa5402a3b11e5a2c0870545c0f352/metric-metric-ka-8229-Index.db was not released before the reference was garbage collected
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14697197" author="sebastian.estevez@datastax.com" created="Fri, 14 Aug 2015 15:17:10 +0000"  >&lt;p&gt;This was not during a repair ^^ but during startup (commitlog replay)&lt;/p&gt;

&lt;p&gt;See full log here:&lt;br/&gt;
&lt;a href=&quot;https://dl.dropboxusercontent.com/u/4179566/cassandra-system.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://dl.dropboxusercontent.com/u/4179566/cassandra-system.log&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ignore the batches warning : )&lt;/p&gt;</comment>
                            <comment id="14697204" author="tjake" created="Fri, 14 Aug 2015 15:19:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebastian.estevez%40datastax.com&quot; class=&quot;user-hover&quot; rel=&quot;sebastian.estevez@datastax.com&quot;&gt;sebastian.estevez@datastax.com&lt;/a&gt;  After commit log replay someone called drain&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  [RMI TCP Connection(1895)-127.0.0.1] 2015-08-14 13:37:07,049 StorageService.java:1115 - DRAINING: starting drain process
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14697241" author="sebastian.estevez@datastax.com" created="Fri, 14 Aug 2015 15:40:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tjake&quot; class=&quot;user-hover&quot; rel=&quot;tjake&quot;&gt;tjake&lt;/a&gt; thanks for looking at this.&lt;/p&gt;

&lt;p&gt;Correction, it happened after a node was drained not during startup:&lt;/p&gt;

&lt;p&gt;2015-08-14 13:37:07,049 - Drain the node&lt;br/&gt;
2015-08-14 13:37:11,943 - Drained&lt;br/&gt;
2015-08-14 13:37:37,055 Ref.java:179 - LEAK DETECTED:&lt;/p&gt;</comment>
                            <comment id="14697248" author="victortrac" created="Fri, 14 Aug 2015 15:41:49 +0000"  >&lt;p&gt;Seeing this during a -pr repair on 2.2.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [Reference-Reaper:1] 2015-08-14 15:37:04,809 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@645aba1e) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.sstable.format.SSTableReader$InstanceTidier@785147240:/mnt/cassandra/data/crawl/link2-b1fa78203b0711e5a72aa1fb779f0f22/la-2257-big was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 15:37:04,809 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@713b0b) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.sstable.format.SSTableReader$InstanceTidier@679274203:/mnt/cassandra/data/crawl/link2-b1fa78203b0711e5a72aa1fb779f0f22/la-2266-big was not released before the reference was garbage collected
ERROR [Reference-Reaper:1] 2015-08-14 15:37:04,809 Ref.java:187 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@9db4f67) to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.cassandra.io.sstable.format.SSTableReader$InstanceTidier@440947325:/mnt/cassandra/data/crawl/link2-b1fa78203b0711e5a72aa1fb779f0f22/la-2244-big was not released before the reference was garbage collected
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14697301" author="krummas" created="Fri, 14 Aug 2015 16:11:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=victortrac&quot; class=&quot;user-hover&quot; rel=&quot;victortrac&quot;&gt;victortrac&lt;/a&gt; yours is probably &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9998&quot; title=&quot;LEAK DETECTED with snapshot/sequential repairs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9998&quot;&gt;&lt;del&gt;CASSANDRA-9998&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebastian.estevez%40datastax.com&quot; class=&quot;user-hover&quot; rel=&quot;sebastian.estevez@datastax.com&quot;&gt;sebastian.estevez@datastax.com&lt;/a&gt; could you open a new ticket for that?&lt;/p&gt;</comment>
                            <comment id="14697305" author="sebastian.estevez@datastax.com" created="Fri, 14 Aug 2015 16:13:18 +0000"  >&lt;p&gt;Sure thing&lt;/p&gt;</comment>
                            <comment id="15180494" author="sebastian.estevez@datastax.com" created="Fri, 4 Mar 2016 20:28:14 +0000"  >&lt;p&gt;For future reference I ended up openning &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10079&quot; title=&quot;LEAK DETECTED, after nodetool drain&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10079&quot;&gt;&lt;del&gt;CASSANDRA-10079&lt;/del&gt;&lt;/a&gt; and it&apos;s fixed in 2.1.12&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12783375">CASSANDRA-8996</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12782710">CASSANDRA-8984</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12724540" name="0001-dont-initialize-writer-before-checking-if-iter-is-em.patch" size="3505" author="marcuse" created="Fri, 10 Apr 2015 12:38:28 +0000"/>
                            <attachment id="12709313" name="node1.log" size="6565254" author="thobbs" created="Fri, 3 Apr 2015 21:11:28 +0000"/>
                            <attachment id="12709322" name="node2.log.gz" size="424346" author="thobbs" created="Fri, 3 Apr 2015 22:03:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27rvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>