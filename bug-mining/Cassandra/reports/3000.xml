<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:46:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7663] Removing a seed causes previously removed seeds to reappear</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7663</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When you remove a seed from a cluster, Gossiper.removeEndpoint ensures it is removed from the seed list. However, it also resets the seed list to be the original list, which would bring back any previously removed seeds. What is the reasoning for having the call to buildSeedsList()? If it wasn&#8217;t there then I think the problem would be solved.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12731215">CASSANDRA-7663</key>
            <summary>Removing a seed causes previously removed seeds to reappear</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="rlow">Richard Low</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2014 23:11:25 +0000</created>
                <updated>Tue, 14 Oct 2025 12:13:59 +0000</updated>
                            <resolved>Tue, 5 Aug 2014 19:13:01 +0000</resolved>
                                        <fixVersion>1.2.19</fixVersion>
                    <fixVersion>2.0.10</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14081685" author="brandon.williams" created="Thu, 31 Jul 2014 23:41:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;What is the reasoning for having the call to buildSeedsList()?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So custom seed providers can give it new seeds.  If you&apos;re using SimpleSeedProvider that means the old seed is in your yaml and would come back with a restart anyway.&lt;/p&gt;</comment>
                            <comment id="14081693" author="brandon.williams" created="Thu, 31 Jul 2014 23:47:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you&apos;re using SimpleSeedProvider that means the old seed is in your yaml and would come back with a restart anyway.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually I take that back, it looks like SSP itself is caching the seeds in the yaml forever, which is probably wrong.&lt;/p&gt;</comment>
                            <comment id="14081831" author="brandon.williams" created="Fri, 1 Aug 2014 02:21:31 +0000"  >&lt;p&gt;Looks like the only way we can fix this and remain compatible is to reload the yaml and grabs the seeds every time getSeeds() is called, which slightly sucks but works.  Patch to do so.&lt;/p&gt;</comment>
                            <comment id="14082315" author="jbellis" created="Fri, 1 Aug 2014 15:04:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14082374" author="brandon.williams" created="Fri, 1 Aug 2014 15:49:30 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="14082613" author="rlow" created="Fri, 1 Aug 2014 17:53:10 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14083258" author="rlow" created="Sat, 2 Aug 2014 00:47:05 +0000"  >&lt;p&gt;Actually there&apos;s a potential problem with this. It now requires that the yaml is still present, whereas before this patch the yaml was only needed on startup. Depending on how people deploy updated yamls, the old yaml may not be there. In that case, it would throw AssertionError and bad things will happen in gossip. Maybe it could fall back on the original behaviour if the yaml can&apos;t be read? &lt;/p&gt;</comment>
                            <comment id="14083640" author="brandon.williams" created="Sat, 2 Aug 2014 17:47:38 +0000"  >&lt;p&gt;I think it&apos;s definitely a Bad Idea to forcibly yank things from Cassandra&apos;s classpath, especially since if you do you get this bug, but here&apos;s a patch that can tolerate it.&lt;/p&gt;</comment>
                            <comment id="14085671" author="JIRAUSER308715" created="Tue, 5 Aug 2014 02:13:06 +0000"  >&lt;p&gt;Can we use ResourceWatcher to check for changes instead of re-reading the file every time?&lt;/p&gt;</comment>
                            <comment id="14086315" author="brandon.williams" created="Tue, 5 Aug 2014 14:33:51 +0000"  >&lt;p&gt;I don&apos;t think so, because then the procedure becomes: edit yaml, wait until RW has picked it up, remove the seed.  And we only call buildSeeds at startup and at removal, so not very often.&lt;/p&gt;</comment>
                            <comment id="14086574" author="rlow" created="Tue, 5 Aug 2014 18:17:57 +0000"  >&lt;p&gt;+1 on v2, thanks!&lt;/p&gt;</comment>
                            <comment id="14086628" author="brandon.williams" created="Tue, 5 Aug 2014 19:13:01 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12849592">CASSANDRA-9909</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12659488" name="7663-v2.txt" size="2579" author="brandon.williams" created="Sat, 2 Aug 2014 17:47:38 +0000"/>
                            <attachment id="12659075" name="7663.txt" size="3473" author="brandon.williams" created="Fri, 1 Aug 2014 02:21:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yf6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326830">2.0.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rlow</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[rlow]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>