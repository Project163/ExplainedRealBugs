<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:16:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16064] Add test which validates that Message serializedSize(version) == serialize(out, version).length</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16064</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In 4.0 we require serializedSize(version) == serialize(out, version).length for correctness in post40 message format as we write it into the message header.  Given that this is a strong requirement for correct deserialization of the message, we should have tests which help enforce this property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13323841">CASSANDRA-16064</key>
            <summary>Add test which validates that Message serializedSize(version) == serialize(out, version).length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dcapwell">David Capwell</assignee>
                                    <reporter username="dcapwell">David Capwell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2020 21:37:20 +0000</created>
                <updated>Sun, 3 Jan 2021 17:03:47 +0000</updated>
                            <resolved>Wed, 26 Aug 2020 22:27:34 +0000</resolved>
                                        <fixVersion>4.0-beta2</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Messaging/Internode</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17181464" author="dcapwell" created="Thu, 20 Aug 2020 21:50:19 +0000"  >&lt;p&gt;I also feel I should backport this to 3.0.  I started this in 3.0 and found a bug where we don&apos;t include the table name&apos;s size in our estimate.  We didn&apos;t use sizeOf for correctness like we do in 4.0, so less critical.&lt;/p&gt;</comment>
                            <comment id="17181474" author="maedhroz" created="Thu, 20 Aug 2020 22:13:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;I should backport this to 3.0&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fair. Either way, I&apos;ll try to have feedback on trunk by tomorrow.&lt;/p&gt;</comment>
                            <comment id="17182042" author="jmeredithco" created="Fri, 21 Aug 2020 17:44:28 +0000"  >&lt;p&gt;Pushed up a round of review notes&#160;&lt;a href=&quot;https://github.com/jonmeredith/cassandra/pull/new/CASSANDRA-16064-suggestions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jonmeredith/cassandra/pull/new/CASSANDRA-16064-suggestions&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17182096" author="dcapwell" created="Fri, 21 Aug 2020 19:21:55 +0000"  >&lt;p&gt;Ok hitting issues with reversed type... working on tests for reversed type and fixing the issues found... this caused the current tests to be flaky; targeting 2pm my time to complete tests.&lt;/p&gt;</comment>
                            <comment id="17182795" author="dcapwell" created="Sun, 23 Aug 2020 18:06:43 +0000"  >&lt;p&gt;Ok finally got all tests stable, but had to expand the scope to fix other issues... feel it may make more sense to split this up to isolate the changes; thoughts?&lt;/p&gt;</comment>
                            <comment id="17183650" author="dcapwell" created="Tue, 25 Aug 2020 00:19:00 +0000"  >&lt;p&gt;python dtests are passing other than 7 tests which look to be caused by &lt;a href=&quot;https://github.com/apache/cassandra-dtest/commit/cefddf845d63919c6e7b5efa35b28fe7a5ad1142&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/commit/cefddf845d63919c6e7b5efa35b28fe7a5ad1142&lt;/a&gt; changing the Api they call&lt;/p&gt;</comment>
                            <comment id="17184779" author="maedhroz" created="Tue, 25 Aug 2020 23:17:31 +0000"  >&lt;p&gt;Do we have a committer lined up? Perhaps &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aleksey&quot; class=&quot;user-hover&quot; rel=&quot;aleksey&quot;&gt;aleksey&lt;/a&gt;, given the minor involvement?&lt;/p&gt;</comment>
                            <comment id="17184782" author="brandon.williams" created="Tue, 25 Aug 2020 23:31:24 +0000"  >&lt;p&gt;David can commit, heh.&lt;/p&gt;</comment>
                            <comment id="17184815" author="maedhroz" created="Wed, 26 Aug 2020 00:37:00 +0000"  >&lt;p&gt;Ouch. Sorry.&lt;/p&gt;</comment>
                            <comment id="17185372" author="dcapwell" created="Wed, 26 Aug 2020 17:29:12 +0000"  >&lt;p&gt;Thanks for all the reviews so far.  I have wrapped up everything and running through CI right now.&lt;/p&gt;

&lt;p&gt;java8: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra/448/workflows/3982d772-6f37-4ff2-bc16-af1c1613462b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra/448/workflows/3982d772-6f37-4ff2-bc16-af1c1613462b&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;only failing test so far looks to be &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15861&quot; title=&quot;Mutating sstable component may race with entire-sstable-streaming(ZCS) causing checksum validation failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15861&quot;&gt;&lt;del&gt;CASSANDRA-15861&lt;/del&gt;&lt;/a&gt;, so so far so good.&lt;/p&gt;</comment>
                            <comment id="17185487" author="dcapwell" created="Wed, 26 Aug 2020 21:32:06 +0000"  >&lt;p&gt;Caleb and Jon both +1 in PR&lt;/p&gt;</comment>
                            <comment id="17185505" author="dcapwell" created="Wed, 26 Aug 2020 22:27:34 +0000"  >&lt;p&gt;CI results: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra/455/workflows/a60aef20-a3e0-4f3a-b055-93e9b040d82a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra/455/workflows/a60aef20-a3e0-4f3a-b055-93e9b040d82a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;there were flaky tests and I forgot to merge the python dtest changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7544&quot; title=&quot;Allow storage port to be configurable per node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7544&quot;&gt;&lt;del&gt;CASSANDRA-7544&lt;/del&gt;&lt;/a&gt; so those tests also failed (so pushed the tests).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13337863">CASSANDRA-16234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12990" cascade-level="1"><![CDATA[Test Failure]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12970"><![CDATA[Unit Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hyrc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[maedhroz]]></customfieldvalue>
        <customfieldvalue><![CDATA[jmeredithco]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348285">4.0-beta1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/0697489f7455fa078cb454776b98236f18f82dd4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/0697489f7455fa078cb454776b98236f18f82dd4&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;added tests&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>