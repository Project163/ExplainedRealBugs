<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:46:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7587] sstablekeys does not work with default configuration</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7587</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The directory I tried to use with the sstablekeys tool is &amp;lt;path&amp;gt;/apache-cassandra-2.1.0-rc4/data/data/music/playlists-e80c033011bd11e49269bb45d4dd025b/music-playlists-ka-1-Data.db&lt;/p&gt;

&lt;p&gt;Results of attempting to use the command:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sstablekeys &amp;lt;path&amp;gt;2.1rc4/apache-cassandra-2.1.0-rc4/data/data/music/playlists-e80c033011bd11e49269bb45d4dd025b/music-playlists-ka-1-Data.db&lt;br/&gt;
ERROR 16:54:57 Fatal configuration error&lt;br/&gt;
org.apache.cassandra.exceptions.ConfigurationException: commitlog_directory is missing and -Dcassandra.storagedir is not set&lt;br/&gt;
	at org.apache.cassandra.config.DatabaseDescriptor.applyConfig(DatabaseDescriptor.java:447) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-2.1.0-rc4.jar:2.1.0-rc4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cassandra.config.DatabaseDescriptor.&amp;lt;clinit&amp;gt;(DatabaseDescriptor.java:129) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-2.1.0-rc4.jar:2.1.0-rc4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.cassandra.tools.SSTableExport.main(SSTableExport.java:406) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-2.1.0-rc4.jar:2.1.0-rc4&amp;#93;&lt;/span&gt;&lt;br/&gt;
commitlog_directory is missing and -Dcassandra.storagedir is not set&lt;br/&gt;
Fatal configuration error; unable to start. See log for stacktrace.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The system log says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; 2014-07-22 09:27:26,145 CassandraDaemon.java:203 - Directory ./../data/data doesn&apos;t exist&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; 2014-07-22 09:27:26,154 CassandraDaemon.java:203 - Directory ./../data/commitlog doesn&apos;t exist&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; 2014-07-22 09:27:26,154 CassandraDaemon.java:203 - Directory ./../data/saved_caches doesn&apos;t exist&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12728903">CASSANDRA-7587</key>
            <summary>sstablekeys does not work with default configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thobbs">Tom Hobbs</assignee>
                                    <reporter username="khahn">K. B. Hahn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jul 2014 17:18:17 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:06 +0000</updated>
                            <resolved>Fri, 25 Jul 2014 20:09:34 +0000</resolved>
                                        <fixVersion>2.1 rc5</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14070578" author="brandon.williams" created="Tue, 22 Jul 2014 17:50:11 +0000"  >&lt;p&gt;Similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7508&quot; title=&quot;nodetool prints error if dirs don&amp;#39;t exist.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7508&quot;&gt;&lt;del&gt;CASSANDRA-7508&lt;/del&gt;&lt;/a&gt;, at least in error.&lt;/p&gt;</comment>
                            <comment id="14072207" author="thobbs" created="Wed, 23 Jul 2014 19:32:56 +0000"  >&lt;p&gt;Since sstablekeys (and many of the other tools) need to know the schema, it seems like we have a couple of choices:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Set &lt;tt&gt;-Dcassandra.storagedir&lt;/tt&gt; in all of the shell scripts for the tools&lt;/li&gt;
	&lt;li&gt;When DatabaseDescriptor is being initialized, don&apos;t complain about commitlog/data/saved_caches not being set.  If those are actually used later, throw a ConfigurationException.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Some of the tools (e.g. upgradesstables) need to know what the data directories are, so option #2 isn&apos;t enough by itself.  For that reason, I&apos;m leaning towards #1.&lt;/p&gt;</comment>
                            <comment id="14073637" author="thobbs" created="Thu, 24 Jul 2014 20:59:15 +0000"  >&lt;p&gt;7587.txt (and &lt;a href=&quot;https://github.com/thobbs/cassandra/tree/CASSANDRA-7587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;) sets the &lt;tt&gt;$cassandra_storagedir&lt;/tt&gt; environment variable in &lt;tt&gt;cassandra.in.sh&lt;/tt&gt; and updates all tool shell scripts to use this.&lt;/p&gt;</comment>
                            <comment id="14073639" author="thobbs" created="Thu, 24 Jul 2014 20:59:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoshuaMcKenzie&quot; class=&quot;user-hover&quot; rel=&quot;JoshuaMcKenzie&quot;&gt;JoshuaMcKenzie&lt;/a&gt; can you review and update the patch to include changes for Windows?&lt;/p&gt;</comment>
                            <comment id="14073824" author="jmckenzie" created="Thu, 24 Jul 2014 23:19:17 +0000"  >&lt;p&gt;patch lgtm.  Windows-side took a little more work than I&apos;d anticipated as we didn&apos;t have a &quot;cassandra.in.sh&quot; to put that change in.  I snuck the fix for this ticket into &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7619&quot; title=&quot;Normalize windows tool batch file environments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7619&quot;&gt;&lt;del&gt;CASSANDRA-7619&lt;/del&gt;&lt;/a&gt; during implementation;  seemed like it was more appropriate to have the &quot;Windows tools share tunability&quot; on its own ticket than polluting this one with it.&lt;/p&gt;</comment>
                            <comment id="14074852" author="thobbs" created="Fri, 25 Jul 2014 20:09:34 +0000"  >&lt;p&gt;Thanks, committed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12729610">CASSANDRA-7619</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12657671" name="7587.txt" size="8260" author="thobbs" created="Thu, 24 Jul 2014 20:59:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y17b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327458">2.1 rc4</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>joshuamckenzie</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[joshuamckenzie]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>