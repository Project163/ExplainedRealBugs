<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:19:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16473] cassandra-stress failed to connect over JMX</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16473</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;cassandra version: 4.0-beta4&lt;/p&gt;

&lt;p&gt;When I run command:&lt;br/&gt;
cassandra-stress write n = 100 -rate threads = 1 -node 127.0.0.1 -log level=verbose&lt;/p&gt;

&lt;p&gt;I get the following exception:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Connected to cluster: Test Cluster, max pending requests per connection 128, max connections per host 8
Datacenter: datacenter1; Host: /127.0.0.1:9042; Rack: rack1
Created keyspaces. Sleeping 1s &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; propagation.
Sleeping 2s...
Warming up WRITE with 25 iterations...
java.lang.RuntimeException: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at org.apache.cassandra.stress.util.JmxCollector.connect(JmxCollector.java:99)
	at org.apache.cassandra.stress.util.JmxCollector.&amp;lt;init&amp;gt;(JmxCollector.java:85)
	at org.apache.cassandra.stress.report.StressMetrics.&amp;lt;init&amp;gt;(StressMetrics.java:108)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:228)
	at org.apache.cassandra.stress.StressAction.warmup(StressAction.java:124)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:69)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:369)
	at javax.management.remote.JMXConnectorFactory.connect(JMXConnectorFactory.java:270)
	at org.apache.cassandra.tools.NodeProbe.connect(NodeProbe.java:214)
	at org.apache.cassandra.tools.NodeProbe.&amp;lt;init&amp;gt;(NodeProbe.java:172)
	at org.apache.cassandra.stress.util.JmxCollector.connect(JmxCollector.java:95)
	... 7 more
Caused by: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:136)
	at com.sun.jndi.toolkit.url.GenericURLContext.lookup(GenericURLContext.java:205)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.management.remote.rmi.RMIConnector.findRMIServerJNDI(RMIConnector.java:1955)
	at javax.management.remote.rmi.RMIConnector.findRMIServer(RMIConnector.java:1922)
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:287)
	... 11 more
Caused by: java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:620)
	at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)
	at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)
	at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:342)
	at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:116)
	at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:132)
	... 16 more
Caused by: java.net.UnknownHostException: 127.0.0.1:9042
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:196)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at java.net.Socket.connect(Socket.java:555)
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:451)
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:228)
	at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)
	at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)
	... 21 more
Failed to connect over JMX; not collecting these stats
Running WRITE with 1 threads &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 100 iteration
java.lang.RuntimeException: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at org.apache.cassandra.stress.util.JmxCollector.connect(JmxCollector.java:99)
	at org.apache.cassandra.stress.util.JmxCollector.&amp;lt;init&amp;gt;(JmxCollector.java:85)
	at org.apache.cassandra.stress.report.StressMetrics.&amp;lt;init&amp;gt;(StressMetrics.java:108)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:228)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:88)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: java.io.IOException: Failed to retrieve RMIServer stub: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:369)
	at javax.management.remote.JMXConnectorFactory.connect(JMXConnectorFactory.java:270)
	at org.apache.cassandra.tools.NodeProbe.connect(NodeProbe.java:214)
	at org.apache.cassandra.tools.NodeProbe.&amp;lt;init&amp;gt;(NodeProbe.java:172)
	at org.apache.cassandra.stress.util.JmxCollector.connect(JmxCollector.java:95)
	... 6 more
Caused by: javax.naming.ConfigurationException [Root exception is java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042]
	at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:136)
	at com.sun.jndi.toolkit.url.GenericURLContext.lookup(GenericURLContext.java:205)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.management.remote.rmi.RMIConnector.findRMIServerJNDI(RMIConnector.java:1955)
	at javax.management.remote.rmi.RMIConnector.findRMIServer(RMIConnector.java:1922)
	at javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:287)
	... 10 more
Caused by: java.rmi.UnknownHostException: Unknown host: 127.0.0.1:9042; nested exception is:
	java.net.UnknownHostException: 127.0.0.1:9042
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:620)
	at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)
	at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)
	at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:342)
	at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:116)
	at com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:132)
	... 15 more
Caused by: java.net.UnknownHostException: 127.0.0.1:9042
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:196)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at java.net.Socket.connect(Socket.java:555)
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:451)
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:228)
	at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)
	at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)
	at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)
	... 20 more
Failed to connect over JMX; not collecting these stats
type                                               total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,                                                    94,      94,      94,      94,     1.8,     1.7,     2.7,     4.3,     5.1,     5.1,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,                                                   100,     381,     381,     381,     2.6,     1.6,     6.1,     6.1,     6.1,     6.1,    1.0,  0.52138,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :       98 op/s  [WRITE: 98 op/s]
Partition rate            :       98 pk/s  [WRITE: 98 pk/s]
Row rate                  :       98 row/s [WRITE: 98 row/s]
Latency mean              :    1.9 ms [WRITE: 1.9 ms]
Latency median            :    1.7 ms [WRITE: 1.7 ms]
Latency 95th percentile   :    2.8 ms [WRITE: 2.8 ms]
Latency 99th percentile   :    5.1 ms [WRITE: 5.1 ms]
Latency 99.9th percentile :    6.1 ms [WRITE: 6.1 ms]
Latency max               :    6.1 ms [WRITE: 6.1 ms]
Total partitions          :        100 [WRITE: 100]
Total errors              :          0 [WRITE: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01

END
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13361736">CASSANDRA-16473</key>
            <summary>cassandra-stress failed to connect over JMX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bereng">Berenguer Blasi</assignee>
                                    <reporter username="molin">wang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Mar 2021 03:35:06 +0000</created>
                <updated>Fri, 5 Mar 2021 14:58:04 +0000</updated>
                            <resolved>Wed, 3 Mar 2021 15:36:41 +0000</resolved>
                                        <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Tool/stress</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17294364" author="bereng" created="Wed, 3 Mar 2021 08:11:19 +0000"  >&lt;p&gt;Probably a side effect of the change in 4.0 where nodes now include the port as well. &lt;tt&gt;Stress&lt;/tt&gt; is not being run on CI atm but you can test easily with:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ant stress-test-some -Dtest.name=org.apache.cassandra.stress.settings.StressSettingsTest&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I have included a CI run in the PR anyway for completeness.&lt;/p&gt;</comment>
                            <comment id="17294597" author="brandon.williams" created="Wed, 3 Mar 2021 15:36:41 +0000"  >&lt;p&gt;I suspected this would be the case, thanks! Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0o6yw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/2d9d17894dab365df09f515e37b62b658bce6594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/2d9d17894dab365df09f515e37b62b658bce6594&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;See PR&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>