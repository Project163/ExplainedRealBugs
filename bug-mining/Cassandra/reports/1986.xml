<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:36:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5106] Stock example for using pig throws InvalidRequestException(why:Start token sorts after end token)</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5106</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The setup:&lt;br/&gt;
This is from printenv&lt;br/&gt;
HADOOP_HOME=/home/Downloads/hadoop-1.1.1&lt;br/&gt;
PIG_HOME=/home/Downloads/pig-0.10.0&lt;br/&gt;
PIG_INITIAL_ADDRESS=localhost&lt;br/&gt;
PIG_RPC_PORT=9160&lt;br/&gt;
PIG_PARTITIONER=org.apache.cassandra.dht.Murmur3Partitioner&lt;/p&gt;

&lt;p&gt;This is from cassandra-cli&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;default@PigTest&amp;#93;&lt;/span&gt; describe cluster;&lt;br/&gt;
Cluster Information:&lt;br/&gt;
   Snitch: org.apache.cassandra.locator.SimpleSnitch&lt;br/&gt;
   Partitioner: org.apache.cassandra.dht.Murmur3Partitioner&lt;br/&gt;
   Schema versions:&lt;br/&gt;
        b5fc9a82-fbdd-3cf5-af16-9c498c9f9a5c: &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Running test_storage.pig as&lt;br/&gt;
bin/pig_cassandra -x local test/test_storage.pig&lt;br/&gt;
after populating the cf as&lt;br/&gt;
cassandra-cli --host localhost --port 9160 &amp;lt; populate-cli.txt&lt;br/&gt;
throws &lt;br/&gt;
2013-01-03 02:20:47,626 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-4&amp;#93;&lt;/span&gt; INFO  org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigRecordReader - Current spli&lt;br/&gt;
t being processed ColumnFamilySplit((-1, &apos;-1728690256123413808] @&lt;span class=&quot;error&quot;&gt;&amp;#91;localhost.localdomain&amp;#93;&lt;/span&gt;)&lt;br/&gt;
2013-01-03 02:20:47,758 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-4&amp;#93;&lt;/span&gt; WARN  org.apache.hadoop.mapred.FileOutputCommitter - Output path is null in cleanup&lt;br/&gt;
2013-01-03 02:20:47,760 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-4&amp;#93;&lt;/span&gt; WARN  org.apache.hadoop.mapred.LocalJobRunner - job_local_0001&lt;br/&gt;
java.lang.RuntimeException: InvalidRequestException(why:Start token sorts after end token)&lt;br/&gt;
        at org.apache.cassandra.hadoop.ColumnFamilyRecordReader$StaticRowIterator.maybeInit(ColumnFamilyRecordReader.java:384)&lt;br/&gt;
        at org.apache.cassandra.hadoop.ColumnFamilyRecordReader$StaticRowIterator.computeNext(ColumnFamilyRecordReader.java:390)&lt;br/&gt;
        at org.apache.cassandra.hadoop.ColumnFamilyRecordReader$StaticRowIterator.computeNext(ColumnFamilyRecordReader.java:313)&lt;br/&gt;
        at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143)&lt;br/&gt;
        at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138)&lt;br/&gt;
        at org.apache.cassandra.hadoop.ColumnFamilyRecordReader.nextKeyValue(ColumnFamilyRecordReader.java:184)&lt;br/&gt;
        at org.apache.cassandra.hadoop.pig.CassandraStorage.getNext(CassandraStorage.java:226)&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigRecordReader.nextKeyValue(PigRecordReader.java:194)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask$NewTrackingRecordReader.nextKeyValue(MapTask.java:532)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.MapContext.nextKeyValue(MapContext.java:67)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:143)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:370)&lt;br/&gt;
        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:212)&lt;br/&gt;
Caused by: InvalidRequestException(why:Start token sorts after end token)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$get_range_slices_result.read(Cassandra.java:12916)&lt;br/&gt;
        at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:78)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Client.recv_get_range_slices(Cassandra.java:734)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Client.get_range_slices(Cassandra.java:718)&lt;br/&gt;
        at org.apache.cassandra.hadoop.ColumnFamilyRecordReader$StaticRowIterator.maybeInit(ColumnFamilyRecordReader.java:346)&lt;br/&gt;
        ... 13 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;1 node cluster with default cassandra.yaml&lt;/p&gt;</environment>
        <key id="12625917">CASSANDRA-5106</key>
            <summary>Stock example for using pig throws InvalidRequestException(why:Start token sorts after end token)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jdinata">janwar dinata</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jan 2013 21:43:12 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:20 +0000</updated>
                            <resolved>Thu, 10 Jan 2013 18:52:20 +0000</resolved>
                                        <fixVersion>1.1.9</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13543883" author="brandon.williams" created="Fri, 4 Jan 2013 13:45:12 +0000"  >&lt;p&gt;You probably have exported PIG_PARTITIONER=org.apache.cassandra.dht.RandomPartitioner, but 1.2 is using the default partitioner.  I&apos;ve updated the README.txt instructions in examples/pig to use the m3 partitioner instead.&lt;/p&gt;</comment>
                            <comment id="13546393" author="jdinata" created="Mon, 7 Jan 2013 23:12:16 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Still having the same exception thrown even with PIG_PARTITIONER=org.apache.cassandra.dht.Murmur3Partitioner&lt;/p&gt;</comment>
                            <comment id="13546941" author="brandon.williams" created="Tue, 8 Jan 2013 15:23:47 +0000"  >&lt;p&gt;Regression from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5076&quot; title=&quot;Murmur3Partitioner#describeOwnership calculates ownership% wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5076&quot;&gt;&lt;del&gt;CASSANDRA-5076&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547150" author="yukim" created="Tue, 8 Jan 2013 19:25:42 +0000"  >&lt;p&gt;This issue indeed comes from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5089&quot; title=&quot;get_range_slices does not validate end_token&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5089&quot;&gt;&lt;del&gt;CASSANDRA-5089&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
WordCount does fail in latest cassandra-1.1 branch with the same exception.&lt;/p&gt;</comment>
                            <comment id="13547162" author="brandon.williams" created="Tue, 8 Jan 2013 19:31:02 +0000"  >&lt;p&gt;Closing in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5089&quot; title=&quot;get_range_slices does not validate end_token&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5089&quot;&gt;&lt;del&gt;CASSANDRA-5089&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547310" author="jbellis" created="Tue, 8 Jan 2013 21:41:12 +0000"  >&lt;p&gt;Reopening to avoid polluting fixver on 5089.&lt;/p&gt;</comment>
                            <comment id="13549139" author="jbellis" created="Wed, 9 Jan 2013 22:45:01 +0000"  >&lt;p&gt;patch to re-allow wrapping ranges for start_token/end_token pairing&lt;/p&gt;</comment>
                            <comment id="13549855" author="brandon.williams" created="Thu, 10 Jan 2013 18:09:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13549911" author="jbellis" created="Thu, 10 Jan 2013 18:52:21 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12630215">CASSANDRA-5209</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12625154">CASSANDRA-5089</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564051" name="5106.txt" size="1430" author="jbellis" created="Wed, 9 Jan 2013 22:45:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i173kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>