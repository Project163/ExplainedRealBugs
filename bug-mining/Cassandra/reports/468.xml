<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:16:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1520] stress.py&apos;s multiget option sends increasingly inefficient queries as more test data is inserted</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1520</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;MultiGetter&apos;s key list sizes should be broken up better for more efficient queries. Setting an initial value that breaks up the key list into N sub lists (where N is the number of threads) yielded more efficient queries. (The choice of thread count here was a stop-gap for demonstration purposes. End result should probably be chunk-size config option with a sane default).&lt;/p&gt;

&lt;p&gt;Pre patch:&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
python stress.py -o multiget -t 25 -n 250000 -c 5&lt;br/&gt;
total,interval_op_rate,interval_key_rate,avg_latency,elapsed_time&lt;br/&gt;
6,0,6000,8.6109764576,10&lt;br/&gt;
10,0,4000,18.6666852832,20&lt;br/&gt;
17,0,7000,27.4705835751,30&lt;br/&gt;
23,0,6000,36.6091703971,41&lt;br/&gt;
25,0,2000,41.8415510654,42&lt;/p&gt;

&lt;p&gt;Post patch:&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
python mstress.py -o multiget -t 25 -n 250000 -c 5&lt;br/&gt;
total,interval_op_rate,interval_key_rate,avg_latency,elapsed_time&lt;br/&gt;
172,17,6880,1.44215503127,10&lt;br/&gt;
314,14,5680,1.8667214538,20&lt;br/&gt;
466,15,6080,1.69888155084,31&lt;br/&gt;
624,15,6320,1.55442555947,41&lt;br/&gt;
625,0,40,0.0914790630341,41&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474520">CASSANDRA-1520</key>
            <summary>stress.py&apos;s multiget option sends increasingly inefficient queries as more test data is inserted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="zznate">Nate McCall</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Sep 2010 05:58:14 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:16 +0000</updated>
                            <resolved>Mon, 20 Sep 2010 18:38:29 +0000</resolved>
                                        <fixVersion>0.7 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12911173" author="zznate" created="Sun, 19 Sep 2010 07:28:40 +0000"  >&lt;p&gt;Moved priority down to minor. &lt;/p&gt;</comment>
                            <comment id="12912288" author="brandon.williams" created="Sun, 19 Sep 2010 21:01:57 +0000"  >&lt;p&gt;Committed as is, since multiget was fairly poor.  Number of threads as a stopgap probably isn&apos;t too bad, but ultimately I think providing a config option for the number of keys is best, so the user knows exactly what&apos;s going on.&lt;/p&gt;</comment>
                            <comment id="12912295" author="brandon.williams" created="Sun, 19 Sep 2010 22:17:34 +0000"  >&lt;p&gt;Updated patch to reuse the rangecount variable so we don&apos;t have to use another option, and also apply the logic to supercolumns.&lt;/p&gt;</comment>
                            <comment id="12912479" author="hudson" created="Mon, 20 Sep 2010 14:37:10 +0000"  >&lt;p&gt;Integrated in Cassandra #541 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/541/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/541/&lt;/a&gt;)&lt;br/&gt;
    Optimize multiget in stress.py.  Patch by Nate McCall, reviewed by brandonwilliams for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1520&quot; title=&quot;stress.py&amp;#39;s multiget option sends increasingly inefficient queries as more test data is inserted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1520&quot;&gt;&lt;del&gt;CASSANDRA-1520&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12912627" author="zznate" created="Mon, 20 Sep 2010 18:29:38 +0000"  >&lt;p&gt;1520v2 looks good as well. new -g usage works well to find the slice sweet spot. &lt;br/&gt;
For the record: had to apply patch to file previous to commit though, thus some merge handjiving will be needed.&lt;/p&gt;</comment>
                            <comment id="12912631" author="brandon.williams" created="Mon, 20 Sep 2010 18:38:29 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454999" name="1520-v2.txt" size="3862" author="brandon.williams" created="Sun, 19 Sep 2010 22:21:41 +0000"/>
                            <attachment id="12454965" name="1520.patch" size="1599" author="zznate" created="Sun, 19 Sep 2010 05:59:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g5kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>