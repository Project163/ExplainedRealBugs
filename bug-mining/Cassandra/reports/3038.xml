<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:47:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7735] Remove ref-counting of netty buffers</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7735</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;This has turned out to be more bug prone than we&apos;d hoped, and it no longer seems to be a justified risk factor, since the performance gains were generally quite modest. When there&apos;s some time we can reengineer the API to make it safer to produce more obviously correct usage, but in the meantime I propose rolling back this change before general availability of 2.1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12733127">CASSANDRA-7735</key>
            <summary>Remove ref-counting of netty buffers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tjake">T Jake Luciani</assignee>
                                    <reporter username="benedict">Benedict Elliott Smith</reporter>
                        <labels>
                            <label>correctness</label>
                            <label>performance</label>
                    </labels>
                <created>Sun, 10 Aug 2014 20:38:04 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:37 +0000</updated>
                            <resolved>Tue, 12 Aug 2014 00:41:08 +0000</resolved>
                                        <fixVersion>2.1 rc6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14092337" author="tjake" created="Mon, 11 Aug 2014 01:59:14 +0000"  >&lt;p&gt;Removes all the frame refcounting.  I&apos;ve opted to keep the netty allocator pooled since it avoids the leak detection stuff and simply copy the data on heap in CBUtil.readValue() which is the only place that passed the raw ByteBuffer along.&lt;/p&gt;

&lt;p&gt;Benchmarking shows a ~5% performance hit and increased latency as expected :/ &lt;/p&gt;</comment>
                            <comment id="14093313" author="jbellis" created="Mon, 11 Aug 2014 21:22:47 +0000"  >&lt;p&gt;This supersedes &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7732&quot; title=&quot;Counter replication mutation can have corrupt cell name values (via pooled Netty buffers)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7732&quot;&gt;&lt;del&gt;CASSANDRA-7732&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14093323" author="benedict" created="Mon, 11 Aug 2014 21:26:41 +0000"  >&lt;p&gt;Yes. Linked/closed &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7732&quot; title=&quot;Counter replication mutation can have corrupt cell name values (via pooled Netty buffers)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7732&quot;&gt;&lt;del&gt;CASSANDRA-7732&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14093376" author="jbellis" created="Mon, 11 Aug 2014 21:52:47 +0000"  >&lt;p&gt;Aleksey&apos;s review plate is pretty full, putting this on Benedict&apos;s.&lt;/p&gt;</comment>
                            <comment id="14093476" author="benedict" created="Mon, 11 Aug 2014 22:56:22 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;

&lt;p&gt;nit: BatchStatement, ModificationStatement, Mutation, QueryState each have an unused Frame import, ResponseVerbHandler has an unused IMutation import&lt;/p&gt;</comment>
                            <comment id="14093567" author="tjake" created="Tue, 12 Aug 2014 00:41:08 +0000"  >&lt;p&gt;Committed with nits.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12701541">CASSANDRA-6861</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12733107">CASSANDRA-7732</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12660903" name="7735.txt" size="27861" author="tjake" created="Mon, 11 Aug 2014 01:59:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yqif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>benedict</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[benedict]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326275">2.1 beta1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>