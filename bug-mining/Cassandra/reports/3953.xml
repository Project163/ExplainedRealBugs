<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:59:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10717] Changes from CASSANDRA-9353 makes Hadoop integration backward incompatible</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10717</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Previously &lt;tt&gt;CqlInputFormat.getSplits(JobContext)&lt;/tt&gt; method did not require anything but providing username and password in order to work with password protected Cassandra. Now, since &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9353&quot; title=&quot;Remove deprecated legacy Hadoop code in 3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9353&quot;&gt;&lt;del&gt;CASSANDRA-9353&lt;/del&gt;&lt;/a&gt; moved this part of the code from Thrift to Java Driver, the user needs to explicitly select &lt;tt&gt;AuthProvider&lt;/tt&gt; to make it work.&lt;/p&gt;

&lt;p&gt;I propose a simple change in &lt;tt&gt;CqlConfigHelper&lt;/tt&gt; which make &lt;tt&gt;CqlConfigHelper.getCluster&lt;/tt&gt; method set credentials on &lt;tt&gt;Cluster.Builder&lt;/tt&gt; if they are present in the configuration, prior to setting &lt;tt&gt;AuthProvider&lt;/tt&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12913584">CASSANDRA-10717</key>
            <summary>Changes from CASSANDRA-9353 makes Hadoop integration backward incompatible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlewandowski">Jacek Lewandowski</assignee>
                                    <reporter username="jlewandowski">Jacek Lewandowski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 08:14:26 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:50 +0000</updated>
                            <resolved>Fri, 20 Nov 2015 14:22:21 +0000</resolved>
                                        <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15008292" author="jlewandowski" created="Tue, 17 Nov 2015 08:47:51 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjordan&quot; class=&quot;user-hover&quot; rel=&quot;jjordan&quot;&gt;jjordan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15008332" author="mike_tr_adamson" created="Tue, 17 Nov 2015 09:16:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; Wouldn&apos;t it make more sense to have the check for the authProvider first and then the username &amp;amp; password? Something like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;if (authProvider.isPresent())
    builder.withAuthProvider(authProvider.get());
else if (username.isPresent() &amp;amp;&amp;amp; password.isPresent())
    builder.withCredentials(username.get(), password.get());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This would allow for a user setting the username and password along with a non-standard auth provider.&lt;/p&gt;</comment>
                            <comment id="15008552" author="jlewandowski" created="Tue, 17 Nov 2015 12:06:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikea&quot; class=&quot;user-hover&quot; rel=&quot;mikea&quot;&gt;mikea&lt;/a&gt; - i&apos;m afraid that it won&apos;t be very useful because of the following reasons:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the &lt;tt&gt;AuthProvider&lt;/tt&gt; instance obtained few lines before, if it is &lt;tt&gt;PlainTextAuthProvider&lt;/tt&gt;, it is already initialised with username and password, so the credentials are set in this case&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;withCredentials&lt;/tt&gt; method implicitly set the auth provider to be &lt;tt&gt;PlainTextAuthProvider&lt;/tt&gt;, so if there is already some other auth provider set, it will be overridden by &lt;tt&gt;PlainTextAuthProvider&lt;/tt&gt;; that method doesn&apos;t set credentials in a generic way on the currently selected authenticator&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15008567" author="mike_tr_adamson" created="Tue, 17 Nov 2015 12:18:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; I&apos;m not that fussed because in your patch, if the &lt;tt&gt;AuthProvider&lt;/tt&gt; is set it will overwrite the &lt;tt&gt;PlainTextAuthProvider&lt;/tt&gt; anyway. The change I was proposing was to make this clearer in the code, that if the user provided a username, password and &lt;tt&gt;AuthProvider&lt;/tt&gt; then the provided &lt;tt&gt;AuthProvider&lt;/tt&gt; took precedence over the &lt;tt&gt;PlainTextAuthProvider&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15014283" author="jlewandowski" created="Thu, 19 Nov 2015 20:18:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikea&quot; class=&quot;user-hover&quot; rel=&quot;mikea&quot;&gt;mikea&lt;/a&gt; Updated patch&lt;/p&gt;</comment>
                            <comment id="15015553" author="mike_tr_adamson" created="Fri, 20 Nov 2015 10:26:56 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12773321" name="CqlConfigHelper_authentication_patch-2.patch" size="1402" author="jlewandowski" created="Thu, 19 Nov 2015 20:17:53 +0000"/>
                            <attachment id="12772690" name="CqlConfigHelper_authentication_patch.patch" size="1255" author="jlewandowski" created="Tue, 17 Nov 2015 08:14:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jlewandowski]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ohlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mike_tr_adamson</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mike_tr_adamson]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332361">3.0 alpha 1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>