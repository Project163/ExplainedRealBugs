<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:05:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-12281] Gossip blocks on startup when there are pending range movements</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-12281</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In our cluster, normal node startup times (after a drain on shutdown) are less than 1 minute.  However, when another node in the cluster is bootstrapping, the same node startup takes nearly 30 minutes to complete, the apparent result of gossip blocking on pending range calculations.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ nodetool-a tpstats
Pool Name                    Active   Pending      Completed   Blocked  All time blocked
MutationStage                     0         0           1840         0                 0
ReadStage                         0         0           2350         0                 0
RequestResponseStage              0         0             53         0                 0
ReadRepairStage                   0         0              1         0                 0
CounterMutationStage              0         0              0         0                 0
HintedHandoff                     0         0             44         0                 0
MiscStage                         0         0              0         0                 0
CompactionExecutor                3         3            395         0                 0
MemtableReclaimMemory             0         0             30         0                 0
PendingRangeCalculator            1         2             29         0                 0
GossipStage                       1      5602            164         0                 0
MigrationStage                    0         0              0         0                 0
MemtablePostFlush                 0         0            111         0                 0
ValidationExecutor                0         0              0         0                 0
Sampler                           0         0              0         0                 0
MemtableFlushWriter               0         0             30         0                 0
InternalResponseStage             0         0              0         0                 0
AntiEntropyStage                  0         0              0         0                 0
CacheCleanupExecutor              0         0              0         0                 0

Message type           Dropped
READ                         0
RANGE_SLICE                  0
_TRACE                       0
MUTATION                     0
COUNTER_MUTATION             0
REQUEST_RESPONSE             0
PAGED_RANGE                  0
READ_REPAIR                  0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A full thread dump is attached, but the relevant bit seems to be here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ ... ]

&quot;GossipStage:1&quot; #1801 daemon prio=5 os_prio=0 tid=0x00007fe4cd54b000 nid=0xea9 waiting on condition [0x00007fddcf883000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  &amp;lt;0x00000004c1e922c0&amp;gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$FairSync)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
	at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:943)
	at org.apache.cassandra.locator.TokenMetadata.updateNormalTokens(TokenMetadata.java:174)
	at org.apache.cassandra.locator.TokenMetadata.updateNormalTokens(TokenMetadata.java:160)
	at org.apache.cassandra.service.StorageService.handleStateNormal(StorageService.java:2023)
	at org.apache.cassandra.service.StorageService.onChange(StorageService.java:1682)
	at org.apache.cassandra.gms.Gossiper.doOnChangeNotifications(Gossiper.java:1182)
	at org.apache.cassandra.gms.Gossiper.applyNewStates(Gossiper.java:1165)
	at org.apache.cassandra.gms.Gossiper.applyStateLocally(Gossiper.java:1128)
	at org.apache.cassandra.gms.GossipDigestAckVerbHandler.doVerb(GossipDigestAckVerbHandler.java:58)
	at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:67)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

[ ... ]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12991953">CASSANDRA-12281</key>
            <summary>Gossip blocks on startup when there are pending range movements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spod">Stefan Podkowinski</assignee>
                                    <reporter username="urandom">Eric Evans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jul 2016 21:19:51 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:25 +0000</updated>
                            <resolved>Fri, 18 Nov 2016 17:42:07 +0000</resolved>
                                        <fixVersion>2.2.9</fixVersion>
                    <fixVersion>3.0.11</fixVersion>
                    <fixVersion>3.10</fixVersion>
                                    <component>Legacy/Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                                                                <comments>
                            <comment id="15531831" author="dikanggu" created="Thu, 29 Sep 2016 05:23:38 +0000"  >&lt;p&gt;How big is your cluster? I see the same problem in one of our big cluster as well.&lt;/p&gt;</comment>
                            <comment id="15587266" author="apeckys" created="Wed, 19 Oct 2016 01:12:09 +0000"  >&lt;p&gt;I have 300+ node cluster in AWS that is also seeing this issue&lt;/p&gt;</comment>
                            <comment id="15588617" author="spodxx@gmail.com" created="Wed, 19 Oct 2016 12:24:49 +0000"  >&lt;p&gt;I just took a closer look at the source and stack dump and it also looks to me as if the pending ranges calculation is blocking all gossip tasks from executing. But this should not only affect a starting node, as the pending ranges calculation should take place on every node in the cluster after relevant changes in the cluster topology. It should also always take about the same amount of time before completion. You should be able to verify this by increasing the log level of &lt;tt&gt;org.apache.cassandra.service.PendingRangeCalculatorService&lt;/tt&gt; and look for a &quot;finished calculation for&quot; log message with the amount of time it took to finish the range calculation. The number of pending GossipStage tasks should also increase on each node after the new node starts bootstrapping.&lt;/p&gt;

&lt;p&gt;As can be seen in the stack dump, the startup process is stuck in &lt;tt&gt;CassandraDaemon.waitForGossipToSettle()&lt;/tt&gt; where the number of pending tasks are checked in assumption that we&apos;ll be able to continue starting up once all of them have been completed. You should be able to find &lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-2.2/src/java/org/apache/cassandra/service/CassandraDaemon.java#L588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;related INFO messages&lt;/a&gt; in the log.&lt;/p&gt;

&lt;p&gt;Is this really being the case? Can a bootstrapping node trigger a very slow pending ranges calculation on all nodes that would effectively shut down all gossip in the cluster?&lt;/p&gt;</comment>
                            <comment id="15589212" author="apeckys" created="Wed, 19 Oct 2016 16:46:23 +0000"  >&lt;p&gt;I just experienced that, had the PendingRangeCalculator block gossip and it backed up gossip on all nodes in the cluster. Out of 300+ nodes i had to stop and start gossip on over a 3rd of nodes to get them back into sync.&lt;/p&gt;</comment>
                            <comment id="15591596" author="spodxx@gmail.com" created="Thu, 20 Oct 2016 11:46:05 +0000"  >&lt;p&gt;I&apos;ve created a unit test to reproduce this issue, see linked WIP branch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkni&quot; class=&quot;user-hover&quot; rel=&quot;jkni&quot;&gt;jkni&lt;/a&gt;, do you mind taking the reviewer role while I continue trying to come up with a patch?&lt;/p&gt;</comment>
                            <comment id="15591740" author="jkni" created="Thu, 20 Oct 2016 12:52:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt; - that would be great. I certainly didn&apos;t intend to take the assignee role to block progress on it. Other work interrupted for longer than anticipated. Thanks and let me know if I can help!&lt;/p&gt;</comment>
                            <comment id="15601668" author="spodxx@gmail.com" created="Mon, 24 Oct 2016 11:11:43 +0000"  >&lt;p&gt;Would you be ok with my approach in the &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...spodkowinski:WIP-12281&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;WIP branch&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkni&quot; class=&quot;user-hover&quot; rel=&quot;jkni&quot;&gt;jkni&lt;/a&gt;? &lt;/p&gt;

&lt;p&gt;I&apos;ve implemented two significant changes here:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;TokenMetaData.calculatePendingRanges() will no longer acquire a read lock for range calculation. This should be fine as long as this method is the only writer and synchronizes around the ranges map. Without the lock, it&apos;s now possible that range calculation results will be behind the most recent gossip state, but I think that&apos;s still preferred  to avoiding updating the gossip state at all by blocked handlers. Eventually the calculation should catch up.&lt;/li&gt;
	&lt;li&gt;The ranges calculation will now only be done once per identical replication configuration, which should improve performance for clusters with a large number of keyspaces. It would be nice if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apeckys&quot; class=&quot;user-hover&quot; rel=&quot;apeckys&quot;&gt;apeckys&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dikanggu&quot; class=&quot;user-hover&quot; rel=&quot;dikanggu&quot;&gt;dikanggu&lt;/a&gt; could confirm if their affected clusters have a larger number of keyspaces or not, so we get a better idea if this could be a bigger factor at play.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Let me know your comments and I&apos;m going to create patches for 2.2 upwards and fire the tests in case we&apos;re good.&lt;/p&gt;</comment>
                            <comment id="15613900" author="dikanggu" created="Fri, 28 Oct 2016 01:14:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt;, in my case, we have large number of nodes in the cluster, but there is only one keyspace.&lt;/p&gt;</comment>
                            <comment id="15622189" author="apeckys" created="Mon, 31 Oct 2016 13:45:29 +0000"  >&lt;p&gt;It&apos;s the same for me, only 1 keyspace&lt;/p&gt;</comment>
                            <comment id="15628949" author="spodxx@gmail.com" created="Wed, 2 Nov 2016 13:20:04 +0000"  >&lt;p&gt;Ok, I&apos;m going to pull out the code for running the calculation just once per KS setting and open a new ticket for that, as this doesn&apos;t seem to be the real problem at hand here.&lt;/p&gt;

&lt;p&gt;The attached patches will now just make sure that we don&apos;t block on incoming gossip messages during pending range calculation.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-2.2-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-2.2-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15637528" author="jkni" created="Fri, 4 Nov 2016 20:08:01 +0000"  >&lt;p&gt;Thanks for the patch and your patience as I get to this for review! I&apos;ve been quite busy lately.&lt;/p&gt;

&lt;p&gt;The approach overall seems sound. While calculating pending ranges can be a little slow, I don&apos;t think we risk falling too far behind, because the huge delays here appear to be a result of cascading delays to other tasks. The PendingRangeCalculatorService&apos;s restriction on one queued task that will reflect cluster state at time of execution helps with this.&lt;/p&gt;

&lt;p&gt;A few small questions/nits:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Is there a reason that the test is excluded from the 2.2 branch? Byteman is available for tests on the 2.2 branch since &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12377&quot; title=&quot;Add byteman support for 2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12377&quot;&gt;&lt;del&gt;CASSANDRA-12377&lt;/del&gt;&lt;/a&gt;, and I don&apos;t see anything else that stops the test from being useful there.&lt;/li&gt;
	&lt;li&gt;Generally, the tests are organized as a top-level class for some entity or fundamental operation in the codebase and then specific test methods for unit tests/regression tests. I think it would make sense to establish a &lt;tt&gt;PendingRangeCalculatorServiceTest&lt;/tt&gt; and introduce the specific test for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12281&quot; title=&quot;Gossip blocks on startup when there are pending range movements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12281&quot;&gt;&lt;del&gt;CASSANDRA-12281&lt;/del&gt;&lt;/a&gt; inside that class.&lt;/li&gt;
	&lt;li&gt;In the &lt;tt&gt;PendingRangeCalculatorService&lt;/tt&gt;, I&apos;m not sure we need to move the &quot;Finished calculation for ...&quot; log message to trace. Most Gossip/TokenMetadata state changes are logged at debug, especially when they reflect some detail about the aggregate state of an operation.&lt;/li&gt;
	&lt;li&gt;A few minor spelling fixes in the test &quot;aquire&quot; -&amp;gt; &quot;acquire&quot;, &quot;fist&quot; -&amp;gt; &quot;first&quot;. (Note that I normally wouldn&apos;t bother with these, but since the test could likely use a few other changes, I think it is worthwhile to fix these.)&lt;/li&gt;
	&lt;li&gt;In the test&apos;s setUp, the call to &lt;tt&gt;Keyspace.setInitialized&lt;/tt&gt; is redundant. The call to &lt;tt&gt;SchemaLoader.prepareServer&lt;/tt&gt; will already perform this.&lt;/li&gt;
	&lt;li&gt;CI looks good overall. The 3.0-dtest run has a few materialized view dtest failures that are likely unrelated, but it would be good if you could retrigger CI for at least this branch.&lt;/li&gt;
	&lt;li&gt;There&apos;s no CI/branch posted for the 3.X series. While this has barely diverged from trunk at this point, it&apos;d be nice if you could run CI for this branch.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks again.&lt;/p&gt;</comment>
                            <comment id="15643772" author="spodxx@gmail.com" created="Mon, 7 Nov 2016 10:29:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;Byteman is available for tests on the 2.2 branch since &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12377&quot; title=&quot;Add byteman support for 2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12377&quot;&gt;&lt;del&gt;CASSANDRA-12377&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nice, I wasn&apos;t aware about that. I&apos;ve now included the test for the 2.2 patch as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In the PendingRangeCalculatorService, I&apos;m not sure we need to move the &quot;Finished calculation for ...&quot; log message to trace. Most Gossip/TokenMetadata state changes are logged at debug, especially when they reflect some detail about the aggregate state of an operation.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think the message itself is very useful, as it will log the execution time for both cases, when an actual calculation took place and on early exit by &lt;tt&gt;calculatePendingRanges&lt;/tt&gt; due to a lack of relevant state changes. As the last case is only covered with a trace message in &lt;tt&gt;calculatePendingRanges&lt;/tt&gt;, I don&apos;t think we should use debug for the message in &lt;tt&gt;PendingRangeTask&lt;/tt&gt; either, as it will only will tell you how long the task took to execute, compared to the debug message in &lt;tt&gt;calculatePendingRanges&lt;/tt&gt;, which will tell you how long an actual calculation took. &lt;/p&gt;

&lt;p&gt;Otherwise I&apos;ve addressed the mentioned points of yours and will restart tests once cassci is available again. I&apos;ll follow up with the results.&lt;/p&gt;</comment>
                            <comment id="15644323" author="jkni" created="Mon, 7 Nov 2016 14:27:41 +0000"  >&lt;p&gt;Ah, good catch on the aggregate log message spanning the trace and debug cases. That makes a lot of sense - thanks for the explanation. I&apos;ll keep this at the top of my queue for when CI is available.&lt;/p&gt;</comment>
                            <comment id="15646865" author="spodxx@gmail.com" created="Tue, 8 Nov 2016 08:14:56 +0000"  >&lt;p&gt;There we go..&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.X&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-12281-3.X&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-2.2-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.X-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-2.2-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/spodkowinski/job/spodkowinski-CASSANDRA-12281-3.X-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15669481" author="jkni" created="Wed, 16 Nov 2016 05:25:34 +0000"  >&lt;p&gt;Thanks - your changes and CI look good. I also ran CI on your &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12281&quot; title=&quot;Gossip blocks on startup when there are pending range movements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12281&quot;&gt;&lt;del&gt;CASSANDRA-12281&lt;/del&gt;&lt;/a&gt;-trunk branch.&lt;/p&gt;

&lt;p&gt;Note to committer: there are very slight differences in the 2.2/3.0/3.x branches (not in substantial content, but in comments and other minor fixes). The 3.x branch should merge cleanly into trunk, I believe.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15677239" author="iamaleksey" created="Fri, 18 Nov 2016 17:40:21 +0000"  >&lt;p&gt;Committed to 2.2 as &lt;a href=&quot;https://github.com/apache/cassandra/commit/9cd7d540de2ea525982d139a4c8a11233c4e98c9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;9cd7d540de2ea525982d139a4c8a11233c4e98c9&lt;/a&gt; and merged upwards in accordance with Joel&apos;s instructions. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12720949">CASSANDRA-7390</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13017228">CASSANDRA-12870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12839137" name="12281-2.2.patch" size="23954" author="spod" created="Wed, 16 Nov 2016 08:34:53 +0000"/>
                            <attachment id="12839140" name="12281-3.0.patch" size="23744" author="spod" created="Wed, 16 Nov 2016 08:34:53 +0000"/>
                            <attachment id="12839139" name="12281-3.X.patch" size="23711" author="spod" created="Wed, 16 Nov 2016 08:34:53 +0000"/>
                            <attachment id="12839138" name="12281-trunk.patch" size="23489" author="spod" created="Wed, 16 Nov 2016 08:34:53 +0000"/>
                            <attachment id="12819723" name="restbase1015-a_jstack.txt" size="377303" author="urandom" created="Fri, 22 Jul 2016 21:19:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[spod]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ejr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jkni</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jkni]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12334797">2.2.6</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>