<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:14:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1334] cfstats shows deleted cfs</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1334</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;cfstats shows deleted CFs inside the keyspace after the CF was deleted from the keyspace using thrift service call system_drop_column_family&lt;/p&gt;

&lt;p&gt;Steps to Reproduce:&lt;br/&gt;
1. Setup a 3 node cluster with clean slate from trunc;&lt;br/&gt;
2. create a keyspace with rf=2 and a standard cf using service call system_add_keyspace&lt;br/&gt;
3. create another cf with system_add_column_family&lt;br/&gt;
4. batch_mutate some rows into the new column family you created in step 3&lt;br/&gt;
5. call describe_keyspace to get a list of cfs inside your KS&lt;br/&gt;
6. iterate through the result and call system_drop_column_family for each&lt;br/&gt;
7. look at cfstats result. it is still showing the very first cf we create in step 2 in the list&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 5.2&lt;br/&gt;
trunk&lt;/p&gt;</environment>
        <key id="12470463">CASSANDRA-1334</key>
            <summary>cfstats shows deleted cfs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gdusbabek">Gary Dusbabek</assignee>
                                    <reporter username="arya">Arya Goudarzi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jul 2010 19:00:28 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:19 +0000</updated>
                            <resolved>Tue, 3 Aug 2010 20:14:57 +0000</resolved>
                                        <fixVersion>0.7 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12895011" author="jbellis" created="Tue, 3 Aug 2010 19:56:13 +0000"  >&lt;p&gt;should we add a CFS.getMBeanName to remove the potential for that code getting out of sync w/ the register?&lt;/p&gt;

&lt;p&gt;+1 otherwise&lt;/p&gt;</comment>
                            <comment id="12895016" author="gdusbabek" created="Tue, 3 Aug 2010 20:02:06 +0000"  >&lt;p&gt;yeah. that makes good sense.  I&apos;ll put it in when I commit.&lt;/p&gt;</comment>
                            <comment id="12895247" author="hudson" created="Wed, 4 Aug 2010 13:25:31 +0000"  >&lt;p&gt;Integrated in Cassandra #509 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/509/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/509/&lt;/a&gt;)&lt;br/&gt;
    unregister CF mbean when a CF is dropped. patch by gdusbabek, reviewed by jbellis. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1334&quot; title=&quot;cfstats shows deleted cfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1334&quot;&gt;&lt;del&gt;CASSANDRA-1334&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12451149" name="0001-unregiter-CF-mbeans-when-a-CF-is-dropped.patch" size="1331" author="gdusbabek" created="Tue, 3 Aug 2010 19:53:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gdusbabek]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g4fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>