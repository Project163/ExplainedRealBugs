<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:26:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3450] maybeInit in ColumnFamilyRecordReader can cause rows to be empty but not null</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3450</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;1) In &lt;tt&gt;ColumnFamilyRecordReader&lt;/tt&gt; &lt;tt&gt;isPredicateEmpty&lt;/tt&gt; needs bracing to correctly place the &lt;tt&gt;else if&lt;/tt&gt; to the properly controlling &lt;tt&gt;if&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;1a) &lt;tt&gt;isPredicateEmpty&lt;/tt&gt; should use an || in the getSlice_range predicate rather than &amp;amp;&amp;amp;.&lt;/p&gt;

&lt;p&gt;2) In &lt;tt&gt;ColumnFamilyRecordReader&lt;/tt&gt; &lt;tt&gt;computeNext()&lt;/tt&gt; calls &lt;tt&gt;maybeInit()&lt;/tt&gt; and then if &lt;tt&gt;ros&lt;/tt&gt; is not null it is indexed into.  &lt;tt&gt;maybeInit()&lt;/tt&gt; could fetch new data, determine the associated slice predicate is empty, and end up removing all the rows if all columns turned out to be empty.  There is no check for &lt;tt&gt;rows.isEmpty()&lt;/tt&gt; after the possible removal of all rows.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12530083">CASSANDRA-3450</key>
            <summary>maybeInit in ColumnFamilyRecordReader can cause rows to be empty but not null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lannyripple">Lanny Ripple</assignee>
                                    <reporter username="lannyripple">Lanny Ripple</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2011 17:20:51 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:47 +0000</updated>
                            <resolved>Fri, 4 Nov 2011 21:29:00 +0000</resolved>
                                        <fixVersion>0.8.8</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13144360" author="brandon.williams" created="Fri, 4 Nov 2011 21:29:00 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                            <comment id="13144470" author="hudson" created="Sat, 5 Nov 2011 00:05:59 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #393 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra-0.8/393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra-0.8/393/&lt;/a&gt;)&lt;br/&gt;
    Fix empty row filtering and check if there are no rows returned.&lt;br/&gt;
Patch by Lanny Ripple, reviewed by brandonwilliams for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3450&quot; title=&quot;maybeInit in ColumnFamilyRecordReader can cause rows to be empty but not null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3450&quot;&gt;&lt;del&gt;CASSANDRA-3450&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;brandonwilliams : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1197786&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1197786&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13146310" author="tjake" created="Tue, 8 Nov 2011 14:00:07 +0000"  >&lt;p&gt;Reverted this change due to a bug related to single node test failures.  Going to attempt a fresh fix at this and &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2855&quot; title=&quot;Skip rows with empty columns when slicing entire row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2855&quot;&gt;&lt;del&gt;CASSANDRA-2855&lt;/del&gt;&lt;/a&gt;  &lt;/p&gt;</comment>
                            <comment id="13146375" author="hudson" created="Tue, 8 Nov 2011 16:03:09 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #395 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra-0.8/395/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra-0.8/395/&lt;/a&gt;)&lt;br/&gt;
    Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3450&quot; title=&quot;maybeInit in ColumnFamilyRecordReader can cause rows to be empty but not null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3450&quot;&gt;&lt;del&gt;CASSANDRA-3450&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;jake : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1199242&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1199242&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502477" name="ASF.LICENSE.NOT.GRANTED--v1-0001-CASSANDRA-3450.txt" size="5298" author="lannyripple" created="Fri, 4 Nov 2011 16:23:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[lannyripple]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gk1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>