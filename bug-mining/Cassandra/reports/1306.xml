<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:27:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3278] SSLFactory should not enable cipher suites that aren&apos;t supported</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3278</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The socket creation (server or otherwise) in SSLFactory.java calls &lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/javax/net/ssl/SSLServerSocket.html#setEnabledCipherSuites(java.lang.String[])&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;setEnabledCipherSuites&lt;/a&gt; with the values specified in EncryptionOptions.java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] cipherSuites = {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;&lt;/span&gt;, 
    &lt;span class=&quot;code-quote&quot;&gt;&quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;&lt;/span&gt;
};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The call to &lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/javax/net/ssl/SSLServerSocket.html#setEnabledCipherSuites(java.lang.String[])&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;setEnabledCipherSuites&lt;/a&gt; fails on systems that don&apos;t have &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6&lt;/a&gt; because AES256 is not supported.&lt;/p&gt;

&lt;p&gt;To avoid installing the unlimited strength policy file the code in SSLFactory.java should call &lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/javax/net/ssl/SSLServerSocket.html#getSupportedCipherSuites()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;getSupportedCipherSuites&lt;/a&gt; to find out which of the suites specified are supported.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
George&lt;/p&gt;</description>
                <environment>&lt;p&gt;OpenJDK on debian squeeze&lt;/p&gt;</environment>
        <key id="12525224">CASSANDRA-3278</key>
            <summary>SSLFactory should not enable cipher suites that aren&apos;t supported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vijay2win@yahoo.com">Vijay</assignee>
                                    <reporter username="gcristea">George</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Sep 2011 18:21:23 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:50 +0000</updated>
                            <resolved>Tue, 29 Nov 2011 16:42:05 +0000</resolved>
                                        <fixVersion>1.0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13117526" author="jbellis" created="Thu, 29 Sep 2011 18:44:00 +0000"  >&lt;p&gt;Thanks for the bug report, George. It sounds like you have a good handle on this, can you submit a patch?&lt;/p&gt;</comment>
                            <comment id="13117787" author="gcristea" created="Fri, 30 Sep 2011 00:34:44 +0000"  >&lt;p&gt;Sure, I&apos;ll try to get the patch to you by EOD tomorrow. &lt;/p&gt;

&lt;p&gt;Once question: do you see a problem with calling getSupportedCipherSuites and doing the filtering for every socket creation? &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
George&lt;/p&gt;</comment>
                            <comment id="13119794" author="gcristea" created="Tue, 4 Oct 2011 00:24:45 +0000"  >&lt;p&gt;I wasn&apos;t happy with reading the keystore/trusstore files and doing the cipher suites&apos; filtering for each socket creation so I ended up creating two patches:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;cassandra-3278-nocache.txt: Does the filtering, the down side that the filtering is done for each socket that&apos;s created.&lt;/li&gt;
	&lt;li&gt;cassandra-3278-cache.txt: Caches the SSLContext along with the supported cipher suites for server and non-server sockets. The down side is that changing the keystore/truststore requires a restart of the node.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I don&apos;t have enough information to decide which version is preferable, I leave that to you.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
George&lt;/p&gt;</comment>
                            <comment id="13121456" author="vijay2win@yahoo.com" created="Wed, 5 Oct 2011 20:43:57 +0000"  >&lt;p&gt;George,&lt;/p&gt;

&lt;p&gt;Thanks for the patch,&lt;/p&gt;

&lt;p&gt;The problem with the cached is that we need to restart the whole cluster when we change the KS/TS, instead we will have the flexibility if the new connections will just pick it up. We persist the connections untill disconnect hence the performance shouldn&apos;t be a concern. Also there can be variety of ssl client (example fat clients) which may have different sets of supported suits (caching one might not help).&lt;/p&gt;

&lt;p&gt;1) cassandra-3278-nocache isn&apos;t a patch by itself (Can you rebase it?)&lt;br/&gt;
2) in the non cached one, If we can log a info on the filtered suit it will be great,&lt;/p&gt;

&lt;p&gt;Just a side note... I would use Sets.intersection to reduce the amount of code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13122422" author="vijay2win@yahoo.com" created="Thu, 6 Oct 2011 23:46:11 +0000"  >&lt;p&gt;We can also expose some of the available options so the users can choose.&lt;/p&gt;</comment>
                            <comment id="13138499" author="jbellis" created="Fri, 28 Oct 2011 16:26:23 +0000"  >&lt;p&gt;Since Cassandra sockets are long-lived I&apos;m fine with having filter-each-socket being the only option.&lt;/p&gt;</comment>
                            <comment id="13158789" author="brandon.williams" created="Mon, 28 Nov 2011 21:22:26 +0000"  >&lt;p&gt;This looks good, but one minor nit: instead of cipherSuites in the yaml can we use the more idiomatic &apos;cipher_suites&apos;?&lt;/p&gt;</comment>
                            <comment id="13159077" author="vijay2win@yahoo.com" created="Tue, 29 Nov 2011 04:30:32 +0000"  >&lt;p&gt;Done!, the only change between the v1 is change from cipherSuites to cipher_suites. Thanks!&lt;/p&gt;</comment>
                            <comment id="13159349" author="brandon.williams" created="Tue, 29 Nov 2011 16:42:05 +0000"  >&lt;p&gt;Thanks, committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12505446" name="0001-commiting-changes-to-make-the-ks-ts-more-flexible-v2.patch" size="1247" author="vijay2win@yahoo.com" created="Tue, 29 Nov 2011 04:30:32 +0000"/>
                            <attachment id="12498096" name="0001-commiting-filter-for-supported-suits.patch" size="3721" author="vijay2win@yahoo.com" created="Thu, 6 Oct 2011 23:46:11 +0000"/>
                            <attachment id="12498095" name="0002-commiting-changes-to-make-the-ks-ts-more-flexible.patch" size="2989" author="vijay2win@yahoo.com" created="Thu, 6 Oct 2011 23:46:11 +0000"/>
                            <attachment id="12505447" name="0002-commiting-filter-for-supported-suits-v2.patch" size="4842" author="vijay2win@yahoo.com" created="Tue, 29 Nov 2011 04:30:32 +0000"/>
                            <attachment id="12505448" name="0003-expose-the-available-options-in-yaml-v2.patch" size="1042" author="vijay2win@yahoo.com" created="Tue, 29 Nov 2011 04:30:32 +0000"/>
                            <attachment id="12498094" name="0003-expose-the-available-options-in-yaml.patch" size="1066" author="vijay2win@yahoo.com" created="Thu, 6 Oct 2011 23:46:11 +0000"/>
                            <attachment id="12497575" name="cassandra-3278-cache.txt" size="7590" author="gcristea" created="Tue, 4 Oct 2011 00:24:45 +0000"/>
                            <attachment id="12497574" name="cassandra-3278-nocache.txt" size="1562" author="gcristea" created="Tue, 4 Oct 2011 00:24:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[vijay2win@yahoo.com]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ghyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94340</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>