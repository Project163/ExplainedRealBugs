<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:20:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16671] Cassandra can return no row when the row columns have been deleted.</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16671</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;It is the semantic of CQL that a (CQL) row exists as long as it has one non-null column (including the PK columns).&lt;/p&gt;

&lt;p&gt;To determine if a row has some &lt;b&gt;non-null primary key&lt;/b&gt;, Cassandra relies on the row primary key liveness. &lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE test (pk &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, ck &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, v &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, PRIMARY KEY(pk, ck));
INSERT INTO test(pk, ck, v) VALUES (1, 1, 1);
DELETE v FROM test WHERE pk = 1 AND ck = 1
SELECT v FROM test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will return&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
v
---
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;UPDATE&lt;/tt&gt; statements do not set the row primary key liveness by consequence if the user had used an &lt;tt&gt;UPDATE&lt;/tt&gt; statement instead of an &lt;tt&gt;INSERT&lt;/tt&gt; the &lt;tt&gt;SELECT&lt;/tt&gt; query would &lt;b&gt;not have returned any rows&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16226&quot; title=&quot;COMPACT STORAGE SSTables created before 3.0 are not correctly skipped by timestamp due to missing primary key liveness info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16226&quot;&gt;&lt;del&gt;CASSANDRA-16226&lt;/del&gt;&lt;/a&gt; introduced a regression by stopping early in the timestamp ordered logic if an &lt;tt&gt;UPDATE&lt;/tt&gt; statement covering all the columns was found in an SSTable. As the row returned did not have a primary key liveness if another node was also returning a column deletion, the expected row will not be returned.&lt;/p&gt;

&lt;p&gt;The problem can be reproduced with the following test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testSelectWithUpdatedColumnOnOneNodeAndColumnDeletionOnTheOther() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable
    {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (Cluster cluster = init(builder().withNodes(2).start()))
        {
            cluster.schemaChange(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE %s.tbl (pk &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, ck text, v &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, PRIMARY KEY (pk, ck))&quot;&lt;/span&gt;));
            cluster.get(1).executeInternal(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO %s.tbl (pk, ck, v) VALUES (1, &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;, 1) USING TIMESTAMP 1000&quot;&lt;/span&gt;));
            cluster.get(1).flush(KEYSPACE);
            cluster.get(1).executeInternal(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;UPDATE %s.tbl USING TIMESTAMP 2000 SET v = 2 WHERE pk = 1 AND ck = &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;&quot;&lt;/span&gt;));
            cluster.get(1).flush(KEYSPACE);

            cluster.get(2).executeInternal(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;DELETE v FROM %s.tbl USING TIMESTAMP 3000 WHERE pk=1 AND ck=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;&quot;&lt;/span&gt;));
            cluster.get(2).flush(KEYSPACE);

            assertRows(cluster.coordinator(2).execute(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT * FROM %s.tbl WHERE pk=1 AND ck=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;&quot;&lt;/span&gt;), ConsistencyLevel.ALL),
                       row(1, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)); &lt;span class=&quot;code-comment&quot;&gt;// &amp;lt;-- FAIL
&lt;/span&gt;            assertRows(cluster.coordinator(2).execute(withKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT v FROM %s.tbl WHERE pk=1 AND ck=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;&quot;&lt;/span&gt;), ConsistencyLevel.ALL),
                       row((&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;));

        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maedhroz&quot; class=&quot;user-hover&quot; rel=&quot;maedhroz&quot;&gt;maedhroz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13378842">CASSANDRA-16671</key>
            <summary>Cassandra can return no row when the row columns have been deleted.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="blerer">Benjamin Lerer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 May 2021 15:22:27 +0000</created>
                <updated>Mon, 14 Jun 2021 07:26:44 +0000</updated>
                            <resolved>Fri, 11 Jun 2021 09:33:42 +0000</resolved>
                                        <fixVersion>3.0.25</fixVersion>
                    <fixVersion>3.11.11</fixVersion>
                    <fixVersion>4.0-rc2</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="17346292" author="maedhroz" created="Mon, 17 May 2021 17:21:37 +0000"  >&lt;p&gt;The simplest way to revert this logic in a way that doesn&apos;t completely obliterate the fixes for the regressions in compact table query performance &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16226&quot; title=&quot;COMPACT STORAGE SSTables created before 3.0 are not correctly skipped by timestamp due to missing primary key liveness info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16226&quot;&gt;&lt;del&gt;CASSANDRA-16226&lt;/del&gt;&lt;/a&gt; was intended to address would probably be the original patch for that issue: &lt;a href=&quot;https://github.com/apache/cassandra/pull/789/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/789/files&lt;/a&gt;. This simply doesn&apos;t account for the related regression in query performance that might result from subsequently dropping compact storage on the table (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16226?focusedCommentId=17221593&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17221593&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-16226?focusedCommentId=17221593&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17221593&lt;/a&gt;.)&lt;/p&gt;</comment>
                            <comment id="17346419" author="maedhroz" created="Mon, 17 May 2021 20:20:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; I&apos;ve had a chance to read back through this, and to page back into my brain the entire conversation around &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16226&quot; title=&quot;COMPACT STORAGE SSTables created before 3.0 are not correctly skipped by timestamp due to missing primary key liveness info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16226&quot;&gt;&lt;del&gt;CASSANDRA-16226&lt;/del&gt;&lt;/a&gt;. Right now, the logic in &lt;tt&gt;SPRC#isRowComplete()&lt;/tt&gt; essentially chooses to preserve read performance (for tables that transition from using compact storage to dropping it) at the cost of maintaining the CQL treatment of empty rows in result sets. (This was even &lt;a href=&quot;https://cassandra.apache.org/doc/latest/cql/appendices.html#appendix-c-dropping-compact-storage&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documented&lt;/a&gt; as part of the change.) In other words, a CQL table can return empty rows the way a compact table would have. For applications used to handling empty rows that way (i.e. applications written when the table was initially compact), this probably isn&apos;t such a burden. What&apos;s not ideal is the behavior reported above, where a table that has never been compact does this.&lt;/p&gt;

&lt;p&gt;It would still be nice to try to avoid having to write extra metadata at the SSTable level, a format version bump, etc. What if, instead of that path, we just record in a system table (and pull into &lt;tt&gt;TableMetadata&lt;/tt&gt;) the time when DROP COMPACT STORAGE is executed. If a time exists for that table, we can treat it as being formerly compact, and leave the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16226&quot; title=&quot;COMPACT STORAGE SSTables created before 3.0 are not correctly skipped by timestamp due to missing primary key liveness info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16226&quot;&gt;&lt;del&gt;CASSANDRA-16226&lt;/del&gt;&lt;/a&gt; logic essentially the same. However, if there is no drop time, and a table is currently not compact, we can assume the table has always been non-compact, and reintroduce the short circuit test in &lt;tt&gt;SPRC#isRowComplete()&lt;/tt&gt; that would avoid the issue reported here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;if (row.primaryKeyLivenessInfo().isEmpty() || row.primaryKeyLivenessInfo().timestamp() &amp;lt;= sstableTimestamp)
    return false;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This would put us in a situation where we would only persist in allowing the pre-CQL representation of empty rows when we have truly ambiguous data on disk (i.e. rows in SSTables written before DROP CS where we have no idea whether they got there via UPDATE or INSERT).&lt;/p&gt;</comment>
                            <comment id="17346800" author="blerer" created="Tue, 18 May 2021 11:04:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;It would still be nice to try to avoid having to write extra metadata at the SSTable level, a format version bump, etc.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16619&quot; title=&quot;Loss of commit log data possible after sstable ingest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16619&quot;&gt;&lt;del&gt;CASSANDRA-16619&lt;/del&gt;&lt;/a&gt; introduce a new format version and it has not been released yet. So, introducing a new flag right now should not be an issue.&lt;/p&gt;

&lt;p&gt;Both approach: storing the drop compact timestamp in the &lt;tt&gt;TableSchema&lt;/tt&gt; and comparing it to the SSTables &lt;tt&gt;maxDataAge&lt;/tt&gt; or looking at an &lt;tt&gt;isCompact&lt;/tt&gt; flag in the SSTable metadata should work in my opinion.&lt;/p&gt;

&lt;p&gt;Having some sort of flag in the &lt;tt&gt;TableSchema&lt;/tt&gt; like the drop compact timestamp might prove itself more useful than the information at the SSTable level for fixing the other issues that exists currently with &lt;tt&gt;DROP COMPACT STORAGE&lt;/tt&gt;. So, I would probably go this way.&lt;/p&gt;

&lt;p&gt;Considering the fact that &lt;tt&gt;DROP COMPACT STORAGE&lt;/tt&gt; is far from being production ready and that fixing its performance issue require some specific changes, we should probably try to fix it in a different ticket. What do you think?&lt;/p&gt;</comment>
                            <comment id="17347004" author="maedhroz" created="Tue, 18 May 2021 15:28:18 +0000"  >&lt;p&gt;Summary of a chat w/ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;...&lt;/p&gt;

&lt;p&gt;1.) We&apos;ll make the minimal change in this Jira to preserve the never-compact/CQL empty row behavior, which is likely just the &lt;a href=&quot;https://github.com/apache/cassandra/pull/789/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;original solution&lt;/a&gt; for 16226. In addition, I&apos;d suggest we simply disable DROP COMPACT STORAGE by default (with a runtime-configurable override on &lt;tt&gt;StorageProxyMBean&lt;/tt&gt;) for now if we really don&apos;t think it&apos;s production ready, for the possible performance regression issues outlined above...or any other reason.&lt;/p&gt;

&lt;p&gt;2.) I&apos;ll create a follow-up issue, preferably just for 4.0.x, that addresses the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16671?focusedCommentId=17346419&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17346419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;TableMetadata-based solution&lt;/a&gt; described above, which seems like the least invasive way to arrive at the behavior we want in almost every case. (UPDATE: See &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16675&quot; title=&quot;Preserve Query Performance with ClusteringIndexNamesFilter After Running DROP COMPACT STORAGE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16675&quot;&gt;CASSANDRA-16675&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17360898" author="blerer" created="Thu, 10 Jun 2021 13:33:57 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Branches &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; CI &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/cassandra/pull/1041&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/blerer/cassandra/141/workflows/78828f57-1f7e-48ec-ba86-09fe2c20b008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;J8&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/cassandra/pull/1042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/blerer/cassandra/142/workflows/317e57ec-70bf-4a9e-a7cd-42ae88457698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;J8&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/cassandra/pull/1054&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/blerer/cassandra/144/workflows/a853b951-e115-4648-9f1e-713de142ca4a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;J8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/blerer/cassandra/144/workflows/c459c1b3-697d-43d3-958a-dd32b4d37dae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;J11&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maedhroz&quot; class=&quot;user-hover&quot; rel=&quot;maedhroz&quot;&gt;maedhroz&lt;/a&gt; The patch is the one that you suggested. The patch simply add extra tests on top of that. Those test lead me to discover &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16712&quot; title=&quot;DROP COMPACT STORAGE does not invalidate prepared statements as it should &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16712&quot;&gt;&lt;del&gt;CASSANDRA-16712&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16686&quot; title=&quot;Queries returning static content when the partition has no rows might fail to return some rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16686&quot;&gt;&lt;del&gt;CASSANDRA-16686&lt;/del&gt;&lt;/a&gt;   &lt;/p&gt;</comment>
                            <comment id="17361185" author="maedhroz" created="Thu, 10 Jun 2021 19:07:52 +0000"  >&lt;p&gt;All three branches LGTM. (Dropped a couple inconsequential nits in &lt;a href=&quot;https://github.com/apache/cassandra/pull/1041&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the 3.0 PR&lt;/a&gt;.)&lt;/p&gt;

&lt;p&gt;Thanks for the additional test coverage!&lt;/p&gt;</comment>
                            <comment id="17361562" author="blerer" created="Fri, 11 Jun 2021 09:05:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maedhroz&quot; class=&quot;user-hover&quot; rel=&quot;maedhroz&quot;&gt;maedhroz&lt;/a&gt; thanks for the fast review. &lt;br/&gt;
Sorry, I missed the nits in 3.0 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I have a followup patch that will touch this area on 3.0. I will incorporate them in it.  &lt;/p&gt;</comment>
                            <comment id="17361574" author="blerer" created="Fri, 11 Jun 2021 09:33:42 +0000"  >&lt;p&gt;Committed into 3.0 at 24346d17899df8610a5f425c7074ddd5dc8082bb and merged into 3.11, 4.0.0, 4.0 and trunk&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13336991">CASSANDRA-16226</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13379727">CASSANDRA-16686</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13382092">CASSANDRA-16712</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13379113">CASSANDRA-16675</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0r3m0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[maedhroz]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12349350">3.11.10</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/24346d17899df8610a5f425c7074ddd5dc8082bb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/24346d17899df8610a5f425c7074ddd5dc8082bb&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;The patches add several extra unit tests and in-jvm dtests&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>