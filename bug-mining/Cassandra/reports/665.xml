<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:18:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2023] fix regression in 1968 (young gen sizing logic)</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2023</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;1968 introduced a regression (there was still cleanup to do). In particular it broke when an explicit MAX_HEAP_SIZE was set. Attaching &lt;b&gt;draft&lt;/b&gt; patch (needs more testing).&lt;/p&gt;

&lt;p&gt;Allowing automatic newsize calculation in the face of a manually specified MAX_HEAP_SIZE was problematic. Either one has to duplicate JVM parsing of MAX_HEAP_SIZE or ask the user to set MAX_HEAP_SIZE_IN_MB (or similar) instead.&lt;/p&gt;

&lt;p&gt;In this patch (consider it a draft) i opted for the latter + picking up MAX_HEAP_SIZE for backwards compatibility (but with the effect that it disables new size calculation). I tried to make it slightly more posixly correct, but as usual no guarantees given that I have no posix shell to test it on.&lt;/p&gt;

&lt;p&gt;I&apos;m not really happy about the shell acrobatics and my confidence that there is not some left-over issue is not high. Should we just not worry about MAX_HEAP_SIZE compatibility and remove all that compatibility cruft? Plenty of acrobatics left still, but it would remove the more hideous parts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496207">CASSANDRA-2023</key>
            <summary>fix regression in 1968 (young gen sizing logic)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="scode">Peter Schuller</assignee>
                                    <reporter username="scode">Peter Schuller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 00:57:19 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:08 +0000</updated>
                            <resolved>Mon, 24 Jan 2011 19:40:36 +0000</resolved>
                                        <fixVersion>0.7.1</fixVersion>
                                    <component>Packaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984549" author="jbellis" created="Fri, 21 Jan 2011 03:56:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;automatic newsize calculation in the face of a manually specified MAX_HEAP_SIZE was problematic. Either one has to duplicate JVM parsing of MAX_HEAP_SIZE or ask the user to set MAX_HEAP_SIZE_IN_MB (or similar) instead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would rather say &quot;if you manually specify MAX_HEAP_SIZE, you must also specify HEAP_NEWSIZE.&quot;&lt;/p&gt;</comment>
                            <comment id="12984608" author="scode" created="Fri, 21 Jan 2011 08:24:39 +0000"  >&lt;p&gt;v2 is significantly simpler and cleaner (IMO). Tested on MacOS and Linux.&lt;/p&gt;

&lt;p&gt;FWIW, the reason I didn&apos;t do &quot;must set both&quot; initially is that I felt the new size was a lot more obscure/advanced than merely setting heap size. v2 tries to mitigate this by documenting what to do if unsure/don&apos;t care.&lt;/p&gt;
</comment>
                            <comment id="12985938" author="urandom" created="Mon, 24 Jan 2011 19:40:36 +0000"  >&lt;p&gt;Please avoid making unrelated changes to whitespace/styling as it makes review more difficult.  Otherwise, it looks good.&lt;/p&gt;

&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="12985951" author="hudson" created="Mon, 24 Jan 2011 19:59:37 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #199 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/199/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/199/&lt;/a&gt;)&lt;br/&gt;
    fix young gen sizing logic&lt;/p&gt;

&lt;p&gt;Patch by Peter Shuller (w/ minor changes); review by eevans for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2023&quot; title=&quot;fix regression in 1968 (young gen sizing logic)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2023&quot;&gt;&lt;del&gt;CASSANDRA-2023&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12985966" author="hudson" created="Mon, 24 Jan 2011 20:31:50 +0000"  >&lt;p&gt;Integrated in Cassandra #687 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/687/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/687/&lt;/a&gt;)&lt;br/&gt;
    fix young gen sizing logic&lt;/p&gt;

&lt;p&gt;Patch by Peter Shuller (w/ minor changes); review by eevans for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2023&quot; title=&quot;fix regression in 1968 (young gen sizing logic)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2023&quot;&gt;&lt;del&gt;CASSANDRA-2023&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468957" name="2023-v2.txt" size="4042" author="scode" created="Fri, 21 Jan 2011 08:24:39 +0000"/>
                            <attachment id="12468935" name="2023.txt" size="3777" author="scode" created="Fri, 21 Jan 2011 00:57:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[scode]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g8un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>urandom</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[urandom]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>