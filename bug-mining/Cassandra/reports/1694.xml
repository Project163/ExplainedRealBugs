<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:33:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4432] Change nanoTime() to currentTimeInMillis() in schema related code.</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4432</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;From nanoTime() description:&lt;/p&gt;

&lt;p&gt;&quot;The value returned represents nanoseconds since some fixed but arbitrary time (perhaps in the future, so values may be negative). This method provides nanosecond precision, but not necessarily nanosecond accuracy. No guarantees are made about how frequently values change.&quot;&lt;/p&gt;

&lt;p&gt;Also see &lt;a href=&quot;http://www.mail-archive.com/dev@cassandra.apache.org/msg04992.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@cassandra.apache.org/msg04992.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598217">CASSANDRA-4432</key>
            <summary>Change nanoTime() to currentTimeInMillis() in schema related code.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="xedin">Pavel Yaskevich</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jul 2012 16:51:58 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:30 +0000</updated>
                            <resolved>Tue, 10 Jul 2012 17:17:48 +0000</resolved>
                                        <fixVersion>1.1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13410551" author="jbellis" created="Tue, 10 Jul 2012 17:08:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13410552" author="mtheroux2" created="Tue, 10 Jul 2012 17:09:54 +0000"  >&lt;p&gt;In order to be consistent with timestamps elsewhere, shouldn&apos;t the changes read System.currentTimeMills * 1000?&lt;/p&gt;</comment>
                            <comment id="13410557" author="xedin" created="Tue, 10 Jul 2012 17:14:14 +0000"  >&lt;p&gt;We have millis * 1000 for columns but I don&apos;t see a reason to do that for schema as all columns would be created with the same millis resolution by all migrations.&lt;/p&gt;</comment>
                            <comment id="13410559" author="mtheroux2" created="Tue, 10 Jul 2012 17:17:28 +0000"  >&lt;p&gt;Its a consideration for existing users.  Any user who would have created a keyspace before this fix, will have timestamps in whatever System.nanoTime() returns.  The bigger you make the timestamp, the less users will be stuck attempting to fix their timestamps so they can update their schema (I guess using sstable2json?).  Plus, its consistent with columns &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="13410560" author="xedin" created="Tue, 10 Jul 2012 17:17:57 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13410562" author="slebresne" created="Tue, 10 Jul 2012 17:18:28 +0000"  >&lt;p&gt;I suppose that since we&apos;ll access the system table (including the schema) directly in CQL3, it might be worth using micro-seconds.&lt;/p&gt;</comment>
                            <comment id="13410571" author="jbellis" created="Tue, 10 Jul 2012 17:23:22 +0000"  >&lt;p&gt;Good point.&lt;/p&gt;</comment>
                            <comment id="13410577" author="xedin" created="Tue, 10 Jul 2012 17:26:42 +0000"  >&lt;p&gt;Ok, I will add * 1000 there.&lt;/p&gt;</comment>
                            <comment id="13410594" author="slebresne" created="Tue, 10 Jul 2012 17:39:26 +0000"  >&lt;p&gt;nit: we have a FBUtilities.timestampMicros()&lt;/p&gt;</comment>
                            <comment id="13410606" author="xedin" created="Tue, 10 Jul 2012 17:42:16 +0000"  >&lt;p&gt;Right, this is what I was thinking about &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13410878" author="xedin" created="Tue, 10 Jul 2012 20:46:26 +0000"  >&lt;p&gt;Committed change to timestampMicros().&lt;/p&gt;</comment>
                            <comment id="13410983" author="hudson" created="Tue, 10 Jul 2012 22:08:22 +0000"  >&lt;p&gt;Integrated in Cassandra #1673 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/1673/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/1673/&lt;/a&gt;)&lt;br/&gt;
    change System.currentTimeMillis() to FBUtilities.timestampMicros(), related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4432&quot; title=&quot;Change nanoTime() to currentTimeInMillis() in schema related code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4432&quot;&gt;&lt;del&gt;CASSANDRA-4432&lt;/del&gt;&lt;/a&gt; (Revision 346ac03c29cd1fe763bd01077a5e0c59f12181b3)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/service/MigrationManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12535872" name="CASSANDRA-4432.patch" size="3369" author="xedin" created="Tue, 10 Jul 2012 17:00:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gvt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>