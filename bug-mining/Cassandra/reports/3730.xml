<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:55:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9913] Select * is only returning the first page of data on trunk</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9913</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While doing some testing on the validation harness, I have run into a pretty trivially reproducible problem.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ccm create test -v git:trunk -n 1 -s
ccm node1 stress write n=2M
ccm node1 cqlsh
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Use keyspace1;
Select * From standard1; (100 rows)
Select count(*) from standard1; (300 rows)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Despite two million rows being written, I have found that &lt;tt&gt;select * from standard1&lt;/tt&gt; only returns one page&apos;s worth of data. I have used both the java and the python driver to test this. I have also found that &lt;tt&gt;select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from standard1&lt;/tt&gt; gives a multiple of one page&apos;s worth of data, that appears to correspond to page size * RF.&lt;/p&gt;

&lt;p&gt;I have already tried with the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9775&quot; title=&quot;some paging dtests fail/flap on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9775&quot;&gt;&lt;del&gt;CASSANDRA-9775&lt;/del&gt;&lt;/a&gt;, and that did not resolve this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12849707">CASSANDRA-9913</key>
            <summary>Select * is only returning the first page of data on trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="philipthompson">Philip Thompson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jul 2015 18:58:06 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:02 +0000</updated>
                            <resolved>Mon, 10 Aug 2015 13:15:25 +0000</resolved>
                                        <fixVersion>3.0 beta 1</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14655272" author="blerer" created="Wed, 5 Aug 2015 12:27:51 +0000"  >&lt;p&gt;The patch fix 2 problems:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;For the &lt;tt&gt;SELECT * FROM Standard1&lt;/tt&gt; query, the problem was that the query was considered wrongly as a range query. It was due to the fake clustering column &lt;tt&gt;column1&lt;/tt&gt; that is part of the static compact tables schema. The patch make sure that the column is ignored for static compact tables.&lt;/li&gt;
	&lt;li&gt;For the &lt;tt&gt;SELECT count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM Standard1&lt;/tt&gt; query, the problem was caused by the fact that the &lt;tt&gt;RowIterator&lt;/tt&gt; was not closed.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14655274" author="blerer" created="Wed, 5 Aug 2015 12:28:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt; could you review?&lt;/p&gt;</comment>
                            <comment id="14658239" author="iamaleksey" created="Wed, 5 Aug 2015 13:50:09 +0000"  >&lt;p&gt;Sure.&lt;/p&gt;</comment>
                            <comment id="14679474" author="stefania" created="Mon, 10 Aug 2015 02:05:55 +0000"  >&lt;p&gt;The patch is +1.&lt;/p&gt;

&lt;p&gt;Is there absolutely no way to cover these two cases with unit tests and are static compact tables the only ones with &quot;fake&quot; clustering columns?&lt;/p&gt;</comment>
                            <comment id="14680064" author="blerer" created="Mon, 10 Aug 2015 13:02:00 +0000"  >&lt;p&gt;Thanks for the review.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is there absolutely no way to cover these two cases with unit tests and are static compact tables the only ones with &quot;fake&quot; clustering columns?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I tried to add Unit tests for the problem. The problem that I faced was that the path was not the same than for the client paging. Due to that the effect of the problem was different. I discussed with Aleksey offline and we decided to rely only on the DTests for this issue.&lt;/p&gt;

&lt;p&gt;Based on my understanding of compact tables, I think that we should only have this problem for static compact tables.&lt;/p&gt;</comment>
                            <comment id="14680087" author="blerer" created="Mon, 10 Aug 2015 13:15:25 +0000"  >&lt;p&gt;commit: e98be186d1e39c45aa34e6ea995f0bf718b99015&lt;/p&gt;</comment>
                            <comment id="14680127" author="stefania" created="Mon, 10 Aug 2015 13:48:42 +0000"  >&lt;p&gt;Thanks for the clarification.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12748849" name="9913.txt" size="2412" author="blerer" created="Wed, 5 Aug 2015 12:27:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i17b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>stefania</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefania]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>