<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:08:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13371] Remove legacy auth tables support</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13371</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Starting with Cassandra 3.0, we include support for converting pre &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7653&quot; title=&quot;Add role based access control to Cassandra&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7653&quot;&gt;&lt;del&gt;CASSANDRA-7653&lt;/del&gt;&lt;/a&gt; user tables, until they will be dropped by the operator. Converting e.g. permissions happens by simply copying all of them from &lt;tt&gt;permissions&lt;/tt&gt; -&amp;gt; &lt;tt&gt;role_permissions&lt;/tt&gt;, until the &lt;tt&gt;permissions&lt;/tt&gt; table has been dropped.&lt;/p&gt;

&lt;p&gt;Upgrading to 4.0 will only be possible from 3.0 upwards, so I think it&apos;s safe to assume that the new permissions table has already been populated, whether the old table was dropped or not. Therefor I&apos;d suggest to just get rid of the legacy support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058575">CASSANDRA-13371</key>
            <summary>Remove legacy auth tables support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spod">Stefan Podkowinski</assignee>
                                    <reporter username="spod">Stefan Podkowinski</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Thu, 23 Mar 2017 12:48:59 +0000</created>
                <updated>Tue, 14 Oct 2025 12:13:54 +0000</updated>
                            <resolved>Thu, 3 Aug 2017 10:59:14 +0000</resolved>
                                        <fixVersion>3.0.15</fixVersion>
                    <fixVersion>3.11.1</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Feature/Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16073380" author="spodxx@gmail.com" created="Tue, 4 Jul 2017 09:21:54 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-13371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://circleci.com/gh/spodkowinski/cassandra/75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;test-all&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/111/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16100149" author="snazy" created="Tue, 25 Jul 2017 14:58:34 +0000"  >&lt;p&gt;Code looks good to me (pretty much identical to &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...snazy:13729-remove-legacy-auth-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this branch&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13729&quot; title=&quot;Remove legacy code from PasswordAuthenticator + CassandraAuthorizer + CassandraRoleManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13729&quot;&gt;&lt;del&gt;CASSANDRA-13729&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Except, it&apos;s missing a startup check and a unit test for that.&lt;br/&gt;
The startup check is necessary as people may still be effectively using the old auth tables.&lt;/p&gt;</comment>
                            <comment id="16102887" author="spodxx@gmail.com" created="Thu, 27 Jul 2017 07:53:45 +0000"  >&lt;p&gt;I&apos;ve rebased the patch and added the startup check, test and NEWS.txt of yours. &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-13371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://circleci.com/gh/spodkowinski/cassandra/tree/CASSANDRA-13371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;test-all&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/150/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Btw, there&apos;s also &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13662&quot; title=&quot;Remove unsupported CREDENTIALS message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13662&quot;&gt;&lt;del&gt;CASSANDRA-13662&lt;/del&gt;&lt;/a&gt; if you&apos;re interested in further cleanup for trunk.&lt;/p&gt;</comment>
                            <comment id="16104870" author="snazy" created="Fri, 28 Jul 2017 12:14:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Just two nits, feel free to do those on commit:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;CassandraRoleManager.getRoleFromTable&lt;/tt&gt; is only used from &lt;tt&gt;getRole&lt;/tt&gt; - code can be moved into &lt;tt&gt;getRole&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;import org.apache.cassandra.schema.Schema;&lt;/tt&gt; is no longer needed in PasswordAuthenticator&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16105519" author="JIRAUSER308715" created="Fri, 28 Jul 2017 19:10:21 +0000"  >&lt;p&gt;We should probably also add a WARN on 3.0/3.11 if the legacy tables are being used, especially if we are going to not allow upgrading if you still have them around.&lt;/p&gt;</comment>
                            <comment id="16106075" author="snazy" created="Sat, 29 Jul 2017 08:26:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt; can you provide a patch for what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjordan&quot; class=&quot;user-hover&quot; rel=&quot;jjordan&quot;&gt;jjordan&lt;/a&gt; proposed?&lt;/p&gt;</comment>
                            <comment id="16107264" author="spodxx@gmail.com" created="Mon, 31 Jul 2017 12:43:38 +0000"  >&lt;p&gt;How about using the startup check for that and make it log to warn in 3.0/3.11 and start throwing a StartupException in 4.0?&lt;/p&gt;
</comment>
                            <comment id="16107269" author="snazy" created="Mon, 31 Jul 2017 12:45:35 +0000"  >&lt;p&gt;Yea - just log a warning in 3.0 &amp;amp; 3.x.&lt;/p&gt;</comment>
                            <comment id="16107335" author="spodxx@gmail.com" created="Mon, 31 Jul 2017 13:53:49 +0000"  >&lt;p&gt;Had to change the API for the startup check a bit and had to update the corresponding test for backporting...&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.11&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-13371-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-13371-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/spodkowinski/cassandra/tree/CASSANDRA-13371-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/spodkowinski/cassandra/tree/CASSANDRA-13371-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/spodkowinski/cassandra/tree/CASSANDRA-13371-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/spodkowinski/cassandra/tree/CASSANDRA-13371-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

</comment>
                            <comment id="16107356" author="snazy" created="Mon, 31 Jul 2017 14:18:30 +0000"  >&lt;p&gt;One thing in the 3.0 + 3.11 branches: Better don&apos;t reference the classes &lt;tt&gt;PasswordAuthenticator&lt;/tt&gt;, &lt;tt&gt;CassandraRoleManager&lt;/tt&gt;, &lt;tt&gt;CassandraAuthorizer&lt;/tt&gt; but use the table names as strings for the &lt;tt&gt;LEGACY_AUTH_TABLES&lt;/tt&gt; constant. Referencing the classes may unintentionally initialize stuff.&lt;br/&gt;
Beside that: +1 - feel free to  fix that on commit.&lt;/p&gt;</comment>
                            <comment id="16112565" author="spodxx@gmail.com" created="Thu, 3 Aug 2017 10:59:14 +0000"  >&lt;p&gt;Committed as d74ed4b78886c to 3.0. Merged to 3.11 and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[spod]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cp1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>snazy</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[snazy]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>