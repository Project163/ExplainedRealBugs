<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:06:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13246] Querying by secondary index on collection column returns NullPointerException sometimes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13246</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Not sure if this is the absolute minimal case that produces the bug, but here are the steps for reproducing.&lt;/p&gt;

&lt;p&gt;1. Create table&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE test (
id text,
ck1 text,
ck2 text,
static_value text &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,
set_value set&amp;lt;text&amp;gt;,
primary key (id, ck1, ck2)
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. Create secondary indices on the clustering columns, static column, and collection column&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create index on test (set_value);
create index on test (static_value);
create index on test (ck1);
create index on test (ck2);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. Insert a null value into the `set_value` column&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert into test (id, ck1, ck2, static_value, set_value) values (&lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;key1&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;key2&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;&apos;&lt;/span&gt;, {&lt;span class=&quot;code-quote&quot;&gt;&apos;one&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;two&apos;&lt;/span&gt;} );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Sanity check: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from test;

 id | ck1  | ck2  | static_value | set_value
----+------+------+--------------+----------------
 id | key1 | key2 |       &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; | {&lt;span class=&quot;code-quote&quot;&gt;&apos;one&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;two&apos;&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;4. Set the set_value to be empty&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;update test set set_value = {} where id = &lt;span class=&quot;code-quote&quot;&gt;&apos;id&apos;&lt;/span&gt; and ck1 = &lt;span class=&quot;code-quote&quot;&gt;&apos;key1&apos;&lt;/span&gt; and ck2 = &lt;span class=&quot;code-quote&quot;&gt;&apos;key2&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;5. Make a select query that uses `CONTAINS` in the `set_value` column&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from test where ck2 = &lt;span class=&quot;code-quote&quot;&gt;&apos;key2&apos;&lt;/span&gt; and static_value = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;&apos;&lt;/span&gt; and set_value contains &lt;span class=&quot;code-quote&quot;&gt;&apos;one&apos;&lt;/span&gt; allow filtering;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here we get a ReadFailure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ReadFailure: Error from server: code=1300 [Replica(s) failed to execute read] message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Operation failed - received 0 responses and 1 failures&quot;&lt;/span&gt; info={&lt;span class=&quot;code-quote&quot;&gt;&apos;failures&apos;&lt;/span&gt;: 1, &lt;span class=&quot;code-quote&quot;&gt;&apos;received_responses&apos;&lt;/span&gt;: 0, &lt;span class=&quot;code-quote&quot;&gt;&apos;required_responses&apos;&lt;/span&gt;: 1, &lt;span class=&quot;code-quote&quot;&gt;&apos;consistency&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;ONE&apos;&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Logs show a NullPointerException&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.RuntimeException: java.lang.NullPointerException
       	at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2470) ~[apache-cassandra-3.7.jar:3.7]
       	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_101]
       	at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$FutureTask.run(AbstractLocalAwareExecutorService.java:164) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$LocalSessionFutureTask.run(AbstractLocalAwareExecutorService.java:136) [apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105) [apache-cassandra-3.7.jar:3.7]
       	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.8.0_101]
Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
       	at org.apache.cassandra.db.filter.RowFilter$SimpleExpression.isSatisfiedBy(RowFilter.java:720) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.filter.RowFilter$CQLFilter$1IsSatisfiedFilter.applyToRow(RowFilter.java:303) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:120) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.filter.RowFilter$CQLFilter$1IsSatisfiedFilter.applyToPartition(RowFilter.java:293) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.filter.RowFilter$CQLFilter$1IsSatisfiedFilter.applyToPartition(RowFilter.java:281) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:76) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.partitions.UnfilteredPartitionIterators$Serializer.serialize(UnfilteredPartitionIterators.java:289) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.ReadResponse$LocalDataResponse.build(ReadResponse.java:134) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.ReadResponse$LocalDataResponse.&amp;lt;init&amp;gt;(ReadResponse.java:127) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.ReadResponse$LocalDataResponse.&amp;lt;init&amp;gt;(ReadResponse.java:123) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.ReadResponse.createDataResponse(ReadResponse.java:65) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.db.ReadCommand.createResponse(ReadCommand.java:292) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.service.StorageProxy$LocalReadRunnable.runMayThrow(StorageProxy.java:1799) ~[apache-cassandra-3.7.jar:3.7]
       	at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2466) ~[apache-cassandra-3.7.jar:3.7]
       	... 5 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;cqlsh 5.0.1 | Cassandra 3.7 | CQL spec 3.4.2 | Native protocol v4&amp;#93;&lt;/span&gt; &lt;br/&gt;
One cassandra node up, with consistency ONE&lt;/p&gt;</environment>
        <key id="13044989">CASSANDRA-13246</key>
            <summary>Querying by secondary index on collection column returns NullPointerException sometimes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hochung">hochung</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Tue, 21 Feb 2017 22:24:37 +0000</created>
                <updated>Fri, 15 May 2020 08:06:24 +0000</updated>
                            <resolved>Mon, 20 Mar 2017 11:43:37 +0000</resolved>
                                        <fixVersion>3.0.13</fixVersion>
                    <fixVersion>3.11.0</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Feature/2i Index</component>
                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15907385" author="githubbot" created="Mon, 13 Mar 2017 12:44:49 +0000"  >&lt;p&gt;Github user MikkelTAndersen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ahh sorry - it seems to complicated, its a simple null check - any chance&lt;br/&gt;
    you can add it Alex ? I have attached the patch.&lt;/p&gt;

&lt;p&gt;    On Mon, Mar 13, 2017 at 1:38 PM, Alex Petrov &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; Hi @MikkelTAndersen &amp;lt;&lt;a href=&quot;https://github.com/MikkelTAndersen&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/MikkelTAndersen&lt;/a&gt;&amp;gt;. Cassandra does&lt;br/&gt;
    &amp;gt; not use pull requests for Apache Cassandra. Please use JIRA directly.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; You can get more information on the contribution process here&lt;br/&gt;
    &amp;gt; &lt;a href=&quot;https://wiki.apache.org/cassandra/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/cassandra/HowToContribute&lt;/a&gt;&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; You are receiving this because you were mentioned.&lt;br/&gt;
    &amp;gt; Reply to this email directly, view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/98#issuecomment-286095410&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/98#issuecomment-286095410&lt;/a&gt;&amp;gt;, or mute&lt;br/&gt;
    &amp;gt; the thread&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/AACsNo9UVdqa6Ygr4N2jwfUj-0ithzS7ks5rlTi8gaJpZM4MbArn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/AACsNo9UVdqa6Ygr4N2jwfUj-0ithzS7ks5rlTi8gaJpZM4MbArn&lt;/a&gt;&amp;gt;&lt;br/&gt;
    &amp;gt; .&lt;br/&gt;
    &amp;gt;&lt;/p&gt;



&lt;p&gt;    &amp;#8211; &lt;br/&gt;
    Venlig Hilsen&lt;br/&gt;
    Mikkel T. Andersen&lt;br/&gt;
    Skjoldborgvej 8&lt;br/&gt;
    7100 Vejle&lt;br/&gt;
    Mobil: +45 40 26 79 26&lt;/p&gt;

&lt;p&gt;    From dac39d0268ba82b6be033e0c63ebd653ae0517cc Mon Sep 17 00:00:00 2001&lt;br/&gt;
    From: Mikkel Andersen &amp;lt;mikkel.t.andersen@gmail.com&amp;gt;&lt;br/&gt;
    Date: Mon, 13 Mar 2017 10:21:27 +0100&lt;br/&gt;
    Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; added null check - see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13246&quot; title=&quot;Querying by secondary index on collection column returns NullPointerException sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13246&quot;&gt;&lt;del&gt;CASSANDRA-13246&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     .../org/apache/cassandra/db/filter/RowFilter.java  | 22 ++++++++++++----------&lt;br/&gt;
     1 file changed, 12 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 10 deletions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    diff --git a/src/java/org/apache/cassandra/db/filter/RowFilter.java b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    index bf65e96..c26c1ad 100644&lt;br/&gt;
    &amp;#8212; a/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    +++ b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    @@ -611,17 +611,19 @@ public abstract class RowFilter implements Iterable&amp;lt;RowFilter.Expression&amp;gt;&lt;br/&gt;
                         if (column.isComplex())&lt;br/&gt;
                         {&lt;br/&gt;
                             ComplexColumnData complexData = row.getComplexColumnData(column);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for (Cell cell : complexData)&lt;/li&gt;
	&lt;li&gt;{&lt;/li&gt;
	&lt;li&gt;if (type.kind == CollectionType.Kind.SET)&lt;/li&gt;
	&lt;li&gt;{
    -                                if (type.nameComparator().compare(cell.path().get(0), value) == 0)
    -                                    return true;
    -                            }&lt;/li&gt;
	&lt;li&gt;else&lt;br/&gt;
    +                        if (complexData != null) {&lt;br/&gt;
    +                            for (Cell cell : complexData)&lt;br/&gt;
                                 {&lt;/li&gt;
	&lt;li&gt;if (type.valueComparator().compare(cell.value(), value) == 0)&lt;/li&gt;
	&lt;li&gt;return true;&lt;br/&gt;
    +                                if (type.kind == CollectionType.Kind.SET)&lt;br/&gt;
    +                                
{
    +                                    if (type.nameComparator().compare(cell.path().get(0), value) == 0)
    +                                        return true;
    +                                }
&lt;p&gt;    +                                else&lt;br/&gt;
    +                                &lt;/p&gt;
{
    +                                    if (type.valueComparator().compare(cell.value(), value) == 0)
    +                                        return true;
    +                                }
&lt;p&gt;                                 }&lt;br/&gt;
                             }&lt;br/&gt;
                             return false;&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;&lt;br/&gt;
    2.0.1&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    From 145087e3b5d748ce25e8792f91c249d2a05de3e5 Mon Sep 17 00:00:00 2001&lt;br/&gt;
    From: Mikkel Andersen &amp;lt;mikkel.t.andersen@gmail.com&amp;gt;&lt;br/&gt;
    Date: Mon, 13 Mar 2017 10:22:53 +0100&lt;br/&gt;
    Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; fixed formatting&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     src/java/org/apache/cassandra/db/filter/RowFilter.java | 3 ++-&lt;br/&gt;
     1 file changed, 2 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 1 deletion&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    diff --git a/src/java/org/apache/cassandra/db/filter/RowFilter.java b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    index c26c1ad..d3fc301 100644&lt;br/&gt;
    &amp;#8212; a/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    +++ b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    @@ -611,7 +611,8 @@ public abstract class RowFilter implements Iterable&amp;lt;RowFilter.Expression&amp;gt;&lt;br/&gt;
                         if (column.isComplex())&lt;br/&gt;
                         {&lt;br/&gt;
                             ComplexColumnData complexData = row.getComplexColumnData(column);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (complexData != null) {&lt;br/&gt;
    +                        if (complexData != null)&lt;br/&gt;
    +                        {&lt;br/&gt;
                                 for (Cell cell : complexData)&lt;br/&gt;
                                 {&lt;br/&gt;
                                     if (type.kind == CollectionType.Kind.SET)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;&lt;br/&gt;
    2.0.1&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="15907519" author="githubbot" created="Mon, 13 Mar 2017 14:09:42 +0000"  >&lt;p&gt;Github user MikkelTAndersen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks Benjamin - I added a test for list, set and map. its all in this&lt;br/&gt;
    patch&lt;/p&gt;

&lt;p&gt;    On Mon, Mar 13, 2017 at 2:02 PM, Benjamin Lerer &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; You can look into org.apache.cassandra.cql3.validation.entities.&lt;br/&gt;
    &amp;gt; SecondaryIndexTest for some examples. It is where you test should go.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Otherwise just generate a patch using: git format-patch and attach the&lt;br/&gt;
    &amp;gt; output to the JIRA ticket. I guess that the problem must be there since 3.0&lt;br/&gt;
    &amp;gt; so the patch should be for this version.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; You are receiving this because you were mentioned.&lt;br/&gt;
    &amp;gt; Reply to this email directly, view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/98#issuecomment-286100435&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/98#issuecomment-286100435&lt;/a&gt;&amp;gt;, or mute&lt;br/&gt;
    &amp;gt; the thread&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/AACsNmhSUn2vC3WqcTP_BjutuvUp3KRQks5rlT5UgaJpZM4MbArn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/AACsNmhSUn2vC3WqcTP_BjutuvUp3KRQks5rlT5UgaJpZM4MbArn&lt;/a&gt;&amp;gt;&lt;br/&gt;
    &amp;gt; .&lt;br/&gt;
    &amp;gt;&lt;/p&gt;



&lt;p&gt;    &amp;#8211; &lt;br/&gt;
    Venlig Hilsen&lt;br/&gt;
    Mikkel T. Andersen&lt;br/&gt;
    Skjoldborgvej 8&lt;br/&gt;
    7100 Vejle&lt;br/&gt;
    Mobil: +45 40 26 79 26&lt;/p&gt;

&lt;p&gt;    From dac39d0268ba82b6be033e0c63ebd653ae0517cc Mon Sep 17 00:00:00 2001&lt;br/&gt;
    From: Mikkel Andersen &amp;lt;mikkel.t.andersen@gmail.com&amp;gt;&lt;br/&gt;
    Date: Mon, 13 Mar 2017 10:21:27 +0100&lt;br/&gt;
    Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; added null check - see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13246&quot; title=&quot;Querying by secondary index on collection column returns NullPointerException sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13246&quot;&gt;&lt;del&gt;CASSANDRA-13246&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     .../org/apache/cassandra/db/filter/RowFilter.java  | 22 ++++++++++++----------&lt;br/&gt;
     1 file changed, 12 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 10 deletions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    diff --git a/src/java/org/apache/cassandra/db/filter/RowFilter.java b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    index bf65e96..c26c1ad 100644&lt;br/&gt;
    &amp;#8212; a/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    +++ b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    @@ -611,17 +611,19 @@ public abstract class RowFilter implements Iterable&amp;lt;RowFilter.Expression&amp;gt;&lt;br/&gt;
                         if (column.isComplex())&lt;br/&gt;
                         {&lt;br/&gt;
                             ComplexColumnData complexData = row.getComplexColumnData(column);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for (Cell cell : complexData)&lt;/li&gt;
	&lt;li&gt;{&lt;/li&gt;
	&lt;li&gt;if (type.kind == CollectionType.Kind.SET)&lt;/li&gt;
	&lt;li&gt;{
    -                                if (type.nameComparator().compare(cell.path().get(0), value) == 0)
    -                                    return true;
    -                            }&lt;/li&gt;
	&lt;li&gt;else&lt;br/&gt;
    +                        if (complexData != null) {&lt;br/&gt;
    +                            for (Cell cell : complexData)&lt;br/&gt;
                                 {&lt;/li&gt;
	&lt;li&gt;if (type.valueComparator().compare(cell.value(), value) == 0)&lt;/li&gt;
	&lt;li&gt;return true;&lt;br/&gt;
    +                                if (type.kind == CollectionType.Kind.SET)&lt;br/&gt;
    +                                
{
    +                                    if (type.nameComparator().compare(cell.path().get(0), value) == 0)
    +                                        return true;
    +                                }
&lt;p&gt;    +                                else&lt;br/&gt;
    +                                &lt;/p&gt;
{
    +                                    if (type.valueComparator().compare(cell.value(), value) == 0)
    +                                        return true;
    +                                }
&lt;p&gt;                                 }&lt;br/&gt;
                             }&lt;br/&gt;
                             return false;&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;&lt;br/&gt;
    2.0.1&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    From 145087e3b5d748ce25e8792f91c249d2a05de3e5 Mon Sep 17 00:00:00 2001&lt;br/&gt;
    From: Mikkel Andersen &amp;lt;mikkel.t.andersen@gmail.com&amp;gt;&lt;br/&gt;
    Date: Mon, 13 Mar 2017 10:22:53 +0100&lt;br/&gt;
    Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; fixed formatting&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     src/java/org/apache/cassandra/db/filter/RowFilter.java | 3 ++-&lt;br/&gt;
     1 file changed, 2 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 1 deletion&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    diff --git a/src/java/org/apache/cassandra/db/filter/RowFilter.java b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    index c26c1ad..d3fc301 100644&lt;br/&gt;
    &amp;#8212; a/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    +++ b/src/java/org/apache/cassandra/db/filter/RowFilter.java&lt;br/&gt;
    @@ -611,7 +611,8 @@ public abstract class RowFilter implements Iterable&amp;lt;RowFilter.Expression&amp;gt;&lt;br/&gt;
                         if (column.isComplex())&lt;br/&gt;
                         {&lt;br/&gt;
                             ComplexColumnData complexData = row.getComplexColumnData(column);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (complexData != null) {&lt;br/&gt;
    +                        if (complexData != null)&lt;br/&gt;
    +                        {&lt;br/&gt;
                                 for (Cell cell : complexData)&lt;br/&gt;
                                 {&lt;br/&gt;
                                     if (type.kind == CollectionType.Kind.SET)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;&lt;br/&gt;
    2.0.1&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    From ab8e52a26c361483c9af9990037c9fb7abdd7aba Mon Sep 17 00:00:00 2001&lt;br/&gt;
    From: Mikkel Andersen &amp;lt;mikkel.t.andersen@gmail.com&amp;gt;&lt;br/&gt;
    Date: Mon, 13 Mar 2017 15:07:11 +0100&lt;br/&gt;
    Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; added test and fixed documentation&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     src/java/org/apache/cassandra/db/rows/Row.java     |  2 +-&lt;br/&gt;
     .../validation/entities/SecondaryIndexTest.java    | 39 ++++++++++++++++++++++&lt;br/&gt;
     2 files changed, 40 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 1 deletion&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    diff --git a/src/java/org/apache/cassandra/db/rows/Row.java b/src/java/org/apache/cassandra/db/rows/Row.java&lt;br/&gt;
    index 04092a6..7449e51 100644&lt;br/&gt;
    &amp;#8212; a/src/java/org/apache/cassandra/db/rows/Row.java&lt;br/&gt;
    +++ b/src/java/org/apache/cassandra/db/rows/Row.java&lt;br/&gt;
    @@ -132,7 +132,7 @@ public interface Row extends Unfiltered, Collection&amp;lt;ColumnData&amp;gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The returned object groups all the cells for the column, as well as it&apos;s complex deletion (if relevant).&lt;br/&gt;
          *&lt;/li&gt;
	&lt;li&gt;@param c the complex column for which to return the complex data.&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* @return the data for 
{@code c} or {@code null} is the row has no data for this column.&lt;br/&gt;
    +     * @return the data for {@code c}
&lt;p&gt; or &lt;/p&gt;
{@code null}
&lt;p&gt; if the row has no data for this column.&lt;br/&gt;
          */&lt;br/&gt;
         public ComplexColumnData getComplexColumnData(ColumnMetadata c);&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    diff --git a/test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java b/test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java&lt;br/&gt;
    index c00688d..68a3378 100644&lt;br/&gt;
    &amp;#8212; a/test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java&lt;br/&gt;
    +++ b/test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java&lt;br/&gt;
    @@ -430,6 +430,45 @@ public class SecondaryIndexTest extends CQLTester&lt;br/&gt;
             });&lt;br/&gt;
         }&lt;/p&gt;

&lt;p&gt;    +    @Test&lt;br/&gt;
    +    public void testSelectOnMultiIndexOnCollectionsWithNull() throws Throwable&lt;br/&gt;
    +    {&lt;br/&gt;
    +        createTable(&quot; CREATE TABLE %s ( k int, v int, x text, l list&amp;lt;int&amp;gt;, s set&amp;lt;text&amp;gt;, m map&amp;lt;text, int&amp;gt;, PRIMARY KEY (k, v))&quot;);&lt;br/&gt;
    +&lt;br/&gt;
    +        createIndex(&quot;CREATE INDEX ON %s &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&quot;);&lt;br/&gt;
    +        createIndex(&quot;CREATE INDEX ON %s (v)&quot;);&lt;br/&gt;
    +        createIndex(&quot;CREATE INDEX ON %s (s)&quot;);&lt;br/&gt;
    +        createIndex(&quot;CREATE INDEX ON %s (m)&quot;);&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (0, 0, &apos;x&apos;, &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 2&amp;#93;&lt;/span&gt;,    &lt;/p&gt;
{&apos;a&apos;}
&lt;p&gt;,      &lt;/p&gt;
{&apos;a&apos; : 1}
&lt;p&gt;)&quot;);&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (0, 1, &apos;x&apos;, &lt;span class=&quot;error&quot;&gt;&amp;#91;3, 4&amp;#93;&lt;/span&gt;,    &lt;/p&gt;
{&apos;b&apos;, &apos;c&apos;}
&lt;p&gt;, &lt;/p&gt;
{&apos;a&apos; : 1, &apos;b&apos; : 2}
&lt;p&gt;)&quot;);&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (0, 2, &apos;x&apos;, &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;,       &lt;/p&gt;
{&apos;a&apos;, &apos;c&apos;}
&lt;p&gt;, &lt;/p&gt;
{&apos;c&apos; : 3}
&lt;p&gt;)&quot;);&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (1, 0, &apos;x&apos;, &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 2, 4&amp;#93;&lt;/span&gt;, {},         &lt;/p&gt;
{&apos;b&apos; : 1}
&lt;p&gt;)&quot;);&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (1, 1, &apos;x&apos;, &lt;span class=&quot;error&quot;&gt;&amp;#91;4, 5&amp;#93;&lt;/span&gt;,    &lt;/p&gt;
{&apos;d&apos;}
&lt;p&gt;,      &lt;/p&gt;
{&apos;a&apos; : 1, &apos;b&apos; : 3}
&lt;p&gt;)&quot;);&lt;br/&gt;
    +        execute(&quot;INSERT INTO %s (k, v, x, l, s, m) VALUES (1, 2, &apos;x&apos;, null,      null,       null)&quot;);&lt;br/&gt;
    +&lt;br/&gt;
    +        beforeAndAfterFlush(() -&amp;gt; &lt;/p&gt;
{
    +            // lists
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND l CONTAINS 1 ALLOW FILTERING&quot;), row(1, 0), row(0, 0), row(0, 2));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND k = 0 AND l CONTAINS 1 ALLOW FILTERING&quot;), row(0, 0), row(0, 2));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND l CONTAINS 2 ALLOW FILTERING&quot;), row(1, 0), row(0, 0));
    +            assertEmpty(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND l CONTAINS 6 ALLOW FILTERING&quot;));
    +
    +            // sets
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND s CONTAINS &apos;a&apos; ALLOW FILTERING&quot; ), row(0, 0), row(0, 2));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND k = 0 AND s CONTAINS &apos;a&apos; ALLOW FILTERING&quot;), row(0, 0), row(0, 2));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND s CONTAINS &apos;d&apos; ALLOW FILTERING&quot;), row(1, 1));
    +            assertEmpty(execute(&quot;SELECT k, v FROM %s  WHERE x = &apos;x&apos; AND s CONTAINS &apos;e&apos; ALLOW FILTERING&quot;));
    +
    +            // maps
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND m CONTAINS 1 ALLOW FILTERING&quot;), row(1, 0), row(1, 1), row(0, 0), row(0, 1));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND k = 0 AND m CONTAINS 1 ALLOW FILTERING&quot;), row(0, 0), row(0, 1));
    +            assertRows(execute(&quot;SELECT k, v FROM %s WHERE x = &apos;x&apos; AND m CONTAINS 2 ALLOW FILTERING&quot;), row(0, 1));
    +            assertEmpty(execute(&quot;SELECT k, v FROM %s  WHERE x = &apos;x&apos; AND m CONTAINS 4 ALLOW FILTERING&quot;));
    +        }
&lt;p&gt;);&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
         /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Migrated from cql_tests.py:TestCQL.map_keys_indexing()&lt;br/&gt;
          */
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;&lt;br/&gt;
    2.0.1&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="15924887" author="mikkel.t.andersen@gmail.com" created="Tue, 14 Mar 2017 19:56:08 +0000"  >&lt;p&gt;Attaching the file so its easier to apply the patch.&lt;/p&gt;</comment>
                            <comment id="15924888" author="mikkel.t.andersen@gmail.com" created="Tue, 14 Mar 2017 19:57:42 +0000"  >&lt;p&gt;I hope is easy for you to review and apply otherwise please contact me.&lt;/p&gt;</comment>
                            <comment id="15930126" author="blerer" created="Fri, 17 Mar 2017 15:23:00 +0000"  >&lt;p&gt;Thanks for the patch. It looks good to me.&lt;br/&gt;
I am just waiting for the CI results.&lt;/p&gt;</comment>
                            <comment id="15932326" author="blerer" created="Mon, 20 Mar 2017 08:40:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikkel.t.andersen%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;mikkel.t.andersen@gmail.com&quot;&gt;mikkel.t.andersen@gmail.com&lt;/a&gt; Be carefull, the patch should be marked as &lt;tt&gt;Ready To Commit&lt;/tt&gt; only when the reviewer give his green light. Which I did not do yet as I was waiting for the CI results as mentioned in my comment.&lt;/p&gt;</comment>
                            <comment id="15932338" author="mikkel.t.andersen@gmail.com" created="Mon, 20 Mar 2017 08:49:40 +0000"  >&lt;p&gt;Sorry Benjamin - did not mean to cause problems... could you send me the&lt;br/&gt;
link to where the workflow is described?&lt;/p&gt;

&lt;p&gt;On Mon, Mar 20, 2017 at 9:40 AM, Benjamin Lerer (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15932375" author="blerer" created="Mon, 20 Mar 2017 09:25:16 +0000"  >&lt;p&gt;Do not worry, I am just mentionning it for you to know (for your next patches &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;br/&gt;
&lt;tt&gt;Ready to commit&lt;/tt&gt; should normally be set by the reviewer to tell that the review is complete. If the reviewer is also a committer, he might simply commit the patch and skip that state.&lt;br/&gt;
So the workflow is simply:  &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;                                                      +-----------------+     +----------+
                                        +--- ok ----&amp;gt; | READY TO COMMIT | --&amp;gt; | RESOLVED | or something like that
+------+        +------------------+    |             +-----------------+     +----------+
| OPEN | -----&amp;gt; | PATCH AVAILABLE  | ---+
+------+        +------------------+    |              +------+     
                                        +-- not ok --&amp;gt; | OPEN |
                                                       +------+     
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="15932405" author="blerer" created="Mon, 20 Mar 2017 09:50:07 +0000"  >&lt;p&gt;CI results look good.&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; 3.0 &lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; 3.11 &lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-3.11-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-3.11-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; trunk &lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-13246-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I just added an extra unit test to test filtering without secondary index.&lt;/p&gt;</comment>
                            <comment id="15932531" author="blerer" created="Mon, 20 Mar 2017 11:43:37 +0000"  >&lt;p&gt;Committed into 3.0 at 0eebc6e6b7cd7fc801579e57701608e7bf155ee0 and merged into 3.11 and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12858747" name="cassandra-13246.diff" size="7875" author="mikkel.t.andersen@gmail.com" created="Tue, 14 Mar 2017 19:56:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3aek7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332541">3.0.x</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>blerer</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>