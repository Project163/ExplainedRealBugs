<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:59:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9800] 2.2 eclipse-warnings</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9800</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;commit 052222615a754e5bbb5299d51470a2ccdb70a5b0&lt;br/&gt;
Date:   Mon Jul 13 17:53:42 2015 -0400&lt;/p&gt;

&lt;p&gt;If you wish to look at the latest output, check the &lt;tt&gt;eclipse_compiler_checks.txt&lt;/tt&gt; artifact saved on the latest build:&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/job/cassandra-2.2_eclipse-warnings/lastBuild/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/cassandra-2.2_eclipse-warnings/lastBuild/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Output of current 2.2 HEAD eclipse-warnings:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;# 7/14/15 12:21:30 AM UTC
# Eclipse Compiler for Java(TM) v20150120-1634, 3.10.2, Copyright IBM Corp 2000, 2013. All rights reserved.
incorrect classpath: /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/build/cobertura/classes
----------
1. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/tools/SSTableExport.java (at line 315)
	ISSTableScanner scanner = reader.getScanner();
	                ^^^^^^^
Resource &apos;scanner&apos; should be managed by try-with-resource
----------
----------
2. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java (at line 247)
	scanners.add(new LeveledScanner(intersecting, range));
	             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Potential resource leak: &apos;&amp;lt;unassigned Closeable value&amp;gt;&apos; may not be closed
----------
----------
3. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/db/compaction/CompactionManager.java (at line 819)
	ISSTableScanner scanner = cleanupStrategy.getScanner(sstable, getRateLimiter());
	                ^^^^^^^
Resource &apos;scanner&apos; should be managed by try-with-resource
----------
----------
4. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/db/WindowsFailedSnapshotTracker.java (at line 55)
	BufferedReader reader = new BufferedReader(new FileReader(TODELETEFILE));
	               ^^^^^^
Resource &apos;reader&apos; should be managed by try-with-resource
----------
5. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/db/WindowsFailedSnapshotTracker.java (at line 55)
	BufferedReader reader = new BufferedReader(new FileReader(TODELETEFILE));
	               ^^^^^^
Resource &apos;reader&apos; should be managed by try-with-resource
----------
----------
6. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/io/util/SegmentedFile.java (at line 183)
	ChannelProxy channelCopy = getChannel(path);
	             ^^^^^^^^^^^
Resource &apos;channelCopy&apos; should be managed by try-with-resource
----------
7. ERROR in /mnt/data/jenkins/workspace/cassandra-2.2_eclipse-warnings/src/java/org/apache/cassandra/io/util/SegmentedFile.java (at line 186)
	return complete(channelCopy, overrideLength);
	^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Potential resource leak: &apos;channelCopy&apos; may not be closed at this location
----------
7 problems (7 errors)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12844969">CASSANDRA-9800</key>
            <summary>2.2 eclipse-warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aweisberg">Ariel Weisberg</assignee>
                                    <reporter username="mshuler">Michael Shuler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jul 2015 15:20:48 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:04 +0000</updated>
                            <resolved>Fri, 27 Nov 2015 10:43:44 +0000</resolved>
                                        <fixVersion>2.2.4</fixVersion>
                    <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14626641" author="aweisberg" created="Tue, 14 Jul 2015 16:52:28 +0000"  >&lt;p&gt;Failed to revert a change in one line causing eclipse warnings to have an empty classpath.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...aweisberg:C-9803?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/compare/trunk...aweisberg:C-9803?expand=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One question to ask is why did this not fail the build? We want test-all to fail if eclipse-warnings fails.&lt;/p&gt;</comment>
                            <comment id="14626695" author="tjake" created="Tue, 14 Jul 2015 17:23:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;One question to ask is why did this not fail the build? We want test-all to fail if eclipse-warnings fails.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It only fails the build for trunk ATM&lt;/p&gt;</comment>
                            <comment id="14627130" author="mshuler" created="Tue, 14 Jul 2015 22:08:25 +0000"  >&lt;p&gt;The test-all job we run uses &lt;tt&gt;ant -k test-all&lt;/tt&gt; and we parse the resulting junit xml for test-all output. This target does not output any parsable xml and continues as instructed to ant, so I set up a unique job that archives the result text file, which does indeed show failed.&lt;/p&gt;</comment>
                            <comment id="14627138" author="mshuler" created="Tue, 14 Jul 2015 22:15:56 +0000"  >&lt;p&gt;Just noticed - this is the 2.2 branch ticket - I think you want &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9803&quot; title=&quot;trunk eclipse-warnings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9803&quot;&gt;&lt;del&gt;CASSANDRA-9803&lt;/del&gt;&lt;/a&gt; for the trunk branch fix above, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aweisberg&quot; class=&quot;user-hover&quot; rel=&quot;aweisberg&quot;&gt;aweisberg&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14999294" author="aweisberg" created="Tue, 10 Nov 2015 20:30:22 +0000"  >&lt;p&gt;There were some warnings in 3.0 and trunk so I created a 3.0 branch as well&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.2...aweisberg:CASSANDRA-9800-2.2?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2.2 code&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/aweisberg/job/aweisberg-CASSANDRA-9800-2.2-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/aweisberg/job/aweisberg-CASSANDRA-9800-2.2-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...aweisberg:CASSANDRA-9800-3.0?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0 code&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/aweisberg/job/aweisberg-CASSANDRA-9800-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/aweisberg/job/aweisberg-CASSANDRA-9800-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15016696" author="snazy" created="Fri, 20 Nov 2015 12:13:12 +0000"  >&lt;p&gt;Currently, 3.0 + trunk show four warnings - all in {&lt;tt&gt;CqlRecordWriter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;2.2 shows 20 warnings. Most are false-positives, but these are bad:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;WindowsFailedSnapshotTracker.deleteOldSnapshots()&lt;/tt&gt; (&lt;tt&gt;reader&lt;/tt&gt; not safely closed, already handled by patch)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;SegmentedFile&lt;/tt&gt; (already handled by patch)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;IncomingTcpConnection.receiveMessages()&lt;/tt&gt; (should be revisited, new since this patch)&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="15018331" author="aweisberg" created="Fri, 20 Nov 2015 17:00:55 +0000"  >&lt;p&gt;I rebased both patches and ran eclipse-warnings on the 2.2 and 3.0 branch and they were clean? I also tried trunk and cherry-picked the 3.0 patch and it didn&apos;t have any warnings either.&lt;/p&gt;</comment>
                            <comment id="15018403" author="snazy" created="Fri, 20 Nov 2015 17:45:27 +0000"  >&lt;p&gt;Sorry, I should have explained better what I did and not cause any confusion:&lt;br/&gt;
I ran the eclipse-warnings task against the unpatched branches and saw the differences - so not a fault of your patch.&lt;/p&gt;

&lt;p&gt;And I can confirm that your patches fix all those warnings and the changes LGTM except that WindowsFailedSnapshotTracker.deleteOldSnapshots can still leak a handle on &lt;tt&gt;reader&lt;/tt&gt;. Can you fix that one in the 2.2 branch and trigger cassci runs on both? Should be good to commit then.&lt;/p&gt;</comment>
                            <comment id="15029758" author="snazy" created="Fri, 27 Nov 2015 10:43:44 +0000"  >&lt;p&gt;+1 on the branch with the latest changes&lt;/p&gt;

&lt;p&gt;Committed as f8fc0311b65b3d82737352f3d01483c0334a6867&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aweisberg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2h8hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>snazy</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[snazy]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>