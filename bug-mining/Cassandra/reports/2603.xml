<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:42:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6649] CQL: disallow counter update with &quot;USING TIMESTAMP&quot; and &quot;USING TTL&quot;</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6649</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Timestamps are not used by counters and TTL are not supported, but it appears we don&apos;t reject counter updates that have &quot;USING TIMESTAMP X&quot; or &quot;USING TTL X&quot;. We should since both are non-sensical (the value is completely ignored currently).&lt;/p&gt;

&lt;p&gt;Note: we should also refuse &quot;USING TIMESTAMP&quot; on &quot;DELETE&quot; statements on counters table: even though we kind of do use a timestamp internally, it&apos;s more of an implementation detail and in fact may go away with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6506&quot; title=&quot;counters++ split counter context shards into separate cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6506&quot;&gt;CASSANDRA-6506&lt;/a&gt; (there is also nothing clever you can do with it by providing it client side).&lt;/p&gt;

&lt;p&gt;Note bis: strictly speaking doing that could break a few users that where setting those thinking it does something. I think that the lack of validation is more of a bug and that user that think it&apos;s doing something probably ought to know it&apos;s not sooner than later, but I could be fine with just warning in the log file for 1.2 and 2.0, and only rejecting in 2.1 if someone thinks it&apos;s safer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12693160">CASSANDRA-6649</key>
            <summary>CQL: disallow counter update with &quot;USING TIMESTAMP&quot; and &quot;USING TTL&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aleksey">Aleksey Yeschenko</assignee>
                                    <reporter username="slebresne">Sylvain Lebresne</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Feb 2014 17:45:53 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:54 +0000</updated>
                            <resolved>Tue, 11 Feb 2014 23:06:34 +0000</resolved>
                                        <fixVersion>1.2.16</fixVersion>
                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>2.1 beta1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13890982" author="iamaleksey" created="Tue, 4 Feb 2014 18:34:05 +0000"  >&lt;p&gt;Probably should leave 1.2 alone. Maybe 2.0 as well, since some might be using it (foolishly), and introduce the change as part of the &apos;counters 2.0&apos;.&lt;/p&gt;</comment>
                            <comment id="13898104" author="slebresne" created="Tue, 11 Feb 2014 18:25:53 +0000"  >&lt;p&gt;For the 2.0 version, I really think we should have a longer, more explanatory message, since users will get that out of context in the log. Something like: &quot;Detected use of &apos;USING TIMESTAMP&apos; in counter UPDATE. This is invalid since counters do not use timestamps and the timestamp has been ignored. Such query will be rejected starting from Cassandra 2.1 so you should fix your query.&quot;. But lgtm otherwise.&lt;/p&gt;

&lt;p&gt;Note: I would also commit that in 1.2 too because really, that&apos;s just a warning and it&apos;s never too early to warn user that it&apos;s not doing what they probably think it does (if we end up not doing any more 1.2 release, there is still not harm having committed it). I&apos;m not extremely strong on that though.&lt;/p&gt;</comment>
                            <comment id="13898464" author="iamaleksey" created="Tue, 11 Feb 2014 23:06:34 +0000"  >&lt;p&gt;Committed with a better warning + moved the validation to validate(), where it belongs. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12685496">CASSANDRA-6504</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12627842" name="6649-2.0.txt" size="2525" author="aleksey" created="Sun, 9 Feb 2014 00:53:44 +0000"/>
                            <attachment id="12627841" name="6649-2.1.txt" size="1570" author="aleksey" created="Sun, 9 Feb 2014 00:43:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s2fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>