<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:19:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16296] Join new node to cluster failing on C* version 4</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16296</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Hi, i&apos;m using cassandra 4.0-beta3,&lt;br/&gt;
Join new node failing,&lt;br/&gt;
Current status:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[root@rc801 ~]# nodetool status
Datacenter: V4CH
================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address      Load        Tokens  Owns (effective)  Host ID                               Rack
UN  1.1.1.1      356.55 KiB  128     ?                 92ae4c39-edb3-4e67-8623-b49fd8301b66  RAC1
UN  2.2.2.2      424.36 KiB  128     ?                 d80647a8-32b2-4a8f-8022-f5ae3ce8fbb2  RAC1

Datacenter: V4NJ
================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address      Load        Tokens  Owns (effective)  Host ID                               Rack
UN  3.3.3.3      322.97 KiB  128     ?                 0106ce0b-18be-4321-8247-843076ff42e6  RAC1
UN  4.4.4.4      297.6 KiB   128     ?                 d81e2b7d-9221-4b1b-86c8-e8956e3eec07  RAC1
UN  5.5.5.5      324.75 KiB  128     ?                 5dfbaf14-8310-4d64-b61a-9da0a7a8a620  RAC1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Error on new host (7.7.7.7):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [main] 2020-11-22 09:27:36,592 RangeStreamer.java:323 - Bootstrap: range Full(/7.7.7.7:7000,(-7734271291904743823,-7725025391901227341]) exists on Full(/1.1.1.1:7000,(-7734271291904743823,-7725025391901227341]) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; keyspace system_traces
ERROR [main] 2020-11-22 09:27:36,609 CassandraDaemon.java:817 - Exception encountered during startup
java.lang.IllegalStateException: Multiple strict sources found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Full(/7.7.7.7:7000,(9208454697546654053,-9212763148842799409]), sources: [Full(/2.2.2.2:7000,(9189373804905478622,-9212763148842799409]), Full(/1.1.1.1:7000,(9189373804905478622,-9212763148842799409])]
        at org.apache.cassandra.dht.RangeStreamer.calculateRangesToFetchWithPreferredEndpoints(RangeStreamer.java:517)
        at org.apache.cassandra.dht.RangeStreamer.calculateRangesToFetchWithPreferredEndpoints(RangeStreamer.java:383)
        at org.apache.cassandra.dht.RangeStreamer.addRanges(RangeStreamer.java:320)
        at org.apache.cassandra.dht.BootStrapper.bootstrap(BootStrapper.java:81)
        at org.apache.cassandra.service.StorageService.startBootstrap(StorageService.java:1635)
        at org.apache.cassandra.service.StorageService.bootstrap(StorageService.java:1612)
        at org.apache.cassandra.service.StorageService.joinTokenRing(StorageService.java:931)
        at org.apache.cassandra.service.StorageService.joinTokenRing(StorageService.java:892)
        at org.apache.cassandra.service.StorageService.initServer(StorageService.java:699)
        at org.apache.cassandra.service.StorageService.initServer(StorageService.java:635)
        at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:407)
        at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:671)
        at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:795)
INFO  [StorageServiceShutdownHook] 2020-11-22 09:27:36,616 HintsService.java:220 - Paused hints dispatch
WARN  [StorageServiceShutdownHook] 2020-11-22 09:27:36,617 Gossiper.java:1849 - No local state, state is in silent shutdown, or node hasn&apos;t joined, not announcing shutdown
INFO  [StorageServiceShutdownHook] 2020-11-22 09:27:36,617 MessagingService.java:441 - Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; messaging service to quiesce
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Errors on seed node:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [Messaging-EventLoop-3-37] 2020-11-22 09:26:54,121 InboundConnectionInitiator.java:459 - /7.7.7.7:7000(/7.7.7.7:45490)-&amp;gt;/1.1.1.1:7000-URGENT_MESSAGES-f412b9ba messaging connection established, version = 12, framing = LZ4, encryption = disabled
INFO  [Messaging-EventLoop-3-40] 2020-11-22 09:26:54,157 OutboundConnection.java:1151 - /1.1.1.1:7000(/1.1.1.1:38678)-&amp;gt;/7.7.7.7:7000-URGENT_MESSAGES-3b23f639 successfully connected, version = 12, framing = LZ4, encryption = disabled
INFO  [GossipStage:1] 2020-11-22 09:26:56,109 Gossiper.java:1248 - Node /7.7.7.7:7000 is now part of the cluster
INFO  [GossipStage:1] 2020-11-22 09:26:56,147 Gossiper.java:1206 - InetAddress /7.7.7.7:7000 is now UP
INFO  [Messaging-EventLoop-3-1] 2020-11-22 09:26:57,378 InboundConnectionInitiator.java:459 - /7.7.7.7:7000(/7.7.7.7:45504)-&amp;gt;/1.1.1.1:7000-SMALL_MESSAGES-77c813d4 messaging connection established, version = 12, framing = LZ4, encryption = disabled
INFO  [Messaging-EventLoop-3-38] 2020-11-22 09:26:57,383 OutboundConnection.java:1151 - /1.1.1.1:7000(/1.1.1.1:38680)-&amp;gt;/7.7.7.7:7000-SMALL_MESSAGES-e75eaaa2 successfully connected, version = 12, framing = LZ4, encryption = disabled
INFO  [Messaging-EventLoop-3-2] 2020-11-22 09:27:36,623 InboundConnectionInitiator.java:459 - /7.7.7.7:7000(/7.7.7.7:45534)-&amp;gt;/1.1.1.1:7000-LARGE_MESSAGES-defc02dd messaging connection established, version = 12, framing = LZ4, encryption = disabled
INFO  [Messaging-EventLoop-3-40] 2020-11-22 09:27:37,151 NoSpamLogger.java:92 - /1.1.1.1:7000-&amp;gt;/7.7.7.7:7000-URGENT_MESSAGES-[no-channel] failed to connect
io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: /7.7.7.7:7000
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
        at io.netty.channel.unix.Errors.throwConnectException(Errors.java:124)
        at io.netty.channel.unix.Socket.finishConnect(Socket.java:243)
        at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:672)
        at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:649)
        at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:529)
        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:465)
        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)
        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
        at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
INFO  [GossipStage:1] 2020-11-22 09:27:57,154 Gossiper.java:1224 - InetAddress /7.7.7.7:7000 is now DOWN
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks that calculateRangesToFetchWithPreferredEndpoints added as part of &quot;Transient Replication&quot; &lt;a href=&quot;https://github.com/apache/cassandra/commit/f7431b432875e334170ccdb19934d05545d2cebd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/f7431b432875e334170ccdb19934d05545d2cebd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s new fresh cluster without data and the join failing after few seconds. &lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Yakir Gibraltar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13341990">CASSANDRA-16296</key>
            <summary>Join new node to cluster failing on C* version 4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bereng">Berenguer Blasi</assignee>
                                    <reporter username="yakir.g">Yakir Gibraltar</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Nov 2020 14:24:11 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:59 +0000</updated>
                            <resolved>Thu, 18 Feb 2021 11:57:12 +0000</resolved>
                                        <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Local/Startup and Shutdown</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="70800">19h 40m</timespent>
                                <comments>
                            <comment id="17238236" author="yakir.g" created="Tue, 24 Nov 2020 16:09:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aweisberg&quot; class=&quot;user-hover&quot; rel=&quot;aweisberg&quot;&gt;aweisberg&lt;/a&gt;, any ideas? &lt;/p&gt;</comment>
                            <comment id="17238243" author="yakir.g" created="Tue, 24 Nov 2020 16:28:55 +0000"  >&lt;p&gt;Update, we have found the root cause, we added a keyspace with RF=3 but we had only 2 nodes in DC and join the 3rd node failed.&lt;br/&gt;
I think that:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Create keyspace should fail if RF&amp;gt;&quot;number of nodes in DC&quot;.&lt;/li&gt;
	&lt;li&gt;The exception thrown wasn&apos;t clear.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;ALTER the keyspace to RF=2 solved the issue.&lt;/p&gt;</comment>
                            <comment id="17243560" author="dcapwell" created="Thu, 3 Dec 2020 22:38:51 +0000"  >&lt;p&gt;have you repeated the process on 3.x line? How did you &quot;join&quot; with the new node? Was this upgrading the cluster or creating a new one?&lt;/p&gt;</comment>
                            <comment id="17243563" author="yakir.g" created="Thu, 3 Dec 2020 22:43:19 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; , &lt;br/&gt;
&quot;have you repeated the process on 3.x line? How did you &quot;join&quot; with the new node? &quot;&lt;br/&gt;
I tried to join few times from different hosts, all join failed, with simple &quot;systemctl start cassandra&quot;&lt;br/&gt;
&quot; Was this upgrading the cluster or creating a new one?&quot;&lt;br/&gt;
Fresh cluster of version 4 without any data.&lt;/p&gt;</comment>
                            <comment id="17243571" author="dcapwell" created="Thu, 3 Dec 2020 23:13:46 +0000"  >&lt;p&gt;Thanks for the details!&lt;/p&gt;</comment>
                            <comment id="17243587" author="yakir.g" created="Thu, 3 Dec 2020 23:42:16 +0000"  >&lt;p&gt;I just change the following keyspace from RF 3 to 2 on the DC that i tried to join and it&apos;s solved the issue:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE KEYSPACE ks WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;V4C&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;3&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;V4N&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;3&apos;&lt;/span&gt;}  AND durable_writes = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17263078" author="bereng" created="Tue, 12 Jan 2021 05:08:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; do you mind I take this one or do you have sthg in mind already?&lt;/p&gt;</comment>
                            <comment id="17263169" author="blerer" created="Tue, 12 Jan 2021 08:59:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt; Feel free to take it. I let my backlog grow to big &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17263377" author="brandon.williams" created="Tue, 12 Jan 2021 14:42:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Create keyspace should fail if RF&amp;gt;&quot;number of nodes in DC&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, we allow this on purpose because some people like to create the keyspace first for whatever operational reasons.&lt;/p&gt;</comment>
                            <comment id="17263397" author="blerer" created="Tue, 12 Jan 2021 15:02:35 +0000"  >&lt;blockquote&gt;&lt;p&gt; No, we allow this on purpose because some people like to create the keyspace first for whatever operational reasons. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What about firing a warning? I guess it does not hurt to warn the user.&lt;/p&gt;</comment>
                            <comment id="17263450" author="brandon.williams" created="Tue, 12 Jan 2021 15:57:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about firing a warning?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1.  It also won&apos;t fire very often, so quite benign.&lt;/p&gt;</comment>
                            <comment id="17264778" author="bereng" created="Thu, 14 Jan 2021 10:48:08 +0000"  >&lt;p&gt;I added the warning but I haven&apos;t managed to repro:&lt;/p&gt;

&lt;p&gt;A. Start node1:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load      Tokens  Owns (effective)  Host ID                               Rack 
UN  127.0.0.1  68.9 KiB  16      ?                 ccc4653e-14df-4688-a340-3564e344ddd9  rack1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;B. Create a KS with RF &amp;gt; N:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[cqlsh 5.0.1 | Cassandra 4.0-beta5-SNAPSHOT | CQL spec 3.4.5 | Native protocol v4]
Use HELP for help.
cqlsh&amp;gt; CREATE KEYSPACE ks1 WITH replication = {&apos;class&apos;: &apos;NetworkTopologyStrategy&apos;, &apos;datacenter1&apos;: &apos;2&apos;};

Warnings :
Your replication factor 2 is higher than the number of nodes 1 for datacenter: datacenter1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;C. Start node2 and wait for the node to join&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load       Tokens  Owns (effective)  Host ID                               Rack 
UJ  127.0.0.2  83.11 KiB  16      ?                 6ed6685f-9d1f-4e6d-abb4-fba194bae37b  rack1
UN  127.0.0.1  74.01 KiB  16      ?                 ccc4653e-14df-4688-a340-3564e344ddd9  rack1


bin/nodetool status
Datacenter: datacenter1
=======================
Status=Up/Down
|/ State=Normal/Leaving/Joining/Moving
--  Address    Load       Tokens  Owns (effective)  Host ID                               Rack 
UN  127.0.0.2  93.29 KiB  16      ?                 6ed6685f-9d1f-4e6d-abb4-fba194bae37b  rack1
UN  127.0.0.1  79.06 KiB  16      ?                 ccc4653e-14df-4688-a340-3564e344ddd9  rack1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;D. Node2 does have a WARN in logs &lt;tt&gt;Your replication factor 2 is higher than the number of nodes 1 for datacenter: datacenter1&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;E. Creating a new KS doesn&apos;t trigger the warning message:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh&amp;gt; CREATE KEYSPACE ks2 WITH replication = {&apos;class&apos;: &apos;NetworkTopologyStrategy&apos;, &apos;datacenter1&apos;: &apos;2&apos;};
cqlsh&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am not being able to repro. These are 2 fresh nodes with no data and just calling &apos;bin/cassandra -f&apos; to start them up.&lt;br/&gt;
Any help appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17264954" author="brandon.williams" created="Thu, 14 Jan 2021 15:20:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Node2 does have a WARN in logs&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why?  I&apos;m not sure if all nodes should have a warning or just the one that received the creation request, but either way isn&apos;t it the second node?&lt;/p&gt;
</comment>
                            <comment id="17265005" author="bereng" created="Thu, 14 Jan 2021 16:40:01 +0000"  >&lt;p&gt;Atm the warning is on the replication strategy options validation so every time that KS/strategy gets validated it triggers that warning. But we can change that. I&apos;m more worried about reproducing the new node&apos;s failure to start.&lt;/p&gt;</comment>
                            <comment id="17267167" author="bereng" created="Mon, 18 Jan 2021 10:53:46 +0000"  >&lt;p&gt;Lacking repro for the node failure to start I am moving into review the warn message bit.&lt;/p&gt;</comment>
                            <comment id="17268048" author="adelapena" created="Tue, 19 Jan 2021 17:12:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;&#160;I think the failure adding the node can be reproduced using multiple datacenters and transient replication:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ccm create test --install-dir=$CASSANDRA_DIR
ccm populate -n 2:2
ccm start

cqlsh -e &lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE KEYSPACE k WITH REPLICATION = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;dc1&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;3/1&apos;&lt;/span&gt;};&quot;&lt;/span&gt;

ccm add node5 -i 127.0.0.5 -j 7500 -b -d dc1
ccm node5 start

# wait ~1m &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; gossip to settle and pending range setup
cat .ccm/test/node5/logs/system.log # contains errors
ccm node1 status # node5 hasn&apos;t joined
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If this is a problem exclusive of transient replication we might consider not blocking 4.0 because of it, since transient replication is an experimental feature, wdyt?&lt;/p&gt;

&lt;p&gt;As for the warning, I think it&apos;s a nice improvement, although I still have to review the PR.&lt;/p&gt;</comment>
                            <comment id="17268389" author="bereng" created="Wed, 20 Jan 2021 06:18:02 +0000"  >&lt;p&gt;Mmm seems to repro on multi-dc even without transient replication, that&apos;s the bit I was missing. I am surprised this didn&apos;t come up earlier...:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh&amp;gt; CREATE KEYSPACE k WITH REPLICATION = {&apos;class&apos; : &apos;NetworkTopologyStrategy&apos;, &apos;dc1&apos; : &apos;3/1&apos;};
ConfigurationException: Transient replication is not enabled on this node
cqlsh&amp;gt; CREATE KEYSPACE k WITH REPLICATION = {&apos;class&apos; : &apos;NetworkTopologyStrategy&apos;, &apos;dc1&apos; : &apos;3&apos;};
cqlsh&amp;gt;

java.lang.IllegalStateException: Multiple strict sources found for Full(/127.0.0.5:7000,(5604327680958034513,-9223372036854775808]), sources: [Full(/127.0.0.1:7000,(100,-9223372036854775808]), Full(/127.0.0.2:7000,(100,-9223372036854775808])]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17268549" author="adelapena" created="Wed, 20 Jan 2021 12:22:42 +0000"  >&lt;p&gt;Right, it seems that the problem was introduced with transient replication changes but it also happens on multi-DC without transient nodes and with transient replication disabled. I&apos;ve confirmed that the problematic use case works in 3.11 and 3.0.&lt;/p&gt;</comment>
                            <comment id="17268678" author="bereng" created="Wed, 20 Jan 2021 16:25:40 +0000"  >&lt;p&gt;I&apos;m pinning it down atm at the strict consistency logic not being dc-aware. I hope to push sthg tomorrow or the next day.&lt;/p&gt;</comment>
                            <comment id="17272047" author="bereng" created="Tue, 26 Jan 2021 11:35:43 +0000"  >&lt;p&gt;It&apos;s taken much longer than I expected due to ccm/dtests issues I&apos;ve found I am planning opening a ticket for.&lt;/p&gt;</comment>
                            <comment id="17276059" author="bereng" created="Mon, 1 Feb 2021 05:14:19 +0000"  >&lt;p&gt;Dropping a note for clarification to reviewers and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=edimitrova&quot; class=&quot;user-hover&quot; rel=&quot;edimitrova&quot;&gt;edimitrova&lt;/a&gt;. We neeed 16411 merged and then we can add 1 or 2 loc here to improve the the testing. But both are ready for review aside that minor.&lt;/p&gt;</comment>
                            <comment id="17276508" author="edimitrova" created="Mon, 1 Feb 2021 17:22:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;, as we talked, I think it is worth it to see both patches in a combined CI run. Thank you for all your efforts!&lt;/p&gt;</comment>
                            <comment id="17276942" author="bereng" created="Tue, 2 Feb 2021 08:26:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; as on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16411&quot; title=&quot;Fix topology corruption on joining nodes without DC in dtests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16411&quot;&gt;&lt;del&gt;CASSANDRA-16411&lt;/del&gt;&lt;/a&gt; we decided for a different approach I added the utests there so we no longer need to consolidate them &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17277213" author="adelapena" created="Tue, 2 Feb 2021 15:45:26 +0000"  >&lt;p&gt;The fix (and test) for the problem when joining a new node looks good to me, +1.&lt;/p&gt;

&lt;p&gt;Regarding the client warning, I&apos;m finding that it sticks for the session, so every &lt;tt&gt;CREATE KEYSPACE&lt;/tt&gt; statement will emit all the previous warnings:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE KEYSPACE k1 WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 2}; # warn about k1
CREATE KEYSPACE k2 WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 1};; # warn about k1 again
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is more surprising when we try to fix the problem reducing the RF:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE KEYSPACE k WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 2}; # warn about k1
ALTER KEYSPACE k WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 1}; # warn about k1 again
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As for the warning message in logs, I see that when we create a keyspace with a RF lesser than the number of nodes the warning will be emitted twice in every node. Also, every schema altering statement will emit the warning again in every node:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE KEYSPACE k WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 2}; # 2 warnings
CREATE TABLE k.t (k &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; PRIMARY KEY, v &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;); # 1 warning
ALTER TABLE k.t ADD v2 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;; # 1 warning
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This behaviour can be seen in the provided dtest, &lt;a href=&quot;https://github.com/apache/cassandra-dtest/blob/d9287666b80864165e48a37bb76640c16f084dc7/bootstrap_test.py#L301-L302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. I don&apos;t think this is wrong and indeed is the common behaviour for keyspace properties validation. However, I understand that having a RF lesser than the number of nodes is legitimate and the warning is just a friendly advice to prevent accidents, so perhaps we might consider warning only once, at keyspace creation time. I think we could do that by moving the warning emission from &lt;tt&gt;AbstractReplicationStrategy#validateOptions&lt;/tt&gt; to a new separate abstract method in &lt;tt&gt;AbstractReplicationStrategy&lt;/tt&gt;, and calling that method from &lt;tt&gt;AbstractReplicationStrategy.validateReplicationStrategy&lt;/tt&gt;, but not from &lt;tt&gt;AbstractReplicationStrategy#createReplicationStrategy&lt;/tt&gt;, if that makes sense. wdyt?&lt;/p&gt;

&lt;p&gt;Finally, the new client warning can also be emitted by &lt;tt&gt;ALTER KEYSPACE&lt;/tt&gt;, we could add a test to verify it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17277730" author="bereng" created="Wed, 3 Feb 2021 06:42:38 +0000"  >&lt;p&gt;The sticky message is a bug indeed. But the creation vs validation vs multi-node warn logging is sthg I thought about and decided to be noisy about it. I have mixed feelings as it is indeed a correct scenario if you are intending to do so. But it&apos;s not pretty if you do that by accident :thinking:  I don&apos;t like either solution so I&apos;ll be happy to take yours. Anybody else having an opinion please chime in &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17283823" author="edimitrova" created="Fri, 12 Feb 2021 16:45:41 +0000"  >&lt;p&gt;I believe all concerns were addressed already?&lt;/p&gt;

&lt;p&gt;Can we squash and run last CI run?&lt;/p&gt;</comment>
                            <comment id="17284556" author="bereng" created="Mon, 15 Feb 2021 06:14:00 +0000"  >&lt;p&gt;Done. Links in PR &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17284691" author="adelapena" created="Mon, 15 Feb 2021 12:22:02 +0000"  >&lt;p&gt;CircleCI runs look good to me, Jenkins is running&#160;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch/382/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. I think that if that looks good and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomasz.lasica&quot; class=&quot;user-hover&quot; rel=&quot;tomasz.lasica&quot;&gt;tomasz.lasica&lt;/a&gt; approves the last changes we&apos;ll be ready commit.&lt;/p&gt;</comment>
                            <comment id="17285023" author="bereng" created="Tue, 16 Feb 2021 04:26:52 +0000"  >&lt;p&gt;Seems jenkins failed for some reason and needs restarting...&lt;/p&gt;</comment>
                            <comment id="17285024" author="bereng" created="Tue, 16 Feb 2021 04:26:52 +0000"  >&lt;p&gt;Seems jenkins failed for some reason and needs restarting...&lt;/p&gt;</comment>
                            <comment id="17285144" author="adelapena" created="Tue, 16 Feb 2021 11:26:36 +0000"  >&lt;p&gt;Trying with separate components:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-test/232/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest/223/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-dtest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest-upgrade/222/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-dtest-upgrade&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-dtest/396/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;python-dtest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-cqlsh-tests/511/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cqlsh-test&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17285714" author="tomasz.lasica" created="Wed, 17 Feb 2021 08:27:56 +0000"  >&lt;p&gt;+1 on the code&lt;/p&gt;</comment>
                            <comment id="17286003" author="adelapena" created="Wed, 17 Feb 2021 17:22:08 +0000"  >&lt;p&gt;It seems many of the Jenkins tasks above have failed, so I have restarted them:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-test/233/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest/225/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-dtest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest-upgrade/224&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-dtest-upgrade&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-dtest/402/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;python-dtest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Unit tests are clean and the failures in jvm-dtests seem due to the environment. In the JVM upgrade dtests there is &lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest-upgrade/224/jdk=jdk_1.8_latest,label=cassandra/testReport/junit/org.apache.cassandra.distributed.upgrade/CompactStorageUpgradeTest/compactStoragePagingTest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a failure in &lt;tt&gt;CompactStorageUpgradeTest.compactStoragePagingTest&lt;/tt&gt;&lt;/a&gt; that seems to go away after rebasing the PR to &lt;tt&gt;trunk&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;As for Python dtests, there are &lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-dtest/402/#showFailuresLink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;multiple tests&lt;/a&gt; failing with the error message added by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16411&quot; title=&quot;Fix topology corruption on joining nodes without DC in dtests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16411&quot;&gt;&lt;del&gt;CASSANDRA-16411&lt;/del&gt;&lt;/a&gt; (&lt;tt&gt;Please specify the DC this node should be added to&lt;/tt&gt;), I&apos;m not sure why we aren&apos;t seeing those errors on the CircleCI runs provided in the PR.&lt;/p&gt;</comment>
                            <comment id="17286025" author="edimitrova" created="Wed, 17 Feb 2021 17:45:23 +0000"  >&lt;p&gt;I think the dtest branch is not rebased&lt;/p&gt;</comment>
                            <comment id="17286086" author="adelapena" created="Wed, 17 Feb 2021 18:57:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think the dtest branch is not rebased&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Makes sense. I have copied both branches and rebased them without conflicts, and now Python dtests are clean as a whistle:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/186/workflows/88206db3-bff4-4c04-b1e2-45ffefef4e60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/186/workflows/51aa9a8b-44c8-4b5d-a162-c8b9225f5504&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-test/234/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-dtest/403/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest/226/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-test&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch-jvm-dtest-upgrade/225/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jvm-test-upgrade&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Some jobs haven&apos;t finished yet, if they look good when they finish I will proceed to commit the changes.&lt;/p&gt;</comment>
                            <comment id="17286136" author="edimitrova" created="Wed, 17 Feb 2021 20:33:55 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt;, the results look good to me, +1&lt;/p&gt;</comment>
                            <comment id="17286280" author="bereng" created="Thu, 18 Feb 2021 05:21:13 +0000"  >&lt;p&gt;Thx guys for all the hard work getting these 2 tickets through review&lt;/p&gt;</comment>
                            <comment id="17286431" author="adelapena" created="Thu, 18 Feb 2021 11:53:34 +0000"  >&lt;p&gt;Patch committed to &lt;tt&gt;trunk&lt;/tt&gt; as &lt;a href=&quot;https://github.com/apache/cassandra/commit/87e4f31e30f6a89f1c17b5a9eb6406208e384d51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;87e4f31e30f6a89f1c17b5a9eb6406208e384d51,&lt;/a&gt;&#160;dtest committed as &lt;a href=&quot;https://github.com/apache/cassandra-dtest/commit/493ddae492a9a9a47bc484a7dfa75ef86fd3d9b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;493ddae492a9a9a47bc484a7dfa75ef86fd3d9b8&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                            <outwardlinks description="is a parent of">
                                        <issuelink>
            <issuekey id="13355097">CASSANDRA-16411</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12666243">CASSANDRA-5953</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12983" cascade-level=""><![CDATA[Availability]]></customfieldvalue>
                                <customfieldvalue key="12992" cascade-level="1"><![CDATA[Process Crash]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ktoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
        <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
        <customfieldvalue><![CDATA[tomasz.lasica]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/87e4f31e30f6a89f1c17b5a9eb6406208e384d51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/87e4f31e30f6a89f1c17b5a9eb6406208e384d51&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/cassandra-dtest/commit/493ddae492a9a9a47bc484a7dfa75ef86fd3d9b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/commit/493ddae492a9a9a47bc484a7dfa75ef86fd3d9b8&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;See PR&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>