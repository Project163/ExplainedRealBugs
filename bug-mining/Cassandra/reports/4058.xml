<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:00:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10839] cqlsh failed to format value bytearray</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10839</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Execute the following in cqlsh (5.0.1):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; create table test(column blob, primary key(column));
&amp;gt; insert into test (column) VALUES(0x00);
&amp;gt; select * from test;

 column
--------------------
 bytearray(b&apos;\x00&apos;)

(1 rows)
Failed to format value bytearray(b&apos;\x00&apos;) : b2a_hex() argument 1 must be string or read-only buffer, not bytearray
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12920747">CASSANDRA-10839</key>
            <summary>cqlsh failed to format value bytearray</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefania">Stefania Alborghetti</assignee>
                                    <reporter username="leonhardt">Severin Leonhardt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Dec 2015 12:15:05 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:48 +0000</updated>
                            <resolved>Thu, 14 Jan 2016 15:53:21 +0000</resolved>
                                        <fixVersion>2.1.13</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15053874" author="robmcl4" created="Sat, 12 Dec 2015 00:54:42 +0000"  >&lt;p&gt;can not reproduce on cqlsh 5.0.1, cassandra 3.2 (trunk)&lt;/p&gt;</comment>
                            <comment id="15055225" author="robmcl4" created="Mon, 14 Dec 2015 00:53:58 +0000"  >&lt;p&gt;Can reproduce using cassandra 2.1.12 and python 2.6.6&lt;/p&gt;

&lt;p&gt;Cannot reproduce using:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;cassandra 2.1.12 and python 2.7.11&lt;/li&gt;
	&lt;li&gt;cassandra 2.1.11 and python 2.6.6&lt;/li&gt;
	&lt;li&gt;cassandra 2.1.11 and python 2.7.11&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The likely cause is &lt;a href=&quot;https://github.com/apache/cassandra/commit/1b629c101bbf793f8e248bbf4396bb41adc0af97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 1b629c10&lt;/a&gt;, see (new) line 127 in formatting.py&lt;/p&gt;

&lt;p&gt;I suspect you are running python 2.6; cassandra requires 2.7 &amp;#8211; please check your python version&lt;/p&gt;</comment>
                            <comment id="15057685" author="leonhardt" created="Tue, 15 Dec 2015 09:18:26 +0000"  >&lt;p&gt;You are correct, we are on Python 2.6. This is what the RPM package specifies as the minimum required version:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;# repoquery --requires cassandra21
/bin/sh
python(abi) &amp;gt;= 2.6
shadow-utils
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was unable to find any information about Cassandra requiring Python 2.7. Please let me know where such requirements are documented.&lt;/p&gt;</comment>
                            <comment id="15067013" author="mambocab" created="Mon, 21 Dec 2015 20:07:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Stefania&quot; class=&quot;user-hover&quot; rel=&quot;stefania&quot;&gt;Stefania&lt;/a&gt; Could you have a look at this? As far as I can tell, Python 2.7+ isn&apos;t a documented dependency for &lt;tt&gt;cqlsh&lt;/tt&gt; on 2.1, but there seems to be an incompatibility that I can&apos;t find documented there. In fact, &lt;tt&gt;cqlsh&lt;/tt&gt;&apos;s &lt;tt&gt;python&lt;/tt&gt; executable-discovery code prefers 2.6:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-2.1/bin/cqlsh#L25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/cassandra-2.1/bin/cqlsh#L25&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15068105" author="stefania" created="Tue, 22 Dec 2015 13:25:54 +0000"  >&lt;p&gt;Confirmed as a problem on 2.1 HEAD with python 2.6 only. &lt;/p&gt;

&lt;p&gt;There isn&apos;t a documented dependency but we have unofficially supported python 2.6 until now and the decision so far has been to continue doing so but only in 2.1. Starting with 2.2 we require 2.7.&lt;/p&gt;

&lt;p&gt;It seems &lt;tt&gt;binascii.hexlify&lt;/tt&gt; does not accept byte arrays in python 2.6. &lt;/p&gt;

&lt;p&gt;2.1 patch and CI:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/10839-2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-10839-2.1-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mambocab&quot; class=&quot;user-hover&quot; rel=&quot;mambocab&quot;&gt;mambocab&lt;/a&gt; are you OK to review this?&lt;/p&gt;</comment>
                            <comment id="15085166" author="stefania" created="Wed, 6 Jan 2016 07:52:33 +0000"  >&lt;p&gt;Ping: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mambocab&quot; class=&quot;user-hover&quot; rel=&quot;mambocab&quot;&gt;mambocab&lt;/a&gt; are you OK reviewing this or shall I ask someone else? It&apos;s a one liner python technical thing hence I thought you&apos;d be well qualified.&lt;/p&gt;</comment>
                            <comment id="15085706" author="mambocab" created="Wed, 6 Jan 2016 15:49:46 +0000"  >&lt;p&gt;Sorry for the delay. The change looks fine to me, and the failures are all reasonable:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/userContent/cstar_report/index.html?jobs=stef1927-10839-2.1-dtest&amp;amp;show_known=true&amp;amp;show_passing_known=true&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/userContent/cstar_report/index.html?jobs=stef1927-10839-2.1-dtest&amp;amp;show_known=true&amp;amp;show_passing_known=true&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15085727" author="stefania" created="Wed, 6 Jan 2016 16:00:16 +0000"  >&lt;p&gt;Thanks for the review. Now the question is whether we actually commit this to 2.1 since it should be now for critical fixes only. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For 2.2+ onwards we don&apos;t need this patch since we no longer support python 2.7.&lt;/p&gt;</comment>
                            <comment id="15086352" author="iamaleksey" created="Wed, 6 Jan 2016 21:52:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Stefania&quot; class=&quot;user-hover&quot; rel=&quot;stefania&quot;&gt;Stefania&lt;/a&gt; if there is a 2.1.x version where this is not a problem (and this is a recent-ish 2.1 regression), then committing to 2.1 would be acceptable, I guess. Otherwise stick to 2.2.&lt;/p&gt;</comment>
                            <comment id="15091603" author="stefania" created="Mon, 11 Jan 2016 08:31:57 +0000"  >&lt;p&gt;Thanks for the clarification, this is a recent regression and should therefore be committed to 2.1. As stated above, for 2.2 onwards we don&apos;t need this workaround since we do not support python 2.6. So please commit &lt;a href=&quot;https://github.com/stef1927/cassandra/commits/10839-2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this patch&lt;/a&gt; to 2.1 and merge upwards using the ours merge strategy.&lt;/p&gt;</comment>
                            <comment id="15098288" author="iamaleksey" created="Thu, 14 Jan 2016 15:52:52 +0000"  >&lt;p&gt;Committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/26dc07b7db6334fd7d7f54ba0f4e8359117e60e9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;26dc07b7db6334fd7d7f54ba0f4e8359117e60e9&lt;/a&gt; to 2.1, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefania]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ppr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333872">2.1.12</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mambocab</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mambocab]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>