<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4808] nodetool doesnt work well with negative tokens</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4808</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;./apache-cassandra-1.2.0-beta1-SNAPSHOT/bin/nodetool move &amp;#45;2253536297082652573&lt;br/&gt;
Unrecognized option: -2253536297082652573&lt;br/&gt;
usage: java org.apache.cassandra.tools.NodeCmd --host &amp;lt;arg&amp;gt; &amp;lt;command&amp;gt;&lt;/p&gt;

&lt;p&gt; &lt;del&gt;cf,&lt;/del&gt;-column-family &amp;lt;arg&amp;gt;   only take a snapshot of the specified column&lt;br/&gt;
                             family&lt;/p&gt;</description>
                <environment></environment>
        <key id="12611860">CASSANDRA-4808</key>
            <summary>nodetool doesnt work well with negative tokens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vijay2win@yahoo.com">Vijay</assignee>
                                    <reporter username="vijay2win@yahoo.com">Vijay</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Oct 2012 17:22:41 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:25 +0000</updated>
                            <resolved>Tue, 23 Oct 2012 18:02:37 +0000</resolved>
                                        <fixVersion>1.2.0 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13476322" author="vijay2win@yahoo.com" created="Mon, 15 Oct 2012 18:14:27 +0000"  >&lt;p&gt;There are 2 option, &lt;/p&gt;

&lt;p&gt;Make nt to accept &apos;-&apos; by making &quot;Options&quot; ignore any -xxxx values (dont verify if they are valid options), this can cause confusion on other commands.&lt;/p&gt;

&lt;p&gt;Other option (Attached patch) is to support escape character for &apos;-&apos; &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Example: ./apache-cassandra-1.2.0-beta1-SNAPSHOT/bin/nodetool move \\-2253536297082652571
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13476369" author="brandon.williams" created="Mon, 15 Oct 2012 19:53:28 +0000"  >&lt;p&gt;I&apos;m confused as to why we need negative tokens.&lt;/p&gt;</comment>
                            <comment id="13476414" author="vijay2win@yahoo.com" created="Mon, 15 Oct 2012 20:31:53 +0000"  >&lt;p&gt;M3P supports -ve tokens the range is from Long.MIN_VALUE to Long.MAX_VALUE, &lt;/p&gt;

&lt;p&gt;explanation is in &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4621?focusedCommentId=13452829&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13452829&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-4621?focusedCommentId=13452829&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13452829&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example for generating tokens:&lt;/p&gt;

&lt;p&gt;For RandomPartitioner&lt;/p&gt;

&lt;p&gt;Node 0	: 0&lt;br/&gt;
Node 1	: 56713727820156410577229101238628035242&lt;br/&gt;
Node 2	: 113427455640312821154458202477256070484&lt;/p&gt;

&lt;p&gt;For Murmur3Partitioner&lt;/p&gt;

&lt;p&gt;Node 0	: 0&lt;br/&gt;
Node 1	: 6148914691236517204&lt;br/&gt;
Node 2	: -6148914691236517208&lt;/p&gt;</comment>
                            <comment id="13476786" author="slebresne" created="Tue, 16 Oct 2012 06:20:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m confused as to why we need negative tokens.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To elaborate, M3P uses a long token internally and since long in java are signed, we end up with a tokens that can be negative. We could chose to interpret the long as unsigned, but even if we do that, we need the minimum token to not be a valid token, so tokens would have to be a value in &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 2^64-1&amp;#93;&lt;/span&gt;, not &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 2^64-1&amp;#93;&lt;/span&gt; and so people would have to adapt whatever algorithm they use to compute tokens anyway and hence I&apos;m not sure it&apos;s worth bothering changing from negative tokens.&lt;/p&gt;</comment>
                            <comment id="13482203" author="slebresne" created="Tue, 23 Oct 2012 08:39:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;nit: could be nice to add how to do the escaping in the help of nodetool move (I think that&apos;s the only command that take a token as argument).&lt;/p&gt;</comment>
                            <comment id="13482524" author="vijay2win@yahoo.com" created="Tue, 23 Oct 2012 18:02:37 +0000"  >&lt;p&gt;Added help comment and committed, Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549181" name="0001-CASSANDRA-4808.patch" size="1085" author="vijay2win@yahoo.com" created="Mon, 15 Oct 2012 18:14:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[vijay2win@yahoo.com]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248767</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09ztb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>