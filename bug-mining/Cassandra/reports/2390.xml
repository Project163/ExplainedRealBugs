<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:40:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6136] CQL should not allow an empty string as column identifier</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6136</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;CQL currently allows users to create a table with an empty string as column identifier:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE t (k &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; primary key, &quot;&quot; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which results in the following table:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE t (
  k &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
  &quot;&quot; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
  PRIMARY KEY (k)
) WITH
  bloom_filter_fp_chance=0.010000 AND
  caching=&lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS_ONLY&apos;&lt;/span&gt; AND
  comment=&apos;&apos; AND
  dclocal_read_repair_chance=0.000000 AND
  gc_grace_seconds=864000 AND
  index_interval=128 AND
  read_repair_chance=0.100000 AND
  replicate_on_write=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; AND
  populate_io_cache_on_flush=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt; AND
  default_time_to_live=0 AND
  speculative_retry=&lt;span class=&quot;code-quote&quot;&gt;&apos;NONE&apos;&lt;/span&gt; AND
  memtable_flush_period_in_ms=0 AND
  compaction={&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SizeTieredCompactionStrategy&apos;&lt;/span&gt;} AND
  compression={&lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_compression&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SnappyCompressor&apos;&lt;/span&gt;};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Empty strings are not allowed for keyspace and table identifiers though.&lt;/p&gt;

&lt;p&gt;I guess it&apos;s just a case that we haven&apos;t covered. Of course making it illegal in a future version would be a breaking change, but nobody serious would manually have chosen such an identifier...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672018">CASSANDRA-6136</key>
            <summary>CQL should not allow an empty string as column identifier</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbrosius">David Brosius</assignee>
                                    <reporter username="mfiguiere">Micha&#235;l Figui&#232;re</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Oct 2013 20:32:16 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:03 +0000</updated>
                            <resolved>Thu, 3 Oct 2013 14:31:03 +0000</resolved>
                                        <fixVersion>2.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13784400" author="mfiguiere" created="Wed, 2 Oct 2013 20:36:58 +0000"  >&lt;p&gt;Looks like it&apos;s used in &lt;tt&gt;system.&quot;IndexInfo&quot;&lt;/tt&gt; actually:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cqlsh&amp;gt; DESC TABLE system.&lt;span class=&quot;code-quote&quot;&gt;&quot;IndexInfo&quot;&lt;/span&gt;

CREATE TABLE &lt;span class=&quot;code-quote&quot;&gt;&quot;IndexInfo&quot;&lt;/span&gt; (
  table_name text,
  index_name text,
  &quot;&quot; blob,
  PRIMARY KEY (table_name, index_name)
) WITH COMPACT STORAGE AND
  bloom_filter_fp_chance=0.010000 AND
  caching=&lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS_ONLY&apos;&lt;/span&gt; AND
  comment=&lt;span class=&quot;code-quote&quot;&gt;&apos;indexes that have been completed&apos;&lt;/span&gt; AND
  dclocal_read_repair_chance=0.000000 AND
  gc_grace_seconds=0 AND
  index_interval=128 AND
  read_repair_chance=0.000000 AND
  replicate_on_write=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; AND
  populate_io_cache_on_flush=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt; AND
  default_time_to_live=0 AND
  speculative_retry=&lt;span class=&quot;code-quote&quot;&gt;&apos;NONE&apos;&lt;/span&gt; AND
  memtable_flush_period_in_ms=0 AND
  compaction={&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SizeTieredCompactionStrategy&apos;&lt;/span&gt;} AND
  compression={&lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_compression&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;LZ4Compressor&apos;&lt;/span&gt;};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Would it be the reason for that to be allowed?&lt;/p&gt;</comment>
                            <comment id="13784761" author="dbrosius" created="Thu, 3 Oct 2013 02:55:54 +0000"  >&lt;p&gt;version 1 disallows empty column names everywhere&lt;br/&gt;
version 2 disallows empty column names everywhere but in the system keyspace&lt;/p&gt;</comment>
                            <comment id="13784934" author="slebresne" created="Thu, 3 Oct 2013 09:02:24 +0000"  >&lt;p&gt;Concerning IndexInfo, this is really a bug of the describe command of cqlsh. We internally use a empty column name to represent COMPACT tables that have not column outside the PK (which is generally allowed). So cqlsh should be not display that empty column.&lt;/p&gt;

&lt;p&gt;Now the fact that we use it internally for that purpose is probably a good idea to refuse it otherwise indeed (the fact that it&apos;s not allowed for table and keyspace identifiers is less so, those are a lot more restricted than column names already).&lt;/p&gt;

&lt;p&gt;But if we do it, I&apos;d rather directly do it at the grammar level, and disallow empty quoted names altogether (again, that&apos;s &lt;b&gt;not&lt;/b&gt; a problem for IndexInfo).&lt;/p&gt;</comment>
                            <comment id="13785028" author="dbrosius" created="Thu, 3 Oct 2013 12:10:03 +0000"  >&lt;p&gt;version3 disallows at the parse layer.&lt;/p&gt;</comment>
                            <comment id="13785230" author="slebresne" created="Thu, 3 Oct 2013 14:22:57 +0000"  >&lt;p&gt;Last patch lgtm, +1. I&apos;ve also created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6139&quot; title=&quot;Cqlsh shouldn&amp;#39;t display empty &amp;quot;value alias&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6139&quot;&gt;&lt;del&gt;CASSANDRA-6139&lt;/del&gt;&lt;/a&gt; to fix cqlsh DESC command.&lt;/p&gt;</comment>
                            <comment id="13785235" author="dbrosius" created="Thu, 3 Oct 2013 14:31:03 +0000"  >&lt;p&gt;committed to cassandra-2.0 as commit 27f4ea2bfd8831ee147ee1ed7a59be9c3308a558&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12606505" name="6136.txt" size="1120" author="dbrosius" created="Thu, 3 Oct 2013 01:51:14 +0000"/>
                            <attachment id="12606512" name="6136_v2.txt" size="1810" author="dbrosius" created="Thu, 3 Oct 2013 02:55:54 +0000"/>
                            <attachment id="12606573" name="6136_v3.txt" size="581" author="dbrosius" created="Thu, 3 Oct 2013 12:11:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dbrosius]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1omnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>