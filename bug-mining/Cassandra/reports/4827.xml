<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:08:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13573] ColumnMetadata.cellValueType() doesn&apos;t return correct type for non-frozen collection</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13573</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Schema and data&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE ks.cf (
    hash blob,
    report_id timeuuid,
    subject_ids frozen&amp;lt;set&amp;lt;int&amp;gt;&amp;gt;,
    PRIMARY KEY (hash, report_id)
) WITH CLUSTERING ORDER BY (report_id DESC);

INSERT INTO ks.cf (hash, report_id, subject_ids) VALUES (0x1213, now(), {1,2,4,5});
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;sstabledump output is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;sstabledump mc-1-big-Data.db 
[
  {
    &quot;partition&quot; : {
      &quot;key&quot; : [ &quot;1213&quot; ],
      &quot;position&quot; : 0
    },
    &quot;rows&quot; : [
      {
        &quot;type&quot; : &quot;row&quot;,
        &quot;position&quot; : 16,
        &quot;clustering&quot; : [ &quot;ec01eed0-49d9-11e7-b39a-97a96f529c02&quot; ],
        &quot;liveness_info&quot; : { &quot;tstamp&quot; : &quot;2017-06-05T10:29:57.434856Z&quot; },
        &quot;cells&quot; : [
          { &quot;name&quot; : &quot;subject_ids&quot;, &quot;value&quot; : &quot;&quot; }
        ]
      }
    ]
  }
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While the values are really there:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh:ks&amp;gt; select * from cf ;

 hash   | report_id                            | subject_ids
--------+--------------------------------------+-------------
 0x1213 | 02bafff0-49d9-11e7-b39a-97a96f529c02 |   {1, 2, 4}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13077216">CASSANDRA-13573</key>
            <summary>ColumnMetadata.cellValueType() doesn&apos;t return correct type for non-frozen collection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jasonstack">Zhao Yang</assignee>
                                    <reporter username="ostefano">Stefano Ortolani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jun 2017 10:38:59 +0000</created>
                <updated>Tue, 29 Jun 2021 17:32:09 +0000</updated>
                            <resolved>Tue, 8 Aug 2017 14:58:09 +0000</resolved>
                                        <fixVersion>3.0.15</fixVersion>
                    <fixVersion>3.11.1</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Feature/Materialized Views</component>
                    <component>Legacy/Core</component>
                    <component>Legacy/CQL</component>
                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16076149" author="jasonstack" created="Thu, 6 Jul 2017 08:19:41 +0000"  >&lt;p&gt;There are some issues in sstabledump&lt;/p&gt;

&lt;p&gt;1. as you reported,  frozen collections&lt;/p&gt;

&lt;p&gt;2. non-frozen UDT&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.apache.cassandra.db.marshal.UserType cannot be cast to org.apache.cassandra.db.marshal.CollectionType&lt;br/&gt;
	at org.apache.cassandra.tools.JsonTransformer.serializeCell(JsonTransformer.java:413)&lt;br/&gt;
	at org.apache.cassandra.tools.JsonTransformer.serializeColumnData(JsonTransformer.java:396)&lt;br/&gt;
	at org.apache.cassandra.tools.JsonTransformer.serializeRow(JsonTransformer.java:276)&lt;br/&gt;
	at org.apache.cassandra.tools.JsonTransformer.serializePartition(JsonTransformer.java:210)&lt;br/&gt;
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)&lt;br/&gt;
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)&lt;br/&gt;
	at java.util.Iterator.forEachRemaining(Iterator.java:116)&lt;br/&gt;
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)&lt;br/&gt;
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)&lt;br/&gt;
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)&lt;br/&gt;
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)&lt;br/&gt;
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)&lt;br/&gt;
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)&lt;br/&gt;
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)&lt;br/&gt;
	at org.apache.cassandra.tools.JsonTransformer.toJson(JsonTransformer.java:100)&lt;br/&gt;
	at org.apache.cassandra.tools.SSTableExport.main(SSTableExport.java:236)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16077805" author="jasonstack" created="Fri, 7 Jul 2017 08:30:48 +0000"  >&lt;p&gt;I am thinking to change all &lt;tt&gt;type.getString()&lt;/tt&gt; in &lt;tt&gt;JsonTransformer&lt;/tt&gt; to &lt;tt&gt;type.toJSONString&lt;/tt&gt; when &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13592&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;13592&lt;/a&gt; merged.&lt;/p&gt;

&lt;p&gt;Current &lt;tt&gt;collectionType.getString()&lt;/tt&gt; only generates entire data as byte string. Imo,&lt;tt&gt;getString&lt;/tt&gt; is not designed for generate json readable values.&lt;/p&gt;</comment>
                            <comment id="16078133" author="cnlwsu" created="Fri, 7 Jul 2017 14:10:55 +0000"  >&lt;p&gt;The json transformer uses jackson&apos;s JsonGenerator so you do not need things designed to be in json output. Switching to &lt;tt&gt;toJSONString&lt;/tt&gt; would end up double escaped as the jackson generator will try to remove the json encoding from the JSONString output.&lt;/p&gt;

&lt;p&gt;If I remember correctly pretty much all UDTs were not supported initially because the information to deserialize the UDT requires the system schema tables to be read, which may not be available unless running on the same system with exact configuration and requires client initialization (which is dangerous and we dont want to do). If we have adequate info to deserialize the UDTs from the stats metadata it probably just needs a different check to handle it.&lt;/p&gt;</comment>
                            <comment id="16079565" author="jasonstack" created="Sun, 9 Jul 2017 11:23:35 +0000"  >&lt;p&gt;I think we could use &lt;tt&gt;`writeRawValue(String)`&lt;/tt&gt;  to avoid double escape.  Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13592&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;13592&lt;/a&gt; is merged, we should have correct json representations for all types.. better than using &lt;tt&gt;type.toString&lt;/tt&gt; which, imo, serves a different purposes.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;all UDTs were not supported initially because the information to deserialize the UDT requires the system schema tables to be read (which is dangerous and we dont want to do)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If there is dependency to local schema tables, I agree not to support UDT and print raw-bytes instead.&lt;/p&gt;

&lt;p&gt;But AFAIK after 8099, there should not be a dependency on schema tables while deserializing UDT.&lt;/p&gt;</comment>
                            <comment id="16079644" author="jasonstack" created="Sun, 9 Jul 2017 15:36:58 +0000"  >&lt;p&gt;Some issues are related to &lt;tt&gt;ColumnMetadata.cellValueType()&lt;/tt&gt; which currently :  &lt;tt&gt;a&lt;/tt&gt;. if CollectionType, returns value&apos;s type; &lt;tt&gt;b&lt;/tt&gt; otherwise,  its own type.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t handle properly:  &lt;tt&gt;1&lt;/tt&gt;. frozen collection type,  &lt;tt&gt;2&lt;/tt&gt;. non-frozen udt which requires cellPath to retrieve value&apos;s type..  &lt;/p&gt;

&lt;p&gt;There are 3 kind of usage for &lt;tt&gt;ColumnMetadata.cellValueType()&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;1. to check if column is counter type, it&apos;s safe&lt;/p&gt;

&lt;p&gt;2. used in MV to check if cell value (base&apos;s non key column in view&apos;s primary key) is changed. &lt;br/&gt;
    in the existing implementation, it will get &lt;tt&gt;cellValueType&lt;/tt&gt; of a &lt;tt&gt;frozen collection&lt;/tt&gt; to decode &lt;tt&gt;frozen collection bytes&lt;/tt&gt;&lt;br/&gt;
    it can easily result in runtime error. eg. base has non-key column &lt;tt&gt;frozen&amp;lt;list&amp;lt;tuple&amp;lt;text,text&amp;gt;&amp;gt;&lt;/tt&gt;  as view&apos;s primary key. so  &lt;tt&gt;tuple&amp;lt;text, text&amp;gt; type&lt;/tt&gt; is used to decode &lt;tt&gt;frozen&amp;lt;list&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt; &lt;tt&gt;non-frozen-udt&lt;/tt&gt; cannot be used as view&apos;s primary key. the issue here is only with &lt;tt&gt;frozen-collection&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;3. in &lt;tt&gt;sasi&lt;/tt&gt;.  haven&apos;t check how it is affected.  will check it later&lt;/p&gt;</comment>
                            <comment id="16079806" author="jasonstack" created="Mon, 10 Jul 2017 02:59:24 +0000"  >&lt;p&gt;first draft of the patch. if it looks good, I will prepare fixes for 2.2/3.0/3.11 as well&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unit&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra-dtest-riptano/commits/CASSANDRA-13573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;unit test: passed.&lt;br/&gt;
dtest: &lt;tt&gt;cqlsh_tests.cqlsh_tests.TestCqlsh.test_describe&lt;/tt&gt; &amp;amp; &lt;tt&gt;bootstrap_test.TestBootstrap.consistent_range_movement_false_with_rf1_should_succeed_test&lt;/tt&gt; both are broken for some time&lt;/p&gt;

&lt;p&gt;changes:&lt;br/&gt;
1. use &lt;tt&gt;type.toJSONString()&lt;/tt&gt; with &lt;tt&gt;json.writeRawValue()&lt;/tt&gt; instead of &lt;tt&gt;type.getString()&lt;/tt&gt; to generate readable content &lt;br/&gt;
2. &lt;tt&gt;column.cellValueType&lt;/tt&gt; now :  &lt;tt&gt;a&lt;/tt&gt;. if non-frozen collection, return value type, &lt;tt&gt;b&lt;/tt&gt;. otherwise, return column type.&lt;/p&gt;</comment>
                            <comment id="16081517" author="jasonstack" created="Tue, 11 Jul 2017 02:12:02 +0000"  >&lt;p&gt;About the impact on SASI,  now sasi doesn&apos;t support &lt;tt&gt;complex&lt;/tt&gt; type (aka, type with cellPath, non-frozen collection or udt).  &lt;/p&gt;

&lt;p&gt;By fixing &lt;tt&gt;column.cellValueTytpe&lt;/tt&gt;, the &lt;tt&gt;columnIndex.isLiteral()&lt;/tt&gt; is now properly returning &lt;tt&gt;false&lt;/tt&gt; if indexed column is &lt;tt&gt;frozen-collection&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16108673" author="adelapena" created="Tue, 1 Aug 2017 10:02:22 +0000"  >&lt;p&gt;The patch looks good to me, excellent job.&lt;/p&gt;

&lt;p&gt;The assertion at &lt;tt&gt;ColumnMetadata#cellValueType()&lt;/tt&gt; to check that the precondition mentioned in the comment is satisfied makes sense to me.&lt;/p&gt;

&lt;p&gt;There are some minor nits about code style:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;There are some missed space-after-comma at &lt;tt&gt;ViewTest#testFrozenCollectionsWithComplicatedInnerType()&lt;/tt&gt;. Also, it would be nice for the sake of uniformity to align the create table and create view statement as they are in similar tests in the same file.&lt;/li&gt;
	&lt;li&gt;It would be good to add a &lt;tt&gt;@jira_ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13573&quot; title=&quot;ColumnMetadata.cellValueType() doesn&amp;#39;t return correct type for non-frozen collection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13573&quot;&gt;&lt;del&gt;CASSANDRA-13573&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt; tag in the dtest docstring.&lt;/li&gt;
	&lt;li&gt;This is just an idea, but I think that the dtest &lt;tt&gt;CREATE TABLE&lt;/tt&gt; and insertion could be more readable using a cell per line, something like:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;session.execute(&lt;span class=&quot;code-quote&quot;&gt;&apos;CREATE TABLE ks.cf (&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;key &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; PRIMARY KEY,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;list_f frozen&amp;lt;list&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;set_f frozen&amp;lt;set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;, &apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;map_f frozen&amp;lt;map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;tuple_f frozen&amp;lt;tuple&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;, &apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;user_type_f frozen&amp;lt;user_type&amp;gt;, &apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;list_v list&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;set_v set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;map_v map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;tuple_v tuple&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;,&apos;&lt;/span&gt;
                &lt;span class=&quot;code-quote&quot;&gt;&apos;user_type_v simple_type)&apos;&lt;/span&gt;)
...
session.execute(statement, [1,
                            [1, 2, 3],  # list_f
                            {1, 2, 3},  # set_f
                            {1: 1, 2: 2, 3: 3},  # map_f
                            (9, 9),  # map_f
                            FrozenUserType(&lt;span class=&quot;code-quote&quot;&gt;&apos;SG&apos;&lt;/span&gt;, 100100, {&lt;span class=&quot;code-quote&quot;&gt;&apos;321&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;123&apos;&lt;/span&gt;}),  # user_type_f
                            [1, 2],  # list_v
                            {1, 2},  # set_v
                            {1: 1, 2: 2},  # map_v
                            (8, 8),  # tuple_v
                            NonFrozenUserType(&lt;span class=&quot;code-quote&quot;&gt;&apos;SG&apos;&lt;/span&gt;, 100100)  # user_type_v
                            ])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What do you think?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16108907" author="cnlwsu" created="Tue, 1 Aug 2017 13:42:06 +0000"  >&lt;p&gt;Can we make sure to test this with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13683&quot; title=&quot;sstabledump should not use tool initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13683&quot;&gt;&lt;del&gt;CASSANDRA-13683&lt;/del&gt;&lt;/a&gt; ? The sstabledump tool was changed to be tool initiated for last few versions which can lead to UDTs mistakenly accessed from the C* system tables which are not available always. We do not want to add it as a requirement to have to run sstabledump on a C* node.&lt;/p&gt;</comment>
                            <comment id="16110317" author="jasonstack" created="Wed, 2 Aug 2017 05:13:18 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13573-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unit&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;irrelevant:&lt;br/&gt;
materialized_views_test.TestMatyerializedViews.view_tombstones_test &lt;br/&gt;
bootstrap_test.TestBootstrap.consistent_range_movement_false_with_rf1_should_succeed_test&lt;br/&gt;
cql_tests.cqlsh_tests.TestCqlsh.test_describe&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13573-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/360&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unit&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; passed &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13573-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unit&lt;/a&gt;  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; authe_test.TestAuth.system_auth_ks_is_alterable_test irrelevant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra-dtest-riptano/commits/CASSANDRA-13573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Addressed comments in dtest and src. &lt;/p&gt;

&lt;p&gt;I tested with &quot;clientInitialization()&quot; with data/schema folder removed. UDT works.   &lt;/p&gt;</comment>
                            <comment id="16112532" author="adelapena" created="Thu, 3 Aug 2017 10:08:29 +0000"  >&lt;p&gt;The changes look good to me. It seems that the CI tests that are finished are ok; it can be committed if the remaining tests pass.&lt;/p&gt;

&lt;p&gt;One tiny detail that I forgot and can be fixed during commit, the comment &quot;Test that sstabledump against non-frozen udt&quot; in the dtest should be &quot;Test sstabledump against non-frozen udt&quot;, without the &quot;that&quot;.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16114859" author="cnlwsu" created="Fri, 4 Aug 2017 19:22:02 +0000"  >&lt;p&gt;lgtm +1&lt;/p&gt;</comment>
                            <comment id="16118425" author="adelapena" created="Tue, 8 Aug 2017 14:57:32 +0000"  >&lt;p&gt;Committed to 3.0 as &lt;a href=&quot;https://github.com/apache/cassandra/commit/3960260472fcd4e0243f62cc813992f1365197c6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3960260472fcd4e0243f62cc813992f1365197c6&lt;/a&gt; and merged into 3.11 and trunk.&lt;/p&gt;

&lt;p&gt;Dtest committed to master as &lt;a href=&quot;https://github.com/apache/cassandra-dtest/commit/959208749d70e5808aec144e87b73e90d56a7f91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;959208749d70e5808aec144e87b73e90d56a7f91&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16118435" author="jasonstack" created="Tue, 8 Aug 2017 15:03:45 +0000"  >&lt;p&gt;Thank you both for your review&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13004171">CASSANDRA-12628</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13002197">CASSANDRA-12594</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13134601">CASSANDRA-14199</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jasonstack]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fvdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>adelapena</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12337349">3.0.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>