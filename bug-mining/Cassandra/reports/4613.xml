<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:06:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13075] Indexer is not correctly invoked when building indexes over sstables</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13075</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Following &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12796&quot; title=&quot;Heap exhaustion when rebuilding secondary index over a table with wide partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12796&quot;&gt;&lt;del&gt;CASSANDRA-12796&lt;/del&gt;&lt;/a&gt;, &lt;tt&gt;SecondaryIndexManager#indexPartition()&lt;/tt&gt; calls each &lt;tt&gt;Indexer&lt;/tt&gt; &lt;tt&gt;begin&lt;/tt&gt; and &lt;tt&gt;finish&lt;/tt&gt; methods multiple times per partition (depending on the page size), as &lt;tt&gt;PartitionIterators#getOnlyElement()&lt;/tt&gt; returns an empty partition even when the iterator is exhausted.&lt;/p&gt;

&lt;p&gt;This leads to bugs for &lt;tt&gt;Indexer&lt;/tt&gt; implementations doing actual work in those  methods, but even worse, it provides the &lt;tt&gt;Indexer&lt;/tt&gt; the same input of an empty partition containing only a non-live partition deletion, as the &lt;tt&gt;Indexer#partitionDelete()&lt;/tt&gt; method is &lt;b&gt;not&lt;/b&gt; actually called.&lt;/p&gt;

&lt;p&gt;My proposed solution:&lt;br/&gt;
1) Stop the iteration before the empty partition is returned and ingested into the &lt;tt&gt;Indexer&lt;/tt&gt;.&lt;br/&gt;
2) Actually call the &lt;tt&gt;Indexer#partitionDelete()&lt;/tt&gt; method inside &lt;tt&gt;SecondaryIndexManager#indexPartition()&lt;/tt&gt; (which requires to use a filtered iterator so it actually contains the deletion info).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030230">CASSANDRA-13075</key>
            <summary>Indexer is not correctly invoked when building indexes over sstables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ifesdjeen">Alex Petrov</assignee>
                                    <reporter username="sbtourist">Sergio Bossa</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 20:58:04 +0000</created>
                <updated>Fri, 15 May 2020 08:05:29 +0000</updated>
                            <resolved>Thu, 19 Jan 2017 22:16:13 +0000</resolved>
                                        <fixVersion>3.0.11</fixVersion>
                    <fixVersion>3.10</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15794760" author="ifesdjeen" created="Tue, 3 Jan 2017 10:48:27 +0000"  >&lt;p&gt;Good find! &lt;/p&gt;

&lt;p&gt;I might be misunderstanding the issue, but as far as I can say, we have multiple alternatives, if what we need is ensuring that &lt;tt&gt;Index.Indexer::start&lt;/tt&gt; and &lt;tt&gt;Index.Indexer::finish&lt;/tt&gt; are called just once per partition:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;piggyback the &lt;tt&gt;readStatic&lt;/tt&gt; boolean, that makes sure we index the static row just once&lt;/li&gt;
	&lt;li&gt;call them outside of the loop (since essentially we have both &lt;tt&gt;partitionColumns&lt;/tt&gt; and &lt;tt&gt;writeGroup&lt;/tt&gt; available before we have a partition page, so it&apos;s optional&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I may have misunderstood the part about &lt;tt&gt;PartitionIterators.getOnlyElement&lt;/tt&gt;, but it also seems to me that this behaviour will be just fine if we take the &lt;tt&gt;start&lt;/tt&gt; and &lt;tt&gt;finish&lt;/tt&gt; out of the loop, since &lt;tt&gt;insertRow&lt;/tt&gt; for statics will be skipped on further iterations and for partition rows it will be also skipped since partition is empty on exhausted iterator.. &lt;/p&gt;</comment>
                            <comment id="15811740" author="sbtourist" created="Mon, 9 Jan 2017 13:10:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;my description above might have been misleading, as I do not think the actual problem is calling &lt;tt&gt;start&lt;/tt&gt; and &lt;tt&gt;finish&lt;/tt&gt; just once: as long as they are called together, it will be fine, even if they&apos;re called multiple times for the same partition &lt;b&gt;but different subsets of rows&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;The real problem to me is they are called an additional time even when the partition is exhausted. The solution you proposed could work on paper in terms of avoiding those methods being called multiple times (at all), even if practically speaking could be troublesome, but only for the first part of the problem: what about calling &lt;tt&gt;Indexer#partitionDelete()&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="15811796" author="ifesdjeen" created="Mon, 9 Jan 2017 13:38:12 +0000"  >&lt;p&gt;Yes, sorry, I understood that although didn&apos;t have a chance to post my findings here.&lt;/p&gt;

&lt;p&gt;I&apos;ve written a simple test that would test different partitions (with/without static rows, different page size: more/less than items in partition), but was unable to reproduce the issue (that we keep calling &lt;tt&gt;begin&lt;/tt&gt; / &lt;tt&gt;end&lt;/tt&gt; even after the paging iterator has been exhausted. Could you help me to reproduce it? It might be looking like it, especially if you check for whether or not it was exhausted before actual paging took place. You&apos;d need to check after the `try` block to be sure.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;partitionDelete&lt;/tt&gt; isn&apos;t called, you&apos;re absolutely right here, and we should address this issue. &lt;/p&gt;

&lt;p&gt;Do you see these things as two separate issues? &lt;/p&gt;</comment>
                            <comment id="15812069" author="sbtourist" created="Mon, 9 Jan 2017 15:40:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;, please see the attached &lt;tt&gt;CustomIndexTest.java&lt;/tt&gt;: it adds a quickly hacked &lt;tt&gt;partitionIsNotOverIndexed&lt;/tt&gt; test which shows how the &lt;tt&gt;finish&lt;/tt&gt; method is invoked twice even if only a single partition with a single row is present.&lt;/p&gt;</comment>
                            <comment id="15825704" author="ifesdjeen" created="Tue, 17 Jan 2017 09:28:47 +0000"  >&lt;p&gt;I&apos;ve prepared a patch which would address both issues you have described: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;we use unfiltered pager now in order to allow seeing partition deletions and therefore notifying the client about the fact that partition was deleted&lt;/li&gt;
	&lt;li&gt;problem with empty extra page is addressed. It was surfacing itself only when the page size was exactly size of partition. In this case, it tried to fetch another page, was receiving an empty partition in return. We skip this corner case here. In other places it&apos;s used it doesn&apos;t seem to be a problem&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, it will help to handle range tombstones correctly for indexes as well.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-3.X&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.X&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.X-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.X-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15826423" author="sbtourist" created="Tue, 17 Jan 2017 17:23:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I believe there are a few problems with your patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/803d3c6ea6e6852103204c7d0bb46001be191ab2#diff-3f2c8994c4ff8748c3faf7e70958520dR550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Passing&lt;/a&gt; the partition columns for the metadata definition is subtly different than passing the columns for the read partition, as the latter could be a subset of the former (at least according to javadocs and a brief code inspection); I&apos;m not sure how much it matters in practice, but that could potentially lead to unwanted index calls.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/803d3c6ea6e6852103204c7d0bb46001be191ab2#diff-3f2c8994c4ff8748c3faf7e70958520dR567&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Processing&lt;/a&gt; the collected range tombstones inside the loop, piggybacking on the fact the loop itself will do one more iteration after exhaustion, doesn&apos;t actually work, that is, it seems range tombstones are never processed; this can be easily verified by checking range tombstones &lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/803d3c6ea6e6852103204c7d0bb46001be191ab2#diff-13cb97758bcb11cce8fc6f4cb1990dd6R754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; (as this test &lt;em&gt;should&lt;/em&gt; check for range tombstones, unless I&apos;m missing something?).&lt;/li&gt;
	&lt;li&gt;Even if the last point worked, I believe that would lead to a duplicate &lt;tt&gt;begin&lt;/tt&gt; and &lt;tt&gt;finish&lt;/tt&gt; call for range tombstones.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/803d3c6ea6e6852103204c7d0bb46001be191ab2#diff-71513a85468b7cbc97f1e820b06a20a8R125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Unused&lt;/a&gt;?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15826571" author="ifesdjeen" created="Tue, 17 Jan 2017 18:39:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;Processing the collected range tombstones &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You&apos;re right. I have overlooked the tombstones processing. It was &quot;functioning&quot; correctly, although not passing elements where I expected them. I remember stepping into it with a debugger, so I made the wrong assumption. I&apos;ve added proper tests for it now. I&apos;ll check the paging tomorrow once again to make sure range tombstones won&apos;t span across pages. &lt;/p&gt;

&lt;p&gt;This also allowed to address the other two points (additional begin/finish calls along with passing correct rows).&lt;/p&gt;

&lt;p&gt;The last point appears to be a github highlighting glitch, since that&apos;s all I have changed in my diff view locally:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;         &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DataLimits pageLimits;
-        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DataLimits.Counter counter;
+        &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DataLimits.Counter counter;
         &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; DecoratedKey currentKey;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; I&apos;ve updated only trunk patch for now.&lt;/p&gt;</comment>
                            <comment id="15828347" author="sbtourist" created="Wed, 18 Jan 2017 16:16:08 +0000"  >&lt;p&gt;Looks better now &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Just a few more points:&lt;br/&gt;
1) As you mentioned, it is missing a test with range tombstones crossing pages.&lt;br/&gt;
2) &lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/7aa0c7c41960ed11b35545c49ca7e8f869f76e2f#diff-13cb97758bcb11cce8fc6f4cb1990dd6R729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This&lt;/a&gt; should use &lt;tt&gt;pageSize&lt;/tt&gt;.&lt;br/&gt;
3) &lt;a href=&quot;https://github.com/ifesdjeen/cassandra/commit/7aa0c7c41960ed11b35545c49ca7e8f869f76e2f#diff-13cb97758bcb11cce8fc6f4cb1990dd6R785&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This&lt;/a&gt; should be probably replaced with &lt;tt&gt;StubIndex&lt;/tt&gt; (I&apos;ve used that other one just as quick hack).&lt;/p&gt;</comment>
                            <comment id="15828459" author="ifesdjeen" created="Wed, 18 Jan 2017 17:54:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;it is missing a test with range tombstones crossing pages.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve tested it as far as I could with &lt;tt&gt;1&lt;/tt&gt; to &lt;tt&gt;5&lt;/tt&gt; page sizes, and multiple tombstones, although didn&apos;t have a chance to dig in and write an explanation on why it works the way it does. We&apos;re using &lt;tt&gt;CQLCounter&lt;/tt&gt; for counting, and it counts only live rows, so range tombstone markers are guaranteed to be read together on the same page. You can refer to &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/db/filter/DataLimits.java#L442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this file&lt;/a&gt; for more info.&lt;/p&gt;

&lt;p&gt;The test with range tombstones checks if we fetch them correctly disregarding the page size. So if we have:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[RT open marker] [RT close marker] | [ row ] | [RT open marker] [RT close marker]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So if we do paging, even with a page size 1, we&apos;ll get all three of them on same page, since paging would count only the row.&lt;/p&gt;

&lt;p&gt;I&apos;ll post an updated patch with two other nits fixed for all branches.&lt;/p&gt;</comment>
                            <comment id="15829995" author="ifesdjeen" created="Thu, 19 Jan 2017 14:10:19 +0000"  >&lt;p&gt;I&apos;ve updated patches for all branches and re-ran CI. Unfortunately, the failures are also present on trunk (and/or corresponding branch), so they&apos;re not related to this patch (however situation with tests doesn&apos;t make visibility better).&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-3.X&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.X&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.X-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.X-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.11-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-3.11-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ifesdjeen/cassandra/tree/13075-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/ifesdjeen/job/ifesdjeen-13075-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Patch for &lt;tt&gt;3.0&lt;/tt&gt; is slightly different in terms of passed arguments, &lt;tt&gt;3.X&lt;/tt&gt; and &lt;tt&gt;3.11&lt;/tt&gt; are similar. trunk&apos;s only difference is that there&apos;s no thrift so calls were thrift boolean was passed are different. &lt;/p&gt;</comment>
                            <comment id="15830158" author="sbtourist" created="Thu, 19 Jan 2017 16:09:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15830708" author="jasobrown" created="Thu, 19 Jan 2017 22:16:13 +0000"  >&lt;p&gt;committed to 3.0, 3.11, and trunk as sha &lt;tt&gt;7a06df79d829ac073264045eb9420a61c5ba939a&lt;/tt&gt;. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12846365" name="CustomIndexTest.java" size="49890" author="sbtourist" created="Mon, 9 Jan 2017 15:40:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12338291">3.0.10</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>sbtourist</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[sbtourist]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>