<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:16:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14712] Add fqltool and auditlogviewer to rpm and deb packages</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14712</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Currently it&apos;s not possible to build any native packages (.deb/.rpm) for trunk.&lt;/p&gt;

&lt;p&gt;cassandra-builds - docker/*-image.docker&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Add Java11 to debian+centos build image&lt;/li&gt;
	&lt;li&gt;(packaged ant scripts won&apos;t work with Java 11 on centos, so we may have to install ant from tarballs)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cassandra-builds - docker/build-*.sh&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;set JAVA8_HOME to Java8&lt;/li&gt;
	&lt;li&gt;set JAVA_HOME to Java11 (4.0) or Java8 (&amp;lt;4.0)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cassandra - redhat/cassandra.spec&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Check if patches still apply after &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-14707&quot; title=&quot;Building deb packages fails on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-14707&quot;&gt;&lt;del&gt;CASSANDRA-14707&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Add fqltool as %files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We may also have to change the version handling in build.xml or build-*.sh, depending how we plan to release packages during beta, or if we plan to do so at all before GA.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13183987">CASSANDRA-14712</key>
            <summary>Add fqltool and auditlogviewer to rpm and deb packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefan.miklosovic">Stefan Miklosovic</assignee>
                                    <reporter username="spod">Stefan Podkowinski</reporter>
                        <labels>
                            <label>Java11</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 10 Sep 2018 09:37:40 +0000</created>
                <updated>Wed, 9 Sep 2020 09:36:54 +0000</updated>
                            <resolved>Wed, 3 Jun 2020 17:23:44 +0000</resolved>
                                        <fixVersion>4.0-beta1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Packaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="16804435" author="stefan.miklosovic" created="Thu, 28 Mar 2019 23:24:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt; could you please review both PRs and tell me whatever else you would like to add or modify?&lt;/p&gt;

&lt;p&gt;I have tested that RPMs and DEBs are installing ok in the latest RHEL7 and Debian Stretch 9 and fqltool as well as auditlogviewer are available to operator.&lt;/p&gt;

&lt;p&gt;There was not need to package custom Ant (1.10.5) from tarball, Ant packages from repositories which are still of version 1.9 worked just fine.&lt;/p&gt;

&lt;p&gt;Debian Jesse was in my case so old that backport repository was not existing anymore (it gave me 404 on apt update) so I updated it to Debian Stretch.&lt;/p&gt;

&lt;p&gt;We could also update version of CentOS to 7.6 instead of the current 7.0 just to be updated. I saw the warning about the deprecation of Python 2.7 but it was still building fine in the end.&lt;/p&gt;

&lt;p&gt;I am still not completely sure whats the deal with Java 8 / Java 11 combo, as per conversation with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt; here (1) he was able to build trunk in both cases on 8&#160;or 11 only. There is currently still a prerequisite to build trunk on Java 11 to get distribution tarballs and it does not make a lot of sense to me why it is the case if one is reportedly able to build trunk with 8 only. (2)&lt;/p&gt;

&lt;p&gt;(1)&#160;&lt;a href=&quot;https://lists.apache.org/thread.html/0501ad77c74f5bc83e84e4d31a063ad09b60a4d9b42112646d97e7e8@%3Cdev.cassandra.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/0501ad77c74f5bc83e84e4d31a063ad09b60a4d9b42112646d97e7e8@%3Cdev.cassandra.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(2)&#160;&lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/build.xml#L1049-L1051&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/trunk/build.xml#L1049-L1051&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17123608" author="michaelsembwever" created="Tue, 2 Jun 2020 10:32:06 +0000"  >&lt;p&gt;Looping back on this ticket, as I&apos;m working on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Currently it&apos;s not possible to build any native packages (.deb/.rpm) for trunk.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Much of the description of this ticket does not appear up to date. deb/rpm packages can indeed be built off trunk, as both &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt; and all the 4.0-alpha* releases demonstrate.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I am still not completely sure whats the deal with Java 8 / Java 11 combo&#8230;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The need to defined &lt;tt&gt;JAVA8_HOME&lt;/tt&gt; no longer exists. In &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt; it becomes more evident how to build the artefacts with either jdk8 or jdk11. We want nightlies of both, but releases will remain only jdk8 generated (for now). While &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt; will fix deb/rpm jdk11 generation, it will get plugged into the ASF CI (Jenkins) via &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15809&quot; title=&quot;ASF CI builds for JDK11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15809&quot;&gt;&lt;del&gt;CASSANDRA-15809&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Debian Jesse was in my case so old&#8230;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The `jessie-image.docker` is no longer required. You can see in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt; &quot;cassandra-deb-packaging.sh&quot; that it now uses `buster-image.docker`. &lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;TicketStatus%3F&quot;&gt;&lt;/a&gt;Ticket Status?&lt;/h4&gt;

&lt;p&gt;My understanding is that #9 is no longer required. And that this ticket can solely cover what is provided in #307, which looks good to me. If this is the case, could you update the ticket summary accordingly &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefan.miklosovic&quot; class=&quot;user-hover&quot; rel=&quot;stefan.miklosovic&quot;&gt;stefan.miklosovic&lt;/a&gt;? while i&apos;ll test #307 a bit more and commit if all is well.&lt;/p&gt;</comment>
                            <comment id="17123853" author="spodxx@gmail.com" created="Tue, 2 Jun 2020 14:12:43 +0000"  >&lt;p&gt;The ticket was created quite a while ago, thanks for confirming that most of the described issues have been solved by now!&lt;/p&gt;</comment>
                            <comment id="17125008" author="michaelsembwever" created="Wed, 3 Jun 2020 14:38:01 +0000"  >&lt;p&gt;A rebase off trunk of #307 is available at &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...thelastpickle:CASSANDRA-14712&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/compare/trunk...thelastpickle:CASSANDRA-14712&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have tested it. (Had to add back the line &lt;tt&gt;rm -f bin/*.orig&lt;/tt&gt; to &lt;tt&gt;cassandra.spec&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17125150" author="michaelsembwever" created="Wed, 3 Jun 2020 17:23:44 +0000"  >&lt;p&gt;Committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/ecf2c9ccd482c4b08355a288213326dc7a8cdcef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ecf2c9ccd482c4b08355a288213326dc7a8cdcef &lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefan.miklosovic&quot; class=&quot;user-hover&quot; rel=&quot;stefan.miklosovic&quot;&gt;stefan.miklosovic&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13184148">CASSANDRA-14714</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13308165">CASSANDRA-15838</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefan.miklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xwjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mck]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/ecf2c9ccd482c4b08355a288213326dc7a8cdcef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/ecf2c9ccd482c4b08355a288213326dc7a8cdcef&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Manually using cassandra-*-packaging.sh scripts.&lt;br/&gt;
(Will become automatic with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15838&quot; title=&quot;Add deb and rpm packaging to artifacts test script&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15838&quot;&gt;&lt;del&gt;CASSANDRA-15838&lt;/del&gt;&lt;/a&gt; )&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>