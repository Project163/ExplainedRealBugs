<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:13:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1050] Too many splits for ColumnFamily with only a few rows</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1050</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;ColumnFamilyInputFormat creates splits for the entire Keyspace.  If one ColumnFamily has 100 Million rows and another has only 100 rows, the number of splits will be the 1,526 (assuming 64k rows per split) for either one, since it is based on the total number of unique keys across the whole keyspace, and not on the number of rows in the ColumnFamily.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12463697">CASSANDRA-1050</key>
            <summary>Too many splits for ColumnFamily with only a few rows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johanoskarsson">Johan Oskarsson</assignee>
                                    <reporter username="joosto">Joost Ouwerkerk</reporter>
                        <labels>
                            <label>hadoop</label>
                            <label>keyspace</label>
                            <label>split</label>
                    </labels>
                <created>Tue, 4 May 2010 19:31:30 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:24 +0000</updated>
                            <resolved>Tue, 25 May 2010 07:41:14 +0000</resolved>
                                        <fixVersion>0.7 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12869992" author="johanoskarsson" created="Fri, 21 May 2010 14:15:58 +0000"  >&lt;p&gt;This patch for trunk should help with the problem. Run ant gen-thrift-java as the generated code is not in the patch.&lt;br/&gt;
I ran the word count test and that worked, have not had time to try it in the scenario described in the ticket though.&lt;/p&gt;</comment>
                            <comment id="12869996" author="jeromatron" created="Fri, 21 May 2010 14:32:18 +0000"  >&lt;p&gt;I wonder if this would address the problem in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1042&quot; title=&quot;ColumnFamilyRecordReader returns duplicate rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1042&quot;&gt;&lt;del&gt;CASSANDRA-1042&lt;/del&gt;&lt;/a&gt;.  I&apos;ll give it a try and see.&lt;/p&gt;</comment>
                            <comment id="12870052" author="jeromatron" created="Fri, 21 May 2010 16:59:44 +0000"  >&lt;p&gt;Johan - I applied this patch on my local trunk and ran the word count on it - I get perfect results on all but the /tmp/wordcount3 - that gets 1006 instead of 1000.  It looks like it resolves many of the issues that were happening with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1042&quot; title=&quot;ColumnFamilyRecordReader returns duplicate rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1042&quot;&gt;&lt;del&gt;CASSANDRA-1042&lt;/del&gt;&lt;/a&gt; though.&lt;/p&gt;</comment>
                            <comment id="12870658" author="jbellis" created="Mon, 24 May 2010 15:59:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12870812" author="johanoskarsson" created="Mon, 24 May 2010 20:08:05 +0000"  >&lt;p&gt;Slightly modified version for 0.6&lt;/p&gt;</comment>
                            <comment id="12870889" author="jbellis" created="Mon, 24 May 2010 22:45:04 +0000"  >&lt;p&gt;Belatedly realized that if we&apos;re changing the &lt;span class=&quot;error&quot;&gt;&amp;#91;thrift&amp;#93;&lt;/span&gt; method signature we should leave it alone in the stable 0.6 series.  let&apos;s just commit to trunk.  Sorry about the extra work.&lt;/p&gt;</comment>
                            <comment id="12871038" author="johanoskarsson" created="Tue, 25 May 2010 07:41:14 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12871113" author="jbellis" created="Tue, 25 May 2010 12:32:50 +0000"  >&lt;p&gt;btw, if you build the thrift code with &quot;ant gen-thrift-java&quot; it will re-run rat for you to avoid blowing away the apache license headers in the generated code&lt;/p&gt;</comment>
                            <comment id="12871124" author="hudson" created="Tue, 25 May 2010 12:56:36 +0000"  >&lt;p&gt;Integrated in Cassandra #445 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/445/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/445/&lt;/a&gt;)&lt;br/&gt;
    Hadoop input format now uses the specified column family to figure out the number of splits instead of the whole keyspace. Patch by johan, review by jbellis. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1050&quot; title=&quot;Too many splits for ColumnFamily with only a few rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1050&quot;&gt;&lt;del&gt;CASSANDRA-1050&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12871138" author="johanoskarsson" created="Tue, 25 May 2010 13:22:28 +0000"  >&lt;p&gt;I usually do, but my default thrift installation is 0.2.0 (used in all my other projects) and this required a newer version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445374" name="CASSANDRA-0.6-1050.patch" size="6804" author="johanoskarsson" created="Mon, 24 May 2010 20:08:05 +0000"/>
                            <attachment id="12445169" name="CASSANDRA-1050.patch" size="6769" author="johanoskarsson" created="Fri, 21 May 2010 14:15:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[johanoskarsson]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g2p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>