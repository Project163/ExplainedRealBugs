<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:24:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-17267] Snapshot true size is miscalculated</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-17267</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;As far as I understand, the snapshot &quot;size on disk&quot; is the total size of the snapshot, while the &quot;true size&quot; is the (size_on_disk - size_of_live_sstables).&lt;/p&gt;

&lt;p&gt;I created a snapshot on a 3.11 node without traffic and I expected the &quot;true size&quot; to be 0KB since the original sstables were still present, but this didn&apos;t seem to be the case:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ nodetool listsnapshots
Snapshot Details:
Snapshot name Keyspace name Column family name True size Size on disk
test          ks1           tbl1               4.86 KiB  5.69 KiB

Total TrueDiskSpaceUsed: 4.86 KiB
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13423390">CASSANDRA-17267</key>
            <summary>Snapshot true size is miscalculated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulo">Paulo Motta</assignee>
                                    <reporter username="paulo">Paulo Motta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jan 2022 01:38:49 +0000</created>
                <updated>Fri, 27 May 2022 19:25:01 +0000</updated>
                            <resolved>Mon, 14 Mar 2022 20:26:59 +0000</resolved>
                                        <fixVersion>3.11.13</fixVersion>
                    <fixVersion>4.0.4</fixVersion>
                    <fixVersion>4.1-alpha1</fixVersion>
                    <fixVersion>4.1</fixVersion>
                                    <component>Local/Snapshots</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17478310" author="paulo" created="Wed, 19 Jan 2022 02:06:06 +0000"  >&lt;p&gt;The snapshot true size is calculated by &lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-3.11/src/java/org/apache/cassandra/db/Directories.java#L960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Directories.getTrueAllocatedSizeIn&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This method creates a &lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-3.11/src/java/org/apache/cassandra/db/Directories.java#L1054&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SSTableSizeSummer&lt;/a&gt; using the snapshot folder as the list of files to be iterated/counted and the list of live sstables as the list of files to be skipped (toSkip set).&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-3.11/src/java/org/apache/cassandra/db/Directories.java#L1064&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;isAcceptable&lt;/a&gt; method decides whether the snapshot file size must be counted by checking if it&apos;s an sstable component and if it&apos;s not present on the &quot;toSkip&quot; set.&lt;/p&gt;

&lt;p&gt;However the snapshot files will never be present in the &quot;toSkip&quot; set, causing the snapshot file sizes to always be accounted - whether or not a &quot;corresponding&quot; live sstable is found.&lt;/p&gt;

&lt;p&gt;I believe the original implementer&apos;s intent was to verify that the &quot;corresponding&quot; sstable file is present in the &quot;toSkip&quot; set, but it doesn&apos;t reconstruct the original sstable file from the snapshot file before checking it&apos;s present on the set.&lt;/p&gt;

&lt;p&gt;I created a &lt;a href=&quot;https://github.com/apache/cassandra/pull/1408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt; with a reproduction and preliminary fix.&lt;/p&gt;

&lt;p&gt;The reproduction can be found &lt;a href=&quot;https://github.com/apache/cassandra/pull/1408/files#diff-ef5be0b69d0440b76021282c4b24bad69770ef9419be260df2169f49921db377R346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;on this test&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1408/files#diff-bb20d0c655884c2211213190ae4787ace619cdff4c0235f147db7dfbf1e7a869R1067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;The fix&lt;/a&gt; only counts the snapshot file size if the file is an sstable component &lt;b&gt;AND&lt;/b&gt; if a corresponding live sstable component can &lt;b&gt;not&lt;/b&gt; be found on &quot;snapshot_dir/../../file_name&quot; (since the snapshot file is found on &amp;lt;table_dir&amp;gt;/snapshots/&amp;lt;snapshot_name&amp;gt;/file).&lt;/p&gt;

&lt;p&gt;The same snapshot of the ticket description is displayed as following after the fix:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ nodetool listsnapshots
Snapshot Details:
Snapshot name Keyspace name Column family name True size Size on disk
test          ks1           tbl1               0 bytes   5.69 KiB

Total TrueDiskSpaceUsed: 0 bytes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17478311" author="paulo" created="Wed, 19 Jan 2022 02:09:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; I found this while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16843&quot; title=&quot;List snapshots of dropped tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16843&quot;&gt;&lt;del&gt;CASSANDRA-16843&lt;/del&gt;&lt;/a&gt;. Can you take a look since it&apos;s somewhat related?&lt;/p&gt;

&lt;p&gt;If the approach looks good I will work on more tests (secondary index) and fix existing tests, as well as port to other branches - this might affect 3.0 too.&lt;/p&gt;</comment>
                            <comment id="17478667" author="brandon.williams" created="Wed, 19 Jan 2022 13:08:02 +0000"  >&lt;p&gt;Nice catch.  This looks like a good approach to me, and I suspect 3.0 has a problem as well.&lt;/p&gt;</comment>
                            <comment id="17488499" author="paulo" created="Mon, 7 Feb 2022 23:53:32 +0000"  >&lt;p&gt;Curiously this did not reproduce on 3.0, so I used the same approach of comparing the names of the snapshot files with the files present in the live set to skip accounting live sstables during snapshot true size calculation.&lt;/p&gt;

&lt;p&gt;ccm repro after fix:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% ccm node1 nodetool -- snapshot -t test test_ks

Requested creating snapshot(s) for [test_ks] with snapshot name [test]
Snapshot directory: test

% ccm node1 nodetool tablestats test_ks.tbl | grep -i snapshot
    Space used by snapshots (total): 0

% ccm node1 nodetool listsnapshots

Snapshot Details:
Snapshot name Keyspace name Column family name True size Size on disk
test          test_ks       tbl                0 bytes   5.74 KB

Total TrueDiskSpaceUsed: 0 bytes

% ccm node1 nodetool compact test_ks tbl

% ccm node1 nodetool tablestats test_ks.tbl | grep -i snapshot
    Space used by snapshots (total): 5044

% ccm node1 nodetool listsnapshots

Snapshot Details:
Snapshot name Keyspace name Column family name True size Size on disk
test          test_ks       tbl                4.93 KB   5.74 KB

Total TrueDiskSpaceUsed: 4.93 KB
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will use the new approach of using only the directory structure to decide whether a snapshot file is present in the live set when decoupling snapshot size computation from &lt;tt&gt;ColumnFamilyStore&lt;/tt&gt; on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16843&quot; title=&quot;List snapshots of dropped tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16843&quot;&gt;&lt;del&gt;CASSANDRA-16843&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;While working on this I noticed that secondary indexes are not included in the computation of the true size so I created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17357&quot; title=&quot;Snapshot true size computation does not include secondary indexes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17357&quot;&gt;&lt;del&gt;CASSANDRA-17357&lt;/del&gt;&lt;/a&gt; to address this separately.&lt;/p&gt;

&lt;p&gt;3.11+ patches and CI below:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.11...pauloricardomg:CASSANDRA-17267-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1414/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-4.0...pauloricardomg:CASSANDRA-17267-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1415/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:CASSANDRA-17267-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1422/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17490767" author="blerer" created="Fri, 11 Feb 2022 09:17:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulo&quot; class=&quot;user-hover&quot; rel=&quot;paulo&quot;&gt;paulo&lt;/a&gt;. The patch looks good to me but the tests needs to be re-run.&lt;/p&gt;</comment>
                            <comment id="17496100" author="paulo" created="Tue, 22 Feb 2022 13:52:58 +0000"  >&lt;p&gt;In the &lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1422/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;previous test run&lt;/a&gt; &lt;tt&gt;org.apache.cassandra.index.sasi.SASIIndexTest.testSASIComponentsAddedToSnapshot&lt;/tt&gt; was getting stuck when running within the suite (worked when executed individually).&lt;/p&gt;

&lt;p&gt;I tracked down the reason to the &lt;tt&gt;ReadExecutionController&lt;/tt&gt; not being closed properly on other tests, causing operations to block indefinitely on the &lt;tt&gt;OpOrder&lt;/tt&gt;. Fixed &lt;a href=&quot;https://github.com/apache/cassandra/commit/77f688e75ff403875755f34dc31ab75401bcaa3d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;on this commit&lt;/a&gt; on all branches.&lt;/p&gt;

&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17400&quot; title=&quot;Fail build or warn when closeable reference is not closed in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17400&quot;&gt;CASSANDRA-17400&lt;/a&gt; to add a checker to verify resources are being properly closed to avoid stuck tests in the future.&lt;/p&gt;

&lt;p&gt;Resubmitted CI:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.11...pauloricardomg:CASSANDRA-17267-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1440/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-4.0...pauloricardomg:CASSANDRA-17267-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1441/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:CASSANDRA-17267-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/1442/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17498798" author="blerer" created="Mon, 28 Feb 2022 09:33:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17503500" author="smiklosovic" created="Wed, 9 Mar 2022 11:03:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulo&quot; class=&quot;user-hover&quot; rel=&quot;paulo&quot;&gt;paulo&lt;/a&gt; would you mind if I take over as you are swamped these days?&lt;/p&gt;</comment>
                            <comment id="17506523" author="paulo" created="Mon, 14 Mar 2022 20:26:59 +0000"  >&lt;p&gt;Committed to cassandra-3.11 branch and merged up to &lt;tt&gt;trunk&lt;/tt&gt; as &lt;tt&gt;95a622305722889c321204c4bca68a3517a29aab&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17507163" author="jmckenzie" created="Tue, 15 Mar 2022 18:47:41 +0000"  >&lt;p&gt;Doubt any of the &quot;only failed once&quot; below are related to this ticket.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;CI Results&amp;#93;&lt;/span&gt;&lt;br/&gt;
Branch: trunk, build number: 1010&lt;br/&gt;
jenkins url: &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/1010/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-trunk/1010/&lt;/a&gt;&lt;br/&gt;
JIRA: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17267&quot; title=&quot;Snapshot true size is miscalculated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17267&quot;&gt;&lt;del&gt;CASSANDRA-17267&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
commit url: &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=cassandra.git;a=commit;h=95a622305722889c321204c4bca68a3517a29aab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=cassandra.git;a=commit;h=95a622305722889c321204c4bca68a3517a29aab&lt;/a&gt;&lt;br/&gt;
affected paths:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java&lt;/li&gt;
	&lt;li&gt;test/unit/org/apache/cassandra/index/sasi/SASIIndexTest.java&lt;/li&gt;
	&lt;li&gt;CHANGES.txt&lt;/li&gt;
	&lt;li&gt;src/java/org/apache/cassandra/db/Directories.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Build Result: UNSTABLE&lt;br/&gt;
Passing Tests: 44358&lt;br/&gt;
Failing Tests: 17&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Test&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Failures&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;JIRA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.cql_tests.TestCQLNodes2RF1_Upgrade_indev_4_0_x_To_indev_trunk.test_static_cf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17309&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.cql_tests.TestCQLNodes2RF1_Upgrade_indev_3_0_x_To_indev_4_0_x.test_edge_2i_on_complex_pk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17309&quot;&gt;CASSANDRA-17309&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest.write_failures_test.TestMultiDCWriteFailures.test_oversized_mutation&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.db.commitlog.BatchCommitLogTest.testOutOfOrderLogDiscard&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;junit.framework.TestSuite.org.apache.cassandra.audit.BinAuditLoggerTest&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/issues/?jql=project%20%3D%20CASSANDRA%20and%20resolution%20%3D%20unresolved%20and%20summary%20~%20%22*audit*%22&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Multiple JIRAs found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.distributed.test.CASTest.testSuccessfulWriteDuringRangeMovementFollowedByConflicting&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-offheap.write_failures_test.TestMultiDCWriteFailures.test_oversized_mutation&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.cql_tests.TestCQLNodes2RF1_Upgrade_indev_4_0_x_To_indev_trunk.test_noncomposite_static_cf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17309&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.cql_tests.TestCQLNodes2RF1_Upgrade_indev_3_0_x_To_indev_4_0_x.test_edge_2i_on_complex_pk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17309&quot;&gt;CASSANDRA-17309&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.distributed.test.CasCriticalSectionTest.criticalSectionTest&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_rolling_upgrade_with_internode_ssl&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;27 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17305&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17305&quot;&gt;&lt;del&gt;CASSANDRA-17305&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.db.lifecycle.LogTransactionTest.testGetTemporaryFilesSafeAfterObsoletion-cdc&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17286&quot; title=&quot;Test Failure: org.apache.cassandra.db.lifecycle.LogTransactionTest.testGetTemporaryFilesSafeAfterObsoletion-cdc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17286&quot;&gt;&lt;del&gt;CASSANDRA-17286&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.cql3.validation.operations.CompactStorageTest.testCfmCounterCQL&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17305&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17305&quot;&gt;&lt;del&gt;CASSANDRA-17305&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_EndsAt_3_11_X.test_rolling_upgrade&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;28 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17305&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17305&quot;&gt;&lt;del&gt;CASSANDRA-17305&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_rolling_upgrade&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;28 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17305&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17305&quot;&gt;&lt;del&gt;CASSANDRA-17305&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.apache.cassandra.cql3.KeywordTest.test&lt;span class=&quot;error&quot;&gt;&amp;#91;keyword CLUSTERING isReserved false&amp;#93;&lt;/span&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_EndsAt_3_11_X.test_rolling_upgrade_with_internode_ssl&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;27 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17305&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.upgrade_through_versions_test.TestProtoV3Upgrade_AllVersions_RandomPartitioner_EndsAt_3_11_X_HEAD.test_parallel_upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17305&quot;&gt;&lt;del&gt;CASSANDRA-17305&lt;/del&gt;&lt;/a&gt;?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtest-novnode.write_failures_test.TestMultiDCWriteFailures.test_oversized_mutation&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8 of 62&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/RapidBoard.jspa?rapidView=496&amp;amp;quickFilter=2252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;No JIRA found&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17507173" author="paulo" created="Tue, 15 Mar 2022 18:58:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmckenzie&quot; class=&quot;user-hover&quot; rel=&quot;jmckenzie&quot;&gt;jmckenzie&lt;/a&gt; I&apos;ve checked and don&apos;t think these failures are related to this change. Did you trigger a re-run?&lt;/p&gt;</comment>
                            <comment id="17508260" author="jmckenzie" created="Thu, 17 Mar 2022 15:52:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;Did you trigger a re-run?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I did not. I&apos;m updating tickets with the results of CI based on the commit, however CI is in a pretty rough spot right now so this is likely minimally valuable outside checking tests that have only failed once.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13174187">CASSANDRA-14587</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                            <outwardlinks description="Testing discovered">
                                        <issuelink>
            <issuekey id="13427048">CASSANDRA-17357</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="Discovered while testing">
                                        <issuelink>
            <issuekey id="13394563">CASSANDRA-16843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[paulo]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ypjs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
        <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12349654">3.11.11</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/95a622305722889c321204c4bca68a3517a29aab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/95a622305722889c321204c4bca68a3517a29aab&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;note on changes.txt&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>