<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:31:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-20059] TCM&apos;s Retry.Deadline#retryIndefinitely is dangerous if used with RemoteProcessor as the deadline does not impact message retries</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-20059</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Deadline retryIndefinitely(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timeoutNanos, Meter retryMeter)
{
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Deadline(Clock.Global.nanoTime() + timeoutNanos,
                        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Retry.Jitter(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE, DEFAULT_BACKOFF_MS, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Random(), retryMeter))
    {
        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; reachedMax()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }

        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; remainingNanos()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; timeoutNanos;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;RetryIndefinitely{tries=%d}&quot;&lt;/span&gt;, currentTries());
        }
    };
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sample usage pattern (example is in Accord, but same pattern exists in RemoteProcessor.commit)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Promise&amp;lt;LogState&amp;gt; request = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AsyncPromise&amp;lt;&amp;gt;();
List&amp;lt;InetAddressAndPort&amp;gt; candidates = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(log.metadata().fullCMSMembers());
sendWithCallbackAsync(request,
                      Verb.TCM_RECONSTRUCT_EPOCH_REQ,
                      &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ReconstructLogState(lowEpoch, highEpoch, includeSnapshot),
                      &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CandidateIterator(candidates),
                      retryPolicy);
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; request.get(retryPolicy.remainingNanos(), TimeUnit.NANOSECONDS);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue here is that the networking retry has no clue that we gave up waiting on the request, so we will keep retrying until success!  The reason for this is &#8220;reachedMax&#8221; is used to see if its safe to run again, but it isn&#8217;t as the deadline has passed!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13597961">CASSANDRA-20059</key>
            <summary>TCM&apos;s Retry.Deadline#retryIndefinitely is dangerous if used with RemoteProcessor as the deadline does not impact message retries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dcapwell">David Capwell</assignee>
                                    <reporter username="dcapwell">David Capwell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Nov 2024 19:05:46 +0000</created>
                <updated>Thu, 3 Apr 2025 08:35:22 +0000</updated>
                            <resolved>Tue, 10 Dec 2024 23:28:44 +0000</resolved>
                                        <fixVersion>5.1</fixVersion>
                                    <component>Transactional Cluster Metadata</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17896308" author="beobal" created="Thu, 7 Nov 2024 13:10:25 +0000"  >&lt;p&gt;&lt;tt&gt;retryIndefinitely&lt;/tt&gt; is used exactly once in trunk, in &lt;tt&gt;Processor::commit&lt;/tt&gt; (not specifically &lt;tt&gt;RemoteProcessor&lt;/tt&gt;). It&apos;s used only under very specific circumstances, for the reason noted &#160;in the comment:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// When the cluster is bounced, it may happen that regular nodes come up earlier than CMS nodes, or CMS
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// nodes come up and fail to finish the startup since other CMS nodes are not up yet, and therefore can not
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// submit the STARTUP message. This allows the bounces affecting majority of CMS nodes to finish successfully.
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (transform.kind() == Transformation.Kind.STARTUP)
&#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; commit(entryId, transform, lastKnown,
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; Retry.Deadline.retryIndefinitely(DatabaseDescriptor.getCmsAwaitTimeout().to(TimeUnit.NANOSECONDS),
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;TCMMetrics.instance.commitRetries));
&#160; &#160; &#160; &#160; } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;The issue here is that the networking retry has no clue that we gave up waiting on the request&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I may be missing something and you didn&apos;t show where the accord example gets its &lt;tt&gt;retryPolicy&lt;/tt&gt; from, but if the calling code is going to give up waiting on the request why use &lt;tt&gt;retryIndefinitely&lt;/tt&gt; instead of using an actual deadline from &lt;tt&gt;at&lt;/tt&gt; or &lt;tt&gt;after&lt;/tt&gt; in &lt;tt&gt;Retry.Deadline&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17896417" author="dcapwell" created="Thu, 7 Nov 2024 17:32:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;I may be missing something and you didn&apos;t show where the accord example gets its retryPolicy from, but if the calling code is going to give up waiting on the request why use retryIndefinitely instead of using an actual deadline from at or after in Retry.Deadline?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry for the lack of details.  So if used without looking at the deadline then this is fine as it does what you asked... retry forever.  In the accord case this was given as what we should do when asking for the epochs, so had the below pattern&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Retry.Deadline deadline = Retry.Deadline.retryIndefinitely(DatabaseDescriptor.getCmsAwaitTimeout().to(TimeUnit.NANOSECONDS),
                                                           TCMMetrics.instance.fetchLogRetries));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ClusterMetadataService.instance().processor()
                                             .reconstruct(start, end, deadline);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue here was that reconstruct calls &quot;getLogState&quot; and that method in the RemoteProcessor is &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; LogState getLogState(Epoch lowEpoch, Epoch highEpoch, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; includeSnapshot, Retry.Deadline retryPolicy)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
        {
            Promise&amp;lt;LogState&amp;gt; request = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AsyncPromise&amp;lt;&amp;gt;();
            List&amp;lt;InetAddressAndPort&amp;gt; candidates = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(log.metadata().fullCMSMembers());
            sendWithCallbackAsync(request,
                                  Verb.TCM_RECONSTRUCT_EPOCH_REQ,
                                  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ReconstructLogState(lowEpoch, highEpoch, includeSnapshot),
                                  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CandidateIterator(candidates),
                                  retryPolicy);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; request.get(retryPolicy.remainingNanos(), TimeUnit.NANOSECONDS);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Can not reconstruct during shutdown&quot;&lt;/span&gt;, e);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ExecutionException | TimeoutException e)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not reconstruct range %d, %d&quot;&lt;/span&gt;, lowEpoch.getEpoch(), highEpoch.getEpoch()), e);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case this code path (which is accord only) would give up waiting, but would keep retrying non stop.&lt;/p&gt;

&lt;p&gt;This pattern was found in several places, but if this retry policy is only used 1 time in trunk then accord went a dangerous path&lt;/p&gt;

&lt;p&gt;Here is an example from org.apache.cassandra.tcm.FetchCMSLog.Handler#doVerb&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Retry.Deadline retry = Retry.Deadline.retryIndefinitely(DatabaseDescriptor.getCmsAwaitTimeout().to(TimeUnit.NANOSECONDS),
                                                                    TCMMetrics.instance.fetchLogRetries);
            LogState delta;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (consistentFetch)
                delta = processor.get().getLogState(message.payload.lowerBound, Epoch.MAX, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, retry);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And org.apache.cassandra.tcm.ReconstructLogState.Handler#doVerb&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
LogState result = processor.get().getLogState(request.lowerBound, request.higherBound, request.includeSnapshot,
                                                          Retry.Deadline.retryIndefinitely(DatabaseDescriptor.getCmsAwaitTimeout().to(TimeUnit.NANOSECONDS),
                                                                                           TCMMetrics.instance.fetchLogRetries));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17896424" author="dcapwell" created="Thu, 7 Nov 2024 17:45:40 +0000"  >&lt;p&gt;I think how this happened was &quot;oh, we really should run until we get the result&quot; so looking at the method name yields it getting used as we want to retry forever... but retryIndefinitely on a Deadline doesn&apos;t really make sense to me, as its contradictory... I want to stop after some point, but ignore that and run forever?&lt;/p&gt;

&lt;p&gt;Looking at the trunk commit logic that calls &quot;org.apache.cassandra.tcm.Processor#commit(org.apache.cassandra.tcm.log.Entry.Id, org.apache.cassandra.tcm.Transformation, org.apache.cassandra.tcm.Epoch, org.apache.cassandra.tcm.Retry.Deadline)&quot; which takes a Deadline.  Walking the usage most of the time we only need Retry (where retryIndefinitely would make sense) but then you hit some uncommon cases that check the deadline such as &quot;org.apache.cassandra.tcm.PaxosBackedProcessor#fetchLogAndWait&quot; which just does&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; nextTimeout = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.min(retryPolicy.deadlineNanos, Clock.Global.nanoTime() + DatabaseDescriptor.getRpcTimeout(TimeUnit.NANOSECONDS));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only other place that checks this is ProgressBarrier&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
logger.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not collect {} of nodes &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a progress barrier &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; epoch {} to finish within {}ms. Nodes that have not responded: {}. {}&quot;&lt;/span&gt;,
                    cl, waitFor, TimeUnit.NANOSECONDS.toMillis(deadline.deadlineNanos - start), remaining, deadline);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The method version of that field is &quot;remainingNanos&quot; and that really is only used in &quot;org.apache.cassandra.tcm.RemoteProcessor#fetchLogAndWait(org.apache.cassandra.tcm.Epoch, org.apache.cassandra.tcm.Retry.Deadline)&quot;&lt;/p&gt;

&lt;p&gt;This method doesn&apos;t retry anything, it just has a duration in which we wish to timeout... so this field is only really used by the paxos version of &quot;fetchLogAndWait&quot;.&lt;/p&gt;</comment>
                            <comment id="17897482" author="beobal" created="Tue, 12 Nov 2024 11:43:15 +0000"  >&lt;p&gt;I don&apos;t have an issue inlining this logic seeing as it currently has only one valid callsite, but I don&apos;t think it&apos;s helpful or particularly accurate to characterise it as &quot;dangerous&quot;. I think most would agree that the intent of the method &lt;tt&gt;retryIndefinitely&lt;/tt&gt; is pretty clear and that if you want to only retry for a certain period of time, this is not the method you should use. Basically, this &lt;em&gt;is&lt;/em&gt; working as intended and I&apos;m afraid you have been using it incorrectly. I guess this may be an argument in favour of removing it entirely, but I wouldn&apos;t have thought that would be completely necessary.   &lt;/p&gt;</comment>
                            <comment id="17897683" author="dcapwell" created="Tue, 12 Nov 2024 17:52:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think most would agree that the intent of the method retryIndefinitely is pretty clear and that if you want to only retry for a certain period of time, this is not the method you should use&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So, the API in TCM has Retry.Deadline as a common argument (rather than just Retry), and the method given this doesn&apos;t know the specific semantics you are trying to get working as the caller... they just know a Retry.Deadline retries until a specific deadline, so TCM code has evolved in Accord to give up retrying after this deadline (which is what the class defines its behavior as)... this has then caused messages to keep being sent even after giving up...  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Basically, this is working as intended and I&apos;m afraid you have been using it incorrectly&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t feel it is working as intended as there is TCM code that doesn&apos;t retry indefinitely from the callers point of view, just in message sending... &lt;/p&gt;

&lt;p&gt;For TCM to handle this &quot;correctly&quot; it needs to ignore the deadline as its not accurate, and must only check reachedMax... if this is the case why do we have Retry.Deadline as the required type when intersecting with TCM rather than just Retry where this behavior would be correct?&lt;/p&gt;</comment>
                            <comment id="17897689" author="dcapwell" created="Tue, 12 Nov 2024 18:07:20 +0000"  >&lt;p&gt;I gave the following examples in slack&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.cassandra.tcm.PaxosBackedProcessor#fetchLogAndWait
org.apache.cassandra.tcm.RemoteProcessor#fetchLogAndWait(org.apache.cassandra.tcm.Epoch, org.apache.cassandra.tcm.Retry.Deadline)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you use &quot;retryIndefinitely&quot; in this code path we actually stop blocking right away as we wait for &quot;(0, NANOSECONDS)&quot;... I asked for unbounded waiting and I instead got no waiting....&lt;/p&gt;

&lt;p&gt;Outside of logging these are the only 2 places on trunk that even care about Retry.Deadline, everything else works off of Retry (but might call this method so take a Retry.Deadline).&lt;/p&gt;</comment>
                            <comment id="17897989" author="beobal" created="Wed, 13 Nov 2024 17:08:26 +0000"  >&lt;p&gt;The PR looks good to me, how is CI looking?&lt;/p&gt;</comment>
                            <comment id="17898015" author="dcapwell" created="Wed, 13 Nov 2024 17:54:19 +0000"  >&lt;p&gt;ill post CI today, there were 2-3 failures and looked flakey, but I don&apos;t have a good baseline against trunk to 100% say that right now... so will run against trunk as well to confirm&lt;/p&gt;</comment>
                            <comment id="17898380" author="dcapwell" created="Thu, 14 Nov 2024 18:28:41 +0000"  >&lt;p&gt;Sorry, didn&apos;t context switch to download... here are the results&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-20059&quot; title=&quot;TCM&amp;#39;s Retry.Deadline#retryIndefinitely is dangerous if used with RemoteProcessor as the deadline does not impact message retries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-20059&quot;&gt;&lt;del&gt;CASSANDRA-20059&lt;/del&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3fa63cf81ce03bfa45c2b312c1c2846a1d84eee5&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm11-utests          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.cql3.ViewComplexTTLTest::testUnselectedColumnsTTLWithFlush&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;-_jdk11 faile &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-dtests          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.distributed.test.HintedHandoffAddRemoveNodesTest::shouldAvoidHintTransferO &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-dtests-fuzz     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.fuzz.ring.ConsistentBootstrapTest::coordinatorIsBehindTest-_jdk17 had an e &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-utests          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.cql3.PstmtPersistenceTest::testPstmtInvalidation-_jdk17 had an error       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_indev_5_0_x_To_indev_trunk::upgrade_tes &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17899195" author="beobal" created="Mon, 18 Nov 2024 17:05:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17904257" author="dcapwell" created="Mon, 9 Dec 2024 19:02:33 +0000"  >&lt;p&gt;asked &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt; to review the accord version of the patch&lt;/p&gt;</comment>
                            <comment id="17904258" author="ifesdjeen" created="Mon, 9 Dec 2024 19:07:23 +0000"  >&lt;p&gt;+1 on Accord side: having retry indefinitely in the verb handler was an oversight, well spotted. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13072836" name="ci_summary-trunk-3fa63cf81ce03bfa45c2b312c1c2846a1d84eee5.html" size="34645" author="dcapwell" created="Thu, 14 Nov 2024 18:28:55 +0000"/>
                            <attachment id="13073377" name="ci_summary.html" size="66395" author="dcapwell" created="Tue, 10 Dec 2024 23:15:15 +0000"/>
                            <attachment id="13072837" name="result_details-trunk-3fa63cf81ce03bfa45c2b312c1c2846a1d84eee5.tar.gz" size="3596648" author="dcapwell" created="Thu, 14 Nov 2024 18:28:56 +0000"/>
                            <attachment id="13073378" name="result_details.tar.gz" size="3060798" author="dcapwell" created="Tue, 10 Dec 2024 23:15:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sf4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
        <customfieldvalue><![CDATA[samt]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12353509">5.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/4f49ca5e29d9c7207654a1f3c4eac9c9f0b84e5e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/4f49ca5e29d9c7207654a1f3c4eac9c9f0b84e5e&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;existing tests&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>