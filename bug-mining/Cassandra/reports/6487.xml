<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:30:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19592] Expand CREATE TABLE CQL on a coordinating node before submitting to CMS</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19592</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;This is done to unblock &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12937&quot; title=&quot;Default setting (yaml) for SSTable compression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12937&quot;&gt;CASSANDRA-12937&lt;/a&gt; and allow preserving defaults with which the table was created between node bounces and between nodes with different configurations. For now, we are preserving 5.0 behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577353">CASSANDRA-19592</key>
            <summary>Expand CREATE TABLE CQL on a coordinating node before submitting to CMS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ifesdjeen">Alex Petrov</assignee>
                                    <reporter username="ifesdjeen">Alex Petrov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Apr 2024 11:56:35 +0000</created>
                <updated>Thu, 23 May 2024 15:05:01 +0000</updated>
                            <resolved>Thu, 23 May 2024 14:47:50 +0000</resolved>
                                        <fixVersion>5.1</fixVersion>
                                    <component>Cluster/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17841204" author="ifesdjeen" created="Fri, 26 Apr 2024 12:54:58 +0000"  >&lt;p&gt;Compact storage related test is now fixed in the pushed version.&#160;&lt;/p&gt;</comment>
                            <comment id="17842617" author="beobal" created="Wed, 1 May 2024 12:16:56 +0000"  >&lt;p&gt;I think the approach is sound but we need to extend it to &lt;tt&gt;CreateKeyspaceStatement&lt;/tt&gt; &lt;tt&gt;CreateIndexStatement&lt;/tt&gt;&#160;&lt;/p&gt;

&lt;p&gt;The former may use &lt;tt&gt;default_keyspace_rf&lt;/tt&gt; which can be set differently per node, so we need to be explicit and encode whatever value the coordinator resolves here.&lt;/p&gt;

&lt;p&gt;Likewise, &lt;tt&gt;default_secondary_index&lt;/tt&gt; injects the class of the index implementation (or an alias for one) if none is specified (and &lt;tt&gt;default_secondary_index_enabled: true&lt;/tt&gt;, which is the default). This may also have different values per-node, which causes different indexes to be created locally.&lt;/p&gt;

&lt;p&gt;I didn&apos;t find any other per-node settings that we need to mitigate in this way, but I&apos;ll try to do another pass.   &lt;/p&gt;</comment>
                            <comment id="17845935" author="ifesdjeen" created="Mon, 13 May 2024 13:56:29 +0000"  >&lt;p&gt;Updated the patch with comments from Sam, Marcus, and Stefan&lt;/p&gt;</comment>
                            <comment id="17846951" author="beobal" created="Thu, 16 May 2024 13:26:12 +0000"  >&lt;p&gt;Discussed with Alex and made a few tweaks. Pushed the latest version and attached updated CI summary. The single test failure is unrelated.&lt;/p&gt;</comment>
                            <comment id="17846952" author="beobal" created="Thu, 16 May 2024 13:28:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt; I&apos;m +1 on this version, wdyt?&lt;/p&gt;</comment>
                            <comment id="17846953" author="ifesdjeen" created="Thu, 16 May 2024 13:29:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samt&quot; class=&quot;user-hover&quot; rel=&quot;samt&quot;&gt;samt&lt;/a&gt; looks good to me!&lt;/p&gt;</comment>
                            <comment id="17848969" author="smiklosovic" created="Thu, 23 May 2024 14:08:29 +0000"  >&lt;p&gt;Does anything else need to be done except merging? This would unblock &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12937&quot; title=&quot;Default setting (yaml) for SSTable compression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12937&quot;&gt;CASSANDRA-12937&lt;/a&gt; as you are for sure aware of.&lt;/p&gt;</comment>
                            <comment id="17848984" author="beobal" created="Thu, 23 May 2024 14:34:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does anything else need to be done except merging?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, I think it just fell between Alex &amp;amp; me. I&apos;ll get it rebased &amp;amp; merged.&lt;/p&gt;</comment>
                            <comment id="17848989" author="beobal" created="Thu, 23 May 2024 14:47:50 +0000"  >&lt;p&gt;committed, thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13022105">CASSANDRA-12937</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13068910" name="ci_summary-1.html" size="37925" author="samt" created="Thu, 16 May 2024 13:27:22 +0000"/>
                            <attachment id="13068481" name="ci_summary.html" size="30508" author="ifesdjeen" created="Fri, 26 Apr 2024 12:54:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ow88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[samt]]></customfieldvalue>
        <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/7fe30fc313ac35b1156f5a37d2069e29cded710b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/7fe30fc313ac35b1156f5a37d2069e29cded710b&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Tests included&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>