<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:01:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10625] Problem of year 10000: Dates too far in the future can be saved but not read back using cqlsh</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10625</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh&amp;gt; insert into test.timestamp_test (pkey, ts) VALUES (1, &apos;9999-12-31 23:59:59+0000&apos;);
cqlsh&amp;gt; select * from test.timestamp_test ;

 pkey | ts
------+--------------------------
    1 | 9999-12-31 23:59:59+0000

(1 rows)

cqlsh&amp;gt; insert into test.timestamp_test (pkey, ts) VALUES (1, &apos;10000-01-01 00:00:01+0000&apos;);
cqlsh&amp;gt; select * from test.timestamp_test ;
Traceback (most recent call last):
  File &quot;bin/../resources/cassandra/bin/cqlsh&quot;, line 1112, in perform_simple_statement
    rows = self.session.execute(statement, trace=self.tracing_enabled)
  File &quot;/home/pkolaczk/Projekty/DataStax/bdp/resources/cassandra/bin/../zipfiles/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/cluster.py&quot;, line 1602, in execute
    result = future.result()
  File &quot;/home/pkolaczk/Projekty/DataStax/bdp/resources/cassandra/bin/../zipfiles/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/cluster.py&quot;, line 3347, in result
    raise self._final_exception
OverflowError: date value out of range
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The connection is broken afterwards:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh&amp;gt; insert into test.timestamp_test (pkey, ts) VALUES (1, &apos;10000-01-01 00:00:01+0000&apos;);
NoHostAvailable: (&apos;Unable to complete the operation against any hosts&apos;, {&amp;lt;Host: 127.0.0.1 Analytics&amp;gt;: ConnectionShutdown(&apos;Connection to 127.0.0.1 is defunct&apos;,)})
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected behaviors (one of):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;don&apos;t allow to insert dates larger than 9999-12-31 and document the limitation&lt;/li&gt;
	&lt;li&gt;handle all dates up to Java Date(MAX_LONG) for writing and reading&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12909156">CASSANDRA-10625</key>
            <summary>Problem of year 10000: Dates too far in the future can be saved but not read back using cqlsh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aholmber">Adam Holmberg</assignee>
                                    <reporter username="pkolaczk">Piotr Kolaczkowski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2015 09:47:01 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:05 +0000</updated>
                            <resolved>Fri, 19 Feb 2016 19:58:10 +0000</resolved>
                                        <fixVersion>3.0.4</fixVersion>
                    <fixVersion>3.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14982255" author="pkolaczk" created="Fri, 30 Oct 2015 09:51:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thobbs&quot; class=&quot;user-hover&quot; rel=&quot;thobbs&quot;&gt;thobbs&lt;/a&gt; ^&lt;/p&gt;</comment>
                            <comment id="14983219" author="jmckenzie" created="Fri, 30 Oct 2015 20:09:58 +0000"  >&lt;p&gt;Might be worth pointing out - for the date type (i.e. date only, not timestamp) we just return the integer value of dates over what python can handle. Might want to do something similar for timestamp.&lt;/p&gt;</comment>
                            <comment id="14987523" author="pkolaczk" created="Tue, 3 Nov 2015 16:08:27 +0000"  >&lt;p&gt;We have still plenty of time to fix it. I&apos;m using year 9999 instead of new Date(MAX_LONG) and it works. So not a major issue.&lt;/p&gt;</comment>
                            <comment id="14987543" author="aholmber" created="Tue, 3 Nov 2015 16:19:04 +0000"  >&lt;p&gt;Created to track for the driver: &lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://datastax-oss.atlassian.net/browse/PYTHON-441&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15025299" author="aholmber" created="Tue, 24 Nov 2015 20:29:43 +0000"  >&lt;p&gt;Changing the return type for the driver is not tenable. What to do with out-of-range values seems application-specific to me, so it didn&apos;t seem appropriate to put the optional workaround in the driver. With that in mind, a proposed change to patch in the desired fallback &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...aholmberg:10625-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example output with patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cassandra@cqlsh:test&amp;gt; create table ts (k &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; PRIMARY KEY , t timestamp );
cassandra@cqlsh:test&amp;gt; insert into ts (k, t) VALUES (0, 0);
cassandra@cqlsh:test&amp;gt; insert into ts (k, t) VALUES (1, &lt;span class=&quot;code-quote&quot;&gt;&apos;10000-01-01 00:00:01+0000&apos;&lt;/span&gt;);
cassandra@cqlsh:test&amp;gt; select * from ts;

 k | t
---+--------------------------
 1 |          253402300801000
 0 | 1970-01-01 00:00:00+0000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15134315" author="aholmber" created="Fri, 5 Feb 2016 15:22:25 +0000"  >&lt;p&gt;ping @pkolaczk. Just checking back on this as I follow up on pending driver tickets. Thoughts?&lt;/p&gt;</comment>
                            <comment id="15141467" author="pauloricardomg" created="Wed, 10 Feb 2016 19:12:59 +0000"  >&lt;p&gt;+1 to the proposed cqlsh workaround. It would may be nice to print a warning that a date is out of display range and will be displayed as elapsed time since epoch.&lt;/p&gt;</comment>
                            <comment id="15143438" author="aholmber" created="Thu, 11 Feb 2016 20:24:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pauloricardomg&quot; class=&quot;user-hover&quot; rel=&quot;pauloricardomg&quot;&gt;pauloricardomg&lt;/a&gt; How about a single warning, the first time it happens?&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...aholmberg:10625-3.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/compare/trunk...aholmberg:10625-3.1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15147777" author="pauloricardomg" created="Mon, 15 Feb 2016 20:41:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;How about a single warning, the first time it happens?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good! Will mark as ready to commit when CI is happy:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...pauloricardomg:3.0-10625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:trunk-10625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-10625-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-10625-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-10625-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-10625-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;committer: patch merges cleanly upwards.&lt;/p&gt;</comment>
                            <comment id="15154453" author="pauloricardomg" created="Fri, 19 Feb 2016 16:24:21 +0000"  >&lt;p&gt;Tests look good, marking as ready to commit.&lt;/p&gt;</comment>
                            <comment id="15154766" author="jmckenzie" created="Fri, 19 Feb 2016 19:58:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=cassandra.git;a=commit;h=70c8a53de4881a3ccbcf5df7a68f44a57b103f12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Committed&lt;/a&gt; and merged up.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13040257">CASSANDRA-13185</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aholmber]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nqfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333770">2.1.11</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>pauloricardomg</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[pauloricardomg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>