<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:30:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3967] Test fixes for Windows</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3967</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SchemaLoader initializes CommitLog, creating empty segments; CleanupHelper then errors out trying to delete them (because they are still open)&lt;/li&gt;
	&lt;li&gt;CFS.clearUnsafe resets the sstable generation but does not remove the sstables involved, so Windows will error out trying to rename over the existing ones&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12544364">CASSANDRA-3967</key>
            <summary>Test fixes for Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2012 04:42:27 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:38 +0000</updated>
                            <resolved>Fri, 16 Mar 2012 16:59:43 +0000</resolved>
                                        <fixVersion>1.1.0</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13218019" author="slebresne" created="Tue, 28 Feb 2012 09:20:46 +0000"  >&lt;p&gt;The problem is that most tests rely on the behavior of CFS.clearUnsafe to not remove sstables. Typically, in SSTableReaderTest, there is &apos;persistence&apos; tests that use clearUnsafe followed by a loadNewSSTable to check we correctly reload sstables. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3970&quot; title=&quot;(100% reproducible) JVM crash in streamingTransferTest on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3970&quot;&gt;&lt;del&gt;CASSANDRA-3970&lt;/del&gt;&lt;/a&gt; is another example where we rely on the sstable not being removed. Also ColumnFamilyStoreTest and RecoveryManagerTest.&lt;/p&gt;

&lt;p&gt;The patch also seem to be breaking a test in DatabaseDescriptorTest (testTransKsMigration that doesn&apos;t fail without the patch) but that test doesn&apos;t use clearUnsafe so I&apos;m not sure what&apos;s going on.&lt;/p&gt;</comment>
                            <comment id="13225623" author="jbellis" created="Thu, 8 Mar 2012 22:41:49 +0000"  >&lt;p&gt;Posted a second attempt to &lt;a href=&quot;https://github.com/jbellis/cassandra/branches/3967-2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jbellis/cassandra/branches/3967-2&lt;/a&gt;. This time I take the approach of changing load of new sstables to renumber when it loads to avoid conflicts.&lt;/p&gt;</comment>
                            <comment id="13231055" author="slebresne" created="Fri, 16 Mar 2012 11:01:00 +0000"  >&lt;p&gt;There is a small bug in that after renaming we try to load the old (before renaming) descriptor. Added commit to &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/3967-2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pcmanus/cassandra/commits/3967-2&lt;/a&gt; to fix that. With that, and while I don&apos;t have a windows and can&apos;t vouch that it fixes tests there, since that is anyway a more reasonable way to load new sstables, +1.&lt;/p&gt;</comment>
                            <comment id="13231387" author="jbellis" created="Fri, 16 Mar 2012 16:59:43 +0000"  >&lt;p&gt;committed fixed version, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516274" name="3967.txt" size="5055" author="jbellis" created="Tue, 28 Feb 2012 04:42:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229601</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gqfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>