<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:45:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7262] During streaming: java.lang.AssertionError: Reference counter -1</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7262</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Got this assertion failure this weekend during repair:&lt;/p&gt;

&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;STREAM-IN-/192.168.21.14&amp;#93;&lt;/span&gt; 2014-05-17 01:17:52,332 StreamSession.java (line 420) &lt;a href=&quot;#3a3ac8a2-dd50-11e3-b3c1-6bf6dccd6457&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Stream #3a3ac8a2-dd50-11e3-b3c1-6bf6dccd6457&lt;/a&gt; Streaming error occurred&lt;br/&gt;
java.lang.RuntimeException: Outgoing stream handler has been closed&lt;br/&gt;
        at org.apache.cassandra.streaming.ConnectionHandler.sendMessage(ConnectionHandler.java:170)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.receive(StreamSession.java:483)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.messageReceived(StreamSession.java:372)&lt;br/&gt;
        at org.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:289)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:744)&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;STREAM-IN-/192.168.21.14&amp;#93;&lt;/span&gt; 2014-05-17 01:17:52,350 CassandraDaemon.java (line 198) Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;STREAM-IN-/192.168.21.14,5,RMI Runtime&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.AssertionError: Reference counter -1 for /mnt/ssd1/cassandra/data/ldn_production/historical_accounts/ldn_production-historical_accounts-jb-79827-Data.db&lt;br/&gt;
        at org.apache.cassandra.io.sstable.SSTableReader.releaseReference(SSTableReader.java:1107)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamTransferTask.abort(StreamTransferTask.java:80)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.closeSession(StreamSession.java:322)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.onError(StreamSession.java:425)&lt;br/&gt;
        at org.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:300)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:744)&lt;/p&gt;

&lt;p&gt;followed by a few more (the reference counter got down to -3).  Got the same kind of assertion failure on one other node (in a different data centre; there are 21 nodes altogether distributed over 4 data centres).&lt;/p&gt;

&lt;p&gt;I&apos;ve attached the relevant part of the log.  It starts quite a bit before the assertion failure at the first exception on this node (&quot;Cannot proceed on repair because a neighbor ... is dead&quot;), and finishes a few hours afterwards when the node was restarted.&lt;/p&gt;

&lt;p&gt;Edit: The following Reference counter assertion failures followed the 1st on a different file and have a different stack trace:&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;CompactionExecutor:382&amp;#93;&lt;/span&gt; 2014-05-17 01:17:53,157 CassandraDaemon.java (line 198) Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;CompactionExecutor:382,1,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.AssertionError: Reference counter -1 for /mnt/ssd1/cassandra/data/ldn_production/historical_accounts/ldn_production-historical_accounts-jb-83888-Data.db&lt;br/&gt;
   at org.apache.cassandra.io.sstable.SSTableReader.releaseReference(SSTableReader.java:1107)&lt;br/&gt;
   at org.apache.cassandra.io.sstable.SSTableReader.releaseReferences(SSTableReader.java:1429)&lt;br/&gt;
   at org.apache.cassandra.db.compaction.CompactionController.close(CompactionController.java:207)&lt;br/&gt;
   at org.apache.cassandra.db.compaction.CompactionTask.runWith(CompactionTask.java:220)&lt;br/&gt;
   at org.apache.cassandra.io.util.DiskAwareRunnable.runMayThrow(DiskAwareRunnable.java:48)&lt;br/&gt;
   at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)&lt;br/&gt;
   at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:60)&lt;br/&gt;
   at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:59)&lt;br/&gt;
   at org.apache.cassandra.db.compaction.CompactionManager$BackgroundCompactionTask.run(CompactionManager.java:197)&lt;br/&gt;
   ...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cassandra 2.07, x86-64 Ubuntu 12.04.4, Oracle java 1.7.0_45&lt;/p&gt;</environment>
        <key id="12715033">CASSANDRA-7262</key>
            <summary>During streaming: java.lang.AssertionError: Reference counter -1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmckenzie">Josh McKenzie</assignee>
                                    <reporter username="baldrick">Duncan Sands</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 May 2014 16:48:30 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:07 +0000</updated>
                            <resolved>Mon, 2 Jun 2014 07:01:12 +0000</resolved>
                                        <fixVersion>2.0.9</fixVersion>
                                    <component>Legacy/Streaming and Messaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14001877" author="jmckenzie" created="Mon, 19 May 2014 15:18:36 +0000"  >&lt;p&gt;I ran into this while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3569&quot; title=&quot;Failure detector downs should not break streams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3569&quot;&gt;&lt;del&gt;CASSANDRA-3569&lt;/del&gt;&lt;/a&gt; and included the fix in the patch for that ticket.  We had no protection against multiple attempts to release a reference from within the StreamTransferTask.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;fix&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -75,11 +77,15 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;StreamTransferTask &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; StreamTask
 
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void abort()
     {
-        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (OutgoingFileMessage file : files.values())
+        &lt;span class=&quot;code-comment&quot;&gt;// Prevent releasing reference multiple times
&lt;/span&gt;+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (aborted.compareAndSet(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;))
         {
-            file.sstable.releaseReference();
+            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (OutgoingFileMessage file : files.values())
+            {
+                file.sstable.releaseReference();
+            }
+            timeoutExecutor.shutdownNow();
         }
-        timeoutExecutor.shutdownNow();
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14002073" author="jbellis" created="Mon, 19 May 2014 17:58:35 +0000"  >&lt;p&gt;I&apos;m okay with committing this separately since it&apos;s really a bug and 3569 is a new feature.  Also I will probably commit sooner than Marcus. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14002165" author="jbellis" created="Mon, 19 May 2014 18:53:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoshuaMcKenzie&quot; class=&quot;user-hover&quot; rel=&quot;JoshuaMcKenzie&quot;&gt;JoshuaMcKenzie&lt;/a&gt; can you provide a complete patch?  E.g. this references the undeclared &lt;tt&gt;aborted&lt;/tt&gt; field.&lt;/p&gt;</comment>
                            <comment id="14002637" author="jmckenzie" created="Tue, 20 May 2014 00:28:37 +0000"  >&lt;p&gt;patch for StreamTransferTask attached - applies to trunk.  I&apos;ll pull this from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3569&quot; title=&quot;Failure detector downs should not break streams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3569&quot;&gt;&lt;del&gt;CASSANDRA-3569&lt;/del&gt;&lt;/a&gt; and repost a v2 there.&lt;/p&gt;</comment>
                            <comment id="14002731" author="jbellis" created="Tue, 20 May 2014 03:02:53 +0000"  >&lt;p&gt;why is closeSession getting called multiple times in the first place?&lt;/p&gt;</comment>
                            <comment id="14003401" author="jmckenzie" created="Tue, 20 May 2014 15:01:54 +0000"  >&lt;p&gt;closeSession is called from multiple places that aren&apos;t synchronized (while one is).  Another approach to preventing this would be to change all possible entry points to being synchronized (convict, onError) but that&apos;s a higher level of granularity to take care of the potential race between various completion / error possibilities.&lt;/p&gt;

&lt;p&gt;Having said that, it looks like there&apos;s other issues in play here as the exception posted in the ticket is only the 1st and only occurs once.  From the log attached:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;other exceptions&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [CompactionExecutor:382] 2014-05-17 01:17:53,157 CassandraDaemon.java (line 198) Exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[CompactionExecutor:382,1,main]
java.lang.AssertionError: Reference counter -1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /mnt/ssd1/cassandra/data/ldn_production/historical_accounts/ldn_production-historical_accounts-jb-83888-Data.db
   at org.apache.cassandra.io.sstable.SSTableReader.releaseReference(SSTableReader.java:1107)
   at org.apache.cassandra.io.sstable.SSTableReader.releaseReferences(SSTableReader.java:1429)
   at org.apache.cassandra.db.compaction.CompactionController.close(CompactionController.java:207)
   at org.apache.cassandra.db.compaction.CompactionTask.runWith(CompactionTask.java:220)
   at org.apache.cassandra.io.util.DiskAwareRunnable.runMayThrow(DiskAwareRunnable.java:48)
   at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)
   at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:60)
   at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:59)
   at org.apache.cassandra.db.compaction.CompactionManager$BackgroundCompactionTask.run(CompactionManager.java:197)
   ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;While the reference issue on closeSession() chain could lead us into a situation where other releases fail to call tidy() etc, given that the CompactionTask operation leads to the 1st violation in reference count would imply to me that we have 2 separate issues on this ticket.  I haven&apos;t reproduced the compaction reference error nor have I looked deeply into that yet.&lt;/p&gt;</comment>
                            <comment id="14004042" author="jbellis" created="Tue, 20 May 2014 22:01:31 +0000"  >&lt;p&gt;ISTM that fixing the root synchronization cause would be a better fix than applying a band-aid to make abort idempotent.&lt;/p&gt;</comment>
                            <comment id="14004710" author="jmckenzie" created="Wed, 21 May 2014 14:35:01 +0000"  >&lt;p&gt;You say band-aid, I say specificity.  I prefer to sync around a single resource if it&apos;s a concurrency problem and promote the synchronization abstraction up the chain if / when we run into other resources that need synchronization for both complexity and performance reasons (though performance in this context is admittedly not a big concern).&lt;/p&gt;

&lt;p&gt;That being said - I&apos;m fine either way.  I&apos;ll synchronize the various paths into closeSession while looking into the CompactionTask issue.&lt;/p&gt;</comment>
                            <comment id="14004957" author="jbellis" created="Wed, 21 May 2014 17:28:03 +0000"  >&lt;p&gt;Since there&apos;s no performance reason to avoid blocking on the close, IMO that approach is more likely to result in correctness overall.  (If we just make abort idempotent, we may be missing other bugs from code that assumes closeSession was atomic.)&lt;/p&gt;</comment>
                            <comment id="14004992" author="jmckenzie" created="Wed, 21 May 2014 18:01:15 +0000"  >&lt;p&gt;Rather than synchronizing upstream, I&apos;ll just synchronize closeSession (which is likely what you were implying earlier).  Single-point of synchronization to communicate the atomicity of the method; I didn&apos;t like the idea of syncing the upstream methods to get downstream sync.&lt;/p&gt;

&lt;p&gt;As for the exceptions in CompactionTask - the logic dealing with overlapping sstable computation and release is identical on trunk to 2.0.7 and I didn&apos;t reproduce that during any of my testing.  Going to have to chew on that for a bit - my gut feeling looking at the logs and code is that the CompactionTask assertions are unrelated to the streaming closeSession issue given the different files involved and time frame between the messages in the log file.&lt;/p&gt;</comment>
                            <comment id="14005005" author="jbellis" created="Wed, 21 May 2014 18:09:07 +0000"  >&lt;p&gt;SGTM.&lt;/p&gt;</comment>
                            <comment id="14005148" author="jmckenzie" created="Wed, 21 May 2014 19:51:12 +0000"  >&lt;p&gt;And now I recall why I went with idempotence on StreamTransferTask.abort(): we&apos;re specifically releasing references to the SSTR (that are acquired up in SSTableLoader.java...) and releasing those references more than once is clearly an error.  I&apos;ve consistently reproduced both exceptions on this ticket and idempotence on StreamSession.closeSession() resolves both (similarly to StreamTransferTask.abort()).&lt;/p&gt;</comment>
                            <comment id="14006054" author="jmckenzie" created="Thu, 22 May 2014 15:54:52 +0000"  >&lt;p&gt;Attaching v2 that makes StreamSession.closeSession() idempotent.  This also resolves the CompactionTask ref count issue we see on 2.0.7.  Our logic for closing out references in SSTR:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;ref decr&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (references.decrementAndGet() == 0 &amp;amp;&amp;amp; isCompacted.get())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When the closeSession call from the 2nd Socket in the ConnectionHandler comes through, the reference count is put into a state where the next decrement will be &amp;lt; 0 so the page cache, close, and deletingtask never happen and each subsequent compaction task call on the file continues to bypass and assert.&lt;/p&gt;

&lt;p&gt;The closing logic on trunk has been refactored and updated and this is not an issue now, though the - ref count for repeated closeSession calls still fires.&lt;/p&gt;</comment>
                            <comment id="14012015" author="rbranson" created="Thu, 29 May 2014 03:17:19 +0000"  >&lt;p&gt;Would this cause all of the ReadStage threads to spin on decrementAndGet in org.apache.cassandra.io.sstable.SSTableReader.releaseReference?&lt;/p&gt;

&lt;p&gt;       at java.util.concurrent.atomic.AtomicInteger.decrementAndGet(AtomicInteger.java:222)&lt;br/&gt;
       at org.apache.cassandra.io.sstable.SSTableReader.releaseReference(SSTableReader.java:1093)&lt;br/&gt;
       at org.apache.cassandra.io.sstable.SSTableReader.acquireReferences(SSTableReader.java:1420)&lt;br/&gt;
       at org.apache.cassandra.db.ColumnFamilyStore.markReferenced(ColumnFamilyStore.java:1458)&lt;br/&gt;
       at org.apache.cassandra.db.ColumnFamilyStore.markReferenced(ColumnFamilyStore.java:1473)&lt;br/&gt;
       at org.apache.cassandra.db.CollationController.collectTimeOrderedData(CollationController.java:69)&lt;/p&gt;</comment>
                            <comment id="14012608" author="jmckenzie" created="Thu, 29 May 2014 17:48:14 +0000"  >&lt;p&gt;I don&apos;t see it spinning on that single atomic op but it does look like any call to markReferenced w/a &amp;lt; 0 value in SSTR.references would spin attempting to get a reference to the tables.  The logic in there fails to acquire the reference if SSTR.references &amp;lt;= 0 which would include the invalid state of duplicate reference release.&lt;/p&gt;</comment>
                            <comment id="14012902" author="rbranson" created="Thu, 29 May 2014 21:04:35 +0000"  >&lt;p&gt;Also seeing this NPE:&lt;/p&gt;

&lt;p&gt;        at org.apache.cassandra.streaming.StreamTransferTask.createMessageForRetry(StreamTransferTask.java:106)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.retry(StreamSession.java:525)&lt;br/&gt;
        at org.apache.cassandra.streaming.StreamSession.messageReceived(StreamSession.java:401)&lt;br/&gt;
        at org.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:289)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:744)&lt;/p&gt;

&lt;p&gt;Same thing or should I open another ticket? Seems like it&apos;s in the same vein.&lt;/p&gt;</comment>
                            <comment id="14012957" author="jbellis" created="Thu, 29 May 2014 21:39:51 +0000"  >&lt;p&gt;(&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt; to review)&lt;/p&gt;</comment>
                            <comment id="14012976" author="jmckenzie" created="Thu, 29 May 2014 21:49:41 +0000"  >&lt;p&gt;Looks like a separate issue.  On StreamTransferTask.createMessageForRetry, we don&apos;t check to confirm that the ScheduledFuture we&apos;re operating on is actually there:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;StreamTransferTask.createMessageForRetry&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// remove previous time out task to be rescheduled later
&lt;/span&gt;ScheduledFuture &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; = timeoutTasks.get(sequenceNumber);
&lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt;.cancel(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; files.get(sequenceNumber);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That&apos;ll NPE if the transfers have timed out or if we&apos;re in a race w/RETRY messages vs. timeoutExecutor shutting down, race w/completion messages, etc.  Created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7323&quot; title=&quot;NPE in StreamTransferTask.createMessageForRetry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7323&quot;&gt;&lt;del&gt;CASSANDRA-7323&lt;/del&gt;&lt;/a&gt; to track this.&lt;/p&gt;</comment>
                            <comment id="14013374" author="krummas" created="Fri, 30 May 2014 07:17:09 +0000"  >&lt;p&gt;I&apos;m a bit worried about callers expecting the session to be actually closed after calling closeSession, with this it might not be (though, I looked and couldn&apos;t really find a case where they do). Making closeSession synchronized as well would fix that, wdyt?&lt;/p&gt;</comment>
                            <comment id="14013967" author="jmckenzie" created="Fri, 30 May 2014 17:18:21 +0000"  >&lt;p&gt;I agree with your logic - I can&apos;t find any use cases where this would be an issue now, but this should prevent future headache and closeSession() being synchronized shouldn&apos;t cause us any synchronization performance headaches given its context.  v3 attached - should apply to trunk and 2.0.8 both.&lt;/p&gt;</comment>
                            <comment id="14015213" author="krummas" created="Mon, 2 Jun 2014 07:01:12 +0000"  >&lt;p&gt;committed!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12533758">CASSANDRA-3569</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12732298">CASSANDRA-7705</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12645694" name="7262_v1.txt" size="1666" author="joshuamckenzie" created="Tue, 20 May 2014 00:28:37 +0000"/>
                            <attachment id="12646321" name="7262_v2.txt" size="2234" author="joshuamckenzie" created="Thu, 22 May 2014 15:54:52 +0000"/>
                            <attachment id="12647648" name="7262_v3.txt" size="2314" author="joshuamckenzie" created="Fri, 30 May 2014 17:18:21 +0000"/>
                            <attachment id="12645472" name="system.log.gz" size="326405" author="baldrick" created="Sun, 18 May 2014 16:48:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jmckenzie]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vq8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>marcuse</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>