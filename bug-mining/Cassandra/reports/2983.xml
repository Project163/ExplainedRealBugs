<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:46:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7467] flood of &quot;setting live ratio to maximum of 64&quot; from repair</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7467</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;we are on 2.0.8&lt;/p&gt;

&lt;p&gt;running with repair -pr -local &amp;lt;KS&amp;gt;, all nodes on i2.2x (60G ram);, with setting 8G of heap. Using java 8. (key cache size is 1G)&lt;/p&gt;

&lt;p&gt;On occasion, when repair is run, the C* that run the repair, or another node in the cluster, or both, run into a bad state with the system.log just printing &quot;&quot;setting live ratio to maximum of 64&quot;  forever every split seconds. It usually happens when repairing one of the larger/wider CF. &lt;/p&gt;

&lt;p&gt; WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;MemoryMeter:1&amp;#93;&lt;/span&gt; 2014-06-28 09:13:24,540 Memtable.java (line 470) setting live ratio to maximum of 64.0 instead of Infinity&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;MemoryMeter:1&amp;#93;&lt;/span&gt; 2014-06-28 09:13:24,540 Memtable.java (line 481) CFS(Keyspace=&apos;RIQ&apos;, ColumnFamily=&apos;MemberTimeline&apos;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms for 0 cells&lt;/p&gt;

&lt;p&gt;		Table: MemberTimeline&lt;br/&gt;
		SSTable count: 13&lt;br/&gt;
		Space used (live), bytes: 17644018786&lt;br/&gt;
...&lt;br/&gt;
		Compacted partition minimum bytes: 30&lt;br/&gt;
		Compacted partition maximum bytes: 464228842&lt;br/&gt;
		Compacted partition mean bytes: 54578&lt;/p&gt;

&lt;p&gt;Just to give an idea of how bad this is, the log file is set to rotate 50 times with 21M each. In less than 15 minutes, all the logs are filled up with just that log. C* is not responding, and can&apos;t be killed normally. Only way is to kill -9&lt;/p&gt;</description>
                <environment></environment>
        <key id="12724298">CASSANDRA-7467</key>
            <summary>flood of &quot;setting live ratio to maximum of 64&quot; from repair</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aleksey">Aleksey Yeschenko</assignee>
                                    <reporter username="cywjackson">Jackson Chung</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2014 17:30:29 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:41 +0000</updated>
                            <resolved>Tue, 29 Jul 2014 16:34:26 +0000</resolved>
                                        <fixVersion>2.0.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14046958" author="iamaleksey" created="Sat, 28 Jun 2014 20:33:32 +0000"  >&lt;p&gt;Pretty sure this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7401&quot; title=&quot;Memtable.maybeUpdateLiveRatio goes into an endless loop when currentOperations is zero&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7401&quot;&gt;&lt;del&gt;CASSANDRA-7401&lt;/del&gt;&lt;/a&gt;. Now I&apos;m really curious where those empty CFs are coming from, though.&lt;/p&gt;</comment>
                            <comment id="14046975" author="cywjackson" created="Sat, 28 Jun 2014 21:50:25 +0000"  >&lt;p&gt;We have some cron job that periodically run flush on the entire keyspace,&lt;br/&gt;
so could be that&lt;/p&gt;
</comment>
                            <comment id="14047034" author="cywjackson" created="Sun, 29 Jun 2014 02:25:48 +0000"  >&lt;p&gt;disabled the flush keyspace cron job, it does seem help. However, during the repair those lines would still be logged frequently (due to stream from the repair?). But at least it is not in a infinite-loop style. &lt;/p&gt;</comment>
                            <comment id="14047150" author="cywjackson" created="Sun, 29 Jun 2014 16:17:49 +0000"  >&lt;p&gt;please ignore prev comment. 2 nodes misbehaved over night while repair was running (on another node), and crontab flush is already disabled.&lt;/p&gt;</comment>
                            <comment id="14077859" author="mshuler" created="Tue, 29 Jul 2014 15:48:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enigmacurry&quot; class=&quot;user-hover&quot; rel=&quot;enigmacurry&quot;&gt;enigmacurry&lt;/a&gt; could you see if this can be reproduced?  Thanks!&lt;/p&gt;</comment>
                            <comment id="14077943" author="iamaleksey" created="Tue, 29 Jul 2014 16:34:26 +0000"  >&lt;p&gt;Fixed by a5cc16d18c0478fd37a33f68502632261f1d54d1&lt;/p&gt;</comment>
                            <comment id="14088437" author="graham sanderson" created="Wed, 6 Aug 2014 23:07:54 +0000"  >&lt;p&gt;I can see where many of them are coming from on 2.0.9 (before this change to debug level) - we just upgraded from 2.0.5&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-08-06 04:02:34,026 INFO  [MemoryMeter:1] 2014-08-06 04:02:34,026 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:02:34,069 INFO  [MemoryMeter:1] 2014-08-06 04:02:34,069 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:02:34,117 INFO  [InternalResponseStage:87] 2014-08-06 04:02:34,117 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@1406319171(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:02:34,118 INFO  [FlushWriter:41] 2014-08-06 04:02:34,118 Memtable.java (line 363) Writing Memtable-schema_triggers@1406319171(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:02:34,124 INFO  [FlushWriter:41] 2014-08-06 04:02:34,124 Memtable.java (line 403) Completed flushing /data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-60-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842775, position=7415363)
2014-08-06 04:02:34,126 INFO  [CompactionExecutor:185] 2014-08-06 04:02:34,126 CompactionTask.java (line 115) Compacting [SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-59-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-60-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-58-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-57-Data.db&apos;&lt;/span&gt;)]
2014-08-06 04:02:34,796 INFO  [MemoryMeter:1] 2014-08-06 04:02:34,796 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:02:34,844 INFO  [MemoryMeter:1] 2014-08-06 04:02:34,844 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:02:34,896 INFO  [InternalResponseStage:88] 2014-08-06 04:02:34,896 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@349252843(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:02:34,897 INFO  [FlushWriter:38] 2014-08-06 04:02:34,897 Memtable.java (line 363) Writing Memtable-schema_triggers@349252843(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:02:34,903 INFO  [FlushWriter:38] 2014-08-06 04:02:34,903 Memtable.java (line 403) Completed flushing /data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-61-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842775, position=7995460)
2014-08-06 04:12:47,723 INFO  [MemoryMeter:1] 2014-08-06 04:12:47,723 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:12:47,749 INFO  [MemoryMeter:1] 2014-08-06 04:12:47,749 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:12:47,815 INFO  [InternalResponseStage:101] 2014-08-06 04:12:47,815 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@1809531694(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:12:47,816 INFO  [FlushWriter:48] 2014-08-06 04:12:47,816 Memtable.java (line 363) Writing Memtable-schema_triggers@1809531694(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:12:47,821 INFO  [FlushWriter:48] 2014-08-06 04:12:47,821 Memtable.java (line 403) Completed flushing /data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-62-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842777, position=23729801)
2014-08-06 04:12:49,257 INFO  [MemoryMeter:1] 2014-08-06 04:12:49,257 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:12:49,301 INFO  [MemoryMeter:1] 2014-08-06 04:12:49,301 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:12:49,349 INFO  [InternalResponseStage:103] 2014-08-06 04:12:49,349 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@91416114(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:12:49,350 INFO  [FlushWriter:48] 2014-08-06 04:12:49,350 Memtable.java (line 363) Writing Memtable-schema_triggers@91416114(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:12:49,357 INFO  [FlushWriter:48] 2014-08-06 04:12:49,357 Memtable.java (line 403) Completed flushing /data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-63-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842777, position=25231718)
2014-08-06 04:13:33,224 INFO  [MemoryMeter:1] 2014-08-06 04:13:33,224 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:13:33,250 INFO  [MemoryMeter:1] 2014-08-06 04:13:33,250 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:13:33,324 INFO  [InternalResponseStage:106] 2014-08-06 04:13:33,324 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@157617667(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:13:33,325 INFO  [FlushWriter:51] 2014-08-06 04:13:33,325 Memtable.java (line 363) Writing Memtable-schema_triggers@157617667(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:13:33,330 INFO  [FlushWriter:51] 2014-08-06 04:13:33,330 Memtable.java (line 403) Completed flushing /data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-64-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842778, position=4977305)
2014-08-06 04:13:33,332 INFO  [CompactionExecutor:213] 2014-08-06 04:13:33,332 CompactionTask.java (line 115) Compacting [SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-64-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-61-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-62-Data.db&apos;&lt;/span&gt;), SSTableReader(path=&lt;span class=&quot;code-quote&quot;&gt;&apos;/data/6/cassandra/system/schema_triggers/system-schema_triggers-jb-63-Data.db&apos;&lt;/span&gt;)]
2014-08-06 04:13:46,756 INFO  [MemoryMeter:1] 2014-08-06 04:13:46,756 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:13:46,771 INFO  [MemoryMeter:1] 2014-08-06 04:13:46,771 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:13:46,892 INFO  [InternalResponseStage:108] 2014-08-06 04:13:46,892 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@1625969376(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:13:46,896 INFO  [FlushWriter:51] 2014-08-06 04:13:46,896 Memtable.java (line 363) Writing Memtable-schema_triggers@1625969376(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:13:46,903 INFO  [FlushWriter:51] 2014-08-06 04:13:46,903 Memtable.java (line 403) Completed flushing /data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-65-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842778, position=9486910)
2014-08-06 04:19:31,886 INFO  [MemoryMeter:1] 2014-08-06 04:19:31,886 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:19:31,934 INFO  [MemoryMeter:1] 2014-08-06 04:19:31,934 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 1ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:19:31,987 INFO  [InternalResponseStage:110] 2014-08-06 04:19:31,987 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@431225069(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:19:31,989 INFO  [FlushWriter:58] 2014-08-06 04:19:31,989 Memtable.java (line 363) Writing Memtable-schema_triggers@431225069(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:19:31,994 INFO  [FlushWriter:58] 2014-08-06 04:19:31,994 Memtable.java (line 403) Completed flushing /data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-66-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842781, position=17483747)
2014-08-06 04:19:32,434 INFO  [MemoryMeter:1] 2014-08-06 04:19:32,434 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:19:32,480 INFO  [MemoryMeter:1] 2014-08-06 04:19:32,480 Memtable.java (line 481) CFS(Keyspace=&lt;span class=&quot;code-quote&quot;&gt;&apos;system&apos;&lt;/span&gt;, ColumnFamily=&lt;span class=&quot;code-quote&quot;&gt;&apos;schema_triggers&apos;&lt;/span&gt;) liveRatio is 64.0 (just-counted was 64.0).  calculation took 0ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0 cells
2014-08-06 04:19:32,529 INFO  [InternalResponseStage:111] 2014-08-06 04:19:32,529 ColumnFamilyStore.java (line 794) Enqueuing flush of Memtable-schema_triggers@928567559(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:19:32,535 INFO  [FlushWriter:55] 2014-08-06 04:19:32,535 Memtable.java (line 363) Writing Memtable-schema_triggers@928567559(0/0 serialized/live bytes, 3 ops)
2014-08-06 04:19:32,540 INFO  [FlushWriter:55] 2014-08-06 04:19:32,540 Memtable.java (line 403) Completed flushing /data/1/cassandra/system/schema_triggers/system-schema_triggers-jb-67-Data.db (129 bytes) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position ReplayPosition(segmentId=1407287842781, position=18159774)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So these particular flushes happen as a result of 3 mystery ops in this CF; note these ops appeared as of 2.0.5, but the metering of the memtable did not happen frequently - maybe once every few weeks, so not something that garnered particular scrutiny.&lt;/p&gt;

&lt;p&gt;Note I guess that mis-estimating this particular CF is not a big issue since it is empty anyway, but I&apos;m not a huge fan of band-aiding the issue with debug logging, since once the noise dies down we may find other cases (there are other actual in use non empty CFs in our logs I need to look at which show the same empty memtable metering) where the warning likely points to unexpected behavior of the C* code.&lt;/p&gt;

&lt;p&gt;This is all related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6944&quot; title=&quot;liveRatio jumps to max when Memtable is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6944&quot;&gt;&lt;del&gt;CASSANDRA-6944&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6945&quot; title=&quot;Calculate liveRatio on per-memtable basis, non per-CF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6945&quot;&gt;&lt;del&gt;CASSANDRA-6945&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7401&quot; title=&quot;Memtable.maybeUpdateLiveRatio goes into an endless loop when currentOperations is zero&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7401&quot;&gt;&lt;del&gt;CASSANDRA-7401&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6945&quot; title=&quot;Calculate liveRatio on per-memtable basis, non per-CF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6945&quot;&gt;&lt;del&gt;CASSANDRA-6945&lt;/del&gt;&lt;/a&gt; certainly seems to be responsible for these odd cases being metered more often (which I don&apos;t believe was the intent).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x9y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>402550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>