<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:13:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1118] allow overriding existing token owner with a new IP</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1118</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;We&apos;d like to support replacing one node with another at the same IP (e.g. when the data is on Amazon&apos;s EBS and can easily be mounted to a new host), as noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-872&quot; title=&quot;Changing the ip address associated w/ a token should generate a warning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-872&quot;&gt;&lt;del&gt;CASSANDRA-872&lt;/del&gt;&lt;/a&gt;.  But in practice this is reported to not work w/o a cluster restart (can&apos;t find the ML thread now ... ?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465236">CASSANDRA-1118</key>
            <summary>allow overriding existing token owner with a new IP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gdusbabek">Gary Dusbabek</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 May 2010 02:26:15 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:23 +0000</updated>
                            <resolved>Mon, 7 Jun 2010 20:26:25 +0000</resolved>
                                        <fixVersion>0.6.3</fixVersion>
                    <fixVersion>0.7 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12873124" author="gdusbabek" created="Fri, 28 May 2010 19:38:55 +0000"  >&lt;p&gt;I&apos;m guessing the description should read &quot;We&apos;d like to support replacing one node with another at &lt;b&gt;a different&lt;/b&gt; IP...&quot;&lt;/p&gt;</comment>
                            <comment id="12873130" author="jbellis" created="Fri, 28 May 2010 20:00:27 +0000"  >&lt;p&gt;Yes, that&apos;s right.  (oops.)&lt;/p&gt;</comment>
                            <comment id="12874278" author="gdusbabek" created="Tue, 1 Jun 2010 22:15:31 +0000"  >&lt;p&gt;Basically for my notes so I don&apos;t forget this...&lt;/p&gt;

&lt;p&gt;This feature is already implemented, but I see two bugs.  First, there is a flaw in the state logic that assumes any time a node is seen for the first time that is the canonical host for a given token.  It is manifest when NodeB(tokenX) comes online intending to replace NodeA(tokenX).  when B sees A for the first time during the normal course of gossip, B incorrectly assumes that A is replacing it, which messes up B&apos;s view of the ring.  Second, partitions are not addressed (Node C, returning from a partition will not see that B has replaced A) and will have an incorrect view of the ring.&lt;/p&gt;</comment>
                            <comment id="12874579" author="gdusbabek" created="Wed, 2 Jun 2010 13:47:30 +0000"  >&lt;p&gt;Use start time to resolve node token reassignment disagreement. &lt;/p&gt;</comment>
                            <comment id="12874580" author="gdusbabek" created="Wed, 2 Jun 2010 13:48:05 +0000"  >&lt;p&gt;Patch is against trunk.&lt;/p&gt;</comment>
                            <comment id="12875461" author="jbellis" created="Fri, 4 Jun 2010 04:23:07 +0000"  >&lt;p&gt;would it be simpler to use the gossip &quot;generation&quot; to detect the more recently started host?&lt;/p&gt;</comment>
                            <comment id="12875466" author="gdusbabek" created="Fri, 4 Jun 2010 04:32:20 +0000"  >&lt;p&gt;That would be better.&lt;/p&gt;</comment>
                            <comment id="12875860" author="gdusbabek" created="Sat, 5 Jun 2010 05:10:56 +0000"  >&lt;p&gt;Modified patch to use generation time.&lt;/p&gt;</comment>
                            <comment id="12875976" author="jbellis" created="Sun, 6 Jun 2010 02:19:43 +0000"  >&lt;p&gt;you can get the generation from endpointstate.heartbeatstate without needing to add an extra applicationstate&lt;/p&gt;</comment>
                            <comment id="12876265" author="gdusbabek" created="Mon, 7 Jun 2010 15:02:55 +0000"  >&lt;p&gt;Use heatbeat generation time instead of something different.&lt;/p&gt;</comment>
                            <comment id="12876358" author="jbellis" created="Mon, 7 Jun 2010 18:43:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12876664" author="hudson" created="Tue, 8 Jun 2010 12:45:21 +0000"  >&lt;p&gt;Integrated in Cassandra #459 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/459/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/459/&lt;/a&gt;)&lt;br/&gt;
    use generation time to resolve node token reassignment disagreement. patch by gdusbabek, reviewed by jbellis. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1118&quot; title=&quot;allow overriding existing token owner with a new IP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1118&quot;&gt;&lt;del&gt;CASSANDRA-1118&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12446144" name="0001-use-start-time-to-resolve-node-token-reassignment-di.patch" size="6753" author="gdusbabek" created="Wed, 2 Jun 2010 13:47:30 +0000"/>
                            <attachment id="12446400" name="v2-0001-use-generation-time-to-resolve-node-token-reassignme.patch" size="4306" author="gdusbabek" created="Sat, 5 Jun 2010 05:10:56 +0000"/>
                            <attachment id="12446489" name="v3-0001-use-generation-time-to-resolve-node-token-reassignme.patch" size="2582" author="gdusbabek" created="Mon, 7 Jun 2010 15:02:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gdusbabek]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g33z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>