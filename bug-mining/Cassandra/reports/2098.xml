<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:37:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5386] CQL Not Handling Descending Clustering Order On A timeuuid Correctly</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5386</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I raised this issue as a question in the mailing list:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/user@cassandra.apache.org/msg28787.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/user@cassandra.apache.org/msg28787.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If I create a table (cqlsh) with the following schema:&lt;/p&gt;

&lt;p&gt;CREATE TABLE mytable ( column1 text,&lt;br/&gt;
      column2 text,&lt;br/&gt;
      messageId timeuuid,&lt;br/&gt;
      message blob,&lt;br/&gt;
      PRIMARY KEY ((column1, column2), messageId));&lt;/p&gt;

&lt;p&gt;I can quite happily add rows to this table:&lt;/p&gt;

&lt;p&gt;insert into client_queue (column1,column2,messageId,message) VALUES&lt;br/&gt;
(&apos;string1&apos;,&apos;string2&apos;,now(),&apos;ABCCDCC123&apos;);&lt;/p&gt;

&lt;p&gt;If I however create a table with a desc clustering order on messageid:&lt;/p&gt;

&lt;p&gt;CREATE TABLE mytable ( column1 text,&lt;br/&gt;
      column2 text,&lt;br/&gt;
      messageId timeuuid,&lt;br/&gt;
      message blob,&lt;br/&gt;
      PRIMARY KEY ((column1, column2), messageId)) WITH CLUSTERING&lt;br/&gt;
ORDER BY (messageId DESC);&lt;/p&gt;

&lt;p&gt;Inserts are failing. I am getting the following error:&lt;/p&gt;

&lt;p&gt;insert into client_queue2 (column1,column2,messageId,message) VALUES&lt;br/&gt;
(&apos;string1&apos;,&apos;string2&apos;,now(),&apos;ABCCDCC123&apos;);&lt;/p&gt;

&lt;p&gt;I get the following error:&lt;/p&gt;

&lt;p&gt;Bad Request: Type error: cannot assign result of function now (type&lt;br/&gt;
timeuuid) to messageid (type&lt;br/&gt;
&apos;org.apache.cassandra.db.marshal.ReversedType(org.apache.cassandra.db.marshal.TimeUUIDType)&apos;)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Apache Cassandra 1.2.3, Mac OS X (Lion), cql 3&lt;/p&gt;</environment>
        <key id="12639171">CASSANDRA-5386</key>
            <summary>CQL Not Handling Descending Clustering Order On A timeuuid Correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="gcollins">Gareth Collins</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Mar 2013 19:29:37 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:15 +0000</updated>
                            <resolved>Wed, 27 Mar 2013 15:18:57 +0000</resolved>
                                        <fixVersion>1.2.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13615090" author="slebresne" created="Wed, 27 Mar 2013 10:27:28 +0000"  >&lt;p&gt;Patch attached to fix (to ignore ReversedType when we do a type comparison).&lt;/p&gt;</comment>
                            <comment id="13615184" author="jbellis" created="Wed, 27 Mar 2013 12:49:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13615372" author="slebresne" created="Wed, 27 Mar 2013 15:18:57 +0000"  >&lt;p&gt;Committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12575686" name="5386.txt" size="6083" author="slebresne" created="Wed, 27 Mar 2013 10:27:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j5hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>