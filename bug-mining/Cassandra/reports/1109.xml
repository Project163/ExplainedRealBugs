<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:22:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3119] Cli syntax for creating keyspace is inconsistent in 1.0</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3119</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In 0.8, to create a keyspace you could do:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create keyspace test with placement_strategy = &apos;org.apache.cassandra.locator.SimpleStrategy&apos; and strategy_options = [{replication_factor:3}]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In current trunk, if you try that, you get back &quot;null&quot;. Turns out this is because the syntax for strategy_options has changed and you should not use the brackets, i.e:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;strategy_options = {replication_factor:3}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(and note that reversely, this syntax doesn&apos;t work in 0.8).&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what motivated that change but this is very user unfriendly. The help does correctly mention the new syntax, but it is the kind of changes that takes you 5 minutes to notice. It will also break people scripts for no good reason that I can see.&lt;/p&gt;

&lt;p&gt;We should either:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;revert to the old syntax&lt;/li&gt;
	&lt;li&gt;support both the new and old syntax&lt;/li&gt;
	&lt;li&gt;at least print a meaningful error message when the old syntax is used&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Imho, the last solution is by far the worst solution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12521061">CASSANDRA-3119</key>
            <summary>Cli syntax for creating keyspace is inconsistent in 1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tjake">T Jake Luciani</assignee>
                                    <reporter username="slebresne">Sylvain Lebresne</reporter>
                        <labels>
                            <label>cli</label>
                    </labels>
                <created>Thu, 1 Sep 2011 13:46:26 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:52 +0000</updated>
                            <resolved>Wed, 7 Sep 2011 20:09:47 +0000</resolved>
                                        <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13095297" author="jbellis" created="Thu, 1 Sep 2011 13:54:52 +0000"  >&lt;p&gt;I&apos;m in favor of 3., because the old syntax was broken &amp;#8211; we never actually supported a list there, which is what it implies.&lt;/p&gt;</comment>
                            <comment id="13095298" author="jbellis" created="Thu, 1 Sep 2011 13:55:20 +0000"  >&lt;p&gt;As mentioned on the other ticket, this should also be described in NEWS.&lt;/p&gt;</comment>
                            <comment id="13095314" author="xedin" created="Thu, 1 Sep 2011 14:22:17 +0000"  >&lt;p&gt;it seems like the best move here will be to support both &lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt; and {} in there because it&apos;s imposible to say what caused that &quot;null&quot; because it fails somewhere deep in ANTLR (in most cases when recognition was failed ANTLR throws standard exceptions which we handle correctly as &quot;Command not found&quot; or &quot;Syntax error&quot;).&lt;/p&gt;</comment>
                            <comment id="13095415" author="urandom" created="Thu, 1 Sep 2011 16:57:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;... the old syntax was broken &#8211; we never actually supported a list there, which is what it implies.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree completely, but a user whose script has broken is still going to be irritated.&lt;/p&gt;

&lt;p&gt;These things are like paper cuts, they aren&apos;t a huge deal when looked at in isolation, but they add up to a negative experience pretty quickly.&lt;/p&gt;</comment>
                            <comment id="13099236" author="tjake" created="Wed, 7 Sep 2011 19:19:32 +0000"  >&lt;p&gt;The patch accepts both new and old syntax, also warns the user when they use &lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;&lt;/p&gt;

</comment>
                            <comment id="13099271" author="xedin" created="Wed, 7 Sep 2011 20:09:47 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13099568" author="hudson" created="Wed, 7 Sep 2011 21:23:30 +0000"  >&lt;p&gt;Integrated in Cassandra #1085 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/1085/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/1085/&lt;/a&gt;)&lt;br/&gt;
    Fix inconsistency of the CLI syntax when {} should be used instead of &lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;&lt;br/&gt;
patch by Jake Luciani; reviewed by Pavel Yaskevich for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3119&quot; title=&quot;Cli syntax for creating keyspace is inconsistent in 1.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3119&quot;&gt;&lt;del&gt;CASSANDRA-3119&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;xedin : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166367&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1166367&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/cli/CliClient.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/test/unit/org/apache/cassandra/cli/CliTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493364" name="ASF.LICENSE.NOT.GRANTED--v1-0001-CASSANDRA-3119-warn-on-old-cli-syntax.txt" size="2793" author="tjake" created="Wed, 7 Sep 2011 19:18:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gg0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>xedin</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>