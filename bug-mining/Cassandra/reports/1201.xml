<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:24:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3318] Unable to delete after running scrub</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3318</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Another problem with sstable deletions on 1.0. Running scrub produces lot of unable to delete messages on windows.&lt;/p&gt;

&lt;p&gt;ERROR 16:16:37,562 Unable to delete \var\lib\cassandra\data\test\sipdb-h-711-Dat&lt;br/&gt;
a.db (it will be removed on server restart; we&apos;ll also retry after GC)&lt;br/&gt;
 INFO 16:16:37,577 Scrub of SSTableReader(path=&apos;\var\lib\cassandra\data\test\sip&lt;br/&gt;
db-h-711-Data.db&apos;) complete: 48396 rows in new sstable and 0 empty (tombstoned)&lt;br/&gt;
rows dropped&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525837">CASSANDRA-3318</key>
            <summary>Unable to delete after running scrub</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="hsn">Radim Kolar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Oct 2011 14:21:03 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:49 +0000</updated>
                            <resolved>Thu, 6 Oct 2011 15:22:05 +0000</resolved>
                                        <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13121344" author="jbellis" created="Wed, 5 Oct 2011 18:41:17 +0000"  >&lt;p&gt;Is 711 a pre-scrub or post-scrub sstable?&lt;/p&gt;</comment>
                            <comment id="13121353" author="jbellis" created="Wed, 5 Oct 2011 18:49:55 +0000"  >&lt;p&gt;Suspect this also affects 0.7 and 0.8.&lt;/p&gt;</comment>
                            <comment id="13121475" author="hsn" created="Wed, 5 Oct 2011 21:08:22 +0000"  >&lt;p&gt; INFO 23:05:39,845 Scrub of SSTableReader(path=&apos;\var\lib\cassandra\data\system\S&lt;br/&gt;
chema-h-10-Data.db&apos;) complete: 8 rows in new sstable and 0 empty (tombstoned) ro&lt;br/&gt;
ws dropped&lt;br/&gt;
ERROR 23:05:39,845 Unable to delete \var\lib\cassandra\data\system\Schema-h-10-D&lt;br/&gt;
ata.db (it will be removed on server restart; we&apos;ll also retry after GC)&lt;/p&gt;

&lt;p&gt;its table after scrub is finished.&lt;/p&gt;</comment>
                            <comment id="13121514" author="jbellis" created="Wed, 5 Oct 2011 21:50:52 +0000"  >&lt;p&gt;that means it&apos;s the sstable from before scrub.&lt;/p&gt;

&lt;p&gt;patch attached to close the readers before replacing the old sstable with the new one.&lt;/p&gt;

&lt;p&gt;(the diff is intimidating but it&apos;s mostly indentation changes from combining two try/finally blocks.  recommend using a &quot;smart&quot; diff tool like intellij&apos;s, post-patch application.)&lt;/p&gt;</comment>
                            <comment id="13121515" author="jbellis" created="Wed, 5 Oct 2011 21:51:20 +0000"  >&lt;p&gt;(patch is against trunk)&lt;/p&gt;</comment>
                            <comment id="13121770" author="slebresne" created="Thu, 6 Oct 2011 07:24:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13121999" author="jbellis" created="Thu, 6 Oct 2011 15:20:28 +0000"  >&lt;p&gt;I&apos;m only going to commit this to 1.0 after all, because before that our PhantomReference-based deleting is very unlikely to run into this problem, so I&apos;m going to let the stable releases stay stable.&lt;/p&gt;</comment>
                            <comment id="13122001" author="jbellis" created="Thu, 6 Oct 2011 15:22:05 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497905" name="3318.txt" size="17048" author="jbellis" created="Wed, 5 Oct 2011 21:50:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gigf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>