<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:36:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5001] Generated time-based UUID don&apos;t conform to the spec</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5001</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When UUIDGen layout the clock sequence and and node part of version 1 UUID, it does so with&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;private long getClockSeqAndNode(InetAddress addr)
{
    long lsb = 0;
    lsb |= (clock &amp;amp; 0x3f00000000000000L) &amp;gt;&amp;gt;&amp;gt; 56; // was 58?
    lsb |= 0x0000000000000080;
    lsb |= (clock &amp;amp; 0x00ff000000000000L) &amp;gt;&amp;gt;&amp;gt; 48;
    lsb |= makeNode(addr);
    return lsb;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is not correct however, as this layout the clock seq (and variant) on the right-most part of the lsb while it should be on the left-most one.&lt;/p&gt;

&lt;p&gt;At a minimum, the generated UUID don&apos;t fully respect the spec since the variant is not set correctly. But it also means that the clock seq bits end up being all 0&apos;s (as can be trivially seen in the string representation of the generated UUIDs).&lt;/p&gt;

&lt;p&gt;Note that none of those is a huge huge deal as there is still largely enough random bytes to ensure that two different nodes won&apos;t end up with the same lsb. And having the variant wrong has probably no practical implementation. There is no reason not to fix those though.&lt;/p&gt;

&lt;p&gt;One other small details is that the getAdjustedTimestamp as a sign error so that it returns completely broken timestamps. That being said the method is currently unused so that&apos;s not a big deal. I&apos;m attaching a fix for that part too because that method might be useful someday but I won&apos;t shed a tear if we prefer just removing it.&lt;/p&gt;

&lt;p&gt;I&apos;m marking this for 1.2 because I&apos;m not sure it&apos;s worth bothering with 1.1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618021">CASSANDRA-5001</key>
            <summary>Generated time-based UUID don&apos;t conform to the spec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="slebresne">Sylvain Lebresne</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Nov 2012 17:41:43 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:22 +0000</updated>
                            <resolved>Thu, 29 Nov 2012 09:24:37 +0000</resolved>
                                        <fixVersion>1.2.0 beta 3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13506143" author="vijay2win@yahoo.com" created="Thu, 29 Nov 2012 01:56:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Nit: it might be nice to move the calculation in getClockSeqAndNode into makeNode so we can cache it in nodeCache.&lt;/p&gt;</comment>
                            <comment id="13506354" author="slebresne" created="Thu, 29 Nov 2012 09:24:37 +0000"  >&lt;p&gt;Alright, committed, thanks&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Nit: it might be nice to move the calculation in getClockSeqAndNode into makeNode so we can cache it in nodeCache.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That true, but truth is, you&apos;re not supposed to generate uuid for another node (and in practice we never do) so that whole nodeCache is useless imho and the whole UUID lsb could be a static. So anyway, I&apos;ll open a separate ticket in a gif to fix those inefficiencies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12555199" name="5001.txt" size="2505" author="slebresne" created="Wed, 28 Nov 2012 17:44:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s9r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>vijay2win@yahoo.com</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[vijay2win@yahoo.com]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>