<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:54:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8502] Static columns returning null for pages after first</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8502</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When paging is used for a query containing a static column, the first page contains the right value for the static column, but subsequent pages have null null for the static column instead of the expected value.&lt;/p&gt;

&lt;p&gt;Repro steps:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Create a table with a static column&lt;/li&gt;
	&lt;li&gt;Create a partition with 500 cells&lt;/li&gt;
	&lt;li&gt;Using cqlsh, query that partition&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Actual result:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;You will see that first, the static column appears as expected, but if you press a key after &quot;--&lt;del&gt;MORE&lt;/del&gt;--&quot;, the static columns will appear as null.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See the attached file for a repro of the output.&lt;/p&gt;

&lt;p&gt;I am using a single node cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762324">CASSANDRA-8502</key>
            <summary>Static columns returning null for pages after first</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thobbs">Tom Hobbs</assignee>
                                    <reporter username="FlavienCharlon">Flavien Charlon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Dec 2014 16:28:21 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:25 +0000</updated>
                            <resolved>Thu, 28 May 2015 15:41:46 +0000</resolved>
                                        <fixVersion>2.0.16</fixVersion>
                    <fixVersion>2.1.6</fixVersion>
                    <fixVersion>2.2.0 rc1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14250100" author="slebresne" created="Wed, 17 Dec 2014 16:45:54 +0000"  >&lt;p&gt;It&apos;s actually pretty easy to explain, as if we page in the middle of a partition, we&apos;ll start reading in the middle of said partition and thus miss the static data. I guess we&apos;ll have to detect if there is static columns to be fetched and include back a slice for the static block when we restart paging. A tad hairy but doable.&lt;/p&gt;</comment>
                            <comment id="14277974" author="thobbs" created="Thu, 15 Jan 2015 00:29:50 +0000"  >&lt;p&gt;I&apos;ve got a working patch for forward slices, but reversed slices are more problematic.  We need to add an extra slice over the statics for every page, but with reversed queries, the static slice comes &lt;em&gt;after&lt;/em&gt; the normal slice, so the page limit prevents the static slice from being used until the last page.  So instead of adding a second slice to the read, it looks like we&apos;ll need to split the reversed queries into two separate reads: one for the static columns, and one for the normal data.&lt;/p&gt;</comment>
                            <comment id="14279974" author="slebresne" created="Fri, 16 Jan 2015 08:31:33 +0000"  >&lt;p&gt;Right, and this is not limited to paging: any reversed query with a &lt;tt&gt;LIMIT&lt;/tt&gt; might miss the static parts (paging just make it worst in that even queries without a limit are problematic).&lt;/p&gt;

&lt;p&gt;I also agree that doing 2 reads seems like the only solution outside of specializing statics internally. The somewhat good news is that &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8099&quot; title=&quot;Refactor and modernize the storage engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8099&quot;&gt;&lt;del&gt;CASSANDRA-8099&lt;/del&gt;&lt;/a&gt; actually does special case statics (for other reasons initially, but this issue adds a reason why it&apos;s a good idea), so we should be able to do it easily (and much more transparently) with a single read in 3.0.&lt;/p&gt;

&lt;p&gt;Now, while we can do 2 reads for 2.0/2.1, it bugs me a bit because:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It&apos;ll probably be hacky code-wise, especially in the paging case since the pager doesn&apos;t have a very good way to know if we&apos;re querying statics or not (we&apos;d either have to pass that information down as a boolean to the ctor, or manually inspect the slices to detect it, both of which are ugly).&lt;/li&gt;
	&lt;li&gt;It&apos;ll be surprising performance wise. If it&apos;s going to be a &quot;I&apos;m doing this and it&apos;s slow, how come? Oh, yes, don&apos;t do that, it does 2 reads internally&quot;, I&apos;d almost rather not support it.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;So the other option we could consider would be to simply refuse reversed slice when statics are involved on the ground that we currently don&apos;t have a good way to do it efficiently. It&apos;s certainly not perfect, but users can do 2 queries if they really want to as a work-around, and in doing so the performance impact would at least be clear upfront.&lt;/p&gt;</comment>
                            <comment id="14281070" author="thobbs" created="Sat, 17 Jan 2015 00:46:40 +0000"  >&lt;p&gt;Since I basically had a patch ready to go before this comment, I went ahead and attached a 2.0 version of the patch to discuss it.  There are some new &lt;a href=&quot;https://github.com/thobbs/cassandra-dtest/tree/CASSANDRA-8502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; that exercise this pretty well, and the existing unit/dtests seem to be passing.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It&apos;ll probably be hacky code-wise, especially in the paging case since the pager doesn&apos;t have a very good way to know if we&apos;re querying statics or not (we&apos;d either have to pass that information down as a boolean to the ctor, or manually inspect the slices to detect it, both of which are ugly).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, the patch is a little ugly, but it&apos;s not terrible.  In the reversed case, the split happens at &lt;tt&gt;SliceFromReadCommand.getRow()&lt;/tt&gt; instead of at the paging level.  Checking for statics basically involves seeing if the table has static columns and seeing if the slice start/finish (depending on reversal) is EMPTY_BYTE_BUFFER.  IMO, the related changes to trimming the results (to avoid trimming or counting statics) are uglier.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It&apos;ll be surprising performance wise. If it&apos;s going to be a &quot;I&apos;m doing this and it&apos;s slow, how come? Oh, yes, don&apos;t do that, it does 2 reads internally&quot;, I&apos;d almost rather not support it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A ~2x penalty isn&apos;t &lt;em&gt;too&lt;/em&gt; bad, and at least it only significantly affects reversed queries on tables with static columns, which should be somewhat rare.  The fact that we have plans to improve this in 3.0 also helps.&lt;/p&gt;</comment>
                            <comment id="14293399" author="slebresne" created="Tue, 27 Jan 2015 11:53:28 +0000"  >&lt;p&gt;Remarks on the patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I don&apos;t think this handle range queries (for the reversed case) as SliceFromReadCommand is not used for those (the comment in DataRange that the reverse case is handled by SliceFromReadCommand is thus incorrect). I believe this case should be dealt with in SStableScanner, though of course this will add to the uglyness. Not saying we shouldn&apos;t do it but I&apos;ll admit that at least as far as 2.0 goes, this is crossing the boundaries of my own confort zone.&lt;/li&gt;
	&lt;li&gt;Not sure about the modifications in &lt;tt&gt;SliceQueryFilter.trim&lt;/tt&gt; and &lt;tt&gt;AbstractQueryPager.discardHead&lt;/tt&gt;. For non-reversed queries, this logic is already handled by the column counter.  It&apos;s true that it doesn&apos;t work for reversed queries, but the right place to fix that is imo the column counter (which probably need to have a reversed variant) as this also affects &lt;tt&gt;collectReducedColumns&lt;/tt&gt; (and possibly other places).&lt;/li&gt;
	&lt;li&gt;I think &lt;tt&gt;AbstractQueryPager.firstNonStaticColumns&lt;/tt&gt; deserves a comment as to why we need to skip static columns. And in fact, I believe we only need to because the detection of static slices tests for &lt;tt&gt;EMPTY_BYTE_BUFFER&lt;/tt&gt; which is fragile, so I&apos;d personally prefer making the detection more reliable (by comparing if a slice start before/stop after the end of the static block).&lt;/li&gt;
	&lt;li&gt;Not convinced &lt;tt&gt;lastKeyFilterWasUpdatedFor&lt;/tt&gt; is actually an optimization (at least not in all cases): the code may at best call &lt;tt&gt;sliceForKey&lt;/tt&gt; with the same key a handful of times (2, 3?), but if &lt;tt&gt;lastKeyFilterWasUpdatedFor&lt;/tt&gt; is set, every other key (which is generally a lot) will trigger a few more useless comparisons. So as it adds complexity, let&apos;s leave that kind of unproven optimization out of this patch.&lt;/li&gt;
	&lt;li&gt;Why do we need &lt;tt&gt;setStaticColumns&lt;/tt&gt; in &lt;tt&gt;CFMetaData&lt;/tt&gt;? It&apos;s only used by the patch with an empty hashset which feels weird since that should be the default. If it&apos;s just to make sure the staticColumns field in &lt;tt&gt;CFMetaData&lt;/tt&gt; have been initialized in the test it&apos;s used for, then let&apos;s maybe call &lt;tt&gt;CFMetaData.rebuild&lt;/tt&gt; instead.&lt;/li&gt;
	&lt;li&gt;Nit: there is a typo (&lt;tt&gt;s/once/one&lt;/tt&gt;) in the javadoc of &lt;tt&gt;splitOutStaticSlice&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14304344" author="thobbs" created="Tue, 3 Feb 2015 23:59:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t think this handle range queries (for the reversed case) [...]&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We don&apos;t allow &lt;tt&gt;ORDER BY&lt;/tt&gt; unless you restrict the partition key with EQ or IN, so we should be good there, unless I&apos;m missing something.&lt;/p&gt;

&lt;p&gt;I should be able to respond to or address the other comments tomorrow, thanks.&lt;/p&gt;</comment>
                            <comment id="14305202" author="slebresne" created="Wed, 4 Feb 2015 15:03:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;We don&apos;t allow ORDER BY unless you restrict the partition key with EQ or IN&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oh right. That does suggest the changes in &lt;tt&gt;DataRange&lt;/tt&gt; are unnecessary then.&lt;/p&gt;</comment>
                            <comment id="14305906" author="thobbs" created="Wed, 4 Feb 2015 20:43:37 +0000"  >&lt;p&gt;I&apos;ve updated my &lt;a href=&quot;https://github.com/thobbs/cassandra/tree/CASSANDRA-8502-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt; for your review comments.  A few responses:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;That does suggest the changes in DataRange are unnecessary then.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We still need the DataRange changes for non-reversed range queries.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Not sure about the modifications in SliceQueryFilter.trim and AbstractQueryPager.discardHead [...] the right place to fix that is imo the column counter&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve created a ColumnCounter variant to handle reversed slices, but that only fixes &lt;tt&gt;SliceQueryFilter.trim()&lt;/tt&gt;.  We still need the changes to &lt;tt&gt;AbstractQueryPager.discardHead()&lt;/tt&gt; to avoid discarding static columns, regardless of count.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think AbstractQueryPager.firstNonStaticColumns deserves a comment as to why we need to skip static columns&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve added one, but basically the reason is that we don&apos;t want to record a static column as the last-seen cell in reversed paged queries.  If we do, it screws up the starting point for the next page.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;the detection of static slices tests for &lt;tt&gt;EMPTY_BYTE_BUFFER&lt;/tt&gt; which is fragile, so I&apos;d personally prefer making the detection more reliable (by comparing if a slice start before/stop after the end of the static block).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is a different issue, but I went ahead and changed the comparison to check against &lt;tt&gt;cfm.getStaticColumnNameBuilder()&lt;/tt&gt; instead.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Not convinced &lt;tt&gt;lastKeyFilterWasUpdatedFor&lt;/tt&gt; is actually an optimization [...] every other key (which is generally a lot) will trigger a few more useless comparisons.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There&apos;s a simple compromise, which I made in one commit.  We can just check &lt;tt&gt;lastKeyFilterWasUpdatedFor&lt;/tt&gt; after checking start/stop.  I feel like this is worthwhile, because without it, all of the slices will be recreated multiple times for every page on a wide partition.  This gets pretty expensive when you have a lot of slices (for example, with an IN on the clustering column).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;let&apos;s maybe call CFMetaData.rebuild instead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Done, thanks for the suggestion.&lt;/p&gt;</comment>
                            <comment id="14503786" author="sebastian.estevez@datastax.com" created="Mon, 20 Apr 2015 22:06:03 +0000"  >&lt;p&gt;Hello, I see this status is Patch Available since Feb. Will it be closed out with Tyler&apos;s fix?&lt;/p&gt;</comment>
                            <comment id="14511355" author="slebresne" created="Fri, 24 Apr 2015 17:13:50 +0000"  >&lt;p&gt;Apologies for coming back on this rather late.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on the last version with the following nits.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I feel like this is worthwhile, because without it, all of the slices will be recreated multiple times for every page on a wide partition. This gets pretty expensive when you have a lot of slices (for example, with an IN on the clustering column).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thing is, paging is stateless. The slices will be recreated multiple times if the start or end key happens to cover multiple pages with or without this change because the pages may not even be handled by the same node. The only case where we do page in a stateful way is for &lt;tt&gt;SELECT COUNT&lt;/tt&gt;, but I&apos;m not sure how useful a &lt;tt&gt;COUNT&lt;/tt&gt; with &lt;tt&gt;IN&lt;/tt&gt; on the clustering columns is. That&apos;s what bothers me, it&apos;s only useful in a very precise case and I fear this will be more confusing code-wise than anything. But anyway, the new version is simple enough that I won&apos;t fight further if you like it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;ve added one, but basically the reason is that we don&apos;t want to record a static column as the last-seen cell in reversed paged queries.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Saying why using static columns as a start break things doesn&apos;t explain why that is, so I&apos;d to the comment hat the underlying problem is that we query static columns no matter what the actual filter is, and thus static columns are not a good indicator of where we are of paging within a partition.&lt;/p&gt;</comment>
                            <comment id="14517990" author="thobbs" created="Tue, 28 Apr 2015 20:36:22 +0000"  >&lt;p&gt;When running some of the new paging dtests, I discovered that there&apos;s a problem with querying secondary indexes when we have multiple slices.  CompositesSearcher just uses the start of the first slice and the end of the last slice for internal querying, and we don&apos;t filter any of the matches based on the original slices.  I&apos;ll have to make some more adjustments to the patch.&lt;/p&gt;

&lt;p&gt;EDIT: we actually do filter, but filtering wasn&apos;t working due to a bug in the patch (after merging, maybe).  I&apos;ll provide more details when I upload the new patch.  We should probably also make CompositesSearcher better at handling multiple slices in the first place so that we don&apos;t filter a ton of rows.&lt;/p&gt;</comment>
                            <comment id="14520032" author="thobbs" created="Wed, 29 Apr 2015 19:31:35 +0000"  >&lt;p&gt;The attached v2 patches should resolve the issues I was seeing with the dtests.  I pushed some commits to &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.0...thobbs:CASSANDRA-8502-2.0?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my branch&lt;/a&gt; that explain the issue, but in summary, I made a couple of errors around replacing DataRange.Paging&apos;s columnFilter.  I also added a new &lt;a href=&quot;https://github.com/riptano/cassandra-dtest/commit/d94e13e53093deab8acdc720d7003adcb3991b9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; for the combination of static columns and secondary index queries.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Saying why using static columns as a start break things doesn&apos;t explain why that is, so I&apos;d to the comment hat the underlying problem is that we query static columns no matter what the actual filter is, and thus static columns are not a good indicator of where we are of paging within a partition.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Okay, I&apos;ve updated the javadoc to mention this as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Thing is, paging is stateless. The slices will be recreated multiple times if the start or end key happens to cover multiple pages with or without this change because the pages may not even be handled by the same node.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, that&apos;s not what I was trying to address.  Within a single page &lt;tt&gt;columnFilter()&lt;/tt&gt; may be called multiple times for the same key, especially if we&apos;re executing a secondary index query.  As one example, In &lt;tt&gt;CompositesSearcher&lt;/tt&gt; we do this in the scan iterator&apos;s &lt;tt&gt;computeNext()&lt;/tt&gt; for every index cell:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;if (!filter.columnFilter(dk.getKey()).maySelectPrefix(baseComparator, start))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We could obviously change that, but there are a few other places where &lt;tt&gt;columnFilter()&lt;/tt&gt; may get called, as well.&lt;/p&gt;</comment>
                            <comment id="14556954" author="thobbs" created="Fri, 22 May 2015 22:54:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slebresne&quot; class=&quot;user-hover&quot; rel=&quot;slebresne&quot;&gt;slebresne&lt;/a&gt; bump&lt;/p&gt;</comment>
                            <comment id="14560996" author="slebresne" created="Wed, 27 May 2015 13:54:45 +0000"  >&lt;p&gt;Sorry for the delay, +1 on v2.&lt;/p&gt;</comment>
                            <comment id="14561502" author="thobbs" created="Wed, 27 May 2015 18:56:27 +0000"  >&lt;p&gt;The test results for all four branches look good.  Committed as &lt;tt&gt;d075540c46209fdabde74db1e210114965372605&lt;/tt&gt; to 2.0 and merged to 2.1, 2.2, and trunk.&lt;/p&gt;
</comment>
                            <comment id="14562151" author="dbrosius" created="Thu, 28 May 2015 01:33:17 +0000"  >&lt;p&gt;something seems wrong here, please check&lt;/p&gt;

&lt;p&gt;class: SliceQueryFilter &lt;br/&gt;
method: public SliceQueryFilter withUpdatedStart(Composite newStart, CFMetaData cfm)&lt;br/&gt;
line: if (!reversed &amp;amp;&amp;amp; sliceIncludesStatics(slice, cfm) &amp;amp;&amp;amp; !newStart.equals(ByteBufferUtil.EMPTY_BYTE_BUFFER))&lt;/p&gt;

&lt;p&gt;probably wanted &lt;/p&gt;

&lt;p&gt;!newStart.toByteBuffer().equals(ByteBufferUtil.EMPTY_BYTE_BUFFER)&lt;/p&gt;

&lt;p&gt;or even&lt;/p&gt;

&lt;p&gt;!newStart.isEmpty()&lt;/p&gt;</comment>
                            <comment id="14563110" author="thobbs" created="Thu, 28 May 2015 15:41:46 +0000"  >&lt;p&gt;Good catch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dbrosius&quot; class=&quot;user-hover&quot; rel=&quot;dbrosius&quot;&gt;dbrosius&lt;/a&gt;.  I&apos;ve committed the suggested change to &lt;tt&gt;!newStart.isEmpty()&lt;/tt&gt; in 2.1 as f1662b1479c64213c06ac921631f7e1186619698 and merged up.&lt;/p&gt;</comment>
                            <comment id="15645846" author="rlow" created="Mon, 7 Nov 2016 23:48:20 +0000"  >&lt;p&gt;Can someone remove 2.0.16 from the fix versions, since the above change was only applied in 2.1?&lt;/p&gt;</comment>
                            <comment id="15645867" author="philipthompson" created="Mon, 7 Nov 2016 23:58:29 +0000"  >&lt;p&gt;Well, the original patch was committed to 2.0.16, but Dave&apos;s proposed follow-up was not. Seems like it is appropriate to leave 2.0.16 in the fixvers?&lt;/p&gt;</comment>
                            <comment id="15645878" author="rlow" created="Tue, 8 Nov 2016 00:05:12 +0000"  >&lt;p&gt;Doesn&apos;t Dave&apos;s patch change behaviour though? We think we&apos;re seeing this in 2.0.17 but not 2.1.&lt;/p&gt;</comment>
                            <comment id="15645885" author="philipthompson" created="Tue, 8 Nov 2016 00:07:25 +0000"  >&lt;p&gt;I believe so. I assume either the follow-up patch should have been committed to 2.0, or a separate jira should have been opened, if the fix vers were going to deviate.&lt;/p&gt;</comment>
                            <comment id="15668005" author="thobbs" created="Tue, 15 Nov 2016 19:23:30 +0000"  >&lt;p&gt;It looks like I made a mistake and only committed the follow up patch to 2.1+, when it should have been applied to 2.0+.  Since 2.0 has been EOL for a long time and won&apos;t have any more releases, I won&apos;t commit a fix to 2.0 at this time.  For anybody that needs it, you should be able to pretty easily backport &lt;tt&gt;f1662b1479c64213c06ac921631f7e1186619698&lt;/tt&gt; to the &lt;tt&gt;cassandra-2.0&lt;/tt&gt; branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12751176">CASSANDRA-8203</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12775864">CASSANDRA-8824</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12775851">CASSANDRA-8823</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12729267" name="8502-2.0-v2.txt" size="31024" author="thobbs" created="Wed, 29 Apr 2015 19:20:47 +0000"/>
                            <attachment id="12692877" name="8502-2.0.txt" size="26384" author="thobbs" created="Sat, 17 Jan 2015 00:37:51 +0000"/>
                            <attachment id="12729268" name="8502-2.1-v2.txt" size="29404" author="thobbs" created="Wed, 29 Apr 2015 19:20:47 +0000"/>
                            <attachment id="12687756" name="null-static-column.txt" size="21440" author="FlavienCharlon" created="Wed, 17 Dec 2014 16:28:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23j6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12328841">2.1.2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>