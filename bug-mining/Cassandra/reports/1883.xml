<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4882] Short read protection don&apos;t count columns correctly for CQL3</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4882</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Using the same schema defined in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-4881&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;select * from video_event;&lt;br/&gt;
 videoid_username                           | event | event_timestamp | video_timestamp&lt;br/&gt;
-------------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---------------&lt;del&gt;+&lt;/del&gt;-------------------------&lt;br/&gt;
 99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd | start |    1346636100.0 | 2012-09-02 18:35:00+0000&lt;br/&gt;
 99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd | start |    1346634300.0 | 2012-09-02 18:05:00+0000&lt;br/&gt;
 99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd |  stop |    1346636250.0 | 2012-09-02 18:37:30+0000&lt;br/&gt;
 99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd |  stop |    1346634330.0 | 2012-09-02 18:05:30+0000&lt;/p&gt;

&lt;p&gt;And this:&lt;/p&gt;

&lt;p&gt;select * from video_event where videoid_username = &apos;99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd&apos; limit 1;&lt;br/&gt;
 videoid_username                           | event | event_timestamp | video_timestamp&lt;br/&gt;
-------------------------------------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---------------&lt;del&gt;+&lt;/del&gt;----------------&lt;br/&gt;
 99051fe9-6a9c-46c2-b949-38ef78858dd0:ctodd | start |    1346636100.0 |            null&lt;/p&gt;

&lt;p&gt;As you can see, we have some different output based on the select statement. The timestamp in both is formatted as a float or a double. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12614100">CASSANDRA-4882</key>
            <summary>Short read protection don&apos;t count columns correctly for CQL3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="pmcfadin">Patrick McFadin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 23:08:37 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:24 +0000</updated>
                            <resolved>Wed, 31 Oct 2012 17:50:05 +0000</resolved>
                                        <fixVersion>1.2.0 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13487356" author="brandon.williams" created="Tue, 30 Oct 2012 23:10:49 +0000"  >&lt;p&gt;Formatting appears fixed in cqlsh trunk, but the null is strange.&lt;/p&gt;</comment>
                            <comment id="13487808" author="slebresne" created="Wed, 31 Oct 2012 14:15:58 +0000"  >&lt;p&gt;So I&apos;m ignoring the formatting issue since that has been fixed.&lt;/p&gt;

&lt;p&gt;Howe the returned null is a legit bug. The problem is that the StorageProxy short read protection hasn&apos;t been updated after the changed made by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3647&quot; title=&quot;Support collection (list, set, and map) value types in CQL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3647&quot;&gt;&lt;del&gt;CASSANDRA-3647&lt;/del&gt;&lt;/a&gt;, namely the fact that SliceQueryFilter now group columns by prefix before counting them.&lt;/p&gt;

&lt;p&gt;Attaching a patch that fixes that.&lt;/p&gt;</comment>
                            <comment id="13487981" author="jbellis" created="Wed, 31 Oct 2012 17:19:45 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;

&lt;p&gt;Nit: would prefer avoiding allocating unnecessary HashSet in trim when the common case is not to need to trim.&lt;/p&gt;</comment>
                            <comment id="13488008" author="slebresne" created="Wed, 31 Oct 2012 17:50:05 +0000"  >&lt;p&gt;Committed with nit fixed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551542" name="4882.txt" size="16442" author="slebresne" created="Wed, 31 Oct 2012 14:15:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dclj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>