<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:16:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-15980] Improve log messages for socket connection/disconnection</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-15980</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Logging for inbound SSL connections can take place before protocol negotiation has taken place and logs a misleading cipher that could cause problems for security auditing.&lt;br/&gt;
 &#160;&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO &#160;2020-07-03T13:57:58,380 [Messaging-EventLoop-3-1] org.apache.cassandra.net.InboundConnectionInitiator:242 - connection from peer /1.1.1.1:57899 to /2.2.2.2:7000, protocol = TLSv1.2, cipher suite = SSL_NULL_WITH_NULL_NULL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 Instead Cassandra should log the connection &amp;amp; protocol, then once the cipher has been negotiated log the agreed upon cipher.&lt;br/&gt;
 &#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 If the inbound SSL connection does not present a client certificate, Cassandra logs this error, even if the client wasn&apos;t required to.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR 2020-07-14T11:58:45,925 [Native-Transport-Requests-1] org.apache.cassandra.transport.ServerConnection:140 - Failed to get peer certificates &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; peer /4.3.2.1:59263
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 Logging the absense of verified certificates should be a concern of the SaslNegotiator if it requires it, and not something worth alerting the operator for generally. Downgrade to debug message to make investigation possible if needed.&lt;br/&gt;
 &#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 Finally, to help with logging issues related to disconnection, add a log statement when an instance decides it no longer needs to keep a gossip connection open when cleaning up connections in org.apache.cassandra.net.OutboundConnections.UnusedConnectionMonitor#closeUnusedSinceLastRun&lt;/p&gt;</description>
                <environment></environment>
        <key id="13319230">CASSANDRA-15980</key>
            <summary>Improve log messages for socket connection/disconnection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmeredithco">Jon Meredith</assignee>
                                    <reporter username="jmeredithco">Jon Meredith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jul 2020 22:08:50 +0000</created>
                <updated>Sun, 3 Jan 2021 17:03:07 +0000</updated>
                            <resolved>Wed, 5 Aug 2020 13:43:25 +0000</resolved>
                                        <fixVersion>4.0-beta2</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Observability/Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17166046" author="jmeredithco" created="Tue, 28 Jul 2020 00:54:40 +0000"  >&lt;p&gt;Patch almost ready for submission, here are some sample log output lines.&lt;/p&gt;

&lt;p&gt;Example of SSL enabled messaging connections being established&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [Messaging-EventLoop-3-11] 2020-07-27 16:36:14,746 InboundConnectionInitiator.java:241 - connection from peer /127.0.0.1:62955 to /127.0.0.1:7000, protocol = TLSv1.2
INFO  [Messaging-EventLoop-3-12] 2020-07-27 16:36:14,747 InboundConnectionInitiator.java:241 - connection from peer /127.0.0.1:62956 to /127.0.0.1:7000, protocol = TLSv1.2
INFO  [Messaging-EventLoop-3-12] 2020-07-27 16:36:14,761 InboundConnectionInitiator.java:457 - 127.0.0.3:7000(127.0.0.1:62956)-&amp;gt;127.0.0.1:7000-LARGE_MESSAGES-7dc6697c messaging connection established, version = 1
2, framing = CRC, encryption = enabled (factory=openssl;protocol=TLSv1.2;cipher=TLS_RSA_WITH_AES_256_CBC_SHA)
INFO  [Messaging-EventLoop-3-11] 2020-07-27 16:36:14,761 InboundConnectionInitiator.java:457 - 127.0.0.3:7000(127.0.0.1:62955)-&amp;gt;127.0.0.1:7000-SMALL_MESSAGES-24cc4a4e messaging connection established, version = 12, framing = CRC, encryption = enabled (factory=openssl;protocol=TLSv1.2;cipher=TLS_RSA_WITH_AES_256_CBC_SHA)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And establishing streaming connections&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [Messaging-EventLoop-3-12] 2020-07-27 16:40:27,516 InboundConnectionInitiator.java:396 - 127.0.0.1:7000(127.0.0.3:63208)-&amp;gt;127.0.0.3:7000-STREAMING-64b53f77 streaming connection established, version = 12, fr
aming = UNPROTECTED, encryption = enabled (factory=openssl;protocol=TLSv1.2;cipher=TLS_RSA_WITH_AES_256_CBC_SHA)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17166052" author="jmeredithco" created="Tue, 28 Jul 2020 01:13:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/jonmeredith/cassandra/tree/c15980&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Branch&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/pull/698&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/jonmeredith/cassandra?branch=c15980&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17168290" author="dcapwell" created="Thu, 30 Jul 2020 23:11:32 +0000"  >&lt;p&gt;Sorry for the delay, been trying to validate.&lt;/p&gt;

&lt;p&gt;In 3.11 I don&apos;t see any of these logs, so this is local to 4.0 and wouldn&apos;t regress our logging.&lt;/p&gt;

&lt;p&gt;It took a bit to replicate the issue, as the document linked from Nate doesn&apos;t cause these logs to happen; in fact ssl doesn&apos;t happen (is this a known issue?).&lt;/p&gt;

&lt;p&gt;Here are the steps I took to replicate&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Based off https:&lt;span class=&quot;code-comment&quot;&gt;//thelastpickle.com/blog/2015/09/30/hardening-cassandra-step-by-step-part-1-server-to-server.html
&lt;/span&gt;
```
# create non-ssl cluster
ccm create -n 3 -v 3.11.6 sslverify-311
```

Setup the certs

```
cat &amp;lt;&amp;lt;EOF &amp;gt; gen_ca_cert.conf
[ req ]
distinguished_name     = req_distinguished_name
prompt                 = no
output_password        = mypass
default_bits           = 2048

[ req_distinguished_name ]
C                      = US
ST                     = TX
L                      = Austin
O                      = TLP
OU                     = TestCluster
CN                     = TestClusterMasterCA
emailAddress           = info@thelastpickle.com
EOF
openssl req -config gen_ca_cert.conf -&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; -x509 -keyout ca-key -out ca-cert -days 365
# should now have ca-cert and ca-key
# validate they work
openssl x509 -in ca-cert -text -noout

# setup the &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;/&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; keys
setjdk 8
keytool -genkeypair -keyalg RSA -alias node1 -keystore node1-server-keystore.jks -storepass awesomekeypass -keypass awesomekeypass -validity 365 -keysize 2048 -dname &lt;span class=&quot;code-quote&quot;&gt;&quot;CN=node1, OU=SSL-verification-cluster, O=TheLastPickle, C=US&quot;&lt;/span&gt;
keytool -genkeypair -keyalg RSA -alias node2 -keystore node2-server-keystore.jks -storepass awesomekeypass -keypass awesomekeypass -validity 365 -keysize 2048 -dname &lt;span class=&quot;code-quote&quot;&gt;&quot;CN=node2, OU=SSL-verification-cluster, O=TheLastPickle, C=US&quot;&lt;/span&gt;
keytool -genkeypair -keyalg RSA -alias node3 -keystore node3-server-keystore.jks -storepass awesomekeypass -keypass awesomekeypass -validity 365 -keysize 2048 -dname &lt;span class=&quot;code-quote&quot;&gt;&quot;CN=node3, OU=SSL-verification-cluster, O=TheLastPickle, C=US&quot;&lt;/span&gt;
# should now have node1-server-keystore.jks node2-server-keystore.jks and node3-server-keystore.jks
# validate they work
keytool -list -v -keystore node1-server-keystore.jks -storepass awesomekeypass

keytool -keystore node1-server-keystore.jks -alias node1 -certreq -file node1_cert_sr -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node2-server-keystore.jks -alias node2 -certreq -file node2_cert_sr -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node3-server-keystore.jks -alias node3 -certreq -file node3_cert_sr -keypass awesomekeypass -storepass awesomekeypass
# should now have node1_cert_sr and node2_cert_sr node3_cert_sr

# sign
openssl x509 -req -CA ca-cert -CAkey ca-key -in node1_cert_sr -out node1_cert_signed -days 365 -CAcreateserial -passin pass:mypass
openssl x509 -req -CA ca-cert -CAkey ca-key -in node2_cert_sr -out node2_cert_signed -days 365 -CAcreateserial -passin pass:mypass
openssl x509 -req -CA ca-cert -CAkey ca-key -in node3_cert_sr -out node3_cert_signed -days 365 -CAcreateserial -passin pass:mypass
should have node1_cert_signed node2_cert_signed node3_cert_signed and ca-cert.srl

# add to key store
keytool -keystore node1-server-keystore.jks -alias CARoot -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file ca-cert -noprompt -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node2-server-keystore.jks -alias CARoot -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file ca-cert -noprompt -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node3-server-keystore.jks -alias CARoot -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file ca-cert -noprompt -keypass awesomekeypass -storepass awesomekeypass
should have node1-server-keystore.jks node2-server-keystore.jks and node3-server-keystore.jks

keytool -keystore node1-server-keystore.jks -alias node1 -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file node1_cert_signed -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node2-server-keystore.jks -alias node2 -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file node2_cert_signed -keypass awesomekeypass -storepass awesomekeypass
keytool -keystore node3-server-keystore.jks -alias node3 -&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; -file node3_cert_signed -keypass awesomekeypass -storepass awesomekeypass

# Build the trust store
keytool -keystore &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks -alias CARoot -importcert -file ca-cert -keypass mypass -storepass truststorepass -noprompt
# should have &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks
```
```
ccm create -n 3 sslverify-trunk --install-dir=$HOME/src/github/apache/cassandra-trunk
cluster=&lt;span class=&quot;code-quote&quot;&gt;&quot;sslverify-trunk&quot;&lt;/span&gt;
cp node1-server-keystore.jks ~/.ccm/${cluster}/node1/conf/server-keystore.jks
cp node2-server-keystore.jks ~/.ccm/${cluster}/node2/conf/server-keystore.jks
cp node3-server-keystore.jks ~/.ccm/${cluster}/node3/conf/server-keystore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node1/conf/server-truststore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node2/conf/server-truststore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node3/conf/server-truststore.jks
# validate they are there
ls -l ~/.ccm/$cluster/node?/conf/*.jks

# update the yaml to be (replace $USER, and $NODE with node&amp;lt;num&amp;gt;, ccm won&apos;t)
# server_encryption_options:
#   internode_encryption: all
#   keystore: /Users/$USER/.ccm/sslverify-trunk/$NODE/conf/server-keystore.jks
#   keystore_password: awesomekeypass
#   truststore: /Users/$USER/.ccm/sslverify-trunk/$NODE/conf/server-truststore.jks
#   truststore_password: truststorepass
#   #protocol: TLS
#   algorithm: SunX509
#   store_type: JKS
#   cipher_suites: [TLS_RSA_WITH_AES_256_CBC_SHA]
#   require_client_auth: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   # not from nates doc
#   enable_legacy_ssl_storage_port: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   enabled: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   optional: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
#   protocol: TLSv1.2
vim ~/.ccm/$cluster/node?/conf/cassandra.yaml
```

Now to test Jon&apos;s code

```
ccm create -n 3 sslverify-c15980 --install-dir=$HOME/src/github/apache/team/jonmeredith
cluster=&lt;span class=&quot;code-quote&quot;&gt;&quot;sslverify-c15980&quot;&lt;/span&gt;
cp node1-server-keystore.jks ~/.ccm/${cluster}/node1/conf/server-keystore.jks
cp node2-server-keystore.jks ~/.ccm/${cluster}/node2/conf/server-keystore.jks
cp node3-server-keystore.jks ~/.ccm/${cluster}/node3/conf/server-keystore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node1/conf/server-truststore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node2/conf/server-truststore.jks
cp &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;-server-truststore.jks ~/.ccm/${cluster}/node3/conf/server-truststore.jks
# validate they are there
ls -l ~/.ccm/$cluster/node?/conf/*.jks

# update the yaml to be (replace $USER, and $NODE with node&amp;lt;num&amp;gt;, ccm won&apos;t)
# server_encryption_options:
#   internode_encryption: all
#   keystore: /Users/$USER/.ccm/sslverify-trunk/$NODE/conf/server-keystore.jks
#   keystore_password: awesomekeypass
#   truststore: /Users/$USER/.ccm/sslverify-trunk/$NODE/conf/server-truststore.jks
#   truststore_password: truststorepass
#   #protocol: TLS
#   algorithm: SunX509
#   store_type: JKS
#   cipher_suites: [TLS_RSA_WITH_AES_256_CBC_SHA]
#   require_client_auth: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   # not from nates doc
#   enable_legacy_ssl_storage_port: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   enabled: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
#   optional: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
#   protocol: TLSv1.2
vim ~/.ccm/$cluster/node?/conf/cassandra.yaml
```
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Overall LGTM, left a few small comments in the PR.&lt;/p&gt;</comment>
                            <comment id="17168316" author="jmeredithco" created="Fri, 31 Jul 2020 00:37:34 +0000"  >&lt;p&gt;Thanks for the review, I&apos;ve fixed the NPE you found and explained that I updated the message with the type of connection.&lt;/p&gt;</comment>
                            <comment id="17168991" author="jmeredithco" created="Fri, 31 Jul 2020 16:32:43 +0000"  >&lt;p&gt;While testing the fix-of-the-fix, I noticed that Listen message is misleading.  It only output disabled if the encryption options were null, however encryption could still be disabled by configuration (I noticed when I started the server up with enabled: false). For the ServerEncryptionOptions it&apos;s also possible to be disabled depending on the internode_encryption but inbound doesn&apos;t care about that).&lt;/p&gt;

&lt;p&gt;encryption off.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [main] 2020-07-31 10:06:20,234 InboundConnectionInitiator.java:129 - Listening on address: (127.0.0.1:7000), nic: lo0, encryption: disabled
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;encryption enabled, NOT optional&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [main] 2020-07-31 10:12:26,417 InboundConnectionInitiator.java:129 - Listening on address: (127.0.0.1:7001), nic: lo0, encryption: enabled (factory=openssl)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;encryption enabled, optional, enable legacy (both listens shown here)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [main] 2020-07-31 10:14:49,407 InboundConnectionInitiator.java:129 - Listening on address: (127.0.0.1:7001), nic: lo0, encryption: enabled (factory=openssl)
INFO  [main] 2020-07-31 10:14:49,495 InboundConnectionInitiator.java:129 - Listening on address: (127.0.0.1:7000), nic: lo0, encryption: optional (factory=openssl)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;encryption enabled. optional, disable legacy&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [main] 2020-07-31 10:17:37,736 InboundConnectionInitiator.java:129 - Listening on address: (127.0.0.1:7000), nic: lo0, encryption: optional (factory=openssl)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with an optionally encrypted inbound connection logged as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [Messaging-EventLoop-3-9] 2020-07-31 10:17:44,067 InboundConnectionInitiator.java:457 - 127.0.0.3:7000(127.0.0.1:60610)-&amp;gt;127.0.0.1:7000-SMALL_MESSAGES-75d10ff2 messaging connection established, version = 12, framing = CRC, encryption = optional (factory=openssl;protocol=TLSv1.2;cipher=TLS_RSA_WITH_AES_256_CBC_SHA)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and an plaintext inbound connection logged as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO  [Messaging-EventLoop-3-1] 2020-07-31 10:26:00,047 InboundConnectionInitiator.java:457 - 127.0.0.3:7000(127.0.0.1:60754)-&amp;gt;127.0.0.1:7000-URGENT_MESSAGES-f3c595f8 messaging connection established, version = 12, framing = CRC, encryption = disabled
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17170371" author="dcapwell" created="Mon, 3 Aug 2020 19:19:37 +0000"  >&lt;p&gt;LGTM +1&lt;/p&gt;</comment>
                            <comment id="17171506" author="iamaleksey" created="Wed, 5 Aug 2020 13:42:52 +0000"  >&lt;p&gt;LGTM. Committed with unused imports cleaned up and some minor formatting changes made, to trunk as &lt;a href=&quot;https://github.com/apache/cassandra/commit/c9b41c1f8ad03719918c4d3c29719056ae6b3995&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c9b41c1f8ad03719918c4d3c29719056ae6b3995&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jmeredithco]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="13163" cascade-level=""><![CDATA[Code]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12977"><![CDATA[Adhoc Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0h6fk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
        <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/c9b41c1f8ad03719918c4d3c29719056ae6b3995&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c9b41c1f8ad03719918c4d3c29719056ae6b3995&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;I started up a local CCM instance using the guide from Nate&#160;on &lt;a href=&quot;https://thelastpickle.com/blog/2015/09/30/hardening-cassandra-step-by-step-part-1-server-to-server.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;TLP Blog&lt;/a&gt; to configure SSL, then checked the messages were sane &amp;amp; formatted.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>