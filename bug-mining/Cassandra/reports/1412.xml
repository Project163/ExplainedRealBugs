<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:28:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3374] CQL can&apos;t create column with compression or that use leveled compaction</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3374</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Looking at CreateColumnFamilyStatement.java, it doesn&apos;t seem CQL can create compressed column families, nor define a compaction strategy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12527593">CASSANDRA-3374</key>
            <summary>CQL can&apos;t create column with compression or that use leveled compaction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="slebresne">Sylvain Lebresne</reporter>
                        <labels>
                            <label>cql</label>
                    </labels>
                <created>Tue, 18 Oct 2011 13:48:51 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:48 +0000</updated>
                            <resolved>Mon, 30 Jan 2012 16:22:04 +0000</resolved>
                                        <fixVersion>1.0.8</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13132022" author="tjake" created="Thu, 20 Oct 2011 20:51:35 +0000"  >&lt;p&gt;There is also no way to specify a index_type&lt;/p&gt;</comment>
                            <comment id="13143146" author="slebresne" created="Thu, 3 Nov 2011 13:27:02 +0000"  >&lt;p&gt;I think we want to support the strategy options and compaction options generically. This would make maintenance easier as we won&apos;t have to update this each time we add a new option, but more importantly if it&apos;s not generic, it means one cannot use a custom compressor or compaction strategy having options. I understand this complicate matters because the parser probably needs to be updated accordingly, but I believe we&apos;d better bite the bullet now.&lt;/p&gt;

&lt;p&gt;It would also be nice to add index_type support and to update the CQL doc.&lt;/p&gt;</comment>
                            <comment id="13143160" author="xedin" created="Thu, 3 Nov 2011 13:31:59 +0000"  >&lt;p&gt;If Jonathan says that we can support compound options like &apos;compression:&amp;lt;something&amp;gt;&apos; in CREATE TABLE I&apos;m not against it.&lt;/p&gt;</comment>
                            <comment id="13143330" author="jbellis" created="Thu, 3 Nov 2011 17:18:46 +0000"  >&lt;p&gt;I thought we&apos;d use the syntax we use for replication strategy options.&lt;/p&gt;</comment>
                            <comment id="13143336" author="xedin" created="Thu, 3 Nov 2011 17:22:04 +0000"  >&lt;p&gt;ok, I will modify patch to support that then.&lt;/p&gt;</comment>
                            <comment id="13158535" author="xedin" created="Mon, 28 Nov 2011 16:24:54 +0000"  >&lt;p&gt;CQLsh fails with &quot;Unmatched named substitution: &apos;sstable_compressor&apos; not given for CREATE COLUMNFAMILY cf ( KEY text PRIMARY KEY ) WITH compression_parameters:sstable_compressor = &apos;SnappyCompressor&apos; and compression_parameters:chunk_size_in_kb = 16 and comparator = ascii;&quot;... Tested with raw thrift call - works as excepted. &lt;/p&gt;

&lt;p&gt;Jonathan do you have any idea how to fix that cqlsh problem?&lt;/p&gt;</comment>
                            <comment id="13161430" author="jbellis" created="Fri, 2 Dec 2011 05:38:03 +0000"  >&lt;p&gt;No idea. Assigning to Paul to have a look at that part.&lt;/p&gt;</comment>
                            <comment id="13167663" author="thepaul" created="Mon, 12 Dec 2011 18:42:46 +0000"  >&lt;p&gt;This is due to a bug in the python driver: &lt;a href=&quot;http://code.google.com/a/apache-extras.org/p/cassandra-dbapi2/issues/detail?id=11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/a/apache-extras.org/p/cassandra-dbapi2/issues/detail?id=11&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, changes like this should probably include the relevant changes to the CQL doc at doc/cql/CQL.textile.&lt;/p&gt;

&lt;p&gt;I&apos;ll look at making those changes if I have a few moments.&lt;/p&gt;</comment>
                            <comment id="13175068" author="jbellis" created="Thu, 22 Dec 2011 21:18:10 +0000"  >&lt;p&gt;The python driver bug is fixed, are we good to go for this patch?&lt;/p&gt;</comment>
                            <comment id="13175085" author="xedin" created="Thu, 22 Dec 2011 21:39:37 +0000"  >&lt;p&gt;rebased patch. everything works as expected with cql fixed!&lt;/p&gt;</comment>
                            <comment id="13175091" author="xedin" created="Thu, 22 Dec 2011 21:51:36 +0000"  >&lt;p&gt;patch adds update to CQL.doc&lt;/p&gt;</comment>
                            <comment id="13175619" author="thepaul" created="Fri, 23 Dec 2011 23:20:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13175754" author="xedin" created="Sat, 24 Dec 2011 18:37:02 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13195076" author="thepaul" created="Fri, 27 Jan 2012 20:40:21 +0000"  >&lt;p&gt;Was this meant to expose &apos;compaction_strategy_class&apos; to CQL, as well as compaction_strategy_options? It&apos;s added here as a valid option, but it doesn&apos;t actually do anything, and it appears there is no other possible way to set CFMetaData.compactionStrategyClass from CQL.&lt;/p&gt;</comment>
                            <comment id="13195084" author="jbellis" created="Fri, 27 Jan 2012 20:47:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Was this meant to expose &apos;compaction_strategy_class&apos; to CQL&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes&lt;/p&gt;</comment>
                            <comment id="13195096" author="xedin" created="Fri, 27 Jan 2012 21:06:59 +0000"  >&lt;p&gt;it had that option but never actually bothered to set it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13196195" author="thepaul" created="Mon, 30 Jan 2012 16:06:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13196203" author="xedin" created="Mon, 30 Jan 2012 16:22:04 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512230" name="CASSANDRA-3374-compaction_strategy_class.patch" size="2833" author="xedin" created="Fri, 27 Jan 2012 21:06:58 +0000"/>
                            <attachment id="12508452" name="CASSANDRA-3374.patch" size="7389" author="xedin" created="Thu, 22 Dec 2011 21:51:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>88837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gj3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thepaul</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>