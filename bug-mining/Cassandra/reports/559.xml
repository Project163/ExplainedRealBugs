<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:17:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1747] truncate is not secondary index-aware</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1747</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;we need to drop the index data files as well as the base CF ones on truncate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479981">CASSANDRA-1747</key>
            <summary>truncate is not secondary index-aware</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Nov 2010 17:44:34 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:13 +0000</updated>
                            <resolved>Wed, 17 Nov 2010 23:10:01 +0000</resolved>
                                        <fixVersion>0.7.0 rc 1</fixVersion>
                                    <component>Feature/2i Index</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12933101" author="jbellis" created="Wed, 17 Nov 2010 19:39:46 +0000"  >&lt;p&gt;patch that marks index files compacted as well as base CF.&lt;/p&gt;

&lt;p&gt;should be safe b/c we flush index memtables at the same time as base data (while holding the flush lock).&lt;/p&gt;</comment>
                            <comment id="12933167" author="gdusbabek" created="Wed, 17 Nov 2010 21:16:13 +0000"  >&lt;p&gt;Will this futz with the liveSize information in SSTableTracker?&lt;/p&gt;</comment>
                            <comment id="12933168" author="jbellis" created="Wed, 17 Nov 2010 21:19:18 +0000"  >&lt;p&gt;in the sense that markCompacted updates liveSize, yes&lt;/p&gt;</comment>
                            <comment id="12933183" author="gdusbabek" created="Wed, 17 Nov 2010 21:54:32 +0000"  >&lt;p&gt;right, but you&apos;re sending it sstables that it doesn&apos;t track that belong to the indexes.  Won&apos;t that give an incorrect size?&lt;/p&gt;</comment>
                            <comment id="12933185" author="jbellis" created="Wed, 17 Nov 2010 22:05:48 +0000"  >&lt;p&gt;ah, you are right.  it needs to markCompacted each group w/ the cfs it came from.  v2 attached.&lt;/p&gt;</comment>
                            <comment id="12933199" author="gdusbabek" created="Wed, 17 Nov 2010 22:21:16 +0000"  >&lt;p&gt;+1 on v2.&lt;/p&gt;</comment>
                            <comment id="12933226" author="jbellis" created="Wed, 17 Nov 2010 23:10:01 +0000"  >&lt;p&gt;committed, thanks&lt;/p&gt;</comment>
                            <comment id="12933249" author="hudson" created="Thu, 18 Nov 2010 00:16:35 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #13 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/13/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/13/&lt;/a&gt;)&lt;br/&gt;
    truncate includes secondary indexes&lt;br/&gt;
patch by jbellis; reviewed by gdusbabek for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1747&quot; title=&quot;truncate is not secondary index-aware&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1747&quot;&gt;&lt;del&gt;CASSANDRA-1747&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459834" name="1747-v2.txt" size="1481" author="jbellis" created="Wed, 17 Nov 2010 22:05:48 +0000"/>
                            <attachment id="12459818" name="1747.txt" size="1477" author="jbellis" created="Wed, 17 Nov 2010 19:39:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g753:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>gdusbabek</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gdusbabek]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>