<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:29:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3684] Composite Column Support for PIG</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3684</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;It appears that some changes need to be made to support CompositeColumns. Right now if you try to load and use a column family that utilizes composite columns you get the following exception&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;It appears to me that we need to modify the storage handler for Pig to support this scenario.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;================================================================================&lt;br/&gt;
Backend error message&lt;br/&gt;
---------------------&lt;br/&gt;
java.lang.RuntimeException: Unexpected data type -1 found in stream.&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeDatum(BinInterSedes.java:478)&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeTuple(BinInterSedes.java:541)&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeBag(BinInterSedes.java:522)&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeDatum(BinInterSedes.java:361)&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeTuple(BinInterSedes.java:541)&lt;br/&gt;
	at org.apache.pig.data.BinInterSedes.writeDatum(BinInterSedes.java:357)&lt;br/&gt;
	at org.apache.pig.data.BinSedesTuple.write(BinSedesTuple.java:57)&lt;br/&gt;
	at org.apache.pig.impl.io.PigNullableWritable.write(PigNullableWritable.java:123)&lt;br/&gt;
	at org.apache.hadoop.io.serializer.WritableSerialization$WritableSerializer.serialize(WritableSerialization.java:90)&lt;br/&gt;
	at org.apache.hadoop.io.serializer.WritableSerialization$WritableSerializer.serialize(WritableSerialization.java:77)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask$MapOutputBuffer.collect(MapTask.java:1061)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask$NewOutputCollector.write(MapTask.java:691)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.TaskInputOutputContext.write(TaskInputOutputContext.java:80)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapReduce$Map.collect(PigMapReduce.java:116)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapBase.runPipeline(PigMapBase.java:239)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapBase.map(PigMapBase.java:232)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigMapBase.map(PigMapBase.java:53)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:144)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:370)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:272)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1059)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:266)&lt;/p&gt;

&lt;p&gt;Backend error message&lt;br/&gt;
---------------------&lt;br/&gt;
java.lang.Throwable: Child Error&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:271)&lt;br/&gt;
Caused by: java.io.IOException: Task process exit with nonzero status of 65.&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:258)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12536603">CASSANDRA-3684</key>
            <summary>Composite Column Support for PIG</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jalkanen">Janne Jalkanen</assignee>
                                    <reporter username="bcoverston">Benjamin Coverston</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Dec 2011 18:26:01 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:43 +0000</updated>
                            <resolved>Wed, 29 Feb 2012 20:36:36 +0000</resolved>
                                        <fixVersion>1.0.9</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13218568" author="jalkanen" created="Tue, 28 Feb 2012 20:16:35 +0000"  >&lt;p&gt;This patch (against cassandra-1.0) brings in basic support for Composite Columns.&lt;/p&gt;

&lt;p&gt;I needed a simple way to deconstruct an AbstractCompositeType, so I had to enhance that. Dunno if that&apos;s desireable, but it&apos;s certainly easy :-P&lt;/p&gt;

&lt;p&gt;Also the column name is an untyped tuple; not sure what would be the best way to extract the schema for it.&lt;/p&gt;</comment>
                            <comment id="13218570" author="jalkanen" created="Tue, 28 Feb 2012 20:18:40 +0000"  >&lt;p&gt;Also, apologies for extra crap; my OCD demands that my git is configured to remove extra space at the end of the lines &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. If this approach looks feasible, I&apos;ll make a cleaner patch.&lt;/p&gt;</comment>
                            <comment id="13219445" author="jalkanen" created="Wed, 29 Feb 2012 19:37:06 +0000"  >&lt;p&gt;Patch to provide tests against the Composite Columns.&lt;/p&gt;</comment>
                            <comment id="13219506" author="jalkanen" created="Wed, 29 Feb 2012 20:21:45 +0000"  >&lt;p&gt;Improved test patch against the tests; this time with also Long:Long composite type.&lt;/p&gt;</comment>
                            <comment id="13219524" author="brandon.williams" created="Wed, 29 Feb 2012 20:36:36 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516602" name="3684-jalkanen-test-v2.txt" size="1996" author="jalkanen" created="Wed, 29 Feb 2012 20:21:45 +0000"/>
                            <attachment id="12516595" name="3684-jalkanen-test.txt" size="1305" author="jalkanen" created="Wed, 29 Feb 2012 19:37:06 +0000"/>
                            <attachment id="12516385" name="3684-jalkanen.txt" size="6391" author="jalkanen" created="Tue, 28 Feb 2012 20:16:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jalkanen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>222286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gmz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>