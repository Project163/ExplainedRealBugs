<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:29:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3804] upgrade problems from 1.0 to trunk</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3804</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;A 3-node cluster is on version 0.8.9, 1.0.6, or 1.0.7 and then one and only one node is taken down, upgraded to trunk, and started again. An rpc timeout exception happens if counter-add operations are done. It usually takes between 1 and 500 add operations before the failure occurs. The failure seems to happen sooner if the coordinator node is NOT the one that was upgraded. Here is the error: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
======================================================================
ERROR: counter_upgrade_test.TestCounterUpgrade.counter_upgrade_test
----------------------------------------------------------------------
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/pymodules/python2.7/nose/&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;.py&quot;&lt;/span&gt;, line 187, in runTest
    self.test(*self.arg)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/tahooie/cassandra-dtest/counter_upgrade_test.py&quot;&lt;/span&gt;, line 50, in counter_upgrade_test
    cursor.execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;UPDATE counters SET row = row+1 where key=&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;&quot;&lt;/span&gt;)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python2.7/dist-packages/cql/cursor.py&quot;&lt;/span&gt;, line 96, in execute
    raise cql.OperationalError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Request did not complete within rpc_timeout.&quot;&lt;/span&gt;)
OperationalError: Request did not complete within rpc_timeout.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment>&lt;p&gt;ubuntu, cluster set up with ccm.&lt;/p&gt;</environment>
        <key id="12540242">CASSANDRA-3804</key>
            <summary>upgrade problems from 1.0 to trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="tpatterson">Tyler Patterson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jan 2012 04:01:48 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:41 +0000</updated>
                            <resolved>Thu, 23 Feb 2012 17:10:42 +0000</resolved>
                                        <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13196125" author="slebresne" created="Mon, 30 Jan 2012 14:01:11 +0000"  >&lt;p&gt;This is not counter related (but you have to use CL.ALL to reproduce without counters as otherwise it&apos;s hidden by the fact that only the non-upgraded coordinator acknowledges writes) and it is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1391&quot; title=&quot;Allow Concurrent Schema Migrations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1391&quot;&gt;&lt;del&gt;CASSANDRA-1391&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This is due to the inability of doing schema changes in a mixed pre/post-1.1 cluster, if I trust the following log (from the upgraded node):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.RuntimeException: java.io.IOException: Can&apos;t accept schema migrations from Cassandra versions previous to 1.1, please update first.
        at org.apache.cassandra.utils.FBUtilities.unchecked(FBUtilities.java:544)
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:34)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.IOException: Can&apos;t accept schema migrations from Cassandra versions previous to 1.1, please update first.
        at org.apache.cassandra.service.MigrationManager.deserializeMigrationMessage(MigrationManager.java:233)
        at org.apache.cassandra.db.DefsTable.mergeRemoteSchema(DefsTable.java:231)
        at org.apache.cassandra.db.DefinitionsUpdateVerbHandler$1.runMayThrow(DefinitionsUpdateVerbHandler.java:48)
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:30)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is however two problems imho:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Not supporting migrations during the upgrade process is one thing, but it should put the cluster in a broken state, which I&apos;m not sure it doesn&apos;t do. Ideally, new nodes would still accept old migrations from old nodes, but would refuse to schema changes themselves until they know all nodes are upgraded. We could then throw an UnavailableException with a message.&lt;/li&gt;
	&lt;li&gt;On top of the exception above, the logs during that test are filled with errors that don&apos;t sound too reassuring. On every node (upgraded or not), there is a handful of:
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [MutationStage:34] 2012-01-30 14:35:39,041 AbstractCassandraDaemon.java (line 134) Fatal exception in thread Thread[MutationStage:34,5,main]
java.io.IOError: java.io.EOFException
        at org.apache.cassandra.db.TruncateVerbHandler.doVerb(TruncateVerbHandler.java:66)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:59)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.EOFException
        at java.io.DataInputStream.readUnsignedShort(DataInputStream.java:323)
        at java.io.DataInputStream.readUTF(DataInputStream.java:572)
        at java.io.DataInputStream.readUTF(DataInputStream.java:547)
        at org.apache.cassandra.db.TruncationSerializer.deserialize(Truncation.java:80)
        at org.apache.cassandra.db.TruncationSerializer.deserialize(Truncation.java:70)
        at org.apache.cassandra.db.TruncateVerbHandler.doVerb(TruncateVerbHandler.java:44)
        ... 4 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On the upgraded node, there is a few:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [MutationStage:38] 2012-01-30 14:35:50,772 RowMutationVerbHandler.java (line 61) Error in row mutation
org.apache.cassandra.db.UnserializableColumnFamilyException: Couldn&apos;t find cfId=1000
        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:129)
        at org.apache.cassandra.db.RowMutation$RowMutationSerializer.deserialize(RowMutation.java:401)
        at org.apache.cassandra.db.RowMutation$RowMutationSerializer.deserialize(RowMutation.java:409)
        at org.apache.cassandra.db.RowMutation.fromBytes(RowMutation.java:357)
        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:42)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:59)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And on the non-upgraded ones, there is a few:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [GossipStage:1] 2012-01-30 14:35:13,363 AbstractCassandraDaemon.java (line 139) Fatal exception in thread Thread[GossipStage:1,5,main]
java.lang.UnsupportedOperationException: Not a time-based UUID
        at java.util.UUID.timestamp(UUID.java:308)
        at org.apache.cassandra.service.MigrationManager.updateHighestKnown(MigrationManager.java:121)
        at org.apache.cassandra.service.MigrationManager.rectify(MigrationManager.java:99)
        at org.apache.cassandra.service.MigrationManager.onAlive(MigrationManager.java:83)
        at org.apache.cassandra.gms.Gossiper.markAlive(Gossiper.java:806)
        at org.apache.cassandra.gms.Gossiper.handleMajorStateChange(Gossiper.java:849)
        at org.apache.cassandra.gms.Gossiper.applyStateLocally(Gossiper.java:908)
        at org.apache.cassandra.gms.GossipDigestAckVerbHandler.doVerb(GossipDigestAckVerbHandler.java:68)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:59)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13196141" author="xedin" created="Mon, 30 Jan 2012 14:39:45 +0000"  >&lt;p&gt;This was discussed with Jonathan on the process of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1391&quot; title=&quot;Allow Concurrent Schema Migrations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1391&quot;&gt;&lt;del&gt;CASSANDRA-1391&lt;/del&gt;&lt;/a&gt;, users should make sure that all of the nodes are updated to 1.1 before running any schema changes because it&apos;s impossible to apply old migrations even if we accept them and users will be getting exceptions from your #2 anyway.&lt;/p&gt;</comment>
                            <comment id="13196151" author="jbellis" created="Mon, 30 Jan 2012 14:52:13 +0000"  >&lt;p&gt;We can&apos;t support mixed-version schema changes, but we should make sure that we don&apos;t leave the cluster broken if a user does that anyway.&lt;/p&gt;</comment>
                            <comment id="13196176" author="xedin" created="Mon, 30 Jan 2012 15:31:03 +0000"  >&lt;p&gt;This exception (taken from Sylvain&apos;s #2) explains what will happen when you only partially migrate:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [GossipStage:1] 2012-01-30 14:35:13,363 AbstractCassandraDaemon.java (line 139) Fatal exception in thread Thread[GossipStage:1,5,main]
java.lang.UnsupportedOperationException: Not a time-based UUID
        at java.util.UUID.timestamp(UUID.java:308)
        at org.apache.cassandra.service.MigrationManager.updateHighestKnown(MigrationManager.java:121)
        at org.apache.cassandra.service.MigrationManager.rectify(MigrationManager.java:99)
        at org.apache.cassandra.service.MigrationManager.onAlive(MigrationManager.java:83)
        at org.apache.cassandra.gms.Gossiper.markAlive(Gossiper.java:806)
        at org.apache.cassandra.gms.Gossiper.handleMajorStateChange(Gossiper.java:849)
        at org.apache.cassandra.gms.Gossiper.applyStateLocally(Gossiper.java:908)
        at org.apache.cassandra.gms.GossipDigestAckVerbHandler.doVerb(GossipDigestAckVerbHandler.java:68)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:59)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;As we switched from Time-based UUID for schema versions MigrationManager on the old nodes will fail all the time when nodes with new schema start-up or when they will request migrations from it (because they see that their schema version is different from others). Even if we make a fix in MigrationManager.rectify(...) method for 1.0.x, nodes with new/old schema will never come to agreement because of different types of the UUID and because they unable to run schema mutations anymore.&lt;/p&gt;</comment>
                            <comment id="13196182" author="jbellis" created="Mon, 30 Jan 2012 15:43:45 +0000"  >&lt;p&gt;&quot;Never come to agreement&quot; is fine as long as normal reads/writes (against existing CFs) continue to work.&lt;/p&gt;</comment>
                            <comment id="13196194" author="xedin" created="Mon, 30 Jan 2012 15:59:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;&quot;Never come to agreement&quot; is fine as long as normal reads/writes (against existing CFs) continue to work.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;reads/writes should work against existing CFs. failure from description and first comment are related to the way how cassandra-dtest works because it tries to re-create schema for every test-case which won&apos;t work for in the mixed version cluster, if, for example, it was to create a ColumnFamily before updating one of the nodes to trunk, reads/writes to that ColumnFamily would still work after update even tho nodes will be in schema disagreement.&lt;/p&gt;</comment>
                            <comment id="13205229" author="jbellis" created="Fri, 10 Feb 2012 05:01:59 +0000"  >&lt;p&gt;Can we log something telling the user &quot;you can&apos;t change schema until you finish upgrade everything&quot; instead of a scary-looking &quot;not a time-based UUID&quot; uncaught exception?&lt;/p&gt;</comment>
                            <comment id="13206234" author="xedin" created="Sat, 11 Feb 2012 19:17:28 +0000"  >&lt;p&gt;patch for cassandra-1.0 branch, which does a UUID version check in MigrationManager.rectify(UUID, InetAddress) to determine if version is time-based UUID if not it would log an error and return.&lt;/p&gt;</comment>
                            <comment id="13207343" author="jbellis" created="Mon, 13 Feb 2012 23:34:57 +0000"  >&lt;p&gt;It&apos;s the 1.0 side that has the problem?  I missed that...  I&apos;d rather not require people upgrade to 1.0.8+, before upgrading to 1.1.&lt;/p&gt;

&lt;p&gt;Can we just have 1.1 use MS version info to not send schema to nodes that can&apos;t understand it?&lt;/p&gt;</comment>
                            <comment id="13207347" author="xedin" created="Mon, 13 Feb 2012 23:37:55 +0000"  >&lt;p&gt;We can do that. &quot;java.lang.UnsupportedOperationException: Not a time-based UUID&quot; happens on 1.0 nodes so I thought that it would be appropriate to fix it there also.&lt;/p&gt;</comment>
                            <comment id="13208255" author="xedin" created="Wed, 15 Feb 2012 07:07:56 +0000"  >&lt;p&gt;changes the MigrationManager.announce to skip the nodes with versions older than 1.1&lt;/p&gt;</comment>
                            <comment id="13209395" author="slebresne" created="Thu, 16 Feb 2012 14:38:10 +0000"  >&lt;p&gt;Tried the two attached patches. It does remove a bunch of the exceptions. For some reason there is still quite a few EOFExceptions related to truncation, but the test doesn&apos;t truncate at all so I&apos;m not sure were that coming from.  I&apos;m attaching the logs from the nodes for reference (that&apos;s the log after the two patches are applied). node1.log is the 1.1 node and node2.log is a 1.0 node. The thing that triggers those exception is the creation of a CF on node2 (the old one).&lt;/p&gt;

&lt;p&gt;So it&apos;d be nice to figure out what triggers those exception, but if we&apos;re going to patch both 1.1 and 1.0, why not just (or rather in addition) have schema changes check the (known) version of all other nodes before doing anything and just throw an InvalidRequestException if we know the schema change will fail?&lt;/p&gt;</comment>
                            <comment id="13209423" author="xedin" created="Thu, 16 Feb 2012 15:19:47 +0000"  >&lt;p&gt;I will investigate how truncate is related to the schema modifications. I don&apos;t think that we have any intention to patch both 1.0 and 1.1 because we don&apos;t want to require people to update to 1.0.8+ before upgrading to 1.1. &lt;/p&gt;</comment>
                            <comment id="13209438" author="slebresne" created="Thu, 16 Feb 2012 15:37:03 +0000"  >&lt;p&gt;I&apos;m personally fine saying that it is recommended to upgrade to 1.0.8+ before 1.1 if that allow smoother/safer upgrade. Besides, I don&apos;t think we really have a choice if we want to avoid scary looking logs issue. And I don&apos;t really understand your remark anyway since the patches &lt;b&gt;you&lt;/b&gt; attached to this issue targets &lt;b&gt;both&lt;/b&gt; 1.0 and 1.1.&lt;/p&gt;</comment>
                            <comment id="13209467" author="jbellis" created="Thu, 16 Feb 2012 16:01:54 +0000"  >&lt;p&gt;If 1.1 doesn&apos;t send new-style schema changes to 1.0, that should be sufficient to avoid scary-looking logs.&lt;/p&gt;</comment>
                            <comment id="13209468" author="xedin" created="Thu, 16 Feb 2012 16:02:35 +0000"  >&lt;p&gt;if you take a look at the comment from Jonathan at &quot;13/Feb/12 23:34&quot; it will give you a better understanding why there are both 1.0 and 1.1 patches.&lt;/p&gt;</comment>
                            <comment id="13209486" author="slebresne" created="Thu, 16 Feb 2012 16:40:32 +0000"  >&lt;p&gt;Reattaching the two logs with only the 1.1 patch applied. Putting asides all the truncation related EOFException for now:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;on node1 (the 1.1 node), we do see a &quot;Can&apos;t accept schema migrations from Cassandra versions previous to 1.1, please update first&quot;, though I suppose it would be nice to  avoid the &apos;Fatal exception&apos; and stacktrace that tends to scare people.&lt;/li&gt;
	&lt;li&gt;on node2, we still have &quot;UnsupportedOperationException: Not a time-based UUID&quot; exceptions.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That being said, even if we fix all those exceptions (which we should, there no question on that), it is still the case that the schema change is applied to the 1.0 nodes and no error is returned to the user (that is, outside of the log file), but the added column family is not really usable (the user will get timeouts) at least until the cluster upgrade is complete. Even if the user do watch the log and see the error (and will probably assume the creation failed), the column family is still created. That&apos;s not really user friendly. So I still think it would be a good idea to add code to 1.0 and 1.1 to refuse upfront schema changes when the cluster is known to have mixed pre-1.1/post-1.1 versions. That don&apos;t necessarily mean we would &lt;b&gt;require&lt;/b&gt; an upgrade to 1.0.8+ before upgrading to 1.1, but it would mean that for all those that does upgrade from 1.0.8 (possibly a majority of users), we&apos;re being more user friendly.&lt;/p&gt;</comment>
                            <comment id="13211524" author="xedin" created="Sun, 19 Feb 2012 20:12:40 +0000"  >&lt;p&gt;I have found the problem with EOFException in Truncate - it was caused by MIGRATION_REQUEST  misinterpreted by 1.0 as TRUNCATE message, I have added a check into MM.rectifySchema(UUID, InetAddress) to skip that request if node with changed schema is older than 1.1. Two patches in combination now return no exceptions but node 1.0 without patch would still throw UnsupportedOperationException because Gossiper always propagates passive schema announce.&lt;/p&gt;

&lt;p&gt;Edit: I have also changed &quot;Can&apos;t accept schema migrations from Cassandra versions previous to 1.1, please update first.&quot; in 1.1 to be log error instead of IOException.&lt;/p&gt;</comment>
                            <comment id="13214523" author="slebresne" created="Thu, 23 Feb 2012 10:13:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;it was caused by MIGRATION_REQUEST misinterpreted by 1.0 as TRUNCATE message&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That shouldn&apos;t be. In the StorageService.Verb enumeration, MIGRATION_REQUEST needs to be moved to the end of the enum. Otherwise lots of stuff will be misinterpreted.&lt;/p&gt;</comment>
                            <comment id="13214526" author="xedin" created="Thu, 23 Feb 2012 10:23:31 +0000"  >&lt;p&gt;yeah, it seems like I have missed the comment about that, but fact is fact it was misinterpreted because of that. Have placed MIGRATION_REQUEST at the end of the Verb enum in updated v2.&lt;/p&gt;</comment>
                            <comment id="13214527" author="xedin" created="Thu, 23 Feb 2012 10:26:01 +0000"  >&lt;p&gt;fixed the comment about migration request.&lt;/p&gt;</comment>
                            <comment id="13214858" author="slebresne" created="Thu, 23 Feb 2012 17:10:42 +0000"  >&lt;p&gt;Ok, it does leave some InsupportedOperationException on the 1.0 but it clearly improve things and the misplaced MIGRATION_REQUEST is a real bug so I&apos;ve committed v2 (putting MIGRATION_REQUEST before the UNUSED ones as that&apos;s where it should be added). I&apos;ll open another issue to see if we can make smooth even more the case where people (mistakenly) do schema update in a mixed cluster.&lt;/p&gt;</comment>
                            <comment id="13260710" author="tpatterson" created="Tue, 24 Apr 2012 17:01:37 +0000"  >&lt;p&gt;I removed the dtest because it always fails, and will always fail in a properly running cluster.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515740" name="CASSANDRA-3804-1.1-v2.patch" size="4538" author="xedin" created="Thu, 23 Feb 2012 10:26:01 +0000"/>
                            <attachment id="12514605" name="CASSANDRA-3804-1.1.patch" size="952" author="xedin" created="Wed, 15 Feb 2012 07:07:56 +0000"/>
                            <attachment id="12514228" name="CASSANDRA-3804.patch" size="1174" author="xedin" created="Sat, 11 Feb 2012 19:17:28 +0000"/>
                            <attachment id="12514813" name="node1.log" size="25672" author="slebresne" created="Thu, 16 Feb 2012 16:21:29 +0000"/>
                            <attachment id="12514814" name="node2.log" size="20744" author="slebresne" created="Thu, 16 Feb 2012 16:21:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gofr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>