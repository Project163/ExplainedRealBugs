<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:08:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13072] Cassandra failed to run on Linux-aarch64</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13072</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;br/&gt;
1. Download cassandra latest source&lt;br/&gt;
2. Build it with &quot;ant&quot;&lt;br/&gt;
3. Run with &quot;./bin/cassandra&quot;. Daemon is crashed with following error message:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;INFO  05:30:21 Initializing system.schema_functions&lt;br/&gt;
INFO  05:30:21 Initializing system.schema_aggregates&lt;br/&gt;
ERROR 05:30:22 Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;MemtableFlushWriter:1,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native&lt;br/&gt;
        at org.apache.cassandra.utils.memory.MemoryUtil.allocate(MemoryUtil.java:97) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.util.Memory.&amp;lt;init&amp;gt;(Memory.java:74) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.util.SafeMemory.&amp;lt;init&amp;gt;(SafeMemory.java:32) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.compress.CompressionMetadata$Writer.&amp;lt;init&amp;gt;(CompressionMetadata.java:316) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.compress.CompressionMetadata$Writer.open(CompressionMetadata.java:330) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.compress.CompressedSequentialWriter.&amp;lt;init&amp;gt;(CompressedSequentialWriter.java:76) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.util.SequentialWriter.open(SequentialWriter.java:163) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter.&amp;lt;init&amp;gt;(BigTableWriter.java:73) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.sstable.format.big.BigFormat$WriterFactory.open(BigFormat.java:93) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.sstable.format.SSTableWriter.create(SSTableWriter.java:96) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter.create(SimpleSSTableMultiWriter.java:114) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.compaction.AbstractCompactionStrategy.createSSTableMultiWriter(AbstractCompactionStrategy.java:519) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.compaction.CompactionStrategyManager.createSSTableMultiWriter(CompactionStrategyManager.java:497) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilyStore.createSSTableMultiWriter(ColumnFamilyStore.java:480) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.Memtable.createFlushWriter(Memtable.java:439) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.Memtable.writeSortedContents(Memtable.java:371) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.Memtable.flush(Memtable.java:332) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilyStore$Flush.run(ColumnFamilyStore.java:1054) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;main/:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_111&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_111&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_111&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Analyze:&lt;br/&gt;
This issue is caused by bundled jna-4.0.0.jar which doesn&apos;t come with aarch64 native support. Replace lib/jna-4.0.0.jar with jna-4.2.0.jar from &lt;a href=&quot;http://central.maven.org/maven2/net/java/dev/jna/jna/4.2.0/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://central.maven.org/maven2/net/java/dev/jna/jna/4.2.0/&lt;/a&gt; can fix this problem.&lt;/p&gt;

&lt;p&gt;Attached is the binary compatibility report of jna.jar between 4.0 and 4.2. The result is good (97.4%). So is there possibility to upgrade jna to 4.2.0 in upstream? Should there be any kind of tests to execute, please kindly point me. Thanks a lot.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hardware: ARM aarch64&lt;br/&gt;
OS: Ubuntu 16.04.1 LTS&lt;/p&gt;</environment>
        <key id="13030011">CASSANDRA-13072</key>
            <summary>Cassandra failed to run on Linux-aarch64</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="jun.he">Jun He</reporter>
                        <labels>
                            <label>incompatible</label>
                    </labels>
                <created>Thu, 22 Dec 2016 06:22:11 +0000</created>
                <updated>Thu, 12 Nov 2020 08:02:02 +0000</updated>
                            <resolved>Tue, 18 Jul 2017 06:46:54 +0000</resolved>
                                        <fixVersion>3.0.14</fixVersion>
                    <fixVersion>3.11.0</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                                                                <comments>
                            <comment id="16005280" author="gentlemon" created="Wed, 10 May 2017 19:40:08 +0000"  >&lt;p&gt;problem still persists in 3.10 and can also be resolved with jna 4.4.0 &lt;a href=&quot;http://central.maven.org/maven2/net/java/dev/jna/jna/4.4.0/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://central.maven.org/maven2/net/java/dev/jna/jna/4.4.0/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16029336" author="blerer" created="Tue, 30 May 2017 12:19:04 +0000"  >&lt;p&gt;I pushed a patch for &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:13072-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2.2&lt;/a&gt;,  &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:13072-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:13072-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;.&lt;br/&gt;
The 3 patches are the same. They just upgrade the JNA version to &lt;tt&gt;4.4.0&lt;/tt&gt;.&lt;br/&gt;
I ran it on our internal CI and the results looks good.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt; could you review?  &lt;/p&gt;</comment>
                            <comment id="16029389" author="jasobrown" created="Tue, 30 May 2017 12:59:23 +0000"  >&lt;p&gt;fwiw, we upgraded to jna 4.3 in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13300&quot; title=&quot;Upgrade the jna version to 4.3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13300&quot;&gt;&lt;del&gt;CASSANDRA-13300&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;More importantly, I thought we didn&apos;t upgrade the dependencies until major revs, which in this case would be 3.11 and 4.0 (trunk). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;, what do you think about upgrading on 2.2 &amp;amp; 3.0? &lt;/p&gt;</comment>
                            <comment id="16029437" author="blerer" created="Tue, 30 May 2017 13:42:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;More importantly, I thought we didn&apos;t upgrade the dependencies until major revs, which in this case would be 3.11 and 4.0 (trunk).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In case of problem like this one where some people cannot even start C*, I think it really makes sense to allow it. &lt;/p&gt;</comment>
                            <comment id="16029988" author="iamaleksey" created="Tue, 30 May 2017 19:26:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;What do you think about upgrading on 2.2 &amp;amp; 3.0?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s more of a guideline than a hard rule; I agree with Benjamin here, it gotta be done in this case.&lt;/p&gt;</comment>
                            <comment id="16029989" author="iamaleksey" created="Tue, 30 May 2017 19:26:52 +0000"  >&lt;p&gt;Also, +1.&lt;/p&gt;</comment>
                            <comment id="16030008" author="jjirsa" created="Tue, 30 May 2017 19:39:57 +0000"  >&lt;p&gt;FWIW, I don&apos;t disagree we need to do this, but for ppc64le, we spent a lot of time saying we shouldn&apos;t make changes for other platforms that didnt have public tests; we should try to get public tests for platforms, especially if we&apos;re going to bump JNA in a branch that is almost 2 years old (2.2).&lt;/p&gt;

</comment>
                            <comment id="16030762" author="blerer" created="Wed, 31 May 2017 07:22:36 +0000"  >&lt;p&gt;I think we have to be a bit pragmatic. If upgrading JNA do not cause any problem in our test environment and that it allows some people to start C* on Linux-aarch64, without having to change the jar manually themselves, I do not see a good reason of not doing it.&lt;br/&gt;
I am not telling that we are, from now on, supporting Linux-aarch64. It is just that in the case of this ticket the risk associated to the change is pretty low and the benefit is high for some people.  &lt;/p&gt;</comment>
                            <comment id="16031109" author="jjirsa" created="Wed, 31 May 2017 13:00:58 +0000"  >&lt;p&gt;The problem is that to enable a new platform you put at risk hundreds or thousands of existing users that may be running 2.2, if there&apos;s some unreported bug or hidden incompatibility  in jna. Even if there&apos;s no bug, you&apos;re causing users to re-validate their deployment which is nontrivial (our testing isn&apos;t good enough for users with thousands of nodes to be sure that they won&apos;t have issues we didn&apos;t catch, this is a real step for most production deployments).&lt;/p&gt;

&lt;p&gt;The pragmatic approach is not changing a library in 2.2, since it&apos;s been this way (unsupported) for 2 years since its release&lt;/p&gt;
</comment>
                            <comment id="16031126" author="blerer" created="Wed, 31 May 2017 13:10:48 +0000"  >&lt;p&gt;I am not sure that I follow you. Your initial comment was about the fact that we do not have testing support for Linux-aarch64 and your new comment is about the fact that the testing is not good enough. &lt;/p&gt;

&lt;p&gt;If your problem is about 2.2. I will not argue about that and revert my commit in that branch.  &lt;/p&gt;</comment>
                            <comment id="16031145" author="blerer" created="Wed, 31 May 2017 13:28:15 +0000"  >&lt;p&gt;Committed into 2.2 at a2f742cd633ddd650b65f841c50ee96ee1da0ef5 and merged into 3.0, 3.11 and trunk.&lt;/p&gt;

&lt;p&gt;The commit into 2.2 as then been reverted as discussed in the ticket at 8405f7366f8881951f76c5899cfa699063db7378 &lt;/p&gt;</comment>
                            <comment id="16031149" author="jjirsa" created="Wed, 31 May 2017 13:29:36 +0000"  >&lt;p&gt;Sorry, that&apos;s my fault for not being explicit. Here&apos;s my thinking:&lt;/p&gt;

&lt;p&gt;2.2 and 3.0 are bug-fix-only. The only way this is a bug fix is if aarch64 is a supported platform.&lt;/p&gt;

&lt;p&gt;It&apos;s not a supported platform because there are no tests for it.&lt;/p&gt;

&lt;p&gt;Therefore, I don&apos;t see how this qualifies for either 2.2 or 3.0.&lt;/p&gt;

&lt;p&gt;This belongs in 3.11 and trunk, unless someone can tell me why I&apos;m wrong.&lt;/p&gt;</comment>
                            <comment id="16031156" author="iamaleksey" created="Wed, 31 May 2017 13:32:34 +0000"  >&lt;p&gt;I assumed from wording of the ticket that this was a regression, in which case it potentially warranted a JNA upgrade. Otherwise we should probably go for trunk only, as 3.11 is bugfix only at this point.&lt;/p&gt;

&lt;p&gt;Is this or is this not a regression though?&lt;/p&gt;</comment>
                            <comment id="16031158" author="jjirsa" created="Wed, 31 May 2017 13:35:09 +0000"  >&lt;p&gt;Since-version is 2.0.5, which suggests it&apos;s a regression.&lt;/p&gt;

&lt;p&gt;2.1 is using &lt;tt&gt;jna-4.0.0&lt;/tt&gt; though, so 2.2 didn&apos;t regress, 2.1 did.&lt;/p&gt;
</comment>
                            <comment id="16031799" author="snazy" created="Wed, 31 May 2017 19:27:52 +0000"  >&lt;p&gt;Now there&apos;s no more jna.jar in trunk.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;, can you verify that?&lt;/p&gt;

&lt;p&gt;EDIT: There&apos;s a &lt;tt&gt;lib/futures-2.1.6-py2.py3-none-any.zip&lt;/tt&gt; but no &lt;tt&gt;jna-4.4.0.jar&lt;/tt&gt; in trunk.&lt;/p&gt;</comment>
                            <comment id="16032588" author="blerer" created="Thu, 1 Jun 2017 07:42:42 +0000"  >&lt;p&gt;Sorry, for that. I fixed it.&lt;/p&gt;</comment>
                            <comment id="16074174" author="sunsuk7tp" created="Wed, 5 Jul 2017 02:19:03 +0000"  >&lt;p&gt;Since jna upgrade to 4.4.0, it causes working the latest Cassandra 3.11 on stable RHEL6 OS difficult because &lt;tt&gt;jna-4.4.0&lt;/tt&gt; depends on glibc &amp;gt;= 2.14 but glibc version is 2.12 there. &lt;br/&gt;
In fact, we tried to upgrade from 3.9 to 3.11.0 on CentOS6.8 machine, it failed on restarting as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [main] 2017-07-05 10:13:54,219 NativeLibraryLinux.java:62 - Failed to link the C library against JNA. Native methods will be unavailable.
java.lang.UnsatisfiedLinkError: /tmp/jna-118167/jna4905164479741635539.tmp: /lib64/libc.so.6: version `GLIBC_2.14&apos; not found (required by /tmp/jna-118167/jna4905164479741635539.tmp)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;According to &lt;a href=&quot;https://github.com/elastic/elasticsearch/issues/23640&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this elasticsearch&apos;s ticket&lt;/a&gt;, we could choose some option.&lt;/p&gt;</comment>
                            <comment id="16074425" author="blerer" created="Wed, 5 Jul 2017 08:37:46 +0000"  >&lt;p&gt;Originally,  &lt;tt&gt;3.0&lt;/tt&gt; and &lt;tt&gt;3.11&lt;/tt&gt; were using &lt;tt&gt;4.0&lt;/tt&gt; and &lt;tt&gt;trunk&lt;/tt&gt; &lt;tt&gt;4.3&lt;/tt&gt;.&lt;br/&gt;
I think we have 2 options: either go back to the original version: &lt;tt&gt;4.0.0&lt;/tt&gt; or try to go to &lt;tt&gt;4.2.0&lt;/tt&gt;/&lt;tt&gt;4.3.0&lt;/tt&gt; in the hope that it works for everybody.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunsuk7tp&quot; class=&quot;user-hover&quot; rel=&quot;sunsuk7tp&quot;&gt;sunsuk7tp&lt;/a&gt; Could you try with the &lt;tt&gt;4.3.0&lt;/tt&gt; or &lt;tt&gt;4.2.0&lt;/tt&gt; version and see if it works for you?&lt;/p&gt;</comment>
                            <comment id="16074690" author="sunsuk7tp" created="Wed, 5 Jul 2017 12:41:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; I tried it worked well with &lt;tt&gt;jna-4.2.2&lt;/tt&gt; even in CentOS6 + glibc 2.12 but it didn&apos;t with &lt;tt&gt;jna-4.3.0&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16076220" author="blerer" created="Thu, 6 Jul 2017 09:19:12 +0000"  >&lt;p&gt;I had a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13300&quot; title=&quot;Upgrade the jna version to 4.3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13300&quot;&gt;&lt;del&gt;CASSANDRA-13300&lt;/del&gt;&lt;/a&gt; which added support for &lt;tt&gt;jna-4.3.0&lt;/tt&gt; in trunk and it seems, according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt; comment &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13300?focusedCommentId=15896870&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15896870&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;, that &lt;tt&gt;jna-4.2.2&lt;/tt&gt; will work also fine with &lt;tt&gt;ppc64le&lt;/tt&gt; machines.&lt;/p&gt;

&lt;p&gt;I dig a bit and found out that &lt;tt&gt;jna-4.0.0&lt;/tt&gt; has been bundled with C* since &lt;tt&gt;2.1 beta&lt;/tt&gt;. So, I should not have upgraded &lt;tt&gt;jna&lt;/tt&gt; in &lt;tt&gt;3.0&lt;/tt&gt; (I should have follow your advise &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;

&lt;p&gt;Now, the situation is a bit more tricky. If I rollback the jar to &lt;tt&gt;4.0.0&lt;/tt&gt;, I will introduce a regression for &lt;tt&gt;Linux-aarch64&lt;/tt&gt;. Due to that, it seems that my only safe option would be to change the JNA version to &lt;tt&gt;4.2.2&lt;/tt&gt; as it seems to work for everybody. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasobrown&quot; class=&quot;user-hover&quot; rel=&quot;jasobrown&quot;&gt;jasobrown&lt;/a&gt; what is your opinion?&lt;/p&gt;</comment>
                            <comment id="16077032" author="jjirsa" created="Thu, 6 Jul 2017 18:32:13 +0000"  >&lt;p&gt;Elasticsearch in the linked ticket just build their own JNA jar that linked against an older version of glibc. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt; any desire to set that up for an &lt;tt&gt;org.apache.cassandra.jna&lt;/tt&gt; lib so that we can decouple that depedency? &lt;/p&gt;

&lt;p&gt;Short of that (or until that&apos;s setup), falling back to &lt;tt&gt;4.2.2&lt;/tt&gt; seems like an ok option (not a great option, but an OK option).&lt;/p&gt;



</comment>
                            <comment id="16084633" author="blerer" created="Wed, 12 Jul 2017 20:29:48 +0000"  >&lt;p&gt;I pushed some patches to change the JNA version to &lt;tt&gt;4.2.2&lt;/tt&gt; in &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...blerer:13072-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;,  &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.11...blerer:13072-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:13072-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt; . I ran the patch on CI an the failing DTests are known flaky tests. &lt;/p&gt;</comment>
                            <comment id="16087268" author="ifesdjeen" created="Fri, 14 Jul 2017 12:48:40 +0000"  >&lt;p&gt;Looks like trunk link you have posted is broken (points to your fork trunk), I&apos;ve checked &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:13072-trunkhttps://github.com/apache/cassandra/compare/trunk...blerer:13072-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this one&lt;/a&gt;. CI looks good, too.&lt;/p&gt;

&lt;p&gt;Checked the branches locally just to make sure the daemon starts, everything works as excepted.&lt;/p&gt;

&lt;p&gt;LGTM, +1.&lt;/p&gt;</comment>
                            <comment id="16091196" author="ifesdjeen" created="Tue, 18 Jul 2017 06:46:44 +0000"  >&lt;p&gt;Committed to 3.0 as &lt;a href=&quot;https://github.com/apache/cassandra/commit/00a777ec8ab701b843172e23a6cbdc4d6cf48f8d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;00a777ec8ab701b843172e23a6cbdc4d6cf48f8d&lt;/a&gt;, merged up to &lt;a href=&quot;https://github.com/apache/cassandra/commit/478d54db4611278863a1736faf3c0b4c92f4412b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/cassandra/commit/fd065714003a8820cb4acf3521b8df5c726ef4b2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16092922" author="spodxx@gmail.com" created="Wed, 19 Jul 2017 10:53:11 +0000"  >&lt;p&gt;Misses CHANGES.txt update.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13097210">CASSANDRA-13791</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13079828">CASSANDRA-13601</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12844354" name="compat_report.html" size="28095" author="jun.he" created="Thu, 22 Dec 2016 06:22:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13362"><![CDATA[ARM]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37x53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ifesdjeen</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12325761">2.0.5</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>