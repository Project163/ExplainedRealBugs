<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:10:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13526] nodetool cleanup on KS with no replicas should remove old data, not silently complete</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13526</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;From the user list:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/5d49cc6bbc6fd2e5f8b12f2308a3e24212a55afbb441af5cb8cd4167@%3Cuser.cassandra.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/5d49cc6bbc6fd2e5f8b12f2308a3e24212a55afbb441af5cb8cd4167@%3Cuser.cassandra.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you have a multi-dc cluster, but some keyspaces not replicated to a given DC, you&apos;ll be unable to run cleanup on those keyspaces in that DC, because &lt;a href=&quot;https://github.com/apache/cassandra/blob/4cfaf85/src/java/org/apache/cassandra/db/compaction/CompactionManager.java#L427-L441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the cleanup code will see no ranges and exit early&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13071316">CASSANDRA-13526</key>
            <summary>nodetool cleanup on KS with no replicas should remove old data, not silently complete</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jasonstack">Zhao Yang</assignee>
                                    <reporter username="jjirsa">Jeff Jirsa</reporter>
                        <labels>
                            <label>usability</label>
                    </labels>
                <created>Thu, 11 May 2017 20:11:15 +0000</created>
                <updated>Fri, 15 May 2020 08:01:17 +0000</updated>
                            <resolved>Thu, 7 Dec 2017 05:51:25 +0000</resolved>
                                        <fixVersion>3.0.16</fixVersion>
                    <fixVersion>3.11.2</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Local/Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16007319" author="jaid" created="Thu, 11 May 2017 22:34:07 +0000"  >&lt;p&gt;The issue I am seeing on C* cluster with the below setup&lt;/p&gt;

&lt;p&gt;Cassandra version : 2.1.16&lt;br/&gt;
Datacenters: 4 DC&lt;br/&gt;
RF: NetworkTopologyStrategy with 3 RF in each DC&lt;br/&gt;
Keyspaces: 50 keyspaces, few replicating to one DC and few replicating to multiple DC&lt;/p&gt;
</comment>
                            <comment id="16075925" author="jasonstack" created="Thu, 6 Jul 2017 04:45:22 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; branch &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; unit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra-dtest/commits/CASSANDRA-13526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pass&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; bootstrap_test.TestBootstrap.consistent_range_movement_false_with_rf1_should_succeed_test known &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13526-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pass&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; pass &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13526-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pass&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; offline_tools_test.TestOfflineTools.sstableofflinerelevel_test  auth_test.TestAuth.system_auth_ks_is_alterable_test &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/jasonstack/cassandra/commits/CASSANDRA-13526-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2.2&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;a href=&quot;https://circleci.com/gh/jasonstack/cassandra/185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pass&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  ttl_test.TestTTL.collection_list_ttl_test &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;unit test all passed, some irrelevant dtests failed.&lt;/p&gt;

&lt;p&gt;when no local range &amp;amp;&amp;amp; node has joined token ring,  clean up will remove all base local sstables.  &lt;/p&gt;</comment>
                            <comment id="16083327" author="jasonstack" created="Wed, 12 Jul 2017 02:27:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; could you review ? thanks..&lt;/p&gt;</comment>
                            <comment id="16088829" author="jjirsa" created="Sun, 16 Jul 2017 06:59:28 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; .  I glanced at it and it looked reasonable, though I&apos;ll do a more thorough review next week.&lt;/p&gt;

&lt;p&gt;Since it&apos;s a bug fix (and a pretty serious one at that), it seems like we should have patches for at least 3.0 and 3.11 , and perhaps even 2.1 and 2.2. Are you able to port your fix to 3.0 and 3.11? &lt;/p&gt;

&lt;p&gt;We should also add a unit test to make sure we prevent this sort of regression again in the future.&lt;/p&gt;


</comment>
                            <comment id="16088830" author="jasonstack" created="Sun, 16 Jul 2017 07:06:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; thanks for reviewing. &lt;tt&gt;trunk&lt;/tt&gt; was draft for review. I will prepare for older branches and more tests.&lt;/p&gt;</comment>
                            <comment id="16088832" author="jjirsa" created="Sun, 16 Jul 2017 07:24:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; if you give me a few days I&apos;ll do a real review, and you can backport after that if it&apos;s easier&lt;/p&gt;</comment>
                            <comment id="16088835" author="jasonstack" created="Sun, 16 Jul 2017 07:42:54 +0000"  >&lt;p&gt;sure. it&apos;s not urgent.&lt;/p&gt;</comment>
                            <comment id="16092573" author="jjirsa" created="Wed, 19 Jul 2017 04:59:19 +0000"  >&lt;p&gt;Patch looks good to me, dtest looks good as well, with two comments:&lt;/p&gt;

&lt;p&gt;1) New dtest repo is &lt;a href=&quot;https://github.com/apache/cassandra-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2) You should remove dc1 from the replication strategy &lt;a href=&quot;https://github.com/riptano/cassandra-dtest/commit/15bf712988fb50ae29994da246dec186beff69bd#diff-9d7bd37d410a5598b9700b71476845ebR159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; to be very explicit about what we expect to happen.&lt;/p&gt;

&lt;p&gt;Would you backport to 3.0 and 3.11 ? &lt;/p&gt;</comment>
                            <comment id="16093220" author="jasonstack" created="Wed, 19 Jul 2017 14:54:37 +0000"  >&lt;p&gt;thanks for reviewing, I will back port to 3.0/3.11 this week.  I was stuck in other issues..&lt;/p&gt;</comment>
                            <comment id="16094118" author="githubbot" created="Thu, 20 Jul 2017 03:24:18 +0000"  >&lt;p&gt;GitHub user jasonstack opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;: nodetool cleanup on KS with no replicas should remov&#8230;&lt;/p&gt;

&lt;p&gt;    JIRA: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-13526&lt;/a&gt;   pending for 2.2/3.0/3.11&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jasonstack/cassandra-dtest-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jasonstack/cassandra-dtest-1&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3c8877c0fa3eb998ed2ee9945ebb8d43687e65fa&lt;br/&gt;
Author: Zhao Yang &amp;lt;zhaoyangsingapore@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-20T03:18:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;: nodetool cleanup on KS with no replicas should remove old data, not silently complete&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16094211" author="githubbot" created="Thu, 20 Jul 2017 05:41:59 +0000"  >&lt;p&gt;Github user jasonstack closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16097997" author="jasonstack" created="Mon, 24 Jul 2017 06:32:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; sorry for the delay, I updated the dtest result for 2.2/3.0/3.11/trunk, some irrelevant dtests failed. I skipped 2.1 since this is not critical.&lt;/p&gt;</comment>
                            <comment id="16105264" author="githubbot" created="Fri, 28 Jul 2017 16:37:09 +0000"  >&lt;p&gt;Github user jeffjirsa commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    (You could leave the PR open and I&apos;ll close it on merge with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt; )&lt;/p&gt;
</comment>
                            <comment id="16105998" author="githubbot" created="Sat, 29 Jul 2017 03:11:07 +0000"  >&lt;p&gt;Github user jasonstack commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    thanks..&lt;/p&gt;</comment>
                            <comment id="16105999" author="githubbot" created="Sat, 29 Jul 2017 03:11:07 +0000"  >&lt;p&gt;GitHub user jasonstack reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;: nodetool cleanup on KS with no replicas should remov&#8230;&lt;/p&gt;

&lt;p&gt;    JIRA: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-13526&lt;/a&gt;   pending for 2.2/3.0/3.11&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jasonstack/cassandra-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jasonstack/cassandra-dtest&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ccb6e81451f3d9ca0d192c508beaeef0959e56fc&lt;br/&gt;
Author: Zhao Yang &amp;lt;zhaoyangsingapore@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-20T03:18:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13526&quot; title=&quot;nodetool cleanup on KS with no replicas should remove old data, not silently complete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13526&quot;&gt;&lt;del&gt;CASSANDRA-13526&lt;/del&gt;&lt;/a&gt;: nodetool cleanup on KS with no replicas should remove old data, not silently complete&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16213500" author="jjirsa" created="Fri, 20 Oct 2017 23:41:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; Really appreciate your patience in the time it&apos;s taken me to back to this. I hope to review it this weekend.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt; - what do you folks think about versions here? 2.2 or 3.0? &lt;/p&gt;
</comment>
                            <comment id="16277550" author="iamaleksey" created="Mon, 4 Dec 2017 21:35:03 +0000"  >&lt;p&gt;I&apos;d probably go with 3.0+ only, but 2.2 is acceptable too.&lt;/p&gt;</comment>
                            <comment id="16277717" author="jjirsa" created="Mon, 4 Dec 2017 23:03:31 +0000"  >&lt;p&gt;I&apos;ve rebased your patch and I&apos;m re-running CI, just because it took me so very long to review this patch.&lt;/p&gt;

&lt;p&gt;Generally the patches look fine, but I don&apos;t understand why you&apos;re running this method twice &lt;a href=&quot;https://github.com/jasonstack/cassandra/commit/b51c46565adf0d765ac6ded831469a2eca2939d8#diff-ba6d3d8e296151fc283ef11ac4594e62R211&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; (and in the very similar helper below it)?&lt;/p&gt;

&lt;p&gt;I&apos;m inclined to remove one of those calls. Other than that, marking as ready-to-commit, and I&apos;ll merge when CI finishes.&lt;/p&gt;</comment>
                            <comment id="16279948" author="jasonstack" created="Wed, 6 Dec 2017 10:06:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; it&apos;s a mistake in 3.11 PR.. thanks for the fix.&lt;/p&gt;</comment>
                            <comment id="16281365" author="jjirsa" created="Thu, 7 Dec 2017 05:51:25 +0000"  >&lt;p&gt;Thank you so much for the patch and your patience. Committed to 3.0 as &lt;tt&gt;090f418831be4e4dace861fda380ee4ec27cec35&lt;/tt&gt; and merged up, fixing the 3.11 test on the way.&lt;/p&gt;
</comment>
                            <comment id="16281371" author="githubbot" created="Thu, 7 Dec 2017 06:04:52 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16281854" author="jasonstack" created="Thu, 7 Dec 2017 13:40:17 +0000"  >&lt;p&gt;Thanks for reviewing&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12854260">CASSANDRA-10047</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12928875">CASSANDRA-10991</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12840540">CASSANDRA-9652</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jasonstack]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ev0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jjirsa</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jjirsa]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>