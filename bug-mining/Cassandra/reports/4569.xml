<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:05:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-12817] testall failure in org.apache.cassandra.cql3.validation.entities.UFTest.testAllNativeTypes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-12817</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;example failure:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/job/cassandra-2.2_testall/595/testReport/org.apache.cassandra.cql3.validation.entities/UFTest/testAllNativeTypes/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/cassandra-2.2_testall/595/testReport/org.apache.cassandra.cql3.validation.entities/UFTest/testAllNativeTypes/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error Message

Timeout occurred. Please note the time in the report does not reflect the time until the timeout.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Stacktrace

junit.framework.AssertionFailedError: Timeout occurred. Please note the time in the report does not reflect the time until the timeout.
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13014226">CASSANDRA-12817</key>
            <summary>testall failure in org.apache.cassandra.cql3.validation.entities.UFTest.testAllNativeTypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="snazy">Robert Stupp</assignee>
                                    <reporter username="sean.mccarthy">Sean McCarthy</reporter>
                        <labels>
                            <label>test-failure</label>
                    </labels>
                <created>Fri, 21 Oct 2016 13:10:56 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:06 +0000</updated>
                            <resolved>Thu, 8 Dec 2016 18:45:34 +0000</resolved>
                                        <fixVersion>2.2.9</fixVersion>
                    <fixVersion>3.0.11</fixVersion>
                    <fixVersion>3.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15653707" author="snazy" created="Thu, 10 Nov 2016 10:36:44 +0000"  >&lt;p&gt;Hm - it&apos;s always a timeout in 2.2 but not in 3.0 or newer.&lt;br/&gt;
&lt;tt&gt;UFTest&lt;/tt&gt;, which contains more than 100 single tests, completes in 17 seconds (2.2) locally but requires at least one minute on CI slaves.&lt;br/&gt;
Guess all I can do is split &lt;tt&gt;UFTest&lt;/tt&gt; into multiple classes.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoshuaMcKenzie&quot; class=&quot;user-hover&quot; rel=&quot;JoshuaMcKenzie&quot;&gt;JoshuaMcKenzie&lt;/a&gt;, are you ok with this approach?&lt;/p&gt;</comment>
                            <comment id="15654793" author="jmckenzie" created="Thu, 10 Nov 2016 18:41:31 +0000"  >&lt;p&gt;+1 to breaking it up. There&apos;s other benefits besides just the timeout implications of doing that (troubleshooting, etc).&lt;/p&gt;</comment>
                            <comment id="15657080" author="snazy" created="Fri, 11 Nov 2016 13:31:35 +0000"  >&lt;p&gt;Alright. Split up &lt;tt&gt;UFTest&lt;/tt&gt; into several test classes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;UFJavaTest&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;UFScriptTest&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;UFTypesTest&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;UFSecurityTest&lt;/tt&gt; for 3.0 and newer&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Triggered CI just for testall since no dtest relevant changes are contained in this patch.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cassandra-2.2&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.2...snazy:12817-split-UFTest-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/snazy/job/snazy-12817-split-UFTest-2.2-testall/lastSuccessfulBuild/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cassandra-3.0&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...snazy:12817-split-UFTest-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/snazy/job/snazy-12817-split-UFTest-3.0-testall/lastSuccessfulBuild/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cassandra-3.X&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.X...snazy:12817-split-UFTest-3.X&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/snazy/job/snazy-12817-split-UFTest-3.X-testall/lastSuccessfulBuild/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...snazy:12817-split-UFTest-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/snazy/job/snazy-12817-split-UFTest-trunk-testall/lastSuccessfulBuild/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15725514" author="ifesdjeen" created="Tue, 6 Dec 2016 13:38:05 +0000"  >&lt;p&gt;I&apos;ve ran some multiplexed tests for 2.2 &lt;a href=&quot;http://cassci.datastax.com/job/ifesdjeen-12817-split-UFTest-2.2-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. Checked that &lt;tt&gt;timeout&lt;/tt&gt; setting we&apos;re using and it indeed seems that in combination with &lt;tt&gt;fork&lt;/tt&gt; it&apos;s going to account for the time period that&apos;s used by all the tests combined, not separately. More details &lt;a href=&quot;https://ant.apache.org/manual/Tasks/junit.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Nits: I&apos;d leave formatting as is &lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...snazy:12817-split-UFTest-3.0#diff-0e0818c2387aba1cbdf852cd0d314276L286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;like here&lt;/a&gt; (probably just auto-formatting), it&apos;ll be much easier to git-blame if something. If you want you can just leave formatting out on commit. &lt;/p&gt;

&lt;p&gt;Other than that - this should fix the issue, so +1 from my side.&lt;/p&gt;</comment>
                            <comment id="15728680" author="snazy" created="Wed, 7 Dec 2016 12:44:31 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/0b97c5d1f717be30a04c59c766465d9c62a4e9ee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;0b97c5d1f717be30a04c59c766465d9c62a4e9ee&lt;/a&gt; to &lt;a href=&quot;https://github.com/apache/cassandra/tree/cassandra-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cassandra-2.2&lt;/a&gt;, cassandra-3.0, cassandra-3.X and trunk.&lt;/p&gt;</comment>
                            <comment id="15728696" author="snazy" created="Wed, 7 Dec 2016 12:55:24 +0000"  >&lt;p&gt;Damn - forgot to fix the formatting during the merge. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt;, ok for a ninja?&lt;/p&gt;</comment>
                            <comment id="15728820" author="ifesdjeen" created="Wed, 7 Dec 2016 13:52:12 +0000"  >&lt;p&gt;I&apos;d rather leave it as-is. I was thinking to reduce history, so if we add another change we&apos;ll only make more history &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it wasn&apos;t that important, most of UDF-related code git-blames to you-know-who anyways.&lt;/p&gt;</comment>
                            <comment id="15732926" author="mshuler" created="Thu, 8 Dec 2016 18:06:03 +0000"  >&lt;p&gt;This commit appears to have been a bug fix that should go to 3.10 and has not been merged to the cassandra-3.11 branch, where 3.10 will be released from. Please merge. I updated fixver to 3.10&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;(cassandra-3.11)mshuler@hana:~/git/cassandra$ git log ..cassandra-3.0
commit d9b06e8af41c42244f76058641aeecda53a9bf75 (origin/cassandra-3.0, cassandra-3.0)
Author: Alex Petrov &amp;lt;oleksandr.petrov@gmail.com&amp;gt;
Date:   Wed Dec 7 16:04:51 2016 +0100

    Make distinction between unset row and non-existing partition for LWTs
    
    Patch by Alex Petrov; reviewed by Sylvain Lebresne for CASSANDRA-12964.

commit 3aefe356545bcc2f5c4453e0d9d704bef339a008 (github/cassandra-3.0)
Merge: 95d0b67 0b97c5d
Author: Robert Stupp &amp;lt;snazy@snazy.de&amp;gt;
Date:   Wed Dec 7 13:08:35 2016 +0100

    Merge branch &apos;cassandra-2.2&apos; into cassandra-3.0

commit 0b97c5d1f717be30a04c59c766465d9c62a4e9ee (origin/cassandra-2.2, github/cassandra-2.2, cassandra-2.2)
Author: Robert Stupp &amp;lt;snazy@snazy.de&amp;gt;
Date:   Wed Dec 7 13:06:55 2016 +0100

    testall failure in org.apache.cassandra.cql3.validation.entities.UFTest.testAllNativeTypes
    
    patch by Robert Stupp; reviewed by Alex Petrov for CASSANDRA-12817

commit 95d0b671d1af154eaf1c1e81992c7f3f51469eee
Author: Sylvain Lebresne &amp;lt;sylvain@datastax.com&amp;gt;
Date:   Mon Oct 10 13:36:15 2016 +0200

    CQL often queries static columns unnecessarily
    
    patch by Sylvain Lebresne; reviewed by Tyler Hobbs for CASSANDRA-12768
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15733039" author="snazy" created="Thu, 8 Dec 2016 18:45:35 +0000"  >&lt;p&gt;added missing code in branch cassandra-3.11 in commit d19b6d88415e04c2fc926a91fd61a3390b3b1351&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[snazy]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i357qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ifesdjeen</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>