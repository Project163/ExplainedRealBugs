<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:52:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9235] Max sstable size in leveled manifest is an int, creating large sstables overflows this and breaks LCS</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9235</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;nodetool compactionstats&lt;br/&gt;
pending tasks: -222222228&lt;/p&gt;

&lt;p&gt;I can see negative numbers in &apos;pending tasks&apos; on all 8 nodes&lt;br/&gt;
it looks like -222222228 + real number of pending tasks&lt;br/&gt;
for example -222222128 for 100 real pending tasks&lt;/p&gt;
</description>
                <environment>&lt;p&gt;CentOS 6.2 x64, Cassandra 2.1.4&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_71-b14)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 24.71-b01, mixed mode)&lt;/p&gt;</environment>
        <key id="12823744">CASSANDRA-9235</key>
            <summary>Max sstable size in leveled manifest is an int, creating large sstables overflows this and breaks LCS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcuse">Marcus Eriksson</assignee>
                                    <reporter username="msb">Mark Beardsley</reporter>
                        <labels>
                            <label>lcs</label>
                    </labels>
                <created>Fri, 24 Apr 2015 13:24:11 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:13 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 07:34:43 +0000</resolved>
                                        <fixVersion>2.0.15</fixVersion>
                    <fixVersion>2.1.5</fixVersion>
                    <fixVersion>2.2.0 beta 1</fixVersion>
                                    <component>Local/Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14511085" author="philipthompson" created="Fri, 24 Apr 2015 13:49:51 +0000"  >&lt;p&gt;Is this happening on all of your nodes or just a subset? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt;, any idea what could cause this? I&apos;m not seeing it locally.&lt;/p&gt;

&lt;p&gt;EDIT: A simple test of LCS under load on one node with OSX isn&apos;t reproducing. &lt;/p&gt;</comment>
                            <comment id="14511088" author="krummas" created="Fri, 24 Apr 2015 13:52:14 +0000"  >&lt;p&gt;haha, wth&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msb&quot; class=&quot;user-hover&quot; rel=&quot;msb&quot;&gt;msb&lt;/a&gt; what compaction strategy are you running?&lt;/p&gt;</comment>
                            <comment id="14511105" author="msb" created="Fri, 24 Apr 2015 14:02:36 +0000"  >&lt;p&gt;I use LCS.&lt;br/&gt;
It happens on all nodes:&lt;/p&gt;

&lt;p&gt;pending tasks: -222209007&lt;/p&gt;

&lt;p&gt;pending tasks: -222222228&lt;/p&gt;

&lt;p&gt;pending tasks: -222209142&lt;br/&gt;
   compaction type       keyspace          table      completed          total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   493893100494   710281935201   bytes     69.53%&lt;br/&gt;
Active compaction remaining time :   0h03m26s&lt;/p&gt;

&lt;p&gt;pending tasks: -222217719&lt;br/&gt;
   compaction type       keyspace          table   completed       total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   286845775   539131720   bytes     53.21%&lt;br/&gt;
Active compaction remaining time :   0h00m00s&lt;/p&gt;

&lt;p&gt;pending tasks: -222221094&lt;br/&gt;
   compaction type       keyspace          table   completed        total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   546045136   1040249351   bytes     52.49%&lt;br/&gt;
Active compaction remaining time :   0h00m00s&lt;/p&gt;

&lt;p&gt;pending tasks: -222211160&lt;br/&gt;
   compaction type       keyspace          table      completed          total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   173527855063   754763739654   bytes     22.99%&lt;br/&gt;
Active compaction remaining time :   0h09m14s&lt;/p&gt;

&lt;p&gt;pending tasks: -222217961&lt;br/&gt;
   compaction type       keyspace          table   completed       total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   307582716   539133247   bytes     57.05%&lt;br/&gt;
Active compaction remaining time :   0h00m00s&lt;/p&gt;

&lt;p&gt;pending tasks: -222210946&lt;br/&gt;
   compaction type       keyspace          table       completed           total    unit   progress&lt;br/&gt;
        Compaction   archivespace   file_storage   1102055174099   6063766404241   bytes     18.17%&lt;br/&gt;
Active compaction remaining time :   1h18m56s&lt;/p&gt;

&lt;p&gt;It seems to me that it began when I added another table in keyspace.&lt;/p&gt;</comment>
                            <comment id="14511128" author="krummas" created="Fri, 24 Apr 2015 14:20:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msb&quot; class=&quot;user-hover&quot; rel=&quot;msb&quot;&gt;msb&lt;/a&gt; what happens if you restart a node?&lt;/p&gt;

&lt;p&gt;could you enable debug logs on one node?&lt;/p&gt;

&lt;p&gt;You would need to edit conf/logback.xml on one node, add this before the end tag somewhere:&lt;br/&gt;
&lt;tt&gt;&amp;lt;logger name=&quot;org.apache.cassandra.db.compaction.LeveledManifest&quot; level=&quot;DEBUG&quot;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;and grep the log for &quot;Estimating&quot; when you do a nodetool compactionstats&lt;/p&gt;</comment>
                            <comment id="14511129" author="msb" created="Fri, 24 Apr 2015 14:22:28 +0000"  >&lt;p&gt;It happened when archivespace.file_storage2 had beed added.&lt;/p&gt;

&lt;p&gt;KEYSPACE description:&lt;/p&gt;

&lt;p&gt;CREATE KEYSPACE archivespace WITH replication = &lt;/p&gt;
{&apos;class&apos;: &apos;NetworkTopologyStrategy&apos;, &apos;DC1&apos;: &apos;1&apos;, &apos;DC2&apos;: &apos;1&apos;}
&lt;p&gt;  AND durable_writes = true;&lt;/p&gt;

&lt;p&gt;CREATE TABLE archivespace.files (&lt;br/&gt;
    id uuid PRIMARY KEY,&lt;br/&gt;
    category decimal,&lt;br/&gt;
    created timestamp,&lt;br/&gt;
    data blob,&lt;br/&gt;
    filename text&lt;br/&gt;
) WITH bloom_filter_fp_chance = 0.01&lt;br/&gt;
    AND caching = &apos;&lt;/p&gt;
{&quot;keys&quot;:&quot;ALL&quot;, &quot;rows_per_partition&quot;:&quot;NONE&quot;}
&lt;p&gt;&apos;&lt;br/&gt;
    AND comment = &apos;&apos;&lt;br/&gt;
    AND compaction = &lt;/p&gt;
{&apos;min_threshold&apos;: &apos;4&apos;, &apos;enabled&apos;: &apos;true&apos;, &apos;class&apos;: &apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;, &apos;max_threshold&apos;: &apos;32&apos;}
&lt;p&gt;    AND compression = &lt;/p&gt;
{&apos;sstable_compression&apos;: &apos;org.apache.cassandra.io.compress.LZ4Compressor&apos;}
&lt;p&gt;    AND dclocal_read_repair_chance = 0.1&lt;br/&gt;
    AND default_time_to_live = 0&lt;br/&gt;
    AND gc_grace_seconds = 864000&lt;br/&gt;
    AND max_index_interval = 2048&lt;br/&gt;
    AND memtable_flush_period_in_ms = 0&lt;br/&gt;
    AND min_index_interval = 128&lt;br/&gt;
    AND read_repair_chance = 0.0&lt;br/&gt;
    AND speculative_retry = &apos;99.0PERCENTILE&apos;;&lt;/p&gt;

&lt;p&gt;CREATE TABLE archivespace.file_storage (&lt;br/&gt;
    key text,&lt;br/&gt;
    chunk text,&lt;br/&gt;
    value blob,&lt;br/&gt;
    PRIMARY KEY (key, chunk)&lt;br/&gt;
) WITH COMPACT STORAGE&lt;br/&gt;
    AND CLUSTERING ORDER BY (chunk ASC)&lt;br/&gt;
    AND bloom_filter_fp_chance = 0.01&lt;br/&gt;
    AND caching = &apos;&lt;/p&gt;
{&quot;keys&quot;:&quot;ALL&quot;, &quot;rows_per_partition&quot;:&quot;NONE&quot;}
&lt;p&gt;&apos;&lt;br/&gt;
    AND comment = &apos;&apos;&lt;br/&gt;
    AND compaction = &lt;/p&gt;
{&apos;sstable_size_in_mb&apos;: &apos;512&apos;, &apos;min_threshold&apos;: &apos;4&apos;, &apos;enabled&apos;: &apos;true&apos;, &apos;class&apos;: &apos;org.apache.cassandra.db.compaction.LeveledCompactionStrategy&apos;, &apos;max_threshold&apos;: &apos;64&apos;}
&lt;p&gt;    AND compression = {}&lt;br/&gt;
    AND dclocal_read_repair_chance = 0.1&lt;br/&gt;
    AND default_time_to_live = 0&lt;br/&gt;
    AND gc_grace_seconds = 864000&lt;br/&gt;
    AND max_index_interval = 2048&lt;br/&gt;
    AND memtable_flush_period_in_ms = 0&lt;br/&gt;
    AND min_index_interval = 128&lt;br/&gt;
    AND read_repair_chance = 0.0&lt;br/&gt;
    AND speculative_retry = &apos;99.0PERCENTILE&apos;;&lt;/p&gt;

&lt;p&gt;CREATE TABLE archivespace.file_storage2 (&lt;br/&gt;
    key text,&lt;br/&gt;
    chunk text,&lt;br/&gt;
    value blob,&lt;br/&gt;
    PRIMARY KEY (key, chunk)&lt;br/&gt;
) WITH CLUSTERING ORDER BY (chunk ASC)&lt;br/&gt;
    AND bloom_filter_fp_chance = 0.1&lt;br/&gt;
    AND caching = &apos;&lt;/p&gt;
{&quot;keys&quot;:&quot;ALL&quot;, &quot;rows_per_partition&quot;:&quot;NONE&quot;}
&lt;p&gt;&apos;&lt;br/&gt;
    AND comment = &apos;&apos;&lt;br/&gt;
    AND compaction = &lt;/p&gt;
{&apos;sstable_size_in_mb&apos;: &apos;2048&apos;, &apos;min_threshold&apos;: &apos;4&apos;, &apos;enabled&apos;: &apos;true&apos;, &apos;class&apos;: &apos;org.apache.cassandra.db.compaction.LeveledCompactionStrategy&apos;, &apos;max_threshold&apos;: &apos;32&apos;}
&lt;p&gt;    AND compression = {}&lt;br/&gt;
    AND dclocal_read_repair_chance = 0.1&lt;br/&gt;
    AND default_time_to_live = 0&lt;br/&gt;
    AND gc_grace_seconds = 864000&lt;br/&gt;
    AND max_index_interval = 2048&lt;br/&gt;
    AND memtable_flush_period_in_ms = 0&lt;br/&gt;
    AND min_index_interval = 128&lt;br/&gt;
    AND read_repair_chance = 0.0&lt;br/&gt;
    AND speculative_retry = &apos;99.0PERCENTILE&apos;;&lt;/p&gt;</comment>
                            <comment id="14511135" author="msb" created="Fri, 24 Apr 2015 14:28:32 +0000"  >
&lt;p&gt;DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,639 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,639 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,640 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,641 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,641 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(10)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:01,641 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,041 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,041 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,041 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,042 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,042 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(12)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:07,043 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,059 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,059 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,060 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,061 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,061 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(6)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:09,061 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,600 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,600 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for system.paxos&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,600 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,601 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 0, 0, 0, 0, 0, 0, 0&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,602 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;RMI TCP Connection(14)-127.0.0.1&amp;#93;&lt;/span&gt; 2015-04-24 18:26:16,602 LeveledManifest.java:680 - Estimating &lt;span class=&quot;error&quot;&gt;&amp;#91;-4, -10, -100, -1000, -10000, -100000, -1000000, -10000000, -100000000&amp;#93;&lt;/span&gt; compactions to do for archivespace.file_storage2&lt;/p&gt;</comment>
                            <comment id="14511140" author="krummas" created="Fri, 24 Apr 2015 14:31:30 +0000"  >&lt;p&gt;ok, thank you very much, we are overflowing an integer, will fix&lt;/p&gt;</comment>
                            <comment id="14511146" author="msb" created="Fri, 24 Apr 2015 14:39:08 +0000"  >&lt;p&gt;archivespace.file_storage2 is empty.&lt;/p&gt;

&lt;p&gt;select * from archivespace.file_storage2;&lt;/p&gt;

&lt;p&gt; key | chunk | value&lt;br/&gt;
----&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------&lt;/p&gt;

&lt;p&gt;(0 rows)&lt;/p&gt;</comment>
                            <comment id="14511149" author="krummas" created="Fri, 24 Apr 2015 14:43:21 +0000"  >&lt;p&gt;our max sstable size in bytes is an int, creating huge sstables overflows and breaks stuff..&lt;/p&gt;</comment>
                            <comment id="14511150" author="krummas" created="Fri, 24 Apr 2015 14:44:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msb&quot; class=&quot;user-hover&quot; rel=&quot;msb&quot;&gt;msb&lt;/a&gt; you will have to reduce the size of your sstables in the new table - this bug breaks LCS when you have that big sstables&lt;/p&gt;</comment>
                            <comment id="14511191" author="carlyeks" created="Fri, 24 Apr 2015 15:10:05 +0000"  >&lt;p&gt;+1 - no other places in LCS/LeveledManifest look suspicious&lt;/p&gt;</comment>
                            <comment id="14511448" author="msb" created="Fri, 24 Apr 2015 18:04:13 +0000"  >&lt;p&gt;OK. Thanks guys!&lt;/p&gt;</comment>
                            <comment id="14513658" author="krummas" created="Mon, 27 Apr 2015 07:34:43 +0000"  >&lt;p&gt;committed, thanks&lt;/p&gt;</comment>
                            <comment id="14538528" author="aweisberg" created="Mon, 11 May 2015 19:48:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt; This is the second integer overflow in 2.1.5. Kind of a painful thing to test for in a blackbox way, but we have documented limits that are greater than what we are apparently testing for things like sstable size. I suppose size in bytes &amp;gt; Integer is something that can happen now. Size in units (where units are multi-byte things) is probably a ways off.&lt;/p&gt;

&lt;p&gt;My take away is that we should probably have a ticket off of 9012 to test with all the compaction strategies and with and without compression tables and partitions &amp;gt; Integer?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12727925" name="0001-9235.patch" size="1460" author="marcuse" created="Fri, 24 Apr 2015 14:43:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dpsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12329381">2.1.4</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>carlyeks</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[carlyeks]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>