<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:16:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1238] Cassandra AVRO api is missing system_add_column_family</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1238</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The cassandra.avpr does contain the method system_add_keyspace but is missing the system_add_column_family.&lt;/p&gt;

&lt;p&gt;Workaround: have to revert to the thrift API to create column families.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OSX 10.6.4, Cassandra Trunk, Rev. 958403, java 1.6.0_20&lt;/p&gt;</environment>
        <key id="12468180">CASSANDRA-1238</key>
            <summary>Cassandra AVRO api is missing system_add_column_family</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="toulmean">Antoine Toulme</assignee>
                                    <reporter username="next2you">Christian van der Leeden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jun 2010 17:45:25 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:21 +0000</updated>
                            <resolved>Fri, 20 Aug 2010 21:37:24 +0000</resolved>
                                        <fixVersion>0.7 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12883631" author="urandom" created="Tue, 29 Jun 2010 18:08:38 +0000"  >&lt;p&gt;Avro support is in-progress and considered experimental. There are still a number of unimplemented RPC methods.&lt;/p&gt;

&lt;p&gt;That said, you can create column families and keyspaces at once using &lt;tt&gt;system_add_keyspace&lt;/tt&gt; but supplying a list of CfDefs (see the system tests for an example of this).&lt;/p&gt;</comment>
                            <comment id="12898488" author="toulmean" created="Sat, 14 Aug 2010 00:56:12 +0000"  >&lt;p&gt;Here is a patch that adds this method. It adds the method to the Avro API by patching the Avro protocol and implements the method on CassandraServer, mostly by copy/pasting the code from add_system_keyspace, and using the AddColumnFamily migration to apply the change.&lt;/p&gt;

&lt;p&gt;I could not find the tests you were referring to. I would be much more comfortable if that patch came with tests, but I could not spot them in the source code. If you would be so kind as to give me their location, I&apos;d happily contribute tests for this change.&lt;/p&gt;</comment>
                            <comment id="12898502" author="urandom" created="Sat, 14 Aug 2010 01:48:41 +0000"  >&lt;p&gt;First off, thanks for taking the time to work on this.&lt;/p&gt;

&lt;p&gt;As for the patch, it would be better to model this method after the corresponding one in the Thrift version of CassandraServer, instead of add_system_keyspace().&lt;/p&gt;

&lt;p&gt;The tests for this are written in Python and can be found in test/system/test_avro_server.py (let me know if you need help with this).&lt;/p&gt;</comment>
                            <comment id="12898590" author="toulmean" created="Sat, 14 Aug 2010 14:27:40 +0000"  >&lt;p&gt;Thanks Eric. I will rework the patch to follow Thrift, and will look at the python tests.&lt;/p&gt;</comment>
                            <comment id="12900590" author="toulmean" created="Fri, 20 Aug 2010 06:45:20 +0000"  >&lt;p&gt;Here is a second patch that brings a few new methods to the Avro API. It should cover quite a bit. All tests pass.&lt;/p&gt;

&lt;p&gt;This patch is made against the current trunk and ready for review. Enjoy!&lt;/p&gt;</comment>
                            <comment id="12900867" author="urandom" created="Fri, 20 Aug 2010 21:34:10 +0000"  >&lt;p&gt;002-&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1238&quot; title=&quot;Cassandra AVRO api is missing system_add_column_family&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1238&quot;&gt;&lt;del&gt;CASSANDRA-1238&lt;/del&gt;&lt;/a&gt;&lt;del&gt;errata.patch is just here to document the changes I made ontop of 002&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1238&quot; title=&quot;Cassandra AVRO api is missing system_add_column_family&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1238&quot;&gt;&lt;del&gt;CASSANDRA-1238&lt;/del&gt;&lt;/a&gt;.patch.  This has been committed as one changeset.&lt;/p&gt;</comment>
                            <comment id="12900868" author="urandom" created="Fri, 20 Aug 2010 21:37:24 +0000"  >&lt;p&gt;This has been committed with a few changes.  Some of these changes were for conformance with our coding conventions (brace placement, etc), some where normative, but all of them were minor. &lt;/p&gt;

&lt;p&gt;See 002-&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1238&quot; title=&quot;Cassandra AVRO api is missing system_add_column_family&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1238&quot;&gt;&lt;del&gt;CASSANDRA-1238&lt;/del&gt;&lt;/a&gt;-errata.patch for the specific edits I made.&lt;/p&gt;

&lt;p&gt;Thanks Antoine!&lt;/p&gt;</comment>
                            <comment id="12901014" author="hudson" created="Sat, 21 Aug 2010 11:14:35 +0000"  >&lt;p&gt;Integrated in Cassandra #518 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/518/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/518/&lt;/a&gt;)&lt;br/&gt;
    several new avro rpc method implementations&lt;/p&gt;

&lt;p&gt;Patch by Antoine Toulme w/ some changes by eevans for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1238&quot; title=&quot;Cassandra AVRO api is missing system_add_column_family&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1238&quot;&gt;&lt;del&gt;CASSANDRA-1238&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452073" name="001-CASSANDRA-1238.patch" size="4880" author="toulmean" created="Sat, 14 Aug 2010 00:56:11 +0000"/>
                            <attachment id="12452668" name="002-CASSANDRA-1238-errata.patch" size="13277" author="urandom" created="Fri, 20 Aug 2010 21:34:10 +0000"/>
                            <attachment id="12452609" name="002-CASSANDRA-1238.patch" size="18825" author="toulmean" created="Fri, 20 Aug 2010 06:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[toulmean]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g3u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>urandom</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[urandom]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>