<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:15:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-15666] Race condition when completing stream sessions</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-15666</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;tt&gt;StreamSession#prepareAsync()&lt;/tt&gt; executes, as the name implies, asynchronously from the IO thread: this opens up for race conditions between the sending of the &lt;tt&gt;PrepareSynAckMessage&lt;/tt&gt; and the call to &lt;tt&gt;StreamSession#maybeCompleted()&lt;/tt&gt;. I.e., the following could happen:&lt;br/&gt;
1) Node A sends &lt;tt&gt;PrepareSynAckMessage&lt;/tt&gt; from the &lt;tt&gt;prepareAsync()&lt;/tt&gt; thread.&lt;br/&gt;
2) Node B receives it and starts streaming.&lt;br/&gt;
3) Node A receives the streamed file and sends &lt;tt&gt;ReceivedMessage&lt;/tt&gt;.&lt;br/&gt;
4) At this point, if this was the only file to stream, both nodes are ready to close the session via &lt;tt&gt;maybeCompleted()&lt;/tt&gt;, but:&lt;br/&gt;
a) Node A will call it twice from both the IO thread and the thread at #1, closing the session and its channels.&lt;br/&gt;
b) Node B will attempt to send a &lt;tt&gt;CompleteMessage&lt;/tt&gt;, but will fail because the session has been closed in the meantime.&lt;/p&gt;

&lt;p&gt;There are other subtle variations of the pattern above, depending on the order of concurrently sent/received messages.&lt;/p&gt;

&lt;p&gt;I believe the best fix would be to modify the message exchange so that:&lt;br/&gt;
1) Only the &quot;follower&quot; is allowed to send the &lt;tt&gt;CompleteMessage&lt;/tt&gt;.&lt;br/&gt;
2) Only the &quot;initiator&quot; is allowed to close the session and its channels after receiving the &lt;tt&gt;CompleteMessage&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;By doing so, the message exchange logic would be easier to reason about, which is overall a win anyway.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13294242">CASSANDRA-15666</key>
            <summary>Race condition when completing stream sessions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jasonstack">Zhao Yang</assignee>
                                    <reporter username="sbtourist">Sergio Bossa</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 26 Mar 2020 16:31:44 +0000</created>
                <updated>Mon, 21 Dec 2020 08:08:25 +0000</updated>
                            <resolved>Fri, 24 Apr 2020 09:49:49 +0000</resolved>
                                        <fixVersion>4.0-beta1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/Streaming and Messaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17068591" author="jasonstack" created="Fri, 27 Mar 2020 11:40:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;4) At this point, if this was the only file to stream, both nodes are ready to close the session via maybeCompleted(), but:&lt;br/&gt;
 a) Node A will call it twice from both the IO thread and the thread at #1, closing the session and its channels.&lt;br/&gt;
 b) Node B will attempt to send a CompleteMessage, but will fail because the session has been closed in the meantime.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This can be reproduced by delaying &lt;tt&gt;maybeComplete&lt;/tt&gt; in &lt;tt&gt;prepareAsync&lt;/tt&gt; until requests/transfers are empty at follower side.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I believe the best fix would be to modify the message exchange so that:&lt;br/&gt;
 1) Only the &quot;follower&quot; is allowed to send the CompleteMessage.&lt;br/&gt;
 2) Only the &quot;initiator&quot; is allowed to close the session and its channels after receiving the CompleteMessage.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Above points will definitely make streaming state easier to reason. But they may not be sufficient, it&apos;s still possible to send 2 CompleteMessage by follower when &lt;tt&gt;maybeComplete()&lt;/tt&gt; in &lt;tt&gt;prepareAsync()&lt;/tt&gt; is delayed and race with &lt;tt&gt;maybeComplete()&lt;/tt&gt; in &lt;tt&gt;taskCompleted()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;1) Follower sends&#160;&lt;tt&gt;PrepareSynAckMessage&lt;/tt&gt;&#160;from the&#160;&lt;tt&gt;prepareAsync()&lt;/tt&gt;&#160;thread and &lt;tt&gt;maybeComplete()&lt;/tt&gt; is delayed.&lt;br/&gt;
2) Initiator receives it and starts streaming.&lt;br/&gt;
3) Follower receives the streamed files and sends&#160;&lt;tt&gt;ReceivedMessage&lt;/tt&gt;.&lt;br/&gt;
4) Follower receives all streamed files and triggers&#160;&lt;tt&gt;maybeComplete()&lt;/tt&gt; in &lt;tt&gt;taskCompleted&lt;/tt&gt;&lt;br/&gt;
5) Follower will send 2 &lt;tt&gt;CompleteMessage&lt;/tt&gt; because of step 1) and step 4)&lt;br/&gt;
 &#160;&lt;br/&gt;
 I think we also need to enhance synchronization on state transition and sending CompleteMessage. WDYT?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17068663" author="sbtourist" created="Fri, 27 Mar 2020 12:57:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;it&apos;s still possible to send 2 CompleteMessage by follower when maybeComplete() in prepareAsync() is delayed and race with maybeComplete() in taskCompleted().&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Correct. I agree the overall thread safety of &lt;tt&gt;StreamSession&lt;/tt&gt; should be fixed.&lt;/p&gt;</comment>
                            <comment id="17070970" author="jasonstack" created="Mon, 30 Mar 2020 13:42:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;1) Only the &quot;follower&quot; is allowed to send the CompleteMessage.&lt;br/&gt;
 2) Only the &quot;initiator&quot; is allowed to close the session and its channels after receiving the CompleteMessage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;At the end, I reverted the above implementation, as I think it doesn&apos;t fix the racy cases here. Improving synchronization on &quot;maybeCompleted()&quot; should be sufficient to avoid the StreamSession racy cases and less invasive for 4.0..&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/497&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Patch&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Make sure &lt;tt&gt;maybeCompleted()&lt;/tt&gt; is executed at most once as it may be triggered by different threads asynchronously.&lt;/li&gt;
	&lt;li&gt;Synchronize &lt;tt&gt;maybeCompleted()&lt;/tt&gt; so that it won&apos;t race with itself or &lt;tt&gt;complete()&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Added &lt;tt&gt;MessageStateSink&lt;/tt&gt;&#160;in &lt;tt&gt;StreamSession&lt;/tt&gt; to capture received stream messages and state transitions to improve testing.&lt;/li&gt;
	&lt;li&gt;Unified terminologies to use &lt;tt&gt;Initiator&lt;/tt&gt; and &lt;tt&gt;Follower&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Ported some simplifications from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15754&quot; title=&quot;YamlConfigurationLoader swallows a real exception and exposes a misleading exception message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15754&quot;&gt;CASSANDRA-15754&lt;/a&gt; here:
	&lt;ul&gt;
		&lt;li&gt;Simplify StreamSession with State.isFinalState&lt;/li&gt;
		&lt;li&gt;Remove unused StreamSession from StreamMessage.Serializer.deserialize&lt;/li&gt;
		&lt;li&gt;Change QueryState to use ClientState instead of clientState&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sbtourist&quot; class=&quot;user-hover&quot; rel=&quot;sbtourist&quot;&gt;sbtourist&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="17073052" author="michaelsembwever" created="Wed, 1 Apr 2020 18:05:15 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;circleci&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...jasonstack:CASSANDRA-15666-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk_15666&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/jasonstack/workflows/cassandra/tree/CASSANDRA-15666-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;circleci&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/9/badge/icon&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17073831" author="sbtourist" created="Thu, 2 Apr 2020 15:37:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; your fix looks good, just left a few minor comments on the PR. Regarding the changes to the &lt;tt&gt;CompleteMessage&lt;/tt&gt; exchange, I still think that&apos;d be a win regardless if the race is fixed in a different way, as the current implementation makes it harder to reason about its correctness (which means it could be prone to other races), but I also understand we want to limit the scope of changes to 4.0, so not pushing hard for it.&lt;/p&gt;</comment>
                            <comment id="17074405" author="jasonstack" created="Fri, 3 Apr 2020 08:32:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Regarding the changes to the CompleteMessage exchange, I still think that&apos;d be a win regardless if the race is fixed in a different way&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let&apos;s see what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; has to say..&lt;/p&gt;</comment>
                            <comment id="17077478" author="sbtourist" created="Tue, 7 Apr 2020 18:02:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Let&apos;s see what&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;&#160;has to say&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Let&apos;s not delay this fix further, unless &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;&#160;really wants to chime in?&lt;/p&gt;</comment>
                            <comment id="17078313" author="blerer" created="Wed, 8 Apr 2020 14:06:38 +0000"  >&lt;p&gt;I put some comments on the PR.&lt;br/&gt;
It is always easier to fix some problems in major versions as there are less constraints during upgrades. So unless we believe that it will take a long time, it is probably better to fix it in the scope of that ticket.&lt;/p&gt;</comment>
                            <comment id="17078472" author="jasonstack" created="Wed, 8 Apr 2020 16:36:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;1) Only the &quot;follower&quot; is allowed to send the CompleteMessage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;2) Only the &quot;initiator&quot; is allowed to close the session and its channels after receiving the CompleteMessage.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sbtourist&quot; class=&quot;user-hover&quot; rel=&quot;sbtourist&quot;&gt;sbtourist&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; I have addressed review feedback and include above modification. do you mind having a look?&lt;/p&gt;

&lt;p&gt;can you also trigger on apache CI? thanks&lt;/p&gt;</comment>
                            <comment id="17079527" author="sbtourist" created="Thu, 9 Apr 2020 16:22:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt;&#160;thanks for the followups, sent another round of comments.&lt;/p&gt;</comment>
                            <comment id="17080380" author="jasonstack" created="Fri, 10 Apr 2020 09:42:01 +0000"  >&lt;p&gt;Found some bootstrap dtest failures.. looking into them&lt;/p&gt;</comment>
                            <comment id="17081858" author="jasonstack" created="Sun, 12 Apr 2020 17:06:33 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/497&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Previous changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Synchronization on &quot;StreamSession#maybeComplete()&quot; to avoid race condition on streaming completion.&lt;/li&gt;
	&lt;li&gt;Only the &quot;follower&quot; is allowed to send the CompleteMessage.&lt;/li&gt;
	&lt;li&gt;Only the &quot;initiator&quot; is allowed to close the session and its channels after receiving the CompleteMessage.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;New changes to fix dtest failures:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;NettyStreamingMessageSender:
	&lt;ul&gt;
		&lt;li&gt;don&apos;t close channels in NettyStreamingMessageSender, as they will be closed by initator on &quot;closeSession()&quot;&lt;/li&gt;
		&lt;li&gt;handle fileTransferExecutor pool shutdown gracefully in case of ClosedByInterruptException&lt;/li&gt;
		&lt;li&gt;only include inbound handler for initiator&apos;s control channel&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;ChannelProxy:
	&lt;ul&gt;
		&lt;li&gt;Use new &quot;ChannelProxy&quot; instance instead of shared copy in stream writer to prevent interruped thread closing backing channel&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;StreamSession: close session if channel is closed due to EOF from &quot;StreamingInboundHandler&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;OutboundConnection: fix OutboundConnection.id() to use proper remote/local address&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Preview repair:
	&lt;ul&gt;
		&lt;li&gt;Move follower&apos;s &quot;completePreview()&quot; from &quot;prepareAck()&quot; to &quot;prepareAsync()&quot; because initiator will close connection via &quot;completePreview()&quot; on &quot;prepareSynAck()&quot;. Without this change, preview_repair_test.py will fail because initiator closes channels before follower moving to final state and follower &quot;StreamSession&quot; will log some error upon EOF.&lt;/li&gt;
		&lt;li&gt;In case of preview, do not send &quot;PrepareAckMessage&quot; to follower, as follower has already closed stream session on &quot;prepareAsync()&quot;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Dtest: include &quot;Socket closed before session completion&quot; into&#160;&lt;tt&gt;ignore_log_patterns in &quot;repair_test.py::TestRepair::test_dead_sync_participant&quot;&lt;/tt&gt;, it&apos;s logged when stream session was closed upon EOF due to node down.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17086500" author="jasonstack" created="Sat, 18 Apr 2020 15:31:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://circleci.com/workflow-run/6c6a2866-def9-469e-a7b0-a9e0cb414db6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt; looks good, no related failures.&lt;/p&gt;</comment>
                            <comment id="17087966" author="sbtourist" created="Mon, 20 Apr 2020 17:46:10 +0000"  >&lt;p&gt;Good to merge for me.&lt;/p&gt;</comment>
                            <comment id="17090579" author="blerer" created="Thu, 23 Apr 2020 12:35:15 +0000"  >&lt;p&gt;It looks good to me.&lt;br/&gt;
Thanks for the patch and the reviews &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sbtourist&quot; class=&quot;user-hover&quot; rel=&quot;sbtourist&quot;&gt;sbtourist&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17091402" author="blerer" created="Fri, 24 Apr 2020 09:49:49 +0000"  >&lt;p&gt;Patch committed into trunk at 9f6fcc340d89eecc000765f6ab93e862f53a02d9&lt;br/&gt;
DTest committed into master at fdc800cc716b465a335b10230481866cf598110a&lt;/p&gt;</comment>
                            <comment id="17091412" author="jasonstack" created="Fri, 24 Apr 2020 09:56:55 +0000"  >&lt;p&gt;thanks for the review and feedback~&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jasonstack]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12987" cascade-level="1"><![CDATA[Transient Incorrect Response]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cy20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
        <customfieldvalue><![CDATA[sbtourist]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346093">4.0-alpha</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314136" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/9f6fcc340d89eecc000765f6ab93e862f53a02d9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/cassandra-dtest/commit/fdc800cc716b465a335b10230481866cf598110a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Added interceptor to verify stream messages and state transition.&lt;/p&gt;

&lt;p&gt;&#160;CI: &lt;a href=&quot;https://circleci.com/workflow-run/4d524604-99f8-4c74-b24a-b31e63bce063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://circleci.com/workflow-run/4d524604-99f8-4c74-b24a-b31e63bce063&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160; dtest failure &quot;repair_test.py&quot; is fixed in&#160;&lt;a href=&quot;https://github.com/apache/cassandra-dtest/pull/63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-dtest/pull/63&lt;/a&gt;&lt;br/&gt;
 &#160;&lt;br/&gt;
&#160;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>