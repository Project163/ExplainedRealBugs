<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4764] Clean out STREAM_STAGE vestiges</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4764</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Currently it appears as though bulk loading operations don&apos;t run in any stage. Seems like they should be running in STREAM_STAGE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610366">CASSANDRA-4764</key>
            <summary>Clean out STREAM_STAGE vestiges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="nickmbailey">Nick Bailey</reporter>
                        <labels>
                            <label>streaming</label>
                    </labels>
                <created>Thu, 4 Oct 2012 17:46:27 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:26 +0000</updated>
                            <resolved>Tue, 23 Oct 2012 14:57:58 +0000</resolved>
                                        <fixVersion>1.2.0 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13469699" author="jbellis" created="Thu, 4 Oct 2012 21:07:14 +0000"  >&lt;p&gt;Looks like post-&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3494&quot; title=&quot;Streaming is mono-threaded (the bulk loader too by extension)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3494&quot;&gt;&lt;del&gt;CASSANDRA-3494&lt;/del&gt;&lt;/a&gt; Stage.STREAM is obsolete, since MessagingService has a per-target Executor for streams.  Patch attached to clean out the vestiges.&lt;/p&gt;</comment>
                            <comment id="13469714" author="nickmbailey" created="Thu, 4 Oct 2012 21:13:12 +0000"  >&lt;p&gt;So the reason i noticed this is because we bulk loads weren&apos;t showing up in the stream stage mbean. It sounds like nothing will show up there though. Removing the stage is good so that the mbean doesn&apos;t show up at all anymore but should we make a ticket to expose similar stats from messaging service?&lt;/p&gt;

&lt;p&gt;I guess the only thing that mbean provided that the streaming service mbean doesn&apos;t is completed tasks. So maybe just add a counter there?&lt;/p&gt;</comment>
                            <comment id="13469722" author="jbellis" created="Thu, 4 Oct 2012 21:22:16 +0000"  >&lt;p&gt;Do we need it?  Would we count sessions or files or ranges?&lt;/p&gt;</comment>
                            <comment id="13469730" author="nickmbailey" created="Thu, 4 Oct 2012 21:29:55 +0000"  >&lt;p&gt;Well just the number of completed tasks probably isn&apos;t particularly useful you are right.&lt;/p&gt;

&lt;p&gt;I feel like we need some additional tracking around streaming though. Currently if streaming fails mid stream for bootstrap or move or decom and the like there isn&apos;t necessarily any indication that something went wrong unless you examine the logs. So more useful woud be successful count and failed count on a per session basis or something like that.&lt;/p&gt;

&lt;p&gt;That is perhaps best decided in a different ticket though.&lt;/p&gt;</comment>
                            <comment id="13469746" author="jbellis" created="Thu, 4 Oct 2012 21:41:06 +0000"  >&lt;p&gt;Yeah, it sounds like we&apos;re not really sure what we need.  Maybe just return session id to the user so they can ask &quot;hey, how&apos;s session X doing?&quot;&lt;/p&gt;</comment>
                            <comment id="13481556" author="yukim" created="Mon, 22 Oct 2012 17:58:37 +0000"  >&lt;p&gt;For removing STREAM stage, +1.&lt;br/&gt;
Attached patch seems against 1.1 and contains diff from different issue though.&lt;/p&gt;</comment>
                            <comment id="13481672" author="jbellis" created="Mon, 22 Oct 2012 19:14:51 +0000"  >&lt;p&gt;clean v2 attached against trunk&lt;/p&gt;</comment>
                            <comment id="13481724" author="yukim" created="Mon, 22 Oct 2012 19:50:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13481821" author="jbellis" created="Mon, 22 Oct 2012 21:29:08 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13482331" author="slebresne" created="Tue, 23 Oct 2012 14:00:11 +0000"  >&lt;p&gt;That has completely broke bootstrap by removing Verb.STREAM_REQUEST from the list of known verbs in MessagingService (and StreamRequests were executed on teh stream stage, which we can change I suppose).&lt;/p&gt;</comment>
                            <comment id="13482349" author="jbellis" created="Tue, 23 Oct 2012 14:13:17 +0000"  >&lt;p&gt;Reverted.&lt;/p&gt;</comment>
                            <comment id="13482350" author="jbellis" created="Tue, 23 Oct 2012 14:15:34 +0000"  >&lt;p&gt;v3 attached w/ fix.&lt;/p&gt;</comment>
                            <comment id="13482372" author="yukim" created="Tue, 23 Oct 2012 14:52:30 +0000"  >&lt;p&gt;+1&lt;br/&gt;
(StreamReply is actually not handled in MISC stage but in FileStreamTask and streamExecutor now, but let&apos;s leave it here for later fix.)&lt;/p&gt;</comment>
                            <comment id="13482377" author="jbellis" created="Tue, 23 Oct 2012 14:57:58 +0000"  >&lt;p&gt;committed, w/ comment for STREAM_REPLY&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550338" name="4764-v2.txt" size="3631" author="jbellis" created="Mon, 22 Oct 2012 19:14:51 +0000"/>
                            <attachment id="12550465" name="4764-v3.txt" size="3768" author="jbellis" created="Tue, 23 Oct 2012 14:15:34 +0000"/>
                            <attachment id="12547824" name="4764.txt" size="4558" author="jbellis" created="Thu, 4 Oct 2012 21:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i013mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>