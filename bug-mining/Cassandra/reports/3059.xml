<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:47:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7222] cqlsh does not wait for tracing to complete before printing</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7222</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;cqlsh currently sleeps 0.5 seconds before fetching trace info.  Instead, it should fetch the &lt;tt&gt;system_traces.sessions&lt;/tt&gt; row in a loop until the &lt;tt&gt;duration&lt;/tt&gt; column is set (maybe with a total timeout of 30s).  After the &lt;tt&gt;duration&lt;/tt&gt; column is set, it&apos;s safe to fetch the rows from &lt;tt&gt;system_traces.events&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This is already fixed in 2.1 by the switch to the python driver, we just need to fix 2.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713966">CASSANDRA-7222</key>
            <summary>cqlsh does not wait for tracing to complete before printing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mishail">Mikhail Stepura</assignee>
                                    <reporter username="thobbs">Tom Hobbs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2014 18:19:34 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:45 +0000</updated>
                            <resolved>Fri, 15 Aug 2014 21:57:46 +0000</resolved>
                                        <fixVersion>2.0.10</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13999587" author="mishail" created="Fri, 16 May 2014 04:16:43 +0000"  >&lt;p&gt;We can&apos;t fully rely on &lt;tt&gt;duration&lt;/tt&gt;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6317&quot; title=&quot;cqlsh should handle &amp;#39;null&amp;#39; as session duration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6317&quot;&gt;&lt;del&gt;CASSANDRA-6317&lt;/del&gt;&lt;/a&gt;, but I&apos;ll take a look what can be improved.&lt;/p&gt;</comment>
                            <comment id="14000093" author="thobbs" created="Fri, 16 May 2014 18:23:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mishail&quot; class=&quot;user-hover&quot; rel=&quot;mishail&quot;&gt;mishail&lt;/a&gt; we &lt;em&gt;can&lt;/em&gt; rely on duration being set one the request is complete (from the coordinator&apos;s perspective).  In the case of timeouts, it&apos;s true that events can be added after &lt;tt&gt;duration&lt;/tt&gt; is already set, but cqlsh has no way of knowing it should wait for those (or how long, etc), and they&apos;re not terribly important.  Retrying the fetch until &lt;tt&gt;duration&lt;/tt&gt; is set should be sufficient.&lt;/p&gt;</comment>
                            <comment id="14000256" author="mishail" created="Fri, 16 May 2014 20:27:51 +0000"  >&lt;p&gt;OK, will do that&lt;/p&gt;</comment>
                            <comment id="14096080" author="mishail" created="Wed, 13 Aug 2014 20:39:27 +0000"  >&lt;p&gt;Attaching a patch to wait up to 3 sec with 0.5 sec interval&lt;/p&gt;</comment>
                            <comment id="14099199" author="thobbs" created="Fri, 15 Aug 2014 21:40:37 +0000"  >&lt;p&gt;+1, but I would go with 10 seconds instead of 3 (to match the default in 2.1).&lt;/p&gt;</comment>
                            <comment id="14099228" author="mishail" created="Fri, 15 Aug 2014 21:57:46 +0000"  >&lt;p&gt;Committed with defaults changed to 10 sec. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12661535" name="CASSANDRA-2.0-7222.patch" size="4485" author="mishail" created="Wed, 13 Aug 2014 20:39:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mishail]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vk0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12323243">1.2.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>