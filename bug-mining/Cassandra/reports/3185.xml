<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:48:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8105] NPE for null embedded UDT inside set</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8105</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;An NPE is thrown parsing an INSERT statement when a embedded UDT inside another UDT is set to null inside a set.&lt;br/&gt;
This sounds very convoluted, but the examples below will hopefully make it clear...&lt;/p&gt;

&lt;p&gt;With the following definitions:&lt;br/&gt;
CREATE TYPE ut1 (a int, b int);&lt;br/&gt;
CREATE TYPE ut2 (j frozen&amp;lt;ut1&amp;gt;, k int);&lt;br/&gt;
CREATE TYPE ut3 (i int, j frozen&amp;lt;ut1&amp;gt;);&lt;br/&gt;
CREATE TABLE tab1 (x int PRIMARY KEY, y set&amp;lt;frozen&amp;lt;ut2&amp;gt;&amp;gt;);&lt;br/&gt;
CREATE TABLE tab2 (x int PRIMARY KEY, y list&amp;lt;frozen&amp;lt;ut2&amp;gt;&amp;gt;);&lt;br/&gt;
CREATE TABLE tab3 (x int PRIMARY KEY, y set&amp;lt;frozen&amp;lt;ut3&amp;gt;&amp;gt;);&lt;/p&gt;

&lt;p&gt;This query throws a NullPointerException:&lt;br/&gt;
INSERT INTO tab1 (x, y) VALUES (1, { &lt;/p&gt;
{ k: 1 }
&lt;p&gt; });&lt;/p&gt;

&lt;p&gt;These however doesn&apos;t:&lt;br/&gt;
INSERT INTO tab2 (x, y) VALUES (1, [ &lt;/p&gt;
{ k: 1 }
&lt;p&gt; ]);&lt;br/&gt;
INSERT INTO tab3 (x, y) VALUES (1, { &lt;/p&gt;
{ i: 1 }
&lt;p&gt; });&lt;/p&gt;

&lt;p&gt;So, the bug seems to be triggered only when the UDT is in a set, lists are fine. If the embedded UDT is after the value specified in the query, the bug  doesn&apos;t seem to trigger.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12747585">CASSANDRA-8105</key>
            <summary>NPE for null embedded UDT inside set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="snazy">Robert Stupp</assignee>
                                    <reporter username="aketskes1">Andy Ketskes</reporter>
                        <labels>
                            <label>cql</label>
                    </labels>
                <created>Sun, 12 Oct 2014 14:48:09 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:31 +0000</updated>
                            <resolved>Wed, 15 Oct 2014 18:50:14 +0000</resolved>
                                        <fixVersion>2.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14168678" author="snazy" created="Sun, 12 Oct 2014 15:17:05 +0000"  >&lt;p&gt;trivial fix for this&lt;/p&gt;</comment>
                            <comment id="14172762" author="thobbs" created="Wed, 15 Oct 2014 18:50:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Committed with minor whitespace fixes and merged test cases as f6ea46e.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12674418" name="8105.txt" size="2626" author="snazy" created="Sun, 12 Oct 2014 15:17:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[snazy]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i212x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327256">2.1.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>