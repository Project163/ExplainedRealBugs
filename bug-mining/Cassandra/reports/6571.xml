<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:31:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19105] Fix CQLSH Capture to save query results only and not trace details when Tracing is on</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19105</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When using &lt;b&gt;Tracing&lt;/b&gt; in CQLSH, it&apos;s sometimes helpful to use &lt;b&gt;Capture&lt;/b&gt; to avoid paging through output when you want to see the trace results.&#160; However, the trace results are also incorrectly captured to the output file.&lt;/p&gt;

&lt;p&gt;According to &lt;b&gt;Help Capture&lt;/b&gt; (below), only the query result should be saved. The correct behavior should display the trace results and only capture the query results.&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; &lt;em&gt;Help capture message&lt;/em&gt;:&#160; Only query result output is captured. Errors and output from cqlsh-only commands will still be shown in the cqlsh session.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; TRACING ON;&lt;/p&gt;

&lt;p&gt;&amp;gt; select * from system_schema.columns LIMIT 1;&lt;/p&gt;

&lt;p&gt;&amp;gt; CAPTURE &apos;foo&apos;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;this should display only the tracing information&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; CAPTURE OFF&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;displays results and then the tracing&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; TRACING OFF&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;displays only the results&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559610">CASSANDRA-19105</key>
            <summary>Fix CQLSH Capture to save query results only and not trace details when Tracing is on</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gautamg">Gautam G</assignee>
                                    <reporter username="bschoeni">Brad Schoening</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Nov 2023 20:26:56 +0000</created>
                <updated>Wed, 20 Nov 2024 22:32:56 +0000</updated>
                            <resolved>Wed, 20 Nov 2024 21:02:34 +0000</resolved>
                                        <fixVersion>5.1</fixVersion>
                                    <component>CQL/Interpreter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17790256" author="brandon.williams" created="Mon, 27 Nov 2023 20:32:21 +0000"  >&lt;p&gt;It&apos;s probably also beneficial to save the tracing session id, so you can pull the full trace again without re-running the query.&lt;/p&gt;</comment>
                            <comment id="17790338" author="bschoeni" created="Tue, 28 Nov 2023 02:08:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; yes, good point&lt;/p&gt;</comment>
                            <comment id="17800807" author="gautamg" created="Wed, 27 Dec 2023 15:06:47 +0000"  >&lt;p&gt;I would like to work on this issue, can I get some suggestions on what source files to look for etc., I can find there is a folder for Tracing in src/Services.&lt;br/&gt;
Thank you&lt;/p&gt;</comment>
                            <comment id="17800884" author="bschoeni" created="Wed, 27 Dec 2023 21:04:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; The Python logic is in tracing.py and the Shell class in cqlshmain.py. Tracing.print_tracing() and print_formatted_results() and uses shell.writeresults() . Shell.writeresults() sends the output to query_out.&#160; For tracing, this is wrong, because query_out may be stdout or it may be a output file.&lt;/p&gt;

&lt;p&gt;One option might be to add an optional flag or filedescriptor / stream to writeresults() and/or print_formated_result so the output goes to either query_out or stdout depending on the result type.&lt;/p&gt;</comment>
                            <comment id="17801057" author="gautamg" created="Thu, 28 Dec 2023 21:33:51 +0000"  >&lt;p&gt;Got it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; . So, we plan provide an option where we only capture the query output to the file and the trace output should be displayed in the shell. Correct me if I have understood it wrong.&#160;&lt;br/&gt;
Thank you.&lt;/p&gt;</comment>
                            <comment id="17801060" author="bschoeni" created="Thu, 28 Dec 2023 22:20:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160; Yes, but not an option. If you enable &apos;&lt;b&gt;capture&lt;/b&gt;&apos; for query output, you don&apos;t expect &lt;b&gt;trace&lt;/b&gt; output to be sent there.&#160; So the behavior for trace output should change to always go to stdio (which can be redirected at the Linux shell).&lt;/p&gt;</comment>
                            <comment id="17801260" author="gautamg" created="Fri, 29 Dec 2023 20:53:48 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; . I wanted to know if I make any changes to the code, how do I test it locally. Do we do ./bin/cqlsh. or do we have any other process.&lt;/p&gt;</comment>
                            <comment id="17801379" author="bschoeni" created="Sat, 30 Dec 2023 18:40:04 +0000"  >&lt;p&gt;Yes, to test locally, in the pylib/cqlshlib directory, simply run &apos;../../bin/cqlsh&apos;. To run the unit tests, you will need to have 5.0 alpha server installed and then from the pylib directory simply run &apos;pytest&apos;&lt;/p&gt;</comment>
                            <comment id="17801380" author="gautamg" created="Sat, 30 Dec 2023 18:45:05 +0000"  >&lt;p&gt;5.0 alpha server&#160; means I need to clone &lt;a href=&quot;https://github.com/apache/cassandra/tree/cassandra-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/tree/cassandra-5.0&lt;/a&gt;&#160; making necessary changes here and run pytest&lt;/p&gt;</comment>
                            <comment id="17801392" author="bschoeni" created="Sat, 30 Dec 2023 20:02:20 +0000"  >&lt;p&gt;Well, you&apos;ll need to clone &#160;&lt;a href=&quot;https://github.com/apache/cassandra/tree/cassandra-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra&lt;/a&gt; to make and test your changes, but&#160; download 5.0 from &lt;a href=&quot;https://cassandra.apache.org/_/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cassandra.apache.org/_/download.html&lt;/a&gt; and run the server.&lt;/p&gt;</comment>
                            <comment id="17801920" author="gautamg" created="Tue, 2 Jan 2024 20:22:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; i tried to make some changes&lt;br/&gt;
&lt;a href=&quot;https://github.com/GautamGottipati/cassandra/commit/4a1228f2721476db94d1bc3692a2a880b7099708?diff=split&amp;amp;w=0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some of the issues after these changes : 1) When we enable capture the self.color becomes false (line 1649 in qlshmain.py), due to this the trace is not colored when printed in shell( sysout) 2) There is some issue on printing Tracing session to the file. The Tracing session: does n&apos;t appear in the first run, it appears in the next runs.&lt;/p&gt;

&lt;p&gt;Wanted to know if I am on right track. Open for suggestions.&lt;br/&gt;
Thank you&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17802002" author="bschoeni" created="Wed, 3 Jan 2024 03:25:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; yes, looks ok.&#160; My view is that the color isn&apos;t too important. I don&apos;t understand issue #2.&lt;/p&gt;</comment>
                            <comment id="17802377" author="gautamg" created="Thu, 4 Jan 2024 03:11:21 +0000"  >&lt;p&gt;I need to check issue# 2 once in my end. &lt;br/&gt;
When I implemented the changes I expect Tracing session id to be printed in the file on capturing. When the query is given the first time the Tracing session id does appear, but appears in the file from the next runs.&#160;&#160;&lt;/p&gt;</comment>
                            <comment id="17846451" author="bschoeni" created="Tue, 14 May 2024 21:30:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; any update here?&lt;/p&gt;</comment>
                            <comment id="17846469" author="gautamg" created="Wed, 15 May 2024 00:26:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;These were my changes (&lt;a href=&quot;https://github.com/apache/cassandra/pull/3307).&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3307).&lt;/a&gt; I dint get a change to look at it later. Let me know if I can do anything. I am interested to take it.&lt;/p&gt;</comment>
                            <comment id="17846718" author="bschoeni" created="Wed, 15 May 2024 17:26:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; I added review comments in the PR&lt;/p&gt;</comment>
                            <comment id="17846722" author="gautamg" created="Wed, 15 May 2024 17:40:20 +0000"  >&lt;p&gt;Looking into it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17866150" author="bschoeni" created="Mon, 15 Jul 2024 18:47:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; Hi, just wanted to check if you&apos;re able to make progress here.&lt;/p&gt;</comment>
                            <comment id="17866153" author="gautamg" created="Mon, 15 Jul 2024 19:17:55 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, I was working on it, but I did not find any progress with color. I would like to be involved in this issue. &lt;a href=&quot;https://github.com/apache/cassandra/pull/3307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3307&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17866159" author="bschoeni" created="Mon, 15 Jul 2024 19:36:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; the PR was closed, and I don&apos;t see any changes in it anymore &amp;#8211; it says files change 0. Wondering if you still have the branch GautamGottipati:cassandra-5.0-capture-trace?&lt;/p&gt;</comment>
                            <comment id="17866167" author="gautamg" created="Mon, 15 Jul 2024 20:09:13 +0000"  >&lt;p&gt;I have the branch but I lost the changes while syncing. I will update my changes again by EOD.&lt;/p&gt;</comment>
                            <comment id="17866244" author="gautamg" created="Tue, 16 Jul 2024 06:30:04 +0000"  >&lt;p&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; , I have created a new pull request. (&lt;a href=&quot;https://github.com/apache/cassandra/pull/3425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3425&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17866636" author="gautamg" created="Wed, 17 Jul 2024 06:33:14 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, the latest changes work as expected, retaining the color when displaying to the terminal.&lt;/p&gt;

&lt;p&gt;When Capturing the traces are redirected to the terminal, the query output is saved to the file including the tracing session id. (&#160;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3425 &lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Open for suggestions.&lt;/p&gt;</comment>
                            <comment id="17874370" author="gautamg" created="Fri, 16 Aug 2024 19:09:04 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; can you review my changes and let me know if I need to make any changes.&lt;/p&gt;</comment>
                            <comment id="17874934" author="bschoeni" created="Mon, 19 Aug 2024 16:30:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; yes, I&apos;ll take a look...&lt;/p&gt;</comment>
                            <comment id="17875025" author="bschoeni" created="Tue, 20 Aug 2024 02:06:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; The output looks pretty good, and is pleasingly brief.&#160; But a few things:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The msg &quot;Tracing session: &amp;lt;uuid&amp;gt;&quot; should go to the terminal together with the tracing, not the output capture file.&#160;&lt;/li&gt;
	&lt;li&gt;Using &apos;CAPTURE OFF&apos;, didn&apos;t work, this may be a bug introduced by an earlier change.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17875036" author="gautamg" created="Tue, 20 Aug 2024 03:00:51 +0000"  >&lt;p&gt;Sure &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; I can remove the &quot;Tracing session&quot; from output capture. The reason to keep it was we could pull the full trace again without re-running the query as discussed at the start of this issue. Let me know if you want to change. I can do it.&lt;/p&gt;

&lt;p&gt;and ya forgot to mention that Capture Off wasn&apos;t working, I will look into it and fix it.&lt;/p&gt;</comment>
                            <comment id="17875184" author="bschoeni" created="Tue, 20 Aug 2024 13:28:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; regarding the traces session, were you suggesting that should go to the console with the trace output or to the file which is capturing the data output?&lt;/p&gt;

&lt;p&gt;It looks a little out of context in the data output file:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tracing session: ab8198f0-5e95-11ef-a9de-599298477fb2




 id &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | bytes_in | bytes_out | columnfamily_name &#160; | compacted_at&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; | keyspace_name | rows_merged
--------------------------------------+----------+-----------+---------------------+---------------------------------+---------------+--------------------
 c311f740-5e94-11ef-a9de-599298477fb2 |&#160; &#160; &#160; &#160; 0 | &#160; &#160; &#160; &#160; 0 |&#160; &#160; &#160; &#160; &#160; &#160; triggers | 2024-08-20 01:37:29.280000+0000 | system_schema | &#160; &#160; &#160; &#160; &#160; &#160; &#160; null
 c30992d0-5e94-11ef-a9de-599298477fb2 |&#160; &#160; 18593 |&#160; &#160; &#160; 7401 | &#160; &#160; &#160; &#160; &#160; &#160; columns | 2024-08-20 01:37:29.310000+0000 | system_schema | {1: 5, 2: 1, 3: 2}
 c3288c80-5e94-11ef-a9de-599298477fb2 |&#160; &#160; &#160; &#160; 0 | &#160; &#160; &#160; &#160; 0 | sstable_activity_v2 | 2024-08-20 01:37:29.432000+0000 |&#160; &#160; &#160; &#160; system | &#160; &#160; &#160; &#160; &#160; &#160; &#160; null
 c32223ea-5e94-11ef-a9de-599298477fb2 |&#160; &#160; &#160; &#160; 0 | &#160; &#160; &#160; &#160; 0 |&#160; &#160; sstable_activity | 2024-08-20 
 c32446c0-5e94-11ef-a9de-599298477fb2 |&#160; &#160; &#160; &#160; 0 | &#160; &#160; &#160; &#160; 0 | sstable_activity_v2 | 2024-08-20 01:37:29.401000+0000 |&#160; &#160; &#160; &#160; system | &#160; &#160; &#160; &#160; &#160; &#160; &#160; null


(5 rows)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17875186" author="brandon.williams" created="Tue, 20 Aug 2024 13:35:38 +0000"  >&lt;p&gt;I don&apos;t have a strong preference either way, the main thing is just that it&apos;s available if you want to grab the trace again without re-running it.&lt;/p&gt;</comment>
                            <comment id="17875206" author="bschoeni" created="Tue, 20 Aug 2024 14:32:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; Ok, that&apos;s fine, let&apos;s have the session ID in the terminal trace output.&#160; I&apos;d prefer the data output be somewhat easy to parse with Excel text import, cut, etc.&#160;&lt;/p&gt;</comment>
                            <comment id="17875309" author="gautamg" created="Tue, 20 Aug 2024 23:55:47 +0000"  >&lt;p&gt;Noted &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, do you want me to change the output to comma-separated format so that they can be easily parsed.&lt;/p&gt;</comment>
                            <comment id="17875314" author="bschoeni" created="Wed, 21 Aug 2024 00:24:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;, I wondered about that, but&#160; COPY TO can export data to a CSV file.&#160;&#160;&lt;/p&gt;

&lt;p&gt;psql has something similar, with \o used to output query results to a file in tabular, human readable, format, and COPY TO to export in CSV without whitespace formatting.&lt;/p&gt;</comment>
                            <comment id="17875344" author="gautamg" created="Wed, 21 Aug 2024 04:41:18 +0000"  >&lt;p&gt;Got it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; , will look into it.&lt;/p&gt;</comment>
                            <comment id="17876099" author="bschoeni" created="Thu, 22 Aug 2024 20:32:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; just 1) updating the session ID to be in the terminal trace output and 2) fixing CAPTURE OFF should be enough here IMHO.&lt;/p&gt;</comment>
                            <comment id="17876583" author="gautamg" created="Mon, 26 Aug 2024 05:42:32 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;&#160; done updating the session ID to be in the terminal trace output and pushed the changes.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;WIll be working on this now fixing CAPTURE OFF.&lt;/p&gt;</comment>
                            <comment id="17879416" author="gautamg" created="Thu, 5 Sep 2024 04:14:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, CAPTURE OFF works fine now. Made necessary corrections. Let me know if anything needs to be changed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17883380" author="bschoeni" created="Fri, 20 Sep 2024 19:04:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160; great!, let me re-test this.&lt;/p&gt;</comment>
                            <comment id="17885206" author="bschoeni" created="Fri, 27 Sep 2024 03:57:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160; great, it appears to work fine now.&#160; Looks really very nice!&lt;/p&gt;

&lt;p&gt;However the one line of logic in cqlshmain.py is a bit hard to follow. I&apos;ve been wondering if CAPTURE ON/OFF/Str should use the SwitchState class and add a new on_off_switch_with_str_value.&lt;/p&gt;

&lt;p&gt;If this is simple, and elegant, it would be good to do.&#160; But if it&apos;s not so easy, we should consider raising that as a separate Jira and not delay this current fix of a rather troublesome bug.&lt;/p&gt;</comment>
                            <comment id="17885218" author="gautamg" created="Fri, 27 Sep 2024 05:48:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; Thank you.&lt;/p&gt;

&lt;p&gt;I feel we should create separate Jira for the Capture ON/OFF. I will take it and work on it.&lt;/p&gt;</comment>
                            <comment id="17886277" author="bschoeni" created="Tue, 1 Oct 2024 21:07:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; ok, can you link the PR URL as an attachment and click submit patch.&#160; Confirm that you&apos;ve ran the pytests and pycodestyle (on the files modified).&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;$ pycodestyle --ignore E501,E402,E731,W503 cqlshlib/*.py&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17887742" author="gautamg" created="Wed, 9 Oct 2024 02:10:32 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; , I didn&apos;t check your message. I didn&apos;t run any playtests. Could you please tell me if I just need to run the pytest command in the terminal so that it will check or if I need to do anything else?&lt;/p&gt;</comment>
                            <comment id="17888067" author="bschoeni" created="Wed, 9 Oct 2024 21:42:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; an overview is on &lt;a href=&quot;https://github.com/apache/cassandra/tree/trunk/pylib&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/tree/trunk/pylib&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ensure you have Cassandra 5.0 or 5.1 installed and run pytest from pylib/cqlshlib.&#160; There may be some ignorable errors, generally, you can run it against trunk and then your branch and compare differences.&lt;/p&gt;</comment>
                            <comment id="17889251" author="gautamg" created="Mon, 14 Oct 2024 14:52:10 +0000"  >&lt;p&gt;Noted&lt;/p&gt;</comment>
                            <comment id="17891730" author="gautamg" created="Tue, 22 Oct 2024 05:58:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, I did the test. Is this the report that we expect. &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13072347/13072347_test_results.txt&quot; title=&quot;test_results.txt attached to CASSANDRA-19105&quot;&gt;test_results.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;I followed following steps:&lt;/sup&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;CQL_TEST_HOST, default 127.0.0.1&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;CQL_TEST_PORT, default 9042&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;CQL_TEST_USER, default &apos;cassandra&apos;&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;pip install cassandra-driver&lt;/li&gt;
	&lt;li&gt;in pylib/cqlshlib I ran pytest, the file attached was the result.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Is this how we are supposed to do.&#160;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17894401" author="bschoeni" created="Thu, 31 Oct 2024 02:43:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; you need to install wcwidth&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;pip install wcwidth&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I ran the following:&lt;/p&gt;

&lt;p&gt;% pycodestyle --ignore E501,E402,E731,W503 *.py&#160; &#160; &#160; &#160; &#160;&lt;/p&gt;

&lt;p&gt;cqlshmain.py:1547:1: W293 blank line contains whitespace&lt;/p&gt;

&lt;p&gt;tracing.py:44:13: E117 over-indented&lt;/p&gt;

&lt;p&gt;tracing.py:60:5: E303 too many blank lines (3)&lt;/p&gt;

&lt;p&gt;tracing.py:73:1: E303 too many blank lines (3)&lt;/p&gt;</comment>
                            <comment id="17896446" author="gautamg" created="Thu, 7 Nov 2024 18:55:43 +0000"  >&lt;p&gt;Noted &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; , i will change it.&lt;/p&gt;</comment>
                            <comment id="17899059" author="gautamg" created="Mon, 18 Nov 2024 05:03:28 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;, Made necessary correction.&lt;/p&gt;</comment>
                            <comment id="17899641" author="bschoeni" created="Wed, 20 Nov 2024 04:21:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160; thanks, the pytest and pycodestyle look great, and the capture works as it should.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;However&lt;/em&gt;, I was looking at the reason this odd double array indexing code was needed&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;if parsed.matched&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; == &apos;identifier&apos; and parsed.matched&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.upper() == &apos;OFF&apos;:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The reasons is the BNF production rule in cqlshhandling.py for CAPTURE is poorly done because it separates the fname from the OFF value and doesn&apos;t provide a name to bind on:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;lt;captureCommand&amp;gt; ::= &quot;CAPTURE&quot; ( fname=( &amp;lt;stringLiteral&amp;gt;) | &quot;OFF&quot; )?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Instead, this should be done switch style with two values: fname/OFF, so&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;lt;captureCommand&amp;gt; ::= &quot;CAPTURE&quot; ( switch=( &amp;lt;stringLiteral&amp;gt; | &quot;OFF&quot; ))?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;with this, cqlshmain can be simplified to &lt;font color=&quot;#4c9aff&quot;&gt;parsed.get_binding(&apos;switch&apos;)&lt;/font&gt; and the switch value will be either a filename, Off or None.&lt;/p&gt;</comment>
                            <comment id="17899642" author="gautamg" created="Wed, 20 Nov 2024 04:27:11 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;The current code can be a temporary solution. I haven&apos;t changed as we have decided to take this as a separate issue, as discussed above.&lt;/p&gt;</comment>
                            <comment id="17899643" author="gautamg" created="Wed, 20 Nov 2024 04:27:58 +0000"  >&lt;p&gt;I will create a new issue for this as start working, is that fine.&lt;/p&gt;</comment>
                            <comment id="17899645" author="bschoeni" created="Wed, 20 Nov 2024 04:52:13 +0000"  >&lt;p&gt;I agree the current code works nicely to fix the bug, but generally, committers want to see clean code.&#160;&#160;&lt;/p&gt;

&lt;p&gt;Sometimes, when you fix one bug, you uncover another issue, and that&apos;s what I see with the BNF for CAPTURE.&lt;/p&gt;

&lt;p&gt;The reason for &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; was that the syntax definition (BNF) didn&apos;t correctly specify fname OR &apos;off&apos;.&lt;/p&gt;</comment>
                            <comment id="17899647" author="gautamg" created="Wed, 20 Nov 2024 04:56:13 +0000"  >&lt;p&gt;Got it, I will make the changes.&lt;/p&gt;</comment>
                            <comment id="17899648" author="bschoeni" created="Wed, 20 Nov 2024 05:03:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;&amp;lt;captureCommand&amp;gt; ::= &quot;CAPTURE&quot; ( switch=( &amp;lt;stringLiteral&amp;gt; | &quot;OFF&quot; ))?&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;should be much simpler to parse in cqlshmain.py&#160;&lt;/p&gt;</comment>
                            <comment id="17899649" author="gautamg" created="Wed, 20 Nov 2024 05:09:51 +0000"  >&lt;p&gt;Noted. Just curious what is BNF, is it Bakus Naur Form&lt;/p&gt;</comment>
                            <comment id="17899653" author="gautamg" created="Wed, 20 Nov 2024 05:56:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; ,&lt;br/&gt;
Updated the code, ran pytest and pycodestyle, everything looks good, let me know if there is any issue.&lt;/p&gt;</comment>
                            <comment id="17899759" author="bschoeni" created="Wed, 20 Nov 2024 13:39:30 +0000"  >&lt;p&gt;All suggested changes have been incorporated, looks good.&lt;/p&gt;</comment>
                            <comment id="17899760" author="bschoeni" created="Wed, 20 Nov 2024 13:40:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160; thanks, this looks good to me, +1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; could you review?&lt;/p&gt;</comment>
                            <comment id="17899771" author="smiklosovic" created="Wed, 20 Nov 2024 13:53:31 +0000"  >&lt;p&gt;sure&lt;/p&gt;</comment>
                            <comment id="17899778" author="smiklosovic" created="Wed, 20 Nov 2024 14:09:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cassandra@cqlsh&amp;gt; TRACING
TRACING is OFF
cassandra@cqlsh&amp;gt; ELAPSED 
ELAPSED is OFF
cassandra@cqlsh&amp;gt; TRACING
TRACING is OFF
cassandra@cqlsh&amp;gt; CAPTURE
Currently not capturing query output.
cassandra@cqlsh&amp;gt; CAPTURE &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/output&apos;&lt;/span&gt;
Now capturing query output to &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/output&apos;&lt;/span&gt;.
cassandra@cqlsh&amp;gt; CAPTURE
Currently capturing query output to &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/output&apos;&lt;/span&gt;.
cassandra@cqlsh&amp;gt; CAPTURE OFF;
cassandra@cqlsh&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would expect that if CAPUTRE is turned off, it would be just telling me &quot;CAPTURE is OFF&quot; to be consistent with the rest.&lt;/p&gt;

&lt;p&gt;If it is turned  on, it might be like this or similar:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cassandra@cqlsh&amp;gt; CAPTURE
CAPTURE is ON, writing to /tmp/output
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apart from all of that, TRACING with CAPTURE works, not issues with that. &lt;/p&gt;

&lt;p&gt;Thank you for fixing CAPTURE OFF.&lt;/p&gt;

&lt;p&gt;I think that he proposed changes are not blockers for this ticket to be merged. Might be left for other ticket.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17899789" author="smiklosovic" created="Wed, 20 Nov 2024 14:43:58 +0000"  >&lt;p&gt;I ll just build it and we can ship.&lt;/p&gt;</comment>
                            <comment id="17899797" author="bschoeni" created="Wed, 20 Nov 2024 15:08:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt; yes, you are correct, CAPTURE doesn&apos;t use the Switch framework and we should address that in another bug as that may need to update docs and dtests.&lt;/p&gt;</comment>
                            <comment id="17899872" author="smiklosovic" created="Wed, 20 Nov 2024 20:28:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-19105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-19105&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                        4m 52s
  &#10003; j17_cqlsh_dtests_py311                           6m 56s
  &#10003; j17_cqlsh_dtests_py311_vnode                     7m 16s
  &#10003; j17_cqlsh_dtests_py38                             7m 7s
  &#10003; j17_cqlsh_dtests_py38_vnode                      7m 32s
  &#10003; j17_cqlshlib_cython_tests                        7m 25s
  &#10003; j17_cqlshlib_tests                               6m 41s
  &#10003; j17_dtests_latest                               36m 37s
  &#10003; j17_dtests_vnode                                36m 27s
  &#10003; j17_jvm_dtests                                   24m 2s
  &#10003; j17_unit_tests                                  14m 35s
  &#10003; j17_utests_latest                               13m 31s
  &#10003; j17_utests_oa                                   15m 21s
  &#10005; j17_dtests                                      33m 49s
      pushed_notifications_test.TestPushedNotifications test_move_single_node_localhost
  &#10005; j17_jvm_dtests_latest_vnode                      23m 1s
      org.apache.cassandra.distributed.test.tcm.CMSPlacementAfterMoveTest testMoveToCMS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/5021/workflows/dc1ef8ec-0e3c-488b-bd36-e658fa258011&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17899878" author="smiklosovic" created="Wed, 20 Nov 2024 21:04:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt; thank you for your contribution. Would you mind to work on the alignment of CAPTURE ON/OFF output as other commands have it? (explained above in my review comment). &lt;/p&gt;</comment>
                            <comment id="17899882" author="gautamg" created="Wed, 20 Nov 2024 21:11:16 +0000"  >&lt;p&gt;Ya sure &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt;, I will work on it .&lt;/p&gt;</comment>
                            <comment id="17899891" author="bschoeni" created="Wed, 20 Nov 2024 22:17:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt;&#160; Thanks for the quick review and commit!&lt;/p&gt;

&lt;p&gt;CAPTURE OFF wasn&apos;t working currently in the other branches (due to cqlsh_capture_cmd_syntax_rules), maybe we should patch this in 5.0?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautamg&quot; class=&quot;user-hover&quot; rel=&quot;gautamg&quot;&gt;gautamg&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;While testing, I noticed another issue &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-20099&quot; title=&quot;Fix TRACING when PAGING so it doesn&amp;#39;t repeat the tracing multiple times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-20099&quot;&gt;CASSANDRA-20099&lt;/a&gt; with TRACING when the data is paged where it prints the trace output multiple times.&lt;/p&gt;

&lt;p&gt;We could add CAPTURE output consistency there and maybe use of Switch.&#160;&#160;&lt;/p&gt;</comment>
                            <comment id="17899896" author="gautamg" created="Wed, 20 Nov 2024 22:27:27 +0000"  >&lt;p&gt;I can take it up &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13072347" name="test_results.txt" size="2127" author="gautamg" created="Tue, 22 Oct 2024 05:57:55 +0000"/>
                            <attachment id="13072346" name="trunk_test_results.txt" size="2127" author="gautamg" created="Tue, 22 Oct 2024 05:57:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gautamg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lvog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bschoeni]]></customfieldvalue>
        <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/510c20fec1f294edf1024dce9b27f19a5ce04bb6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/510c20fec1f294edf1024dce9b27f19a5ce04bb6&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;ran pytest and pycodestyle, everything looks good,&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>