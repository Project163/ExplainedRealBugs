<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:24:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3313] Cancelling index build throws assert error</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3313</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Canceling index build throws this, but checking log there was no compaction running in background.&lt;/p&gt;

&lt;p&gt;INFO 08:46:41,343 Writing Memtable-IndexInfo@9480253(34/42 serialized/live byte&lt;br/&gt;
s, 1 ops)&lt;br/&gt;
ERROR 08:46:41,343 Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;CompactionExecutor:3,5,main&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError&lt;br/&gt;
        at org.apache.cassandra.db.index.SecondaryIndexManager.applyIndexUpdates&lt;br/&gt;
(SecondaryIndexManager.java:397)&lt;br/&gt;
        at org.apache.cassandra.db.Table.indexRow(Table.java:534)&lt;br/&gt;
        at org.apache.cassandra.db.index.SecondaryIndexBuilder.build(SecondaryIn&lt;br/&gt;
dexBuilder.java:64)&lt;br/&gt;
        at org.apache.cassandra.db.compaction.CompactionManager$7.run(Compaction&lt;br/&gt;
Manager.java:856)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:44&lt;br/&gt;
1)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExec&lt;br/&gt;
utor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor&lt;br/&gt;
.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
 INFO 08:46:41,531 Completed flushing \var\lib\cassandra\data\system\IndexInfo-h&lt;br/&gt;
-1-Data.db (88 bytes)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525766">CASSANDRA-3313</key>
            <summary>Cancelling index build throws assert error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="hsn">Radim Kolar</reporter>
                        <labels>
                            <label>indexing</label>
                    </labels>
                <created>Wed, 5 Oct 2011 06:58:15 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:49 +0000</updated>
                            <resolved>Thu, 20 Oct 2011 21:14:04 +0000</resolved>
                                        <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13120728" author="jbellis" created="Wed, 5 Oct 2011 07:22:07 +0000"  >&lt;p&gt;I&apos;m not aware of a &apos;cancel index build&apos; command so I&apos;m curious what you mean by that.&lt;/p&gt;</comment>
                            <comment id="13120857" author="hsn" created="Wed, 5 Oct 2011 11:57:36 +0000"  >&lt;p&gt;redefine CF to column_metadata without index.&lt;/p&gt;</comment>
                            <comment id="13129043" author="jbellis" created="Mon, 17 Oct 2011 17:58:36 +0000"  >&lt;p&gt;patch to accommodate index disappearing mid-update.  applies on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3314&quot; title=&quot;Fail to delete -Index files if index is currently building&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3314&quot;&gt;&lt;del&gt;CASSANDRA-3314&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13130750" author="slebresne" created="Wed, 19 Oct 2011 16:44:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;nitpick: to be uber pedantic, we could use the row key validator to print the row key in the log messages.&lt;/p&gt;</comment>
                            <comment id="13132039" author="jbellis" created="Thu, 20 Oct 2011 21:09:54 +0000"  >&lt;p&gt;same as &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3334&quot; title=&quot;dropping index causes some inflight mutations to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3334&quot;&gt;&lt;del&gt;CASSANDRA-3334&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13132045" author="jbellis" created="Thu, 20 Oct 2011 21:14:04 +0000"  >&lt;p&gt;actually it&apos;s not quite the same, got confused by merge conflicts&lt;/p&gt;</comment>
                            <comment id="13132046" author="jbellis" created="Thu, 20 Oct 2011 21:14:14 +0000"  >&lt;p&gt;rebased + committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12499408" name="3313.txt" size="2482" author="jbellis" created="Mon, 17 Oct 2011 17:58:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gie7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>