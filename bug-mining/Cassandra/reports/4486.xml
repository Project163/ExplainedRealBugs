<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:05:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-12729] Cassandra-Stress: Use single seed in UUID generation</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-12729</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While testing the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12490&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;new sequence distribution&lt;/a&gt; for the user module of cassandra-stress I noticed that half of the expected rows (848 / 1696) were produced when using a single uuid primary key.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;table: player_info_by_uuid
table_definition: |
  CREATE TABLE player_info_by_uuid (
    player_uuid uuid,
    player_full_name text,
    team_name text,
    weight &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
    height &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;,
    position text,
    PRIMARY KEY (player_uuid)
  )

columnspec:
  - name: player_uuid
    size: fixed(32) # no. of chars of UUID
    population: seq(1..1696)  # 53 active players per team, 32 teams = 1696 players

insert:
  partitions: fixed(1)      # 1 partition per batch
  batchtype: UNLOGGED       # use unlogged batches
  select: fixed(1)/1     # no chance of skipping a row when generating inserts
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following debug output showed that we were over-incrementing the seed&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SeedManager.next.index: 341824
SeriesGenerator.Seed.next: 0
SeriesGenerator.Seed.start: 1
SeriesGenerator.Seed.totalCount: 20
SeriesGenerator.Seed.next % totalCount: 0
SeriesGenerator.Seed.start + (next % totalCount): 1
PartitionOperation.ready.seed: org.apache.cassandra.stress.generate.Seed@1
DistributionSequence.nextWithWrap.next: 0
DistributionSequence.nextWithWrap.start: 1
DistributionSequence.nextWithWrap.totalCount: 20
DistributionSequence.nextWithWrap.next % totalCount: 0
DistributionSequence.nextWithWrap.start + (next % totalCount): 1
DistributionSequence.nextWithWrap.next: 1
DistributionSequence.nextWithWrap.start: 1
DistributionSequence.nextWithWrap.totalCount: 20
DistributionSequence.nextWithWrap.next % totalCount: 1
DistributionSequence.nextWithWrap.start + (next % totalCount): 2
Generated uuid: 00000000-0000-0001-0000-000000000002
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This patch fixes this issue by calling &lt;tt&gt;identityDistribution.next()&lt;/tt&gt; once &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/tools/stress/src/org/apache/cassandra/stress/generate/values/UUIDs.java/#L37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;instead of twice&lt;/a&gt; when generating UUID&apos;s&lt;/p&gt;</description>
                <environment></environment>
        <key id="13008394">CASSANDRA-12729</key>
            <summary>Cassandra-Stress: Use single seed in UUID generation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="csplinter">Chris Splinter</assignee>
                                    <reporter username="csplinter">Chris Splinter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2016 23:47:39 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:18 +0000</updated>
                            <resolved>Mon, 10 Oct 2016 13:53:00 +0000</resolved>
                                        <fixVersion>3.10</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15531297" author="csplinter" created="Thu, 29 Sep 2016 00:01:18 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="15548124" author="snazy" created="Wed, 5 Oct 2016 09:01:49 +0000"  >&lt;p&gt;(revert change by anonymous)&lt;/p&gt;</comment>
                            <comment id="15562375" author="tjake" created="Mon, 10 Oct 2016 13:53:00 +0000"  >&lt;p&gt;Thanks committed as &lt;tt&gt;1bc736d9358c375542c8361afac4065515221ed9&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12830810" name="CASSANDRA-12729-trunk.patch" size="638" author="csplinter" created="Wed, 28 Sep 2016 23:59:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[csplinter]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i347x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>