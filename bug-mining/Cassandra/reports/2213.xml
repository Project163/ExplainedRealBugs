<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:39:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5691] Remove SimpleCondition</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5691</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Problematic scenario:&lt;br/&gt;
1. two threads get blocked in SimpleCondition.await();&lt;br/&gt;
2. some thread calls SimpleCondition.signal();&lt;br/&gt;
3. one of blocked threads wakes up and runs;&lt;br/&gt;
4. spurious wakeup happens in the second thread and it wakes up too and runs even though nobody signaled it.&lt;/p&gt;

&lt;p&gt;Thus this is a broken implementation of Condition interface.&lt;/p&gt;

&lt;p&gt;Anyway, looking at how code uses it, SimpleCondition can just be replaced with CountDownLatch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12654372">CASSANDRA-5691</key>
            <summary>Remove SimpleCondition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ash2k">Mikhail Mazursky</assignee>
                                    <reporter username="ash2k">Mikhail Mazursky</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Jun 2013 10:20:14 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:11 +0000</updated>
                            <resolved>Wed, 26 Jun 2013 14:56:33 +0000</resolved>
                                                            <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13691962" author="jbellis" created="Mon, 24 Jun 2013 13:39:17 +0000"  >&lt;p&gt;Yes, it&apos;s pretty obvious that signal==signalAll in SimpleCondition.  (Signaling just a single waiter is fairly useless and not something we care about.)&lt;/p&gt;

&lt;p&gt;Unless CDL offers a performance benefit I don&apos;t see any point in churning this.&lt;/p&gt;</comment>
                            <comment id="13692707" author="ash2k" created="Tue, 25 Jun 2013 03:18:30 +0000"  >&lt;p&gt;I see following reasons to make this change:&lt;br/&gt;
1. It removes code that have a bug;&lt;br/&gt;
2. It removes code that is not tested;&lt;br/&gt;
3. Why invent a wheel? CountDownLatch(1) is a common way to do this kind of signaling and is widely used and known. So it&apos;s easier to understand code.&lt;/p&gt;

&lt;p&gt;If the patch is not applied then at least singnal() invocations should be replaced with signalAll() and signal() should throw UnsupportedOperationException.&lt;/p&gt;

&lt;p&gt;p.s. I don&apos;t think CDL offers any better or worse performance.&lt;/p&gt;</comment>
                            <comment id="13692770" author="jbellis" created="Tue, 25 Jun 2013 05:48:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;If the patch is not applied then at least singnal() invocations should be replaced with signalAll() and signal() should throw UnsupportedOperationException.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed.&lt;/p&gt;</comment>
                            <comment id="13693149" author="ash2k" created="Tue, 25 Jun 2013 16:33:16 +0000"  >&lt;p&gt;Attaching v2 patch.&lt;/p&gt;

&lt;p&gt;Can you please explain your point of view? Why do you prefer SimpleCondition that is not really a Condition to CountDownLatch?&lt;/p&gt;</comment>
                            <comment id="13694014" author="jbellis" created="Wed, 26 Jun 2013 14:56:33 +0000"  >&lt;p&gt;Because &quot;I like CountdownLatch better&quot; isn&apos;t a very compelling reason to change a core construct?&lt;/p&gt;

&lt;p&gt;Committed v2, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589622" name="trunk-5691-v2.patch" size="6179" author="ash2k" created="Tue, 25 Jun 2013 16:33:16 +0000"/>
                            <attachment id="12589307" name="trunk-5691.patch" size="20391" author="ash2k" created="Sun, 23 Jun 2013 10:21:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ash2k]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lq67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>