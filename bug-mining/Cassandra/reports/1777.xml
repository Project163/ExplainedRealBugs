<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4561] update column family fails</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4561</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;default@test&amp;#93;&lt;/span&gt; show schema;&lt;br/&gt;
create column family Messages&lt;br/&gt;
  with column_type = &apos;Standard&apos;&lt;br/&gt;
  and comparator = &apos;AsciiType&apos;&lt;br/&gt;
  and default_validation_class = &apos;BytesType&apos;&lt;br/&gt;
  and key_validation_class = &apos;AsciiType&apos;&lt;br/&gt;
  and read_repair_chance = 0.1&lt;br/&gt;
  and dclocal_read_repair_chance = 0.0&lt;br/&gt;
  and gc_grace = 864000&lt;br/&gt;
  and min_compaction_threshold = 2&lt;br/&gt;
  and max_compaction_threshold = 4&lt;br/&gt;
  and replicate_on_write = true&lt;br/&gt;
  and compaction_strategy = &apos;org.apache.cassandra.db.compaction.LeveledCompactionStrategy&apos;&lt;br/&gt;
  and caching = &apos;KEYS_ONLY&apos;&lt;br/&gt;
  and compaction_strategy_options = &lt;/p&gt;
{&apos;sstable_size_in_mb&apos; : &apos;1024&apos;}
&lt;p&gt;  and compression_options = &lt;/p&gt;
{&apos;chunk_length_kb&apos; : &apos;64&apos;, &apos;sstable_compression&apos; : &apos;org.apache.cassandra.io.compress.DeflateCompressor&apos;}
&lt;p&gt;;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;default@test&amp;#93;&lt;/span&gt; update column family Messages with min_compaction_threshold = 4 and  max_compaction_threshold = 32;&lt;br/&gt;
a5b7544e-1ef5-3bfd-8770-c09594e37ec2&lt;br/&gt;
Waiting for schema agreement...&lt;br/&gt;
... schemas agree across the cluster&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;default@test&amp;#93;&lt;/span&gt; show schema;&lt;br/&gt;
create column family Messages&lt;br/&gt;
  with column_type = &apos;Standard&apos;&lt;br/&gt;
  and comparator = &apos;AsciiType&apos;&lt;br/&gt;
  and default_validation_class = &apos;BytesType&apos;&lt;br/&gt;
  and key_validation_class = &apos;AsciiType&apos;&lt;br/&gt;
  and read_repair_chance = 0.1&lt;br/&gt;
  and dclocal_read_repair_chance = 0.0&lt;br/&gt;
  and gc_grace = 864000&lt;br/&gt;
  and min_compaction_threshold = 2&lt;br/&gt;
  and max_compaction_threshold = 4&lt;br/&gt;
  and replicate_on_write = true&lt;br/&gt;
  and compaction_strategy = &apos;org.apache.cassandra.db.compaction.LeveledCompactionStrategy&apos;&lt;br/&gt;
  and caching = &apos;KEYS_ONLY&apos;&lt;br/&gt;
  and compaction_strategy_options = &lt;/p&gt;
{&apos;sstable_size_in_mb&apos; : &apos;1024&apos;}
&lt;p&gt;  and compression_options = &lt;/p&gt;
{&apos;chunk_length_kb&apos; : &apos;64&apos;, &apos;sstable_compression&apos; : &apos;org.apache.cassandra.io.compress.DeflateCompressor&apos;}
&lt;p&gt;;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12604193">CASSANDRA-4561</key>
            <summary>update column family fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="zenek_kraweznik0">Zenek Kraweznik</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Aug 2012 09:24:22 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:29 +0000</updated>
                            <resolved>Tue, 4 Sep 2012 21:17:21 +0000</resolved>
                                        <fixVersion>1.1.5</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13438558" author="zenek_kraweznik0" created="Tue, 21 Aug 2012 09:28:38 +0000"  >&lt;p&gt;in logfile I see only this:&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;MigrationStage:1&amp;#93;&lt;/span&gt; 2012-08-21 11:27:55,560 ColumnFamilyStore.java (line 659) Enqueuing flush of Memtable-schema_columnfamilies@970905946(1266/1582 serialized/live bytes, 20 ops)&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;FlushWriter:5&amp;#93;&lt;/span&gt; 2012-08-21 11:27:55,561 Memtable.java (line 264) Writing Memtable-schema_columnfamilies@970905946(1266/1582 serialized/live bytes, 20 ops)&lt;br/&gt;
 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;FlushWriter:5&amp;#93;&lt;/span&gt; 2012-08-21 11:27:55,587 Memtable.java (line 305) Completed flushing /var/lib/cassandra/data/system/schema_columnfamilies/system-schema_columnfamilies-he-196-Data.db (1336 bytes) for commitlog position ReplayPosition(segmentId=4914817711083622, position=333055)&lt;/p&gt;</comment>
                            <comment id="13438685" author="zenek_kraweznik0" created="Tue, 21 Aug 2012 12:58:14 +0000"  >&lt;p&gt;oh, and it obviously happens when I&apos;m trying to change anything else, not only compaction treshhold, ex: sstable_size_in_mb&lt;/p&gt;</comment>
                            <comment id="13439246" author="suguru" created="Wed, 22 Aug 2012 03:04:14 +0000"  >&lt;p&gt;I saw a similar case. In my case, columns of schema_keyspaces and schema_columnfamilies in the system keyspace had future timestamp such as 2052-08-01 11:22:33. All operations of changing schemas were not affected. I do not know why timestamps had future values. I fixed it with rebuilding system keyspace.&lt;/p&gt;</comment>
                            <comment id="13439328" author="zenek_kraweznik0" created="Wed, 22 Aug 2012 07:12:26 +0000"  >&lt;p&gt;Hmmm, it&apos;s possible. How did you rebuilt system keyspace?&lt;/p&gt;</comment>
                            <comment id="13439374" author="xedin" created="Wed, 22 Aug 2012 09:16:16 +0000"  >&lt;p&gt;Zenek, what version are you using? It&apos;s possible if you are on version less than 1.1.3 or if you have created your schema before 1.1.3 because of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4432&quot; title=&quot;Change nanoTime() to currentTimeInMillis() in schema related code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4432&quot;&gt;&lt;del&gt;CASSANDRA-4432&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="13439394" author="zenek_kraweznik0" created="Wed, 22 Aug 2012 10:21:29 +0000"  >&lt;p&gt;I&apos;m using 1.1.4, but schema was created in 0.8.5&lt;/p&gt;

&lt;p&gt;Could you help me solve my problem step by step?&lt;/p&gt;</comment>
                            <comment id="13439396" author="xedin" created="Wed, 22 Aug 2012 10:27:50 +0000"  >&lt;p&gt;Did you upgrade directly to 1.1.4 or one of the previous 1.1 versions first? Please check timestamps in your schema_* ColumnFamilies and see if they have any future dates. The easiest way I see to fix this would be to re-create your schema if you have timestamp problems from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4432&quot; title=&quot;Change nanoTime() to currentTimeInMillis() in schema related code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4432&quot;&gt;&lt;del&gt;CASSANDRA-4432&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13439455" author="zenek_kraweznik0" created="Wed, 22 Aug 2012 12:40:36 +0000"  >&lt;p&gt;I&apos;ve upgraded cassandra from 8.7 to 1.0, then to 1.0.5 -&amp;gt; 1.0.6 -&amp;gt; 1.1.0 -&amp;gt; 1.1.1 -&amp;gt; 1.1.2 -&amp;gt; 1.1.0 -&amp;gt; 1.1.3 -&amp;gt; 1.1.4.&lt;/p&gt;</comment>
                            <comment id="13439599" author="xedin" created="Wed, 22 Aug 2012 15:16:15 +0000"  >&lt;p&gt;aha, so check system.schema_* CFs column&apos;s timestamp values I bet they are from the future. The simplest fix for you would be to delete system/schema_* SSTables and re-create a schema after restart.&lt;/p&gt;</comment>
                            <comment id="13439603" author="jbellis" created="Wed, 22 Aug 2012 15:20:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;check system.schema_* CFs column&apos;s timestamp values I bet they are from the future&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can we fix that on startup for other upgraders?&lt;/p&gt;</comment>
                            <comment id="13439607" author="xedin" created="Wed, 22 Aug 2012 15:23:44 +0000"  >&lt;p&gt;Yes, I was about too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13440776" author="arya" created="Thu, 23 Aug 2012 23:40:09 +0000"  >&lt;p&gt;+1 I just ended up seeing this problem in our cluster which was upgraded from 1.1.2 to 1.1.3. Will probably have to find a workaround since I have to change schema now.&lt;/p&gt;</comment>
                            <comment id="13442577" author="arya" created="Mon, 27 Aug 2012 18:17:10 +0000"  >&lt;p&gt;I took my cluster down for 10 minutes. I took a snapshot of &apos;show schema&apos; into a text file and removed system KS from it so I will only have my KS schema definition in it. Then I stop cassandra on all nodes. On each node, I removed system/schema_* folders from system&apos;s keyspace folder in cassandra data dir. I started all cassandra nodes. When I tried to reload the schema file using cli to recreate my CFs, I kept getting the message that CFs already exist. When I listed schema_columnfamilies in one of the node, I saws the same long timestamps like 2705487066780774 on columns of that CF. So, the procedure didn&apos;t quiet work out for me. What could have gone wrong here?&lt;/p&gt;

&lt;p&gt;Please advice.&lt;/p&gt;</comment>
                            <comment id="13442595" author="xedin" created="Mon, 27 Aug 2012 18:35:44 +0000"  >&lt;p&gt;What cassandra version are you running? Did you try to recreate a schema on all of the nodes or just one of them?&lt;/p&gt;</comment>
                            <comment id="13442722" author="arya" created="Mon, 27 Aug 2012 21:07:20 +0000"  >&lt;p&gt;I am running 1.1.3 which was upgraded from 1.1.2. When nodes came up, I created the schemas in one node only.&lt;/p&gt;</comment>
                            <comment id="13442723" author="arya" created="Mon, 27 Aug 2012 21:08:49 +0000"  >&lt;p&gt;As part of my process, I also removed saved_caches/system-*.&lt;/p&gt;</comment>
                            <comment id="13442726" author="xedin" created="Mon, 27 Aug 2012 21:14:11 +0000"  >&lt;p&gt;if you still have such timestamps and messages that CF already exists means that schema wasn&apos;t empty on restart and was reloaded from one of the nodes. I&apos;m currently working on the patch which would fix timestamp situation on node&apos;s start up.&lt;/p&gt;</comment>
                            <comment id="13442744" author="arya" created="Mon, 27 Aug 2012 21:44:43 +0000"  >&lt;p&gt;Do you have an ETA? I&apos;ll be happy to monkey apply it on my cluster and be the guinea pig for it.&lt;/p&gt;</comment>
                            <comment id="13442809" author="xedin" created="Mon, 27 Aug 2012 23:40:58 +0000"  >&lt;p&gt;Not yet but I&apos;m working on it and soon as it&apos;s ready I will attach it here.&lt;/p&gt;</comment>
                            <comment id="13447990" author="jbellis" created="Tue, 4 Sep 2012 19:38:53 +0000"  >&lt;p&gt;Don&apos;t you want to call cfs.truncate().get() to block for the truncate to finish?  Rest LGTM.&lt;/p&gt;</comment>
                            <comment id="13448002" author="xedin" created="Tue, 4 Sep 2012 19:59:23 +0000"  >&lt;p&gt;good point, I would add that and commit, thanks!&lt;/p&gt;</comment>
                            <comment id="13448071" author="xedin" created="Tue, 4 Sep 2012 21:17:21 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13448119" author="hudson" created="Tue, 4 Sep 2012 22:25:51 +0000"  >&lt;p&gt;Integrated in Cassandra #2035 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/2035/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/2035/&lt;/a&gt;)&lt;br/&gt;
    change SYSTEM_TABLE to SYSTEM_KS related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4561&quot; title=&quot;update column family fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4561&quot;&gt;&lt;del&gt;CASSANDRA-4561&lt;/del&gt;&lt;/a&gt; merge (Revision cf23bd0a0fd192d991e971bcae94c2447126f873)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/db/DefsTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13450281" author="awinter" created="Fri, 7 Sep 2012 02:49:19 +0000"  >&lt;p&gt;After applying this patch (1.1.5-tentative) I see the future timestamps being detected and fixed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO [main] 2012-09-07 02:24:00,090 DefsTable.java (line 202) Fixing timestamps of schema ColumnFamily schema_keyspaces...
INFO [main] 2012-09-07 02:24:00,168 DefsTable.java (line 202) Fixing timestamps of schema ColumnFamily schema_columnfamilies...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I list schema_keyspaces I still see the old (future) timestamps.&lt;/p&gt;

&lt;p&gt;Given the timestamps weren&apos;t actually updated I did go back and found the following error shortly after the restarted node joined the ring (this may or not be related):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [InternalResponseStage:1] 2012-09-07 02:24:16,555 AbstractCassandraDaemon.java (line 135) Exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[InternalResponseStage:1,5,main]
java.lang.NullPointerException
        at org.apache.cassandra.db.DefsTable.mergeColumnFamilies(DefsTable.java:468)
        at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:346)
        at org.apache.cassandra.db.DefsTable.mergeRemoteSchema(DefsTable.java:324)
        at org.apache.cassandra.service.MigrationManager$MigrationTask$1.response(MigrationManager.java:416)
        at org.apache.cassandra.net.ResponseVerbHandler.doVerb(ResponseVerbHandler.java:45)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:59)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:679)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have however assumed that the patch automatically fixes this across all servers in a multi dc ring once this patch is applied.  If there is a specific series of steps required to fix this, such as the full ring outage, deletion of system/schema_* etc can it please be documented here, the wiki or in the NEWS.txt file under upgrading notes?&lt;/p&gt;</comment>
                            <comment id="13450475" author="xedin" created="Fri, 7 Sep 2012 09:01:06 +0000"  >&lt;p&gt;Yes it does, but it assumes that you have schema in agreement across the nodes before it tries to fix timestamps. I can put that into NEWS.txt&lt;/p&gt;</comment>
                            <comment id="13450479" author="awinter" created="Fri, 7 Sep 2012 09:09:23 +0000"  >&lt;p&gt;My schema is in agreement, but the timestamps aren&apos;t fixed, even though the log suggests otherwise (is that previously mentioned NPE related?).  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@unknown] describe cluster;
Cluster Information:
   Snitch: org.apache.cassandra.locator.PropertyFileSnitch
   Partitioner: org.apache.cassandra.dht.RandomPartitioner
   Schema versions: 
        89b22434-5e34-381d-83d1-2a3cde1482fe: [x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x]

[&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@unknown]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Schema updates continue to silently fail.&lt;/p&gt;</comment>
                            <comment id="13450485" author="xedin" created="Fri, 7 Sep 2012 09:23:50 +0000"  >&lt;p&gt;Interesting, why does it try to merge remote schema if all of your nodes are in agreement, can you run in debug mode as attach the log? The thing is timestamps are fixed long before the storage server is initialized and the process involves truncate of the system.schema_* CFs so I don&apos;t see any other reason why your schema still has old timestamps except some other node sent it migration request... &lt;/p&gt;

&lt;p&gt;NPE that you experience is also interesting, cfMetaData() is always not null as CFs are copied from one map to another on KS initialization, and KS itself could not be null or you would have the assertion error instead of NPE.&lt;/p&gt;</comment>
                            <comment id="13450512" author="slebresne" created="Fri, 7 Sep 2012 10:36:08 +0000"  >&lt;p&gt;Maybe we should reopen this if that didn&apos;t fully fixed the problem? I&apos;d better hold on a bit on 1.1.5 if this is not fixed yet as this seem to hit quite a few people.&lt;/p&gt;</comment>
                            <comment id="13450526" author="xedin" created="Fri, 7 Sep 2012 11:10:51 +0000"  >&lt;p&gt;We are not yet sure what is the problem so I think we should hold on reopening for a bit.&lt;/p&gt;</comment>
                            <comment id="13450529" author="xedin" created="Fri, 7 Sep 2012 11:19:32 +0000"  >&lt;p&gt;I just thought that a good addition to existing patch could be change in ColumnSerializer.deserialize to fix timestamps from the future, that way migrations from the remote locations would be deserialized with correct timestamp even if they were sent with the wrong one...&lt;/p&gt;</comment>
                            <comment id="13450531" author="slebresne" created="Fri, 7 Sep 2012 11:21:58 +0000"  >&lt;p&gt;Well, Anton still sees timestamp in the future and is still unable to do schema updates, it does sound a lot like there is a problem and it&apos;s related to this ticket. I just meant that I prefer keeping that in mind before releasing 1.1.5 into the wild too quickly.&lt;/p&gt;</comment>
                            <comment id="13450534" author="xedin" created="Fri, 7 Sep 2012 11:27:39 +0000"  >&lt;p&gt;I understand, but we don&apos;t know if that is caused by the fix not working or by something else as exception indicates that something was send to the node, this could be a separate issue. I will work on the ColumnSerializer change I mentioned and we&apos;ll see if it helps.  &lt;/p&gt;</comment>
                            <comment id="13450535" author="awinter" created="Fri, 7 Sep 2012 11:35:47 +0000"  >&lt;p&gt;Debug log sent to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xedin&quot; class=&quot;user-hover&quot; rel=&quot;xedin&quot;&gt;xedin&lt;/a&gt; privately.&lt;/p&gt;</comment>
                            <comment id="13450542" author="xedin" created="Fri, 7 Sep 2012 11:45:27 +0000"  >&lt;p&gt;adding a patch that fixes column timestamp on deserialization. Anton, can you please apply and see if that fixes the problem?&lt;/p&gt;</comment>
                            <comment id="13450545" author="xedin" created="Fri, 7 Sep 2012 11:59:19 +0000"  >&lt;p&gt;As I see from the log - timestamps were actually fixed to &quot;7 september 2012 cl 10:58 GMT&quot; but then overriten by remote migration, latest patch should help with that.&lt;/p&gt;</comment>
                            <comment id="13450548" author="zenek_kraweznik0" created="Fri, 7 Sep 2012 12:08:34 +0000"  >&lt;p&gt;When cassandra 1.1.5 will be available?&lt;/p&gt;</comment>
                            <comment id="13450604" author="awinter" created="Fri, 7 Sep 2012 13:16:13 +0000"  >&lt;p&gt;I&apos;ve patched &amp;amp; deployed to a couple of nodes where I now see the corrected timestamps.  The NPE appears to also be gone.&lt;/p&gt;

&lt;p&gt;It will take me some time to deploy to the entire ring but it looks promising so far.&lt;/p&gt;</comment>
                            <comment id="13450670" author="awinter" created="Fri, 7 Sep 2012 14:42:38 +0000"  >&lt;p&gt;Ring upgraded with the second patch and I am now able to perform schema updates.  Thanks!&lt;/p&gt;</comment>
                            <comment id="13450733" author="jbellis" created="Fri, 7 Sep 2012 15:52:59 +0000"  >&lt;p&gt;+1 lgtm&lt;/p&gt;</comment>
                            <comment id="13450746" author="xedin" created="Fri, 7 Sep 2012 16:08:14 +0000"  >&lt;p&gt;Committed to cassandra-1.1 branch.&lt;/p&gt;</comment>
                            <comment id="13452613" author="hudson" created="Tue, 11 Sep 2012 00:32:47 +0000"  >&lt;p&gt;Integrated in Cassandra #2084 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/2084/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/2084/&lt;/a&gt;)&lt;br/&gt;
    change ColumnSerializer.deserialize to be able fix timestamps from future, related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4561&quot; title=&quot;update column family fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4561&quot;&gt;&lt;del&gt;CASSANDRA-4561&lt;/del&gt;&lt;/a&gt; (Revision 2c69e2ea757be9492a095aa22b5d51234c4b4102)&lt;br/&gt;
change ColumnSerializer.deserialize to be able fix timestamps from future, related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4561&quot; title=&quot;update column family fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4561&quot;&gt;&lt;del&gt;CASSANDRA-4561&lt;/del&gt;&lt;/a&gt; (Revision 429fa7a80e22757a55c03e99c27c157824a666af)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/db/ColumnSerializer.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/db/ColumnSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12544204" name="CASSANDRA-4561-CS.patch" size="1371" author="xedin" created="Fri, 7 Sep 2012 11:45:27 +0000"/>
                            <attachment id="12542918" name="CASSANDRA-4561.patch" size="3950" author="xedin" created="Wed, 29 Aug 2012 13:22:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gx4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>