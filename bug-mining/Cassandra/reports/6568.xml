<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:31:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-20074] AbstractCommitLogService#lastSyncedAt initialized with currentTimeMillis() but later compared and updated with System.nanoTime() </title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-20074</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Within org.apache.cassandra.db.commitlog.AbstractCommitLogService&lt;/p&gt;

&lt;p&gt;we use System.currentMillis()-based time to initialize lastSyncedAt field:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; lastSyncedAt = currentTimeMillis();&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but later we use clock.now() = System.nanoTime() to compare and update the field value:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; pollStarted = clock.now();
&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; flushToDisk = lastSyncedAt + syncIntervalNanos &amp;lt;= pollStarted || state != NORMAL || syncRequested; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As of now we are lucky that in the current JDK implementations System.nanoTime() is much bigger than currentTimeMillis() but it is not guaranteed by a specification of the API. If&#160; nanoTime() &amp;lt; currentTimeMillis() then we can stuck without sync of commit log to disk.&lt;/p&gt;

&lt;p&gt;So, we need to align the time sources and change the init logic to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; lastSyncedAt = preciseTime.now();&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13598480">CASSANDRA-20074</key>
            <summary>AbstractCommitLogService#lastSyncedAt initialized with currentTimeMillis() but later compared and updated with System.nanoTime() </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dnk">Dmitry Konstantinov</assignee>
                                    <reporter username="dnk">Dmitry Konstantinov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Nov 2024 13:12:43 +0000</created>
                <updated>Tue, 19 Nov 2024 09:56:35 +0000</updated>
                            <resolved>Fri, 15 Nov 2024 11:12:20 +0000</resolved>
                                        <fixVersion>4.0.15</fixVersion>
                    <fixVersion>4.1.8</fixVersion>
                    <fixVersion>5.0.3</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Local/Commit Log</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17897574" author="dnk" created="Tue, 12 Nov 2024 14:15:06 +0000"  >&lt;p&gt;MR with a fix for 4.0 branch: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3674&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3674&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17897576" author="maxwellguo" created="Tue, 12 Nov 2024 14:18:12 +0000"  >&lt;p&gt;I think it should be aligned&lt;/p&gt;</comment>
                            <comment id="17897586" author="smiklosovic" created="Tue, 12 Nov 2024 14:49:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dnk&quot; class=&quot;user-hover&quot; rel=&quot;dnk&quot;&gt;dnk&lt;/a&gt; is this happening in other branches than 4.0 too? What about trunk? Where does this appear in?&lt;/p&gt;</comment>
                            <comment id="17897593" author="dnk" created="Tue, 12 Nov 2024 14:55:32 +0000"  >&lt;p&gt;Yes, it is the same issue across all branches up to and including trunk:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-5.0/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/cassandra-5.0/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-4.1/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/cassandra-4.1/src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogService.java#L63&lt;/a&gt;&lt;br/&gt;
so, the fix should be merged to newer versions too.&lt;/p&gt;</comment>
                            <comment id="17897596" author="dnk" created="Tue, 12 Nov 2024 15:00:20 +0000"  >&lt;p&gt;The change when the issue appeared: &lt;a href=&quot;https://github.com/netudima/cassandra/commit/e8907c16abcd84021a39cdaac79b609fcc64a43c#diff-527474f3bee4faf0caab725524e5bbf6523295c40febaa81fcb2b7310a5a9bee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/netudima/cassandra/commit/e8907c16abcd84021a39cdaac79b609fcc64a43c#diff-527474f3bee4faf0caab725524e5bbf6523295c40febaa81fcb2b7310a5a9bee&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10202&quot; title=&quot;simplify CommitLogSegmentManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10202&quot;&gt;&lt;del&gt;CASSANDRA-10202&lt;/del&gt;&lt;/a&gt; (3.10), but I suppose we do not support 3.x anymore to fix it in that branch ..&lt;/p&gt;</comment>
                            <comment id="17897597" author="dnk" created="Tue, 12 Nov 2024 15:02:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blambov&quot; class=&quot;user-hover&quot; rel=&quot;blambov&quot;&gt;blambov&lt;/a&gt; probably you can help as a reviewer here &lt;/p&gt;</comment>
                            <comment id="17897660" author="blambov" created="Tue, 12 Nov 2024 16:51:37 +0000"  >&lt;p&gt;The patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="17897665" author="smiklosovic" created="Tue, 12 Nov 2024 17:01:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dnk&quot; class=&quot;user-hover&quot; rel=&quot;dnk&quot;&gt;dnk&lt;/a&gt; could you please prepare patches for all branches? I will start the builds then. &lt;/p&gt;</comment>
                            <comment id="17897669" author="dnk" created="Tue, 12 Nov 2024 17:18:28 +0000"  >&lt;p&gt;Yes, I am preparing them. Do we need a separate MR for each branch (4.0, 4.1, 5.0, trunk) or a merge can be done in some cases? &lt;/p&gt;</comment>
                            <comment id="17897800" author="maxwellguo" created="Wed, 13 Nov 2024 02:35:30 +0000"  >&lt;p&gt;Maybe it would be great to have  PRs for each branch.&lt;/p&gt;</comment>
                            <comment id="17897842" author="smiklosovic" created="Wed, 13 Nov 2024 08:03:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20074-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20074-4.0&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java11_pre-commit_tests                         
  &#10003; j11_build                                        1m 57s
  &#10003; j11_cqlsh-dtests-py2-no-vnodes                   5m 59s
  &#10003; j11_cqlsh-dtests-py2-with-vnodes                 5m 53s
  &#10003; j11_cqlsh_dtests_py3                             5m 44s
  &#10003; j11_cqlsh_dtests_py311                           5m 41s
  &#10003; j11_cqlsh_dtests_py311_vnode                     5m 37s
  &#10003; j11_cqlsh_dtests_py38                            5m 52s
  &#10003; j11_cqlsh_dtests_py38_vnode                      5m 55s
  &#10003; j11_cqlsh_dtests_py3_vnode                       5m 25s
  &#10003; j11_cqlshlib_tests                               8m 32s
  &#10003; j11_dtests                                      32m 10s
  &#10003; j11_dtests_vnode                                36m 13s
  &#10003; j11_jvm_dtests                                  13m 45s
  &#10003; j11_unit_tests                                   8m 30s
java11_separate_tests                            
java8_pre-commit_tests                          
java8_separate_tests                             
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4987/workflows/f172e3a2-5f67-4104-8887-6ed5f5006381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4987/workflows/104ff2b7-c7f1-4a22-af6a-1e8c55c10dba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_separate_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4987/workflows/2ea311cc-69eb-4bbf-bddf-ae1f619a9284&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java8_pre-commit_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4987/workflows/f15e5a08-79a8-446f-986c-1c4612f80a35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java8_separate_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17897995" author="smiklosovic" created="Wed, 13 Nov 2024 17:17:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20074-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20074-4.1&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java11_pre-commit_tests                         
  &#10003; j11_build                                        1m 39s
  &#10003; j11_cqlsh_dtests_py3                             5m 37s
  &#10003; j11_cqlsh_dtests_py311                           5m 47s
  &#10003; j11_cqlsh_dtests_py311_vnode                     5m 56s
  &#10003; j11_cqlsh_dtests_py38                            5m 25s
  &#10003; j11_cqlsh_dtests_py38_vnode                      7m 19s
  &#10003; j11_cqlsh_dtests_py3_vnode                       5m 55s
  &#10003; j11_cqlshlib_cython_tests                        7m 10s
  &#10003; j11_cqlshlib_tests                               6m 23s
  &#10003; j11_dtests                                      33m 49s
  &#10003; j11_dtests_vnode                                36m 20s
  &#10003; j11_jvm_dtests                                  16m 23s
  &#10003; j11_jvm_dtests_vnode                            16m 17s
  &#10003; j11_unit_tests                                   10m 4s                           
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4990/workflows/969b704f-daad-4e93-8a0c-88f8a2d6c27d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17898003" author="dnk" created="Wed, 13 Nov 2024 17:32:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt;&lt;br/&gt;
I am back, as I see you have created already a branch for 4.1.  Should I proceed with 5.0 and trunk?&lt;/p&gt;</comment>
                            <comment id="17898008" author="dnk" created="Wed, 13 Nov 2024 17:42:24 +0000"  >&lt;p&gt;5.0: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3681&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3681&lt;/a&gt;&lt;br/&gt;
trunk: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3682&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898019" author="smiklosovic" created="Wed, 13 Nov 2024 18:09:48 +0000"  >&lt;p&gt;great! let&apos;s build the rest of that, shall we?&lt;/p&gt;</comment>
                            <comment id="17898020" author="dnk" created="Wed, 13 Nov 2024 18:13:46 +0000"  >&lt;p&gt;yes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
any way how I can help with it? &lt;/p&gt;</comment>
                            <comment id="17898208" author="smiklosovic" created="Thu, 14 Nov 2024 09:30:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20074-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20074-5.0&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                        4m 23s
  &#10003; j17_cqlsh_dtests_py311                            6m 0s
  &#10003; j17_cqlsh_dtests_py311_vnode                     6m 33s
  &#10003; j17_cqlsh_dtests_py38                            5m 58s
  &#10003; j17_cqlsh_dtests_py38_vnode                      6m 42s
  &#10003; j17_cqlshlib_cython_tests                        7m 45s
  &#10003; j17_cqlshlib_tests                                7m 0s
  &#10003; j17_dtests                                      31m 30s
  &#10003; j17_dtests_vnode                                34m 43s
  &#10003; j17_jvm_dtests                                   23m 5s
  &#10003; j17_jvm_dtests_latest_vnode                     17m 54s
  &#10003; j17_unit_tests                                  16m 43s
  &#10003; j17_utests_latest                               22m 41s
  &#10003; j17_utests_oa                                   15m 38s
  &#10005; j17_dtests_latest                                32m 9s
      bootstrap_test.TestBootstrap test_killed_wiped_node_cannot_join
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4997/workflows/dd937a8d-e813-49c4-84bc-3a12ff18f8df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898568" author="smiklosovic" created="Fri, 15 Nov 2024 10:30:00 +0000"  >&lt;p&gt;Trunk is a little bit hairy but nothing completely out of ordinary / issues are not related. PstmtPersistenceTest is being worked on.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20074-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20074-trunk&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java11_pre-commit_tests                         
  &#10003; j11_build                                        8m 54s
  &#10003; j11_cqlsh_dtests_py311                            7m 9s
  &#10003; j11_cqlsh_dtests_py311_vnode                      8m 6s
  &#10003; j11_cqlsh_dtests_py38                            7m 14s
  &#10003; j11_cqlsh_dtests_py38_vnode                      8m 10s
  &#10003; j11_cqlshlib_cython_tests                       12m 16s
  &#10003; j11_cqlshlib_tests                               6m 49s
  &#10003; j11_dtests                                      36m 47s
  &#10003; j11_dtests_latest                               38m 19s
  &#10003; j11_simulator_dtests                              9m 9s
  &#10003; j11_unit_tests                                   17m 5s
  &#10003; j11_utests_latest                               15m 28s
  &#10003; j11_utests_oa                                   18m 17s
  &#10003; j11_utests_system_keyspace_directory            15m 32s
  &#10003; j17_cqlsh_dtests_py311                           7m 11s
  &#10003; j17_cqlsh_dtests_py311_vnode                     8m 57s
  &#10003; j17_cqlsh_dtests_py38                            6m 59s
  &#10003; j17_cqlsh_dtests_py38_vnode                      7m 22s
  &#10003; j17_cqlshlib_cython_tests                        11m 1s
  &#10003; j17_cqlshlib_tests                               6m 55s
  &#10003; j17_dtests                                      32m 33s
  &#10003; j17_dtests_latest                               35m 31s
  &#10003; j17_dtests_vnode                                34m 12s
  &#10005; j11_dtests_vnode                                39m 26s
  &#10005; j11_jvm_dtests                                  37m 28s
      org.apache.cassandra.distributed.test.guardrails.GuardrailItemsPerCollectionOnSSTableWriteTest testListSizeAfterCompaction
      org.apache.cassandra.distributed.test.guardrails.GuardrailItemsPerCollectionOnSSTableWriteTest testSetSize
      org.apache.cassandra.distributed.test.TransientRangeMovement2Test testMoveBackward TIMEOUTED
  &#10005; j11_jvm_dtests_latest_vnode                     23m 51s
      org.apache.cassandra.distributed.test.tcm.CMSPlacementAfterMoveTest testMoveToCMS
  &#10005; j17_jvm_dtests                                  24m 33s
      org.apache.cassandra.distributed.test.ReadSpeculationTest speculateTest
  &#10005; j17_jvm_dtests_latest_vnode                     23m 25s
      org.apache.cassandra.distributed.test.tcm.CMSPlacementAfterMoveTest testMoveToCMS
  &#10005; j17_unit_tests                                   15m 3s
      org.apache.cassandra.cql3.PstmtPersistenceTest testPstmtInvalidation
  &#10005; j17_utests_latest                               13m 30s
      org.apache.cassandra.cql3.PstmtPersistenceTest testPstmtInvalidation
  &#10005; j17_utests_oa                                   14m 52s
      org.apache.cassandra.cql3.PstmtPersistenceTest testPstmtInvalidation
java11_separate_tests                            
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4999/workflows/c6891c04-6589-4fdf-a661-8206bcd84a19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17898572" author="smiklosovic" created="Fri, 15 Nov 2024 10:44:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dnk&quot; class=&quot;user-hover&quot; rel=&quot;dnk&quot;&gt;dnk&lt;/a&gt; I noticed something as I was going to merge this ...&lt;/p&gt;

&lt;p&gt;Why do we use &quot;MonotonicClock.Global.preciseTime.now()&quot; instead of &quot;Clock.Global.nanoTime&quot; ? We use that import in that class already. What is the difference between these two? Should not we just use &quot;Clock.Global.nanoTime&quot; as well for this field if we want to have nanos? What&apos;s the deal with monotonic clock that we have to use that?&lt;/p&gt;</comment>
                            <comment id="17898573" author="smiklosovic" created="Fri, 15 Nov 2024 10:48:11 +0000"  >&lt;p&gt;oh nevermind ... I see that &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
                &lt;span class=&quot;code-comment&quot;&gt;// sync and signal
&lt;/span&gt;                &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; pollStarted = clock.now();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;clock&quot; here is MonotonicClock and put into SyncRunnable as preciseTime&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SyncRunnable sync = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SyncRunnable(preciseTime)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is MonotonicClock.Global.preciseTime so we are good ... nevermind.&lt;/p&gt;

&lt;p&gt;Neverthless it is probably worth it to investigate why we have two different sources of nanos in that class. Seems suspicious at first sight. &lt;/p&gt;</comment>
                            <comment id="17898580" author="dnk" created="Fri, 15 Nov 2024 11:12:08 +0000"  >&lt;p&gt;yes, I took the same source as we use in new SyncRunnable(preciseTime) to align values written to lastSyncedAt.&lt;br/&gt;
By default: MonotonicClock.Global.preciseTime.now() -&amp;gt; org.apache.cassandra.utils.Clock.Default#nanoTime -&amp;gt; System.nanoTime();&lt;br/&gt;
org.apache.cassandra.utils.Clock.Global#nanoTime -&amp;gt; org.apache.cassandra.utils.Clock.Default#nanoTime -&amp;gt; System.nanoTime();&lt;br/&gt;
both ways uses the same source of time. So, to have less questions we can fix the code one more time to have only one method but from a correctness point of view I think it does not matter..&lt;/p&gt;</comment>
                            <comment id="17898581" author="smiklosovic" created="Fri, 15 Nov 2024 11:12:20 +0000"  >&lt;p&gt;note to myself: change the fix versions when the current releases are finished&lt;/p&gt;</comment>
                            <comment id="17899428" author="michaelsembwever" created="Tue, 19 Nov 2024 09:56:35 +0000"  >&lt;p&gt;&amp;gt; note to myself: change the fix versions when the current releases are finished&lt;/p&gt;

&lt;p&gt;that&apos;s the release manager&apos;s task (does it need to be documented better in the steps to do?)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13598479">CASSANDRA-20073</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12859199">CASSANDRA-10202</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dnk]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="13163" cascade-level=""><![CDATA[Code]]></customfieldvalue>
                                <customfieldvalue key="13164" cascade-level="1"><![CDATA[Bug - Unclear Impact]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12975"><![CDATA[Code Inspection]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sibk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blambov]]></customfieldvalue>
        <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12336842">4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/d0c984fa32b81f3fe8058daf0fac2a3081775c9b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/d0c984fa32b81f3fe8058daf0fac2a3081775c9b&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Ci&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>