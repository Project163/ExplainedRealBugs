<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:33:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4262] 1.1 does not preserve compatibility w/ index queries against 1.0 nodes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4262</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;1.1 merged index + seq scan paths into RangeSliceCommand.  1.1 StorageProxy always sends a RSC for either scan type.  But 1.0 RSVH only does seq scans.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12556550">CASSANDRA-4262</key>
            <summary>1.1 does not preserve compatibility w/ index queries against 1.0 nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 May 2012 22:09:09 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:33 +0000</updated>
                            <resolved>Fri, 1 Jun 2012 16:08:04 +0000</resolved>
                                        <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13283635" author="slebresne" created="Fri, 25 May 2012 17:56:04 +0000"  >&lt;p&gt;Attached patch to generate IndexScanCommand message when appropriate.&lt;/p&gt;

&lt;p&gt;I&apos;ve pushed a test in dtests too (in rolling_upgrade_test.py). Fails before the patch, works after.&lt;/p&gt;</comment>
                            <comment id="13287470" author="jbellis" created="Fri, 1 Jun 2012 15:15:38 +0000"  >&lt;p&gt;Can we do something to make the problem more obvious when someone does a seq-scan-with-filters in a mixed-version cluster, than just send the RSC and have it error out?  Even just logging WARN would be better than nothing.&lt;/p&gt;</comment>
                            <comment id="13287480" author="slebresne" created="Fri, 1 Jun 2012 15:31:33 +0000"  >&lt;p&gt;Actually, I think we don&apos;t allow at all seq-scan-with-filters (even the storage engine can do it). The reason it&apos;s not allowed we haven&apos;t changed the validation of index expression, so that an invalid request will be return upfront to the user saying no columns are indexed. This is also true of CQL3.&lt;/p&gt;

&lt;p&gt;On the front of &quot;should we allow those seq-scan-with-filters&quot;, that would be a case of seemingly simple queries that could take &lt;b&gt;a lot&lt;/b&gt; of time (I suppose you could do that with 2ndary indexes too, but you have to try a little bit more harder), so maybe this is worth giving it a though?&lt;/p&gt;</comment>
                            <comment id="13287493" author="slebresne" created="Fri, 1 Jun 2012 15:58:23 +0000"  >&lt;p&gt;Actually, I&apos;m wrong. We do allow seq-scan-with-filters on the thrift side. So anyway, attaching a v2 that does throw an exception in that case on the sending node.&lt;/p&gt;

&lt;p&gt;Still leave the question if we should allow those sequential queries with filters in CQL3 I guess.&lt;/p&gt;</comment>
                            <comment id="13287498" author="jbellis" created="Fri, 1 Jun 2012 16:02:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Ultimately I&apos;d like to have a CqlInputFormat for Hadoop, which is why we opened that up on the Thrift side.&lt;/p&gt;</comment>
                            <comment id="13287502" author="slebresne" created="Fri, 1 Jun 2012 16:08:04 +0000"  >&lt;p&gt;Committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530562" name="4262-v2.txt" size="4994" author="slebresne" created="Fri, 1 Jun 2012 15:58:23 +0000"/>
                            <attachment id="12529756" name="4262.txt" size="3921" author="slebresne" created="Fri, 25 May 2012 17:56:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gtvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>