<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:08:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13583] test failure in rebuild_test.TestRebuild.disallow_rebuild_from_nonreplica_test</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13583</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;example failure:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/job/trunk_novnode_dtest/524/testReport/rebuild_test/TestRebuild/disallow_rebuild_from_nonreplica_test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/trunk_novnode_dtest/524/testReport/rebuild_test/TestRebuild/disallow_rebuild_from_nonreplica_test&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Error Message

ToolError not raised
-------------------- &amp;gt;&amp;gt; begin captured logging &amp;lt;&amp;lt; --------------------
dtest: DEBUG: Python driver version in use: 3.10
dtest: DEBUG: cluster ccm directory: /tmp/dtest-0tUjhX
dtest: DEBUG: Done setting configuration options:
{   &apos;num_tokens&apos;: None,
    &apos;phi_convict_threshold&apos;: 5,
    &apos;range_request_timeout_in_ms&apos;: 10000,
    &apos;read_request_timeout_in_ms&apos;: 10000,
    &apos;request_timeout_in_ms&apos;: 10000,
    &apos;truncate_request_timeout_in_ms&apos;: 10000,
    &apos;write_request_timeout_in_ms&apos;: 10000}
cassandra.cluster: INFO: New Cassandra host &amp;lt;Host: 127.0.0.3 DC1&amp;gt; discovered
cassandra.cluster: INFO: New Cassandra host &amp;lt;Host: 127.0.0.2 DC1&amp;gt; discovered
--------------------- &amp;gt;&amp;gt; end captured logging &amp;lt;&amp;lt; ---------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Stacktrace

  File &quot;/usr/lib/python2.7/unittest/case.py&quot;, line 329, in run
    testMethod()
  File &quot;/home/automaton/cassandra-dtest/tools/decorators.py&quot;, line 48, in wrappedtestrebuild
    f(obj)
  File &quot;/home/automaton/cassandra-dtest/rebuild_test.py&quot;, line 357, in disallow_rebuild_from_nonreplica_test
    node1.nodetool(&apos;rebuild -ks ks1 -ts (%s,%s] -s %s&apos; % (node3_token, node1_token, node3_address))
  File &quot;/usr/lib/python2.7/unittest/case.py&quot;, line 116, in __exit__
    &quot;{0} not raised&quot;.format(exc_name))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13078100">CASSANDRA-13583</key>
            <summary>test failure in rebuild_test.TestRebuild.disallow_rebuild_from_nonreplica_test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcuse">Marcus Eriksson</assignee>
                                    <reporter username="michael.hamm">Michael Hamm</reporter>
                        <labels>
                            <label>dtest</label>
                            <label>test-failure</label>
                    </labels>
                <created>Wed, 7 Jun 2017 20:06:48 +0000</created>
                <updated>Fri, 15 May 2020 08:05:37 +0000</updated>
                            <resolved>Mon, 17 Jul 2017 16:59:23 +0000</resolved>
                                        <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16054560" author="jkni" created="Mon, 19 Jun 2017 18:40:24 +0000"  >&lt;p&gt;This is consistently failing when run without vnodes after the commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4650&quot; title=&quot;RangeStreamer should be smarter when picking endpoints for streaming in case of N &amp;gt;=3 in each DC.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4650&quot;&gt;&lt;del&gt;CASSANDRA-4650&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16055941" author="krummas" created="Tue, 20 Jun 2017 15:29:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/krummas/cassandra/commits/marcuse/13583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/krummas/cassandra/commits/marcuse/13583&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;problem was that we ignored the sourceFound variable if localhost was in the map, but we need to still check that since localhost is filtered away when doing rebuild&lt;/p&gt;</comment>
                            <comment id="16075477" author="aweisberg" created="Wed, 5 Jul 2017 21:46:30 +0000"  >&lt;p&gt;So I don&apos;t quite have the context to understand this. For bootstrap we filter out localhost using an ISourceFilter for obvious reasons. But for rebuild we don&apos;t want to generate a source not found error if the localhost is the only source, but neither do we want to stream from it? I don&apos;t understand why we don&apos;t need a source to stream from for rebuild.&lt;/p&gt;</comment>
                            <comment id="16075498" author="aweisberg" created="Wed, 5 Jul 2017 21:57:37 +0000"  >&lt;p&gt;OK, I think I had it backwards. In the test case there is no source including localhost so we want the error and we previously didn&apos;t get it. But we also don&apos;t want to stream from localhost ever even if it counts as a source for some non-rebuild and non-bootstrap purpose.&lt;/p&gt;

&lt;p&gt;Do I have it right?&lt;/p&gt;</comment>
                            <comment id="16076010" author="krummas" created="Thu, 6 Jul 2017 06:33:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do I have it right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;yes&lt;/p&gt;

&lt;p&gt;running dtests here: &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/118/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A-D/view/Cassandra/job/Cassandra-devbranch-dtest/118/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16076980" author="aweisberg" created="Thu, 6 Jul 2017 17:53:20 +0000"  >&lt;p&gt;The dtest failures look unrelated so  1.&lt;/p&gt;</comment>
                            <comment id="16090089" author="krummas" created="Mon, 17 Jul 2017 16:59:23 +0000"  >&lt;p&gt;committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12871912" name="node1.log" size="26128" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871914" name="node1_debug.log" size="99734" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871909" name="node1_gc.log" size="21952" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871911" name="node2.log" size="24952" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871913" name="node2_debug.log" size="60155" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871907" name="node2_gc.log" size="18956" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871910" name="node3.log" size="24887" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871915" name="node3_debug.log" size="117897" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                            <attachment id="12871908" name="node3_gc.log" size="20275" author="michael.hamm" created="Wed, 7 Jun 2017 20:06:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g01z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aweisberg</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aweisberg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>