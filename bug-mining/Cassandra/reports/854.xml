<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:20:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2488] cqlsh errors on comments that end with a semicolon</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2488</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Commented-out lines that end in a semicolon cause an error.&lt;/p&gt;

&lt;p&gt;Examples:&lt;/p&gt;

&lt;p&gt;cqlsh&amp;gt; &amp;#8211; CREATE KEYSPACE ELE WITH replication_factor = 3 AND strategy_class = SimpleStrategy AND strategy_options:replication_factor=3;&lt;br/&gt;
Bad Request: line 0:-1 no viable alternative at input &apos;&amp;lt;EOF&amp;gt;&apos;&lt;br/&gt;
cqlsh&amp;gt; &amp;#8211; CREATE KEYSPACE ELE WITH replication_factor = 3 AND strategy_class = SimpleStrategy AND strategy_options:replication_factor=3&lt;br/&gt;
   ... &lt;br/&gt;
   ... &lt;br/&gt;
   ... ;&lt;br/&gt;
Bad Request: line 2:0 no viable alternative at input &apos;;&apos;&lt;br/&gt;
cqlsh&amp;gt; &amp;#8211; ;&lt;br/&gt;
Bad Request: line 0:-1 no viable alternative at input &apos;&amp;lt;EOF&amp;gt;&apos;&lt;br/&gt;
cqlsh&amp;gt; --;&lt;br/&gt;
Bad Request: line 0:-1 no viable alternative at input &apos;&amp;lt;EOF&amp;gt;&apos;&lt;/p&gt;

&lt;p&gt;As long as there&apos;s a line with valid CQL before the semicolon, things work fine though.&lt;/p&gt;

&lt;p&gt;I&apos;m pretty sure the problem is on line 75 of cqlsh:&lt;br/&gt;
        if not line.endswith(&quot;;&quot;):&lt;br/&gt;
            self.set_prompt(Shell.continue_prompt)&lt;br/&gt;
            return None&lt;/p&gt;

&lt;p&gt;A quick workaround would be to kill the pretty continue prompt. A more involved fix would detect whether or not the semicolon was in a comment. This is harder than it sounds, since /* and */ allow multi-line comments.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS X 10.6.7&lt;/p&gt;

&lt;p&gt;$ java -version&lt;br/&gt;
java version &quot;1.6.0_24&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_24-b07-334-10M3326)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 19.1-b02-334, mixed mode)&lt;/p&gt;

&lt;p&gt;(This stuff isn&apos;t really important. It&apos;s a bug in a Python script)&lt;/p&gt;</environment>
        <key id="12504418">CASSANDRA-2488</key>
            <summary>cqlsh errors on comments that end with a semicolon</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="urandom">Eric Evans</assignee>
                                    <reporter username="angryparsley">Geoff Greer</reporter>
                        <labels>
                            <label>cql</label>
                    </labels>
                <created>Fri, 15 Apr 2011 22:25:11 +0000</created>
                <updated>Thu, 20 Aug 2020 12:03:08 +0000</updated>
                            <resolved>Tue, 19 Apr 2011 17:54:57 +0000</resolved>
                                        <fixVersion>0.8 beta 1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13020709" author="urandom" created="Sun, 17 Apr 2011 02:19:56 +0000"  >&lt;p&gt;the attached patch should deal with any supported comment&lt;/p&gt;</comment>
                            <comment id="13021680" author="gdusbabek" created="Tue, 19 Apr 2011 17:41:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13021685" author="urandom" created="Tue, 19 Apr 2011 17:54:57 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13021735" author="hudson" created="Tue, 19 Apr 2011 19:05:56 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #22 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.8/22/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.8/22/&lt;/a&gt;)&lt;br/&gt;
    teach cqlsh to ignore comments&lt;/p&gt;

&lt;p&gt;Patch by eevans; reviewed by gdusbabek for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2488&quot; title=&quot;cqlsh errors on comments that end with a semicolon&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2488&quot;&gt;&lt;del&gt;CASSANDRA-2488&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13304018">CASSANDRA-15802</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12476545" name="ASF.LICENSE.NOT.GRANTED--v2-0001-CASSANDRA-2488-teach-cqlsh-to-ignore-comments.txt" size="2224" author="urandom" created="Sun, 17 Apr 2011 02:28:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[urandom]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gbnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>gdusbabek</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gdusbabek]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>