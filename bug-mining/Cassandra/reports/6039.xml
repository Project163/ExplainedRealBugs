<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:24:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-17609] Fix org.apache.cassandra.db.compaction.CompactionsCQLTest.testLCSThresholdParams-cdc (from org.apache.cassandra.db.compaction.CompactionsCQLTest-cdc)</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-17609</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-4.1/5/testReport/org.apache.cassandra.db.compaction/CompactionsCQLTest/testLCSThresholdParams_cdc_2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-4.1/5/testReport/org.apache.cassandra.db.compaction/CompactionsCQLTest/testLCSThresholdParams_cdc_2/&lt;/a&gt;&lt;/font&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;%C2%A0&quot;&gt;&lt;/a&gt;&#160;&lt;/h3&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error Message
expected:&amp;lt;50&amp;gt; but was:&amp;lt;51&amp;gt;

Stacktrace
junit.framework.AssertionFailedError: expected:&amp;lt;50&amp;gt; but was:&amp;lt;51&amp;gt; at org.apache.cassandra.db.compaction.CompactionsCQLTest.testLCSThresholdParams(CompactionsCQLTest.java:419) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443489">CASSANDRA-17609</key>
            <summary>Fix org.apache.cassandra.db.compaction.CompactionsCQLTest.testLCSThresholdParams-cdc (from org.apache.cassandra.db.compaction.CompactionsCQLTest-cdc)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adelapena">Andres de la Pe&#241;a</assignee>
                                    <reporter username="edimitrova">Ekaterina Dimitrova</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 May 2022 23:24:30 +0000</created>
                <updated>Fri, 10 Oct 2025 08:45:49 +0000</updated>
                            <resolved>Mon, 6 Jun 2022 11:33:46 +0000</resolved>
                                        <fixVersion>4.0.5</fixVersion>
                    <fixVersion>4.1-alpha1</fixVersion>
                    <fixVersion>4.1</fixVersion>
                    <fixVersion>5.0-alpha1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17545060" author="adelapena" created="Wed, 1 Jun 2022 17:38:05 +0000"  >&lt;p&gt;The test can also fail without CDC, also with a pretty low flakiness, as it is shown by &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1641/workflows/7dd9bb59-3e8f-4889-ab84-bcfe4aca6297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this repeated run&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As a clue, the test passes when running isolated from the rest of the tests on &lt;tt&gt;CompactionsCQLTest&lt;/tt&gt;. This is shown by &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1637/workflows/287964de-8ab3-4c84-8c03-bdc87fd8858e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this other run&lt;/a&gt;. So it seems that the problem is due to the interaction with the other tests.&lt;/p&gt;

&lt;p&gt;If we dig into the logs we can find the messages informing about the 50 flushes requested by the test. Thanks to the changes recently introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17034&quot; title=&quot;CEP-11: Memtable API implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17034&quot;&gt;&lt;del&gt;CASSANDRA-17034&lt;/del&gt;&lt;/a&gt;, those flushes have a &quot;reason&quot; property that is included in the the log message. The reason for the 50 flushes explicitly requested by the test is &lt;tt&gt;UNIT_TESTS&lt;/tt&gt;. However, the logs for the failed runs contain an additional flush with &lt;tt&gt;COMMITLOG_DIRTY&lt;/tt&gt; as the reason. Also, those flushes seem to appear among messages generated by the asynchronous &lt;tt&gt;CQLTester&lt;/tt&gt; task that cleans up the data of the previous tests:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
[junit-timeout] INFO  [OptionalTasks:1] 2022-05-30 16:05:45,164 ColumnFamilyStore.java:1010 - Enqueuing flush of cql_test_keyspace.table_07, Reason: COMMITLOG_DIRTY, Usage: 0.745KiB (0%) on-heap, 400.133KiB (0%) off-heap
[junit-timeout] INFO  [OptionalTasks:1] 2022-05-30 16:05:45,165 ColumnFamilyStore.java:1010 - Enqueuing flush of system.local, Reason: COMMITLOG_DIRTY, Usage: 0.370KiB (0%) on-heap, 0.289KiB (0%) off-heap
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,166 LogTransaction.java:242 - Unfinished transaction log, deleting /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Data.db 
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,166 SSTable.java:127 - Deleting sstable: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,166 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Index.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,166 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-CompressionInfo.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,166 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Statistics.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,167 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Digest.crc32
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,167 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Filter.db
[junit-timeout] INFO  [PerDiskMemtableFlushWriter_0:1] 2022-05-30 16:05:45,167 Flushing.java:145 - Writing Memtable-sstable_activity@215544135(0.422KiB serialized bytes, 54 ops, 13.236KiB (0%) on-heap, 2.008KiB (0%) off-heap), flushed range = [&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,167 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-TOC.txt
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,167 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-29-big-Summary.db
[junit-timeout] INFO  [PerDiskMemtableFlushWriter_0:2] 2022-05-30 16:05:45,174 Flushing.java:145 - Writing Memtable-sstable_activity_v2@1687505407(0.422KiB serialized bytes, 54 ops, 13.236KiB (0%) on-heap, 1.875KiB (0%) off-heap), flushed range = [&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
[junit-timeout] INFO  [PerDiskMemtableFlushWriter_0:2] 2022-05-30 16:05:45,175 Flushing.java:171 - Completed flushing /tmp/cassandra/build/test/cassandra/data/system/sstable_activity_v2-62efe31f3be8310c8d298963439c1288/nb-8-big-Data.db (2.455KiB) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position CommitLogPosition(segmentId=1653926717793, position=102496)
[junit-timeout] INFO  [PerDiskMemtableFlushWriter_0:1] 2022-05-30 16:05:45,175 Flushing.java:171 - Completed flushing /tmp/cassandra/build/test/cassandra/data/system/sstable_activity-5a1ff267ace03f128563cfae6103c65e/nb-8-big-Data.db (2.588KiB) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; commitlog position CommitLogPosition(segmentId=1653926717793, position=102496)
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 LogTransaction.java:242 - Unfinished transaction log, deleting /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Data.db 
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 SSTable.java:127 - Deleting sstable: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Index.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-CompressionInfo.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Statistics.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Digest.crc32
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Filter.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-TOC.txt
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,176 PathUtils.java:74 - Deleting file during startup: /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb-32-big-Summary.db
[junit-timeout] INFO  [NonPeriodicTasks:1] 2022-05-30 16:05:45,177 LogTransaction.java:242 - Unfinished transaction log, deleting /tmp/cassandra/build/test/cassandra/data/system_schema/tables-afddfb9dbc1e30688056eed6c302ba09/nb_txn_compaction_5ccb3290-e032-11ec-8dd1-458238a818cd.log 
[junit-timeout] INFO  [main] 2022-05-30 16:05:45,177 ColumnFamilyStore.java:1010 - Enqueuing flush of cql_test_keyspace.table_07, Reason: UNIT_TESTS, Usage: 0.870KiB (0%) on-heap, 500.164KiB (0%) off-heap
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So it seems that the problem is that the failing test is finding more flushes than expected due to the dirty commitlog that is left by the previous tests, particularly those playing with intentionally corrupted data.&lt;/p&gt;

&lt;p&gt;The proposed &lt;a href=&quot;https://github.com/apache/cassandra/pull/1657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt; just manually resets the commitlog at the beginning of the tests to get rid of any remains left by previous tests. This approach passes the repeated runs for &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1656/workflows/f911bcd3-2ce9-4778-81ae-650f964253c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; and &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1656/workflows/c7d673c3-aed6-4a21-8cb6-ba867d319d0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17545078" author="brandon.williams" created="Wed, 1 Jun 2022 18:15:09 +0000"  >&lt;p&gt;Nice job!  This makes perfect sense and CI looks good, +1.&lt;/p&gt;</comment>
                            <comment id="17545079" author="brandon.williams" created="Wed, 1 Jun 2022 18:16:10 +0000"  >&lt;p&gt;It looks like we also need to run this against 4.1.&lt;/p&gt;</comment>
                            <comment id="17545438" author="adelapena" created="Thu, 2 Jun 2022 12:01:28 +0000"  >&lt;p&gt;Indeed, and probably also against 4.0. Here are the patches and CI after and before applying the fix:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PR&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI without patch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI with patch&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1659/workflows/6c384b4e-f1f8-4825-adaf-927d277e9c05&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1659/workflows/80844337-5701-4461-b809-c2474d6f8be3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1661/workflows/622c57ae-6db9-4975-808c-fb82f8901d69&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1661/workflows/3f0d0e9e-20a6-4058-adf9-84ca003733de&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1658/workflows/6200e170-d025-46f9-8472-0fc5a6d47329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1658/workflows/435c318f-b4ac-49a3-817a-391f27f7a6a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1660/workflows/281e2b21-c834-4f80-8cf7-c590655091e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1660/workflows/122ceb75-218f-4a30-b08e-da4aefadeae5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1641/workflows/7dd9bb59-3e8f-4889-ab84-bcfe4aca6297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1641/workflows/4c70c9b7-4faa-4877-b874-b89a5d6f3a4a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1656/workflows/f911bcd3-2ce9-4778-81ae-650f964253c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1656/workflows/c7d673c3-aed6-4a21-8cb6-ba867d319d0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Note that I haven&apos;t been able to reproduce the test failures on 4.0. I suspect that might be due to the different flushes introduced in 4.1 by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17034&quot; title=&quot;CEP-11: Memtable API implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17034&quot;&gt;&lt;del&gt;CASSANDRA-17034&lt;/del&gt;&lt;/a&gt;, which often flushes the entire test keyspace instead of the tested column family. Flakiness is quite low so the problem might still be there, but reproducing less frequently. Thus, I think I&apos;d also apply the proposed fix to 4.0. wdyt?&lt;/p&gt;</comment>
                            <comment id="17545500" author="brandon.williams" created="Thu, 2 Jun 2022 14:42:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Thus, I think I&apos;d also apply the proposed fix to 4.0. wdyt?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it makes sense to do so, and it certainly won&apos;t hurt.  Everything looks good, +1.&lt;/p&gt;</comment>
                            <comment id="17550417" author="adelapena" created="Mon, 6 Jun 2022 11:31:15 +0000"  >&lt;p&gt;Thanks for the review.&lt;/p&gt;

&lt;p&gt;Committed to &lt;tt&gt;cassandra-4.0&lt;/tt&gt; as &lt;a href=&quot;https://github.com/apache/cassandra/commit/52f6ac4af91bdda4e177fdfc6342944047ab2e3c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;52f6ac4af91bdda4e177fdfc6342944047ab2e3c&lt;/a&gt; and merged to &lt;a href=&quot;https://github.com/apache/cassandra/commit/5875cbe839f4b5bd8df9a01d7e1b703449a8fd3d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;cassandra-4.1&lt;/tt&gt;&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/cassandra/commit/3a55e0cbd0ac8174a8e231e39cc928c4e597e5ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;trunk&lt;/tt&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12990" cascade-level="1"><![CDATA[Test Failure]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12448:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12336842">4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/52f6ac4af91bdda4e177fdfc6342944047ab2e3c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/52f6ac4af91bdda4e177fdfc6342944047ab2e3c&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Repeated runs of the affected test suite are included.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>