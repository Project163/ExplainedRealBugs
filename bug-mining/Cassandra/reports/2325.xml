<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:40:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5958] &quot;Unable to find property&quot; errors from snakeyaml are confusing</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5958</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When an unexpected property is present in cassandra.yaml (e.g. after upgrading), snakeyaml outputs the following message:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Unable to find property &lt;span class=&quot;code-quote&quot;&gt;&apos;some_property&apos;&lt;/span&gt; on class: org.apache.cassandra.config.Config&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error message is kind of counterintuitive because at first glance it seems to suggest the property is missing from the yaml file, when in fact the error is caused by the &lt;b&gt;presence&lt;/b&gt; of an unrecognized property.  I know if you read it carefully it says it can&apos;t find the property on the class, but this has confused more than one user.&lt;/p&gt;

&lt;p&gt;I think we should catch this exception and wrap it in another exception that says something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Please remove &lt;span class=&quot;code-quote&quot;&gt;&apos;some_property&apos;&lt;/span&gt; from your cassandra.yaml. It is not recognized by &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; version of Cassandra.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, it might make sense to make this a warning instead of a fatal error, and just ignore the unwanted property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12666334">CASSANDRA-5958</key>
            <summary>&quot;Unable to find property&quot; errors from snakeyaml are confusing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mishail">Mikhail Stepura</assignee>
                                    <reporter username="jblangston@datastax.com">J.B. Langston</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Aug 2013 14:39:48 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:06 +0000</updated>
                            <resolved>Tue, 3 Sep 2013 17:12:31 +0000</resolved>
                                        <fixVersion>2.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13754771" author="cburroughs" created="Fri, 30 Aug 2013 15:08:28 +0000"  >&lt;p&gt;Which version is this with?  We upgraded snakyaml in 2.0.x and it might have improved error messages.&lt;/p&gt;</comment>
                            <comment id="13754836" author="jblangston@datastax.com" created="Fri, 30 Aug 2013 16:10:08 +0000"  >&lt;p&gt;1.2 and prior&lt;/p&gt;</comment>
                            <comment id="13754928" author="jblangston@datastax.com" created="Fri, 30 Aug 2013 17:26:21 +0000"  >&lt;p&gt;I just tested with 2.0.0-rc2 and the message is the same as before.&lt;/p&gt;</comment>
                            <comment id="13755847" author="mishail" created="Mon, 2 Sep 2013 00:17:19 +0000"  >&lt;p&gt;Instruct SnakeYaml to skip missing properties&lt;/p&gt;</comment>
                            <comment id="13755865" author="jbellis" created="Mon, 2 Sep 2013 02:22:19 +0000"  >&lt;ol&gt;
	&lt;li&gt;Skipping missing properties looks like the inverse of the problem here, which is dealing with properties that don&apos;t exist in the Config class&lt;/li&gt;
	&lt;li&gt;We don&apos;t want to skip over errors, just turn the stacktrace into a friendlier message&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13756193" author="mishail" created="Mon, 2 Sep 2013 18:01:57 +0000"  >&lt;p&gt;A new patch.&lt;br/&gt;
Don&apos;t skip missing properties, print them all out and terminate.&lt;/p&gt;</comment>
                            <comment id="13756342" author="jbellis" created="Tue, 3 Sep 2013 03:57:10 +0000"  >&lt;p&gt;does HashSet.toString actually give us a human-readable error?&lt;/p&gt;</comment>
                            <comment id="13756348" author="mishail" created="Tue, 3 Sep 2013 04:10:52 +0000"  >&lt;p&gt;For example I have the following in my cassandra.yaml&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;cassandra.yaml&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;oh: my
bla: bla
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the stacktrace will be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR 04:06:57 Fatal configuration error
org.apache.cassandra.exceptions.ConfigurationException: Invalid yaml. Please remove properties [bla, oh] from your cassandra.yaml
        at org.apache.cassandra.config.YamlConfigurationLoader$MissingPropertiesChecker.check(YamlConfigurationLoader.java:131) ~[main/:na]
        at org.apache.cassandra.config.YamlConfigurationLoader.loadConfig(YamlConfigurationLoader.java:94) ~[main/:na]
        at org.apache.cassandra.config.DatabaseDescriptor.loadConfig(DatabaseDescriptor.java:128) ~[main/:na]
        at org.apache.cassandra.config.DatabaseDescriptor.&amp;lt;clinit&amp;gt;(DatabaseDescriptor.java:104) ~[main/:na]
        at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:153) ~[main/:na]
        at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:391) ~[main/:na]
        at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:434) ~[main/:na]
Invalid yaml. Please remove properties [bla, oh] from your cassandra.yaml
Fatal configuration error; unable to start. See log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stacktrace.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13756792" author="jbellis" created="Tue, 3 Sep 2013 17:12:31 +0000"  >&lt;p&gt;LGTM, committed!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12601017" name="trunk-5958-skip-missing-properties.patch" size="1817" author="mishail" created="Mon, 2 Sep 2013 00:17:19 +0000"/>
                            <attachment id="12601081" name="trunk-5958-v2-print-all-invalid-properties.patch" size="3355" author="mishail" created="Mon, 2 Sep 2013 18:01:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mishail]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1npn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324946">2.0 rc2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>