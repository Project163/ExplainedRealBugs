<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:34:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4439] Updating column family using cassandra-cli results in &quot;Cannot modify index name&quot;</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4439</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Using cassandra-cli the following update to a column family worked in 1.1.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create keyspace testing;
use testing;

create column family Album
with comparator = UTF8Type
and default_validation_class = UTF8Type
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_type: KEYS}
];

update column family Album
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_type: KEYS},
    {column_name: postedDate, validation_class: LongType}
];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After upgrading to 1.1.2, the update statement fails with the following exception in system.log:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Thrift:16&amp;#93;&lt;/span&gt; 2012-07-13 14:51:54,558 CustomTThreadPoolServer.java (line 204) Error occurred during processing of message.&lt;br/&gt;
java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:373)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager.announce(MigrationManager.java:188)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager.announceColumnFamilyUpdate(MigrationManager.java:161)&lt;br/&gt;
        at org.apache.cassandra.thrift.CassandraServer.system_update_column_family(CassandraServer.java:1063)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Processor$system_update_column_family.getResult(Cassandra.java:3520)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Processor$system_update_column_family.getResult(Cassandra.java:3508)&lt;br/&gt;
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)&lt;br/&gt;
        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)&lt;br/&gt;
        at org.apache.cassandra.thrift.CustomTThreadPoolServer$WorkerProcess.run(CustomTThreadPoolServer.java:186)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:83)&lt;br/&gt;
        at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:369)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:676)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.updateColumnFamily(DefsTable.java:463)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeColumnFamilies(DefsTable.java:407)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:271)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager$1.call(MigrationManager.java:211)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
        ... 3 more&lt;br/&gt;
Caused by: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at org.apache.cassandra.config.ColumnDefinition.apply(ColumnDefinition.java:214)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.apply(CFMetaData.java:758)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:672)&lt;br/&gt;
        ... 9 more&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;MigrationStage:1&amp;#93;&lt;/span&gt; 2012-07-13 14:51:54,561 AbstractCassandraDaemon.java (line 134) Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;MigrationStage:1,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:676)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.updateColumnFamily(DefsTable.java:463)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeColumnFamilies(DefsTable.java:407)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:271)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager$1.call(MigrationManager.java:211)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: org.apache.cassandra.config.ConfigurationException: Cannot modify index name&lt;br/&gt;
        at org.apache.cassandra.config.ColumnDefinition.apply(ColumnDefinition.java:214)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.apply(CFMetaData.java:758)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:672)&lt;br/&gt;
        ... 9 more&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;After further testing the following works in 1.1.2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create keyspace testing;
use testing;
create column family Album
with comparator = UTF8Type
and default_validation_class = UTF8Type
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;Album_profileId_idx&apos;&lt;/span&gt;, index_type: KEYS}
];

update column family Album
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;Album_profileId_idx&apos;&lt;/span&gt;, index_type: KEYS},
    {column_name: postedDate, validation_class: LongType}
];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it appears that if you did not specify an index_name when creating the column originally, you cannot update the column family anymore.&lt;/p&gt;</description>
                <environment>&lt;p&gt;cassandra 1.1.2, RHEL6.3, running under java-1.6.0-sun&lt;/p&gt;</environment>
        <key id="12598764">CASSANDRA-4439</key>
            <summary>Updating column family using cassandra-cli results in &quot;Cannot modify index name&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="a.schultz">Alex Schultz</reporter>
                        <labels>
                            <label>cli</label>
                            <label>schema</label>
                    </labels>
                <created>Fri, 13 Jul 2012 22:01:17 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:30 +0000</updated>
                            <resolved>Wed, 18 Jul 2012 22:16:04 +0000</resolved>
                                        <fixVersion>1.1.3</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13415076" author="a.schultz" created="Mon, 16 Jul 2012 12:57:47 +0000"  >&lt;p&gt;For some extra information I modified ./src/java/org/apache/cassandra/config/ColumnDefinition.java:214 to show me what the index name issue was and it appears if you don&apos;t specify the index on the update, the index is automatically created at &quot;Album_profileId_idx_2&quot;.  &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Thrift:1&amp;#93;&lt;/span&gt; 2012-07-16 05:50:11,566 CustomTThreadPoolServer.java (line 204) Error occurred during processing of message.&lt;br/&gt;
java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:373)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager.announce(MigrationManager.java:188)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager.announceColumnFamilyUpdate(MigrationManager.java:161)&lt;br/&gt;
        at org.apache.cassandra.thrift.CassandraServer.system_update_column_family(CassandraServer.java:1063)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Processor$system_update_column_family.getResult(Cassandra.java:3520)&lt;br/&gt;
        at org.apache.cassandra.thrift.Cassandra$Processor$system_update_column_family.getResult(Cassandra.java:3508)&lt;br/&gt;
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)&lt;br/&gt;
        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)&lt;br/&gt;
        at org.apache.cassandra.thrift.CustomTThreadPoolServer$WorkerProcess.run(CustomTThreadPoolServer.java:186)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:83)&lt;br/&gt;
        at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:369)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:676)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.updateColumnFamily(DefsTable.java:463)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeColumnFamilies(DefsTable.java:407)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:271)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager$1.call(MigrationManager.java:211)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
        ... 3 more&lt;br/&gt;
Caused by: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at org.apache.cassandra.config.ColumnDefinition.apply(ColumnDefinition.java:214)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.apply(CFMetaData.java:758)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:672)&lt;br/&gt;
        ... 9 more&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;MigrationStage:1&amp;#93;&lt;/span&gt; 2012-07-16 05:50:11,570 AbstractCassandraDaemon.java (line 134) Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;MigrationStage:1,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.io.IOException: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:676)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.updateColumnFamily(DefsTable.java:463)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeColumnFamilies(DefsTable.java:407)&lt;br/&gt;
        at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:271)&lt;br/&gt;
        at org.apache.cassandra.service.MigrationManager$1.call(MigrationManager.java:211)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: org.apache.cassandra.config.ConfigurationException: Cannot modify index name Album_profileId_idx != Album_profileId_idx_2&lt;br/&gt;
        at org.apache.cassandra.config.ColumnDefinition.apply(ColumnDefinition.java:214)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.apply(CFMetaData.java:758)&lt;br/&gt;
        at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:672)&lt;br/&gt;
        ... 9 more&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;I was able to work around the issue if I specify the auto-generated index name in the update statement.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create keyspace testing;
use testing;
create column family Album
with comparator = UTF8Type
and default_validation_class = UTF8Type
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_type: KEYS}
];

update column family Album
and column_metadata =
[
    {column_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;profileId&apos;&lt;/span&gt;, validation_class: UTF8Type, index_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;Album_profileId_idx&apos;&lt;/span&gt;, index_type: KEYS},
    {column_name: postedDate, validation_class: LongType}
];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also for anyone wondering, you can find the auto-generated index name by doing a show schema on the keyspace.  I&apos;m going to drop the severity since I can work around the issue by adjusting my update statements.&lt;/p&gt;</comment>
                            <comment id="13415111" author="a.schultz" created="Mon, 16 Jul 2012 13:41:09 +0000"  >&lt;p&gt;Also despite the fact that it says you cannot rename the index, it will rename the index if you run the command and restart cassandra.  The exception does not stop the schema from being updated.  Also if you attempt to update the schema again with a corrected index name after it throws the exception, it will not accept it until you restart.  At which point your index name has already been changed to the first index name you attempted.&lt;/p&gt;

&lt;p&gt;An example of this is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create keyspace testing;
use testing;
create column family Album
with comparator = UTF8Type
and default_validation_class = UTF8Type
and column_metadata =
[
    {column_name: profileId, validation_class: UTF8Type, index_type: KEYS}
];

update column family Album
and column_metadata =
[
    {column_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;profileId&apos;&lt;/span&gt;, validation_class: UTF8Type, index_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;badindex&apos;&lt;/span&gt;, index_type: KEYS},
    {column_name: postedDate, validation_class: LongType}
];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The previous update will throw an exception and if you attempt to run the following it will still throw the exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;update column family Album
and column_metadata =
[
    {column_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;profileId&apos;&lt;/span&gt;, validation_class: UTF8Type, index_name: &lt;span class=&quot;code-quote&quot;&gt;&apos;Album_profileId_idx&apos;&lt;/span&gt;, index_type: KEYS},
    {column_name: postedDate, validation_class: LongType}
];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also if you restart and do a show schema, your index is now named &quot;badindex&quot;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@testing] show schema;
create keyspace testing
  with placement_strategy = &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;
  and strategy_options = {datacenter1 : 1}
  and durable_writes = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

use testing;

create column family Album
  with column_type = &lt;span class=&quot;code-quote&quot;&gt;&apos;Standard&apos;&lt;/span&gt;
  and comparator = &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF8Type&apos;&lt;/span&gt;
  and default_validation_class = &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF8Type&apos;&lt;/span&gt;
  and key_validation_class = &lt;span class=&quot;code-quote&quot;&gt;&apos;BytesType&apos;&lt;/span&gt;
  and read_repair_chance = 0.1
  and dclocal_read_repair_chance = 0.0
  and gc_grace = 864000
  and min_compaction_threshold = 4
  and max_compaction_threshold = 32
  and replicate_on_write = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
  and compaction_strategy = &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;&lt;/span&gt;
  and caching = &lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS_ONLY&apos;&lt;/span&gt;
  and column_metadata = [
    {column_name : &lt;span class=&quot;code-quote&quot;&gt;&apos;profileId&apos;&lt;/span&gt;,
    validation_class : UTF8Type,
    index_name : &lt;span class=&quot;code-quote&quot;&gt;&apos;badindex&apos;&lt;/span&gt;,
    index_type : 0},
    {column_name : &lt;span class=&quot;code-quote&quot;&gt;&apos;postedDate&apos;&lt;/span&gt;,
    validation_class : LongType}]
  and compression_options = {&lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_compression&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.io.compress.SnappyCompressor&apos;&lt;/span&gt;};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13416265" author="jbellis" created="Tue, 17 Jul 2012 15:02:54 +0000"  >&lt;p&gt;Isn&apos;t existingIndexNames supposed to take care of this case?&lt;/p&gt;</comment>
                            <comment id="13416274" author="xedin" created="Tue, 17 Jul 2012 15:08:40 +0000"  >&lt;p&gt;No, it doesn&apos;t do that.&lt;/p&gt;</comment>
                            <comment id="13416280" author="a.schultz" created="Tue, 17 Jul 2012 15:14:52 +0000"  >&lt;p&gt;I have verified this patch fixes my issue.  thanks.&lt;/p&gt;</comment>
                            <comment id="13416439" author="xedin" created="Tue, 17 Jul 2012 18:45:03 +0000"  >&lt;p&gt;Thanks, Alex. addDefaultIndexNames() works just fine when cql where we have all of the metadata (index_names/index_type) but for cli, where we need to provide all of the column attributes by hand, it wasn&apos;t because index_name should be filled in by user every time even if it was auto generated, so just checking that index_name is not set there (when no explicit name were given) is not good enough for thrift access.&lt;/p&gt;</comment>
                            <comment id="13416797" author="yukim" created="Wed, 18 Jul 2012 01:58:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13417749" author="xedin" created="Wed, 18 Jul 2012 22:16:04 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13420787" author="hudson" created="Mon, 23 Jul 2012 17:04:28 +0000"  >&lt;p&gt;Integrated in Cassandra #1768 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/1768/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/1768/&lt;/a&gt;)&lt;br/&gt;
    fixes small bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4439&quot; title=&quot;Updating column family using cassandra-cli results in &amp;quot;Cannot modify index name&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4439&quot;&gt;&lt;del&gt;CASSANDRA-4439&lt;/del&gt;&lt;/a&gt; (Revision e220efa2a87c8232d87bdca9f2a02cfcef9f1a4c)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/config/CFMetaData.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536821" name="CASSANDRA-4439.patch" size="3262" author="xedin" created="Tue, 17 Jul 2012 14:22:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gvw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>