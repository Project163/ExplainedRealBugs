<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:06:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-12443] Remove alter type support</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-12443</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Currently, we allow altering of types. However, because we no longer store the length for all types anymore, switching from a fixed-width to variable-width type causes issues. commitlog playback breaking startup, queries currently in flight getting back bad results, and special casing required to handle the changes. In addition, this would solve &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10309&quot; title=&quot;Avoid always looking up column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10309&quot;&gt;CASSANDRA-10309&lt;/a&gt;, as there is no possibility of the types changing while an SSTableReader is open.&lt;/p&gt;

&lt;p&gt;For fixed-length, compatible types, the alter also doesn&apos;t add much over a cast, so users could use that in order to retrieve the altered type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12996702">CASSANDRA-12443</key>
            <summary>Remove alter type support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="carlyeks">Carl Yeksigian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Aug 2016 17:51:36 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:02 +0000</updated>
                            <resolved>Fri, 20 Jan 2017 20:22:34 +0000</resolved>
                                        <fixVersion>3.0.11</fixVersion>
                    <fixVersion>3.10</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="15417689" author="iamaleksey" created="Thu, 11 Aug 2016 18:06:07 +0000"  >&lt;p&gt;Yup.&lt;/p&gt;

&lt;p&gt;Another similar, but more subtle problem is with dropping columns repeatedly. Drop column foo (text), re-add it as foo (int), drop it again, and sstables where foo was still text would cause real issues on reading.&lt;/p&gt;</comment>
                            <comment id="15417690" author="iamaleksey" created="Thu, 11 Aug 2016 18:08:16 +0000"  >&lt;p&gt;I don&apos;t think we should wait for 4.x, by the way. Yes, it is a breaking behaviour change, but keeping it in as is is just dangerous.&lt;/p&gt;</comment>
                            <comment id="15420908" author="jmckenzie" created="Mon, 15 Aug 2016 12:25:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t think we should wait for 4.x, by the way. Yes, it is a breaking behaviour change, but keeping it in as is is just dangerous.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15526479" author="carlyeks" created="Tue, 27 Sep 2016 15:32:31 +0000"  >&lt;p&gt;I&apos;ve pushed a branch for 3.0 (not sure where this should go, but it is a simple enough patch to roll it forward to trunk). This disallows the changing of types; I&apos;ve changed the things that will help &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10309&quot; title=&quot;Avoid always looking up column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10309&quot;&gt;CASSANDRA-10309&lt;/a&gt;. Only worry with this solution is that someone could execute an alter statement on a lower-version cluster machine and change the schema in the table and on some cluster machines. However, since we say not to touch the schema while operating in a mixed-version cluster, this shouldn&apos;t happen.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/job/carlyeks-ticket-12443-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/job/carlyeks-ticket-12443-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15536291" author="carlyeks" created="Fri, 30 Sep 2016 15:35:13 +0000"  >&lt;p&gt;The errors in the tests don&apos;t reproduce locally, but I&apos;ve rebased and pushed a new version and kicked off CI.&lt;/p&gt;

&lt;p&gt;Also pushed a new &lt;a href=&quot;https://github.com/carlyeks/cassandra-dtest/tree/fix-12443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest branch&lt;/a&gt; which removes the alter type statements in those tests as well.&lt;/p&gt;</comment>
                            <comment id="15536549" author="jmckenzie" created="Fri, 30 Sep 2016 17:38:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; to review.&lt;/p&gt;</comment>
                            <comment id="15585805" author="blerer" created="Tue, 18 Oct 2016 15:47:52 +0000"  >&lt;p&gt;The current patch removes only the processing code. I wonder if we should not also remove the parsing logic from &lt;tt&gt;Cql.g&lt;/tt&gt; and &lt;tt&gt;cql3handling.py&lt;/tt&gt;. The error message might be less user friendly but we will avoid keeping some useless code.&lt;/p&gt;

&lt;p&gt;The documentation in &lt;tt&gt;3.X&lt;/tt&gt; will also need to be updated.&lt;/p&gt;</comment>
                            <comment id="15600454" author="carlyeks" created="Sun, 23 Oct 2016 23:04:04 +0000"  >&lt;p&gt;I went back and forth on removing the parsing logic from 3.x, but thought that since it wasn&apos;t a major version, it would be better to leave it in and provide a better error message, and since we have the 4.0 branch, we won&apos;t have it hanging around.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.x&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.x&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Also, it seems like we should bump the CQL version on this, but the next version for 3.0 is 3.4.1, which is already defined in 3.x, and reusing it would cause an inconsistent versioning. Thoughts, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="15605779" author="blerer" created="Tue, 25 Oct 2016 16:32:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also, it seems like we should bump the CQL version on this, but the next version for 3.0 is 3.4.1, which is already defined in 3.x, and reusing it would cause an inconsistent versioning. Thoughts, Benjamin Lerer? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we should add the change to the &lt;tt&gt;3.4.3&lt;/tt&gt; version for 3.X and trunk and do nothing for the 3.0 branch. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thobbs&quot; class=&quot;user-hover&quot; rel=&quot;thobbs&quot;&gt;thobbs&lt;/a&gt; Do you have an other suggestion?&lt;/p&gt;

&lt;p&gt;Otherwise, I think that we should also remove the auto completion from &lt;tt&gt;cqlsh&lt;/tt&gt; for the &lt;tt&gt;ALTER&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="15606134" author="iamaleksey" created="Tue, 25 Oct 2016 18:49:12 +0000"  >&lt;p&gt;Shouldn&apos;t the same logic apply to &lt;tt&gt;ALTER TYPE &amp;lt;name&amp;gt; ALTER &amp;lt;field&amp;gt; TYPE &amp;lt;newtype&amp;gt;&lt;/tt&gt; statements?&lt;/p&gt;</comment>
                            <comment id="15609103" author="thobbs" created="Wed, 26 Oct 2016 17:31:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think we should add the change to the 3.4.3 version for 3.X and trunk and do nothing for the 3.0 branch. Tyler Hobbs Do you have an other suggestion?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately, I do not.  I suppose that&apos;s what we need to do.&lt;/p&gt;</comment>
                            <comment id="15622395" author="carlyeks" created="Mon, 31 Oct 2016 15:01:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;: Yup, good catch; I&apos;ve removed that as well.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;: I updated the 3.x/trunk branches and pushed again. Just kicked off new CI tests, will update once they are done.&lt;/p&gt;</comment>
                            <comment id="15626303" author="iamaleksey" created="Tue, 1 Nov 2016 18:48:13 +0000"  >&lt;p&gt;FWIW, we do currently serialise the length of each field preceding it in UDTs and Tuples, but I can recall plans to optimise our UDT/tuple encoding on disk to get rid of that extra 4 bytes per field of overhead. While it&apos;s not strictly necessary to disable &lt;tt&gt;ALTER TYPE ALTER TYPE&lt;/tt&gt; right now, we might as well do it now, knowing that we will eventually, and it&apos;s not something that really useful anyway. Plus for consistency with &lt;tt&gt;ALTER TABLE&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15630504" author="carlyeks" created="Wed, 2 Nov 2016 21:04:11 +0000"  >&lt;p&gt;Going to cancel this patch since there are some errors after a cleaner test run, and I want to look to ensure they aren&apos;t related to this.&lt;/p&gt;</comment>
                            <comment id="15644838" author="carlyeks" created="Mon, 7 Nov 2016 17:44:20 +0000"  >&lt;p&gt;There was a failure from the UDT changes; the rest seem more related to the fact that this hasn&apos;t been rebased in awhile. In order to seperate that out, I&apos;ve added the commit fixing the test onto the branches above, but pushed new branches which have been rebased to test:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.x&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.x-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-1-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-1-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/trunk-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-1-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-1-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15702437" author="carlyeks" created="Mon, 28 Nov 2016 16:42:01 +0000"  >&lt;p&gt;After talking offline, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;&apos;s intended comment was that we just leave the 3.0 CQL version the same, but include this fix. Since there are knock-on bugs from leaving the alter support in place, it makes sense for this to go into a bug-fix only version.&lt;/p&gt;

&lt;p&gt;So, I&apos;ve pushed up the 3.0 branch again, and rebased the 3.x and trunk branches:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.x&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/3.x-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-1-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-3.x-1-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/12443/trunk-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-1-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/carlyeks/job/carlyeks-ticket-12443-trunk-1-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15705529" author="blerer" created="Tue, 29 Nov 2016 15:06:10 +0000"  >&lt;p&gt;There was obviously a problem with the last CI runs for &lt;tt&gt;3.X&lt;/tt&gt; and &lt;tt&gt;trunk&lt;/tt&gt;. I retriggered the build.&lt;br/&gt;
If the tests pass I am +1 with the patches.&lt;/p&gt;</comment>
                            <comment id="15705552" author="blerer" created="Tue, 29 Nov 2016 15:09:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;I retriggered the build.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It seems that the problem is caused by some &lt;tt&gt;NPE&lt;/tt&gt;, I will stop the builds. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carlyeks&quot; class=&quot;user-hover&quot; rel=&quot;carlyeks&quot;&gt;carlyeks&lt;/a&gt; can you investigate?&lt;/p&gt;</comment>
                            <comment id="15827613" author="blerer" created="Wed, 18 Jan 2017 08:30:06 +0000"  >&lt;p&gt;I fixed the problem and changed the documentation for UDTs.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:12443-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-3.0-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-3.0-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.11&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:12443-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-3.11-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-3.11-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:12443-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-trunk-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-12443-trunk-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt; could you double check the changes?&lt;/p&gt;
</comment>
                            <comment id="15828186" author="iamaleksey" created="Wed, 18 Jan 2017 14:42:17 +0000"  >&lt;p&gt;There is a small typo in NEWS.txt (UDF fields vs. UDT fields). Other than that +1.&lt;/p&gt;</comment>
                            <comment id="15828263" author="blerer" created="Wed, 18 Jan 2017 15:24:41 +0000"  >&lt;p&gt;Committed into 3.0 at 5f66d48b38d32d3768c78f16753ed4f2095bbede and merged into 3.11 and trunk&lt;/p&gt;</comment>
                            <comment id="15828632" author="iamaleksey" created="Wed, 18 Jan 2017 19:34:41 +0000"  >&lt;p&gt;Sorry about this, but it occurred to me later that &lt;tt&gt;keyValidator&lt;/tt&gt; and &lt;tt&gt;comparator&lt;/tt&gt; probably shouldn&apos;t be final. We can have a frozen UDT as part of the partition key or clustering columns, and if we add a field to that UDT, we need to update &lt;tt&gt;keyValidator&lt;/tt&gt; and &lt;tt&gt;comparator&lt;/tt&gt;. Can you cook up a quick follow up patch? Assuming I&apos;m not drunk here. Thanks.&lt;/p&gt;</comment>
                            <comment id="15829653" author="blerer" created="Thu, 19 Jan 2017 10:13:45 +0000"  >&lt;p&gt;Base on the code of 3.0 it seems that when an &lt;tt&gt;UDT&lt;/tt&gt;  is altered the &lt;tt&gt;CFMetaData&lt;/tt&gt; are recreated and by consequence the &lt;tt&gt;keyValidator&lt;/tt&gt; and &lt;tt&gt;comparator&lt;/tt&gt; too.&lt;/p&gt;</comment>
                            <comment id="15830081" author="iamaleksey" created="Thu, 19 Jan 2017 15:10:36 +0000"  >&lt;p&gt;Oh, but you aren&apos;t taking into account the fact that all that schema code was written by drunk baboons. Any change to active &lt;tt&gt;CFMetaData&lt;/tt&gt; s in the system are still done through the &lt;tt&gt;apply()&lt;/tt&gt; call, until that amazing author of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9425&quot; title=&quot;Make node-local schema fully immutable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9425&quot;&gt;&lt;del&gt;CASSANDRA-9425&lt;/del&gt;&lt;/a&gt; commits his first patch.&lt;/p&gt;</comment>
                            <comment id="15831853" author="blerer" created="Fri, 20 Jan 2017 14:48:30 +0000"  >&lt;p&gt;The followup patch is &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...blerer:12443-3.0-followup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15831854" author="iamaleksey" created="Fri, 20 Jan 2017 14:50:10 +0000"  >&lt;p&gt;Had a look offline already. +1&lt;/p&gt;</comment>
                            <comment id="15832353" author="blerer" created="Fri, 20 Jan 2017 20:22:34 +0000"  >&lt;p&gt;Committed the followup patch into 3.0 at f3b452c54dea0366436ebe2bceac747bdf599e90 and merged into 3.11 and trunk&lt;/p&gt;</comment>
                            <comment id="16763893" author="bozho" created="Fri, 8 Feb 2019 21:12:35 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;This breaks the ability to converet from timeuuid to uuid. So if you realize at some point that you don&apos;t need timeuuid sorting, you are stuck. both uuid and timeuuid are fixed-length and both conform the the same basic contraints; timeuuid has additional constraints. It would be beneficial if such an alteration was possible, as casts are not workable - you can&apos;t insert a regular UUID into a timeuuid column. Maybe this is an edge case, as the type has built-in constraints, but please think if this can be supported.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13033652">CASSANDRA-13116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12863537">CASSANDRA-10309</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i327un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>blerer</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>