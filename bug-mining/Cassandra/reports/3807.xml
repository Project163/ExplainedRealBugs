<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:57:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10282] cqlsh exception when starting with &quot;--debug&quot; option</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10282</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@host ~]# cqlsh --version
cqlsh 5.0.1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@host ~]# cqlsh --debug
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 2487, in &amp;lt;module&amp;gt;
    main(*read_options(sys.argv[1:], os.environ))
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 2448, in main
    sys.stderr.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;Using CQL driver: {}\n&quot;&lt;/span&gt;.format(cassandra))
ValueError: zero length field name in format
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;CentOS 6.4 x86_64&lt;/p&gt;</environment>
        <key id="12862465">CASSANDRA-10282</key>
            <summary>cqlsh exception when starting with &quot;--debug&quot; option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aholmber">Adam Holmberg</assignee>
                                    <reporter username="rokelber">Ryan Okelberry</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Tue, 8 Sep 2015 16:14:40 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:57 +0000</updated>
                            <resolved>Wed, 9 Sep 2015 22:19:42 +0000</resolved>
                                        <fixVersion>2.1.10</fixVersion>
                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>3.0.0 rc1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14735249" author="philipthompson" created="Tue, 8 Sep 2015 17:43:02 +0000"  >&lt;p&gt;Something seems wrong here. What version of python are you using? &lt;tt&gt;cassandra&lt;/tt&gt; shouldn&apos;t be empty unless you failed to import the driver, but if that failed, you should have seen cqlsh exit with a relevant message before making it this far.&lt;/p&gt;</comment>
                            <comment id="14735262" author="rokelber" created="Tue, 8 Sep 2015 17:48:38 +0000"  >&lt;p&gt;Python version&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@host ~]# python --version
Python 2.6.6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Cqlsh runs fine, so long as the --debug option is not provided.  For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@host ~]# cqlsh `hostname` -e &lt;span class=&quot;code-quote&quot;&gt;&quot;DESCRIBE system&quot;&lt;/span&gt; | head

CREATE KEYSPACE system WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;LocalStrategy&apos;&lt;/span&gt;}  AND durable_writes = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

CREATE TABLE system.peers (
    peer inet PRIMARY KEY,
    data_center text,
    host_id uuid,
    preferred_ip inet,
    rack text,
    release_version text,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14735636" author="philipthompson" created="Tue, 8 Sep 2015 21:18:43 +0000"  >&lt;p&gt;I can reproduce this on 2.1, with python 2.6.9. Even installing the python driver separately, and not using the bundled version, this still occurs. It&apos;s an issue printing out the driver to screen, so this might be something for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt; to handle?&lt;/p&gt;</comment>
                            <comment id="14735681" author="aholmber" created="Tue, 8 Sep 2015 21:46:47 +0000"  >&lt;p&gt;At first glance this looks like an invalid format string for python 2.6.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;Using CQL driver: {}\n&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;Using CQL driver: {0}\n&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There&apos;s another one on the next line too.&lt;/p&gt;

&lt;p&gt;It&apos;s in bin/cqlsh. I can provide a patch if you want.&lt;/p&gt;</comment>
                            <comment id="14735695" author="rokelber" created="Tue, 8 Sep 2015 21:54:55 +0000"  >&lt;p&gt;Thanks, Adam.  I applied code changes per your suggestion, and I no longer see the exception.   Here is what I changed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- /usr/bin/cqlsh	2015-09-08 14:53:11.000000000 -0700
+++ /tmp/cqlsh	2015-09-08 14:52:59.000000000 -0700
@@ -2349,7 +2349,7 @@
     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
         options.connect_timeout = &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;(options.connect_timeout)
     except ValueError:
-        parser.error(&lt;span class=&quot;code-quote&quot;&gt;&apos;{} is not a valid timeout.&apos;&lt;/span&gt;.format(options.connect_timeout))
+        parser.error(&lt;span class=&quot;code-quote&quot;&gt;&apos;{0} is not a valid timeout.&apos;&lt;/span&gt;.format(options.connect_timeout))
         options.connect_timeout = DEFAULT_CONNECT_TIMEOUT_SECONDS
 
     options.client_timeout = option_with_default(configs.get, &lt;span class=&quot;code-quote&quot;&gt;&apos;connection&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;client_timeout&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;10&apos;&lt;/span&gt;)
@@ -2445,8 +2445,8 @@
             sys.exit(&lt;span class=&quot;code-quote&quot;&gt;&quot;Can&apos;t open %r: %s&quot;&lt;/span&gt; % (options.file, e))
 
     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; options.debug:
-        sys.stderr.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;Using CQL driver: {}\n&quot;&lt;/span&gt;.format(cassandra))
-        sys.stderr.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;Using connect timeout: {} seconds\n&quot;&lt;/span&gt;.format(options.connect_timeout))
+        sys.stderr.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;Using CQL driver: {0}\n&quot;&lt;/span&gt;.format(cassandra))
+        sys.stderr.write(&lt;span class=&quot;code-quote&quot;&gt;&quot;Using connect timeout: {0} seconds\n&quot;&lt;/span&gt;.format(options.connect_timeout))
 
     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
         shell = Shell(hostname,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14735700" author="philipthompson" created="Tue, 8 Sep 2015 21:57:05 +0000"  >&lt;p&gt;Thanks for the advice &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;. I&apos;ll review Ryan&apos;s patch and test if it works on pythons 2.7 and 3.4.&lt;/p&gt;</comment>
                            <comment id="14735707" author="aholmber" created="Tue, 8 Sep 2015 21:59:37 +0000"  >&lt;p&gt;Although the format is technically correct, after looking at the anomalies, I would recommend normalizing the string formatting to match the rest of the file. I&apos;m attaching a patch for 2.1 branch.&lt;/p&gt;</comment>
                            <comment id="14735724" author="rokelber" created="Tue, 8 Sep 2015 22:16:03 +0000"  >&lt;p&gt;Adam, your supplied patch is working for me.&lt;/p&gt;</comment>
                            <comment id="14737159" author="philipthompson" created="Wed, 9 Sep 2015 16:40:58 +0000"  >&lt;p&gt;+1. Patch works for me on 2.7 and 3.4&lt;/p&gt;</comment>
                            <comment id="14737704" author="thobbs" created="Wed, 9 Sep 2015 22:19:42 +0000"  >&lt;p&gt;Thanks, committed as &lt;tt&gt;acc08aeca4cc8bcee7948b9e3460a2679aec6247&lt;/tt&gt; to 2.1 and merged up.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12754944" name="10282-2.2-3.0.txt" size="1128" author="aholmber" created="Wed, 9 Sep 2015 16:29:40 +0000"/>
                            <attachment id="12754748" name="10282.txt" size="1116" author="aholmber" created="Tue, 8 Sep 2015 22:00:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aholmber]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jwbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332984">2.1.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>philipthompson</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[philipthompson]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>