<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:22:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2643] read repair/reconciliation breaks slice based iteration at QUORUM</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2643</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In short, I believe iterating over columns is impossible to do reliably with QUORUM due to the way reconciliation works.&lt;/p&gt;

&lt;p&gt;The problem is that the SliceQueryFilter is executing locally when reading on a node, but no attempts seem to be made to consider limits when doing reconciliation and/or read-repair (RowRepairResolver.resolveSuperset() and ColumnFamily.resolve()).&lt;/p&gt;

&lt;p&gt;If a node slices and comes up with 100 columns, and another node slices and comes up with 100 columns, some of which are unique to each side, reconciliation results in &amp;gt; 100 columns in the result set. In this case the effect is limited to &quot;client gets more than asked for&quot;, but the columns still accurately represent the range. This is easily triggered by my test-case.&lt;/p&gt;

&lt;p&gt;In addition to the client receiving &quot;too many&quot; columns, I believe some of them will not be satisfying the QUORUM consistency level for the same reasons as with deletions (see discussion below).&lt;/p&gt;

&lt;p&gt;Now, there &lt;b&gt;should&lt;/b&gt; be a problem for tombstones as well, but it&apos;s more subtle. Suppose A has:&lt;/p&gt;

&lt;p&gt;  1&lt;br/&gt;
  2&lt;br/&gt;
  3&lt;br/&gt;
  4&lt;br/&gt;
  5&lt;br/&gt;
  6&lt;/p&gt;

&lt;p&gt;and B has:&lt;/p&gt;

&lt;p&gt;  1&lt;br/&gt;
  del 2&lt;br/&gt;
  del 3&lt;br/&gt;
  del 4&lt;br/&gt;
  5&lt;br/&gt;
  6 &lt;/p&gt;

&lt;p&gt;If you now slice 1-6 with count=3 the tombstones from B will reconcile with those from A - fine. So you end up getting 1,5,6 back. This made it a bit difficult to trigger in a test case until I realized what was going on. At first I was &quot;hoping&quot; to see a &quot;short&quot; iteration result, which would mean that the process of iterating until you get a short result will cause spurious &quot;end of columns&quot; and thus make it impossible to iterate correctly.&lt;/p&gt;

&lt;p&gt;So; due to 5-6 existing (and if they didn&apos;t, you legitimately reached end-of-columns) we do indeed get a result of size 3 which contains 1,5 and 6. However, only node B would have contributed columns 5 and 6; so there is actually no QUORUM consistency on the co-ordinating node with respect to these columns. If node A and C also had 5 and 6, they would not have been considered.&lt;/p&gt;

&lt;p&gt;Am I wrong?&lt;/p&gt;

&lt;p&gt;In any case; using script I&apos;m about to attach, you can trigger the over-delivery case very easily:&lt;/p&gt;

&lt;p&gt;(0) disable hinted hand-off to avoid that interacting with the test&lt;br/&gt;
(1) start three nodes&lt;br/&gt;
(2) create ks &apos;test&apos; with rf=3 and cf &apos;slicetest&apos;&lt;br/&gt;
(3) ./slicetest.py hostname_of_node_C insert # let it run for a few seconds, then ctrl-c&lt;br/&gt;
(4) stop node A&lt;br/&gt;
(5) ./slicetest.py hostname_of_node_C insert # let it run for a few seconds, then ctrl-c&lt;br/&gt;
(6) start node A, wait for B and C to consider it up&lt;br/&gt;
(7) ./slicetest.py hostname_of_node_A slice # make A co-ordinator though it doesn&apos;t necessarily matter&lt;/p&gt;

&lt;p&gt;You can also pass &apos;delete&apos; (random deletion of 50% of contents) or &apos;deleterange&apos; (delete all in &lt;span class=&quot;error&quot;&gt;&amp;#91;0.2,0.8&amp;#93;&lt;/span&gt;) to slicetest, but you don&apos;t trigger a short read by doing that (see discussion above).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507010">CASSANDRA-2643</key>
            <summary>read repair/reconciliation breaks slice based iteration at QUORUM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="byronclark">Byron Clark</assignee>
                                    <reporter username="scode">Peter Schuller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 May 2011 16:27:30 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:59 +0000</updated>
                            <resolved>Tue, 2 Aug 2011 13:27:25 +0000</resolved>
                                        <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13032589" author="scode" created="Thu, 12 May 2011 19:04:54 +0000"  >&lt;p&gt;Unless I&apos;m off, the problem with deleted columns is fairly similar to that of deleted rows. Like with range ghosts, an option would be to propagate tombstones to clients.&lt;/p&gt;

&lt;p&gt;Another option is to make read responses include the range for which they are authoritative, and then only consider the intersection of all responses&apos; authoritative ranges when reconciling results. The authoritative range of the response would have to be communicated back to the client, such that it can continue iterating from the appropriate column name even without actually receiving a column for that name.&lt;/p&gt;

&lt;p&gt;Other than failing requests with a new kind of error, I don&apos;t see a good way to fix the tombstone case (the over-shoot case can be fixed by just capping results) without changing the protocol. For obvious reason&apos;s we don&apos;t want the co-originating node to go into a potentially unbounded re-try spin until sufficient results are obtained from all nodes participating.&lt;/p&gt;

&lt;p&gt;FWIW, returning iteration state feels pretty clean to me (it&apos;s what our layer implements on top to enable easier iteration). It is also compatible with future improvements to e.g. cap the size of a response by bytes for safely slicing over columns whose size you do not know. By removing the strict requirement to deliver exactly the number of asked-for columns else it be interpreted as &quot;out of columns&quot;, significant flexibility is gained. So if the only option for a clean fix is truly to change the protocol, at least other positive benefits may be had.&lt;/p&gt;</comment>
                            <comment id="13032897" author="scode" created="Fri, 13 May 2011 08:13:51 +0000"  >&lt;p&gt;I realized I failed to make the possibly most important point: That you can indeed get short reads such that iteration will stop early. Consider 3 nodes, RF=3, QUORUM.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Node A has &lt;span class=&quot;error&quot;&gt;&amp;#91;10,40&amp;#93;&lt;/span&gt; of columns&lt;/li&gt;
	&lt;li&gt;Node B has &lt;span class=&quot;error&quot;&gt;&amp;#91;10,40&amp;#93;&lt;/span&gt; of columns&lt;/li&gt;
	&lt;li&gt;Node C has &lt;span class=&quot;error&quot;&gt;&amp;#91;10,20&amp;#93;&lt;/span&gt; of column deletions for the columns that A/B has,&lt;br/&gt;
but does NOT have any for &lt;span class=&quot;error&quot;&gt;&amp;#91;21,40&amp;#93;&lt;/span&gt; because it was down when those were written&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now a client slices &lt;span class=&quot;error&quot;&gt;&amp;#91;10,1000&amp;#93;&lt;/span&gt; with count=11. The co-ordinating node will reconcile that; C&apos;s tombstones will override A/B (I&apos;m assuming tombstones are later than A+B&apos;s columns), but since C is lacking the &quot;remainder&quot; of columns you don&apos;t just get some columns at lowered consistency level - you actually get a &quot;short&quot; result, and the application or high-level client will believe that the iteration is complete.&lt;/p&gt;

&lt;p&gt;This was the primary reason why I said in the OP that I believed &quot;iterating over columns is impossible to do reliably with QUORUM&quot;. I somehow lost this when re-phrasing the JIRA post a couple of times.&lt;/p&gt;

&lt;p&gt;Note: The short read case is not something I have tested and triggered, so is based on extrapolation from my understanding of the code.&lt;/p&gt;
</comment>
                            <comment id="13033065" author="slebresne" created="Fri, 13 May 2011 15:01:43 +0000"  >&lt;p&gt;You are right, there is a problem here.&lt;/p&gt;

&lt;p&gt;I&apos;ll just note that you example is not a good example for QUORUM, because the fact that only C &quot;has &lt;span class=&quot;error&quot;&gt;&amp;#91;10,20&amp;#93;&lt;/span&gt; of column deletions&quot; means this situation did not happen with QUORUM writes (and the consistency guarantee for QUORUM involves read and write being at QUORUM).&lt;/p&gt;

&lt;p&gt;However, this still show that there is a problem for ONE (writes) + ALL (reads). And it&apos;s not hard to come up with an example for QUORUM (reads and writes). Just consider the case where you insert like 10 columns and then delete the 3 first ones but with each time 1 node down, but never the same one.&lt;/p&gt;

&lt;p&gt;To make this concrete, I&apos;m attaching a script that produce this &quot;short read&quot; effect. Disclaimer: it uses &lt;a href=&quot;https://github.com/pcmanus/ccm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pcmanus/ccm&lt;/a&gt; and require the patch I&apos;ve attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2646&quot; title=&quot;Cli should be able to specify a limit for get_slice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2646&quot;&gt;&lt;del&gt;CASSANDRA-2646&lt;/del&gt;&lt;/a&gt; (to be able to do a bounded slice with the cli).&lt;/p&gt;

&lt;p&gt;The simplest way to fix that I see (which doesn&apos;t imply simple per se) would be to requests more columns if we&apos;re short after a resolve on the coordinator.  Yes in theory it means we may have to do a unknown number of such re-request, but in practice I strongly doubt this will be a problem. The problem has very little chance to happen in real life to start with (for QUORUM, my script is simple but implements something that has very very little change to actually happen in real life &amp;#8211; especially with HH, read repair and repair), but the chances that if that happens we need more that 1 re-request are ridiculously small.&lt;/p&gt;</comment>
                            <comment id="13035030" author="scode" created="Tue, 17 May 2011 20:34:57 +0000"  >&lt;p&gt;You&apos;re right of course - my example was bogus. I&apos;ll also agree about re-try being reasonable under the circumstances, though perhaps not optimal.&lt;/p&gt;

&lt;p&gt;With regards to the fix. Let me just make sure I understand you correctly. So given a read command with a limit N that yields &amp;lt;N columns (post-reconciliation), we may need to re-request from one or more nodes. But how do we distinguish between a legitimate short read and a spurious short read? The criteria seems to me to be, that a read is potentially spuriously short if &quot;one or more of the nodes involved returned a NON-short read&quot;. If all of them returned short reads, it&apos;s fine; only if we have results from a node that we cannot prove did indeed exhaust its list of available columns do we need to check.&lt;/p&gt;

&lt;p&gt;That is my understanding of your proposed solution, and that does seem doable on the co-ordinator side without protocol changes since we obviously know what we actually got from each node; it&apos;s just a matter of coding acrobatics (not sure how much work).&lt;/p&gt;

&lt;p&gt;However, would you agree with this claim: This would fix the spurious short read problem specifically, but does not address the more general problem of consistency - i.e., one might receive columns that have not gone through reconciliation by QUORUM?&lt;/p&gt;

&lt;p&gt;If we are to solve that, while still not implying protocol changes, I believe we need to do re-tries whenever a more general condition is true: That we do not have confirmed QUORUM for the full range implied by the start+limit range that we are being asked for. In other words, if one or more of the nodes participating in the read returned a response that satisfies:&lt;/p&gt;

&lt;p&gt;  (1) The response was &lt;b&gt;not&lt;/b&gt; short.&lt;br/&gt;
    AND&lt;br/&gt;
  (2) The response &quot;last&quot; column was &amp;lt; than the &quot;last&quot; column that we are to return post-reconciliation.&lt;/p&gt;

&lt;p&gt;Lacking a protocol change to communicate authoritative ranges of responses, and given that the premise is that we &lt;b&gt;must&lt;/b&gt; deliver start+limit unless there are &amp;lt; limit number of columns available, we necessarily can only consider the full range (first-to-last column) of a response as authoritative (except in the case of a short read, in which case it&apos;s authoritative to infinity).&lt;/p&gt;

&lt;p&gt;Without revisiting the code to try to figure out what the easiest way to implement it is, one thought is that if you agree that a clean long-term fix would be to communicate authoritativeness in responses, perhaps one can at least make the logic to handle this compatible with that way of thinking. It&apos;s just that until protocol changes can happen, we&apos;d (1) infer authoritativeness from columns/tombstones in the result instead of from explicit indicators in a response, and (2) since we cannot propagate short ranges to clients, we must re-request instead of cleanly return a short-but-not-eof-indicating range to the client.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13072163" author="byronclark" created="Thu, 28 Jul 2011 03:58:50 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;^short_read_0.8.sh&amp;#93;&lt;/span&gt; is an update to &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12479111/12479111_short_read.sh&quot; title=&quot;short_read.sh attached to CASSANDRA-2643&quot;&gt;short_read.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; that works with 0.8.x.&lt;/p&gt;</comment>
                            <comment id="13072651" author="byronclark" created="Fri, 29 Jul 2011 02:18:37 +0000"  >&lt;p&gt;I&apos;m having a really hard time reproducing this issue consistently on trunk. That&apos;s not to say that it doesn&apos;t happen, but I&apos;m only seeing it one time out of fifteen using short_read.sh.&lt;/p&gt;

&lt;p&gt;I&apos;m running this on Linux and, from the logs, it looks like the downed node isn&apos;t being detected as down, even when I sleep 10 seconds before doing the set.&lt;/p&gt;

&lt;p&gt;Any hints on getting this failure to happen more reliably?&lt;/p&gt;</comment>
                            <comment id="13072666" author="byronclark" created="Fri, 29 Jul 2011 03:39:16 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12488169/12488169_reliable_short_read_0.8.sh&quot; title=&quot;reliable_short_read_0.8.sh attached to CASSANDRA-2643&quot;&gt;reliable_short_read_0.8.sh&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; reproduces the issue for me every time.  This script requires the following commit to ccm: &lt;a href=&quot;https://github.com/byronclark/ccm/commit/974a5773228e783d4a91d7ba46d744e5a1216377&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/byronclark/ccm/commit/974a5773228e783d4a91d7ba46d744e5a1216377&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13072697" author="byronclark" created="Fri, 29 Jul 2011 06:25:12 +0000"  >&lt;p&gt;The attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12488173/12488173_CASSANDRA-2643-poc.patch&quot; title=&quot;CASSANDRA-2643-poc.patch attached to CASSANDRA-2643&quot;&gt;CASSANDRA-2643-poc.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, while extremely ugly, serves as a proof of concept that all the data is available and the short read problem can be corrected.&lt;/p&gt;</comment>
                            <comment id="13073108" author="byronclark" created="Sat, 30 Jul 2011 02:45:28 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12488280/12488280_CASSANDRA-2643-v2.patch&quot; title=&quot;CASSANDRA-2643-v2.patch attached to CASSANDRA-2643&quot;&gt;CASSANDRA-2643-v2.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; makes the following improvements on &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12488173/12488173_CASSANDRA-2643-poc.patch&quot; title=&quot;CASSANDRA-2643-poc.patch attached to CASSANDRA-2643&quot;&gt;CASSANDRA-2643-poc.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Cleans up duplicated code for counting live columns.&lt;/li&gt;
	&lt;li&gt;Removes the need to store the ReadCommand in the RepairCallback.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Remaining issue to be dealt with:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Storing maxLiveColumns in the resolver feels wrong, but that&apos;s where the data is generated.  We need to know how many live rows the biggest return had to detect if this is actually a short read. I&apos;m open to suggestions a better place for that count to live.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13073980" author="jbellis" created="Mon, 1 Aug 2011 22:52:39 +0000"  >&lt;p&gt;Looks good on the whole.  One point to clear up:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((maxLiveColumns &amp;gt;= sliceCommand.count) &amp;amp;&amp;amp; (liveColumnsInRow &amp;lt; sliceCommand.count))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;maxLiveColumns is the max from a single response, so how can it be greater than sliceCommand.count?  Would this be a valid reformulation?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; maxLiveColumns &amp;lt;= sliceCommand.count;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((maxLiveColumns == sliceCommand.count) &amp;amp;&amp;amp; (liveColumnsInRow &amp;lt; sliceCommand.count))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Minor things I&apos;d like to clean up:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;is maxLiveColumns valid on any AbstractRR subclass other than RRR? If not I&apos;d rather move it in there and throw an UnsupportedOperation in ARR.&lt;/li&gt;
	&lt;li&gt;Would prefer initializing commandsToRetry to Collections.emptyList, to avoid allocating that list in the common case that no retries are needed.  (Then clear of course needs to become allocate.)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13076021" author="byronclark" created="Tue, 2 Aug 2011 04:11:46 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12488855/12488855_CASSANDRA-2643-v3.patch&quot; title=&quot;CASSANDRA-2643-v3.patch attached to CASSANDRA-2643&quot;&gt;CASSANDRA-2643-v3.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; incorporates Jonathan&apos;s suggestions.&lt;/p&gt;</comment>
                            <comment id="13076193" author="jbellis" created="Tue, 2 Aug 2011 13:27:25 +0000"  >&lt;p&gt;added a skeleton getMaxLiveColumns to RangeSliceResponseResolver (and created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2986&quot; title=&quot;Fix short reads in range (and index?) scans&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2986&quot;&gt;&lt;del&gt;CASSANDRA-2986&lt;/del&gt;&lt;/a&gt; to follow up on that) and committed.&lt;/p&gt;

&lt;p&gt;thanks!&lt;/p&gt;</comment>
                            <comment id="13076220" author="hudson" created="Tue, 2 Aug 2011 14:22:27 +0000"  >&lt;p&gt;Integrated in Cassandra #992 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/992/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/992/&lt;/a&gt;)&lt;br/&gt;
    fix &quot;short reads&quot; in &lt;span class=&quot;error&quot;&gt;&amp;#91;multi&amp;#93;&lt;/span&gt;get&lt;br/&gt;
patch by Byron Clark; reviewed by jbellis for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2643&quot; title=&quot;read repair/reconciliation breaks slice based iteration at QUORUM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2643&quot;&gt;&lt;del&gt;CASSANDRA-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;jbellis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1153115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1153115&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/IResponseResolver.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/StorageProxy.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/RepairCallback.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/AbstractRowResolver.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/RowRepairResolver.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/db/AbstractColumnContainer.java&lt;/li&gt;
	&lt;li&gt;/cassandra/trunk/src/java/org/apache/cassandra/service/RangeSliceResponseResolver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12488060" name="ASF.LICENSE.NOT.GRANTED--short_read_0.8.sh" size="1695" author="byronclark" created="Thu, 28 Jul 2011 03:58:50 +0000"/>
                            <attachment id="12488173" name="CASSANDRA-2643-poc.patch" size="17743" author="byronclark" created="Fri, 29 Jul 2011 06:25:12 +0000"/>
                            <attachment id="12488280" name="CASSANDRA-2643-v2.patch" size="17520" author="byronclark" created="Sat, 30 Jul 2011 02:45:28 +0000"/>
                            <attachment id="12488855" name="CASSANDRA-2643-v3.patch" size="18357" author="byronclark" created="Tue, 2 Aug 2011 04:11:46 +0000"/>
                            <attachment id="12488169" name="reliable_short_read_0.8.sh" size="1735" author="byronclark" created="Fri, 29 Jul 2011 03:39:16 +0000"/>
                            <attachment id="12479111" name="short_read.sh" size="1532" author="slebresne" created="Fri, 13 May 2011 15:01:43 +0000"/>
                            <attachment id="12478987" name="slicetest.py" size="2835" author="scode" created="Thu, 12 May 2011 16:28:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[byronclark]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gclb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>