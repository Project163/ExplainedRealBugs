<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:30:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19925] should show error when altering table with Non-frozen UDTs with nested non-frozen collections</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19925</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Cassandra version: 5.0.0 GA&lt;/p&gt;

&lt;p&gt;Given this type&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TYPE testType
    (
        userids SET&amp;lt;UUID&amp;gt;
    );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If I try to create this table&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE test
(
    id     INT PRIMARY KEY,
    myType testType
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It shows an error: &quot;Non-frozen UDTs with nested non-frozen collections are not supported&quot;&lt;/p&gt;

&lt;p&gt;But if I create the table without the type and then alter the table:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE test
(
    id     INT PRIMARY KEY
);
alter TABLE test add myType testType;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It does not show that error, which it should.&lt;br/&gt;
-------&lt;br/&gt;
Also the output of `describe test;` shows that it successfully altered the table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592210">CASSANDRA-19925</key>
            <summary>should show error when altering table with Non-frozen UDTs with nested non-frozen collections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smiklosovic">Stefan Miklosovic</assignee>
                                    <reporter username="soheilrahsaz">Soheil Rahsaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Sep 2024 06:28:05 +0000</created>
                <updated>Mon, 30 Sep 2024 12:25:05 +0000</updated>
                            <resolved>Wed, 18 Sep 2024 21:35:13 +0000</resolved>
                                        <fixVersion>4.0.15</fixVersion>
                    <fixVersion>4.1.8</fixVersion>
                    <fixVersion>5.0.2</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Cluster/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17882166" author="smiklosovic" created="Mon, 16 Sep 2024 19:01:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-19925-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-19925-5.0&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                        4m 17s
  &#10003; j17_cqlsh_dtests_py311                           6m 46s
  &#10003; j17_cqlsh_dtests_py311_vnode                     6m 28s
  &#10003; j17_cqlsh_dtests_py38                            6m 11s
  &#10003; j17_cqlsh_dtests_py38_vnode                      6m 52s
  &#10003; j17_cqlshlib_cython_tests                         8m 7s
  &#10003; j17_cqlshlib_tests                               7m 13s
  &#10003; j17_dtests                                      33m 58s
  &#10003; j17_dtests_vnode                                34m 58s
  &#10003; j17_jvm_dtests_latest_vnode                     14m 27s
  &#10003; j17_unit_tests                                  15m 16s
  &#10003; j17_unit_tests_repeat                             7m 4s
  &#10003; j17_utests_latest_repeat                         7m 41s
  &#10003; j17_utests_oa                                   15m 38s
  &#10003; j17_utests_oa_repeat                              7m 7s
  &#10005; j17_dtests_latest                               34m 18s
      bootstrap_test.TestBootstrap test_read_from_bootstrapped_node
  &#10005; j17_jvm_dtests                                   24m 1s
      junit.framework.TestSuite org.apache.cassandra.distributed.test.CASMultiDCTest
  &#10005; j17_utests_latest                               18m 42s
      org.apache.cassandra.cql3.validation.operations.SelectTest testCreatingUDFWithSameNameAsBuiltin_PrefersCompatibleArgs
java17_separate_tests                            
java11_pre-commit_tests                         
java11_separate_tests                            
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4747/workflows/b0d2c88a-9356-4b66-8e4a-4a699c9b97f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4747/workflows/0d119b07-6941-440a-a27c-f614c6dd1a9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_separate_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4747/workflows/96fb6232-78d2-44be-874b-ea199b3a7fea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4747/workflows/6cfd03d7-bdc9-4568-8daf-9d649a67263f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_separate_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17882167" author="smiklosovic" created="Mon, 16 Sep 2024 19:02:30 +0000"  >&lt;p&gt;failures not related&lt;/p&gt;</comment>
                            <comment id="17882179" author="smiklosovic" created="Mon, 16 Sep 2024 20:05:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-19925-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-19925-trunk&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                        4m 42s
  &#10003; j17_cqlsh_dtests_py311                            7m 1s
  &#10003; j17_cqlsh_dtests_py311_vnode                     7m 38s
  &#10003; j17_cqlsh_dtests_py38                            7m 28s
  &#10003; j17_cqlsh_dtests_py38_vnode                      7m 26s
  &#10003; j17_cqlshlib_cython_tests                        7m 46s
  &#10003; j17_cqlshlib_tests                               6m 52s
  &#10003; j17_dtests                                      34m 30s
  &#10003; j17_dtests_vnode                                37m 41s
  &#10003; j17_unit_tests                                  15m 30s
  &#10003; j17_unit_tests_repeat                            7m 18s
  &#10003; j17_utests_latest                               15m 21s
  &#10003; j17_utests_latest_repeat                         6m 19s
  &#10003; j17_utests_oa                                    15m 0s
  &#10003; j17_utests_oa_repeat                             7m 27s
  &#10005; j17_dtests_latest                                35m 4s
      replica_side_filtering_test.TestSecondaryIndexes test_complementary_deletion_with_limit_on_clustering_key_column
      replica_side_filtering_test.TestSecondaryIndexes test_complementary_deletion_with_limit_on_partition_key_column_with_not_empty_partitions
      bootstrap_test.TestBootstrap test_consistent_range_movement_false_with_replica_down_should_succeed
  &#10005; j17_jvm_dtests                                  24m 44s
  &#10005; j17_jvm_dtests_latest_vnode                      27m 0s
      org.apache.cassandra.distributed.test.tcm.CMSPlacementAfterMoveTest testMoveToCMS
      junit.framework.TestSuite org.apache.cassandra.fuzz.harry.integration.model.InJVMTokenAwareExecutorTest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4748/workflows/cee686af-0779-4f53-b565-4b62bc8a01ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17882454" author="mmuzaf" created="Tue, 17 Sep 2024 16:39:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17882456" author="brandon.williams" created="Tue, 17 Sep 2024 16:45:34 +0000"  >&lt;p&gt;This also appears to affect 4.0 and 4.1&lt;/p&gt;</comment>
                            <comment id="17882467" author="smiklosovic" created="Tue, 17 Sep 2024 17:04:29 +0000"  >&lt;p&gt;I will build it and will merge tomorrow.&#160;&lt;/p&gt;</comment>
                            <comment id="17882608" author="smiklosovic" created="Wed, 18 Sep 2024 08:08:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-19925-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-19925-4.1&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java11_pre-commit_tests                         
  &#10003; j11_build                                        1m 59s
  &#10003; j11_cqlsh_dtests_py3                             5m 32s
  &#10003; j11_cqlsh_dtests_py311                           5m 34s
  &#10003; j11_cqlsh_dtests_py311_vnode                      6m 2s
  &#10003; j11_cqlsh_dtests_py38                             6m 6s
  &#10003; j11_cqlsh_dtests_py38_vnode                      5m 53s
  &#10003; j11_cqlsh_dtests_py3_vnode                       5m 51s
  &#10003; j11_cqlshlib_cython_tests                        7m 23s
  &#10003; j11_cqlshlib_tests                               6m 47s
  &#10003; j11_jvm_dtests                                  16m 13s
  &#10003; j11_jvm_dtests_vnode                            12m 46s
  &#10003; j11_unit_tests                                   9m 23s
  &#10003; j11_unit_tests_repeat                            6m 20s
  &#10005; j11_dtests                                      33m 23s
      largecolumn_test.TestLargeColumn test_cleanup
  &#10005; j11_dtests_vnode                                37m 56s
      largecolumn_test.TestLargeColumn test_cleanup
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4750/workflows/b0c829a7-34a9-4e42-9601-4d7290c31437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17882609" author="smiklosovic" created="Wed, 18 Sep 2024 08:08:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-19925-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-19925-4.0&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java11_pre-commit_tests                         
  &#10003; j11_build                                        1m 45s
  &#10003; j11_cqlsh-dtests-py2-no-vnodes                   5m 23s
  &#10003; j11_cqlsh-dtests-py2-with-vnodes                 5m 28s
  &#10003; j11_cqlsh_dtests_py3                             5m 20s
  &#10003; j11_cqlsh_dtests_py311                           6m 27s
  &#10003; j11_cqlsh_dtests_py311_vnode                     5m 47s
  &#10003; j11_cqlsh_dtests_py38                             6m 3s
  &#10003; j11_cqlsh_dtests_py38_vnode                      5m 45s
  &#10003; j11_cqlsh_dtests_py3_vnode                       6m 12s
  &#10003; j11_cqlshlib_tests                                8m 0s
  &#10003; j11_dtests                                      32m 47s
  &#10003; j11_dtests_vnode                                36m 34s
  &#10003; j11_jvm_dtests                                   9m 59s
  &#10003; j11_unit_tests                                   7m 48s
  &#10003; j11_unit_tests_repeat                            6m 31s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/4751/workflows/314f1495-2e63-4098-b946-d479feeeb090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java11_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17882815" author="smiklosovic" created="Wed, 18 Sep 2024 21:35:13 +0000"  >&lt;p&gt;note to myself: do not forget to bump the fixed versions when the current release train is finished&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rfq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mmuzaf]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12350367">4.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/39b1c2df896fd6f17d2ce1863ee467d2cc069e24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/39b1c2df896fd6f17d2ce1863ee467d2cc069e24&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;ci&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>