<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:49:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8181] Intermittent failure of SSTableImportTest unit test</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8181</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Testsuite: org.apache.cassandra.tools.SSTableImportTest
    [junit] Tests run: 8, Failures: 1, Errors: 0, Time elapsed: 6.712 sec
    [junit] 
    [junit] ------------- Standard Output ---------------
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 1 keys...
    [junit] 1 keys imported successfully.
    [junit] Counting keys to import, please wait... (NOTE: to skip this use -n &amp;lt;num_keys&amp;gt;)
    [junit] Importing 2 keys...
    [junit] 2 keys imported successfully.
    [junit] ------------- ---------------- ---------------
    [junit] Testcase: testImportWithAsciiKeyValidator(org.apache.cassandra.tools.SSTableImportTest):    FAILED
    [junit] null
    [junit] junit.framework.AssertionFailedError
    [junit]     at org.apache.cassandra.tools.SSTableImportTest.testImportWithAsciiKeyValidator(SSTableImportTest.java:166)
    [junit] 
    [junit] 
    [junit] Test org.apache.cassandra.tools.SSTableImportTest FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;testImportWithAsciiKeyValidator was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7498&quot; title=&quot;sstable2json exports keys in a wrong format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7498&quot;&gt;&lt;del&gt;CASSANDRA-7498&lt;/del&gt;&lt;/a&gt; and fails as above occasionally (~10-15% of runs) in CI. Attached is the system.log from the failed test on 2.1 HEAD (8e5fdc2).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12750230">CASSANDRA-8181</key>
            <summary>Intermittent failure of SSTableImportTest unit test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="mshuler">Michael Shuler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2014 22:42:34 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:30 +0000</updated>
                            <resolved>Tue, 25 Nov 2014 10:06:22 +0000</resolved>
                                        <fixVersion>2.1.3</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14182099" author="mshuler" created="Thu, 23 Oct 2014 22:45:17 +0000"  >&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=azotcsit&quot; class=&quot;user-hover&quot; rel=&quot;azotcsit&quot;&gt;azotcsit&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14182534" author="blerer" created="Fri, 24 Oct 2014 07:32:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt; do you know if it always fail on the same machine? &lt;/p&gt;</comment>
                            <comment id="14183049" author="mshuler" created="Fri, 24 Oct 2014 17:01:22 +0000"  >&lt;p&gt;It has repro&apos;ed for me on three different machines - gotta loop over the test, but usually fails before it reaches the 10th run. A 25x=good bisection on two different machines each landed me on the initial commit of this test, so it has been intermittent all along  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14220719" author="blerer" created="Fri, 21 Nov 2014 09:25:50 +0000"  >&lt;p&gt;The problem came from the fact that &lt;tt&gt;testBackwardCompatibilityOfImportWithAsciiKeyValidator&lt;/tt&gt; was setting the System property &lt;tt&gt;skip.key.validator&lt;/tt&gt; to true while &lt;tt&gt;testImportWithAsciiKeyValidator&lt;/tt&gt; was expecting the default value which is false. As with Java 7 JUnit does not guarantee anymore the order in which the test methods are run, if &lt;tt&gt;testBackwardCompatibilityOfImportWithAsciiKeyValidator&lt;/tt&gt;  was run before &lt;tt&gt;testImportWithAsciiKeyValidator&lt;/tt&gt; then the second test would fail otherwise it would pass.&lt;br/&gt;
The patch set the the System property &lt;tt&gt;skip.key.validator&lt;/tt&gt; to false in &lt;tt&gt;testImportWithAsciiKeyValidator&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14222832" author="blerer" created="Mon, 24 Nov 2014 09:45:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=azotcsit&quot; class=&quot;user-hover&quot; rel=&quot;azotcsit&quot;&gt;azotcsit&lt;/a&gt; as you are the one that wrote the patch for #7498 could you review the fix.&lt;/p&gt;</comment>
                            <comment id="14222833" author="azotcsit" created="Mon, 24 Nov 2014 09:51:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; good catch, the fix LGTM. Thanks.&lt;/p&gt;</comment>
                            <comment id="14224319" author="slebresne" created="Tue, 25 Nov 2014 10:06:22 +0000"  >&lt;p&gt;Committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12682845" name="CASSANDRA-8181.txt" size="1026" author="blerer" created="Fri, 21 Nov 2014 09:25:50 +0000"/>
                            <attachment id="12676763" name="SSTableImportTest_failure_system.log.gz" size="45489" author="mshuler" created="Thu, 23 Oct 2014 22:42:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21ivb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326774">2.1.1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>azotcsit</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[azotcsit]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>