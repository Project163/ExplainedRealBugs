<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:30:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19042] Repair fuzz tests fail with paxos_variant: v2</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19042</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Adding &lt;tt&gt;paxos_variant: v2&lt;/tt&gt; to the test yaml causes all fuzz repair tests to fail with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.cassandra.gms.EndpointStateSerializer.serializedSize(EndpointState.java:337)
	at org.apache.cassandra.gms.EndpointStateSerializer.serializedSize(EndpointState.java:300)
	at org.apache.cassandra.service.paxos.cleanup.PaxosStartPrepareCleanup$RequestSerializer.serializedSize(PaxosStartPrepareCleanup.java:176)
	at org.apache.cassandra.service.paxos.cleanup.PaxosStartPrepareCleanup$RequestSerializer.serializedSize(PaxosStartPrepareCleanup.java:147)
	at org.apache.cassandra.net.Message$Serializer.payloadSize(Message.java:1067)
	at org.apache.cassandra.net.Message.payloadSize(Message.java:1114)
	at org.apache.cassandra.net.Message$Serializer.serializedSize(Message.java:750)
	at org.apache.cassandra.net.Message.serializedSize(Message.java:1094)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens for all three options of &lt;tt&gt;paxos_state_purging&lt;/tt&gt; and both with and without &lt;tt&gt;storage_compatibility_mode: NONE&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Tests still fail if &lt;tt&gt;PaxosStartPrepareCleanup&lt;/tt&gt; is changed to use &lt;tt&gt;EndpointState.nullableSerializer&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558861">CASSANDRA-19042</key>
            <summary>Repair fuzz tests fail with paxos_variant: v2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dcapwell">David Capwell</assignee>
                                    <reporter username="blambov">Branimir Lambov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Nov 2023 12:23:27 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:57 +0000</updated>
                            <resolved>Tue, 26 Mar 2024 20:05:45 +0000</resolved>
                                        <fixVersion>5.0-rc1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Consistency/Repair</component>
                    <component>Feature/Lightweight Transactions</component>
                    <component>Test/fuzz</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="17807363" author="brandon.williams" created="Tue, 16 Jan 2024 17:25:06 +0000"  >&lt;p&gt;I am not sure to which test classes this ticket is referring.&lt;/p&gt;</comment>
                            <comment id="17807666" author="blambov" created="Wed, 17 Jan 2024 09:49:42 +0000"  >&lt;p&gt;&lt;tt&gt;ConcurrentIrWithPreviewFuzzTest&lt;/tt&gt;,&#160;&lt;tt&gt;FailedAckTest&lt;/tt&gt;,&#160;&lt;tt&gt;FailingRepairFuzzTest&lt;/tt&gt;,&#160;&lt;tt&gt;HappyPathFuzzTest&lt;/tt&gt;,&#160;&lt;tt&gt;SlowMessageFuzzTest&lt;/tt&gt;&#160; (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18753?focusedCommentId=17799053&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17799053&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this message&lt;/a&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18753&quot; title=&quot;Add an optimized default configuration to tests and make it available for new users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18753&quot;&gt;&lt;del&gt;CASSANDRA-18753&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17816698" author="edimitrova" created="Mon, 12 Feb 2024 18:38:30 +0000"  >&lt;p&gt;I just reproduced the failures locally (I just added paxos_variant: v2 to test/conf/cassandra.yaml), additional info from the logs (the seed):&lt;/p&gt;

&lt;p&gt;From ConcurrentWithPreviewFuzzTest:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected:
Seed = -6456873881643357481
Examples = 1
Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
Error: [Unexpected state: CoordinatorState{id=6588f030-c9b9-11ee-81c7-6fee43e114c1, stateTimesNanos=[8, 9, 10, 13666484591, 13666484592, 0], status=REPAIR_START [65bc0e20-c9b9-11ee-81c7-6fee43e114c1 -&amp;gt; JOBS_START [0fff0eab-a13c-3248-ab12-635952d340f9 -&amp;gt; START, e4e4d875-8c80-368d-bfea-afa9ef178589 -&amp;gt; START, 58b90213-eb64-31e9-a275-6bff67e78788 -&amp;gt; START, 63bae9a5-5c06-3685-bfdd-4b0681951136 -&amp;gt; START, 1824c0eb-78fc-32da-874d-f8a0b566dd67 -&amp;gt; START, a42a69b7-91ac-386e-8934-b9a23601ea2d -&amp;gt; START, 369781e7-1e5a-3e03-baca-b9eb679ab4f8 -&amp;gt; START, 0b1a46d8-efb2-3547-a839-8846a622e640 -&amp;gt; START, e561a6d0-008b-39ba-91fd-dcbe166353f2 -&amp;gt; START, 4d16aa58-6aac-3fa3-bba2-61b7f8b5c238 -&amp;gt; START, 375a57b5-edc3-3d7b-8c7f-d08429b07f26 -&amp;gt; START, 2f04952f-a3ab-3cff-bca7-0f5e44d59108 -&amp;gt; START, e5b12a73-2ad2-3b9e-8746-0ecb03fa0965 -&amp;gt; START, f825cfd2-e978-3b63-abf7-50bc5b146d6e -&amp;gt; START, b9a8e9af-bf58-33ed-a284-36589667f1d7 -&amp;gt; START, 98de84a5-07da-3b30-b0cf-9a2d75cb9ca6 -&amp;gt; START, 90315bc7-6924-3477-984e-ec6c2373942a -&amp;gt; START]], lastUpdatedAtNs=13666484592} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 0]&#160;
Expected :Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;}
Actual &#160; :&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&amp;lt;Click to see difference&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From FailedAckTest:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = -8617430568727655543 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: java.lang.NullPointerException Values: 0 = accord.utils.DefaultRandom@1c75ec47&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;From FailingRepairFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = 7036945207707455042 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error:&#160; [Repair job did not complete, and no work is pending...]&#160; Expecting value to be &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; but was &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&#160; Expected :&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; Actual &#160; :&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &amp;lt;Click to see difference&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;From HappyPathFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = 8541934826854387396 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error:&#160; [Expected repair to have completed with success, but is still running... CoordinatorState{id=4124b9d0-c9ba-11ee-b210-8f7adf243783, stateTimesNanos=[2738379730691, 2738379730692, 2738379730693, 2738379826911, 2738379826912, 0], status=REPAIR_START [41361ef0-c9ba-11ee-b210-8f7adf243783 -&amp;gt; JOBS_START [ad280658-e07c-38ae-9ff4-dd56fece81df -&amp;gt; START, 9e85982c-7901-3502-af6b-f683e9617711 -&amp;gt; START, 147565d1-283d-312d-b795-15f1adacdd1e -&amp;gt; START, ee37391e-b4ce-33b0-9ac8-e2e5ce4153bf -&amp;gt; START, b8c11499-9db1-34ed-8ec3-d3819ec13812 -&amp;gt; START, 7d8fa384-cd19-31b0-9bb0-66ff63a75522 -&amp;gt; START, 22a4277c-e8a8-3dd7-8338-72baded7565b -&amp;gt; START, 64812245-e5a8-331a-83a4-04d82f989849 -&amp;gt; START, d7ae0d85-e5a3-3aa2-806b-35a7aa26cf3e -&amp;gt; START, 6120a4af-f4ac-3920-a4f5-081ca1fec9eb -&amp;gt; START]], lastUpdatedAtNs=2738379826912}; example 5]&#160; Expecting actual not to be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Values: 0 = accord.utils.DefaultRandom@2b9e3959&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
From SlowMessageFuzzTest:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = 6770255418436456602 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error:&#160; [Expected repair to have completed with success, but is still running... CoordinatorState{id=531b9280-c9ba-11ee-a6e8-8d32047a723f, stateTimesNanos=[86400000039026, 86400000039027, 86400000039028, 86431212201082, 86431212201083, 0], status=REPAIR_START [5329ea60-c9ba-11ee-a6e8-8d32047a723f -&amp;gt; JOBS_START [f174c026-91b4-3908-8be5-c540bee8c271 -&amp;gt; START, d4fbd273-3b29-306b-8ebd-48fcdc7151bd -&amp;gt; START, a1eee6fc-8c75-365f-9790-6032086a2faf -&amp;gt; START]], lastUpdatedAtNs=86431212201083}; example 1]&#160; Expecting actual not to be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Values: 0 = accord.utils.DefaultRandom@17e605cc&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&#160;&lt;br/&gt;
I don&apos;t know what Accord has to do with this here in 5.0. We are using some configuration-related methods from Accord as a library in 5.0? (I haven&apos;t looked into any details yet; just a quick assumption)&lt;/p&gt;</comment>
                            <comment id="17816707" author="edimitrova" created="Mon, 12 Feb 2024 19:03:09 +0000"  >&lt;p&gt;All these tests were introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18816&quot; title=&quot;Add support for repair coordinator to retry messages that timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18816&quot;&gt;&lt;del&gt;CASSANDRA-18816&lt;/del&gt;&lt;/a&gt;. I checked, and they also fail with the commit from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18816&quot; title=&quot;Add support for repair coordinator to retry messages that timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18816&quot;&gt;&lt;del&gt;CASSANDRA-18816&lt;/del&gt;&lt;/a&gt; if we change the default test config and add&#160;&lt;tt&gt;paxos_variant: v2&lt;/tt&gt;.&lt;br/&gt;
Though they were failing with different seeds, etc. Logs below.&#160;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcuse&quot; class=&quot;user-hover&quot; rel=&quot;marcuse&quot;&gt;marcuse&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maedhroz&quot; class=&quot;user-hover&quot; rel=&quot;maedhroz&quot;&gt;maedhroz&lt;/a&gt;&#160;- as the people involved in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18816&quot; title=&quot;Add support for repair coordinator to retry messages that timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18816&quot;&gt;&lt;del&gt;CASSANDRA-18816&lt;/del&gt;&lt;/a&gt;, any immediate thoughts or pointers you may have that can save me some time with this ticket will be highly appreciated. This is one of our last 5.0 blockers. &#160;&#160;&lt;br/&gt;
From ConcurrentWithPreviewFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.cassandra.transport.ProtocolException: Property error detected: Seed = -7170984628001741947 Examples = 2 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error:&#160; Property error detected: Seed = -7170984628001741947 Examples = 2 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: [Unexpected state: CoordinatorState{id=5eff5f10-c9d7-11ee-9b5f-89c2cb879fc0, stateTimesNanos=[12, 13, 14, 2280377, 2280378, 0], status=REPAIR_START [5f1b2470-c9d7-11ee-9b5f-89c2cb879fc0 -&amp;gt; JOBS_START [34249ea9-fe80-3ba4-95f5-f8f9f7b24256 -&amp;gt; START, effc8637-9f49-30b6-8fae-92b328b1961a -&amp;gt; START, 03b2efbf-e8ec-305d-8cf6-cbbf34ff8e2d -&amp;gt; START, ac7eb281-b198-3224-8d14-23f6edbb8a1d -&amp;gt; START, 30380f07-8aef-3202-b36c-446e83e60b7e -&amp;gt; START, 9d8ec591-6095-37c3-8516-18f972869fec -&amp;gt; START, 54e6cdff-0492-3b76-b296-ed493bc7ce09 -&amp;gt; START, 8bb29732-d581-3532-804d-621767a4c143 -&amp;gt; START, ff01ec8c-ced4-37e7-acb0-7c64a98bd60e -&amp;gt; START, eadbfcf2-e8a5-38b6-9825-2681f79472fa -&amp;gt; START, 38a4c786-de6b-31f0-a9b6-59339adfa853 -&amp;gt; START, 7f6999a4-7919-3d5c-bcde-59b5687b4b0a -&amp;gt; START, 6721f872-bee9-31f1-b318-2d7560296e5a -&amp;gt; START, 5d8c7c61-bb2a-3abb-900e-c1149bc97919 -&amp;gt; START, 8f7e4046-fbe9-30bf-8096-9c7c3becf4ff -&amp;gt; START, d522d89b-f38c-3bfe-aea5-a79d0b2b3223 -&amp;gt; START, c32800e8-ab09-35bf-a172-a35c869b1edd -&amp;gt; START]], lastUpdatedAtNs=2280378} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 0] expected:&amp;lt;Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;}&amp;gt; but was:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; Values: 0 = accord.utils.DefaultRandom@4a480ae0 &#160; Values: &#160; &#160; at accord.utils.Property$Common.checkWithTimeout(Property.java:103) at accord.utils.Property$SingleBuilder.check(Property.java:223) at accord.utils.Property$ForBuilder.check(Property.java:124) at org.apache.cassandra.repair.ConcurrentIrWithPreviewFuzzTest.concurrentIrWithPreview(ConcurrentIrWithPreviewFuzzTest.java:46) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;From FailedAckTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = -6503298441918509340 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: java.lang.NullPointerException Values: 0 = accord.utils.DefaultRandom@26088f68 &#160; &#160; at accord.utils.Property$SingleBuilder.checkInternal(Property.java:242) at accord.utils.Property$SingleBuilder.check(Property.java:226) at accord.utils.Property$ForBuilder.check(Property.java:124) at org.apache.cassandra.repair.FailedAckTest.failedAck(FailedAckTest.java:55) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.NullPointerException at org.apache.cassandra.repair.FailedAckTest.lambda$failedAck$2(FailedAckTest.java:111) at accord.utils.Property$SingleBuilder.checkInternal(Property.java:238) ... 31 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
From&#160;FailingRepairFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = -5015666072012112646 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: java.lang.NullPointerException Values: 0 = accord.utils.DefaultRandom@508ab9df &#160; &#160; at accord.utils.Property$SingleBuilder.checkInternal(Property.java:242) at accord.utils.Property$SingleBuilder.check(Property.java:226) at accord.utils.Property$ForBuilder.check(Property.java:124) at org.apache.cassandra.repair.FailingRepairFuzzTest.failingRepair(FailingRepairFuzzTest.java:56) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.NullPointerException at org.apache.cassandra.repair.FailingRepairFuzzTest.lambda$failingRepair$7(FailingRepairFuzzTest.java:117) at accord.utils.Property$SingleBuilder.checkInternal(Property.java:238) ... 31 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
From HappyPathFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = 390039633566762113 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: [Unexpected state: CoordinatorState{id=66186de0-c9d8-11ee-b3f6-519a0247b0ec, stateTimesNanos=[2329005302769, 2329005302770, 2329005302771, 2329005377202, 2329005377203, 0], status=REPAIR_START [6625b450-c9d8-11ee-b3f6-519a0247b0ec -&amp;gt; JOBS_START [a646ec64-fa21-359a-a130-738ad50a854b -&amp;gt; START, 463d2d92-a043-3563-91b2-d0a5f03db446 -&amp;gt; START, 03ffbb25-07c5-3d8a-aee0-66edbd0cfe7d -&amp;gt; START, 55447527-8eff-3944-8e37-bda3a41617e1 -&amp;gt; START]], lastUpdatedAtNs=2329005377203} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 7]&#160; Expected :Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;} Actual &#160; :&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;lt;Click to see difference&amp;gt; &#160; &#160; at accord.utils.Property$SingleBuilder.checkInternal(Property.java:242) at accord.utils.Property$SingleBuilder.check(Property.java:226) at accord.utils.Property$ForBuilder.check(Property.java:124) at org.apache.cassandra.repair.HappyPathFuzzTest.happyPath(HappyPathFuzzTest.java:41) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: org.junit.ComparisonFailure: [Unexpected state: CoordinatorState{id=66186de0-c9d8-11ee-b3f6-519a0247b0ec, stateTimesNanos=[2329005302769, 2329005302770, 2329005302771, 2329005377202, 2329005377203, 0], status=REPAIR_START [6625b450-c9d8-11ee-b3f6-519a0247b0ec -&amp;gt; JOBS_START [a646ec64-fa21-359a-a130-738ad50a854b -&amp;gt; START, 463d2d92-a043-3563-91b2-d0a5f03db446 -&amp;gt; START, 03ffbb25-07c5-3d8a-aee0-66edbd0cfe7d -&amp;gt; START, 55447527-8eff-3944-8e37-bda3a41617e1 -&amp;gt; START]], lastUpdatedAtNs=2329005377203} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 7] expected:&amp;lt;Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;}&amp;gt; but was:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at org.apache.cassandra.repair.FuzzTestBase.assertSuccess(FuzzTestBase.java:363) at org.apache.cassandra.repair.FuzzTestBase.runAndAssertSuccess(FuzzTestBase.java:358) at org.apache.cassandra.repair.HappyPathFuzzTest.lambda$happyPath$1(HappyPathFuzzTest.java:56) at accord.utils.Property$SingleBuilder.checkInternal(Property.java:238) ... 31 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
&#160;From SlowMessageFuzzTest:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
accord.utils.Property$PropertyError: Property error detected: Seed = 3747033657857023425 Examples = 10 Pure = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; Error: [Unexpected state: CoordinatorState{id=a05de110-c9d8-11ee-bfbc-3f2e6afb6dd4, stateTimesNanos=[20, 21, 22, 6293336, 6293337, 0], status=REPAIR_START [a07cdac0-c9d8-11ee-bfbc-3f2e6afb6dd4 -&amp;gt; JOBS_START [a6e8b5d5-d76e-3a7b-8e0c-5f3c57f80df1 -&amp;gt; START, 3c8aea57-16fb-34f2-9758-0d7144240e28 -&amp;gt; START, 04bb0a71-1274-340b-8e06-97a1182b0f1d -&amp;gt; START, b80d2937-6ffe-3bad-928e-ec1bb992308a -&amp;gt; START, a13a5536-3060-3ea4-8b4f-b14a7ce7b94e -&amp;gt; START, f5d0c43f-4966-3a09-a3e4-063f972ebe8d -&amp;gt; START, 3f2de2b3-b6d7-3c34-b09d-fd9b32fb113e -&amp;gt; START, 7e177cae-5695-30c8-99aa-e160d6b6f307 -&amp;gt; START, dec47bd7-794f-3d55-bf0e-59d69b42b0ac -&amp;gt; START]], lastUpdatedAtNs=6293337} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 0]&#160; Expected :Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;} Actual &#160; :&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;lt;Click to see difference&amp;gt; &#160; &#160; at accord.utils.Property$SingleBuilder.checkInternal(Property.java:242) at accord.utils.Property$SingleBuilder.check(Property.java:226) at accord.utils.Property$ForBuilder.check(Property.java:124) at org.apache.cassandra.repair.SlowMessageFuzzTest.slowMessages(SlowMessageFuzzTest.java:41) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: org.junit.ComparisonFailure: [Unexpected state: CoordinatorState{id=a05de110-c9d8-11ee-bfbc-3f2e6afb6dd4, stateTimesNanos=[20, 21, 22, 6293336, 6293337, 0], status=REPAIR_START [a07cdac0-c9d8-11ee-bfbc-3f2e6afb6dd4 -&amp;gt; JOBS_START [a6e8b5d5-d76e-3a7b-8e0c-5f3c57f80df1 -&amp;gt; START, 3c8aea57-16fb-34f2-9758-0d7144240e28 -&amp;gt; START, 04bb0a71-1274-340b-8e06-97a1182b0f1d -&amp;gt; START, b80d2937-6ffe-3bad-928e-ec1bb992308a -&amp;gt; START, a13a5536-3060-3ea4-8b4f-b14a7ce7b94e -&amp;gt; START, f5d0c43f-4966-3a09-a3e4-063f972ebe8d -&amp;gt; START, 3f2de2b3-b6d7-3c34-b09d-fd9b32fb113e -&amp;gt; START, 7e177cae-5695-30c8-99aa-e160d6b6f307 -&amp;gt; START, dec47bd7-794f-3d55-bf0e-59d69b42b0ac -&amp;gt; START]], lastUpdatedAtNs=6293337} -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; example 0] expected:&amp;lt;Result{kind=SUCCESS, message=&lt;span class=&quot;code-quote&quot;&gt;&apos;Repair completed successfully&apos;&lt;/span&gt;}&amp;gt; but was:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&amp;gt; at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at org.apache.cassandra.repair.FuzzTestBase.assertSuccess(FuzzTestBase.java:363) at org.apache.cassandra.repair.FuzzTestBase.runAndAssertSuccess(FuzzTestBase.java:358) at org.apache.cassandra.repair.SlowMessageFuzzTest.lambda$slowMessages$1(SlowMessageFuzzTest.java:58) at accord.utils.Property$SingleBuilder.checkInternal(Property.java:238) ... 31 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17817079" author="edimitrova" created="Tue, 13 Feb 2024 16:51:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt;&#160;suggested in Slack that it could be failing due to some simulator limited scope implementation. The simulation doesn&#8217;t go through normal code as it mocks stuff like messaging.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17817086" author="dcapwell" created="Tue, 13 Feb 2024 17:25:59 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR [main] 2024-02-13 09:23:00,196 ServerTestUtils.java:128 - Fatal exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[main,5,main]
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.cassandra.gms.EndpointStateSerializer.serializedSize(EndpointState.java:337)
	at org.apache.cassandra.gms.EndpointStateSerializer.serializedSize(EndpointState.java:300)
	at org.apache.cassandra.service.paxos.cleanup.PaxosStartPrepareCleanup$RequestSerializer.serializedSize(PaxosStartPrepareCleanup.java:176)
	at org.apache.cassandra.service.paxos.cleanup.PaxosStartPrepareCleanup$RequestSerializer.serializedSize(PaxosStartPrepareCleanup.java:147)
	at org.apache.cassandra.net.Message$Serializer.payloadSize(Message.java:1067)
	at org.apache.cassandra.net.Message.payloadSize(Message.java:1110)
	at org.apache.cassandra.net.Message$Serializer.serializedSize(Message.java:750)
	at org.apache.cassandra.net.Message.serializedSize(Message.java:1090)
	at org.apache.cassandra.net.OutboundConnections.connectionTypeFor(OutboundConnections.java:215)
	at org.apache.cassandra.net.OutboundConnections.connectionFor(OutboundConnections.java:207)
	at org.apache.cassandra.net.OutboundConnections.enqueue(OutboundConnections.java:96)
	at org.apache.cassandra.net.MessagingService.doSend(MessagingService.java:478)
	at org.apache.cassandra.net.OutboundSink.accept(OutboundSink.java:70)
	at org.apache.cassandra.net.MessagingService.send(MessagingService.java:467)
	at org.apache.cassandra.net.MessagingService.sendWithCallback(MessagingService.java:407)
	at org.apache.cassandra.net.MessagingService.sendWithCallback(MessagingService.java:399)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This error is because some code path escaped simulation and is trying to use real logic... &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t know what Accord has to do with this here in 5.0. We are using some configuration-related methods from Accord as a library in 5.0? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The quick theories library can be harder to create generators than the library we wrote in Accord, so I forward ported that to make these tests easier... the code will go away once Accord merges as accord will provide these interfaces...&lt;/p&gt;

&lt;p&gt;Those accord classes are currently in-tree on 5.0 and trunk&lt;/p&gt;</comment>
                            <comment id="17817087" author="dcapwell" created="Tue, 13 Feb 2024 17:28:51 +0000"  >&lt;p&gt;The bug is in org.apache.cassandra.service.paxos.cleanup.PaxosStartPrepareCleanup#prepare&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; PaxosStartPrepareCleanup prepare(TableId tableId, Collection&amp;lt;InetAddressAndPort&amp;gt; endpoints, EndpointState localEpState, Collection&amp;lt;Range&amp;lt;Token&amp;gt;&amp;gt; ranges)
    {
        PaxosStartPrepareCleanup callback = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PaxosStartPrepareCleanup(tableId, endpoints);
        &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (callback)
        {
            Message&amp;lt;Request&amp;gt; message = Message.out(PAXOS2_CLEANUP_START_PREPARE_REQ, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Request(tableId, localEpState, ranges));
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (InetAddressAndPort endpoint : endpoints)
                MessagingService.instance().sendWithCallback(message, endpoint, callback);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; callback;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We have logic to block anything in the repair package from touching global state, but this is paxos package... so we don&apos;t detect this...&lt;/p&gt;

&lt;p&gt;The fix for this is to stop touching static state and use the SharedContext class&lt;/p&gt;</comment>
                            <comment id="17817111" author="dcapwell" created="Tue, 13 Feb 2024 18:40:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blambov&quot; class=&quot;user-hover&quot; rel=&quot;blambov&quot;&gt;blambov&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;, so I took a stab at getting this working but had to stop... The paxos repair logic was mostly ok to migrate to the repair logic, but hit a snag with org.apache.cassandra.service.paxos.cleanup.PaxosFinishPrepareCleanup.PendingCleanup#add, having a global static state is not something these tests can handle (see org.apache.cassandra.service.paxos.cleanup.PaxosFinishPrepareCleanup.PendingCleanup#pendingCleanup)... So we would need to either:&lt;/p&gt;

&lt;p&gt;1) ignore paxos_v2 for these tests&lt;br/&gt;
2) refactor paxos repair to be friendlier to the requirements of Repair (mockable state)&lt;/p&gt;

&lt;p&gt;I don&apos;t have cycles for #2 but opt-out of paxos_v2 shouldn&apos;t be hard... I do think it would be best to adapt paxos repair as the repair tests have found several repair bugs, so adding more coverage here makes a lot of sense... but not something I have cycles for.&lt;/p&gt;</comment>
                            <comment id="17817163" author="dcapwell" created="Tue, 13 Feb 2024 21:27:41 +0000"  >&lt;p&gt;I spoke with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt; and did the refactor to the paxos cleanup state and found one more place impacted as well.  After finishing that all the tests are passing but I had to disable faults for the paxos verbs (a single dropped message causes us to fail the repair).&lt;/p&gt;

&lt;p&gt;Spoke with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; and I will take this ticket&lt;/p&gt;</comment>
                            <comment id="17821798" author="edimitrova" created="Wed, 28 Feb 2024 18:02:56 +0000"  >&lt;p&gt;Does &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt; plan to review this one? I can take a look, but I haven&apos;t worked on that area of the code, so I may miss something important to the more experienced eye.&lt;/p&gt;

&lt;p&gt;Is there a CI run?&lt;/p&gt;</comment>
                            <comment id="17821852" author="bdeggleston" created="Wed, 28 Feb 2024 19:53:20 +0000"  >&lt;p&gt;sure, I can review it&lt;/p&gt;</comment>
                            <comment id="17822163" author="edimitrova" created="Thu, 29 Feb 2024 14:49:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;, appreciate it&lt;/p&gt;</comment>
                            <comment id="17825949" author="bereng" created="Wed, 13 Mar 2024 07:48:46 +0000"  >&lt;p&gt;5.0 looks like is nearing completion :fireworks: so any help here from someone knowledgeable would be great! #collaborating&lt;/p&gt;</comment>
                            <comment id="17829196" author="edimitrova" created="Wed, 20 Mar 2024 14:49:00 +0000"  >&lt;p&gt;This is one of our last 5.0 blockers.&lt;/p&gt;

&lt;p&gt;To help expedite the work, I rebased the patch &lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/CASSANDRA-19042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here &lt;/a&gt;, just started min CI run - &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=CASSANDRA-19042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=CASSANDRA-19042&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If nothing shows up from CI&apos;s perspective, I will do a first pass of review. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;, I hope you can still look at it, too.&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17829219" author="edimitrova" created="Wed, 20 Mar 2024 15:56:33 +0000"  >&lt;p&gt;CI ended up green for 5.0. As&#160;paxos_variant was not changed in the latest configuration to v2 as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18753&quot; title=&quot;Add an optimized default configuration to tests and make it available for new users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18753&quot;&gt;&lt;del&gt;CASSANDRA-18753&lt;/del&gt;&lt;/a&gt;, I changed it locally and reran all the mentioned failing tests with the applied patch.&lt;br/&gt;
They all finished successfully, too.&lt;br/&gt;
I will start reviewing it in the afternoon.&#160;&lt;/p&gt;</comment>
                            <comment id="17830609" author="bdeggleston" created="Mon, 25 Mar 2024 17:18:20 +0000"  >&lt;p&gt;LGTM, thanks!&lt;/p&gt;</comment>
                            <comment id="17830670" author="edimitrova" created="Mon, 25 Mar 2024 19:24:56 +0000"  >&lt;p&gt;Overall LGTM (though limited knowledge in that part of the codebase, I admit). Some nits left, which can be addressed on commit.&lt;/p&gt;

&lt;p&gt;The CI run was limited preliminary development testing (the skinny dev workflow Berenguer created).&lt;/p&gt;

&lt;p&gt;We will need a full pre-commit CI. Also, the patch needs to be propagated to trunk and tested there, too.&lt;/p&gt;

&lt;p&gt;Do we want to run all tests with paxos_v2 enabled, at least on one of the branches? WDYT?&#160;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="17830686" author="brandon.williams" created="Mon, 25 Mar 2024 20:05:42 +0000"  >&lt;p&gt;Note that metrics tests for v2 will fail until &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19046&quot; title=&quot;Paxos V2 does not update individual fields of readMetrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19046&quot;&gt;CASSANDRA-19046&lt;/a&gt; is resolved.&lt;/p&gt;</comment>
                            <comment id="17830696" author="dcapwell" created="Mon, 25 Mar 2024 20:45:28 +0000"  >&lt;p&gt;thanks, going to start the merge soon&lt;/p&gt;</comment>
                            <comment id="17831073" author="dcapwell" created="Tue, 26 Mar 2024 20:42:18 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19042&quot; title=&quot;Repair fuzz tests fail with paxos_variant: v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19042&quot;&gt;&lt;del&gt;CASSANDRA-19042&lt;/del&gt;&lt;/a&gt;-cassandra-5.0-1063CFD8-3926-49C7-B1AB-1243E1BB2872&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-5.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;99dbcac488d74480e84f92f6449cdd684a8e4fb0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test largecolumn_test.TestLargeColumn::largecolumn_test.py::TestLargeColumn::test_cleanup failed     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests-large &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_indev_4_0_x_To_indev_5_0_x::upgrade_tes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19042&quot; title=&quot;Repair fuzz tests fail with paxos_variant: v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19042&quot;&gt;&lt;del&gt;CASSANDRA-19042&lt;/del&gt;&lt;/a&gt;-cassandra-5.0-1063CFD8-3926-49C7-B1AB-1243E1BB2872&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-5.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;99dbcac488d74480e84f92f6449cdd684a8e4fb0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test largecolumn_test.TestLargeColumn::largecolumn_test.py::TestLargeColumn::test_cleanup failed     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests-large &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_indev_4_0_x_To_indev_5_0_x::upgrade_tes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19042&quot; title=&quot;Repair fuzz tests fail with paxos_variant: v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19042&quot;&gt;&lt;del&gt;CASSANDRA-19042&lt;/del&gt;&lt;/a&gt;-cassandra-5.0-1063CFD8-3926-49C7-B1AB-1243E1BB2872&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-5.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;99dbcac488d74480e84f92f6449cdd684a8e4fb0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test largecolumn_test.TestLargeColumn::largecolumn_test.py::TestLargeColumn::test_cleanup failed     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests-large &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_indev_4_0_x_To_indev_5_0_x::upgrade_tes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19042&quot; title=&quot;Repair fuzz tests fail with paxos_variant: v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19042&quot;&gt;&lt;del&gt;CASSANDRA-19042&lt;/del&gt;&lt;/a&gt;-trunk-1063CFD8-3926-49C7-B1AB-1243E1BB2872&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;04336bab2c74199ac4062cd8026ee7f8fa4634e3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-dtests          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.distributed.test.CASMultiDCTest::testLocalSerialLocalCommit-_jdk11 failed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test gossip_test.TestGossip::gossip_test.py::TestGossip::test_assassinate_valid_node failed,Test lar &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_current_4_0_x_To_indev_trunk::upgrade_t &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19042&quot; title=&quot;Repair fuzz tests fail with paxos_variant: v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19042&quot;&gt;&lt;del&gt;CASSANDRA-19042&lt;/del&gt;&lt;/a&gt;-trunk-1063CFD8-3926-49C7-B1AB-1243E1BB2872&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;04336bab2c74199ac4062cd8026ee7f8fa4634e3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-dtests          &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.distributed.test.CASMultiDCTest::testLocalSerialLocalCommit-_jdk11 failed  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test gossip_test.TestGossip::gossip_test.py::TestGossip::test_assassinate_valid_node failed,Test lar &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-upgrade-dtests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test upgrade_tests.upgrade_through_versions_test.TestUpgrade_current_4_0_x_To_indev_trunk::upgrade_t &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17831076" author="dcapwell" created="Tue, 26 Mar 2024 20:43:38 +0000"  >&lt;p&gt;the failures I saw were either flakey (not there on rerun) or fail 100% of the time in our CI but not on circle...&lt;/p&gt;

&lt;p&gt;If this does cause anyone CI issues please reach out to me, we can revert if need to&lt;/p&gt;</comment>
                            <comment id="17831085" author="edimitrova" created="Tue, 26 Mar 2024 21:15:38 +0000"  >&lt;p&gt;&lt;em&gt;largecolumn_test.TestLargeColumn::largecolumn_test.py::TestLargeColumn::test_cleanup&lt;/em&gt; - seems like something in your environment as far as I understand. I can also confirm it is not failing in CircleCI&lt;/p&gt;

&lt;p&gt;&lt;em&gt;upgrade_tests.upgrade_through_versions_test.TestUpgrade_indev_4_0_x_To_indev_5_0_x::upgrade_test&lt;/em&gt; - it does not seem related, but we may want to open a ticket for this one. Though probably not a release blocker as those bootstrap tests are known to flake from time to time every now and then since quite some time. Do you see it also on previous branches in your environment?&lt;/p&gt;

&lt;p&gt;&lt;em&gt;test_assassinate_valid_node&lt;/em&gt; - known from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18753&quot; title=&quot;Add an optimized default configuration to tests and make it available for new users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18753&quot;&gt;&lt;del&gt;CASSANDRA-18753&lt;/del&gt;&lt;/a&gt;, just reported today&lt;/p&gt;

&lt;p&gt;&lt;em&gt;testLocalSerialLocalCommit&lt;/em&gt; - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18851&quot; title=&quot;Test failure: junit.framework.TestSuite.org.apache.cassandra.distributed.test.CASMultiDCTest.testLocalSerialLocalCommit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18851&quot;&gt;CASSANDRA-18851&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13558862">CASSANDRA-19043</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                                                <inwardlinks description="Discovered while testing">
                                        <issuelink>
            <issuekey id="13547359">CASSANDRA-18753</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13067698" name="ci_summary-cassandra-5.0-99dbcac488d74480e84f92f6449cdd684a8e4fb0.html" size="39201" author="dcapwell" created="Tue, 26 Mar 2024 19:58:36 +0000"/>
                            <attachment id="13067699" name="ci_summary-trunk-04336bab2c74199ac4062cd8026ee7f8fa4634e3.html" size="45360" author="dcapwell" created="Tue, 26 Mar 2024 19:58:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12990" cascade-level="1"><![CDATA[Test Failure]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lr2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bdeggleston]]></customfieldvalue>
        <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12353951">5.1-beta</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/ca0b77d7434aa75528e0cb625889825d29c5f122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/ca0b77d7434aa75528e0cb625889825d29c5f122&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;updated tests&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>