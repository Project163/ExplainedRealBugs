<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:33:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3865] Cassandra-cli returns &apos;command not found&apos; instead of syntax error</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3865</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When creating a column family from the output of &apos;show schema&apos; with an index, there is a trailing comma after &quot;index_type: 0,&quot;  The return from this is a &apos;command not found&apos;  This is misleading because the command is found, there is just a syntax error.&lt;/p&gt;

&lt;p&gt;&apos;Command not found: `create column family $cfname ...`&lt;/p&gt;
</description>
                <environment>&lt;p&gt;DSE 1.0.5&lt;/p&gt;</environment>
        <key id="12541467">CASSANDRA-3865</key>
            <summary>Cassandra-cli returns &apos;command not found&apos; instead of syntax error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbrosius">David Brosius</assignee>
                                    <reporter username="elubow">Eric Lubow</reporter>
                        <labels>
                            <label>cassandra-cli</label>
                    </labels>
                <created>Mon, 6 Feb 2012 19:32:46 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:40 +0000</updated>
                            <resolved>Sat, 26 May 2012 19:54:45 +0000</resolved>
                                        <fixVersion>1.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13202428" author="yukim" created="Tue, 7 Feb 2012 14:33:20 +0000"  >&lt;p&gt;This is fixed in 1.0.7 (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3714&quot; title=&quot;Show Schema; inserts an extra comma in column_metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3714&quot;&gt;&lt;del&gt;CASSANDRA-3714&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13281691" author="elubow" created="Wed, 23 May 2012 15:56:31 +0000"  >&lt;p&gt;This doesn&apos;t appear to be fixed.&lt;/p&gt;

&lt;p&gt;Welcome to Cassandra CLI version 1.0.8&lt;/p&gt;

&lt;p&gt;Type &apos;help;&apos; or &apos;?&apos; for help.&lt;br/&gt;
Type &apos;quit;&apos; or &apos;exit;&apos; to quit.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;default@linkcurrent&amp;#93;&lt;/span&gt; create column family social_poll_deltas&lt;br/&gt;
...	  with column_type = &apos;Standard&apos;&lt;br/&gt;
...	  and comparator = &apos;CompositeType(org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.LongType)&apos;&lt;br/&gt;
...	  and default_validation_class = &apos;UUIDType&apos;&lt;br/&gt;
...	  and key_validation_class = &apos;UUIDType&apos;&lt;br/&gt;
...	  and rows_cached = 0.0&lt;br/&gt;
...	  and row_cache_save_period = 0&lt;br/&gt;
...	  and row_cache_keys_to_save = 2147483647&lt;br/&gt;
...	  and keys_cached = 200000.0&lt;br/&gt;
...	  and key_cache_save_period = 14400&lt;br/&gt;
...	  and read_repair_chance = .25&lt;br/&gt;
...	  and gc_grace = 864000&lt;br/&gt;
...	  and min_compaction_threshold = 4&lt;br/&gt;
...	  and max_compaction_threshold = 32&lt;br/&gt;
...	  and replicate_on_write = true&lt;br/&gt;
...	  and row_cache_provider = &apos;SerializingCacheProvider&apos;&lt;br/&gt;
...	  and compaction_strategy = &apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;&lt;br/&gt;
...	  and comment = &apos;Social poll totals and deltas &apos;;&lt;br/&gt;
Command not found: `create column family social_poll_deltas with column_type = &apos;Standard&apos; and comparator = &apos;CompositeType(org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.LongType)&apos; and default_validation_class = &apos;UUIDType&apos; and key_validation_class = &apos;UUIDType&apos; and rows_cached = 0.0 and row_cache_save_period = 0 and row_cache_keys_to_save = 2147483647 and keys_cached = 200000.0 and key_cache_save_period = 14400 and read_repair_chance = .25 and gc_grace = 864000 and min_compaction_threshold = 4 and max_compaction_threshold = 32 and replicate_on_write = true and row_cache_provider = &apos;SerializingCacheProvider&apos; and compaction_strategy = &apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos; and comment = &apos;Social poll totals and deltas &apos;;`. Type &apos;help;&apos; or &apos;?&apos; for help.&lt;/p&gt;</comment>
                            <comment id="13281720" author="elubow" created="Wed, 23 May 2012 16:53:53 +0000"  >&lt;p&gt;As an update, the problem with this (after MUCH trial and error), was that the read_repair_chance was .25 instead of 0.25.&lt;/p&gt;</comment>
                            <comment id="13282125" author="dbrosius@apache.org" created="Thu, 24 May 2012 02:09:40 +0000"  >&lt;p&gt;support decimal parsing as 0.5 and .5&lt;/p&gt;

&lt;p&gt;against trunk&lt;/p&gt;</comment>
                            <comment id="13282140" author="yukim" created="Thu, 24 May 2012 02:36:57 +0000"  >&lt;p&gt;That&apos;t one way to fix parsing problem, but in my understanding, what Eric is saying is that it&apos;s hard to find the error from the message above.&lt;br/&gt;
If we can display more user friendly message like &quot;Parse error: read_repair_chance = .25&quot;, instead of saying &quot;Command not found&quot;, user can easily fix what&apos;s wrong.&lt;/p&gt;

&lt;p&gt;I&apos;m fine with current Double definition if we can fix the error message. What do you think, Pavel?&lt;/p&gt;</comment>
                            <comment id="13282150" author="elubow" created="Thu, 24 May 2012 03:12:38 +0000"  >&lt;p&gt;As Yuki said, I&apos;d be more interested in the fix being a complaint of a syntax error (or parse error) when attempting to create a column family as opposed to &quot;command not found&quot; (which is clearly ambiguous).  This way I (as a user) know that the CLI is aware that I am attempting to create a column family and it&apos;s failing.  Now not only do I know that I am on the right track with the command I&apos;m trying to execute, but then I know roughly where the problem is. Fixing the parse error is just a band-aid.&lt;/p&gt;</comment>
                            <comment id="13282501" author="xedin" created="Thu, 24 May 2012 13:29:43 +0000"  >&lt;p&gt;I think that Dave&apos;s patch is one part of it, another would be to change &quot;Command not found&quot; to &quot;Error in the command&quot; and add information from RecognitionException (which NoViableAltException extends) to were recognition error have actually happend.&lt;/p&gt;

&lt;p&gt;Edit: Also, Dave, please don&apos;t forget that this is intended for inclusion into 1.0 so patches should be against cassandra-1.0 branch instead.&lt;/p&gt;</comment>
                            <comment id="13282691" author="jbellis" created="Thu, 24 May 2012 20:38:23 +0000"  >&lt;p&gt;My fault, I added 1.0 as a fix target after Dave&apos;s patch since I thought it was going to be a quick fix.  Let&apos;s target 1.1 instead.&lt;/p&gt;</comment>
                            <comment id="13282885" author="dbrosius@apache.org" created="Fri, 25 May 2012 01:12:31 +0000"  >&lt;p&gt;3865_better_cli_ex_handling.txt&lt;/p&gt;

&lt;p&gt;has better decimal parsing as before.&lt;/p&gt;

&lt;p&gt;Also has better error messaging when the exception is NoViableAltException.&lt;/p&gt;

&lt;p&gt;For some reason the code special cased that exception and returned the non-useful &quot;Command not found&quot; message. I just removed the special casing and now the message is useful.&lt;/p&gt;

&lt;p&gt;If there is some case that someone knows about that the message &quot;Command not found&quot; is useful, i can put it back in for that specific case, but i couldn&apos;t see it.&lt;/p&gt;

&lt;p&gt;against cassandra-1.1&lt;/p&gt;</comment>
                            <comment id="13283972" author="xedin" created="Sat, 26 May 2012 12:53:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13284005" author="dbrosius@apache.org" created="Sat, 26 May 2012 15:59:52 +0000"  >&lt;p&gt;committed to branch cassandra-1.1 as commit 2d72056c14f9b97e67dd94e48691f3ec1a88d9d6&lt;/p&gt;</comment>
                            <comment id="13284010" author="xedin" created="Sat, 26 May 2012 16:08:57 +0000"  >&lt;p&gt;You also need to add line about that into CHANGES.txt and up-merge it into trunk.&lt;/p&gt;</comment>
                            <comment id="13284053" author="xedin" created="Sat, 26 May 2012 19:54:45 +0000"  >&lt;p&gt;ok, I did CHANGES.txt update and merge for you this time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13284058" author="hudson" created="Sat, 26 May 2012 20:37:05 +0000"  >&lt;p&gt;Integrated in Cassandra #1453 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/1453/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/1453/&lt;/a&gt;)&lt;br/&gt;
    add missing CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3865&quot; title=&quot;Cassandra-cli returns &amp;#39;command not found&amp;#39; instead of syntax error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3865&quot;&gt;&lt;del&gt;CASSANDRA-3865&lt;/del&gt;&lt;/a&gt; (Revision d16c4468e86fbdb82ed981ef6c6ced6f275e4f21)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13284063" author="xedin" created="Sat, 26 May 2012 20:59:10 +0000"  >&lt;p&gt;I have fixed small bug and committed to 1.1 and up-merged into trunk.&lt;/p&gt;</comment>
                            <comment id="13284086" author="hudson" created="Sat, 26 May 2012 22:37:50 +0000"  >&lt;p&gt;Integrated in Cassandra #1455 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra/1455/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra/1455/&lt;/a&gt;)&lt;br/&gt;
    fixes small CLI bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3865&quot; title=&quot;Cassandra-cli returns &amp;#39;command not found&amp;#39; instead of syntax error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3865&quot;&gt;&lt;del&gt;CASSANDRA-3865&lt;/del&gt;&lt;/a&gt; (Revision 46722cc69e47e9b4bdcc5c28f426cf7f0a6a3a7d)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
xedin : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/java/org/apache/cassandra/cli/Cli.g&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12529462" name="3865_better_cli_ex_handling.txt" size="1114" author="dbrosius@apache.org" created="Fri, 25 May 2012 01:12:31 +0000"/>
                            <attachment id="12528837" name="parse_doubles_better.txt" size="422" author="dbrosius@apache.org" created="Thu, 24 May 2012 02:09:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dbrosius]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gp67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>xedin</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>