<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:01:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-11286] streaming socket never times out</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-11286</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While trying to reproduce &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8343&quot; title=&quot;Secondary index creation causes moves/bootstraps to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8343&quot;&gt;&lt;del&gt;CASSANDRA-8343&lt;/del&gt;&lt;/a&gt; I was not able to trigger a &lt;tt&gt;SocketTimeoutException&lt;/tt&gt; by adding an artificial sleep longer than &lt;tt&gt;streaming_socket_timeout_in_ms&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;After investigation, I detected two problems:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;ReadableByteChannel&lt;/tt&gt; creation via &lt;tt&gt;socket.getChannel()&lt;/tt&gt;, as done in &lt;tt&gt;ConnectionHandler.getReadChannel(socket)&lt;/tt&gt;, does not respect &lt;tt&gt;socket.setSoTimeout()&lt;/tt&gt;, as explained in this &lt;a href=&quot;https://technfun.wordpress.com/2009/01/29/networking-in-java-non-blocking-nio-blocking-nio-and-io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;blog post&lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;blockquote&gt;&lt;p&gt;The only difference between &#8220;blocking NIO&#8221; and &#8220;NIO wrapped around IO&#8221; is that you can&#8217;t use socket timeout with SocketChannels. Why ? Read a javadoc for setSocketTimeout(). It says that this timeout is used only by streams.&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;socketSoTimeout&lt;/tt&gt; is never set on &quot;follower&quot; side, only on initiator side via &lt;tt&gt;DefaultConnectionFactory.createConnection(peer)&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This may cause streaming to hang indefinitely, as exemplified by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8621&quot; title=&quot;For streaming operations, when a socket is closed/reset, we should retry/reinitiate that stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8621&quot;&gt;&lt;del&gt;CASSANDRA-8621&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;For the scenario that prompted this ticket, it appeared that the streaming process was completely stalled. One side of the stream (the sender side) had an exception that appeared to be a connection reset. The receiving side appeared to think that the connection was still active, at least in terms of the netstats reported by nodetool. We were unable to verify whether this was specifically the case in terms of connected sockets due to the fact that there were multiple streams for those peers, and there is no simple way to correlate a specific stream to a tcp session.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12945716">CASSANDRA-11286</key>
            <summary>streaming socket never times out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauloricardomg">Paulo Motta</assignee>
                                    <reporter username="pauloricardomg">Paulo Motta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2016 03:22:02 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:40 +0000</updated>
                            <resolved>Thu, 10 Mar 2016 19:05:22 +0000</resolved>
                                        <fixVersion>2.1.14</fixVersion>
                    <fixVersion>2.2.6</fixVersion>
                    <fixVersion>3.0.5</fixVersion>
                    <fixVersion>3.5</fixVersion>
                                    <component>Legacy/Streaming and Messaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15174751" author="pauloricardomg" created="Wed, 2 Mar 2016 01:06:35 +0000"  >&lt;p&gt;In order to verify that socket timeout was indeed not being respected, I added a new property &lt;tt&gt;cassandra.dtest.sleep_during_stream_write&lt;/tt&gt; to &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:11286-unpatched&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this branch&lt;/a&gt; and set it to a value much longer than &lt;tt&gt;streaming_socket_timeout_in_ms&lt;/tt&gt; on &lt;a href=&quot;https://github.com/pauloricardomg/cassandra-dtest/tree/11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this dtest&lt;/a&gt;, and verified that the bootstrap streaming session hanged forever.&lt;/p&gt;

&lt;p&gt;Two changes are necessary to make stream socket timeout be enforced/respected during a stream session:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creation of socket via &lt;tt&gt;Channels.newChannel(socket.getInputStream());&lt;/tt&gt; on &lt;tt&gt;ConnectionHandler.getReadChannel(socket)&lt;/tt&gt;, as suggested in the &lt;a href=&quot;https://technfun.wordpress.com/2009/01/29/networking-in-java-non-blocking-nio-blocking-nio-and-io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;blog post&lt;/a&gt;.&lt;/li&gt;
	&lt;li&gt;Set socket timeout on follower side on &lt;tt&gt;IncomingStreamingConnection&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After these changes, I re-executed the previous dtest on &lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:11286-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a fixed branch&lt;/a&gt; and verified that the bootstrap stream session did not hang, but instead failed. The reason for the stream to fail and not to be retried is because &lt;tt&gt;SocketTimeoutException&lt;/tt&gt; is an &lt;tt&gt;IOException&lt;/tt&gt;, so it&apos;s catch by &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/streaming/messages/IncomingFileMessage.java#L52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this block&lt;/a&gt; (and not &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/streaming/messages/IncomingFileMessage.java#L58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt;) on &lt;tt&gt;IncomingFileMessage&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This behavior of failing on socket timeout is not the one documented on &lt;tt&gt;cassandra.yaml&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;# Enable socket timeout for streaming operation.
# When a timeout occurs during streaming, streaming is retried from the start
# of the current file. This _can_ involve re-streaming an important amount of
# data, so you should avoid setting the value too low.
# Default value is 3600000, which means streams timeout after an hour.
# streaming_socket_timeout_in_ms: 3600000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I updated it to:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;# Set socket timeout for streaming operation.
# The stream session is failed if no data is received by any of the
# participants within that period.
# Default value is 3600000, which means streams timeout after an hour.
# streaming_socket_timeout_in_ms: 3600000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While retrying when receiving corrupted data is probably the right approach, I&apos;m not sure retrying on a socket timeout is desirable here. I can see two main reasons for the socket to timeout:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Connection was broken/reset in only one side of the socket (rare but possible situation)&lt;/li&gt;
	&lt;li&gt;Deadlock or protocol error on sender side&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In both scenarios, I think failing stream is the correct approach, rather than retrying and dealing with unexpected error conditions. WDYT &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;Below are branches with the suggested changes and tests.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.1&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.1...pauloricardomg:2.1-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.2...pauloricardomg:2.2-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...pauloricardomg:3.0-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:trunk-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.1-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.2-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.1-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.2-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;commit info: minor conflict on 2.2, but other than that it merges cleanly upwards.&lt;/p&gt;</comment>
                            <comment id="15183491" author="yukim" created="Mon, 7 Mar 2016 19:13:57 +0000"  >&lt;p&gt;Thanks for the catch!&lt;br/&gt;
Patches look good, though for 2.2+, bootstrap_test dtest was failing on your results. (I ran on my machine and the test was success though).&lt;br/&gt;
Can you run dtests on 2.2+ again to make sure bootstrap_test is ok?&lt;/p&gt;</comment>
                            <comment id="15184977" author="pauloricardomg" created="Tue, 8 Mar 2016 14:36:51 +0000"  >&lt;p&gt;I managed to reproduce the dtest failure, which is different from the failure on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10912&quot; title=&quot;resumable_bootstrap_test dtest flaps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10912&quot;&gt;&lt;del&gt;CASSANDRA-10912&lt;/del&gt;&lt;/a&gt;. The problem is that sometimes, the stream process is killed before any range is transferred, so it&apos;s not possible to find the &quot;already available. Skipping streaming.&quot; message in the logs.&lt;/p&gt;

&lt;p&gt;I submitted a &lt;a href=&quot;https://github.com/riptano/cassandra-dtest/pull/841&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DTEST PR&lt;/a&gt; that removes the non-deterministic check for &quot;skipping streaming&quot; message and instead added a stress check that the inserted data is present after the resumed bootstrap is completed.&lt;/p&gt;</comment>
                            <comment id="15185036" author="pauloricardomg" created="Tue, 8 Mar 2016 15:08:51 +0000"  >&lt;p&gt;Canceling patch due to a minor nit that will be fixed shortly.&lt;/p&gt;</comment>
                            <comment id="15185564" author="pauloricardomg" created="Tue, 8 Mar 2016 19:23:45 +0000"  >&lt;p&gt;There is a relatively common scenario when the receiver receives a &lt;tt&gt;COMPLETE&lt;/tt&gt; message from the sender, changes its state to &lt;tt&gt;WAIT_COMPLETE&lt;/tt&gt; and then the &lt;tt&gt;IncomingMessageHandler&lt;/tt&gt; blocks on the socket again, and meanwhile the &lt;tt&gt;OnCompletionRunnable&lt;/tt&gt; finishes processing the received stream and closes the session via &lt;tt&gt;maybeCompleted()&lt;/tt&gt;. Even though the session is terminated correctly on both sides, after &lt;tt&gt;streaming_socket_timeout_in_ms&lt;/tt&gt; the user may get a harmless but scary &lt;tt&gt;StreamSocketTimeout&lt;/tt&gt; log message from the previously blocked socket (got this in dtests a few times). In order to fix this I updated the patch to close the &lt;tt&gt;OutgoingStreamHandler&lt;/tt&gt; after sending the last &lt;tt&gt;COMPLETE&lt;/tt&gt; message, and the &lt;tt&gt;IncomingStreamHandler&lt;/tt&gt; after receiving the last &lt;tt&gt;COMPLETE&lt;/tt&gt; message, so all resources are properly released.&lt;/p&gt;

&lt;p&gt;Below is an example of this scenario:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;DEBUG [STREAM-IN-/127.0.0.1] 2016-03-08 15:31:18,632 ConnectionHandler.java:269 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] Received Complete
DEBUG [STREAM-OUT-/127.0.0.1] 2016-03-08 15:31:19,004 ConnectionHandler.java:341 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] Sending Complete
DEBUG [StreamReceiveTask:1] 2016-03-08 15:31:19,004 ConnectionHandler.java:110 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] Closing stream connection handler on /127.0.0.1
INFO  [StreamReceiveTask:1] 2016-03-08 15:31:19,005 StreamResultFuture.java:182 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] Session with /127.0.0.1 is complete
INFO  [StreamReceiveTask:1] 2016-03-08 15:31:19,025 StreamResultFuture.java:214 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] All sessions completed

.... {{streaming_socket_timeout}} passes...

ERROR [STREAM-IN-/127.0.0.1] 2016-03-08 15:31:19,638 StreamSession.java:524 - [Stream #f19e82b0-e55b-11e5-9a50-f59bd42ef741] Streaming error occurred
java.net.SocketTimeoutException: null
        at sun.nio.ch.SocketAdaptor$SocketInputStream.read(SocketAdaptor.java:211) ~[na:1.8.0_66]
        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103) ~[na:1.8.0_66]
        at java.nio.channels.Channels$ReadableByteChannelImpl.read(Channels.java:385) ~[na:1.8.0_66]
        at org.apache.cassandra.streaming.messages.StreamMessage.deserialize(StreamMessage.java:53) ~[main/:na]
        at org.apache.cassandra.streaming.ConnectionHandler$IncomingMessageHandler.run(ConnectionHandler.java:268) ~[main/:na]
        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also noticed that &lt;tt&gt;replace_address_test.TestReplaceAddress.replace_with_reset_resume_state_test&lt;/tt&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11246&quot; title=&quot;(windows) dtest failure in replace_address_test.TestReplaceAddress.replace_with_reset_resume_state_test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11246&quot;&gt;&lt;del&gt;CASSANDRA-11246&lt;/del&gt;&lt;/a&gt;) and &lt;tt&gt;replace_address_test.TestReplaceAddress.resumable_replace_test&lt;/tt&gt; was failing for the same reason as &lt;tt&gt;bootstrap_test.py:TestBootstrap.resumable_bootstrap_test&lt;/tt&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10912&quot; title=&quot;resumable_bootstrap_test dtest flaps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10912&quot;&gt;&lt;del&gt;CASSANDRA-10912&lt;/del&gt;&lt;/a&gt;), so I applied the fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10167&quot; title=&quot;fix resumable_bootstrap_test dtest failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10167&quot;&gt;&lt;del&gt;CASSANDRA-10167&lt;/del&gt;&lt;/a&gt; (decrease the socket timeout) to the &lt;a href=&quot;https://github.com/riptano/cassandra-dtest/pull/841&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest PR&lt;/a&gt;, which should avoid hanging on these tests due to default &lt;tt&gt;streaming_socket_timeout_in_ms&lt;/tt&gt; of 1 hour.&lt;/p&gt;

&lt;p&gt;I rebased and updated branches and resubmitted tests:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.1&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.5&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;dtest&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.1...pauloricardomg:2.1-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.2...pauloricardomg:2.2-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...pauloricardomg:3.0-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.5...pauloricardomg:3.5-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...pauloricardomg:trunk-11286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/riptano/cassandra-dtest/compare/master...pauloricardomg:11286-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.1-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.2-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.5-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-11286-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.1-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-2.2-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.0-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-3.5-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/paulomotta/job/pauloricardomg-trunk-11286-dtest/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15185783" author="pauloricardomg" created="Tue, 8 Mar 2016 20:58:36 +0000"  >&lt;p&gt;commit info: minor conflicts on 2.2 and 3.0.&lt;/p&gt;</comment>
                            <comment id="15188344" author="yukim" created="Thu, 10 Mar 2016 00:13:34 +0000"  >&lt;p&gt;+1. Will commit.&lt;/p&gt;</comment>
                            <comment id="15189751" author="yukim" created="Thu, 10 Mar 2016 19:05:22 +0000"  >&lt;p&gt;Committed in 561000aa3094699bab29766d9644ff50f6cb74f3, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[pauloricardomg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2tyfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12334273">2.1.13</customfieldvalue>
    <customfieldvalue id="12334272">2.2.5</customfieldvalue>
    <customfieldvalue id="12334622">3.4</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>