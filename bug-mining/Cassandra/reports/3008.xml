<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:47:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7524] cqlsh fails when version number parts are not int</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7524</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;alexbool@gibson ~&amp;gt; cqlsh
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 1894, in &amp;lt;module&amp;gt;
    main(*read_options(sys.argv[1:], os.environ))
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 1877, in main
    single_statement=options.execute)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 496, in __init__
    self.get_connection_versions()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 595, in get_connection_versions
    self.cass_ver_tuple = tuple(map(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, vers[&lt;span class=&quot;code-quote&quot;&gt;&apos;build&apos;&lt;/span&gt;].split(&lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt;, 1)[0].split(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;)[:3]))
ValueError: invalid literal &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;() with base 10: &lt;span class=&quot;code-quote&quot;&gt;&apos;0~rc2&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I used cassandra 2.1-rc2 debs from Apache repository&lt;/p&gt;</description>
                <environment></environment>
        <key id="12726259">CASSANDRA-7524</key>
            <summary>cqlsh fails when version number parts are not int</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mishail">Mikhail Stepura</assignee>
                                    <reporter username="alexbool">Alexander Bulaev</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Wed, 9 Jul 2014 07:54:20 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:40 +0000</updated>
                            <resolved>Sun, 3 Aug 2014 00:10:26 +0000</resolved>
                                        <fixVersion>2.1.1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14056153" author="brandon.williams" created="Wed, 9 Jul 2014 12:10:09 +0000"  >&lt;p&gt;Seems like we keep having this problem and just need to workaround it in cqlsh with a bit more logic like ignoring anything after the last numeric character.&lt;/p&gt;</comment>
                            <comment id="14057216" author="tuukka.mustonen" created="Thu, 10 Jul 2014 07:05:47 +0000"  >&lt;p&gt;On debian package at least, &lt;tt&gt;nodetool&lt;/tt&gt; does not work either:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ nodetool
Error opening zip file or JAR manifest missing : /usr/share/cassandra/lib/jamm-0.2.5.jar
Error occurred during initialization of VM
agent library failed to init: instrument
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One has to adjust &lt;tt&gt;/usr/share/cassandra/cassandra.in.sh&lt;/tt&gt; and update line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    JAVA_AGENT=&lt;span class=&quot;code-quote&quot;&gt;&quot;$JAVA_AGENT -javaagent:$CASSANDRA_HOME/lib/jamm-0.2.5.jar&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to point to the correct version (jamm 0.2.6).&lt;/p&gt;

&lt;p&gt;Part of packaging / similar issue I&apos;m just reporting as a comment here.&lt;/p&gt;</comment>
                            <comment id="14057419" author="brandon.williams" created="Thu, 10 Jul 2014 12:28:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tuukka.mustonen&quot; class=&quot;user-hover&quot; rel=&quot;tuukka.mustonen&quot;&gt;tuukka.mustonen&lt;/a&gt; I fixed that in 420c68511, but it&apos;s not related to this issue.&lt;/p&gt;</comment>
                            <comment id="14083615" author="mishail" created="Sat, 2 Aug 2014 16:21:45 +0000"  >&lt;p&gt;I&apos;ve found no usages of &lt;tt&gt;cass_ver_tuple&lt;/tt&gt; in the cqlsh, so it easier just  to remove that unused code.&lt;br/&gt;
Attaching a patch for that&lt;/p&gt;</comment>
                            <comment id="14083654" author="jbellis" created="Sat, 2 Aug 2014 18:14:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14083809" author="mishail" created="Sun, 3 Aug 2014 00:10:26 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                            <comment id="14084376" author="tuukka.mustonen" created="Mon, 4 Aug 2014 06:55:07 +0000"  >&lt;p&gt;Would it be possible to fix this already for the next RC release? The problem appears with RC-releases due to version identifier containing non-numeric parts. After 2.1.0, it&apos;s sort of a &quot;too late&quot;...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12727611">CASSANDRA-7553</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12659478" name="CASSANDRA-2.1-7524.patch" size="1202" author="mishail" created="Sat, 2 Aug 2014 16:21:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mishail]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xlcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326658">2.1 rc1</customfieldvalue>
    <customfieldvalue id="12327111">2.1 rc2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>