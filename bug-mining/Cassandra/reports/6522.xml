<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:30:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19651] idealCLWriteLatency metric reports the worst response time instead of the time when ideal CL is satisfied</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19651</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;org.apache.cassandra.service.AbstractWriteResponseHandler:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void decrementResponseOrExpired()
{
&#160; &#160; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; decrementedValue = responsesAndExpirations.decrementAndGet();
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (decrementedValue == 0)
&#160; &#160; {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// The condition being signaled is a valid proxy &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the CL being achieved
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// Only mark it as failed &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the requested CL was achieved.
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!condition.isSignalled() &amp;amp;&amp;amp; requestedCLAchieved)
&#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; replicaPlan.keyspace().metric.writeFailedIdealCL.inc();
&#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
&#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; replicaPlan.keyspace().metric.idealCLWriteLatency.addNano(nanoTime() - queryStartNanoTime);
&#160; &#160; &#160; &#160; }
&#160; &#160; }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Actual result: responsesAndExpirations is a total number of replicas across all DCs which does not depend on the ideal CL, so the metric value for replicaPlan.keyspace().metric.idealCLWriteLatency is updated when we get the latest response/timeout for all replicas.&lt;br/&gt;
Expected result: replicaPlan.keyspace().metric.idealCLWriteLatency is updated when we get enough responses from replicas according to the ideal CL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13579987">CASSANDRA-19651</key>
            <summary>idealCLWriteLatency metric reports the worst response time instead of the time when ideal CL is satisfied</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dnk">Dmitry Konstantinov</assignee>
                                    <reporter username="dnk">Dmitry Konstantinov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 May 2024 14:27:12 +0000</created>
                <updated>Thu, 10 Oct 2024 12:05:11 +0000</updated>
                            <resolved>Wed, 21 Aug 2024 20:09:59 +0000</resolved>
                                        <fixVersion>4.0.14</fixVersion>
                    <fixVersion>4.1.7</fixVersion>
                    <fixVersion>5.0.1</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Legacy/Observability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17848235" author="dnk" created="Tue, 21 May 2024 14:35:19 +0000"  >&lt;p&gt;Please find the patch for 4.1 branch attached:  &lt;span class=&quot;error&quot;&gt;&amp;#91;^19651-4.1.patch&amp;#93;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17849025" author="dnk" created="Thu, 23 May 2024 16:04:27 +0000"  >&lt;p&gt;I have found one more place in the current logic to fix: currently we consider that requestedCLAchieved = true if org.apache.cassandra.service.AbstractWriteResponseHandler#signal is invoked but this method is invoked not only when we have enough successful responses to treat the operation as complete, there is also signal() invocation from org.apache.cassandra.service.AbstractWriteResponseHandler#onFailure when we have got too many failures and can say that there is no chance to get enough successful responses.&lt;br/&gt;
So, a condition: if (blockFor() + failures &amp;lt;= candidateReplicaCount()) should be added into the signal() logic for ideal CL logic.&lt;br/&gt;
I am going to share an updated patch version.&lt;/p&gt;</comment>
                            <comment id="17861253" author="dnk" created="Mon, 1 Jul 2024 19:22:21 +0000"  >&lt;p&gt;The fixed version for 4.1 branch: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3391/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3391/files&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17864788" author="aweisberg" created="Wed, 10 Jul 2024 19:30:01 +0000"  >&lt;p&gt;Thanks for spotting this. I&#8217;ll take a look.&lt;/p&gt;</comment>
                            <comment id="17864967" author="dnk" created="Thu, 11 Jul 2024 08:43:32 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="17866452" author="aweisberg" created="Tue, 16 Jul 2024 15:51:46 +0000"  >&lt;p&gt;The patch attached to the ticket seems a bit out of date compared to the branch, would be better to remove it. This will need patches for 4.0, 4.1, 5.0, and trunk. You can skip modifying `CHANGES.txt`, I will add that when I commit. When you do modify `CHANGES.txt` always insert your new change at the top of the list for the version.&lt;/p&gt;</comment>
                            <comment id="17866456" author="dnk" created="Tue, 16 Jul 2024 16:00:32 +0000"  >&lt;p&gt;Yes, the attached patch was an old version, I have removed it. The current version for 4.1 is in the MR: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3391/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3391/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;  When you do modify `CHANGES.txt` always insert your new change at the top of the list for the version.&lt;/p&gt;

&lt;p&gt;Ok, thank you for the advice.&lt;/p&gt;</comment>
                            <comment id="17866471" author="aweisberg" created="Tue, 16 Jul 2024 16:39:25 +0000"  >&lt;p&gt;Oh ouch it&apos;s worse than just not measuring latency correctly. `onFailure` was not decrementing the counter on failure so most random timeouts would have been missed. It would only detect nodes that were explicitly expired because they were down in Gossip.&lt;/p&gt;</comment>
                            <comment id="17867409" author="dnk" created="Fri, 19 Jul 2024 19:38:26 +0000"  >&lt;p&gt;Yes, I suppose due to randomness of such failures it was easy to miss it for real deployments. &lt;br/&gt;
Thank you for the review, I will apply the changes and create a MR for each branch.&lt;/p&gt;</comment>
                            <comment id="17868096" author="aweisberg" created="Tue, 23 Jul 2024 15:04:53 +0000"  >&lt;p&gt;I want to make sure you aren&apos;t waiting on me. Can you create PRs for 4.0, 4.1, 5.0, and trunk? Thanks&lt;/p&gt;</comment>
                            <comment id="17868318" author="dnk" created="Wed, 24 Jul 2024 10:06:37 +0000"  >&lt;p&gt;Hi Ariel, sorry for the delay. I am not waiting on you, I just had a lack of time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I am planning to share the PRs today.&lt;/p&gt;</comment>
                            <comment id="17868329" author="dnk" created="Wed, 24 Jul 2024 10:55:22 +0000"  >&lt;p&gt;Here they are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3438&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5.0&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17869463" author="benedict" created="Mon, 29 Jul 2024 22:20:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17874527" author="dnk" created="Sat, 17 Aug 2024 15:52:43 +0000"  >&lt;p&gt;4.0 - 3 test failures, all of the looks like not related to the current changes&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;cql3.MemtableSizeTest#testTruncationReleasesLogSpace - known broken: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;, fail locally with and without changes&lt;br/&gt;
I have some ideas how to make it better and plan to provide an update in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;cqlsh_tests.test_cqlsh_copy.TestCqlshCopy#test_bulk_round_trip_with_timeouts - known flaky: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18189&quot; title=&quot;Test failure: cqlsh_tests.test_cqlsh_copy.TestCqlshCopy.test_bulk_round_trip_with_timeouts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18189&quot;&gt;CASSANDRA-18189&lt;/a&gt;, passed locally&lt;/li&gt;
	&lt;li&gt;distributed.upgrade.DropCompactStorageTest#testDropCompactStorage - known flaky: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17674&quot; title=&quot;Test failure: org.apache.cassandra.distributed.upgrade.DropCompactStorageTest.testDropCompactStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17674&quot;&gt;CASSANDRA-17674&lt;/a&gt;, passed locally&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% pytest --cassandra-dir=/Users/dmitry/IdeaProjects/cassandra-4.0 cqlsh_tests/test_cqlsh_copy.py::TestCqlshCopy::test_bulk_round_trip_with_timeouts
/
...
test_bulk_round_trip_with_timeouts passed 1 out of the required 1 times. Success!

===End Flaky Test Report===
=================================================================== 1 passed, 67 warnings in 37.67s ===================================================================
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17874528" author="dnk" created="Sat, 17 Aug 2024 16:01:29 +0000"  >&lt;p&gt;4.1 - 5 test failures, all of the looks like not related to the current changes&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;distributed.test.IPMembershipTest#startupNewIP - flaky, local re-run is ok&lt;/li&gt;
	&lt;li&gt;distributed.test.ReadRepairTest#readRepairRTRangeMovementTest flaky, local re-run is ok&lt;/li&gt;
	&lt;li&gt;MemtableSizeTest#testSize&lt;span class=&quot;error&quot;&gt;&amp;#91;skiplist&amp;#93;&lt;/span&gt; - known issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;, fail locally with and without changes&lt;/li&gt;
	&lt;li&gt;largecolumn_test.TestLargeColumn#test_cleanup - know issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19702&quot; title=&quot;Test failure: largecolumn_test.TestLargeColumn&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19702&quot;&gt;&lt;del&gt;CASSANDRA-19702&lt;/del&gt;&lt;/a&gt;, fail locally with and without changes&lt;/li&gt;
	&lt;li&gt;upgrade_tests.upgrade_through_versions_test.TestProtoV4Upgrade_AllVersions_EndsAt_Trunk_HEAD#test_rolling_upgrade - as of now I have an general issue with running it locally..&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070948/13070948_select-junit-tests-rerun-4.1.zip&quot; title=&quot;select-junit-tests-rerun-4.1.zip attached to CASSANDRA-19651&quot;&gt;select-junit-tests-rerun-4.1.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17874530" author="dnk" created="Sat, 17 Aug 2024 16:30:05 +0000"  >&lt;p&gt;5.0 - 3 test failures, all of them looks like not related to the current changes&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;distributed.test.ring.BootstrapTest#bootstrapUnspecifiedResumeTest-_jdk17, flaky, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% ant test-jvm-dtest-some -Dtest.name=org.apache.cassandra.distributed.test.ring.BootstrapTest -Dtest.methods=bootstrapUnspecifiedResumeTest
...
BUILD SUCCESSFUL
Total time: 1 minute 52 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The original attached report has the following exception - it looks like a timing issue and we can add a limited cycle in GossipHelper to wait for a non-null ApplicationState...:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cassandra.gms.EndpointState.getApplicationState(org.apache.cassandra.gms.ApplicationState)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cassandra.gms.EndpointState.getApplicationState(org.apache.cassandra.gms.ApplicationState)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; at org.apache.cassandra.distributed.action.GossipHelper$PullSchemaFrom.lambda$accept$6adea493$1(GossipHelper.java:245) at org.apache.cassandra.distributed.impl.IsolatedExecutor.lambda$async$10(IsolatedExecutor.java:156) at org.apache.cassandra.concurrent.FutureTask$2.call(FutureTask.java:124) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:840)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;bootstrap_test.TestBootstrap#test_shutdown_wiped_node_cannot_join - flaky, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% pytest --cassandra-dir=/Users/dmitry/IdeaProjects/cassandra-5.0 bootstrap_test.py::TestBootstrap::test_shutdown_wiped_node_cannot_join
...
test_shutdown_wiped_node_cannot_join passed 1 out of the required 1 times. Success!

===End Flaky Test Report===
============================================================= 1 passed, 192 warnings in 166.48s (0:02:46) =============================================================
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;cqlsh_tests.test_cqlsh_copy.TestCqlshCopy#test_round_trip_with_rate_file - flaky, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17322&quot; title=&quot;Test Failure: dtest-novnode.cqlsh_tests.test_cqlsh_copy.TestCqlshCopy.test_round_trip_with_rate_file (from Cassandra dtests)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17322&quot;&gt;CASSANDRA-17322&lt;/a&gt;, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% pytest --cassandra-dir=/Users/dmitry/IdeaProjects/cassandra-5.0 cqlsh_tests/test_cqlsh_copy.py::TestCqlshCopy::test_round_trip_with_rate_file
...
test_round_trip_with_rate_file passed 1 out of the required 1 times. Success!

===End Flaky Test Report===
=================================================================== 1 passed, 64 warnings in 54.17s ===================================================================
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17874532" author="dnk" created="Sat, 17 Aug 2024 16:50:18 +0000"  >&lt;p&gt;trunk - 3 test failures, all of them looks like not related to the current changes&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;distributed.test.IPMembershipTest#startupNewIP-_jdk11, flaky, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% ant test-jvm-dtest-some -Dtest.name=org.apache.cassandra.distributed.test.IPMembershipTest -Dtest.methods=startupNewIP
...
BUILD SUCCESSFUL
Total time: 1 minute 53 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;distributed.test.NativeTransportEncryptionOptionsTest#testOptionalMtlsModeDoNotAllowNonSSLConnections-cassandra.testtag_IS_UNDEFINED - known flaky &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19281&quot; title=&quot;NativeTransportEncryptionOptionsTest fails often in CI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19281&quot;&gt;&lt;del&gt;CASSANDRA-19281&lt;/del&gt;&lt;/a&gt;, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% ant test-jvm-dtest-some -Dtest.name=org.apache.cassandra.distributed.test.NativeTransportEncryptionOptionsTest -Dtest.methods=testOptionalMtlsModeDoNotAllowNonSSLConnections
...
BUILD SUCCESSFUL
Total time: 37 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;bootstrap_test.TestBootstrap#test_consistent_range_movement_false_with_rf1_should_succeed - flaky, local re-run is ok
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 % pytest --cassandra-dir=/Users/dmitry/IdeaProjects/cassandra-trunk bootstrap_test.py::TestBootstrap::test_consistent_range_movement_false_with_rf1_should_succeed
...
test_consistent_range_movement_false_with_rf1_should_succeed passed 1 out of the required 1 times. Success!

===End Flaky Test Report===
============================================================= 1 passed, 197 warnings in 161.10s (0:02:41) =============================================================
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17875547" author="aweisberg" created="Wed, 21 Aug 2024 15:48:34 +0000"  >&lt;p&gt;Thanks, I&apos;ve also been triaging them, I don&apos;t think they are related to your patch it&apos;s our CI environment, but when I did a baseline run of trunk there were some that didn&apos;t seem to fail, but also a lot of noise.&lt;/p&gt;

&lt;p&gt;I am going to try it on ASF CI for 5.0/5.1 and if that looks good I&apos;ll go ahead and merge.&lt;/p&gt;

&lt;p&gt;These don&apos;t appear yet since they are queued and haven&apos;t started&lt;br/&gt;
&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch-5/54/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch-5/54/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch-5/55/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch-5/55/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17875642" author="aweisberg" created="Wed, 21 Aug 2024 20:06:55 +0000"  >&lt;p&gt;Merged as &lt;a href=&quot;https://github.com/apache/cassandra/commit/93415c91af3d06504593a87c8b8d7e5d2d65b1ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;93415c91af3d06504593a87c8b8d7e5d2d65b1ac&lt;/a&gt;, TY!&lt;/p&gt;</comment>
                            <comment id="17875658" author="dnk" created="Wed, 21 Aug 2024 20:32:19 +0000"  >&lt;p&gt;Thank you for your support!&lt;/p&gt;

&lt;p&gt;Regarding the random exception in distributed.test.ring.BootstrapTest#bootstrapUnspecifiedResumeTest-_jdk17&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cassandra.gms.EndpointState.getApplicationState(org.apache.cassandra.gms.ApplicationState)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cassandra.gms.EndpointState.getApplicationState(org.apache.cassandra.gms.ApplicationState)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; at org.apache.cassandra.distributed.action.GossipHelper$PullSchemaFrom.lambda$accept$6adea493$1(GossipHelper.java:245) at org.apache.cassandra.distributed.impl.IsolatedExecutor.lambda$async$10(IsolatedExecutor.java:156) at org.apache.cassandra.concurrent.FutureTask$2.call(FutureTask.java:124) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:840) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I can create a separate ticket to make the test less flaky by adding a retry loop, like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
EndpointState state = waitForValue(() -&amp;gt; Gossiper.instance.getEndpointStateForEndpoint(endpoint), Objects::nonNull, 10_000);
...

&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;&amp;lt;V&amp;gt; V waitForValue(Callable&amp;lt;V&amp;gt; valueProvider, Predicate&amp;lt;V&amp;gt; condition, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; timeoutMs) {
        V value;
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; sleptTimeMs = 0;
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; sleepPeriodMs = 50;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
        {
            &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
            {
                value = valueProvider.call();
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (condition.test(value) || sleptTimeMs &amp;gt;= timeoutMs)
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value;
                }
                sleptTimeMs += sleepPeriodMs;
                &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(sleepPeriodMs);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(e);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aweisberg&quot; class=&quot;user-hover&quot; rel=&quot;aweisberg&quot;&gt;aweisberg&lt;/a&gt; what do you think - does it make sense?&lt;/p&gt;</comment>
                            <comment id="17876087" author="aweisberg" created="Thu, 22 Aug 2024 19:40:08 +0000"  >&lt;p&gt;We have `spinAssertEquals` for this purpose. I&apos;m not 100% sure the issue is that we aren&apos;t waiting, if `Instance.startup` is finished should that Gossip state not be present? It may be that we have schema and gossip state from some, but not all nodes once startup is done. I would just double check to make sure startup is working as intended in terms of waiting until it&apos;s received enough state from Gossip that it is actually done and there isn&apos;t some other root cause bug here.&lt;/p&gt;

&lt;p&gt;See `Gossiper.waitToSettle` for context.&lt;/p&gt;

&lt;p&gt;In 5.1 all those checks are removed and it just checks the underlying table to see if the data is there. I wonder why it needs to do the `pullSchemaFrom`.&lt;/p&gt;</comment>
                            <comment id="17876137" author="dnk" created="Thu, 22 Aug 2024 23:16:06 +0000"  >&lt;p&gt;If I got correctly org.apache.cassandra.gms.Gossiper#waitToSettle just waits for 5 +3 x 1 = 8 seconds if there are no changes in the number of nodes discovered using gossip (even if we have not had any interactions with other nodes using gossip at all).&lt;br/&gt;
I have added a 5-second sleep to org.apache.cassandra.gms.Gossiper.GossipTask#run (we also have 1 second of initial delay when we schedule GossipTask)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GossipTask &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;
    {
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run()
        {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                &lt;span class=&quot;code-comment&quot;&gt;//wait on messaging service to start listening
&lt;/span&gt;                MessagingService.instance().waitUntilListening();
                &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(5000); &lt;span class=&quot;code-comment&quot;&gt;// &amp;lt;===============================
&lt;/span&gt;
                taskLock.lock();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and have got the NPE reproduced quite frequently for org.apache.cassandra.distributed.test.ring.BootstrapTest#bootstrapUnspecifiedResumeTest:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cassandra.gms.EndpointState.getApplicationState(org.apache.cassandra.gms.ApplicationState)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

	at org.apache.cassandra.distributed.action.GossipHelper$PullSchemaFrom.lambda$accept$6adea493$1(GossipHelper.java:245)
	at org.apache.cassandra.distributed.impl.IsolatedExecutor.lambda$async$10(IsolatedExecutor.java:156)
	at org.apache.cassandra.concurrent.FutureTask$2.call(FutureTask.java:124)
	at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61)
	at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:840)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So, it is possible that NPE in the original test run was caused by a delay of GossipTask execution...&lt;/p&gt;</comment>
                            <comment id="17877772" author="dnk" created="Thu, 29 Aug 2024 16:32:53 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19879&quot; title=&quot;distributed.test.ring.BootstrapTest#bootstrapUnspecifiedResumeTest fails sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19879&quot;&gt;CASSANDRA-19879&lt;/a&gt; for the NPE issue&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;MemtableSizeTest#testSize&lt;span class=&quot;error&quot;&gt;&amp;#91;skiplist&amp;#93;&lt;/span&gt; - known issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;, fail locally with and without changes&lt;br/&gt;
cql3.MemtableSizeTest#testTruncationReleasesLogSpace - known broken: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;, fail locally with and without changes&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;An analysis of this test failures is added to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17298&quot; title=&quot;Improve accuracy of memtable heap usage tracking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17298&quot;&gt;&lt;del&gt;CASSANDRA-17298&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17877789" author="aweisberg" created="Thu, 29 Aug 2024 17:17:14 +0000"  >&lt;p&gt;`waitToSettle` is asserting that the number of endpoints in Gossip is equal to the expected number for some period of time and if the endpoint is in Gossip I think it means we have pulled the various application states, but it could be a lot more complicated that with only a subset being present.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13047776">CASSANDRA-13289</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13070705" name="ci_summary-cassandra-4.0-a75f6c3e81f677e50c0a0d467dd5dad672f923e3.html" size="26479" author="aweisberg" created="Tue, 6 Aug 2024 15:42:49 +0000"/>
                            <attachment id="13070706" name="ci_summary-cassandra-4.1-1ed312f881c0c170c8833ff9fbf397ab8fc625cc.html" size="33330" author="aweisberg" created="Tue, 6 Aug 2024 15:42:49 +0000"/>
                            <attachment id="13070707" name="ci_summary-cassandra-5.0-009f2982ac88d9c9bc0a7a7d29220f055aa7f11e.html" size="26603" author="aweisberg" created="Tue, 6 Aug 2024 15:42:49 +0000"/>
                            <attachment id="13070708" name="ci_summary-trunk-da68729322515b4a7a698b73a0154ecdeb3abf39.html" size="34251" author="aweisberg" created="Tue, 6 Aug 2024 15:42:49 +0000"/>
                            <attachment id="13070709" name="result_details-cassandra-4.0-a75f6c3e81f677e50c0a0d467dd5dad672f923e3.tar.gz" size="45220921" author="aweisberg" created="Tue, 6 Aug 2024 15:42:51 +0000"/>
                            <attachment id="13070710" name="result_details-cassandra-5.0-009f2982ac88d9c9bc0a7a7d29220f055aa7f11e.tar.gz" size="3302517" author="aweisberg" created="Tue, 6 Aug 2024 15:42:49 +0000"/>
                            <attachment id="13070711" name="result_details-trunk-da68729322515b4a7a698b73a0154ecdeb3abf39.tar.gz" size="4128093" author="aweisberg" created="Tue, 6 Aug 2024 15:42:50 +0000"/>
                            <attachment id="13070948" name="select-junit-tests-rerun-4.1.zip" size="451399" author="dnk" created="Sat, 17 Aug 2024 16:01:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dnk]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pce8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aweisberg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12336842">4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/6da9141d3ccfb21aead3b19474f8855724e0ca85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/6da9141d3ccfb21aead3b19474f8855724e0ca85&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;an existing unit test is updated and 2 more are added to cover the issue&lt;br/&gt;
docs updates are not planned&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>