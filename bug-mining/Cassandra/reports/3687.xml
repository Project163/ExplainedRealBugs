<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:55:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9859] IndexedReader updateBlock exception</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9859</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While testing the Materialized View, an exception is thrown on create.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] ERROR 18:25:01 Unexpected exception during request
    [junit] java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 2, Size: 2
    [junit] 	at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:356) ~[main/:na]
    [junit] 	at org.apache.cassandra.service.MigrationManager.announce(MigrationManager.java:423) ~[main/:na]
    [junit] 	at org.apache.cassandra.service.MigrationManager.announceColumnFamilyUpdate(MigrationManager.java:340) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.statements.CreateMaterializedViewStatement.announceMigration(CreateMaterializedViewStatement.java:208) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.statements.SchemaAlteringStatement.execute(SchemaAlteringStatement.java:93) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.QueryProcessor.processStatement(QueryProcessor.java:204) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:235) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:220) ~[main/:na]
    [junit] 	at org.apache.cassandra.transport.messages.QueryMessage.execute(QueryMessage.java:119) ~[main/:na]
    [junit] 	at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:507) [main/:na]
    [junit] 	at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:401) [main/:na]
    [junit] 	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) [netty-all-4.0.23.Final.jar:4.0.23.Final]
    [junit] 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:333) [netty-all-4.0.23.Final.jar:4.0.23.Final]
    [junit] 	at io.netty.channel.AbstractChannelHandlerContext.access$700(AbstractChannelHandlerContext.java:32) [netty-all-4.0.23.Final.jar:4.0.23.Final]
    [junit] 	at io.netty.channel.AbstractChannelHandlerContext$8.run(AbstractChannelHandlerContext.java:324) [netty-all-4.0.23.Final.jar:4.0.23.Final]
    [junit] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_45]
    [junit] 	at org.apache.cassandra.concurrent.AbstractTracingAwareExecutorService$FutureTask.run(AbstractTracingAwareExecutorService.java:164) [main/:na]
    [junit] 	at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105) [main/:na]
    [junit] 	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_45]
    [junit] Caused by: java.util.concurrent.ExecutionException: java.lang.IndexOutOfBoundsException: Index: 2, Size: 2
    [junit] 	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_45]
    [junit] 	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_45]
    [junit] 	at org.apache.cassandra.utils.FBUtilities.waitOnFuture(FBUtilities.java:352) ~[main/:na]
    [junit] 	... 18 common frames omitted
    [junit] Caused by: java.lang.IndexOutOfBoundsException: Index: 2, Size: 2
    [junit] 	at java.util.ArrayList.rangeCheck(ArrayList.java:653) ~[na:1.8.0_45]
    [junit] 	at java.util.ArrayList.get(ArrayList.java:429) ~[na:1.8.0_45]
    [junit] 	at org.apache.cassandra.db.columniterator.AbstractSSTableIterator$IndexedReader.updateBlock(AbstractSSTableIterator.java:407) ~[main/:na]
    [junit] 	at org.apache.cassandra.db.columniterator.SSTableIterator$ForwardIndexedReader$1.computeNext(SSTableIterator.java:253) ~[main/:na]
    [junit] 	at org.apache.cassandra.db.columniterator.SSTableIterator$ForwardIndexedReader$1.computeNext(SSTableIterator.java:222) ~[main/:na]
    [junit] 	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) ~[guava-18.0.jar:na]
    [junit] 	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) ~[guava-18.0.jar:na]
    [junit] 	at org.apache.cassandra.db.Slices$ArrayBackedSlices$1.prepareNext(Slices.java:490) ~[main/:na]
    [junit] 	at org.apache.cassandra.db.Slices$ArrayBackedSlices$1.hasNext(Slices.java:458) ~[main/:na]
    [junit] 	at org.apache.cassandra.utils.MergeIterator$Candidate.advance(MergeIterator.java:369) ~[main/:na]
    [junit] 	at org.apache.cassandra.utils.MergeIterator$ManyToOne.advance(MergeIterator.java:189) ~[main/:na]
    [junit] 	at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:158) ~[main/:na]
    [junit] 	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) ~[guava-18.0.jar:na]
    [junit] 	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) ~[guava-18.0.jar:na]
    [junit] 	at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:644) ~[main/:na]
    [junit] 	at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:508) ~[main/:na]
    [junit] 	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) ~[guava-18.0.jar:na]
    [junit] 	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) ~[guava-18.0.jar:na]
    [junit] 	at org.apache.cassandra.db.rows.UnfilteredRowIterators$FilteringIterator.computeNext(UnfilteredRowIterators.java:752) ~[main/:na]
    [junit] 	at org.apache.cassandra.db.rows.UnfilteredRowIterators$FilteringIterator.computeNext(UnfilteredRowIterators.java:711) ~[main/:na]
    [junit] 	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:143) ~[guava-18.0.jar:na]
    [junit] 	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:138) ~[guava-18.0.jar:na]
    [junit] 	at org.apache.cassandra.cql3.statements.SelectStatement.processPartition(SelectStatement.java:624) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.statements.SelectStatement.process(SelectStatement.java:565) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.statements.SelectStatement.process(SelectStatement.java:365) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.QueryProcessor.resultify(QueryProcessor.java:354) ~[main/:na]
    [junit] 	at org.apache.cassandra.cql3.QueryProcessor.resultify(QueryProcessor.java:346) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.createTableFromTablePartition(SchemaKeyspace.java:1015) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.lambda$createTableFromName$60(SchemaKeyspace.java:985) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace$$Lambda$38/961727332.apply(Unknown Source) ~[na:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.readSchemaPartitionForTableAndApply(SchemaKeyspace.java:426) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.createTableFromName(SchemaKeyspace.java:980) ~[main/:na]
    [junit] 	at org.apache.cassandra.config.CFMetaData.reload(CFMetaData.java:804) ~[main/:na]
    [junit] 	at org.apache.cassandra.config.Schema.updateTable(Schema.java:535) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace$1.onUpdated(SchemaKeyspace.java:529) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.diffSchema(SchemaKeyspace.java:643) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.mergeTables(SchemaKeyspace.java:515) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.mergeSchema(SchemaKeyspace.java:478) ~[main/:na]
    [junit] 	at org.apache.cassandra.schema.SchemaKeyspace.mergeSchema(SchemaKeyspace.java:447) ~[main/:na]
    [junit] 	at org.apache.cassandra.service.MigrationManager$1.runMayThrow(MigrationManager.java:442) ~[main/:na]
    [junit] 	at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[main/:na]
    [junit] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_45]
    [junit] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_45]
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]
    [junit] 	... 1 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12846636">CASSANDRA-9859</key>
            <summary>IndexedReader updateBlock exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="carlyeks">Carl Yeksigian</assignee>
                                    <reporter username="carlyeks">Carl Yeksigian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2015 18:32:45 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:03 +0000</updated>
                            <resolved>Wed, 22 Jul 2015 16:21:23 +0000</resolved>
                                        <fixVersion>3.0 alpha 1</fixVersion>
                                    <component>Feature/Materialized Views</component>
                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14635568" author="carlyeks" created="Tue, 21 Jul 2015 18:34:26 +0000"  >&lt;p&gt;Pushed a fix to &lt;a href=&quot;https://github.com/carlyeks/cassandra/tree/ticket/9859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14637139" author="slebresne" created="Wed, 22 Jul 2015 16:21:23 +0000"  >&lt;p&gt;Lgtm. The code had slightly change with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9705&quot; title=&quot;Simplify some of 8099&amp;#39;s concrete implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9705&quot;&gt;&lt;del&gt;CASSANDRA-9705&lt;/del&gt;&lt;/a&gt; but this still applied, so I&apos;ve committed it after a simple rebase. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[carlyeks]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hifr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332361">3.0 alpha 1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>