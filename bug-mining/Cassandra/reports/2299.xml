<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:39:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5517] Cassandra crashes at start with segmentation fault</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5517</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Sometimes Cassandra fails at start with segmentation fault:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;/usr/sbin/cassandra -f&lt;br/&gt;
xss =   -ea -javaajent:/usr/share/cassandra/lib/jamm-0.2.5.jar -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms1024M -Xmx1024M -Xmn100M -XX:+HeapDumpOnOutOfMemoryError -Xss180k&lt;br/&gt;
Segmentation fault&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;It seems that not only me encountered this bug: &lt;a href=&quot;http://snapwebsites.org/known-issues/cassandra-crashes-java-segmentation-fault&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapwebsites.org/known-issues/cassandra-crashes-java-segmentation-fault&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Solution proposed on this link works.&lt;/p&gt;</description>
                <environment>&lt;p&gt;VirtualBox 4.2.6 VM with 4GB RAM, Xubuntu 12.10 as host and guest OS.&lt;br/&gt;
Cassandra 1.2.4 installed on guest as Debian package.&lt;/p&gt;</environment>
        <key id="12644819">CASSANDRA-5517</key>
            <summary>Cassandra crashes at start with segmentation fault</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="urandom">Eric Evans</assignee>
                                    <reporter username="sknaumov">Sergey Naumov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Apr 2013 11:57:14 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:13 +0000</updated>
                            <resolved>Thu, 15 Aug 2013 19:15:21 +0000</resolved>
                                                            <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13642804" author="jeromatron" created="Fri, 26 Apr 2013 12:52:54 +0000"  >&lt;p&gt;What version of Java are you running?  Can you paste the output of running java -version?&lt;/p&gt;</comment>
                            <comment id="13644293" author="sknaumov" created="Mon, 29 Apr 2013 05:56:07 +0000"  >&lt;ol&gt;
	&lt;li&gt;java -version&lt;br/&gt;
java version &quot;1.6.0_27&quot;&lt;br/&gt;
OpenJDK Runtime Environment (IcedTea6 1.12.3) (6b27-1.12.3-0ubuntu1~12.10.1)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13644425" author="jeromatron" created="Mon, 29 Apr 2013 11:15:13 +0000"  >&lt;p&gt;Can you try to see if you can reproduce the problem while running with a Sun/Oracle 1.6 JDK (non-openjdk), one of the more recent versions?  In the 1.6 line, openjdk is pretty behind the Sun/Oracle JDK.  I wouldn&apos;t be surprised if it was just an oddity with openjdk.&lt;/p&gt;</comment>
                            <comment id="13702254" author="urandom" created="Mon, 8 Jul 2013 18:36:44 +0000"  >&lt;p&gt;The attached patch, 0001-&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5517&quot; title=&quot;Cassandra crashes at start with segmentation fault&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5517&quot;&gt;&lt;del&gt;CASSANDRA-5517&lt;/del&gt;&lt;/a&gt;-up-xss-to-256k-for-openjdk-1.6, raises -Xss to 256k for OpenJDK 1.6 only.&lt;/p&gt;

&lt;p&gt;Optionally, 0002-optional-upgrade-dependency-to-OpenJDK-7 raises the Debian package dependency to OpenJDK 1.7.  You could argue it unwise to change this in a point release, but OpenJDK 1.7 seems to be a &lt;em&gt;much&lt;/em&gt; better default at this point.&lt;/p&gt;</comment>
                            <comment id="13736044" author="jbellis" created="Sat, 10 Aug 2013 21:23:36 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://github.com/apache/cassandra/pull/18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/18&lt;/a&gt;, recent Oracle JDK7 also needs a larger stack.  Maybe we should just increase it to 256 across the board; with a fairly solid native protocol + HSHA story, keeping per-thread memory down isn&apos;t quite as important as it was when we started.&lt;/p&gt;

&lt;p&gt;+1 on switching to OpenJDK 1.7 for Debian.&lt;/p&gt;</comment>
                            <comment id="13740965" author="urandom" created="Thu, 15 Aug 2013 13:39:35 +0000"  >
&lt;blockquote&gt;
&lt;p&gt;According to &lt;a href=&quot;https://github.com/apache/cassandra/pull/18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/18&lt;/a&gt;, recent Oracle JDK7 also needs a larger stack. Maybe we should just increase it to 256 across the board; with a fairly solid native protocol + HSHA story, keeping per-thread memory down isn&apos;t quite as important as it was when we started.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds reasonable to me, are we confident enough in this change to land it in cassandra-2.0.0? Or cassandra-2.0 (my comfort sweet-spot, I think)?&lt;/p&gt;</comment>
                            <comment id="13741033" author="jbellis" created="Thu, 15 Aug 2013 15:00:42 +0000"  >&lt;p&gt;2.0 WFM.&lt;/p&gt;</comment>
                            <comment id="13741374" author="urandom" created="Thu, 15 Aug 2013 19:15:22 +0000"  >&lt;p&gt;committed to cassandra-2.0 and trunk; closing&lt;/p&gt;</comment>
                            <comment id="13833953" author="cscetbon" created="Wed, 27 Nov 2013 17:04:16 +0000"  >&lt;p&gt;I think you should update JVM_OPTS in test/cassandra.in.sh too and the comment message in conf/cassandra-env.sh to :&lt;br/&gt;
u45 and greater need need 256k&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12663889">CASSANDRA-5895</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12503787">CASSANDRA-2441</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12591246" name="0001-CASSANDRA-5517-up-xss-to-256k-for-openjdk-1.6.patch" size="1593" author="urandom" created="Mon, 8 Jul 2013 18:31:48 +0000"/>
                            <attachment id="12591247" name="0002-optional-upgrade-dependency-to-OpenJDK-7.patch" size="1156" author="urandom" created="Mon, 8 Jul 2013 18:31:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[urandom]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k3of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>