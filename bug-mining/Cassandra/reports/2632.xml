<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:43:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6748] If null is explicitly set to a column, paging_state will not work</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6748</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;If null is explicitly set to a column, paging_state will not work. My test procedure is as follows:&lt;/p&gt;

&lt;p&gt;------&lt;br/&gt;
Create a table and insert 10 records using cqlsh. The query is as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE mytable (id &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, range &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, value text, PRIMARY KEY (id, range));
INSERT INTO mytable (id, range) VALUES (0, 0);
INSERT INTO mytable (id, range) VALUES (0, 1);
INSERT INTO mytable (id, range) VALUES (0, 2);
INSERT INTO mytable (id, range) VALUES (0, 3);
INSERT INTO mytable (id, range) VALUES (0, 4);
INSERT INTO mytable (id, range, value) VALUES (0, 5, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
INSERT INTO mytable (id, range, value) VALUES (0, 6, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
INSERT INTO mytable (id, range, value) VALUES (0, 7, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
INSERT INTO mytable (id, range, value) VALUES (0, 8, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
INSERT INTO mytable (id, range, value) VALUES (0, 9, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Select 10 records using datastax driver. The pseudocode is as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Statement statement = QueryBuilder.select().from(&lt;span class=&quot;code-quote&quot;&gt;&quot;mytable&quot;&lt;/span&gt;).setFetchSize(1);
ResultSet rs = session.execute(statement);
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(Row row : rs){
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;id=%d, range=%d, value=%s&quot;&lt;/span&gt;,
        row.getInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;), row.getInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;range&quot;&lt;/span&gt;), row.getString(&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;)));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result is as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;id=0, range=0, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=1, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=2, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=3, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=4, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=5, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=7, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
id=0, range=9, value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;------&lt;/p&gt;

&lt;p&gt;Result is 8 records although 10 records were expected. I originally raised this issue in the mailing lists: &lt;a href=&quot;http://www.mail-archive.com/user@cassandra.apache.org/msg34752.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/user@cassandra.apache.org/msg34752.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cassandra 2.0.5&lt;br/&gt;
Ubuntu 12.04&lt;/p&gt;</environment>
        <key id="12696454">CASSANDRA-6748</key>
            <summary>If null is explicitly set to a column, paging_state will not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="na-ga">Katsutoshi Nagaoka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Feb 2014 03:09:30 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:53 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 09:46:42 +0000</resolved>
                                        <fixVersion>2.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13910113" author="slebresne" created="Mon, 24 Feb 2014 09:02:33 +0000"  >&lt;p&gt;Paging requests a new page starting from the last cell of the previously returned result. Then, when it gets the new page, it checks if it starts with the previous last cell (likely, though not guaranteed), and if it does, it discards it (since it has been returned already). The problem is that the discarding part removes the first live CQL row, which is ok is that &quot;previous last cell&quot; is live, but ends up discarding the first &quot;valid&quot; row otherwise and that&apos;s the case here.&lt;/p&gt;

&lt;p&gt;Simplest fix is probably just to make the check of whether the new page contains the previous last cell return false if said cell is deleted, since the rest of the paging code ignore deleted cells anyway, and attaching patch to do that (with a unit test).&lt;/p&gt;</comment>
                            <comment id="13911132" author="iamaleksey" created="Tue, 25 Feb 2014 02:14:47 +0000"  >&lt;p&gt;LGTM, +1.&lt;/p&gt;</comment>
                            <comment id="13911430" author="slebresne" created="Tue, 25 Feb 2014 09:46:42 +0000"  >&lt;p&gt;Committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12630635" name="6748.txt" size="8893" author="slebresne" created="Mon, 24 Feb 2014 09:02:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1slyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aleksey</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>