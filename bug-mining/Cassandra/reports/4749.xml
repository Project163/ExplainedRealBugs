<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:07:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13369] If there are multiple values for a key, CQL grammar choses last value. This should not be silent or should not be allowed.</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13369</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;If through CQL, multiple values are specified for a key, grammar parses the map and last value for the key wins. This behavior is bad.&lt;br/&gt;
e.g. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE KEYSPACE Excalibur WITH REPLICATION = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;dc1&apos;&lt;/span&gt;: 2, &lt;span class=&quot;code-quote&quot;&gt;&apos;dc1&apos;&lt;/span&gt;: 5};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Parsing this statement, &apos;dc1&apos; gets RF = 5. This can be catastrophic, may even result in loss of data. This behavior should not be silent or not be allowed at all.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="13058350">CASSANDRA-13369</key>
            <summary>If there are multiple values for a key, CQL grammar choses last value. This should not be silent or should not be allowed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nachiket_patil">Nachiket Patil</assignee>
                                    <reporter username="nachiket_patil">Nachiket Patil</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Mar 2017 18:48:02 +0000</created>
                <updated>Tue, 7 Mar 2023 11:52:23 +0000</updated>
                            <resolved>Mon, 8 May 2017 20:52:59 +0000</resolved>
                                        <fixVersion>3.11.0</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15941801" author="jjirsa" created="Sat, 25 Mar 2017 17:24:34 +0000"  >&lt;p&gt;&lt;b&gt;This is not a review&lt;/b&gt;, just a quick glance. However:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+            &lt;span class=&quot;code-comment&quot;&gt;// Create a keyspace
&lt;/span&gt;+            execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE KEYSPACE testABC WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + DATA_CENTER + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; : 2}&quot;&lt;/span&gt;);
+
+            &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; modifying the keyspace
&lt;/span&gt;+            assertInvalidThrow(SyntaxException.class, &lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE KEYSPACE testABC WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + DATA_CENTER + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; : 2, &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + DATA_CENTER + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; : 3 }&quot;&lt;/span&gt;);
+            execute(&lt;span class=&quot;code-quote&quot;&gt;&quot;ALTER KEYSPACE testABC WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + DATA_CENTER + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; : 3}&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You&apos;re creating the keyspace, then your comment says modify, but the CQL query is another &lt;tt&gt;CREATE&lt;/tt&gt;, which will definitely fail. You&apos;re checking for &lt;tt&gt;SyntaxException&lt;/tt&gt;, so I suspect the test is doing the right thing, but it&apos;s a bit confusing. Would be better if that was &lt;tt&gt;ALTER&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15944179" author="nachiket_patil" created="Mon, 27 Mar 2017 22:49:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjirsa&quot; class=&quot;user-hover&quot; rel=&quot;jjirsa&quot;&gt;jjirsa&lt;/a&gt; Thanks. Fixed.&lt;/p&gt;</comment>
                            <comment id="15993589" author="aweisberg" created="Tue, 2 May 2017 19:42:34 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Code&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;utests&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dtests&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...aweisberg:cassandra-13369-3.11?expand=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/aweisberg/cassandra/268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="16001244" author="aweisberg" created="Mon, 8 May 2017 18:20:05 +0000"  >&lt;p&gt;bootstrap_test.TestBootstrap.consistent_range_movement_false_with_replica_down_should_succeed_test&lt;br/&gt;
bootstrap_test.TestBootstrap.simultaneous_bootstrap_test&lt;br/&gt;
cqlsh_tests.cqlsh_copy_tests.CqlshCopyTest.test_bulk_round_trip_blogposts&lt;br/&gt;
materialized_views_test.TestMaterializedViews.clustering_column_test&lt;br/&gt;
materialized_views_test.TestMaterializedViews.clustering_column_test&lt;br/&gt;
paxos_tests.TestPaxos.contention_test_many_threads&lt;br/&gt;
secondary_indexes_test.TestPreJoinCallback.write_survey_test&lt;br/&gt;
topology_test.TestTopology.size_estimates_multidc_test&lt;br/&gt;
topology_test.TestTopology.size_estimates_multidc_test&lt;/p&gt;</comment>
                            <comment id="16001508" author="aweisberg" created="Mon, 8 May 2017 20:52:59 +0000"  >&lt;p&gt;Committed as &lt;span class=&quot;error&quot;&gt;&amp;#91;https://github.com/apache/cassandra/commit/1a83efe2047d0138725d5e102cc40774f3b14641|1a83efe2047d0138725d5e102cc40774f3b14641&amp;#93;&lt;/span&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="16076977" author="aweisberg" created="Thu, 6 Jul 2017 17:49:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeromatron&quot; class=&quot;user-hover&quot; rel=&quot;jeromatron&quot;&gt;jeromatron&lt;/a&gt; Another ticket hit with the materialized view hammer?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12860748" name="3.X.diff" size="5645" author="nachiket_patil" created="Mon, 27 Mar 2017 22:17:37 +0000"/>
                            <attachment id="12866959" name="test_stdout.txt" size="119530" author="aweisberg" created="Mon, 8 May 2017 18:20:05 +0000"/>
                            <attachment id="12860749" name="trunk.diff" size="5826" author="nachiket_patil" created="Mon, 27 Mar 2017 22:17:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[nachiket_patil]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cnnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332167">2.1.x</customfieldvalue>
    <customfieldvalue id="12332541">3.0.x</customfieldvalue>
    <customfieldvalue id="12351720">5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aweisberg</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aweisberg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>