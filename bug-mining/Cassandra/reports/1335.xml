<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:27:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3596] cqlsh: DESCRIBE output for a columnfamily does not work as input to same C* instance</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3596</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The &lt;tt&gt;DESCRIBE COLUMNFAMILY&lt;/tt&gt; cqlsh command produces output that is intended to be usable as valid CQL (at least, when given to another Cassandra instance of the same version). But the output yields errors when run:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh&amp;gt; USE blah;
cqlsh:blah&amp;gt; CREATE COLUMNFAMILY cf1 (c1 int PRIMARY KEY, c2 varchar);
cqlsh:blah&amp;gt; DESCRIBE COLUMNFAMILY cf1;

CREATE COLUMNFAMILY cf1 (
  c1 int PRIMARY KEY,
  c2 text
) WITH
  comment=&apos;&apos; AND
  comparator=text AND
  row_cache_provider=&apos;ConcurrentLinkedHashCacheProvider&apos; AND
  key_cache_size=200000.000000 AND
  row_cache_size=0.000000 AND
  read_repair_chance=0.100000 AND
  gc_grace_seconds=864000 AND
  default_validation=text AND
  min_compaction_threshold=4 AND
  max_compaction_threshold=32 AND
  row_cache_save_period_in_seconds=0 AND
  key_cache_save_period_in_seconds=14400 AND
  replication_on_write=True;

cqlsh:blah&amp;gt; CREATE COLUMNFAMILY cf1 (
        ...   c1 int PRIMARY KEY,
        ...   c2 text
        ... ) WITH
        ...   comment=&apos;&apos; AND
        ...   comparator=text AND
        ...   row_cache_provider=&apos;ConcurrentLinkedHashCacheProvider&apos; AND
        ...   key_cache_size=200000.000000 AND
        ...   row_cache_size=0.000000 AND
        ...   read_repair_chance=0.100000 AND
        ...   gc_grace_seconds=864000 AND
        ...   default_validation=text AND
        ...   min_compaction_threshold=4 AND
        ...   max_compaction_threshold=32 AND
        ...   row_cache_save_period_in_seconds=0 AND
        ...   key_cache_save_period_in_seconds=14400 AND
        ...   replication_on_write=True;
Bad Request: replication_on_write is not a valid keyword argument for CREATE COLUMNFAMILY
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it needs to do a better job of determining which CF attributes are valid for which C* versions.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cqlsh running against a recent Cassandra build&lt;/p&gt;</environment>
        <key id="12534401">CASSANDRA-3596</key>
            <summary>cqlsh: DESCRIBE output for a columnfamily does not work as input to same C* instance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thepaul">paul cannon</assignee>
                                    <reporter username="thepaul">paul cannon</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Thu, 8 Dec 2011 21:07:46 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:44 +0000</updated>
                            <resolved>Thu, 8 Dec 2011 21:55:21 +0000</resolved>
                                        <fixVersion>1.0.6</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13165577" author="jbellis" created="Thu, 8 Dec 2011 21:23:23 +0000"  >&lt;p&gt;It looks like this is just a bug of describe spitting out a setting that CQL doesn&apos;t know how to handle (in any version).&lt;/p&gt;</comment>
                            <comment id="13165580" author="jbellis" created="Thu, 8 Dec 2011 21:24:03 +0000"  >&lt;p&gt;... So the fix is to add support for replicate_on_write to CQL, not to band-aid it in cqlsh.&lt;/p&gt;</comment>
                            <comment id="13165592" author="thepaul" created="Thu, 8 Dec 2011 21:38:54 +0000"  >&lt;p&gt;Yeah, actually, it looks like the fix is just to spell &quot;replicate_on_write&quot; correctly.&lt;/p&gt;</comment>
                            <comment id="13165607" author="jbellis" created="Thu, 8 Dec 2011 21:55:21 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506661" name="ASF.LICENSE.NOT.GRANTED--v1-0001-CASSANDRA-3596-spell-replicate_on_write-right.txt" size="802" author="thepaul" created="Thu, 8 Dec 2011 21:44:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0glv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>