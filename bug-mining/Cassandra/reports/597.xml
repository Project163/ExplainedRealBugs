<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:18:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1801] bytebuffers of column data written locally prevent GC of original thrift mutation byte[]</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1801</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;It appears C* isn&apos;t releasing buffers that were used during the writes of batch mutates.  See attached screenshot of heap dump.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491821">CASSANDRA-1801</key>
            <summary>bytebuffers of column data written locally prevent GC of original thrift mutation byte[]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tjake">T Jake Luciani</assignee>
                                    <reporter username="mdennis">Matthew F. Dennis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 22:03:09 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:12 +0000</updated>
                            <resolved>Fri, 3 Dec 2010 19:25:36 +0000</resolved>
                                        <fixVersion>0.7.0 rc 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12966161" author="tjake" created="Thu, 2 Dec 2010 16:27:13 +0000"  >&lt;p&gt;The thrift transport is now zero-copy for local writes. This means a larger underlying byte[] is held onto for many writes. &lt;/p&gt;

&lt;p&gt;This patch does a deep copy of the row mutation BB before storing in local memtable to avoid this.&lt;/p&gt;
</comment>
                            <comment id="12966294" author="gdusbabek" created="Thu, 2 Dec 2010 21:46:11 +0000"  >&lt;p&gt;Would it be more prudent to ensure that copies of the BBs that are needed are made in Table.apply, rather than copying everything wholesale up front?&lt;/p&gt;</comment>
                            <comment id="12966304" author="jbellis" created="Thu, 2 Dec 2010 22:15:28 +0000"  >&lt;p&gt;We&apos;d like to avoid doing a second copy for BB that we just read (copied) off IncomingTcpConnection.&lt;/p&gt;</comment>
                            <comment id="12966632" author="tjake" created="Fri, 3 Dec 2010 19:09:41 +0000"  >&lt;p&gt;v2 rebased for 0.7&lt;/p&gt;</comment>
                            <comment id="12966637" author="jbellis" created="Fri, 3 Dec 2010 19:25:36 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12970390" author="hudson" created="Sat, 11 Dec 2010 07:35:09 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #70 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/70/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/70/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465143" name="1801_v1.txt" size="10108" author="tjake" created="Thu, 2 Dec 2010 16:27:13 +0000"/>
                            <attachment id="12465262" name="1801_v2.txt" size="10097" author="tjake" created="Fri, 3 Dec 2010 19:09:40 +0000"/>
                            <attachment id="12465079" name="screenie.png" size="315155" author="mdennis" created="Wed, 1 Dec 2010 22:03:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g7hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>