<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:32:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4164] Cqlsh should support DESCRIBE on cql3-style composite CFs</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4164</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;There is a discrepancy between create column family commands and then the output of the describe command:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cqlsh:test&amp;gt; CREATE TABLE timeline (
        ...     user_id varchar,
        ...     tweet_id uuid,
        ...     author varchar,
        ...     body varchar,
        ...     PRIMARY KEY (user_id, tweet_id)
        ... );
cqlsh:test&amp;gt; describe columnfamily timeline;

CREATE COLUMNFAMILY timeline (
  user_id text PRIMARY KEY
) WITH
  comment=&apos;&apos; AND
  comparator=&apos;CompositeType(org.apache.cassandra.db.marshal.UUIDType,org.apache.cassandra.db.marshal.UTF8Type)&apos; AND
  read_repair_chance=0.100000 AND
  gc_grace_seconds=864000 AND
  default_validation=text AND
  min_compaction_threshold=4 AND
  max_compaction_threshold=32 AND
  replicate_on_write=True AND
  compaction_strategy_class=&apos;SizeTieredCompactionStrategy&apos; AND
  compression_parameters:sstable_compression=&apos;org.apache.cassandra.io.compress.SnappyCompressor&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12551347">CASSANDRA-4164</key>
            <summary>Cqlsh should support DESCRIBE on cql3-style composite CFs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thepaul">paul cannon</assignee>
                                    <reporter username="nickmbailey">Nick Bailey</reporter>
                        <labels>
                            <label>cql3</label>
                    </labels>
                <created>Wed, 18 Apr 2012 03:50:42 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:35 +0000</updated>
                            <resolved>Fri, 4 May 2012 17:47:36 +0000</resolved>
                                        <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13262029" author="thepaul" created="Wed, 25 Apr 2012 20:18:17 +0000"  >&lt;p&gt;teach cqlsh how to understand system.schema_columnfamilies so that it can get information on composite primary key tables.&lt;/p&gt;

&lt;p&gt;patch attached, or, as usual, in my 4164 branch on my github. tagged here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/thepaul/cassandra/tree/pending/4164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/thepaul/cassandra/tree/pending/4164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that this still won&apos;t work for describing composite CFs in the system keyspace; system CFs don&apos;t show up in schema_columnfamilies, and there&apos;s no other way to get key-component column info.&lt;/p&gt;</comment>
                            <comment id="13262584" author="thepaul" created="Thu, 26 Apr 2012 12:54:54 +0000"  >&lt;p&gt;Was just pointed out to me that this doesn&apos;t identify tables with COMPACT STORAGE, and it should. I&apos;ll add a fix (assuming its&apos;s possible to distinguish them over thrift or through system.schema_columnfamilies).&lt;/p&gt;</comment>
                            <comment id="13262596" author="slebresne" created="Thu, 26 Apr 2012 13:11:05 +0000"  >&lt;p&gt;The current way the code distinguishes COMPACT STORAGE is by checking if column_metadata is empty (i.e. if system.schema_columns is empty).&lt;/p&gt;</comment>
                            <comment id="13263868" author="thepaul" created="Fri, 27 Apr 2012 18:25:58 +0000"  >&lt;p&gt;Thanks, Sylvain. Branch is updated; new tag is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/thepaul/cassandra/tree/pending/4164-2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/thepaul/cassandra/tree/pending/4164-2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;New comprehensive patch attached.&lt;/p&gt;</comment>
                            <comment id="13263965" author="brandon.williams" created="Fri, 27 Apr 2012 21:11:59 +0000"  >&lt;p&gt;+1, committed.&lt;/p&gt;</comment>
                            <comment id="13268561" author="thepaul" created="Fri, 4 May 2012 17:38:18 +0000"  >&lt;p&gt;The rebased updated fix here introduced a bug; DESCRIBE COLUMNFAMILY does not work with this change (user only sees &quot;global name &apos;ksname&apos; is not defined&quot;).&lt;/p&gt;</comment>
                            <comment id="13268563" author="thepaul" created="Fri, 4 May 2012 17:38:52 +0000"  >&lt;p&gt;One-line fix for that attached.&lt;/p&gt;</comment>
                            <comment id="13268572" author="brandon.williams" created="Fri, 4 May 2012 17:47:36 +0000"  >&lt;p&gt;Committed, but I&apos;m wondering if it&apos;s time that cqlsh had some kind of tests?  Even something ghetto like we do for pig could catch this sort of thing.&lt;/p&gt;</comment>
                            <comment id="13268626" author="thepaul" created="Fri, 4 May 2012 19:05:55 +0000"  >&lt;p&gt;Absolutely it&apos;s time. That&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3920&quot; title=&quot;tests for cqlsh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3920&quot;&gt;&lt;del&gt;CASSANDRA-3920&lt;/del&gt;&lt;/a&gt;, which is in progress. Just need cycles..&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12525652" name="4164-fix.patch.txt" size="424" author="thepaul" created="Fri, 4 May 2012 17:38:52 +0000"/>
                            <attachment id="12524901" name="4164.patch-2.txt" size="20785" author="thepaul" created="Fri, 27 Apr 2012 18:25:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gsqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>