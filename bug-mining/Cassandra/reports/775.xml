<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:19:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2258] service.SerializationsTest failes under cobertura</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2258</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;ant codecoverage -Dtest.name=SerializationsTest gives&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Testcase: testTreeResponseRead(org.apache.cassandra.service.SerializationsTest):	Caused an ERROR
    [junit] java.io.InvalidClassException: org.apache.cassandra.dht.BigIntegerToken; local class incompatible: stream classdesc serialVersionUID = -5833589141319293006, local class serialVersionUID = 2280189098581028124
    [junit] java.lang.RuntimeException: java.io.InvalidClassException: org.apache.cassandra.dht.BigIntegerToken; local class incompatible: stream classdesc serialVersionUID = -5833589141319293006, local class serialVersionUID = 2280189098581028124
    [junit] 	at org.apache.cassandra.service.AntiEntropyService$TreeResponseVerbHandler.deserialize(AntiEntropyService.java:634)
    [junit] 	at org.apache.cassandra.service.SerializationsTest.testTreeResponseRead(SerializationsTest.java:90)
    [junit] Caused by: java.io.InvalidClassException: org.apache.cassandra.dht.BigIntegerToken; local class incompatible: stream classdesc serialVersionUID = -5833589141319293006, local class serialVersionUID = 2280189098581028124
    [junit] 	at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:562)
    [junit] 	at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1582)
    [junit] 	at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1495)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1731)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    [junit] 	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    [junit] 	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    [junit] 	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    [junit] 	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1946)
    [junit] 	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1870)
    [junit] 	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1752)
    [junit] 	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1328)
    [junit] 	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:350)
    [junit] 	at org.apache.cassandra.service.AntiEntropyService$TreeResponseVerbHandler.deserialize(AntiEntropyService.java:630)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12500103">CASSANDRA-2258</key>
            <summary>service.SerializationsTest failes under cobertura</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gdusbabek">Gary Dusbabek</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 21:39:23 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:05 +0000</updated>
                            <resolved>Tue, 15 Mar 2011 13:07:32 +0000</resolved>
                                        <fixVersion>0.7.5</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13006632" author="gdusbabek" created="Mon, 14 Mar 2011 21:04:15 +0000"  >&lt;p&gt;Several problems here:&lt;br/&gt;
1.  AntiEntropyService is using serialized java objects.&lt;br/&gt;
2.  Cobertura doesn&apos;t preserve serialVersionUID during instrumentation.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached two possible fixes, neither of them very impressive.&lt;/p&gt;

&lt;p&gt;The first forces the serialVersionUID for all Token descendants to 1L.  This is bad because it breaks wire compatibility between $THIS_VERSION and 0.7.x (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1015&quot; title=&quot;Internal Messaging should be backwards compatible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1015&quot;&gt;&lt;del&gt;CASSANDRA-1015&lt;/del&gt;&lt;/a&gt; for why we shouldn&apos;t allow this).&lt;/p&gt;

&lt;p&gt;The second disables instrumenting *Token.class during the instrumentation phase.  Upshot is that we don&apos;t get code coverage reports for those classes.&lt;/p&gt;</comment>
                            <comment id="13006665" author="jbellis" created="Mon, 14 Mar 2011 22:10:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;The second disables instrumenting *Token.class during the instrumentation phase. Upshot is that we don&apos;t get code coverage reports for those classes.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 this approach if you add a comment to build.xml for posterity &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13006903" author="gdusbabek" created="Tue, 15 Mar 2011 13:07:32 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13007008" author="hudson" created="Tue, 15 Mar 2011 16:46:45 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #382 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/382/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/382/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13007298" author="hudson" created="Wed, 16 Mar 2011 00:31:14 +0000"  >&lt;p&gt;Integrated in Cassandra #781 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/781/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/781/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473614" name="ASF.LICENSE.NOT.GRANTED--v1-0001-do-not-instrument-the-Token-classes.txt" size="648" author="gdusbabek" created="Mon, 14 Mar 2011 21:02:50 +0000"/>
                            <attachment id="12473610" name="ASF.LICENSE.NOT.GRANTED--v1-0001-fix-cobertura-brokenness-by-forcing-serialVersionUIDs.txt" size="4650" author="gdusbabek" created="Mon, 14 Mar 2011 20:53:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[gdusbabek]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gaav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>