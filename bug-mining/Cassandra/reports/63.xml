<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:10:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-261] get_slice needs offset + limit</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-261</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Right now get_slice does not allow you to provide an offset.  This would help for pagination.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429004">CASSANDRA-261</key>
            <summary>get_slice needs offset + limit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="lenn0x">Chris Goffinet</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jun 2009 22:52:06 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:36 +0000</updated>
                            <resolved>Mon, 6 Jul 2009 18:25:58 +0000</resolved>
                                        <fixVersion>0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12724760" author="jbellis" created="Fri, 26 Jun 2009 23:11:29 +0000"  >&lt;p&gt;Me, explaining new get_slice: so now you would slice from &quot;&quot; with whatever your desired limit is, then slice from the last name that returns to page&lt;/p&gt;

&lt;p&gt;Ian: Hm. That means that you have to chain from one call to the next, rather than being able to calculate chunksize*page.  e.g. you wouldn&apos;t be able to jump from page 1 to 3.&lt;/p&gt;

&lt;p&gt;I&apos;m convinced now &amp;#8211; could you submit a patch w/ your column offset code? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12725250" author="junrao" created="Mon, 29 Jun 2009 17:03:36 +0000"  >&lt;p&gt;Attach a patch that adds the offset support.&lt;/p&gt;</comment>
                            <comment id="12725319" author="urandom" created="Mon, 29 Jun 2009 19:32:13 +0000"  >&lt;p&gt;If I&apos;m understanding this patch correctly, it will have to sequentially scan until past the offset before it can start returning results. Assuming you&apos;re using this for pagination, each call is going to require scanning through more and more results.&lt;/p&gt;

&lt;p&gt;If this is the case, I&apos;m not sure it&apos;s a good idea to hide these sorts of inefficiencies behind an API like this. &lt;/p&gt;</comment>
                            <comment id="12725331" author="junrao" created="Mon, 29 Jun 2009 20:26:29 +0000"  >&lt;p&gt;Yes, the code has to scan and skip the portion of data between 0 and offset. So, the larger the offset, the worse the performance. It&apos;s hard to avoid this scanning overhead since offset is based on data merged from all sstables and it&apos;s difficult to push offset into individual sstables.&lt;/p&gt;

&lt;p&gt;However, this is still better than the old get_slice that has to materialize the whole CF. A typical use case of this function is to support page scrolling. Typically, a user goes to earlier pages much more frequently. So this api could still be useful.  We should document this impact though.&lt;/p&gt;</comment>
                            <comment id="12726254" author="jbellis" created="Wed, 1 Jul 2009 22:50:47 +0000"  >&lt;p&gt;I think the argument &quot;I&apos;m a big boy, let me make the decision whether the tradeoff is worth it&quot; applies here better than in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-262&quot; title=&quot;get_slice needs to allow returning all columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-262&quot;&gt;&lt;del&gt;CASSANDRA-262&lt;/del&gt;&lt;/a&gt;.  (It&apos;s one thing to allow a client to bog down the server with something potentially slow.  It&apos;s another to let the client crash you.  RDBMSes draw a similar distinction, although you could argue that they have no choice. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12726275" author="junrao" created="Wed, 1 Jul 2009 23:56:55 +0000"  >&lt;p&gt;Right. It seems that some applications need this functionality. Although this implementation doesn&apos;t give uniform performance, it is better than the old implementation or the application doing its own implementation.&lt;/p&gt;</comment>
                            <comment id="12727129" author="jbellis" created="Fri, 3 Jul 2009 20:37:58 +0000"  >&lt;p&gt;Could you update your patch to include updating the system tests?  (setup instructions at &lt;a href=&quot;http://wiki.apache.org/cassandra/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/cassandra/HowToContribute&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12727627" author="junrao" created="Mon, 6 Jul 2009 17:30:26 +0000"  >&lt;p&gt;Patch v2.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;patch the system test&lt;/li&gt;
	&lt;li&gt;rebase to head of trunk&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12727676" author="jbellis" created="Mon, 6 Jul 2009 18:25:58 +0000"  >&lt;p&gt;committed, thanks!&lt;/p&gt;</comment>
                            <comment id="12728667" author="hudson" created="Wed, 8 Jul 2009 12:47:08 +0000"  >&lt;p&gt;Integrated in Cassandra #131 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/131/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/131/&lt;/a&gt;)&lt;br/&gt;
    add offset support to get_slice.  patch by Jun Rao; reviewed by jbellis for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412083" name="issue261.patchv1" size="36753" author="junrao" created="Mon, 29 Jun 2009 17:03:36 +0000"/>
                            <attachment id="12412633" name="issue261.patchv2" size="44209" author="junrao" created="Mon, 6 Jul 2009 17:30:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[junrao]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fxuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>