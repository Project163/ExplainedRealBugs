<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:18:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16427] In-JVM dtest paging does not handle Group By correctly</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16427</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In-JVM dtest paging is using a pager that disregards the type of the executed query, resulting into `GROUP BY` queries being executed like normal SELECT queries without GROUP BY clause.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13357022">CASSANDRA-16427</key>
            <summary>In-JVM dtest paging does not handle Group By correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ifesdjeen">Alex Petrov</assignee>
                                    <reporter username="ifesdjeen">Alex Petrov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Feb 2021 10:28:19 +0000</created>
                <updated>Thu, 25 Feb 2021 10:10:36 +0000</updated>
                            <resolved>Mon, 15 Feb 2021 11:23:16 +0000</resolved>
                                        <fixVersion>2.2.20</fixVersion>
                    <fixVersion>3.0.25</fixVersion>
                    <fixVersion>3.11.11</fixVersion>
                    <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Test/dtest/java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17279807" author="ifesdjeen" created="Fri, 5 Feb 2021 17:10:16 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/trunk...ifesdjeen:16427-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ifesdjeen/cassandra?branch=16427-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.0...ifesdjeen:16427-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ifesdjeen/cassandra?branch=16427-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-3.11...ifesdjeen:16427-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ifesdjeen/cassandra?branch=16427-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/compare/cassandra-2.2...ifesdjeen:16427-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2.2&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ifesdjeen/cassandra?branch=16427-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Disclaimer: some of the tests are still queued after several hours. However, CI seems to be ok with achange.&lt;/p&gt;</comment>
                            <comment id="17281938" author="adelapena" created="Tue, 9 Feb 2021 18:15:15 +0000"  >&lt;p&gt;The patches look good to me. Just a couple of nits:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;ResultSet.ResultMetadata#getPagingState&lt;/tt&gt; is marked in trunk as &lt;tt&gt;@VisibleForTesting&lt;/tt&gt; in trunk but not in previous branches.&lt;/li&gt;
	&lt;li&gt;The new &lt;tt&gt;GroupByTest&lt;/tt&gt; systematically uses &lt;tt&gt;DistributedTestBase.withKeyspace&lt;/tt&gt; in some tests, and &lt;tt&gt;&quot; + KEYSPACE + &quot;&lt;/tt&gt; in others. Not a big deal but I think it would be nice if we did the same in all the tests.&lt;/li&gt;
	&lt;li&gt;Could you please run the JVM upgrade dtests too?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17281997" author="maedhroz" created="Tue, 9 Feb 2021 19:43:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could you please run the JVM upgrade dtests too?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Just keep in mind &lt;tt&gt;UpgradeTest&lt;/tt&gt; might fail until &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16387&quot; title=&quot;UpgradeTest sporadically failing on schema updates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16387&quot;&gt;&lt;del&gt;CASSANDRA-16387&lt;/del&gt;&lt;/a&gt; is resolved.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;(I&apos;d also run the Python dtests, given I think there are at least a couple things there that touch paging...)&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="17282067" author="maedhroz" created="Tue, 9 Feb 2021 22:02:52 +0000"  >&lt;p&gt;LGTM, just a couple minor things...&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;del&gt;Should the new &lt;tt&gt;GroupByTest&lt;/tt&gt; exist in the 3.0 patch?&lt;/del&gt;&lt;/li&gt;
	&lt;li&gt;On the trunk patch, &lt;tt&gt;GroupByTest&lt;/tt&gt;, line 61, there&apos;s a dangling closing parenthesis.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;public static Iterator&amp;lt;Object[]&amp;gt; toObjects(ResultSet rs)&lt;/tt&gt; looks like it was moved in the 3.0 branch but not trunk.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17282077" author="adelapena" created="Tue, 9 Feb 2021 22:13:56 +0000"  >&lt;blockquote&gt;&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Should the new&#160;&lt;tt&gt;GroupByTest&lt;/tt&gt;&#160;exist in the 3.0 patch?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think &lt;tt&gt;GROUP BY&lt;/tt&gt; was introduced in 3.10.&lt;/p&gt;</comment>
                            <comment id="17282517" author="ifesdjeen" created="Wed, 10 Feb 2021 15:45:59 +0000"  >&lt;p&gt;Thank you for the review! I&apos;ve addressed all of your concerns, and am re-running tests right now.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I&apos;d also run the Python dtests, given I think there are at least a couple things there that touch paging...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maedhroz&quot; class=&quot;user-hover&quot; rel=&quot;maedhroz&quot;&gt;maedhroz&lt;/a&gt;&#160;since we&apos;re only touching dtest code here and not production code, I think it shuold be ok if we skip python dtests.&#160;&lt;/p&gt;</comment>
                            <comment id="17283296" author="adelapena" created="Thu, 11 Feb 2021 18:49:22 +0000"  >&lt;p&gt;Changes look good to me, +1 assuming CI looks good.&lt;/p&gt;</comment>
                            <comment id="17284670" author="ifesdjeen" created="Mon, 15 Feb 2021 11:23:16 +0000"  >&lt;p&gt;Committed to 2.2 with &lt;a href=&quot;https://github.com/apache/cassandra/commit/4c3b42612037a74cb7095bdc8485ff42f747b2b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4c3b42612037a74cb7095bdc8485ff42f747b2b4&lt;/a&gt;, and merged up to &lt;a href=&quot;https://github.com/apache/cassandra/commit/e538df5e50905e71882e6fbacd835ad333190dba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/cassandra/commit/b4beebd55a5ebc8d32bb3e6c74c7b8d9797ba14a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;, and trunk &lt;a href=&quot;https://github.com/apache/cassandra/commit/21217671367bf9fcfeec3a4f2e8855183068997b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/21217671367bf9fcfeec3a4f2e8855183068997b&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13343356">CASSANDRA-16307</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12986" cascade-level="1"><![CDATA[Recoverable Corruption / Loss]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12972"><![CDATA[Fuzz Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nejk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[ifesdjeen]]></customfieldvalue>
        <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
        <customfieldvalue><![CDATA[maedhroz]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12339644">2.2.10</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/4c3b42612037a74cb7095bdc8485ff42f747b2b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/4c3b42612037a74cb7095bdc8485ff42f747b2b4&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Tested with Harry. Small repro is included into applicable branches. Harry tests pending.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>