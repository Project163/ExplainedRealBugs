<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:21:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2622] Select * doesn&apos;t include row key</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2622</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description></description>
                <environment></environment>
        <key id="12506497">CASSANDRA-2622</key>
            <summary>Select * doesn&apos;t include row key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 May 2011 13:08:45 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:59 +0000</updated>
                            <resolved>Mon, 9 May 2011 19:55:54 +0000</resolved>
                                        <fixVersion>0.8.0</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13030361" author="jbellis" created="Sat, 7 May 2011 15:15:42 +0000"  >&lt;p&gt;... in fact, we don&apos;t support KEY at all in the select list.&lt;/p&gt;</comment>
                            <comment id="13030362" author="jbellis" created="Sat, 7 May 2011 15:26:16 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adds validation that key_alias must be ascii&lt;/li&gt;
	&lt;li&gt;adds key to wildcard columns&lt;/li&gt;
	&lt;li&gt;adds support for key in named columns list&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Stuck getting antlr to be happy with using key as a column name though:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT KEY, birthdate FROM IndexedA WHERE birthdate = 100
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gives &quot;no viable alternative at input &apos;key&apos;&quot;.&lt;/p&gt;

&lt;p&gt;I believe the problem is that KEY is a keyword (K_KEY) but not sure how to make that allowed in column list.&lt;/p&gt;</comment>
                            <comment id="13030367" author="jbellis" created="Sat, 7 May 2011 15:56:12 +0000"  >&lt;p&gt;... found the &quot;term returns&quot; section of the grammar, proceeding w/ testing now.&lt;/p&gt;</comment>
                            <comment id="13030440" author="urandom" created="Sun, 8 May 2011 01:40:20 +0000"  >&lt;p&gt;I thought we had agreed not to do this.  Wasn&apos;t the plan to introduce virtual columns, which would allow you to include the key (by name) in the projection, and to return it in results like any other column?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2480&quot; title=&quot;Named keys / virtual columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2480&quot;&gt;&lt;del&gt;CASSANDRA-2480&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13030443" author="jbellis" created="Sun, 8 May 2011 02:05:51 +0000"  >&lt;p&gt;Right. But that implies that in the meantime * needs to include KEY or we break semantics when we go from no-key to including-key.&lt;/p&gt;

&lt;p&gt;Currently, the Python driver cheats and adds the row key at the beginning of each column list whether it was asked for or not (obviously incorrect) and JDBC forces you to unwrap the CassandraResultSet to get at it, which encourages relying on implementation details that should really be private (and isn&apos;t very user-friendly either: &lt;a href=&quot;http://twitter.com/#!/ampedandwired/status/66795646228762624&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://twitter.com/#!/ampedandwired/status/66795646228762624&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;It also means the two drivers we&apos;re shipping have different semantics which is also broken.&lt;/p&gt;

&lt;p&gt;As you can see from the patch (updated version attached) the actual changes to QueryProcessor are small; the work of key-wrangling is done in extractThriftColumns and the rest is just adjustments to pass the metadata object there.&lt;/p&gt;

&lt;p&gt;The patch is complete for QP and cql.py; I&apos;m still working on the JDBC side. Note that all the existing JDBC tests continue to pass (since there weren&apos;t actually any wildcards tested there).&lt;/p&gt;</comment>
                            <comment id="13030444" author="jbellis" created="Sun, 8 May 2011 02:09:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;The patch is complete for QP and cql.py; I&apos;m still working on the JDBC side&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In fact drivers/java is enough of a mess right now that I uploaded a new patch without that lest anyone think the current state is a useful indication of the right way to go there. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13030610" author="jbellis" created="Mon, 9 May 2011 05:11:51 +0000"  >&lt;p&gt;complete patch including jdbc.&lt;/p&gt;</comment>
                            <comment id="13030616" author="thobbs" created="Mon, 9 May 2011 05:41:06 +0000"  >&lt;p&gt;These semantics make much more sense to me.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on the code changes, as well.&lt;/p&gt;</comment>
                            <comment id="13030874" author="jbellis" created="Mon, 9 May 2011 19:55:54 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13031428" author="hudson" created="Tue, 10 May 2011 22:30:29 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #93 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/Cassandra-0.8/93/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/hudson/job/Cassandra-0.8/93/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13031629" author="xedin" created="Wed, 11 May 2011 10:18:13 +0000"  >&lt;p&gt;grammar should build without warnings.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12478568" name="2622.txt" size="40371" author="jbellis" created="Mon, 9 May 2011 05:11:51 +0000"/>
                            <attachment id="12478796" name="grammar-fix.patch" size="868" author="xedin" created="Wed, 11 May 2011 10:18:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gcgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>