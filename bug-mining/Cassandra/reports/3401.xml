<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:51:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7816] Duplicate DOWN/UP Events Pushed with Native Protocol</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7816</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Added &quot;MOVED_NODE&quot; as a possible type of topology change and also specified that it is possible to receive the same event multiple times.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12735875">CASSANDRA-7816</key>
            <summary>Duplicate DOWN/UP Events Pushed with Native Protocol</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefania">Stefania Alborghetti</assignee>
                                    <reporter username="mpenick">Michael Penick</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Aug 2014 19:28:53 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:36 +0000</updated>
                            <resolved>Thu, 19 Mar 2015 17:59:58 +0000</resolved>
                                        <fixVersion>2.0.15</fixVersion>
                    <fixVersion>2.1.5</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14105829" author="mpenick" created="Thu, 21 Aug 2014 19:33:38 +0000"  >&lt;p&gt;This change affects all version of C* since 1.2 as long as they have the corresponding protocol file.&lt;/p&gt;</comment>
                            <comment id="14106837" author="slebresne" created="Fri, 22 Aug 2014 13:53:16 +0000"  >&lt;p&gt;Indeed, MOVED_NODE is missing, thanks. Regarding the same event sent multiple times, have you actually experienced that? Because that would be something worth tracking and fixing (don&apos;t get me wrong, I think it&apos;s a very good idea for client to not crash if the same event is sent multiple times, but we should avoid to do it server side).&lt;/p&gt;</comment>
                            <comment id="14107017" author="mpenick" created="Fri, 22 Aug 2014 16:07:01 +0000"  >&lt;p&gt;Yes, I&apos;ve seen multiple UP/DOWN messages sent for the same event (I haven&apos;t tried other events yet). At first, I thought it was a bug in my driver, but was unable to determine the cause so I checked the java-driver:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/datastax/java-driver/blob/2.0/driver-core/src/main/java/com/datastax/driver/core/Host.java#L217-L219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/datastax/java-driver/blob/2.0/driver-core/src/main/java/com/datastax/driver/core/Host.java#L217-L219&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/datastax/java-driver/blob/2.1/driver-core/src/main/java/com/datastax/driver/core/Host.java#L219-L221&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/datastax/java-driver/blob/2.1/driver-core/src/main/java/com/datastax/driver/core/Host.java#L219-L221&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I figured it might be a side effect of C*&apos;s distributed design and the gossip protocol so it didn&apos;t seem unreasonable. I haven&apos;t dug into the server-side code yet to officially confirm why that&apos;s happening. I think it makes sense to have a note in the protocol specification if this is determined to be part of normal operating behavior.&lt;/p&gt;</comment>
                            <comment id="14107039" author="slebresne" created="Fri, 22 Aug 2014 16:21:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yes, I&apos;ve seen multiple UP/DOWN messages sent for the same event&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess my question is, do you have a simple way to reproduce that? Or is that something you saw once or twice completely randomly during your tests.&lt;/p&gt;

&lt;p&gt;The reason I added this kind of comments in the java driver is that I didn&apos;t wanted to dive into the gossip code to make extra sure that it was impossible to get a duplicate event even on a race, and I didn&apos;t wanted people to get surprised and blame the driver if that happened, but I don&apos;t think there is a good reason this could happen &quot;easily&quot;. So wondered if you have easy step to reproduce, because if that&apos;s the case we can have a quick look at fixing it. Note that I&apos;m good adding specifying in the doc that there is no strong guarantee on this anyway, it&apos;s just that you ticket makes me wonder if there isn&apos;t something we can easily fix server side.&lt;/p&gt;</comment>
                            <comment id="14107681" author="mpenick" created="Fri, 22 Aug 2014 23:17:05 +0000"  >&lt;p&gt;It seems to be &quot;UP&quot; events that mostly repeat, but I&apos;ve also seen it happen with &quot;DOWN&quot; events. I&apos;ve reproduced the issue several times with the following: &lt;/p&gt;

&lt;p&gt;Create a two node cluster, with a control connection listening on &quot;node1&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ccm create test -n 2:0 -s -i 127.0.0. -b -v 2.0.9
ccm stop node2
ccm start node2
ccm stop node2
ccm start node2
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve ruled out the driver&apos;s code using tcpdump. I&apos;ve attached a tcpdump file showing the case where an &quot;UP&quot; event has repeated several times. Here&apos;s the command I used:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sudo tcpdump -s 0 -i lo0 -X src host 127.0.0.1 and dst host 127.0.0.1 and tcp port 9042 and dst port &amp;lt;the port the driver&apos;s connected on&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will happen after a couple rounds of starting and stopping the node. Sorry, this specific to my driver, but it shows that several unique events are sent as a result of&quot;ccm start node2&quot;. For some reason C* sends a status change node &quot;DOWN&quot; before sending the &quot;UP&quot; event when the node is started. The number of &quot;DOWN&quot;/&quot;UP&quot; events varies from run to run.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is down
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x1033004e0)
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x103600000)
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x1003023e0)
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x10020a150)
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x103300230)
[INFO]: ControlConnection: Node&lt;span class=&quot;code-quote&quot;&gt;&apos;127.0.0.2:9042&apos;&lt;/span&gt; is up (0x103300230)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14334116" author="thobbs" created="Mon, 23 Feb 2015 23:56:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Stefania&quot; class=&quot;user-hover&quot; rel=&quot;stefania&quot;&gt;Stefania&lt;/a&gt; can you look into the duplicate notifications?&lt;/p&gt;</comment>
                            <comment id="14344785" author="stefania" created="Tue, 3 Mar 2015 09:16:28 +0000"  >&lt;p&gt;It&apos;s quite easy to reproduce, I added a new test, &lt;tt&gt;restart_node_test&lt;/tt&gt; to pushed_notifications_test.py, available in this pull request: &lt;a href=&quot;https://github.com/riptano/cassandra-dtest/pull/177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/riptano/cassandra-dtest/pull/177&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There are always two DOWN notifications, and this is deterministic. They are generated by:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  [GossipStage:1] 2015-03-03 01:10:47,156 Server.java:413 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[GossipStage:1,5,main]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.getStackTrace(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1589)
        at org.apache.cassandra.transport.Server$EventNotifier.getStackTrace(Server.java:396)
        at org.apache.cassandra.transport.Server$EventNotifier.onDown(Server.java:413)
        at org.apache.cassandra.service.StorageService.onDead(StorageService.java:2049)
        at org.apache.cassandra.gms.Gossiper.markDead(Gossiper.java:932)
        at org.apache.cassandra.gms.Gossiper.convict(Gossiper.java:319)
        at org.apache.cassandra.gms.FailureDetector.forceConviction(FailureDetector.java:251)
        at org.apache.cassandra.gms.GossipShutdownVerbHandler.doVerb(GossipShutdownVerbHandler.java:37)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:62)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  [GossipStage:1] 2015-03-03 01:11:04,254 Server.java:413 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[GossipStage:1,5,main]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.getStackTrace(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1589)
        at org.apache.cassandra.transport.Server$EventNotifier.getStackTrace(Server.java:396)
        at org.apache.cassandra.transport.Server$EventNotifier.onDown(Server.java:413)
        at org.apache.cassandra.service.StorageService.onDead(StorageService.java:2049)
        at org.apache.cassandra.service.StorageService.onRestart(StorageService.java:2057)
        at org.apache.cassandra.gms.Gossiper.handleMajorStateChange(Gossiper.java:958)
        at org.apache.cassandra.gms.Gossiper.applyStateLocally(Gossiper.java:1024)
        at org.apache.cassandra.gms.GossipDigestAckVerbHandler.doVerb(GossipDigestAckVerbHandler.java:58)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:62)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There are one or more UP notifications, and this is not deterministic but it tends to happen on the third time the node is restarted. They are generated by the same stack trace but different threads indicating a contention problem, to be investigated further:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  [SharedPool-Worker-2] 2015-03-03 01:11:04,419 Gossiper.java:916 - InetAddress /127.0.0.2 is now UP
INFO  [SharedPool-Worker-2] 2015-03-03 01:11:04,421 Server.java:407 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[SharedPool-Worker-2,10,main]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.getStackTrace(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1589)
        at org.apache.cassandra.transport.Server$EventNotifier.getStackTrace(Server.java:396)
        at org.apache.cassandra.transport.Server$EventNotifier.onUp(Server.java:407)
        at org.apache.cassandra.service.StorageService.onAlive(StorageService.java:2033)
        at org.apache.cassandra.gms.Gossiper.realMarkAlive(Gossiper.java:918)
        at org.apache.cassandra.gms.Gossiper.access$900(Gossiper.java:67)
        at org.apache.cassandra.gms.Gossiper$2.response(Gossiper.java:900)
        at org.apache.cassandra.net.ResponseVerbHandler.doVerb(ResponseVerbHandler.java:54)
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:62)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at org.apache.cassandra.concurrent.AbstractTracingAwareExecutorService$FutureTask.run(AbstractTracingAwareExecutorService.java:164)
        at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sample output of the test (with assertions commented out):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;KEEP_LOGS=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; PRINT_DEBUG=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; nosetests -s -a &lt;span class=&quot;code-quote&quot;&gt;&apos;selected&apos;&lt;/span&gt; pushed_notifications_test.py
cluster ccm directory: /tmp/dtest-AQzO0X
Restarting second node...
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; notifications from 127.0.0.1
Restarting second node...
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; notifications from 127.0.0.1
Restarting second node...
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent DOWN &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Source 127.0.0.1 sent UP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 127.0.0.2
Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; notifications from 127.0.0.1
removing ccm cluster test at: /tmp/dtest-AQzO0X
.
----------------------------------------------------------------------
Ran 1 test in 94.861s

OK
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14345496" author="thobbs" created="Tue, 3 Mar 2015 18:53:05 +0000"  >&lt;p&gt;I went ahead and committed the patch to update the native protocol specs as 72c6ed288, since there was no debate there.&lt;/p&gt;

&lt;p&gt;I&apos;ve updated the ticket title and fields to reflect the current issue of duplicate notifications.&lt;/p&gt;</comment>
                            <comment id="14346387" author="stefania" created="Wed, 4 Mar 2015 04:38:34 +0000"  >&lt;p&gt;Submitting a patch for 2.0, cassandra_7816.txt.&lt;/p&gt;

&lt;p&gt;The duplicate DOWN notification is caused by &lt;tt&gt;Gossiper.handleMajorStateChange&lt;/tt&gt; passing the remote endpoint state to &lt;tt&gt;StorageService.onRestart&lt;/tt&gt;, which then incorrectly comes to the conclusion that the node was not previously marked down. I changed it to receive the local state, if not null. If it is null we do not call &lt;tt&gt;onRestart&lt;/tt&gt;, please confirm that this does not introduce problems (I checked all &lt;tt&gt;onStart&lt;/tt&gt; implementations and it looks OK to me).&lt;/p&gt;

&lt;p&gt;The multiple UP notifications are caused by the call to &lt;tt&gt;markAlive()&lt;/tt&gt; in &lt;tt&gt;Gossiper.applyStateLocally()&lt;/tt&gt; when receiving multiple gossip messages. Because &lt;tt&gt;markAlive()&lt;/tt&gt; only marks the node as alive after receiving an echo message (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3533&quot; title=&quot;TimeoutException when there is a firewall issue.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3533&quot;&gt;&lt;del&gt;CASSANDRA-3533&lt;/del&gt;&lt;/a&gt;), there is a delay during which the node is still not marked as alive. If gossip messages are received during this period, we incorrectly call &lt;tt&gt;markAlive()&lt;/tt&gt; multiple times in &lt;tt&gt;applyStateLocally()&lt;/tt&gt;. I fixed it by adding a flag to &lt;tt&gt;EndpointState&lt;/tt&gt; and by checking this flag in &lt;tt&gt;markAlive&lt;/tt&gt;, if an echo is outstanding then we do not send another one until we&apos;ve received an answer. When there is a major change, &lt;tt&gt;markAlive()&lt;/tt&gt; is called on the remote state, for which this flag is not set and so we try againg sending an echo message in mark alive even if we did not receive a reply to a previous echo request.&lt;/p&gt;</comment>
                            <comment id="14350046" author="stefania" created="Fri, 6 Mar 2015 07:03:28 +0000"  >&lt;p&gt;Fixed trailing spaces in patch, also available here: &lt;a href=&quot;https://github.com/stef1927/cassandra/tree/7816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stef1927/cassandra/tree/7816&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14359042" author="brandon.williams" created="Thu, 12 Mar 2015 17:40:35 +0000"  >&lt;p&gt;With this patch applied, when I ctrl-c out of foreground mode to stop the server I just get this message, repeating infinitely:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; WARN 17:37:59,733 Transport error occurred during acceptance of message.
org.apache.thrift.transport.TTransportException: No underlying server socket.
        at org.apache.cassandra.thrift.TCustomServerSocket.acceptImpl(TCustomServerSocket.java:96)
        at org.apache.cassandra.thrift.TCustomServerSocket.acceptImpl(TCustomServerSocket.java:36)
        at org.apache.thrift.transport.TServerTransport.accept(TServerTransport.java:31)
        at org.apache.cassandra.thrift.CustomTThreadPoolServer.serve(CustomTThreadPoolServer.java:109)
        at org.apache.cassandra.thrift.ThriftServer$ThriftServerThread.run(ThriftServer.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14359129" author="mambocab" created="Thu, 12 Mar 2015 18:29:43 +0000"  >&lt;p&gt;A few notes from getting the dtests running:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The documentation changes in trunk-7816.txt have gone out of sync. I can `wiggle` them in, but could you rebase them?&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra-dtest/blob/7816/pushed_notifications_test.py#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;move_single_node_test&lt;/tt&gt;&lt;/a&gt; still fails for me with the patch. You can see the failure I running patched trunk &lt;a href=&quot;https://gist.github.com/mambocab/ee05dd11a974e39a6f25#file-patched-c-patched-tests-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. I get the same failure on patched 2.0. Is this supposed to still fail? To run that test, set the &lt;tt&gt;DISABLE_VNODES&lt;/tt&gt; environment variable to &lt;tt&gt;true&lt;/tt&gt; before running the tests.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14359651" author="Stefania" created="Thu, 12 Mar 2015 23:59:54 +0000"  >&lt;p&gt;I&apos;ll try to rebase trunk-7816.txt today.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;move_single_node_test&lt;/tt&gt; is for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8516&quot; title=&quot;NEW_NODE topology event emitted instead of MOVED_NODE by moving node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8516&quot;&gt;&lt;del&gt;CASSANDRA-8516&lt;/del&gt;&lt;/a&gt; so it&apos;s expected that it would still fail with the patch of this jira applied.&lt;/p&gt;
</comment>
                            <comment id="14359680" author="Stefania" created="Fri, 13 Mar 2015 00:22:15 +0000"  >&lt;p&gt;I cannot reproduce this. I start with &lt;tt&gt;cassandra -f&lt;/tt&gt; and then CTRL-C and all is fine. Any specific steps before the CTRL-C?&lt;/p&gt;

&lt;p&gt;That exception can occur if the thrift socket has been closed or failed to open, as far as I can see.&lt;/p&gt;

&lt;p&gt;Since the patch doesn&apos;t touch the thrift transport, can we compare &lt;tt&gt;git log&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit c8faec77f0850e9c579539f9a57ed91454c66ddf
Author: Stefania Alborghetti &amp;lt;stefania.alborghetti@datastax.com&amp;gt;
Date:   Thu Mar 12 14:31:21 2015 +0800

    Fixed trailing spaces and &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; order

commit d81c79c9567a1796582d788a70329b231f918c35
Author: Stefania Alborghetti &amp;lt;stefania.alborghetti@datastax.com&amp;gt;
Date:   Tue Mar 3 20:31:58 2015 -0800

    Fixed duplicate DOWN notification and multiple UP notifications when restarting a node

commit a936d7e7fbbc432748d634c326b680d5063742d0
Author: Sam Tunnicliffe &amp;lt;sam@beobal.com&amp;gt;
Date:   Tue Mar 3 15:10:36 2015 -0800

    Update example commands in commitlog_archiving.properties
    
    patch by Sam Tunnicliffe; reviewed by Michael Shuler &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-8290

commit e7d802e35976d41979d77978da7d70e4f30b630a
Author: Carl Yeksigian &amp;lt;carl@apache.org&amp;gt;
Date:   Tue Mar 3 11:17:30 2015 -0500

    Fixing LongCompactionsTest

[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and especially &lt;tt&gt;git log src/java/org/apache/cassandra/thrift/&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit 37d33b2086abb8e073a3ec7f9de23150eb49fb32
Author: Jason Brown &amp;lt;jasedbrown@gmail.com&amp;gt;
Date:   Wed Nov 12 16:12:36 2014 -0800

    ninja-fix nit from casandra-8265 commit (make repeated strings a constant)

commit b93f48a5db321bf7c9fb55a800ed6ab2d6f6b102
Author: Jason Brown &amp;lt;jasedbrown@gmail.com&amp;gt;
Date:   Wed Nov 12 15:58:13 2014 -0800

    Disable SSLv3 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; POODLE
    
    patch by Jeremiah Jordan; reviewed by jasobrown &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-8265
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14359690" author="Stefania" created="Fri, 13 Mar 2015 00:29:39 +0000"  >&lt;p&gt;Tyler already committed the documentation changes to trunk: &lt;tt&gt;72c6ed2883a24486f6785b53cf73fdc8e78e2765&lt;/tt&gt;, so no need to do anything else right?&lt;/p&gt;</comment>
                            <comment id="14360310" author="brandon.williams" created="Fri, 13 Mar 2015 13:08:06 +0000"  >&lt;p&gt;I&apos;m not sure what happened the first time I tried it, but I can&apos;t repro now either, and it doesn&apos;t really make any sense.  Everything LGTM and works, committed.&lt;/p&gt;</comment>
                            <comment id="14363007" author="stefania" created="Mon, 16 Mar 2015 09:59:28 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14367782" author="tjake" created="Wed, 18 Mar 2015 20:03:06 +0000"  >&lt;p&gt;Testing 2.1 HEAD I noticed some nodes were marked DOWN while gossipinfo had them as NORMAL.  I reverted this patch and it was fixed so something is broken.&lt;/p&gt;</comment>
                            <comment id="14368146" author="stefania" created="Wed, 18 Mar 2015 23:37:04 +0000"  >&lt;p&gt;Do you know which tests exactly or can you provide some logs?&lt;/p&gt;</comment>
                            <comment id="14368259" author="tjake" created="Thu, 19 Mar 2015 00:57:54 +0000"  >&lt;p&gt;No actual test.   I had started an actual cluster and noticed the nodes were all started but some were reporting as DN in nodetool status.&lt;/p&gt;

&lt;p&gt;I can give you access to the cluster if a small ccm cluster doesn&apos;t reproduce this?&lt;/p&gt;</comment>
                            <comment id="14368276" author="stefania" created="Thu, 19 Mar 2015 01:13:24 +0000"  >&lt;p&gt;I see, I will try to reproduce with a small cluster by querying with nodetool then. The patch is actually for client notifications so that is what I was thinking of. &lt;/p&gt;

&lt;p&gt;If by end of my day I cannot reproduce I will post a comment asking you to give me some logs or access to your cluster. Thanks!&lt;/p&gt;</comment>
                            <comment id="14368543" author="stefania" created="Thu, 19 Mar 2015 05:38:26 +0000"  >&lt;p&gt;Unfortunately I could not reproduce it, I tried with a ccm cluster of 5, 10 and 15 nodes. Not sure if you were doing any specific operations so I tried restarting or adding new nodes but the status reported by nodetool, on all hosts, was always correct as &quot;UN&quot;.&lt;/p&gt;

&lt;p&gt;However, by code inspection, the problem described could happen if a node fails to reply to an echo message after it has gossiped it&apos;s status as alive. Maybe the socket listening thread was slow to start due to machine overload or maybe some other cluster properties could explain it. I did not waste too much time trying to understand what I could not reproduce. Instead, I went ahead and created a new delta patch that should fix it: &lt;a href=&quot;https://github.com/stef1927/cassandra/tree/7816-2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stef1927/cassandra/tree/7816-2&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What this patch does is revert back the part of the code that I think is causing the issue in favor of a more conservative approach that simply stores the last state reported to the client in &lt;tt&gt;Server.EventNotifier&lt;/tt&gt; and does not interfere with the existing &lt;tt&gt;markAlive()&lt;/tt&gt; logic in &lt;tt&gt;Gossiper&lt;/tt&gt;. It does introduce a new problem, in that the additional map may consume extra memory, but we can worry about this during code review if this patch works.&lt;/p&gt;

&lt;p&gt;So would you mind applying this new patch and see if it solves it? If not, could you please give me more information on your cluster or give me access to it? You could also try to reproduce it in TRACE mode and send me the logs.&lt;/p&gt;</comment>
                            <comment id="14369617" author="brandon.williams" created="Thu, 19 Mar 2015 16:12:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;the status reported by nodetool, on all hosts, was always correct as &quot;UN&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think what Jake is saying is there&apos;s disparity between status and gossipinfo when a node is &quot;DN&quot;, since gossipinfo says they&apos;re normal.&lt;/p&gt;</comment>
                            <comment id="14369668" author="tjake" created="Thu, 19 Mar 2015 16:46:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;So would you mind applying this new patch and see if it solves it? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That fixed it, +1&lt;/p&gt;</comment>
                            <comment id="14369810" author="tjake" created="Thu, 19 Mar 2015 17:59:58 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14370414" author="stefania" created="Fri, 20 Mar 2015 00:03:19 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14370415" author="Stefania" created="Fri, 20 Mar 2015 00:04:17 +0000"  >&lt;p&gt;How do you see the gossip info, in the log files or is there another command?&lt;/p&gt;</comment>
                            <comment id="14487290" author="sbtourist" created="Thu, 9 Apr 2015 12:30:20 +0000"  >&lt;p&gt;I find the pending echo check a bit dangerous, as if the echo reply gets swallowed (i.e. because the connection pool is reset?), the node could stay marked down until the next major state change. If the objective is to avoid repeated &lt;tt&gt;Gossiper#realMarkAlive&lt;/tt&gt; calls, wouldn&apos;t it be safer to make the echo callback idempotent? I.e., we could make &lt;tt&gt;EndpointState#isAlive&lt;/tt&gt; an &lt;tt&gt;AtomicBoolean&lt;/tt&gt;, and use CAS in &lt;tt&gt;EndpointState#markAlive&lt;/tt&gt; and &lt;tt&gt;EndpointState #markDead&lt;/tt&gt;, returning the CAS result (that is, if it was actually dead and turned alive, and vice-versa): this could be used by the &lt;tt&gt;Gossiper&lt;/tt&gt; to conditionally execute &lt;tt&gt;realMarkAlive&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14488588" author="stefania" created="Fri, 10 Apr 2015 00:10:52 +0000"  >&lt;p&gt;The pending echo check should have been reverted as it was wrong, the second commit removes this.&lt;/p&gt;

&lt;p&gt;I do agree however realMarkAlive should not be called multiple times but after the problems I introduced in the first patch I went for the least intrusive approach to just block the duplicate notifications further down in the client notifications layer.&lt;/p&gt;

&lt;p&gt;I can open a ticket for 3.0 to avoid calling realMarketAlive multiple times using Sergio&apos;s approach, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tjake&quot; class=&quot;user-hover&quot; rel=&quot;tjake&quot;&gt;tjake&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14488595" author="brandon.williams" created="Fri, 10 Apr 2015 00:12:01 +0000"  >&lt;p&gt;Sounds good to me.&lt;/p&gt;</comment>
                            <comment id="14488602" author="stefania" created="Fri, 10 Apr 2015 00:17:57 +0000"  >&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9156&quot; title=&quot;Make the echo callback idempotent in markAlive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9156&quot;&gt;CASSANDRA-9156&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14489554" author="tjake" created="Fri, 10 Apr 2015 12:53:16 +0000"  >&lt;p&gt;The question remains, is this change as it stands destabilizing for 2.1 and 2.0?&lt;/p&gt;</comment>
                            <comment id="14489632" author="stefania" created="Fri, 10 Apr 2015 13:37:23 +0000"  >&lt;p&gt;The change that still affects the Gossipper is in handleMajorStateChange() and according to my initial analysis it is correct to only call onRestart if there is a local state and to pass the local state. Having said this, it can probably be rolled back as the duplicate DOWN notification would be caught by the client notifications layer (thanks for the map added by the second commit). We can verify this with pushed_notifications_test.py.&lt;/p&gt;

&lt;p&gt;So it depends on how confident we are with our tests in this area, if we are not very confident let&apos;s roll it back and leave it only in 3.0.&lt;/p&gt;



</comment>
                            <comment id="16335098" author="githubbot" created="Mon, 22 Jan 2018 22:59:38 +0000"  >&lt;p&gt;Github user aweisberg commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra/pull/184#discussion_r163095381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/184#discussion_r163095381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/org/apache/cassandra/transport/Server.java &amp;#8212;&lt;br/&gt;
    @@ -454,51 +455,32 @@ public static LatestEvent forTopologyChange(Event.TopologyChange.Change change,&lt;/p&gt;

&lt;p&gt;             // We keep track of the latest status change events we have sent to avoid sending duplicates&lt;br/&gt;
             // since StorageService may send duplicate notifications (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7816&quot; title=&quot;Duplicate DOWN/UP Events Pushed with Native Protocol&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7816&quot;&gt;&lt;del&gt;CASSANDRA-7816&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8236&quot; title=&quot;Delay &amp;quot;node up&amp;quot; and &amp;quot;node added&amp;quot; notifications until native protocol server is started&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8236&quot;&gt;&lt;del&gt;CASSANDRA-8236&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9156&quot; title=&quot;Make the echo callback idempotent in markAlive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9156&quot;&gt;CASSANDRA-9156&lt;/a&gt;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final Map&amp;lt;InetAddress, LatestEvent&amp;gt; latestEvents = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;
    +        private final Map&amp;lt;InetAddressAndPort, LatestEvent&amp;gt; latestEvents = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;
             // We also want to delay delivering a NEW_NODE notification until the new node has set its RPC ready&lt;br/&gt;
             // state. This tracks the endpoints which have joined, but not yet signalled they&apos;re ready for clients&lt;/li&gt;
	&lt;li&gt;private final Set&amp;lt;InetAddress&amp;gt; endpointsPendingJoinedNotification = ConcurrentHashMap.newKeySet();&lt;br/&gt;
    -&lt;br/&gt;
    -&lt;/li&gt;
	&lt;li&gt;private static final InetAddress bindAll;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I looked up the JIRA and it&apos;s not necessary anymore. The comment says &lt;/p&gt;

&lt;p&gt;                    // Note that after all nodes are running a version that includes &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5899&quot; title=&quot;Sends all interface in native protocol notification when rpc_address=0.0.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5899&quot;&gt;&lt;del&gt;CASSANDRA-5899&lt;/del&gt;&lt;/a&gt;, rpcAddress should&lt;br/&gt;
                    // never be 0.0.0.0, so this can eventually be removed.&lt;/p&gt;

&lt;p&gt;    So we can never hit that path anyway. I think it was useful when introduced, but it&apos;s not anymore.&lt;/p&gt;</comment>
                            <comment id="16336482" author="githubbot" created="Tue, 23 Jan 2018 22:38:15 +0000"  >&lt;p&gt;Github user jasobrown commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/cassandra/pull/184#discussion_r163399770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/184#discussion_r163399770&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/java/org/apache/cassandra/transport/Server.java &amp;#8212;&lt;br/&gt;
    @@ -454,51 +455,32 @@ public static LatestEvent forTopologyChange(Event.TopologyChange.Change change,&lt;/p&gt;

&lt;p&gt;             // We keep track of the latest status change events we have sent to avoid sending duplicates&lt;br/&gt;
             // since StorageService may send duplicate notifications (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7816&quot; title=&quot;Duplicate DOWN/UP Events Pushed with Native Protocol&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7816&quot;&gt;&lt;del&gt;CASSANDRA-7816&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8236&quot; title=&quot;Delay &amp;quot;node up&amp;quot; and &amp;quot;node added&amp;quot; notifications until native protocol server is started&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8236&quot;&gt;&lt;del&gt;CASSANDRA-8236&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9156&quot; title=&quot;Make the echo callback idempotent in markAlive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9156&quot;&gt;CASSANDRA-9156&lt;/a&gt;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private final Map&amp;lt;InetAddress, LatestEvent&amp;gt; latestEvents = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;
    +        private final Map&amp;lt;InetAddressAndPort, LatestEvent&amp;gt; latestEvents = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;
             // We also want to delay delivering a NEW_NODE notification until the new node has set its RPC ready&lt;br/&gt;
             // state. This tracks the endpoints which have joined, but not yet signalled they&apos;re ready for clients&lt;/li&gt;
	&lt;li&gt;private final Set&amp;lt;InetAddress&amp;gt; endpointsPendingJoinedNotification = ConcurrentHashMap.newKeySet();&lt;br/&gt;
    -&lt;br/&gt;
    -&lt;/li&gt;
	&lt;li&gt;private static final InetAddress bindAll;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    hmm, looks like I didn&apos;t read that comment. But yes, you are correct, so +1 here&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12787733">CASSANDRA-9100</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12703006" name="7816-v2.0.txt" size="5389" author="stefania" created="Fri, 6 Mar 2015 07:03:28 +0000"/>
                            <attachment id="12663788" name="tcpdump_repeating_status_change.txt" size="7881" author="mpenick" created="Fri, 22 Aug 2014 23:12:31 +0000"/>
                            <attachment id="12663468" name="trunk-7816.txt" size="4136" author="mpenick" created="Thu, 21 Aug 2014 19:31:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefania]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z76f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311124" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aboudreault</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>