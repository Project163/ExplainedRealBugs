<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:20:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2575] make forceUserDefinedCompaction actually do what it says</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2575</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://www.mail-archive.com/user@cassandra.apache.org/msg12621.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/user@cassandra.apache.org/msg12621.html&lt;/a&gt; for motivation&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505353">CASSANDRA-2575</key>
            <summary>make forceUserDefinedCompaction actually do what it says</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Apr 2011 21:07:24 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:00 +0000</updated>
                            <resolved>Thu, 28 Apr 2011 16:16:31 +0000</resolved>
                                        <fixVersion>0.8.0 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13026014" author="jbellis" created="Wed, 27 Apr 2011 21:17:41 +0000"  >&lt;p&gt;patch splits out doCompactionWithoutSizeEstimates and calls that from submitUserDefined.&lt;/p&gt;</comment>
                            <comment id="13026077" author="stuhood" created="Thu, 28 Apr 2011 02:31:46 +0000"  >&lt;p&gt;The patch for 2552 is attached.&lt;/p&gt;</comment>
                            <comment id="13026099" author="jbellis" created="Thu, 28 Apr 2011 03:43:16 +0000"  >&lt;p&gt;corrected patch attached.&lt;/p&gt;</comment>
                            <comment id="13026243" author="slebresne" created="Thu, 28 Apr 2011 10:32:37 +0000"  >&lt;p&gt;I suppose we could backport to 0.7 too.&lt;br/&gt;
Also wondering if it couldn&apos;t make sense to not compact if we end up with only 1 sstable in doCompaction, now that you still can do a userDefinedCompaction on only 1 sstable. Not being able to compact the 2 smallest sstables seems pathological enough and it would be nice to avoid the &apos;same sstable compacted forever&apos; problem seen in the mail thread above.&lt;/p&gt;

&lt;p&gt;Anyway, +1 on the patch. &lt;/p&gt;</comment>
                            <comment id="13026351" author="jbellis" created="Thu, 28 Apr 2011 15:39:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also wondering if it couldn&apos;t make sense to not compact if we end up with only 1 sstable in doCompaction, now that you still can do a userDefinedCompaction on only 1 sstable&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good idea. v2 attached with a rewrite of the retry loop to do this.&lt;/p&gt;</comment>
                            <comment id="13026356" author="slebresne" created="Thu, 28 Apr 2011 15:47:03 +0000"  >&lt;p&gt;+1 on v2&lt;/p&gt;</comment>
                            <comment id="13026361" author="jbellis" created="Thu, 28 Apr 2011 16:16:31 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13027805" author="hudson" created="Mon, 2 May 2011 19:54:50 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #58 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/Cassandra-0.8/58/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/hudson/job/Cassandra-0.8/58/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477663" name="2575-v2.txt" size="4214" author="jbellis" created="Thu, 28 Apr 2011 15:39:43 +0000"/>
                            <attachment id="12477607" name="2575.txt" size="4374" author="jbellis" created="Thu, 28 Apr 2011 03:43:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gc6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>