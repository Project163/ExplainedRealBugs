<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:43:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6847] The binary transport doesn&apos;t load truststore file</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6847</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;org.apache.cassandra.transport.Server.SecurePipelineFactory&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sslContext = SSLFactory.createSSLContext(encryptionOptions, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;false&lt;/tt&gt; there means that &lt;tt&gt;truststore&lt;/tt&gt; file won&apos;t be loaded in any case. &lt;br/&gt;
And that means that the file will not be used to validate clients when &lt;tt&gt;require_client_auth==true&lt;/tt&gt;, making &lt;a href=&quot;http://www.datastax.com/documentation/cassandra/2.0/cassandra/security/secureNewTrustedUsers_t.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.datastax.com/documentation/cassandra/2.0/cassandra/security/secureNewTrustedUsers_t.html&lt;/a&gt; meaningless.&lt;/p&gt;

&lt;p&gt;The only way to workaround that currently is to start C* with &lt;tt&gt;-Djavax.net.ssl.trustStore=conf/.truststore&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I believe we should load  &lt;tt&gt;truststore&lt;/tt&gt; when &lt;tt&gt;require_client_auth==true&lt;/tt&gt;,&lt;/p&gt;</description>
                <environment></environment>
        <key id="12701086">CASSANDRA-6847</key>
            <summary>The binary transport doesn&apos;t load truststore file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mishail">Mikhail Stepura</assignee>
                                    <reporter username="mishail">Mikhail Stepura</reporter>
                        <labels>
                            <label>ssl</label>
                    </labels>
                <created>Wed, 12 Mar 2014 21:00:43 +0000</created>
                <updated>Tue, 14 Oct 2025 12:13:58 +0000</updated>
                            <resolved>Thu, 13 Mar 2014 20:09:32 +0000</resolved>
                                        <fixVersion>1.2.16</fixVersion>
                    <fixVersion>2.0.7</fixVersion>
                    <fixVersion>2.1 beta2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13932666" author="mishail" created="Wed, 12 Mar 2014 23:52:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slebresne&quot; class=&quot;user-hover&quot; rel=&quot;slebresne&quot;&gt;slebresne&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasobrown&quot; class=&quot;user-hover&quot; rel=&quot;jasobrown&quot;&gt;jasobrown&lt;/a&gt; what do you think guys?&lt;/p&gt;

&lt;p&gt;I suppose we should consider &lt;tt&gt;require_client_auth&lt;/tt&gt; as well when deciding to load/don&apos;t load a truststore.&lt;/p&gt;</comment>
                            <comment id="13932911" author="jasobrown" created="Thu, 13 Mar 2014 06:34:57 +0000"  >&lt;p&gt;Beyond the discussion in the original ticket, I have no recollection of why we bailed on the trust store for the native protocol. We quite clearly do it in thrift: CustomTThreadPoolServer.Factory.buildTServer() passes true as the second arg to SSLFactory.createSSLContext(), so I&apos;m not sure why we left it out of the native protocol.&lt;/p&gt;

&lt;p&gt;Barring any further insight from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slebresne&quot; class=&quot;user-hover&quot; rel=&quot;slebresne&quot;&gt;slebresne&lt;/a&gt;, I think we should go ahead and change this to respect require_client_auth.&lt;/p&gt;</comment>
                            <comment id="13932991" author="slebresne" created="Thu, 13 Mar 2014 08:22:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;I have no recollection of why we bailed on the trust store for the native protocol.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I suspect that this has to do with the fact that &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5120&quot; title=&quot;Add support for SSL sockets to use client certificate authentication.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5120&quot;&gt;&lt;del&gt;CASSANDRA-5120&lt;/del&gt;&lt;/a&gt;, which adds the require_client_auth for client connections, is newer than &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5031&quot; title=&quot;Add ssl support to binary protocol&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5031&quot;&gt;&lt;del&gt;CASSANDRA-5031&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13933828" author="mishail" created="Thu, 13 Mar 2014 18:29:01 +0000"  >&lt;p&gt;Attaching a trivial patch&lt;/p&gt;</comment>
                            <comment id="13933879" author="jasobrown" created="Thu, 13 Mar 2014 18:53:56 +0000"  >&lt;p&gt;Yup, that was gonna be my patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. +1&lt;/p&gt;</comment>
                            <comment id="13933977" author="mishail" created="Thu, 13 Mar 2014 20:09:32 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                            <comment id="13972980" author="JIRAUSER308715" created="Thu, 17 Apr 2014 14:26:46 +0000"  >&lt;p&gt;Can we put a line in changes.txt for this?  I spent 2 days pulling my hair out from this one, and yes I probably should have done a full JIRA search, but I would expect &quot;require_client_auth&quot; being completely broken to show up in changes.txt :/&lt;/p&gt;</comment>
                            <comment id="13975472" author="slebresne" created="Mon, 21 Apr 2014 07:48:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we put a line in changes.txt for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just did, but it won&apos;t be retroactive so probably mildly useful only.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12618929">CASSANDRA-5031</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12634504" name="cassandra-2.0-6847.patch" size="1125" author="mishail" created="Thu, 13 Mar 2014 18:29:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mishail]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>379432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tdn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>379723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12326472">2.0.7</customfieldvalue>
    <customfieldvalue id="12326275">2.1 beta1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>