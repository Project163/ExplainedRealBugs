<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:19:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2100] Restart required to change cache_save_period</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2100</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The cache_save_period is set in the schema for each column family.  However this value is only checked when a node starts up so changing this value isn&apos;t really dynamic.&lt;/p&gt;

&lt;p&gt;We should actually change this when the schema changes instead of having to restart.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497510">CASSANDRA-2100</key>
            <summary>Restart required to change cache_save_period</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jhermes">Jon Hermes</assignee>
                                    <reporter username="nickmbailey">Nick Bailey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Feb 2011 21:46:53 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:07 +0000</updated>
                            <resolved>Fri, 25 Feb 2011 20:31:26 +0000</resolved>
                                        <fixVersion>0.7.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="12993209" author="jhermes" created="Thu, 10 Feb 2011 20:28:41 +0000"  >&lt;p&gt;row/key cache save period in seconds now config-able at runtime via JMX (not just migrations).&lt;/p&gt;

&lt;p&gt;On either migration or JMX-change path, the scheduling has been broken out. It first cancels the previous scheduled task (but will not interrupt currently saving caches) then schedules a new task with the correct frequency.&lt;/p&gt;</comment>
                            <comment id="12997557" author="jbellis" created="Mon, 21 Feb 2011 20:22:35 +0000"  >&lt;p&gt;can you rebase?&lt;/p&gt;</comment>
                            <comment id="12997602" author="jhermes" created="Mon, 21 Feb 2011 23:22:11 +0000"  >&lt;p&gt;Rebased.&lt;/p&gt;</comment>
                            <comment id="12998158" author="jbellis" created="Wed, 23 Feb 2011 04:50:24 +0000"  >&lt;p&gt;how does this handle updating when schema changes?&lt;/p&gt;</comment>
                            <comment id="12998621" author="jhermes" created="Wed, 23 Feb 2011 23:57:33 +0000"  >&lt;p&gt;I thought that UpdateColumnFamily.applyModels() called CFS.reload() in all cases, but that only happens when the server is not in client mode.&lt;/p&gt;

&lt;p&gt;CFMetaData.apply(avro CfDef) will need to call the update logic. Patch forthcoming.&lt;/p&gt;</comment>
                            <comment id="12998628" author="jhermes" created="Thu, 24 Feb 2011 00:31:58 +0000"  >&lt;p&gt;Slight surprise in testing due to 2172 changes, but tests correctly (save period is updated at runtime for both JMX and schema migrations (both client and non-client mode)).&lt;/p&gt;</comment>
                            <comment id="12999473" author="jbellis" created="Fri, 25 Feb 2011 19:00:34 +0000"  >&lt;p&gt;I&apos;m not a fan of having side effects in CFMetaData like that.&lt;/p&gt;

&lt;p&gt;I checked w/ Gary and his take was, &quot;The saving probably belongs in UpdateColumnFamily.  CFMetaData.apply() should only affect a single object&#8212;-nothing persistent.&quot;&lt;/p&gt;</comment>
                            <comment id="12999489" author="jhermes" created="Fri, 25 Feb 2011 19:29:33 +0000"  >&lt;p&gt;2100-2.txt works fine when the schema changes.&lt;/p&gt;

&lt;p&gt;`if (!clientMode) &lt;/p&gt;
{ CFS.reload() }
&lt;p&gt;` will reset the config appropriately, and it&apos;s good we don&apos;t do anything when clientMode because we don&apos;t apply() from migration in that case as well (and there would be nothing to reset).&lt;/p&gt;

&lt;p&gt;From your comment I thought that something didn&apos;t work. Don&apos;t scare me like that. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12999535" author="jbellis" created="Fri, 25 Feb 2011 20:31:26 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12999566" author="hudson" created="Fri, 25 Feb 2011 21:02:43 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #324 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/324/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/324/&lt;/a&gt;)&lt;br/&gt;
    add &lt;span class=&quot;error&quot;&gt;&amp;#91;get|set&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;row|key&amp;#93;&lt;/span&gt;cacheSavePeriod to JMX&lt;br/&gt;
patch by Jon Hermes; reviewed by jbellis for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2100&quot; title=&quot;Restart required to change cache_save_period&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2100&quot;&gt;&lt;del&gt;CASSANDRA-2100&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471582" name="2100-2.txt" size="9208" author="jhermes" created="Mon, 21 Feb 2011 23:22:11 +0000"/>
                            <attachment id="12471792" name="2100-3.txt" size="10763" author="jhermes" created="Thu, 24 Feb 2011 00:31:58 +0000"/>
                            <attachment id="12470802" name="2100.txt" size="9742" author="jhermes" created="Thu, 10 Feb 2011 20:28:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jhermes]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g9bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>