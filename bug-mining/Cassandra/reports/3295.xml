<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:50:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8427] An error is written to System.out when UserTypesTest is run</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8427</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When running &lt;tt&gt;org.apache.cassandra.cql3.UserTypesTest&lt;/tt&gt; the following error is printed out to the console.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR 09:58:41 Fatal exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[OptionalTasks:1,5,main]
java.lang.RuntimeException: java.lang.RuntimeException: Error setting schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test (query was: DROP TYPE IF EXISTS cql_test_keyspace.type_2)
	at org.apache.cassandra.cql3.CQLTester$1.run(CQLTester.java:188) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) ~[na:1.7.0_60]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) ~[na:1.7.0_60]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) ~[na:1.7.0_60]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) ~[na:1.7.0_60]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) ~[na:1.7.0_60]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_60]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.7.0_60]
Caused by: java.lang.RuntimeException: Error setting schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test (query was: DROP TYPE IF EXISTS cql_test_keyspace.type_2)
	at org.apache.cassandra.cql3.CQLTester.schemaChange(CQLTester.java:413) ~[classes/:na]
	at org.apache.cassandra.cql3.CQLTester.access$3(CQLTester.java:404) ~[classes/:na]
	at org.apache.cassandra.cql3.CQLTester$1.run(CQLTester.java:167) ~[classes/:na]
	... 7 common frames omitted
Caused by: java.lang.RuntimeException: Error validating query DROP TYPE IF EXISTS cql_test_keyspace.type_2
	at org.apache.cassandra.cql3.QueryProcessor.executeOnceInternal(QueryProcessor.java:374) ~[main/:na]
	at org.apache.cassandra.cql3.CQLTester.schemaChange(CQLTester.java:409) ~[classes/:na]
	... 9 common frames omitted
Caused by: org.apache.cassandra.exceptions.InvalidRequestException: Cannot drop user type cql_test_keyspace.type_2 as it is still used by user type type_3
	at org.apache.cassandra.cql3.statements.DropTypeStatement.validate(DropTypeStatement.java:93) ~[main/:na]
	at org.apache.cassandra.cql3.QueryProcessor.executeOnceInternal(QueryProcessor.java:361) ~[main/:na]
	... 10 common frames omitted
ERROR 09:58:41 Fatal exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[OptionalTasks:1,5,main]
java.lang.RuntimeException: java.lang.RuntimeException: Error setting schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test (query was: DROP TYPE IF EXISTS cql_test_keyspace.type_2)
	at org.apache.cassandra.cql3.CQLTester$1.run(CQLTester.java:188) ~[classes/:na]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) ~[na:1.7.0_60]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) ~[na:1.7.0_60]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) ~[na:1.7.0_60]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) ~[na:1.7.0_60]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) ~[na:1.7.0_60]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_60]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.7.0_60]
Caused by: java.lang.RuntimeException: Error setting schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test (query was: DROP TYPE IF EXISTS cql_test_keyspace.type_2)
	at org.apache.cassandra.cql3.CQLTester.schemaChange(CQLTester.java:413) ~[classes/:na]
	at org.apache.cassandra.cql3.CQLTester.access$3(CQLTester.java:404) ~[classes/:na]
	at org.apache.cassandra.cql3.CQLTester$1.run(CQLTester.java:167) ~[classes/:na]
	... 7 common frames omitted
Caused by: java.lang.RuntimeException: Error validating query DROP TYPE IF EXISTS cql_test_keyspace.type_2
	at org.apache.cassandra.cql3.QueryProcessor.executeOnceInternal(QueryProcessor.java:374) ~[main/:na]
	at org.apache.cassandra.cql3.CQLTester.schemaChange(CQLTester.java:409) ~[classes/:na]
	... 9 common frames omitted
Caused by: org.apache.cassandra.exceptions.InvalidRequestException: Cannot drop user type cql_test_keyspace.type_2 as it is still used by user type type_3
	at org.apache.cassandra.cql3.statements.DropTypeStatement.validate(DropTypeStatement.java:93) ~[main/:na]
	at org.apache.cassandra.cql3.QueryProcessor.executeOnceInternal(QueryProcessor.java:361) ~[main/:na]
	... 10 common frames omitted&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12759644">CASSANDRA-8427</key>
            <summary>An error is written to System.out when UserTypesTest is run</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="blerer">Benjamin Lerer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2014 10:03:23 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:26 +0000</updated>
                            <resolved>Fri, 19 Dec 2014 19:05:48 +0000</resolved>
                                        <fixVersion>2.1.3</fixVersion>
                    <fixVersion>2.2.0 beta 1</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14239264" author="blerer" created="Tue, 9 Dec 2014 10:56:44 +0000"  >&lt;p&gt;The problem was coming from the fact that &lt;tt&gt;CQLTester&lt;/tt&gt; was trying to drop a UDT that was used by another UDT.&lt;br/&gt;
The patch make sure that &lt;tt&gt;CQLTester&lt;/tt&gt; drop the UDT, UDF and UDA in the reverse order than the one in which they were created. &lt;/p&gt;</comment>
                            <comment id="14239806" author="thobbs" created="Tue, 9 Dec 2014 18:35:24 +0000"  >&lt;p&gt;I&apos;m still getting stacktraces printed when running UserTypesTest because some of the UDTs are still used by tables.  We need to track tables to drop in the same way we track types and functions.&lt;/p&gt;</comment>
                            <comment id="14253594" author="blerer" created="Fri, 19 Dec 2014 16:16:16 +0000"  >&lt;p&gt;The new patch track the tables and delete them in the proper order before deleting functions and types.&lt;/p&gt;</comment>
                            <comment id="14253810" author="thobbs" created="Fri, 19 Dec 2014 19:05:48 +0000"  >&lt;p&gt;The new patches look good, thanks!&lt;/p&gt;

&lt;p&gt;+1 and committed as 9775a9c6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12688346" name="CASSANDRA-8427-2.1-V2.txt" size="8275" author="blerer" created="Fri, 19 Dec 2014 16:16:16 +0000"/>
                            <attachment id="12685989" name="CASSANDRA-8427-2.1.txt" size="2402" author="blerer" created="Tue, 9 Dec 2014 10:56:44 +0000"/>
                            <attachment id="12688347" name="CASSANDRA-8427-trunk-V2.txt" size="10253" author="blerer" created="Fri, 19 Dec 2014 16:16:16 +0000"/>
                            <attachment id="12685990" name="CASSANDRA-8427-trunk.txt" size="4028" author="blerer" created="Tue, 9 Dec 2014 10:56:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i233cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>