<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:12:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14955] Website can be built without nodetool documentation by accident</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14955</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mick%40thelastpickle.com&quot; class=&quot;user-hover&quot; rel=&quot;mick@thelastpickle.com&quot;&gt;mick@thelastpickle.com&lt;/a&gt; was generating docs today we accidentally pushed empty nodetool docs because the &lt;tt&gt;make website&lt;/tt&gt; target doesn&apos;t fail if nodetool fails to run. We believe that this is due to the line in &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/doc/gen-nodetool-docs.py#L39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;gen-nodetool-docs.py&lt;/a&gt;&#160;which uses subprocess.call instead of check_call.&lt;/p&gt;

&lt;p&gt;Let&apos;s make it so that if you try to build docs without nodetool being available the build should fail so that we cant make the same mistake again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13207936">CASSANDRA-14955</key>
            <summary>Website can be built without nodetool documentation by accident</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jolynch">Joey Lynch</assignee>
                                    <reporter username="jolynch">Joey Lynch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2019 03:09:49 +0000</created>
                <updated>Thu, 24 Sep 2020 05:04:17 +0000</updated>
                            <resolved>Mon, 7 Jan 2019 07:08:05 +0000</resolved>
                                        <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Documentation/Website</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16735461" author="jolynch" created="Mon, 7 Jan 2019 05:01:51 +0000"  >&lt;p&gt;I attached a patch to trunk (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12953932/12953932_14955-trunk.txt&quot; title=&quot;14955-trunk.txt attached to CASSANDRA-14955&quot;&gt;14955-trunk.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&#160;) which will fail the &lt;tt&gt;gen-nodetool-docs&lt;/tt&gt; script if the nodetool command fails, tested by running &lt;tt&gt;ant realclean&lt;/tt&gt; and then:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cassandra-site/src &#187; make add-doc                                                                                                                  2 &#8629;
make[1]: Entering directory &apos;/home/josephl/pg/cassandra_trunk/doc&apos;
rm -rf build/*
rm -f source/configuration/cassandra_config_file.rst
python convert_yaml_to_rst.py ../conf/cassandra.yaml source/configuration/cassandra_config_file.rst
python gen-nodetool-docs.py
Error: Could not find or load main class org.apache.cassandra.tools.NodeTool
ERROR: Nodetool failed to run, you likely need to build cassandra using ant jar from the top level directory
Traceback (most recent call last):
  File &quot;gen-nodetool-docs.py&quot;, line 64, in &amp;lt;module&amp;gt;
    create_help_file()
  File &quot;gen-nodetool-docs.py&quot;, line 48, in create_help_file
    raise cpe
subprocess.CalledProcessError: Command &apos;[&apos;../bin/nodetool&apos;, &apos;help&apos;]&apos; returned non-zero exit status 1
Makefile:72: recipe for target &apos;website&apos; failed
make[1]: *** [website] Error 1
make[1]: Leaving directory &apos;/home/josephl/pg/cassandra_trunk/doc&apos;
Makefile:22: recipe for target &apos;.build-doc&apos; failed
make: *** [.build-doc] Error 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The other changes are fixing the warning that &lt;tt&gt;make add-doc&lt;/tt&gt; was emitting about the nodetool docs title lengths being wrong, now there are only the TOC errors left.&lt;/p&gt;

&lt;p&gt;I&apos;ve also attached a patch to the svn cassandra-site repo ( &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12953933/12953933_14955-cassandra-site-svn.patch&quot; title=&quot;14955-cassandra-site-svn.patch attached to CASSANDRA-14955&quot;&gt;14955-cassandra-site-svn.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) which will run &lt;tt&gt;ant jar&lt;/tt&gt; for you automatically before building the docs so that the user doesn&apos;t have to know they need the main repo built first.&lt;/p&gt;</comment>
                            <comment id="16735521" author="michaelsembwever" created="Mon, 7 Jan 2019 07:08:05 +0000"  >&lt;p&gt;Committed as 1850613 and &lt;a href=&quot;https://github.com/apache/cassandra/commit/c68b0fec6f7034aa74e64abd9859ee1d481b4f62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c68b0fe&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jolynch&quot; class=&quot;user-hover&quot; rel=&quot;jolynch&quot;&gt;jolynch&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13325536">CASSANDRA-16093</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13323886">CASSANDRA-16066</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12953933" name="14955-cassandra-site-svn.patch" size="663" author="jolynch" created="Mon, 7 Jan 2019 05:00:36 +0000"/>
                            <attachment id="12953932" name="14955-trunk.txt" size="3453" author="jolynch" created="Mon, 7 Jan 2019 04:59:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jolynch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|u00ka8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mck</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mck]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>