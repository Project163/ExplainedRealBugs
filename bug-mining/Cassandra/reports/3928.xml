<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:59:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10614] AssertionError while flushing memtables</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10614</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While running mvbench against a single local node, I noticed this stacktrace showing up multiple times in the logs:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR 16:40:01 Exception in thread Thread[MemtableFlushWriter:1,5,main]
java.lang.AssertionError: null
	at org.apache.cassandra.db.rows.Rows.collectStats(Rows.java:70) ~[main/:na]
	at org.apache.cassandra.io.sstable.format.big.BigTableWriter$StatsCollector.applyToRow(BigTableWriter.java:197) ~[main/:na]
	at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:116) ~[main/:na]
	at org.apache.cassandra.db.transform.UnfilteredRows.isEmpty(UnfilteredRows.java:38) ~[main/:na]
	at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:49) ~[main/:na]
	at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149) ~[main/:na]
	at org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter.append(SimpleSSTableMultiWriter.java:45) ~[main/:na]
	at org.apache.cassandra.io.sstable.SSTableTxnWriter.append(SSTableTxnWriter.java:52) ~[main/:na]
	at org.apache.cassandra.db.Memtable$FlushRunnable.writeSortedContents(Memtable.java:389) ~[main/:na]
	at org.apache.cassandra.db.Memtable$FlushRunnable.runMayThrow(Memtable.java:352) ~[main/:na]
	at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[main/:na]
	at com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:299) ~[guava-18.0.jar:na]
	at org.apache.cassandra.db.ColumnFamilyStore$Flush.run(ColumnFamilyStore.java:1037) ~[main/:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]
	at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_45]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To reproduce, run mvbench with the regular schema and the following arguments:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn exec:java -Dexec.args=&quot;--num-users 100000 --num-songs 1000000 --num-artists 10000 -n 500000 --endpoint 127.0.0.1&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12908624">CASSANDRA-10614</key>
            <summary>AssertionError while flushing memtables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thobbs">Tom Hobbs</assignee>
                                    <reporter username="thobbs">Tom Hobbs</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Oct 2015 16:42:36 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:51 +0000</updated>
                            <resolved>Fri, 6 Nov 2015 19:34:02 +0000</resolved>
                                        <fixVersion>3.0.0</fixVersion>
                                    <component>Feature/Materialized Views</component>
                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14978735" author="slebresne" created="Wed, 28 Oct 2015 16:49:31 +0000"  >&lt;p&gt;From the assertion, it sounds like an empty row had made its way in the memtable. Maybe the MV code can generate an empty row in some conditions?&lt;/p&gt;</comment>
                            <comment id="14978789" author="thobbs" created="Wed, 28 Oct 2015 17:15:43 +0000"  >&lt;p&gt;It looks like this was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9664&quot; title=&quot;Allow MV&amp;#39;s select statements to be more complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9664&quot;&gt;&lt;del&gt;CASSANDRA-9664&lt;/del&gt;&lt;/a&gt;, and is likely the cause of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10609&quot; title=&quot;MV performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10609&quot;&gt;&lt;del&gt;CASSANDRA-10609&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14979120" author="thobbs" created="Wed, 28 Oct 2015 19:49:58 +0000"  >&lt;p&gt;The cause was a bad short-circuit of the check for whether an update affects a view.  If the view&apos;s PK only included columns from the base table&apos;s PK, empty rows could be inserted into the view when an update didn&apos;t affect any columns in the view.&lt;/p&gt;

&lt;p&gt;This appears to also fix the performance regression spotted in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10609&quot; title=&quot;MV performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10609&quot;&gt;&lt;del&gt;CASSANDRA-10609&lt;/del&gt;&lt;/a&gt;.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aboudreault&quot; class=&quot;user-hover&quot; rel=&quot;aboudreault&quot;&gt;aboudreault&lt;/a&gt; can you verify that for me?&lt;/p&gt;

&lt;p&gt;Patches and pending CI runs:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;testall&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;dtest&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/thobbs/cassandra/tree/CASSANDRA-10614&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-10614&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/thobbs/job/thobbs-CASSANDRA-10614-testall&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/thobbs/job/thobbs-CASSANDRA-10614-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/thobbs/cassandra/tree/CASSANDRA-10614-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-10614-trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/thobbs/job/thobbs-CASSANDRA-10614-trunk-testall&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/thobbs/job/thobbs-CASSANDRA-10614-trunk-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;As far as a test goes, I could add a simple regression unit test that triggers a flush, but it would be good to know that we regularly run MV tests long enough to spot other issues like this.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aboudreault&quot; class=&quot;user-hover&quot; rel=&quot;aboudreault&quot;&gt;aboudreault&lt;/a&gt; were you just doing a one-off perf test, or is this part of a regular job?&lt;/p&gt;</comment>
                            <comment id="14979252" author="aboudreault" created="Wed, 28 Oct 2015 21:18:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thobbs&quot; class=&quot;user-hover&quot; rel=&quot;thobbs&quot;&gt;thobbs&lt;/a&gt; I&apos;ll verify that.&lt;/p&gt;

&lt;p&gt;It&apos;s was a one-off. It would be good to setup some regular jobs in jenkins as you said. Adding this in the backlog.&lt;/p&gt;</comment>
                            <comment id="14980551" author="aboudreault" created="Thu, 29 Oct 2015 14:49:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thobbs&quot; class=&quot;user-hover&quot; rel=&quot;thobbs&quot;&gt;thobbs&lt;/a&gt; I confirm that your patch fixes my performance regression issue.&lt;/p&gt;</comment>
                            <comment id="14982514" author="tjake" created="Fri, 30 Oct 2015 12:53:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14982904" author="aboudreault" created="Fri, 30 Oct 2015 17:16:26 +0000"  >&lt;p&gt;I&apos;m experiencing this crash during my tests, seems related to this patch. My test is bootstraping a new node with MVs.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR [MemtableFlushWriter:4] 2015-10-30 17:06:52,604 CassandraDaemon.java:195 - Exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[MemtableFlushWriter:4,5,main]
java.lang.AssertionError: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.cassandra.db.rows.Rows.collectStats(Rows.java:70) ~[main/:na]
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter$StatsCollector.applyToRow(BigTableWriter.java:197) ~[main/:na]
        at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:116) ~[main/:na]
        at org.apache.cassandra.db.ColumnIndex$Builder.build(ColumnIndex.java:111) ~[main/:na]
        at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:52) ~[main/:na]
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149) ~[main/:na]
        at org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter.append(SimpleSSTableMultiWriter.java:45) ~[main/:na]
        at org.apache.cassandra.io.sstable.SSTableTxnWriter.append(SSTableTxnWriter.java:52) ~[main/:na]
        at org.apache.cassandra.db.Memtable$FlushRunnable.writeSortedContents(Memtable.java:389) ~[main/:na]
        at org.apache.cassandra.db.Memtable$FlushRunnable.runMayThrow(Memtable.java:352) ~[main/:na]
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[main/:na]
        at com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:299) ~[guava-18.0.jar:na]
        at org.apache.cassandra.db.ColumnFamilyStore$Flush.run(ColumnFamilyStore.java:1037) ~[main/:na]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) ~[na:1.8.0_45]
ERROR 17:06:52 Exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[MemtableFlushWriter:4,5,main]
java.lang.AssertionError: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.cassandra.db.rows.Rows.collectStats(Rows.java:70) ~[main/:na]
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter$StatsCollector.applyToRow(BigTableWriter.java:197) ~[main/:na]
        at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:116) ~[main/:na]
        at org.apache.cassandra.db.ColumnIndex$Builder.build(ColumnIndex.java:111) ~[main/:na]
        at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:52) ~[main/:na]
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149) ~[main/:na]
        at org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter.append(SimpleSSTableMultiWriter.java:45) ~[main/:na]
        at org.apache.cassandra.io.sstable.SSTableTxnWriter.append(SSTableTxnWriter.java:52) ~[main/:na]
        at org.apache.cassandra.db.Memtable$FlushRunnable.writeSortedContents(Memtable.java:389) ~[main/:na]
        at org.apache.cassandra.db.Memtable$FlushRunnable.runMayThrow(Memtable.java:352) ~[main/:na]
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[main/:na]
        at com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:299) ~[guava-18.0.jar:na]
        at org.apache.cassandra.db.ColumnFamilyStore$Flush.run(ColumnFamilyStore.java:1037) ~[main/:na]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) ~[na:1.8.0_45]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14983756" author="aboudreault" created="Sat, 31 Oct 2015 02:27:29 +0000"  >&lt;p&gt;I&apos;ve been able to reproduce the issue with the same test case than this morning. Here are the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12769914/12769914_system.log&quot; title=&quot;system.log attached to CASSANDRA-10614&quot;&gt;system.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; and &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12769915/12769915_debug.log&quot; title=&quot;debug.log attached to CASSANDRA-10614&quot;&gt;debug.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="14987882" author="thobbs" created="Tue, 3 Nov 2015 19:09:14 +0000"  >&lt;p&gt;I was also able to reproduce this with ccm, but strangely, it only reproduced when I ran &lt;tt&gt;mvbench&lt;/tt&gt; a second time &lt;em&gt;after&lt;/em&gt; bootstrapping a second node.&lt;/p&gt;</comment>
                            <comment id="14988380" author="thobbs" created="Tue, 3 Nov 2015 23:04:09 +0000"  >&lt;p&gt;After reproducing this, I discovered a couple of problems, one of which was not related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9664&quot; title=&quot;Allow MV&amp;#39;s select statements to be more complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9664&quot;&gt;&lt;del&gt;CASSANDRA-9664&lt;/del&gt;&lt;/a&gt;.  The error was occurring when the streamed sstables were processed through the view.  Some partitions had a mixture of complete rows and partial rows (due to only having an &lt;tt&gt;UPDATE&lt;/tt&gt; on non-selected columns and no &lt;tt&gt;INSERT&lt;/tt&gt;).  The complete rows allowed the partitions to pass the filtering checks and the checks for live/non-empty rows in &lt;tt&gt;updateAppliesToView()&lt;/tt&gt;.  However, later down the line, we weren&apos;t correctly handling individual non-live rows or rows that didn&apos;t match the filter when generating view mutations.  This could result in empty rows being inserted into the view (the error discovered here) or rows that didn&apos;t match the filters being inserted into the view.&lt;/p&gt;

&lt;p&gt;These two issues were easy to reproduce with &lt;tt&gt;BATCH&lt;/tt&gt; statements, so I&apos;ve extended two unit tests to reproduce the issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tjake&quot; class=&quot;user-hover&quot; rel=&quot;tjake&quot;&gt;tjake&lt;/a&gt; can you review the &lt;a href=&quot;https://github.com/thobbs/cassandra/commit/9938b0a0e88938202c45de6b22c32f82b871f042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;latest commit&lt;/a&gt; that I&apos;ve pushed?&lt;/p&gt;</comment>
                            <comment id="14989559" author="tjake" created="Wed, 4 Nov 2015 13:55:13 +0000"  >&lt;p&gt;Ah I get it.  Can we optimize for the single row case? since we know it will not have this issue and the initial check will suffice?&lt;/p&gt;

&lt;p&gt;Otherwise looks good. I kicked off a run of the tests and dests since they didn&apos;t auto-start.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aboudreault&quot; class=&quot;user-hover&quot; rel=&quot;aboudreault&quot;&gt;aboudreault&lt;/a&gt; can you try this latest branch?&lt;/p&gt;</comment>
                            <comment id="14989560" author="aboudreault" created="Wed, 4 Nov 2015 13:56:20 +0000"  >&lt;p&gt;on it!&lt;/p&gt;</comment>
                            <comment id="14989981" author="thobbs" created="Wed, 4 Nov 2015 17:29:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ah I get it. Can we optimize for the single row case? since we know it will not have this issue and the initial check will suffice?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure.  I&apos;ve pushed &lt;a href=&quot;https://github.com/thobbs/cassandra/commit/4e89a92f25e5f4c1dae640f06a301270c3e34d4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;another commit&lt;/a&gt; to do that.&lt;/p&gt;</comment>
                            <comment id="14990145" author="aboudreault" created="Wed, 4 Nov 2015 18:43:05 +0000"  >&lt;p&gt;&quot;Bootstrap Completed&quot; \o/. Thanks!&lt;/p&gt;</comment>
                            <comment id="14991663" author="tjake" created="Thu, 5 Nov 2015 13:40:00 +0000"  >&lt;p&gt;I&apos;m still trying to get a successful dtest run but I&apos;m +1 on the changes.  Waiting for the dtests&lt;/p&gt;</comment>
                            <comment id="14992013" author="thobbs" created="Thu, 5 Nov 2015 17:10:05 +0000"  >&lt;p&gt;Looks like the dtest is still problematic.  I&apos;ve merged in the latest &lt;tt&gt;cassandra-3.0&lt;/tt&gt; to trigger another run, hopefully that goes better.&lt;/p&gt;</comment>
                            <comment id="14994274" author="tjake" created="Fri, 6 Nov 2015 19:26:41 +0000"  >&lt;p&gt;Ok since we can&apos;t get dtests to run on cassci I ran the mv dtests on my box and all is OK I&apos;ll squash and commit shortly&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&#10140;  cassandra-dtest git:(master) &#10007; nosetests -v -s -x materialized_views_test.py                                 
/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py:1224: UserWarning: /home/jake/.python-eggs is writable by group/others and vulnerable to attack when used with get_resource_filename. Consider a more secure location (set with .set_extraction_path or the PYTHON_EGG_CACHE environment variable).
  warnings.warn(msg, UserWarning)
add_dc_after_mv_network_replication_test (materialized_views_test.TestMaterializedViews) ... ok
add_dc_after_mv_simple_replication_test (materialized_views_test.TestMaterializedViews) ... ok
add_node_after_mv_test (materialized_views_test.TestMaterializedViews) ... ok
add_write_survey_node_after_mv_test (materialized_views_test.TestMaterializedViews) ... ok
allow_filtering_test (materialized_views_test.TestMaterializedViews) ... ok
base_replica_repair_test (materialized_views_test.TestMaterializedViews) ... ok
clustering_column_test (materialized_views_test.TestMaterializedViews) ... ok
complex_mv_select_statements_test (materialized_views_test.TestMaterializedViews) ... ok
complex_repair_test (materialized_views_test.TestMaterializedViews) ... ok
crc_check_chance_test (materialized_views_test.TestMaterializedViews) ... ok
create_test (materialized_views_test.TestMaterializedViews) ... ok
drop_column_test (materialized_views_test.TestMaterializedViews) ... ok
drop_mv_test (materialized_views_test.TestMaterializedViews) ... ok
drop_table_test (materialized_views_test.TestMaterializedViews) ... ok
immutable_test (materialized_views_test.TestMaterializedViews) ... ok
insert_test (materialized_views_test.TestMaterializedViews) ... ok
interrupt_build_process_test (materialized_views_test.TestMaterializedViews) ... ok
lwt_test (materialized_views_test.TestMaterializedViews) ... ok
populate_mv_after_insert_test (materialized_views_test.TestMaterializedViews) ... ok
prepared_statement_test (materialized_views_test.TestMaterializedViews) ... ok
query_all_new_column_test (materialized_views_test.TestMaterializedViews) ... ok
query_new_column_test (materialized_views_test.TestMaterializedViews) ... ok
really_complex_repair_test (materialized_views_test.TestMaterializedViews) ... ok
secondary_index_test (materialized_views_test.TestMaterializedViews) ... ok
simple_repair_test (materialized_views_test.TestMaterializedViews) ... ok
test_gcgs_validation (materialized_views_test.TestMaterializedViews) ... ok
ttl_test (materialized_views_test.TestMaterializedViews) ... ok
On 100000; match: 400; extra: 0; missing: 0ized_views_test.TestMaterializedViewsConsistency) ... 
ok

----------------------------------------------------------------------
Ran 28 tests in 1573.211s

OK

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14994292" author="tjake" created="Fri, 6 Nov 2015 19:34:02 +0000"  >&lt;p&gt;committed as &lt;tt&gt;21e2c6eb316a82523a2625a5fe98a8a9d8d04b63&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12908567">CASSANDRA-10609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12769915" name="debug.log" size="1024519" author="aboudreault" created="Sat, 31 Oct 2015 02:27:29 +0000"/>
                            <attachment id="12769914" name="system.log" size="127527" author="aboudreault" created="Sat, 31 Oct 2015 02:27:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nn5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>