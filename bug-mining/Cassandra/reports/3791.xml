<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:57:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10127] Make naming for secondary indexes consistent</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10127</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;We have a longstanding mismatch between the name of an index as defined in schema and what gets returned from &lt;tt&gt;SecondaryIndex#getIndexName()&lt;/tt&gt;, which for the builtin index impls is the name of the underlying index CFS, of the form &lt;tt&gt;&amp;lt;base_table_name&amp;gt;.&amp;lt;index_name&amp;gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This mismatch causes a number of UI inconsistencies:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;nodetool rebuild_index &amp;lt;ks&amp;gt; &amp;lt;tbl&amp;gt; &amp;lt;idx&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt&gt;&amp;lt;idx&amp;gt;&lt;/tt&gt; must be qualified, i.e. include the redundant table name as without it, the rebuild silently fails&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;system.IndexInfo&lt;/tt&gt; (which is also exposed over JMX) uses the form &lt;tt&gt;&amp;lt;tbl&amp;gt;.&amp;lt;idx&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cqlsh&amp;gt; describe index [&amp;lt;ks&amp;gt;.]&amp;lt;idx&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;here, qualifying &lt;tt&gt;&amp;lt;idx&amp;gt;&lt;/tt&gt; with the base table name is an error.&lt;/p&gt;

&lt;p&gt;Generally, anything CQL related uses the index name directly, whereas anthing concerned with building or rebuiling requires the version based on an underlying backing table name. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12857226">CASSANDRA-10127</key>
            <summary>Make naming for secondary indexes consistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="samt">Sam Tunnicliffe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2015 14:37:16 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:59 +0000</updated>
                            <resolved>Thu, 3 Sep 2015 19:42:29 +0000</resolved>
                                        <fixVersion>3.0.0 rc1</fixVersion>
                                    <component>Feature/2i Index</component>
                    <component>Legacy/CQL</component>
                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14709140" author="blerer" created="Mon, 24 Aug 2015 11:59:12 +0000"  >&lt;p&gt;I tracked down the place where &lt;tt&gt;getIndexName&lt;/tt&gt; was called as well as the calls to the &lt;tt&gt;SecondaryIndexManager&lt;/tt&gt; methods that were taking an index name as argument.&lt;/p&gt;

&lt;p&gt;I found an issue  in &lt;tt&gt;ColumnFamilyStore#rebuildOnFailedScrub&lt;/tt&gt; that need to be fixed. Otherwise the only impact seems to be on &lt;tt&gt;ColumnFamilyStoreMBean#rebuildSecondaryIndex&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The question would be: should we accept, in JMX and nodetool, the old input and stay backward compatible or document the change and only accept the new input?&lt;/p&gt;</comment>
                            <comment id="14712147" author="jbellis" created="Tue, 25 Aug 2015 23:05:01 +0000"  >&lt;p&gt;If it&apos;s not a big deal, I don&apos;t see a compelling reason not to stay backwards compatible here at least until 4.0.  The two formats are distinct so there is no danger of ambiguity.&lt;/p&gt;</comment>
                            <comment id="14714233" author="blerer" created="Wed, 26 Aug 2015 15:55:29 +0000"  >&lt;ul&gt;
	&lt;li&gt;the unit test results are &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-10127-testall/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;the dtest results are &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/blerer/job/blerer-10127-dtest/lastBuild/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;tt&gt;IndexSummaryManagerTest.testRedistributeSummaries-compression&lt;/tt&gt; fail on cassci but pass on my machine.&lt;/p&gt;</comment>
                            <comment id="14725471" author="jbellis" created="Tue, 1 Sep 2015 14:26:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tjake&quot; class=&quot;user-hover&quot; rel=&quot;tjake&quot;&gt;tjake&lt;/a&gt; to review&lt;/p&gt;</comment>
                            <comment id="14727701" author="tjake" created="Wed, 2 Sep 2015 17:38:49 +0000"  >&lt;p&gt;+1  Let&apos;s just add a note on the nodetool change in NEWS.txt&lt;/p&gt;</comment>
                            <comment id="14729653" author="blerer" created="Thu, 3 Sep 2015 19:42:12 +0000"  >&lt;p&gt;Thanks for the review.&lt;br/&gt;
Commit: cd5d03d2b78c634109e7e39b1986965f12630699&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12752509" name="10127.txt" size="17427" author="blerer" created="Wed, 26 Aug 2015 15:55:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j3u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>