<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:49:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8281] CQLSSTableWriter close does not work</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8281</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I called CQLSSTableWriter.close(). But the program still cannot exit. But the same code works fine on Cassandra 2.0.10.&lt;/p&gt;

&lt;p&gt;It seems that CQLSSTableWriter cannot be closed, and blocks the program from exit.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cassandra 2.1.1&lt;/p&gt;</environment>
        <key id="12754087">CASSANDRA-8281</key>
            <summary>CQLSSTableWriter close does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="xuzhongxing">Xu Zhongxing</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Nov 2014 08:49:15 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:28 +0000</updated>
                            <resolved>Thu, 15 Jan 2015 17:03:56 +0000</resolved>
                                        <fixVersion>2.1.3</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14204765" author="mshuler" created="Mon, 10 Nov 2014 13:28:12 +0000"  >&lt;p&gt;I see close() statements in test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java and that test passes OK in 2.1. Could you attach some reproduction code?  Thanks!&lt;/p&gt;</comment>
                            <comment id="14204906" author="yukim" created="Mon, 10 Nov 2014 15:44:33 +0000"  >&lt;p&gt;One thing that comes to my mind is that at some case like you screwed up setting up or writing to writer, you leave daemon thread for async write behind.&lt;br/&gt;
I had experienced before, though I forgot the cause.&lt;/p&gt;</comment>
                            <comment id="14205779" author="xuzhongxing" created="Tue, 11 Nov 2014 01:43:47 +0000"  >&lt;p&gt;It could be reproduced on cassandra 2.1.2, 2.1.1, but not on 2.1.0.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cassandra.io.sstable.CQLSSTableWriter;

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; schema = &lt;span class=&quot;code-quote&quot;&gt;&quot;create table mgindex.test (x &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; primary key, y &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; insert = &lt;span class=&quot;code-quote&quot;&gt;&quot;insert into mgindex.test (x,y) values(?,?)&quot;&lt;/span&gt;;

        CQLSSTableWriter w = CQLSSTableWriter.builder()
                                             .inDirectory(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/mgindex/test&quot;&lt;/span&gt;)
                                             .forTable(schema)
                                             .using(insert)
                                             .build();
	&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            w.addRow(1,1);
            w.close();
	} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(e);
	}

    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14220858" author="blerer" created="Fri, 21 Nov 2014 12:49:44 +0000"  >&lt;p&gt;The problem is a configuration issue. The client mode need to be set to true &lt;tt&gt;org.apache.cassandra.config.Config.setClientMode(true);&lt;/tt&gt;. &lt;br/&gt;
My understanding is that &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; is always used in a client mode so I will make sure that internally it clientMode is set to true. &lt;/p&gt;</comment>
                            <comment id="14220867" author="blerer" created="Fri, 21 Nov 2014 12:57:40 +0000"  >&lt;p&gt;The patch make sure that the &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; is always using the client mode.&lt;/p&gt;</comment>
                            <comment id="14221465" author="blerer" created="Fri, 21 Nov 2014 21:37:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt; can you review?&lt;/p&gt;</comment>
                            <comment id="14223822" author="yukim" created="Tue, 25 Nov 2014 00:20:29 +0000"  >&lt;p&gt;We can set &lt;tt&gt;Config.setClientMode(true)&lt;/tt&gt; by default, in fact, the client like o.a.c.hadoop.cql3.CqlBulkRecordWriter sets so.&lt;/p&gt;

&lt;p&gt;Though I worry that their can be other issues, and if that happens, CQLSSTableWriter just leaves writer thread and the program won&apos;t stop.&lt;br/&gt;
Is there a way to stop thread at exception?&lt;/p&gt;</comment>
                            <comment id="14224510" author="blerer" created="Tue, 25 Nov 2014 13:11:44 +0000"  >&lt;p&gt;I am not sure that I understand your comment.&lt;br/&gt;
What I found while digging in the code was that in &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; use &lt;tt&gt;DatabaseDescriptor&lt;/tt&gt; which is also use by the cassandra server. If the client mode is not set to true the &lt;tt&gt;DatabaseDescriptor&lt;/tt&gt; will launch several threads that are only needed the cassandra server. As those threads are useless as far as the &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; is concerned they should not be started when the writer is used and by consequence the writer should not need to clause them.&lt;br/&gt;
Regarding the problem of Exceptions &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; implements &lt;tt&gt;Closeable&lt;/tt&gt; so users should use try-with-resources to guaranty that if an Exception is thrown the writer thread will be closed by the close method of  &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14239214" author="blerer" created="Tue, 9 Dec 2014 09:57:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt; is there something you want me to change?&lt;/p&gt;</comment>
                            <comment id="14252954" author="yukim" created="Fri, 19 Dec 2014 05:11:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;If the client mode is not set to true the DatabaseDescriptor will launch several threads that are only needed the cassandra server.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this is it, and for now the only way to avoid this is to force Config.setClientMode.&lt;br/&gt;
Committed attached patch.&lt;/p&gt;

&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14253639" author="blerer" created="Fri, 19 Dec 2014 16:52:16 +0000"  >&lt;p&gt;In trunk  &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7820&quot; title=&quot;Remove fat client mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7820&quot;&gt;&lt;del&gt;CASSANDRA-7820&lt;/del&gt;&lt;/a&gt; has removed &lt;tt&gt;Config.setClientMode()&lt;/tt&gt;. So, the patch could not be applied to trunk. &lt;br/&gt;
I ran some test and the problem is still there in trunk. I need to make a new patch specially for trunk. &lt;/p&gt;</comment>
                            <comment id="14259482" author="bewang.tech" created="Sat, 27 Dec 2014 20:49:46 +0000"  >&lt;p&gt;I believe the root cause of this problem is QueryProcessor, who creates a thread, but never shutdowns it.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ScheduledExecutorService evictionCheckTimer=Executors.newScheduledThreadPool(1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code was introduced in &quot;Fix tests by making QP use its own executor&quot; 488e775cc1 after 2.1.0 and included in 2.1.1. &lt;/p&gt;

&lt;p&gt;I used cassandra-all-2.1.2.jar from maven central. If you run the above example code with &lt;tt&gt;Config.setClientMode(true)&lt;/tt&gt; In debug mode in eclipse, you will see the thread created by QueryProcessor keeps running after the program exits main().&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.cassandra.hadoop.cql3;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cassandra.config.Config;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cassandra.io.sstable.CQLSSTableWriter;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TWriter2 {

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; schema = &lt;span class=&quot;code-quote&quot;&gt;&quot;create table mgindex.test (x &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; primary key, y &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)&quot;&lt;/span&gt;;
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; insert = &lt;span class=&quot;code-quote&quot;&gt;&quot;insert into mgindex.test (x,y) values(?,?)&quot;&lt;/span&gt;;

		Config.setClientMode(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
		
		CQLSSTableWriter w = CQLSSTableWriter.builder()
				.inDirectory(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/mgindex/test&quot;&lt;/span&gt;).forTable(schema)
				.using(insert).build();
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			w.addRow(1, 1);
			w.close();
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(e);
		}

	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you run the similar code in a JUnit test, you won&apos;t see this problem. I believe the thread is terminated by the test runner.&lt;/p&gt;</comment>
                            <comment id="14259510" author="bewang.tech" created="Sat, 27 Dec 2014 22:52:41 +0000"  >&lt;p&gt;if I invoke &lt;tt&gt;evictionCheckTimer.shutdown&lt;/tt&gt; using java reflection, the program will exit successfully. Call this method after &lt;tt&gt;w.close()&lt;/tt&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void shutdownQueryProcessorThread()
			&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NoSuchFieldException, SecurityException,
			IllegalArgumentException, IllegalAccessException {
		Field f = QueryProcessor.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getDeclaredField(&lt;span class=&quot;code-quote&quot;&gt;&quot;evictionCheckTimer&quot;&lt;/span&gt;);
		f.setAccessible(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
		ScheduledExecutorService evictionCheckTimer = (ScheduledExecutorService) f
				.get(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
		evictionCheckTimer.shutdown();
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14267607" author="blerer" created="Wed, 7 Jan 2015 13:12:31 +0000"  >&lt;p&gt;In the latest 2.1 the prepared statement eviction thread is not a problem anymore as it is now a daemon thread. &lt;br/&gt;
Due to some change in the code, what is now preventing the application to stop is the commit log threads as specified into &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8572&quot; title=&quot;CQLSSTableWriter shouldn&amp;#39;t trigger cassandra specific initializations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8572&quot;&gt;CASSANDRA-8572&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The quick fix for this problem is to shutdown the &lt;tt&gt;CommitLog&lt;/tt&gt; in the close method of &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;An other problem is that if &lt;tt&gt;Config.setClientMode(true)&lt;/tt&gt; is used, the code will not work anymore for the latest 2.0 and 2.1 (&lt;tt&gt;setClientMode&lt;/tt&gt; has been removed on trunk). By consequence, I will also have to remove the previous fix for this ticket. &lt;/p&gt;</comment>
                            <comment id="14269528" author="blerer" created="Thu, 8 Jan 2015 16:44:10 +0000"  >&lt;p&gt;Both patches make sure that &lt;tt&gt;Keyspace.setInitialized()&lt;/tt&gt; is called and that the commit log is shutdown in &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;For trunk the patch make sure that &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; is not impacted by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8582&quot; title=&quot;Descriptor.fromFilename seems broken for BIG format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8582&quot;&gt;&lt;del&gt;CASSANDRA-8582&lt;/del&gt;&lt;/a&gt; and that an Exception in the writer does not prevent the &lt;tt&gt;CQLSSTableWriter&lt;/tt&gt; to close.&lt;/p&gt;





</comment>
                            <comment id="14271890" author="yukim" created="Fri, 9 Jan 2015 21:23:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Both patches make sure that Keyspace.setInitialized() is called&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is it possible to use `Keyspace.openWithoutSSTables`? It seems it bypasses initialized check.&lt;br/&gt;
Other than that it looks good to me.&lt;/p&gt;</comment>
                            <comment id="14278535" author="blerer" created="Thu, 15 Jan 2015 10:40:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Is it possible to use `Keyspace.openWithoutSSTables`? It seems it bypasses initialized check.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;tt&gt;Keyspace.open&lt;/tt&gt; is called within &lt;tt&gt;CQLSSTableWriter.Builder.forTable&lt;/tt&gt; but also within &lt;tt&gt;UpdateStatement.addUpdateForKey&lt;/tt&gt; which is called from &lt;tt&gt;CQLSSTableWriter.addRow&lt;/tt&gt;. &lt;br/&gt;
I think that we could use &lt;tt&gt;Keyspace.openWithoutSSTables&lt;/tt&gt; within the &lt;tt&gt;forTable&lt;/tt&gt; method but not within &lt;tt&gt;UpdateStatement&lt;/tt&gt;. &lt;br/&gt;
As &lt;tt&gt;Keyspace.setInitialized()&lt;/tt&gt; will still be needed anyway, I fill more comfortable keeping the patches as they are.&lt;/p&gt;</comment>
                            <comment id="14278941" author="yukim" created="Thu, 15 Jan 2015 17:03:56 +0000"  >&lt;p&gt;Alright then.&lt;br/&gt;
Committed to 2.1 and trunk.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="14320882" author="syepes" created="Fri, 13 Feb 2015 22:31:52 +0000"  >&lt;p&gt;I have just tested the in the cassandra-2.1 branch and the issue still persists.&lt;br/&gt;
I have also tried this with this patch: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8251&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-8251&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14320890" author="yukim" created="Fri, 13 Feb 2015 22:36:26 +0000"  >&lt;p&gt;Can you post thread dump of your program?&lt;/p&gt;</comment>
                            <comment id="14320920" author="syepes" created="Fri, 13 Feb 2015 22:57:16 +0000"  >&lt;p&gt;I am running on Groovy but it can be reproduced with the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;test.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cassandra.config.Config;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.cassandra.io.sstable.CQLSSTableWriter;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
  Config.setClientMode(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);

  CQLSSTableWriter w1 = CQLSSTableWriter.builder()
    .inDirectory(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/kspc/t1&quot;&lt;/span&gt;)
    .forTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE kspc.t1 ( id  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, PRIMARY KEY (id));&quot;&lt;/span&gt;)
    .using(&lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO kspc.t1 (id) VALUES ( ? );&quot;&lt;/span&gt;)
    .build();

  CQLSSTableWriter w2 = CQLSSTableWriter.builder()
    .inDirectory(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/kspc/t2&quot;&lt;/span&gt;)
    .forTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE kspc.t2 ( id  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, PRIMARY KEY (id));&quot;&lt;/span&gt;)
    .using(&lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO kspc.t2 (id) VALUES ( ? );&quot;&lt;/span&gt;)
    .build();

  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    w1.addRow(1);
    w2.addRow(1);
    w1.close();
    w2.close();
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(e);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;The error&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.ExceptionInInitializerError
        at org.apache.cassandra.db.Keyspace.initCf(Keyspace.java:324)
        at org.apache.cassandra.db.Keyspace.&amp;lt;init&amp;gt;(Keyspace.java:277)
        at org.apache.cassandra.db.Keyspace.open(Keyspace.java:119)
        at org.apache.cassandra.db.Keyspace.open(Keyspace.java:96)
        at org.apache.cassandra.cql3.statements.UpdateStatement.addUpdateForKey(UpdateStatement.java:101)
        at org.apache.cassandra.io.sstable.CQLSSTableWriter.rawAddRow(CQLSSTableWriter.java:226)
        at org.apache.cassandra.io.sstable.CQLSSTableWriter.addRow(CQLSSTableWriter.java:145)
        at org.apache.cassandra.io.sstable.CQLSSTableWriter.addRow(CQLSSTableWriter.java:120)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSite.invoke(PojoMetaMethodSite.java:189)
        at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:53)
        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120)
        at com.allthingsmonitoring.utils.BulkDataLoader.main(BulkDataLoader.groovy:415)
Caused by: java.lang.NullPointerException
        at org.apache.cassandra.config.DatabaseDescriptor.getFlushWriters(DatabaseDescriptor.java:1053)
        at org.apache.cassandra.db.ColumnFamilyStore.&amp;lt;clinit&amp;gt;(ColumnFamilyStore.java:85)
        ... 18 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14320990" author="yukim" created="Fri, 13 Feb 2015 23:45:44 +0000"  >&lt;p&gt;Confirmed. Can you create new JIRA for this?&lt;/p&gt;</comment>
                            <comment id="14321475" author="syepes" created="Sat, 14 Feb 2015 15:03:58 +0000"  >&lt;p&gt;No problem: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8808&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-8808&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12734089">CASSANDRA-7768</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12690880" name="CASSANDRA-8281-V2-2.1.txt" size="1774" author="blerer" created="Thu, 8 Jan 2015 16:44:10 +0000"/>
                            <attachment id="12690881" name="CASSANDRA-8281-V2-trunk.txt" size="7500" author="blerer" created="Thu, 8 Jan 2015 16:44:10 +0000"/>
                            <attachment id="12682874" name="CASSANDRA-8281.txt" size="1028" author="blerer" created="Fri, 21 Nov 2014 12:57:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2267j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>