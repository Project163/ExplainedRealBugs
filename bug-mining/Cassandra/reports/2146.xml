<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:38:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5512] forceTablePrimaryRange fails with nullpointer exception</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5512</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Running JMX operation forceTableRepairRange fails with nullpointer exception.&lt;br/&gt;
Three node cluster with one keyspace and one large columnfamily.&lt;/p&gt;

&lt;p&gt;Works when running nodetool -pr but not over JMX.&lt;br/&gt;
Stacktrace:&lt;/p&gt;

&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;MiscStage:1&amp;#93;&lt;/span&gt; 2013-04-24 09:53:02,884 CassandraDaemon.java (line 164) Exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;MiscStage:1,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.service.SnapshotVerbHandler.doVerb(SnapshotVerbHandler.java:38)&lt;br/&gt;
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:56)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux red hat, java 1.6.43&lt;br/&gt;
three nodes&lt;/p&gt;</environment>
        <key id="12644433">CASSANDRA-5512</key>
            <summary>forceTablePrimaryRange fails with nullpointer exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yukim">Yuki Morishita</assignee>
                                    <reporter username="etobgra">Tobias Grahn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2013 20:21:47 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:13 +0000</updated>
                            <resolved>Thu, 25 Apr 2013 17:38:58 +0000</resolved>
                                        <fixVersion>1.2.5</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13640923" author="etobgra" created="Wed, 24 Apr 2013 20:40:40 +0000"  >&lt;p&gt;UPDATE&lt;br/&gt;
======&lt;br/&gt;
The jmx operation is successfully invoked on node 1 according to system.log (AntiEntropySession started) but the other two nodes generates nullpointer exception.&lt;/p&gt;
</comment>
                            <comment id="13640966" author="jbellis" created="Wed, 24 Apr 2013 21:18:49 +0000"  >&lt;p&gt;Unclear to me how you can generate a null snapshot message.  Can you test with 1.2 git branch?  May be fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5424&quot; title=&quot;nodetool repair -pr on all nodes won&amp;#39;t repair the full range when a Keyspace isn&amp;#39;t in all DC&amp;#39;s&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5424&quot;&gt;&lt;del&gt;CASSANDRA-5424&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the meantime you can also pass isSequential=false to avoid creating snapshots.&lt;/p&gt;</comment>
                            <comment id="13640991" author="yukim" created="Wed, 24 Apr 2013 21:39:33 +0000"  >&lt;p&gt;forceTablePrimaryRange&apos;s second boolean parameter is for sequential repair using snapshot(you can do this with nodetool repair -snapshot too), and when it&apos;s on, looks like it fails as described.&lt;/p&gt;

&lt;p&gt;We somehow omitted registering Snapshot message&apos;s serializer in 1.2 branch. Trivial patch attached.&lt;/p&gt;</comment>
                            <comment id="13641044" author="jbellis" created="Wed, 24 Apr 2013 22:12:32 +0000"  >&lt;p&gt;Good eyes! +1&lt;/p&gt;</comment>
                            <comment id="13641442" author="etobgra" created="Thu, 25 Apr 2013 05:26:00 +0000"  >&lt;p&gt;Great!&lt;br/&gt;
Thank you very much for the quick response.&lt;/p&gt;</comment>
                            <comment id="13641994" author="yukim" created="Thu, 25 Apr 2013 17:38:58 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580389" name="5512-1.2.txt" size="619" author="yukim" created="Wed, 24 Apr 2013 21:39:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k1bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>