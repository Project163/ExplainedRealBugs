<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:21:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16621] Replace spinAsserts code with Awaitility code</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16621</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Currently spinAsserts does a similar thing to Awaitility which is being used more and more. We have now 2 ways of doing the same thing so it would be good to consolidate&lt;/p&gt;</description>
                <environment></environment>
        <key id="13374024">CASSANDRA-16621</key>
            <summary>Replace spinAsserts code with Awaitility code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djanand">Jogesh Anand</assignee>
                                    <reporter username="bereng">Berenguer Blasi</reporter>
                        <labels>
                            <label>low-hanging-fruit</label>
                    </labels>
                <created>Wed, 21 Apr 2021 06:16:06 +0000</created>
                <updated>Wed, 16 Mar 2022 16:19:43 +0000</updated>
                            <resolved>Tue, 31 Aug 2021 05:28:31 +0000</resolved>
                                        <fixVersion>4.0.1</fixVersion>
                                    <component>Test/unit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17371016" author="djanand" created="Tue, 29 Jun 2021 03:12:44 +0000"  >&lt;p&gt;The change seems reasonable and attaching a PR. Can someone please review ?&lt;/p&gt;</comment>
                            <comment id="17371021" author="bereng" created="Tue, 29 Jun 2021 03:37:36 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;your PR has base &lt;tt&gt;trunk&lt;/tt&gt; but if you intend to fix from 4.0.x upwards you&apos;d need to make &lt;tt&gt;4.0&lt;/tt&gt; the base. Also can you include some CI please?&lt;/p&gt;</comment>
                            <comment id="17373262" author="djanand" created="Fri, 2 Jul 2021 06:42:27 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; for taking a look. Attached the PR with 4.0 as base. &lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/1/workflows/395a1c77-b7d9-4ad3-8641-7ce353e7d90f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCi&lt;/a&gt;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/1/workflows/29b1c542-e954-4695-8f2c-7872e62a0d46&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCi&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I think these tests would take a while. Please guide, if you think I need to run some more CI tests as I&apos;m not super familiar with the ecosystem.&lt;/p&gt;</comment>
                            <comment id="17374542" author="bereng" created="Mon, 5 Jul 2021 05:22:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt; you seem to have a few failures. I would suggest investigating them locally. Once the &apos;basic&apos; tests pass I can fire for you CI with all the heavy and long tests.&lt;/p&gt;</comment>
                            <comment id="17375977" author="djanand" created="Tue, 6 Jul 2021 19:49:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; - thanks! yeah there are some failures. When I run the failed tests locally ie ViewComplexLivenessTest and ViewFilteringClustering1Test they succeed on every run. &lt;br/&gt;
 The exception that I get on the &lt;a href=&quot;https://circleci.com/api/v1.1/project/github/djanand/cassandra/3/output/104/0?file=true&amp;amp;allocation-id=60deafb9c3492162b60b9b5e-0-build%2F58BCD97C&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;circle-ci&lt;/a&gt; tests is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
com.datastax.driver.core.exceptions.ProtocolError: An unexpected protocol error occurred on host localhost/127.0.0.1:36945. This is a bug in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; library, please report: Must not send frame with WARNING flag &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; protocol version &amp;lt; 4
[junit-timeout] 	at com.datastax.driver.core.exceptions.ProtocolError.copy(ProtocolError.java:66)
[junit-timeout] 	at com.datastax.driver.core.exceptions.ProtocolError.copy(ProtocolError.java:27)
[junit-timeout] 	at com.datastax.driver.core.DriverThrowables.propagateCause(DriverThrowables.java:35)
[junit-timeout] 	at com.datastax.driver.core.DefaultResultSetFuture.getUninterruptibly(DefaultResultSetFuture.java:293)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;del&gt;When debugging locally, I see that DriverThrowables class loads from cassandra-driver-core-3.11.0-shaded.jar which has no line:35 in it.&lt;/del&gt;&lt;br/&gt;
 &lt;del&gt;This leads me to believe that the build on circle-ci is using a different version of driver than local.&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;ps: I&apos;m using the default .circleci/config.yml&lt;/p&gt;</comment>
                            <comment id="17377057" author="bereng" created="Thu, 8 Jul 2021 05:19:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt; I am trying to run your branch on a different CI. It just needs some time to complete and the 1st attempt failed. Let&apos;s see what it does there...&lt;/p&gt;</comment>
                            <comment id="17377803" author="bereng" created="Fri, 9 Jul 2021 05:01:19 +0000"  >&lt;p&gt;Run &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/903/#showFailuresLink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#903&lt;/a&gt; failed on upgrade tests, which iirc was a thing a few days ago so it could be you only need a rebase. Atm we have 4.0 upgrade tests broken again since yesterday. I think we&apos;ve just had unlucky timing. Let&apos;s wait for these to get fixed, I&apos;ll rebase then and re-run CI.&lt;/p&gt;</comment>
                            <comment id="17377878" author="djanand" created="Fri, 9 Jul 2021 07:24:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt;&#160;- thanks! I have also been trying out some changes (unrelated to the awaitility fix for this ticket) to fix the failing tests. Looks like something similar was mentioned in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16670&quot; title=&quot;Flaky ViewComplexTest, ViewFilteringTest and InsertUpdateIfConditionTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16670&quot;&gt;&lt;del&gt;CASSANDRA-16670&lt;/del&gt;&lt;/a&gt;. Regardless, will let keep you posted if I get those tests working.&lt;/p&gt;</comment>
                            <comment id="17377912" author="bereng" created="Fri, 9 Jul 2021 08:06:01 +0000"  >&lt;p&gt;Those failing tests are weird as they never have failed before. But there could be a bug lurking you never know...&lt;/p&gt;</comment>
                            <comment id="17377948" author="bereng" created="Fri, 9 Jul 2021 08:57:47 +0000"  >&lt;p&gt;We&apos;re having problems with tests given we&apos;re cutting a 4.0.0 release and some code changes need to go through. I want to wait for things to stabilize. Apologies fro the noise, sthg that should be simple it&apos;s turning into sthg a bit more involved... Murphy...&lt;/p&gt;</comment>
                            <comment id="17379591" author="bereng" created="Tue, 13 Jul 2021 05:16:18 +0000"  >&lt;p&gt;I&apos;m not forgetting about this. I am just waiting on the 4.0.0 cut test upgrade issues to resolve. Thx for your patience.&lt;/p&gt;</comment>
                            <comment id="17379626" author="djanand" created="Tue, 13 Jul 2021 06:21:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt;&#160;- thanks! that&apos;s very considerate of you&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160; Yeah I have been following the email updates on 4.0.0 release. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17380702" author="adelapena" created="Wed, 14 Jul 2021 15:54:07 +0000"  >&lt;p&gt;This doesn&apos;t change that we still have to decide whether to use &lt;tt&gt;spinAssertEquals&lt;/tt&gt; or &lt;tt&gt;Awaitility&lt;/tt&gt;, but it&apos;s nice to use the same implementation for both methods. I guess that the criteria would be using &lt;tt&gt;spinAssertEquals&lt;/tt&gt; when possible, and reserve the direct call to &lt;tt&gt;Awaitility&lt;/tt&gt; for those cases in which more flexibility is required?&lt;/p&gt;

&lt;p&gt;Regarding the poll interval, even though 1ms is probably the most similar thing to the original implementation, I wonder whether it would be too low. Perhaps we could use Awaitility&apos;s default interval of 100ms and then add an optimistic poll delay of zero?&lt;/p&gt;</comment>
                            <comment id="17381002" author="bereng" created="Thu, 15 Jul 2021 03:56:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;spinAssertEquals when possible, and reserve the direct call to Awaitility for those cases in which more flexibility is required?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1. I wouldn&apos;t replace all spinAssert calls just it&apos;s implementation to use Awaitility. And you can call that one directly when needed&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wonder whether it would be too low&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A thread.yield is probably less that that. But moving to 100ms would might even make more sense to avoid spinning the CPU on yields. I wonder what Awaitility does under the covers though..&lt;/p&gt;</comment>
                            <comment id="17381073" author="djanand" created="Thu, 15 Jul 2021 06:25:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;br/&gt;
Regarding the poll interval, even though 1ms is probably the most similar thing to the original implementation, I wonder whether it would be too low. Perhaps we could use Awaitility&apos;s default interval of 100ms and then add an optimistic poll delay of zero?&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;But moving to 100ms would might even make more sense to avoid spinning the CPU on yields&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agree that 1ms is too low. 100ms sgtm. I also think fibonacci polling interval might also be a good option. Thoughts?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.pollInterval(fibonacci(TimeUnit.MILLISECONDS))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17381208" author="bereng" created="Thu, 15 Jul 2021 09:31:56 +0000"  >&lt;p&gt;Seems 4.0 is getting cleared of upgrade errors and some jenkins cleaning is undergoing. Let&apos;s wait the latest run, rebase and rerun CI on this 4.0 and trunk.&lt;/p&gt;

&lt;p&gt;Fibonacci is always welcomed here...&lt;/p&gt;</comment>
                            <comment id="17381478" author="adelapena" created="Thu, 15 Jul 2021 17:17:05 +0000"  >&lt;p&gt;Fibonacci polling with milliseconds is a great idea, +1&lt;/p&gt;</comment>
                            <comment id="17381547" author="adelapena" created="Thu, 15 Jul 2021 18:56:04 +0000"  >&lt;p&gt;Actually, maybe Fibonacci polling might not be such a good fit for us. Unless I&apos;m missing something, Awaitabilty doesn&apos;t try to check the condition right before timing out. For example, if we have a timeout of 10000ms, the last polling will be done at 6765ms, and there won&apos;t be any further polling until&#160;10946ms, when the waiting will have already timed out. So, the intended timeout of 10000ms will be actually become a timeout of&#160;6765ms, which is significantly shorter. Another example, this produces a possibly surprising timeout:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; start = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis();
Awaitility.await()
          .pollInterval(fibonacci(TimeUnit.MILLISECONDS))
          .atMost(10000, TimeUnit.MILLISECONDS)
          .until(() -&amp;gt; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() - start &amp;gt;= 7000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Unless there is a way to check the condition right before the timeout, I think it would be less surprising for the users of &lt;tt&gt;spinAssertEquals&lt;/tt&gt; to just use a fixed poll interval of ~100ms. wdyt?&lt;/p&gt;</comment>
                            <comment id="17381622" author="djanand" created="Thu, 15 Jul 2021 23:43:39 +0000"  >&lt;p&gt;+1 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt; - It does seem that fibonacci wouldn&apos;t work here. I implicitly assumed that Awaitility would check the condition right before timeout, but that&apos;s clearly not the case. &lt;br/&gt;
Updated to use a fixed poll interval of ~100ms in the PR. &lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; for sharing.  &lt;/p&gt;</comment>
                            <comment id="17381956" author="bereng" created="Fri, 16 Jul 2021 10:16:35 +0000"  >&lt;p&gt;I went for a 4.0 rebase and lgtm: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/381/workflows/0a811695-3a11-4ae1-94be-ef3c78fd0b88&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/381/workflows/af3b3208-9b73-47cd-bf1a-b75b8c5ea9cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;. &lt;tt&gt;ConnectionTest&lt;/tt&gt; is a known offender so no worries there I would say.&lt;/p&gt;

&lt;p&gt;You want to rebase and run 4.0 and trunk CI or do you prefer I do it for you while I am at it?&lt;/p&gt;</comment>
                            <comment id="17382371" author="djanand" created="Fri, 16 Jul 2021 22:25:38 +0000"  >&lt;p&gt;That&apos;s nice. thanks! I would prefer to do it. Yeah, I did rebase the PR on 4.0. Also, updated the changes for trunk CI.&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;branch &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; CI &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;CI 4.0 &lt;/td&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/11/workflows/40ae1eb3-5292-4637-ac17-271cac1738e6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/11/workflows/a730dc81-11bb-413c-adaa-584ca9de8e37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;CI trunk &lt;/td&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/12/workflows/abe8f0c5-f98d-448f-828a-092af41f02db&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/djanand/cassandra/12/workflows/abe8f0c5-f98d-448f-828a-092af41f02db&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Tracking both runs. I wonder what fixed the errors that we were getting earlier &lt;/p&gt;</comment>
                            <comment id="17382407" author="djanand" created="Sat, 17 Jul 2021 02:28:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; - running into some of the same failures that I encountered before even after rebase. Unsure. Would you mind?&lt;/p&gt;</comment>
                            <comment id="17383029" author="bereng" created="Mon, 19 Jul 2021 06:18:22 +0000"  >&lt;p&gt;How weird. I compared your &amp;amp; my code and they are identical. Why would you get such errors and I wouldn&apos;t? Everything seems to start with this error which makes little sense to me atm:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[junit-timeout] Testcase: testRangeDeletionWithoutFlush[0](org.apache.cassandra.cql3.ViewComplexDeletionsTest):	Caused an ERROR
[junit-timeout] An unexpected protocol error occurred on host localhost/127.0.0.1:34141. This is a bug in this library, please report: Must not send frame with WARNING flag for native protocol version &amp;lt; 4
[junit-timeout] com.datastax.driver.core.exceptions.ProtocolError: An unexpected protocol error occurred on host localhost/127.0.0.1:34141. This is a bug in this library, please report: Must not send frame with WARNING flag for native protocol version &amp;lt; 4
[junit-timeout] 	at com.datastax.driver.core.exceptions.ProtocolError.copy(ProtocolError.java:66)
[junit-timeout] 	at com.datastax.driver.core.exceptions.ProtocolError.copy(ProtocolError.java:27)
[junit-timeout] 	at com.datastax.driver.core.DriverThrowables.propagateCause(DriverThrowables.java:35)
[junit-timeout] 	at com.datastax.driver.core.DefaultResultSetFuture.getUninterruptibly(DefaultResultSetFuture.java:293)
[junit-timeout] 	at com.datastax.driver.core.AbstractSession.execute(AbstractSession.java:58)
[junit-timeout] 	at com.datastax.driver.core.AbstractSession.execute(AbstractSession.java:45)
[junit-timeout] 	at org.apache.cassandra.cql3.CQLTester.executeNet(CQLTester.java:972)
[junit-timeout] 	at org.apache.cassandra.cql3.ViewComplexTest.createView(ViewComplexTest.java:109)
[junit-timeout] 	at org.apache.cassandra.cql3.ViewComplexDeletionsTest.testRangeDeletion(ViewComplexDeletionsTest.java:247)
[junit-timeout] 	at org.apache.cassandra.cql3.ViewComplexDeletionsTest.testRangeDeletionWithoutFlush(ViewComplexDeletionsTest.java:236)
[junit-timeout] Caused by: com.datastax.driver.core.exceptions.ProtocolError: An unexpected protocol error occurred on host localhost/127.0.0.1:34141. This is a bug in this library, please report: Must not send frame with WARNING flag for native protocol version &amp;lt; 4
[junit-timeout] 	at com.datastax.driver.core.Responses$Error.asException(Responses.java:154)
[junit-timeout] 	at com.datastax.driver.core.DefaultResultSetFuture.onSet(DefaultResultSetFuture.java:215)
[junit-timeout] 	at com.datastax.driver.core.RequestHandler.setFinalResult(RequestHandler.java:235)
[junit-timeout] 	at com.datastax.driver.core.RequestHandler.access$2600(RequestHandler.java:61)
[junit-timeout] 	at com.datastax.driver.core.RequestHandler$SpeculativeExecution.setFinalResult(RequestHandler.java:1011)
[junit-timeout] 	at com.datastax.driver.core.RequestHandler$SpeculativeExecution.onSet(RequestHandler.java:814)
[junit-timeout] 	at com.datastax.driver.core.Connection$Dispatcher.channelRead0(Connection.java:1290)
[junit-timeout] 	at com.datastax.driver.core.Connection$Dispatcher.channelRead0(Connection.java:1208)
[junit-timeout] 	at com.datastax.shaded.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
[junit-timeout] 	at com.datastax.shaded.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
[junit-timeout] 	at com.datastax.shaded.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
[junit-timeout] 	at com.datastax.shaded.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:312)
[junit-timeout] 	at com.datastax.shaded.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:286)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
[junit-timeout] 	at com.datastax.shaded.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
[junit-timeout] 	at com.datastax.driver.core.InboundTrafficMeter.channelRead(InboundTrafficMeter.java:38)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
[junit-timeout] 	at com.datastax.shaded.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1304)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
[junit-timeout] 	at com.datastax.shaded.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
[junit-timeout] 	at com.datastax.shaded.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:921)
[junit-timeout] 	at com.datastax.shaded.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:135)
[junit-timeout] 	at com.datastax.shaded.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:646)
[junit-timeout] 	at com.datastax.shaded.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:581)
[junit-timeout] 	at com.datastax.shaded.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)
[junit-timeout] 	at com.datastax.shaded.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)
[junit-timeout] 	at com.datastax.shaded.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)
[junit-timeout] 	at com.datastax.shaded.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
[junit-timeout] 	at java.lang.Thread.run(Thread.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt; does it ring a bell by any chance?&lt;/p&gt;

&lt;p&gt;Edit: I get different failures which imo are ok: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/382/workflows/fde387d2-69b8-4213-9fbd-598203089a7f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/382/workflows/0a7ff153-0343-436b-ada1-2f5e7ab7c0a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17383435" author="adelapena" created="Mon, 19 Jul 2021 16:25:38 +0000"  >&lt;p&gt;Here are some additional runs with LOWRES and HIGHRES:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;resources&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;LOW&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/674/workflows/b35679ab-ea54-42e5-bbca-fa2c12a290d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/674/workflows/57707052-cfc2-47b7-875f-520801f44bb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;HIGH&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/676/workflows/5214df3b-75dc-4893-a41d-4ff2fe7a36ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/676/workflows/f44f558d-65e9-46ed-a697-31af338d5018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;LOW&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/675/workflows/d4fa9c8a-f3e4-46f3-ba33-cc4484b3b20a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/675/workflows/9fef38c1-4727-4eff-ada6-8b782609daa5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;HIGH&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/677/workflows/5a411db9-3567-42ed-9a09-3dd1e299a27d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/677/workflows/649833f3-7226-4103-b96f-dcbe7ff16d5a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I have added some multiplexed runs &lt;tt&gt;ViewFilteringTest&lt;/tt&gt; because it&apos;s one the tests failing with the &lt;tt&gt;ProtocolError&lt;/tt&gt;/&lt;tt&gt;AlreadyExistsException&lt;/tt&gt; errors, although I&apos;m not finding them anymore.&lt;/p&gt;

&lt;p&gt;What seems to be consistently failing due to the changes is &lt;tt&gt;ThreadPoolMetricsTest&lt;/tt&gt;. The failure seems to be caused by the increased poll interval. We could reduce it again, but it might be better to directly use &lt;tt&gt;Awaitility&lt;/tt&gt; in &lt;tt&gt;ThreadPoolMetricsTest.spinAssertEquals&lt;/tt&gt; with a lower interval or, even better, try to use a better concurrency control in the test.&lt;/p&gt;</comment>
                            <comment id="17383476" author="adelapena" created="Mon, 19 Jul 2021 17:28:39 +0000"  >&lt;p&gt;I&apos;m not totally sure about how the poll interval affects &lt;tt&gt;ThreadPoolMetricsTest.testJMXEnabledThreadPoolMetricsWithBlockedThread&lt;/tt&gt;, but I think that &lt;a href=&quot;https://github.com/apache/cassandra/blob/a9abf5accb2265c6394bf8134dc5496c5505375c/test/unit/org/apache/cassandra/metrics/ThreadPoolMetricsTest.java#L162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the failing assert&lt;/a&gt; is wrong. The tasks &lt;tt&gt;task5&lt;/tt&gt; and &lt;tt&gt;task6&lt;/tt&gt; are asynchronously submitted to the the executor, so they can be executed in any order. I think that the test should consider that they can be submitted in any order, &lt;a href=&quot;https://github.com/adelapena/cassandra/commit/4a47cb2f3e6267cd307d5ac907e8a45b9d6b8468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this way&lt;/a&gt;. As soon as we make this change the test seems to consistently pass independently of the poll interval (&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/678/workflows/29642061-8a38-4c59-9e63-b1cb3f4d66eb/jobs/6885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; and &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/678/workflows/29642061-8a38-4c59-9e63-b1cb3f4d66eb/jobs/6883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;).&#160;&lt;/p&gt;

&lt;p&gt;Also, as mentioned before, I think it could be useful to have an optimistic poll delay of zero, independent of the poll interval, so tests like this one can have better execution times. For example, &lt;tt&gt;ThreadPoolMetricsTest&lt;/tt&gt; with a poll delay of zero and poll interval of 100 passes in less than half a second, while with only the poll interval it needs around five seconds to finish.&lt;/p&gt;</comment>
                            <comment id="17383794" author="bereng" created="Tue, 20 Jul 2021 06:03:09 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;+1 to &lt;tt&gt;ThreadPoolMetricsTest&lt;/tt&gt; fixes&lt;/li&gt;
	&lt;li&gt;+1 to the optimistic poll. Also the &lt;tt&gt;ConnectionTest&lt;/tt&gt; should fail the test case whereas it is timming out so that needs some tunning as well.&lt;/li&gt;
	&lt;li&gt;The v4 protocol thing seems to be sthg that only happens to Jogesh. I need to dig a bit more...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17395884" author="bereng" created="Mon, 9 Aug 2021 07:46:05 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt; I am back from my break. Now that 4.0 is out everything, including CI, is more stable. Do you need some help with getting the latest changes done? I can carry it across the finish line for you if you prefer so.&lt;/p&gt;</comment>
                            <comment id="17400949" author="bereng" created="Wed, 18 Aug 2021 09:54:06 +0000"  >&lt;p&gt;Rebased and included latest suggestions &lt;a href=&quot;https://github.com/apache/cassandra/pull/1153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. CI is running but so far lgtm &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/394/workflows/72850a48-4ba7-41ee-a08a-b21dbca0aa82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/394/workflows/b24e1126-767e-49c6-96a1-f283be90bd43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17401017" author="adelapena" created="Wed, 18 Aug 2021 12:22:02 +0000"  >&lt;p&gt;CI looks good to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt;&#160;the only changes from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt;&apos;s patch are the fixes in &lt;tt&gt;ThreadPoolMetricsTest&lt;/tt&gt; suggested &lt;a href=&quot;https://github.com/adelapena/cassandra/commit/4a47cb2f3e6267cd307d5ac907e8a45b9d6b8468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; and the poll delay mentioned above, right? I think that&apos;s ready to commit.&lt;/p&gt;</comment>
                            <comment id="17401080" author="bereng" created="Wed, 18 Aug 2021 14:05:01 +0000"  >&lt;p&gt;Yep I included your latest suggestions. I will merge tomorrow in case he is around and wants to drop a comment or sthg.&lt;/p&gt;</comment>
                            <comment id="17401259" author="djanand" created="Wed, 18 Aug 2021 17:10:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt; +1. thanks so much and lgtm. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17401508" author="bereng" created="Thu, 19 Aug 2021 07:16:44 +0000"  >&lt;p&gt;I just thought we didn&apos;t run we didn&apos;t run compression, long, etc junits. Let me run a jenkins ci first to be on the safe side. Also next week I am OOO so I might commit when I am back preferably unless Andres beats me to it.&lt;/p&gt;

&lt;p&gt;Edit: compression &amp;amp; long tests lgtm on circle. But stress and other I&apos;ll wait for jenkins to be up again, it&apos;s down for maintenance now.&lt;/p&gt;</comment>
                            <comment id="17402066" author="bereng" created="Fri, 20 Aug 2021 06:31:17 +0000"  >&lt;p&gt;Ci on jenkins 4.0 lgtm: &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1045/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1045/&lt;/a&gt;&lt;br/&gt;
CI on trunk lgtm: &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1046/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1046/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll commit when I am back from OOO. I know if I merge now Murphy is going to do his thing and I will have to be fixing stuff during my OOO otherwise...&lt;/p&gt;</comment>
                            <comment id="17407077" author="bereng" created="Tue, 31 Aug 2021 05:29:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djanand&quot; class=&quot;user-hover&quot; rel=&quot;djanand&quot;&gt;djanand&lt;/a&gt; thx for your work here and apologies you hit a window where we super busy and CI didn&apos;t want to collaborate. Any other ticket you fancy should be much smoother.&lt;/p&gt;</comment>
                            <comment id="17409177" author="djanand" created="Fri, 3 Sep 2021 00:36:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt;&#160;-&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; thanks for the great communication and help on this. There goes the commit to trunk and 4.0. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&#160;Yeah, I did hit the CI bottleneck but found quick help from you and Andres. I would be happy to look into some other tickets as well. I see we have other low-hanging fruits but many don&apos;t have details on the ticket. Would rather comment on those for additional info.&#160;&lt;/p&gt;</comment>
                            <comment id="17409284" author="bereng" created="Fri, 3 Sep 2021 05:51:54 +0000"  >&lt;p&gt;Feel free to ping me on the tickets you fancy nosing around and I&apos;ll see if it&apos;s some I can help with.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[djanand]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="13163" cascade-level=""><![CDATA[Code]]></customfieldvalue>
                                <customfieldvalue key="13164" cascade-level="1"><![CDATA[Bug - Unclear Impact]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0q9xk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
        <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12336842">4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/78c6279658d5c18a8704a8e1ab1bc5200b8b1e0b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/78c6279658d5c18a8704a8e1ab1bc5200b8b1e0b&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Test utility improvement, CI should continue passing&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>