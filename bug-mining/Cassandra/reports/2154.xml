<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:38:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5150] sstable2json doesn&apos;t check SIGPIPE</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5150</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I believe this explains the issue better than I can: &lt;a href=&quot;http://stackoverflow.com/questions/11695500/how-do-i-get-java-to-exit-when-piped-to-head&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/11695500/how-do-i-get-java-to-exit-when-piped-to-head&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Basically, I expected that if I did: &quot;sstable2json SSTABLE | other-process&quot;, and other-process had issues and/or died then the sstable2json process would die.  It doesn&apos;t.  &lt;/p&gt;

&lt;p&gt;My workaround is using mkfifo FILE, and having sstable2json write to FILE, other-process read from FILE, and a 3rd overall process make sure the other two processes are working.  But, it would be &lt;em&gt;much&lt;/em&gt; simplier if sstable2json failed on SIGPIPE.&lt;/p&gt;

&lt;p&gt;I looks like the fix is to periodically check System.out.checkError() in the Java.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627231">CASSANDRA-5150</key>
            <summary>sstable2json doesn&apos;t check SIGPIPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pmirski">Pawel Mirski</assignee>
                                    <reporter username="oberman">Will Oberman</reporter>
                        <labels>
                            <label>lhf</label>
                    </labels>
                <created>Fri, 11 Jan 2013 18:56:17 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:19 +0000</updated>
                            <resolved>Fri, 3 May 2013 08:55:56 +0000</resolved>
                                        <fixVersion>2.0 beta 1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13643663" author="pmirski" created="Sat, 27 Apr 2013 13:25:28 +0000"  >&lt;p&gt;Patch in attachment. &lt;/p&gt;</comment>
                            <comment id="13643664" author="pmirski" created="Sat, 27 Apr 2013 13:30:27 +0000"  >&lt;p&gt;In patch there is checkError every entry write, which causes flush. Maybe better idea is to call checkError once per few entries to improve performance?&lt;/p&gt;</comment>
                            <comment id="13644555" author="jbellis" created="Mon, 29 Apr 2013 14:57:59 +0000"  >&lt;p&gt;Do you actually see a performance difference when you redirect to a file, for instance?  That&apos;s probably by far the most common use case.&lt;/p&gt;</comment>
                            <comment id="13645627" author="pmirski" created="Tue, 30 Apr 2013 14:35:51 +0000"  >&lt;p&gt;Tested on Windows, it seems that performance drop is minimal (about 1%).&lt;/p&gt;</comment>
                            <comment id="13647689" author="jbellis" created="Thu, 2 May 2013 16:49:50 +0000"  >&lt;p&gt;LGTM; committed.  Thanks, Pawel!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580835" name="trunk-5150.txt" size="8538" author="pmirski" created="Sat, 27 Apr 2013 13:25:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[pmirski]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17hef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>