<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:35:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-4717] cqlsh fails to format values of ReversedType-wrapped classes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-4717</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;See the test case for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4715&quot; title=&quot;cqlsh doesn&amp;#39;t properly decode reversed timestamps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4715&quot;&gt;&lt;del&gt;CASSANDRA-4715&lt;/del&gt;&lt;/a&gt;, but run it on trunk. The ReversedType-wrapped column (rdate) will be displayed as a floating-point integer (it gets deserialized into a native type correctly, but cqlsh&apos;s format-according-to-type machinery doesn&apos;t know how to handle the cqltypes.ReversedType subclass.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609084">CASSANDRA-4717</key>
            <summary>cqlsh fails to format values of ReversedType-wrapped classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="thepaul">paul cannon</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Tue, 25 Sep 2012 16:54:36 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:26 +0000</updated>
                            <resolved>Wed, 3 Oct 2012 15:31:45 +0000</resolved>
                                        <fixVersion>1.1.6</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13462974" author="jbellis" created="Tue, 25 Sep 2012 17:03:45 +0000"  >&lt;p&gt;Is cql3 not giving back the &quot;base&quot; type in resultset info?  If not I think that should be addressed server-side.&lt;/p&gt;

&lt;p&gt;But if this is a a cql2-only problem then it&apos;s not on my priority list...&lt;/p&gt;</comment>
                            <comment id="13462976" author="jbellis" created="Tue, 25 Sep 2012 17:04:49 +0000"  >&lt;p&gt;Also should we close &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4715&quot; title=&quot;cqlsh doesn&amp;#39;t properly decode reversed timestamps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4715&quot;&gt;&lt;del&gt;CASSANDRA-4715&lt;/del&gt;&lt;/a&gt; as duplicate?&lt;/p&gt;</comment>
                            <comment id="13462990" author="thepaul" created="Tue, 25 Sep 2012 17:18:40 +0000"  >&lt;p&gt;4717.patch.txt is a fix; 4717-test.patch.txt adds a test for it that fits in the framework from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3920&quot; title=&quot;tests for cqlsh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3920&quot;&gt;&lt;del&gt;CASSANDRA-3920&lt;/del&gt;&lt;/a&gt;, if you guys decide to add that.&lt;/p&gt;</comment>
                            <comment id="13462997" author="thepaul" created="Tue, 25 Sep 2012 17:21:57 +0000"  >&lt;p&gt;I&apos;m not sure whether it&apos;s better for the thrift interface to include ReversedType in the resultset or not, but the cql library can handle it either way. And this fix for cqlsh is pretty simple too.&lt;/p&gt;

&lt;p&gt;If you do want to change the interface so that ReversedType doesn&apos;t get reported, then 4715 probably is a dupe. Otherwise, it&apos;s a different problem with a different solution.&lt;/p&gt;

&lt;p&gt;This isn&apos;t specific to cql2.&lt;/p&gt;</comment>
                            <comment id="13463757" author="slebresne" created="Wed, 26 Sep 2012 12:37:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is cql3 not giving back the &quot;base&quot; type in resultset info? If not I think that should be addressed server-side.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s not currently but that&apos;s definitively an oversight. I&apos;ll fix it (and thus &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4715&quot; title=&quot;cqlsh doesn&amp;#39;t properly decode reversed timestamps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4715&quot;&gt;&lt;del&gt;CASSANDRA-4715&lt;/del&gt;&lt;/a&gt; is a dupe).&lt;/p&gt;

&lt;p&gt;That being said, I&apos;m fine committing Paul&apos;s patch in the meantime to solve the issue for cql2, but there seems to be some kind of mess in the cqlsh sources on the cassandra-1.1 as both displaying.py and formatting.py are missing (as shown here: &lt;a href=&quot;https://github.com/apache/cassandra/tree/cassandra-1.1/pylib/cqlshlib&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/tree/cassandra-1.1/pylib/cqlshlib&lt;/a&gt;; trunk is fine).&lt;/p&gt;</comment>
                            <comment id="13463940" author="thepaul" created="Wed, 26 Sep 2012 16:36:58 +0000"  >&lt;p&gt;Sorry, you&apos;re right, this patch was only for trunk. The 1.1 branch doesn&apos;t have formatting.py or displaying.py. The patch will be easy to adapt- I can do it within a day or two, if no one else picks it up&lt;/p&gt;</comment>
                            <comment id="13468398" author="slebresne" created="Wed, 3 Oct 2012 07:49:45 +0000"  >&lt;p&gt;Attaching patch to skip returning a ReversedType to CQL3 clients. I&apos;m attaching a separate patch for 1.1 and trunk because they are different enough.&lt;/p&gt;</comment>
                            <comment id="13468537" author="tjake" created="Wed, 3 Oct 2012 12:57:00 +0000"  >&lt;p&gt;+1 I like this idea&lt;/p&gt;</comment>
                            <comment id="13468617" author="slebresne" created="Wed, 3 Oct 2012 15:31:45 +0000"  >&lt;p&gt;Alright, committed, thanks.&lt;/p&gt;

&lt;p&gt;I&apos;m closing that ticket because this solves the original issue. But I&apos;m still fine committing paul&apos;s patch for the sake of CQL2 once the 1.1 version of the patch is attached.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547509" name="4717-1.1.txt" size="4666" author="slebresne" created="Wed, 3 Oct 2012 07:49:45 +0000"/>
                            <attachment id="12546552" name="4717-test.patch.txt" size="2017" author="thepaul" created="Tue, 25 Sep 2012 17:18:40 +0000"/>
                            <attachment id="12546551" name="4717.patch.txt" size="622" author="thepaul" created="Tue, 25 Sep 2012 17:18:40 +0000"/>
                            <attachment id="12547508" name="4717.txt" size="3139" author="slebresne" created="Wed, 3 Oct 2012 07:49:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eq2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>