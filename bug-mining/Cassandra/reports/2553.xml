<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:42:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6589] Gossip AssertionError: Added cell does not sort as the last cell</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6589</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The super_counter_test.py dtest sometimes, but not always, hangs until killed (^C) when running with vnodes.  Reproduction (again, sometimes this is successful - keep trying until it hangs for a few minutes, which is about 1/3-1/2 of the time for me):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ENABLE_VNODES=true nosetests -v super_counter_test.py
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If it does hang up on you, in another shell:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ tail -F /tmp/dtest-*/test/node*/logs/system.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Scrolling errors similar to:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [GossipStage:54] 2014-01-15 10:39:30,229 CassandraDaemon.java:139 - Exception in thread Thread[GossipStage:54,5,main]
java.lang.AssertionError: Added cell does not sort as the last cell
        at org.apache.cassandra.db.ArrayBackedSortedColumns.addColumn(ArrayBackedSortedColumns.java:116) ~[main/:na]
        at org.apache.cassandra.db.ColumnFamily.addColumn(ColumnFamily.java:118) ~[main/:na]
        at org.apache.cassandra.db.ColumnFamily.addIfRelevant(ColumnFamily.java:112) ~[main/:na]
        at org.apache.cassandra.db.filter.SliceQueryFilter.collectReducedColumns(SliceQueryFilter.java:214) ~[main/:na]
        at org.apache.cassandra.db.filter.QueryFilter.collateColumns(QueryFilter.java:123) ~[main/:na]
        at org.apache.cassandra.db.filter.QueryFilter.collateOnDiskAtom(QueryFilter.java:81) ~[main/:na]
        at org.apache.cassandra.db.filter.QueryFilter.collateOnDiskAtom(QueryFilter.java:73) ~[main/:na]
        at org.apache.cassandra.db.CollationController.collectAllData(CollationController.java:296) ~[main/:na]
        at org.apache.cassandra.db.CollationController.getTopLevelColumns(CollationController.java:52) ~[main/:na]
        at org.apache.cassandra.db.ColumnFamilyStore.getTopLevelColumns(ColumnFamilyStore.java:1522) ~[main/:na]
        at org.apache.cassandra.db.ColumnFamilyStore.getColumnFamily(ColumnFamilyStore.java:1341) ~[main/:na]
        at org.apache.cassandra.db.Keyspace.getRow(Keyspace.java:327) ~[main/:na]
        at org.apache.cassandra.db.SliceFromReadCommand.getRow(SliceFromReadCommand.java:59) ~[main/:na]
        at org.apache.cassandra.cql3.statements.SelectStatement.readLocally(SelectStatement.java:223) ~[main/:na]
        at org.apache.cassandra.cql3.statements.SelectStatement.executeInternal(SelectStatement.java:241) ~[main/:na]
        at org.apache.cassandra.cql3.statements.SelectStatement.executeInternal(SelectStatement.java:57) ~[main/:na]
        at org.apache.cassandra.cql3.QueryProcessor.processInternal(QueryProcessor.java:261) ~[main/:na]
        at org.apache.cassandra.db.SystemKeyspace.getPreferredIP(SystemKeyspace.java:457) ~[main/:na]
        at org.apache.cassandra.net.OutboundTcpConnectionPool.&amp;lt;init&amp;gt;(OutboundTcpConnectionPool.java:48) ~[main/:na]
        at org.apache.cassandra.net.MessagingService.getConnectionPool(MessagingService.java:491) ~[main/:na]
        at org.apache.cassandra.net.MessagingService.getConnection(MessagingService.java:505) ~[main/:na]
        at org.apache.cassandra.net.MessagingService.sendOneWay(MessagingService.java:637) ~[main/:na]
        at org.apache.cassandra.net.MessagingService.sendReply(MessagingService.java:611) ~[main/:na]
        at org.apache.cassandra.service.EchoVerbHandler.doVerb(EchoVerbHandler.java:40) ~[main/:na]
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:60) ~[main/:na]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) ~[na:1.7.0_45]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) ~[na:1.7.0_45]
        at java.lang.Thread.run(Thread.java:744) ~[na:1.7.0_45]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;along with node1 repeatedly marking node3 up and down.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Debian Wheezy amd64&lt;br/&gt;
Oracle JDK 1.7_45&lt;br/&gt;
Branch: trunk&lt;/p&gt;</environment>
        <key id="12689038">CASSANDRA-6589</key>
            <summary>Gossip AssertionError: Added cell does not sort as the last cell</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="mshuler">Michael Shuler</assignee>
                                    <reporter username="mshuler">Michael Shuler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2014 16:54:25 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:56 +0000</updated>
                            <resolved>Thu, 18 Dec 2014 22:59:42 +0000</resolved>
                                                            <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13872446" author="jbellis" created="Wed, 15 Jan 2014 19:12:47 +0000"  >&lt;p&gt;Never a problem on 2.0?&lt;/p&gt;</comment>
                            <comment id="13872456" author="mshuler" created="Wed, 15 Jan 2014 19:20:08 +0000"  >&lt;p&gt;I am not seeing this on 2.0 (with or without vnodes), nor do I see this on trunk without vnodes.&lt;/p&gt;</comment>
                            <comment id="13900887" author="jbellis" created="Thu, 13 Feb 2014 23:30:06 +0000"  >&lt;p&gt;Your ABSC changes make this obsolete right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13900890" author="iamaleksey" created="Thu, 13 Feb 2014 23:32:43 +0000"  >&lt;p&gt;Yes, and also, no. The exception will no longer be there, but, still, in this case it&apos;s a sign of something gone wrong.&lt;/p&gt;</comment>
                            <comment id="14249127" author="jbellis" created="Tue, 16 Dec 2014 23:00:16 +0000"  >&lt;p&gt;I&apos;m going to throw this back to Michael to bisect.&lt;/p&gt;

&lt;p&gt;AY, does he need a patch to log a warning w/o the exception?&lt;/p&gt;</comment>
                            <comment id="14249138" author="iamaleksey" created="Tue, 16 Dec 2014 23:07:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;AY, does he need a patch to log a warning w/o the exception?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, he does. Is this still relevant though? Are we still seeing this anywhere?&lt;/p&gt;</comment>
                            <comment id="14249141" author="jbellis" created="Tue, 16 Dec 2014 23:10:20 +0000"  >&lt;p&gt;Dunno, but gossip bugs don&apos;t tend to go away on their own. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; /cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14252482" author="mshuler" created="Thu, 18 Dec 2014 22:59:43 +0000"  >&lt;p&gt;I just killed my test loop at #118 runs over this test on cassandra-2.1 HEAD. I think we&apos;re probably good.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mshuler]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rfjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12324159">2.1 rc3</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>