<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:13:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1019] &quot;java.net.ConnectException: Connection timed out&quot; in MESSAGE-STREAMING-POOL:1</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1019</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;after doing a nodetool repair on a node in my cluster, i see the following exception on 4 out of the 7 nodes.  replication factor is 3.  no compactions happening.  no client traffic to the cluster.  nodetool streams (on one of the nodes not repaired) shows the following which is not ever increasing:&lt;/p&gt;

&lt;p&gt;Mode: Normal&lt;br/&gt;
Streaming to: /192.168.132.117&lt;br/&gt;
   /data/cassandra-data/data/UdsProfiles/stream/UdsProfiles-43-Data.db 0/523088443&lt;br/&gt;
Not receiving any streams.&lt;/p&gt;


&lt;p&gt;in addition those same four nodes all show AE-SERVICE-STAGE with pending&lt;br/&gt;
work, and been showing this for several hours now. each node in the&lt;br/&gt;
cluster has less than 2gb, so it should be finished by now.&lt;/p&gt;

&lt;p&gt;here is the exception:&lt;/p&gt;

&lt;p&gt;2010-04-23 10:08:43,416 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;MESSAGE-STREAMING-POOL:1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DebuggableThreadPoolExecutor.java:101&amp;#93;&lt;/span&gt; Error in ThreadPoolExecutor&lt;br/&gt;
java.lang.RuntimeException: java.net.ConnectException: Connection timed out&lt;br/&gt;
at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:34)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.net.ConnectException: Connection timed out&lt;br/&gt;
at sun.nio.ch.Net.connect(Native Method)&lt;br/&gt;
at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:507)&lt;br/&gt;
at org.apache.cassandra.net.FileStreamTask.runMayThrow(FileStreamTask.java:60)&lt;br/&gt;
at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:30)&lt;br/&gt;
... 3 more&lt;br/&gt;
2010-04-23 10:08:43,417 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;MESSAGE-STREAMING-POOL:1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;CassandraDaemon.java:78&amp;#93;&lt;/span&gt; Fatal exception in thread&lt;br/&gt;
Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;MESSAGE-STREAMING-POOL:1,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.RuntimeException: java.net.ConnectException: Connection timed out&lt;br/&gt;
at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:34)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.net.ConnectException: Connection timed out&lt;br/&gt;
at sun.nio.ch.Net.connect(Native Method)&lt;br/&gt;
at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:507)&lt;br/&gt;
at org.apache.cassandra.net.FileStreamTask.runMayThrow(FileStreamTask.java:60)&lt;br/&gt;
at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:30)&lt;br/&gt;
... 3 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12462907">CASSANDRA-1019</key>
            <summary>&quot;java.net.ConnectException: Connection timed out&quot; in MESSAGE-STREAMING-POOL:1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuhood">Stu Hood</assignee>
                                    <reporter username="btoddb">B. Todd Burruss</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Apr 2010 21:12:04 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:24 +0000</updated>
                            <resolved>Wed, 26 May 2010 19:00:02 +0000</resolved>
                                        <fixVersion>0.6.3</fixVersion>
                    <fixVersion>0.7 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12860654" author="jbellis" created="Sun, 25 Apr 2010 05:19:02 +0000"  >&lt;p&gt;Stu, could you add some &quot;retry N (3?  10?) times before aborting the stream&quot; logic?&lt;/p&gt;</comment>
                            <comment id="12860768" author="stuhood" created="Sun, 25 Apr 2010 21:34:12 +0000"  >&lt;p&gt;I should be able to tackle this Tuesday or Wednesday.&lt;/p&gt;</comment>
                            <comment id="12860975" author="btoddb" created="Mon, 26 Apr 2010 16:15:07 +0000"  >&lt;p&gt;some more info that may assist.  we have just purchased new machines for our test cluster and we are having lots of trouble with the NICs going down.  this causes an extremely long timeout situation and could have been the catalyst for this problem.&lt;/p&gt;

&lt;p&gt;this situation does cause the cluster to behave very poorly because the connection takes several minutes to timeout.  this type of situation makes me want the ability to manually take a node out of the cluster and prevent nodes from gossiping to it.  is this something that has been talked about?&lt;/p&gt;</comment>
                            <comment id="12870837" author="stuhood" created="Mon, 24 May 2010 20:50:43 +0000"  >&lt;p&gt;Adds retries with exponential backoff to the connect step in FileStreamTask.&lt;/p&gt;</comment>
                            <comment id="12870839" author="stuhood" created="Mon, 24 May 2010 20:52:35 +0000"  >&lt;p&gt;...and a set that does the same thing for trunk. 1019-for-0.6-0001 should be the same as 1019-for-trunk-0004.&lt;/p&gt;

&lt;p&gt;The rest of the set performs some cleanups in the Streaming package to give things more appropriate names and document them a little better.&lt;/p&gt;</comment>
                            <comment id="12871777" author="gdusbabek" created="Wed, 26 May 2010 15:41:33 +0000"  >&lt;p&gt;+1 on the 0.6 change.  Re trunk: would it make sense to rename FileStatus.STREAM -&amp;gt; FileStatus.RESTREAM?&lt;/p&gt;</comment>
                            <comment id="12871785" author="stuhood" created="Wed, 26 May 2010 16:12:17 +0000"  >&lt;p&gt;&amp;gt; Re trunk: would it make sense to rename FileStatus.STREAM -&amp;gt; FileStatus.RESTREAM?&lt;br/&gt;
I debated doing that, but since the FileStatus object exists for the lifetime of the transfer it needs to have an initial Action/status that indicates it is streaming.&lt;/p&gt;</comment>
                            <comment id="12872200" author="hudson" created="Thu, 27 May 2010 12:47:28 +0000"  >&lt;p&gt;Integrated in Cassandra #447 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/447/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/447/&lt;/a&gt;)&lt;br/&gt;
    rename StreamCompletionAction to Action. patch by stuhood, reviwed by gdusbabek. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1019&quot; title=&quot;&amp;quot;java.net.ConnectException: Connection timed out&amp;quot; in MESSAGE-STREAMING-POOL:1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1019&quot;&gt;&lt;del&gt;CASSANDRA-1019&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
rename StreamCompletionHandler to FileStatusHandler. patch by stuhood, reviwed by gdusbabek. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1019&quot; title=&quot;&amp;quot;java.net.ConnectException: Connection timed out&amp;quot; in MESSAGE-STREAMING-POOL:1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1019&quot;&gt;&lt;del&gt;CASSANDRA-1019&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
rename CompletedFileStatus to FileStatus. patch by stuhood, reviwed by gdusbabek. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1019&quot; title=&quot;&amp;quot;java.net.ConnectException: Connection timed out&amp;quot; in MESSAGE-STREAMING-POOL:1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1019&quot;&gt;&lt;del&gt;CASSANDRA-1019&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445382" name="1019-for-0.6-0001-Add-exponentially-backed-off-retry-to-FileStreamTask.patch" size="3310" author="stuhood" created="Mon, 24 May 2010 20:50:43 +0000"/>
                            <attachment id="12445383" name="1019-for-trunk-0001-Rename-CompletedFileStatus-to-FileStatus-to-indicate.patch" size="17194" author="stuhood" created="Mon, 24 May 2010 20:50:55 +0000"/>
                            <attachment id="12445384" name="1019-for-trunk-0002-Rename-StreamCompletionHandler-to-FileStatusHandler-.patch" size="16325" author="stuhood" created="Mon, 24 May 2010 20:50:55 +0000"/>
                            <attachment id="12445385" name="1019-for-trunk-0003-Rename-StreamCompletionAction-to-Action-and-change-d.patch" size="6881" author="stuhood" created="Mon, 24 May 2010 20:50:55 +0000"/>
                            <attachment id="12445386" name="1019-for-trunk-0004-Add-exponentially-backed-off-retry-to-FileStreamTask.patch" size="3321" author="stuhood" created="Mon, 24 May 2010 20:52:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stuhood]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g2i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>