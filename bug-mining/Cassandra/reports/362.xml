<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:13:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1242] When loading an AbstractType that does not include an instance field, an unhelpful exception is raised making diagnosis difficult</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1242</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;0.7.0 changes the contract for creating AbstractTypes. A custom AbstractType defined against 0.6.x will be incompatible and the error messaging around why the comparator is invalid is obtuse and non-obvious. Specifically, when porting a valid AbstractType from 0.6.x to 0.7 that does not include a public static instance field, the thrift system_add_column_family call will throw an exception whose only message is:&lt;/p&gt;

&lt;p&gt;InvalidRequestException(why:instance)&lt;/p&gt;

&lt;p&gt;No log messages are generated from the server as to the issue so the root cause is non obvious to developers.&lt;/p&gt;

&lt;p&gt;I marked as Major because types defined against 0.6.x did not require an &quot;instance&quot; field so at a minimum migration of AbstractTypes to 0.7 should document the change in what is expected of AbstractTypes.&lt;/p&gt;

&lt;p&gt;Patch attached for better logging and to create a more helpful exception for better communication to the client as to the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468314">CASSANDRA-1242</key>
            <summary>When loading an AbstractType that does not include an instance field, an unhelpful exception is raised making diagnosis difficult</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eonnen">Erik Onnen</assignee>
                                    <reporter username="eonnen">Erik Onnen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Jul 2010 01:21:03 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:21 +0000</updated>
                            <resolved>Thu, 1 Jul 2010 22:21:11 +0000</resolved>
                                        <fixVersion>0.7 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12884465" author="jbellis" created="Thu, 1 Jul 2010 22:21:11 +0000"  >&lt;p&gt;committed, thanks!&lt;/p&gt;

&lt;p&gt;(I note in our defense that NEWS.txt has mentioned the AbstractType change for several weeks now though &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12884662" author="hudson" created="Fri, 2 Jul 2010 12:47:08 +0000"  >&lt;p&gt;Integrated in Cassandra #483 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/483/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/483/&lt;/a&gt;)&lt;br/&gt;
    add friendlier ConfigurationException for malformed AbstractTypes.  patch by Erik Onnen; reviewed by jbellis for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1242&quot; title=&quot;When loading an AbstractType that does not include an instance field, an unhelpful exception is raised making diagnosis difficult&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1242&quot;&gt;&lt;del&gt;CASSANDRA-1242&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12884664" author="jeromatron" created="Fri, 2 Jul 2010 13:01:50 +0000"  >&lt;p&gt;Good call Erik - it needed some good feedback like this when people get bitten by the change.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12448465" name="CASSANDRA-1242.patch" size="1232" author="eonnen" created="Thu, 1 Jul 2010 01:23:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[eonnen]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g3v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>