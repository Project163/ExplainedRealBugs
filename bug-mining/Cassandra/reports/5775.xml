<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:21:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16759] Avoid memoizing the wrong min cluster version during upgrades</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16759</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16525&quot; title=&quot;Gossip STATUS can be either missing during upgrade or stale after upgrade&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16525&quot;&gt;&lt;del&gt;CASSANDRA-16525&lt;/del&gt;&lt;/a&gt; avoids trying to calculate the cluster min version if gossiper is not enabled.&lt;/p&gt;

&lt;p&gt;This makes us memoize the wrong version for up to a minute causing us to send 4.0-messages to 3.0 nodes, for example in &lt;a href=&quot;https://github.com/apache/cassandra/blob/05beda90a9206db165a3997a736ecb06f8dc695e/src/java/org/apache/cassandra/db/filter/ColumnFilter.java#L210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ColumnFilter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This was discovered by python upgrade dtests, &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/993/workflows/2afef6f0-1356-41f6-93dc-5385ac19dca1/jobs/5977/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; after reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15899&quot; title=&quot;Dropping a column can break queries until the schema is fully propagated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15899&quot;&gt;&lt;del&gt;CASSANDRA-15899&lt;/del&gt;&lt;/a&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16735&quot; title=&quot;Adding columns via ALTER TABLE can generate corrupt sstables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16735&quot;&gt;&lt;del&gt;CASSANDRA-16735&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13385448">CASSANDRA-16759</key>
            <summary>Avoid memoizing the wrong min cluster version during upgrades</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcuse">Marcus Eriksson</assignee>
                                    <reporter username="marcuse">Marcus Eriksson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jun 2021 15:19:41 +0000</created>
                <updated>Sun, 1 Aug 2021 11:33:31 +0000</updated>
                            <resolved>Sun, 27 Jun 2021 05:17:05 +0000</resolved>
                                        <fixVersion>4.0-rc2</fixVersion>
                    <fixVersion>4.0</fixVersion>
                    <fixVersion>4.0.1</fixVersion>
                                    <component>Consistency/Coordination</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17368280" author="krummas" created="Wed, 23 Jun 2021 15:28:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/krummas/cassandra/commits/marcuse/16759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/krummas/cassandra/commits/marcuse/16759&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/krummas/cassandra?branch=marcuse%2F16759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/krummas/cassandra?branch=marcuse%2F16759&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17368312" author="brandon.williams" created="Wed, 23 Jun 2021 16:02:38 +0000"  >&lt;p&gt;+1 if CI looks good.&lt;/p&gt;</comment>
                            <comment id="17368377" author="brandon.williams" created="Wed, 23 Jun 2021 17:33:16 +0000"  >&lt;p&gt;Unfortunately the jvm dtest failures look legit:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.cassandra.exceptions.ReadFailureException: Operation failed - received 0 responses and 1 failures: INCOMPATIBLE_SCHEMA from /127.0.0.4:7012
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17368804" author="krummas" created="Thu, 24 Jun 2021 12:08:48 +0000"  >&lt;p&gt;by clearing out the memoized minVersion in &lt;tt&gt;start()&lt;/tt&gt; we might call &lt;tt&gt;upgradeFromVersionSupplier&lt;/tt&gt; before we know anything about the cluster&lt;/p&gt;

&lt;p&gt;pushed a new patch which makes sure we don&apos;t memoize anything before we actually have &lt;tt&gt;endpointStateMap&lt;/tt&gt; populated with something usable, tests running (edit: still broken)&lt;/p&gt;</comment>
                            <comment id="17369166" author="jmeredithco" created="Fri, 25 Jun 2021 00:46:12 +0000"  >&lt;p&gt;I&apos;ve been investigating a few of the test failures and they seem to be related to the node not waiting to receive an up to date schema and starting bootstrap with the default schema which does not contain any non-system keyspaces so does not do any streaming.&lt;/p&gt;

&lt;p&gt;In 4.0, MigrationCoordinator is responsible for awaiting having all  schema and it gets told about schema versions from the StorageService.onChange listener. It only processes the ApplicationState.SCHEMA entries if the endpoint exists in TokenMetadata.&lt;/p&gt;

&lt;p&gt;Endpoints are added to TokenMetadata when StorageService.onJoin handles the STATUS or STATUS_WITH_PORT application states.&lt;/p&gt;

&lt;p&gt;The EnumMap.values() that onJoin iterates over seems to return the application states in the order they are defined in the enum, so if STATUS is present, it comes first and all is good.&lt;/p&gt;

&lt;p&gt;If STATUS is not present, like when a 4.0 cluster thinks there are no nodes with a version lower than 4.0 and gossip filters it out, then only the items in ApplicationState after STATUS_WITH_PORT (currently only SSTABLE_VERSIONS) will be processed by onChange. Then it takes a subsequent gossip of that ApplicationState to apply theother states which is making tests racy.&lt;/p&gt;

&lt;p&gt;This is all very fiddly and I&apos;m not 100% sure that&apos;s the exact sequence, but there is definitely a change in behavior for when nodes switch to not having STATUS any more.&lt;/p&gt;

&lt;p&gt;I&apos;ve pushed up a minimal change to onJoin to make it behave &lt;a href=&quot;https://github.com/jonmeredith/cassandra/pull/new/marcuse/16759-fix-status-with-port&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;on a branch&lt;/a&gt;, with  &lt;a href=&quot;https://app.circleci.com/pipelines/github/jonmeredith/cassandra?branch=marcuse%2F16759-fix-status-with-port&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI Here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A possible cleaner alternative solution would be to sort with a customer key comparator, but wasn&apos;t sure about performance during gossip storms.&lt;/p&gt;</comment>
                            <comment id="17369317" author="yifanc" created="Fri, 25 Jun 2021 07:57:54 +0000"  >&lt;p&gt;The analysis makes sense. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmeredithco&quot; class=&quot;user-hover&quot; rel=&quot;jmeredithco&quot;&gt;jmeredithco&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the following scenarios, the STATUS field can be absent onJoin. &lt;br/&gt;
1. &lt;tt&gt;hasMajorVersion3Nodes()&lt;/tt&gt; that is called in &lt;tt&gt;Gossiper#applyStateLocally&lt;/tt&gt; improperly returns false. It happens when gossiper is just started and there is no known peers. &lt;a href=&quot;https://github.com/apache/cassandra/commit/195e7d2f9c7a5cbe935f3f7cd38f975f0f48276d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This commit&lt;/a&gt; fixes it. But the change also brings up a concern that in a single node cluster (that runs 4.0), &lt;tt&gt;hasMajorVersion3Nodes()&lt;/tt&gt; always returns true. &lt;br/&gt;
2. In the tests with more than 2 nodes, it is possible the gossip state is received via a third 4.0 node that has removed the STATUS field of its peer already. &lt;/p&gt;

&lt;p&gt;So the change to the &lt;tt&gt;onJoin&lt;/tt&gt; is necessary. Beside correcting the order to handle STATUS* first then the others, a node also avoids double handling the redundant STATUS* fields received. Instead, it only handles either STATUS or STATUS_WITH_PORT.&lt;/p&gt;</comment>
                            <comment id="17369491" author="brandon.williams" created="Fri, 25 Jun 2021 14:13:51 +0000"  >&lt;p&gt;This makes sense to me too.  Thanks for the summary, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yifanc&quot; class=&quot;user-hover&quot; rel=&quot;yifanc&quot;&gt;yifanc&lt;/a&gt;.  I do feel that this special casing in onJoin may need to be repeated elsewhere and may in general be good to always process in this order, but perhaps YAGNI and we can look into a custom comparator later if we do. +1&lt;/p&gt;</comment>
                            <comment id="17369587" author="yifanc" created="Fri, 25 Jun 2021 16:53:15 +0000"  >&lt;p&gt;+1 on the patch. &lt;/p&gt;</comment>
                            <comment id="17369606" author="yifanc" created="Fri, 25 Jun 2021 17:21:14 +0000"  >&lt;p&gt;Starting commit&lt;/p&gt;

&lt;p&gt;CI Results:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Source&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Circle CI&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-4.0.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-cassandra-4.0.0-BCA6D5DB-7312-49A5-B80B-DF81DA5A9AF1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-cassandra-4.0.0-BCA6D5DB-7312-49A5-B80B-DF81DA5A9AF1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/874/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-4.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-cassandra-4.0-6F66B066-B39F-4096-951C-053D52D8BE1D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-cassandra-4.0-6F66B066-B39F-4096-951C-053D52D8BE1D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/873/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-trunk-6F66B066-B39F-4096-951C-053D52D8BE1D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-trunk-6F66B066-B39F-4096-951C-053D52D8BE1D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/view/patches/job/Cassandra-devbranch/872/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#8211; edit &#8211;&lt;br/&gt;
 Both &lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra/241/workflows/d39bedff-be86-42c0-b9a8-75eb356b1ae6/jobs/1496&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Circle&lt;/a&gt; and &lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/874/tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Jenkins&lt;/a&gt; have gossip failures from the upgrade dtest.&lt;/p&gt;</comment>
                            <comment id="17369773" author="yifanc" created="Sat, 26 Jun 2021 00:47:39 +0000"  >&lt;p&gt;Since we do not memorize the Cassandra version when the gossiper is not started or not know others, the node runs the check more frequently. It is possible that the remote peers are not in the live members yet, and the check (&lt;tt&gt;upgradeFromVersionSupplier&lt;/tt&gt;) memorize the wrong lowest version. &lt;br/&gt;
 It causes the upgrade test to fail.&lt;/p&gt;

&lt;p&gt;The check should not only iterate though the live member (i.e., the peers that the node has directly contacted). Instead, it should check all the hosts that the gossiper has heard of.&lt;br/&gt;
 I have put a fix here. &lt;a href=&quot;https://github.com/yifan-c/cassandra/commit/ee2bf298ec427c3283ac04d0ac87b395d50fff6a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/yifan-c/cassandra/commit/ee2bf298ec427c3283ac04d0ac87b395d50fff6a&lt;/a&gt;&lt;br/&gt;
 Running the CI with the new commit: &lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra/242/workflows/02c8a073-67e9-4cf9-abe5-03a8d3a4281e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/yifan-c/cassandra/242/workflows/02c8a073-67e9-4cf9-abe5-03a8d3a4281e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmeredithco&quot; class=&quot;user-hover&quot; rel=&quot;jmeredithco&quot;&gt;jmeredithco&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;, please take a look.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#8211; edit &#8211; &lt;br/&gt;
 Bunch of unit test in &lt;tt&gt;InsertUpdateIfConditionTest&lt;/tt&gt; failed. The cause is the test assertion asserts &quot;4.0.0-rc2-SNAPSHOT&quot; &amp;gt;= &quot;4.0.0&quot;. It is not true according to the compactor defined in &lt;tt&gt;CassandraVersion&lt;/tt&gt;. The prior has preRelease strings, i.e., &quot;rc2, SNAPSHOT&quot; and the latter one does not have it. So the prior version is lower than &quot;4.0.0&quot;. Therefore, &lt;b&gt;it is a test issue.&lt;/b&gt; I updated the test in &lt;a href=&quot;https://github.com/apache/cassandra/commit/929ff35ed7ab02b6770e614332540ad6e08f8a78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this commit&lt;/a&gt;. (How the tests work earlier??!)&lt;/p&gt;</comment>
                            <comment id="17369808" author="yifanc" created="Sat, 26 Jun 2021 05:17:20 +0000"  >&lt;p&gt;Starting CI with the my recent commits.&lt;/p&gt;

&lt;p&gt;CI Results:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Source&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Circle CI&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-4.0.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-cassandra-4.0.0-EE11F5CA-D50A-4497-8ACA-107F76CA86F7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-cassandra-4.0.0-EE11F5CA-D50A-4497-8ACA-107F76CA86F7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/875/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-4.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-cassandra-4.0-EE11F5CA-D50A-4497-8ACA-107F76CA86F7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-cassandra-4.0-EE11F5CA-D50A-4497-8ACA-107F76CA86F7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/876/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16759-trunk-026ECB22-6F8B-4F4C-A937-A992D342F85A&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16759-trunk-026ECB22-6F8B-4F4C-A937-A992D342F85A&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/877/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Both Jenkins and Circle results look good.&lt;/p&gt;</comment>
                            <comment id="17369872" author="brandon.williams" created="Sat, 26 Jun 2021 11:56:26 +0000"  >&lt;p&gt;Your fix looks good, +1.  Not sure what happened with that test, very strange.&lt;/p&gt;</comment>
                            <comment id="17370159" author="yifanc" created="Sun, 27 Jun 2021 05:17:05 +0000"  >&lt;p&gt;Committed into 4.0.0 as &lt;a href=&quot;https://github.com/apache/cassandra/commit/2fba5c80ce7bf71d04c62043ffa1088b9e832d83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2fba5c&lt;/a&gt;, and merged up to 4.0 and to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jmeredithco]]></customfieldvalue>
        <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12984" cascade-level=""><![CDATA[Degradation]]></customfieldvalue>
                                <customfieldvalue key="12998" cascade-level="1"><![CDATA[Other Exception]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12966"><![CDATA[Challenging]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13861"><![CDATA[DTest]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s8a8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
        <customfieldvalue><![CDATA[yifanc]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12349532">4.0-rc1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/2fba5c80ce7bf71d04c62043ffa1088b9e832d83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/2fba5c80ce7bf71d04c62043ffa1088b9e832d83&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;cci run&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>