<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:04:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-11726] IndexOutOfBoundsException when selecting (distinct) row ids from counter table.</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-11726</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I have simple table containing counters:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE tablename (
    object_id ascii,
    counter_id ascii,
    count counter,
    PRIMARY KEY (object_id, counter_id)
) WITH CLUSTERING ORDER BY (counter_id ASC)
    AND bloom_filter_fp_chance = 0.01
    AND caching = {&lt;span class=&quot;code-quote&quot;&gt;&apos;keys&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;ALL&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;rows_per_partition&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NONE&apos;&lt;/span&gt;}
    AND comment = &apos;&apos;
    AND compaction = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;max_threshold&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;32&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;min_threshold&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;4&apos;&lt;/span&gt;}
    AND compression = {&lt;span class=&quot;code-quote&quot;&gt;&apos;enabled&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt;}
    AND crc_check_chance = 1.0
    AND dclocal_read_repair_chance = 0.1
    AND default_time_to_live = 0
    AND gc_grace_seconds = 864000
    AND max_index_interval = 2048
    AND memtable_flush_period_in_ms = 0
    AND min_index_interval = 128
    AND read_repair_chance = 0.0
    AND speculative_retry = &lt;span class=&quot;code-quote&quot;&gt;&apos;99PERCENTILE&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Counters are often inc/decreased, whole rows are queried, deleted sometimes.&lt;/p&gt;

&lt;p&gt;After some time I tried to query all object_ids, but it failed with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cqlsh:woc&amp;gt; consistency quorum;
cqlsh:woc&amp;gt; select object_id from tablename;
ServerError: &amp;lt;ErrorMessage code=0000 [Server error] message=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.IndexOutOfBoundsException&quot;&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;select * from ..., select where .., updates works well..&lt;/p&gt;

&lt;p&gt;With consistency one it works sometimes, so it seems something is broken at one server, but I tried to repair table there and it did not help. &lt;/p&gt;

&lt;p&gt;Whole exception from server log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IndexOutOfBoundsException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at java.nio.Buffer.checkIndex(Buffer.java:546) ~[na:1.8.0_73]
        at java.nio.HeapByteBuffer.getShort(HeapByteBuffer.java:314) ~[na:1.8.0_73]
        at org.apache.cassandra.db.context.CounterContext.headerLength(CounterContext.java:141) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.context.CounterContext.access$100(CounterContext.java:76) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.context.CounterContext$ContextState.&amp;lt;init&amp;gt;(CounterContext.java:758) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.context.CounterContext$ContextState.wrap(CounterContext.java:765) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.context.CounterContext.merge(CounterContext.java:271) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.Conflicts.mergeCounterValues(Conflicts.java:76) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.Cells.reconcile(Cells.java:143) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:591) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:549) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.Row$Merger.merge(Row.java:526) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:473) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:437) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:419) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:279) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:112) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.FilteredRows.isEmpty(FilteredRows.java:30) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.Filter.closeIfEmpty(Filter.java:49) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.Filter.applyToPartition(Filter.java:22) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.Filter.applyToPartition(Filter.java:6) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:76) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.service.StorageProxy$SingleRangeResponse.computeNext(StorageProxy.java:2000) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.service.StorageProxy$SingleRangeResponse.computeNext(StorageProxy.java:1972) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BaseIterator.tryGetMoreContents(BaseIterator.java:113) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BaseIterator.hasMoreContents(BaseIterator.java:81) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:85) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.service.StorageProxy$RangeCommandIterator.computeNext(StorageProxy.java:2041) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.service.StorageProxy$RangeCommandIterator.computeNext(StorageProxy.java:2010) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:72) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.statements.SelectStatement.process(SelectStatement.java:655) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.statements.SelectStatement.processResults(SelectStatement.java:382) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:335) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:209) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:76) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.QueryProcessor.processStatement(QueryProcessor.java:206) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:237) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:222) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.transport.messages.QueryMessage.execute(QueryMessage.java:115) ~[apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:507) [apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:401) [apache-cassandra-3.5.jar:3.5]
        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) [netty-all-4.0.23.Final.jar:4.0.23.Final]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:333) [netty-all-4.0.23.Final.jar:4.0.23.Final]
        at io.netty.channel.AbstractChannelHandlerContext.access$700(AbstractChannelHandlerContext.java:32) [netty-all-4.0.23.Final.jar:4.0.23.Final]
        at io.netty.channel.AbstractChannelHandlerContext$8.run(AbstractChannelHandlerContext.java:324) [netty-all-4.0.23.Final.jar:4.0.23.Final]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_73]
        at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$FutureTask.run(AbstractLocalAwareExecutorService.java:164) [apache-cassandra-3.5.jar:3.5]
        at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105) [apache-cassandra-3.5.jar:3.5]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.8.0_73]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;C* 3.5, cluster of 4 nodes.&lt;/p&gt;</environment>
        <key id="12965537">CASSANDRA-11726</key>
            <summary>IndexOutOfBoundsException when selecting (distinct) row ids from counter table.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="shinigami">Jaroslav Kamenik</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 May 2016 09:09:05 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:33 +0000</updated>
                            <resolved>Tue, 9 Aug 2016 15:45:28 +0000</resolved>
                                        <fixVersion>3.8</fixVersion>
                                    <component>Legacy/Core</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15274214" author="iamaleksey" created="Fri, 6 May 2016 15:33:35 +0000"  >&lt;p&gt;It sounds like corruption to me. Repair would not correct this, but scrub &lt;b&gt;might&lt;/b&gt;. Can you run scrub on the &apos;bad&apos; nodes and get back to us with the result? Thanks.&lt;/p&gt;</comment>
                            <comment id="15276003" author="shinigami" created="Mon, 9 May 2016 06:30:21 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
thank you for the advice, unfortunately it did not help&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; . &lt;/p&gt;</comment>
                            <comment id="15333430" author="shinigami" created="Thu, 16 Jun 2016 09:21:57 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;we have experienced same problem now, at C* 3.7.&lt;/p&gt;

&lt;p&gt;It seems there are others with same problem, look at &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-11812&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="15391081" author="andrewrk" created="Sun, 24 Jul 2016 14:59:22 +0000"  >&lt;p&gt;We are also experiencing this issue since upgrading to Cassandra 3.7 from 2.x.&lt;/p&gt;

&lt;p&gt;We make use of a lot of counter tables, and on 3.7 queries like &quot;SELECT entity_id FROM entity_stats&quot; fail immediately while &quot;SELECT * FROM entity_stats&quot; works fine.&lt;/p&gt;

&lt;p&gt;We are seeing this on four different clusters, all separately upgraded. Dumping the data and recreating the keyspaces from scratch does not help.&lt;/p&gt;

&lt;p&gt;The error reported by cqlsh is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ReadFailure: code=1300 [Replica(s) failed to execute read] message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Operation failed - received 0 responses and 1 failures&quot;&lt;/span&gt; info={&lt;span class=&quot;code-quote&quot;&gt;&apos;failures&apos;&lt;/span&gt;: 1, &lt;span class=&quot;code-quote&quot;&gt;&apos;received_responses&apos;&lt;/span&gt;: 0, &lt;span class=&quot;code-quote&quot;&gt;&apos;required_responses&apos;&lt;/span&gt;: 1, &lt;span class=&quot;code-quote&quot;&gt;&apos;consistency&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;ONE&apos;&lt;/span&gt;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The error in the logs is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;WARN  [SharedPool-Worker-3] 2016-07-24 12:46:13,948 AbstractLocalAwareExecutorService.java:169 - Uncaught exception on thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[SharedPool-Worker-3,5,main]: {}
java.lang.RuntimeException: java.lang.IndexOutOfBoundsException
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2470) ~[apache-cassandra-3.7.jar:3.7]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_92]
        at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$FutureTask.run(AbstractLocalAwareExecutorService.java:164) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$LocalSessionFutureTask.run(AbstractLocalAwareExecutorService.java:136) [apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105) [apache-cassandra-3.7.jar:3.7]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.8.0_92]
Caused by: java.lang.IndexOutOfBoundsException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at java.nio.Buffer.checkIndex(Buffer.java:546) ~[na:1.8.0_92]
        at java.nio.HeapByteBuffer.getShort(HeapByteBuffer.java:314) ~[na:1.8.0_92]
        at org.apache.cassandra.db.context.CounterContext.headerLength(CounterContext.java:141) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext.access$100(CounterContext.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext$ContextState.&amp;lt;init&amp;gt;(CounterContext.java:758) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext$ContextState.wrap(CounterContext.java:765) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext.merge(CounterContext.java:271) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.Conflicts.mergeCounterValues(Conflicts.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Cells.reconcile(Cells.java:143) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:614) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:572) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger.merge(Row.java:549) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:473) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:437) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:419) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:279) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.LazilyInitializedUnfilteredRowIterator.computeNext(LazilyInitializedUnfilteredRowIterator.java:100) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.LazilyInitializedUnfilteredRowIterator.computeNext(LazilyInitializedUnfilteredRowIterator.java:32) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:112) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.UnfilteredRows.isEmpty(UnfilteredRows.java:38) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.partitions.PurgeFunction.applyToPartition(PurgeFunction.java:64) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.partitions.PurgeFunction.applyToPartition(PurgeFunction.java:24) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.partitions.UnfilteredPartitionIterators$Serializer.serialize(UnfilteredPartitionIterators.java:289) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.ReadResponse$LocalDataResponse.build(ReadResponse.java:134) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.ReadResponse$LocalDataResponse.&amp;lt;init&amp;gt;(ReadResponse.java:127) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.ReadResponse$LocalDataResponse.&amp;lt;init&amp;gt;(ReadResponse.java:123) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.ReadResponse.createDataResponse(ReadResponse.java:65) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.ReadCommand.createResponse(ReadCommand.java:292) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$LocalReadRunnable.runMayThrow(StorageProxy.java:1799) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2466) ~[apache-cassandra-3.7.jar:3.7]
        ... 5 common frames omitted&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15397642" author="vonalim" created="Thu, 28 Jul 2016 14:53:47 +0000"  >&lt;p&gt;We are able to reproduce the problem using following scenario:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;5 node cassandra 3.7 cluster&lt;/li&gt;
	&lt;li&gt;data folder empty&lt;/li&gt;
	&lt;li&gt;following cql executed&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE KEYSPACE test WITH REPLICATION = {&apos;class&apos; : &apos;NetworkTopologyStrategy&apos;, &apos;dc1&apos; : 3};

CREATE TABLE IF NOT EXISTS test.t(
        a ascii,
        b ascii,
        c counter,
        PRIMARY KEY(a, b)
) WITH compression = {&apos;sstable_compression&apos; : &apos;&apos;};

TRUNCATE test.t;

UPDATE test.t SET c = c + 1 WHERE a = &apos;a1&apos; AND b = &apos;b1&apos;;
UPDATE test.t SET c = c + 2 WHERE a = &apos;a2&apos; AND b = &apos;b2&apos;;
UPDATE test.t SET c = c + 3 WHERE a = &apos;a3&apos; AND b = &apos;b3&apos;;
UPDATE test.t SET c = c + 4 WHERE a = &apos;a4&apos; AND b = &apos;b4&apos;;
UPDATE test.t SET c = c + 5 WHERE a = &apos;a5&apos; AND b = &apos;b5&apos;;

// restart node

CONSISTENCY ALL;

SELECT * FROM test.t;                   // ok
SELECT a, b, c FROM test.t;             // ok
SELECT a FROM test.t;                   // not ok
SELECT DISTINCT a FROM test.t;          // not ok
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;first cluster node restarted (by kill command and running cassandra binary)&lt;/li&gt;
	&lt;li&gt;when cassandra ready, run queries again (with consistency set to all or quorum)&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CONSISTENCY ALL;

SELECT * FROM test.t;                   // ok
SELECT a, b, c FROM test.t;             // ok
SELECT a FROM test.t;                   // not ok
SELECT DISTINCT a FROM test.t;          // not ok
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;result:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Consistency level set to ALL.

 a  | b  | c
----+----+---
 a4 | b4 | 4
 a5 | b5 | 5
 a3 | b3 | 3
 a2 | b2 | 2
 a1 | b1 | 1

(5 rows)

 a  | b  | c
----+----+---
 a4 | b4 | 4
 a5 | b5 | 5
 a3 | b3 | 3
 a2 | b2 | 2
 a1 | b1 | 1

(5 rows)
test.cql:27:ServerError: &amp;lt;ErrorMessage code=0000 [Server error] message=&quot;java.lang.IndexOutOfBoundsException&quot;&amp;gt;
test.cql:28:ServerError: &amp;lt;ErrorMessage code=0000 [Server error] message=&quot;java.lang.IndexOutOfBoundsException&quot;&amp;gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;as you can see, the last two queries failed. It can be reproduced 100%&lt;/li&gt;
&lt;/ul&gt;




</comment>
                            <comment id="15397693" author="vonalim" created="Thu, 28 Jul 2016 15:36:32 +0000"  >&lt;p&gt;I forgot to post related exception from cassandra debug log:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [SharedPool-Worker-3] 2016-07-28 17:33:18,350 ErrorMessage.java:338 - Unexpected exception during request
java.lang.IndexOutOfBoundsException: null
        at java.nio.Buffer.checkIndex(Buffer.java:546) ~[na:1.8.0_74]
        at java.nio.HeapByteBuffer.getShort(HeapByteBuffer.java:314) ~[na:1.8.0_74]
        at org.apache.cassandra.db.context.CounterContext.headerLength(CounterContext.java:141) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext.access$100(CounterContext.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext$ContextState.&amp;lt;init&amp;gt;(CounterContext.java:758) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext$ContextState.wrap(CounterContext.java:765) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.context.CounterContext.merge(CounterContext.java:272) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.Conflicts.mergeCounterValues(Conflicts.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Cells.reconcile(Cells.java:143) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:614) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger$ColumnDataReducer.getReduced(Row.java:572) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.Row$Merger.merge(Row.java:549) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:473) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator$MergeReducer.getReduced(UnfilteredRowIterators.java:437) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.consume(MergeIterator.java:217) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.MergeIterator$ManyToOne.computeNext(MergeIterator.java:156) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:419) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.rows.UnfilteredRowIterators$UnfilteredRowMergeIterator.computeNext(UnfilteredRowIterators.java:279) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BaseRows.hasNext(BaseRows.java:112) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.FilteredRows.isEmpty(FilteredRows.java:30) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.Filter.closeIfEmpty(Filter.java:49) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.Filter.applyToPartition(Filter.java:22) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.Filter.applyToPartition(Filter.java:6) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:76) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$SingleRangeResponse.computeNext(StorageProxy.java:2000) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$SingleRangeResponse.computeNext(StorageProxy.java:1972) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BaseIterator.tryGetMoreContents(BaseIterator.java:113) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BaseIterator.hasMoreContents(BaseIterator.java:81) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:85) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$RangeCommandIterator.computeNext(StorageProxy.java:2041) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.service.StorageProxy$RangeCommandIterator.computeNext(StorageProxy.java:2010) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.utils.AbstractIterator.hasNext(AbstractIterator.java:47) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.db.transform.BasePartitions.hasNext(BasePartitions.java:72) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.statements.SelectStatement.process(SelectStatement.java:735) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.statements.SelectStatement.processResults(SelectStatement.java:410) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:363) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:237) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.statements.SelectStatement.execute(SelectStatement.java:78) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.QueryProcessor.processStatement(QueryProcessor.java:208) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:239) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.cql3.QueryProcessor.process(QueryProcessor.java:224) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.transport.messages.QueryMessage.execute(QueryMessage.java:115) ~[apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:507) [apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.transport.Message$Dispatcher.channelRead0(Message.java:401) [apache-cassandra-3.7.jar:3.7]
        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) [netty-all-4.0.36.Final.jar:4.0.36.Final]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:292) [netty-all-4.0.36.Final.jar:4.0.36.Final]
        at io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:32) [netty-all-4.0.36.Final.jar:4.0.36.Final]
        at io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:283) [netty-all-4.0.36.Final.jar:4.0.36.Final]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_74]
        at org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService$FutureTask.run(AbstractLocalAwareExecutorService.java:164) [apache-cassandra-3.7.jar:3.7]
        at org.apache.cassandra.concurrent.SEPWorker.run(SEPWorker.java:105) [apache-cassandra-3.7.jar:3.7]
        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_74]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15408057" author="slebresne" created="Thu, 4 Aug 2016 16:26:56 +0000"  >&lt;p&gt;Thanks for the reproduction steps.&lt;/p&gt;

&lt;p&gt;The problem has to do with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt;: we shouldn&apos;t use that optimization for counters as counter merging is unhappy with getting an empty &lt;tt&gt;ByteBuffer&lt;/tt&gt;. I&apos;ve pushed a patch below that make sure we do that, disabling this &quot;skip value&quot; optimization for counters, including a unit test to reproduce.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/11726-3.9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;11726-3.9&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/job/pcmanus-11726-3.9-testall&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/job/pcmanus-11726-3.9-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15409147" author="slebresne" created="Fri, 5 Aug 2016 08:19:18 +0000"  >&lt;p&gt;Fyi, test run looks good (there is a weird dtest bootstrap failure, but the output makes it pretty clear that it&apos;s a test issue, probably due to some stress recent change).&lt;/p&gt;</comment>
                            <comment id="15409416" author="iamaleksey" created="Fri, 5 Aug 2016 13:02:50 +0000"  >&lt;p&gt;I think we can preserve the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; optimisation overall even for counters, with a bit more work, in a follow-up ticket? That said, the patch solves the immediate issue. LGTM.&lt;/p&gt;</comment>
                            <comment id="15409449" author="slebresne" created="Fri, 5 Aug 2016 13:27:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think we can preserve the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; optimisation overall even for counters, with a bit more work, in a follow-up ticket?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, we can make the merge function be happy with empty byte buffers, and it&apos;s not really more work. The only reason I didn&apos;t do that was that during upgrade from 2.x, we&apos;ll have a mix a results with value and other without, and having a merge that return an empty byte buffer if any of it&apos;s argument is one even if one of them isn&apos;t felt possibly a bit dangerous (as in, is there a risk it won&apos;t silently discard stuffs in a case we didn&apos;t intended it?).&lt;/p&gt;

&lt;p&gt;That said, it&apos;s not a very objectively funded fear, and doing that is probably fine. And if we do it, probably worth doing it right now rather than delaying. So I&apos;m attaching an alternative that does that. I don&apos;t have a huge preference over one version or another, so feel free to let me know which one you&apos;re the more happy with. &lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/11726-3.9-alternative&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;11726-3.9-alternative&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/job/pcmanus-11726-3.9-alternative-testall&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/job/pcmanus-11726-3.9-alternative-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15409473" author="iamaleksey" created="Fri, 5 Aug 2016 13:50:57 +0000"  >&lt;p&gt;I do prefer &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; working w/ counters, which is to say the alternative one. +1 conditional on tests passing.&lt;/p&gt;</comment>
                            <comment id="15413748" author="iamaleksey" created="Tue, 9 Aug 2016 15:40:11 +0000"  >&lt;p&gt;LGTM. Committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/ee609411a8e154255812b157788a79bbdf076566&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ee609411a8e154255812b157788a79bbdf076566&lt;/a&gt; to 3.9 and trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12970173">CASSANDRA-11812</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12991414">CASSANDRA-12259</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x95b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12334947">3.5</customfieldvalue>
    <customfieldvalue id="12335693">3.7</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aleksey</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>