<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:22:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3022] Failures in cassandra long test: LongCompactionSpeedTest</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3022</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;b&gt;The failing test case&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Testsuite: org.apache.cassandra.db.compaction.LongCompactionSpeedTest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;b&gt;The following error is repeated in the console output&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] ERROR 04:02:20,654 Error in ThreadPoolExecutor
    [junit] java.util.MissingFormatArgumentException: Format specifier &lt;span class=&quot;code-quote&quot;&gt;&apos;s&apos;&lt;/span&gt;
    [junit] 	at java.util.Formatter.format(Formatter.java:2432)
    [junit] 	at java.util.Formatter.format(Formatter.java:2367)
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:2769)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionController.getCompactedRow(CompactionController.java:136)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionIterator.getReduced(CompactionIterator.java:123)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionIterator.getReduced(CompactionIterator.java:43)
    [junit] 	at org.apache.cassandra.utils.ReducingIterator.computeNext(ReducingIterator.java:74)
    [junit] 	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:140)
    [junit] 	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:135)
    [junit] 	at org.apache.commons.collections.iterators.FilterIterator.setNextObject(FilterIterator.java:183)
    [junit] 	at org.apache.commons.collections.iterators.FilterIterator.hasNext(FilterIterator.java:94)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionManager.doCompactionWithoutSizeEstimation(CompactionManager.java:559)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionManager.doCompaction(CompactionManager.java:506)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionManager$1.call(CompactionManager.java:141)
    [junit] 	at org.apache.cassandra.db.compaction.CompactionManager$1.call(CompactionManager.java:107)
    [junit] 	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    [junit] 	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;*Cassandra Revision List at time of failure&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Summary
* log ks and cf of large rows being compacted patch by Ryan King; reviewed by jbellis &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-3019
* revert r1156772
* cache invalidate removes saved cache files patch by Ed Capriolo; reviewed by jbellis &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2325
* make sure truncate clears out the commitlog patch by jbellis; reviewed by slebresne &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2950
* include column name in validation failure exceptions patch by jbellis; reviewed by David Allsopp &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2849
* fix NPE when encryption_options is unspecified patch by jbellis; reviewed by brandonwilliams &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-3007
* update CHANGES
* update CHANGES

Revision 1156830 by jbellis: 
log ks and cf of large rows being compacted
patch by Ryan King; reviewed by jbellis &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-3019
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/compaction/CompactionController.java

Revision 1156791 by jbellis: 
revert r1156772
	/cassandra/branches/cassandra-0.8/CHANGES.txt
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/ColumnFamilyStore.java

Revision 1156772 by jbellis: 
cache invalidate removes saved cache files
patch by Ed Capriolo; reviewed by jbellis &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2325
	/cassandra/branches/cassandra-0.8/CHANGES.txt
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/ColumnFamilyStore.java

Revision 1156763 by jbellis: 
make sure truncate clears out the commitlog
patch by jbellis; reviewed by slebresne &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2950
	/cassandra/branches/cassandra-0.8/CHANGES.txt
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/SystemTable.java
	/cassandra/branches/cassandra-0.8/test/unit/org/apache/cassandra/db/RecoveryManagerTruncateTest.java
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/commitlog/CommitLog.java
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/ColumnFamilyStore.java

Revision 1156753 by jbellis: 
include column name in validation failure exceptions
patch by jbellis; reviewed by David Allsopp &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-2849
	/cassandra/branches/cassandra-0.8/CHANGES.txt
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/thrift/ThriftValidation.java
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/thrift/CassandraServer.java

Revision 1156749 by jbellis: 
fix NPE when encryption_options is unspecified
patch by jbellis; reviewed by brandonwilliams &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CASSANDRA-3007
	/cassandra/branches/cassandra-0.8/CHANGES.txt
	/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/net/MessagingService.java

Revision 1156695 by jbellis: 
update CHANGES
	/cassandra/branches/cassandra-0.8/CHANGES.txt

Revision 1156694 by jbellis: 
update CHANGES
	/cassandra/branches/cassandra-0.8/CHANGES.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12518732">CASSANDRA-3022</key>
            <summary>Failures in cassandra long test: LongCompactionSpeedTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="cdaw">Cathy Daw</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2011 19:44:14 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:53 +0000</updated>
                            <resolved>Sat, 13 Aug 2011 06:06:10 +0000</resolved>
                                        <fixVersion>0.8.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13084335" author="jbellis" created="Fri, 12 Aug 2011 19:53:43 +0000"  >&lt;p&gt;patch to fix, and provide human-readable keys where possible&lt;/p&gt;</comment>
                            <comment id="13084464" author="cdaw" created="Fri, 12 Aug 2011 23:27:31 +0000"  >&lt;p&gt;The patch fixed the problem.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;-test:
     [echo] running &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; tests
    [junit] WARNING: multiple versions of ant detected in path &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; junit 
    [junit]          jar:file:/usr/share/ant/lib/ant.jar!/org/apache/tools/ant/Project.class
    [junit]      and jar:file:/Users/cathy/dev/cassandra-0.8/build/lib/jars/ant-1.6.5.jar!/org/apache/tools/ant/Project.class
    [junit] Testsuite: org.apache.cassandra.db.LongTableTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 15.548 sec
    [junit] 
    [junit] Testsuite: org.apache.cassandra.db.MeteredFlusherTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 25.154 sec
    [junit] 
    [junit] Testsuite: org.apache.cassandra.db.compaction.LongCompactionSpeedTest
    [junit] Tests run: 6, Failures: 0, Errors: 0, Time elapsed: 82.062 sec
    [junit] 
    [junit] ------------- Standard Output ---------------
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=2 rowsper=1 colsper=200000: 988 ms
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=2 rowsper=200000 colsper=1: 2751 ms
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=100 rowsper=800 colsper=5: 1281 ms
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=2 rowsper=1 colsper=500000: 10034 ms
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=2 rowsper=500000 colsper=1: 13489 ms
    [junit] org.apache.cassandra.db.compaction.LongCompactionSpeedTest: sstables=100 rowsper=1000 colsper=5: 9982 ms
    [junit] ------------- ---------------- ---------------
    [junit] Testsuite: org.apache.cassandra.utils.LongBloomFilterTest
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 65.727 sec
    [junit] 
    [junit] Testsuite: org.apache.cassandra.utils.LongLegacyBloomFilterTest
    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 42.892 sec
    [junit] 

BUILD SUCCESSFUL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13084553" author="jbellis" created="Sat, 13 Aug 2011 06:06:10 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13084722" author="hudson" created="Sat, 13 Aug 2011 22:20:46 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #277 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra-0.8/277/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra-0.8/277/&lt;/a&gt;)&lt;br/&gt;
    fix string formatting bug, and provide human-readable keys where possible&lt;br/&gt;
patch by jbellis; tested by Cathy Daw for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3022&quot; title=&quot;Failures in cassandra long test: LongCompactionSpeedTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3022&quot;&gt;&lt;del&gt;CASSANDRA-3022&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;jbellis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157333&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157333&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/db/compaction/CompactionController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12490282" name="3022.txt" size="1091" author="jbellis" created="Fri, 12 Aug 2011 19:53:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gew7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>cdaw</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[cdaw]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>