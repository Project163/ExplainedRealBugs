<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:40:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5947] Sampling bug in metrics-core-2.0.3.jar used by Cassandra</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5947</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;There is a sampling bug in the version of the metrics library we&apos;re using in Cassandra. See &lt;a href=&quot;https://github.com/codahale/metrics/issues/421&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codahale/metrics/issues/421&lt;/a&gt;. ExponentiallyDecayingSample is used by the Timer&apos;s histogram that is used in stress tool, and according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; it is also in a few other places like the dynamic snitch. The statistical theory involved in this bug goes over my head so i&apos;m not sure if this would bug would meaningfully affect its usage by Cassandra.  One of the comments on the bug mentions that it affects slow sampling rates (10 samples/min was the example given).  We&apos;re currently distributing metrics-core-2.0.3.jar and according to the release nodes, this bug is fixed in 2.1.3: &lt;a href=&quot;http://metrics.codahale.com/about/release-notes/#v2-1-3-aug-06-2012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://metrics.codahale.com/about/release-notes/#v2-1-3-aug-06-2012&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12665816">CASSANDRA-5947</key>
            <summary>Sampling bug in metrics-core-2.0.3.jar used by Cassandra</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yukim">Yuki Morishita</assignee>
                                    <reporter username="jblangston@datastax.com">J.B. Langston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Aug 2013 22:59:03 +0000</created>
                <updated>Tue, 14 Oct 2025 12:13:57 +0000</updated>
                            <resolved>Thu, 19 Sep 2013 05:59:46 +0000</resolved>
                                        <fixVersion>1.2.10</fixVersion>
                    <fixVersion>2.0.1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13755022" author="jbellis" created="Fri, 30 Aug 2013 18:58:32 +0000"  >&lt;p&gt;Upgraded metrics-core to 2.2.0.&lt;/p&gt;</comment>
                            <comment id="13759169" author="cburroughs" created="Thu, 5 Sep 2013 15:42:12 +0000"  >&lt;p&gt;Obligatory &quot;you forget to update build.xml&quot;.&lt;/p&gt;

&lt;p&gt;One thing that might be worth noting is that this introduces annoying &quot;quoting&quot; in jconsole &lt;a href=&quot;https://github.com/codahale/metrics/commit/e2336060816ad339676c0e162359c17381ded99f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codahale/metrics/commit/e2336060816ad339676c0e162359c17381ded99f&lt;/a&gt;  so it&apos;s&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;org.apache.cassandra.metrics&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.cassandra.metrics
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But unless there is some JMX voodoo I&apos;m missing I think that&apos;s just a cosmetic issue.  cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13759181" author="jbellis" created="Thu, 5 Sep 2013 16:05:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;you forget to update build.xml&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;fixed.&lt;/p&gt;</comment>
                            <comment id="13763535" author="ravilr" created="Tue, 10 Sep 2013 21:29:50 +0000"  >&lt;p&gt;Is it just me or anyone else seeing this issue:  all mbean objectNames of org.apache.cassandra.metrics* have double quotes surrounding them after upgrading to metrics-core-2.2.0.jar.  like &quot;org.apache.cassandra.metrics&quot;:type=&quot;DroppedMessage&quot;,scope=&quot;READ&quot;,name=&quot;Dropped&quot;  ?&lt;/p&gt;</comment>
                            <comment id="13763542" author="ravilr" created="Tue, 10 Sep 2013 21:32:24 +0000"  >&lt;p&gt;Screenshot of jconsole showing double quoted object names only for org.apache.cassandra.metrics yammer metrics in cassandra-1.2.10(latest cassandra-1.2 branch) with metrics-core-2.2.0.jar&lt;/p&gt;</comment>
                            <comment id="13763765" author="ravilr" created="Wed, 11 Sep 2013 00:28:55 +0000"  >&lt;p&gt;Sorry, missed Chris&apos;s comment above. If this is going to be the case, can we have the &lt;a href=&quot;http://wiki.apache.org/cassandra/Metrics&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/cassandra/Metrics&lt;/a&gt; and NEWS.txt updated on this change.&lt;/p&gt;</comment>
                            <comment id="13765493" author="JIRAUSER308715" created="Thu, 12 Sep 2013 14:49:50 +0000"  >&lt;p&gt;What jconsole are you running?  The 1.7u21 jconsole doesn&apos;t show the quoting.  As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cburroughs&quot; class=&quot;user-hover&quot; rel=&quot;cburroughs&quot;&gt;cburroughs&lt;/a&gt; said earlier, I think it is just cosmetic either way.&lt;/p&gt;

&lt;p&gt;Edit: Never mind, I see it now, it sorts the quoted one to the top.&lt;/p&gt;</comment>
                            <comment id="13765540" author="yukim" created="Thu, 12 Sep 2013 15:37:52 +0000"  >&lt;p&gt;With this update, I see o.a.c.metrics.ColumnFamily and ThreadPools are unquoted and all others are quoted.&lt;br/&gt;
This is because above those metrics build their own JMX object name instead of auto generating from coda metrics name.&lt;br/&gt;
We can force JMX name as before, and I think we should to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="13771172" author="yukim" created="Wed, 18 Sep 2013 20:05:23 +0000"  >&lt;p&gt;Patch attached to change JMX ObjectName as the same (unquoted) as when we had metrics-core-2.0.3.jar.&lt;/p&gt;</comment>
                            <comment id="13771380" author="jbellis" created="Wed, 18 Sep 2013 23:15:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13771616" author="yukim" created="Thu, 19 Sep 2013 05:59:46 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12603904" name="5947-1.2.txt" size="31813" author="yukim" created="Wed, 18 Sep 2013 20:05:23 +0000"/>
                            <attachment id="12602426" name="Screen Shot 2013-09-10 at 2.23.11 PM.png" size="820941" author="ravilr" created="Tue, 10 Sep 2013 21:32:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nmgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>