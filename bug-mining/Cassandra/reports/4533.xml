<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:05:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-11039] SegFault in Cassandra</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-11039</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;This occurred under quite heavy load.&lt;/p&gt;

&lt;p&gt;Attached is the dump that was spit out by Cassandra, and my cassandra.yaml&lt;/p&gt;

&lt;p&gt;hs_err_1453233896.log:&lt;br/&gt;
&lt;a href=&quot;https://s3-us-west-1.amazonaws.com/channelmeter-misc/hs_err_1453233896.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3-us-west-1.amazonaws.com/channelmeter-misc/hs_err_1453233896.log&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cassandra.yaml&lt;br/&gt;
&lt;a href=&quot;https://s3-us-west-1.amazonaws.com/channelmeter-misc/cassandra.yaml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3-us-west-1.amazonaws.com/channelmeter-misc/cassandra.yaml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Process Options:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -ea -Xms16G -Xmx16G -Xss256k -XX:+UseG1GC -XX:G1RSetUpdatingPauseTimePercent=5 -XX:MaxGCPauseMillis=500 -XX:InitiatingHeapOccupancyPercent=70 -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:StringTableSize=1000003 -XX:+UseTLAB -XX:+ResizeTLAB -XX:+PerfDisableSharedMem -XX:CompileCommandFile=/etc/cassandra/hotspot_compiler -javaagent:/usr/share/cassandra/lib/jamm-0.3.0.jar -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -XX:+HeapDumpOnOutOfMemoryError -Djava.net.preferIPv4Stack=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dcassandra.jmx.local.port=7199 -XX:+DisableExplicitGC -Djava.library.path=/usr/share/cassandra/lib/sigar-bin -Dcassandra.metricsReporterConfigFile=/etc/cassandra-metrics-graphite.yaml -Dcassandra.libjemalloc=- -Dlogback.configurationFile=logback.xml -Dcassandra.logdir=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/log/cassandra -Dcassandra.storagedir=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra -Dcassandra-pidfile=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/run/cassandra/cassandra.pid -cp /etc/cassandra:/usr/share/cassandra/lib/ST4-4.0.8.jar:/usr/share/cassandra/lib/airline-0.6.jar:/usr/share/cassandra/lib/antlr-runtime-3.5.2.jar:/usr/share/cassandra/lib/asm-5.0.4.jar:/usr/share/cassandra/lib/cassandra-driver-core-3.0.0-beta1-bb1bce4-SNAPSHOT-shaded.jar:/usr/share/cassandra/lib/commons-cli-1.1.jar:/usr/share/cassandra/lib/commons-codec-1.2.jar:/usr/share/cassandra/lib/commons-lang3-3.1.jar:/usr/share/cassandra/lib/commons-math3-3.2.jar:/usr/share/cassandra/lib/compress-lzf-0.8.4.jar:/usr/share/cassandra/lib/concurrentlinkedhashmap-lru-1.4.jar:/usr/share/cassandra/lib/disruptor-3.0.1.jar:/usr/share/cassandra/lib/ecj-4.4.2.jar:/usr/share/cassandra/lib/guava-18.0.jar:/usr/share/cassandra/lib/high-scale-lib-1.0.6.jar:/usr/share/cassandra/lib/jackson-core-asl-1.9.2.jar:/usr/share/cassandra/lib/jackson-mapper-asl-1.9.2.jar:/usr/share/cassandra/lib/jamm-0.3.0.jar:/usr/share/cassandra/lib/javax.inject.jar:/usr/share/cassandra/lib/jbcrypt-0.3m.jar:/usr/share/cassandra/lib/jcl-over-slf4j-1.7.7.jar:/usr/share/cassandra/lib/jna-4.0.0.jar:/usr/share/cassandra/lib/joda-time-2.4.jar:/usr/share/cassandra/lib/json-simple-1.1.jar:/usr/share/cassandra/lib/libthrift-0.9.2.jar:/usr/share/cassandra/lib/log4j-over-slf4j-1.7.7.jar:/usr/share/cassandra/lib/logback-classic-1.1.3.jar:/usr/share/cassandra/lib/logback-core-1.1.3.jar:/usr/share/cassandra/lib/lz4-1.3.0.jar:/usr/share/cassandra/lib/metrics-core-3.1.0.jar:/usr/share/cassandra/lib/metrics-core-3.1.2.jar:/usr/share/cassandra/lib/metrics-graphite-2.2.0.jar:/usr/share/cassandra/lib/metrics-graphite-3.1.2.jar:/usr/share/cassandra/lib/metrics-logback-3.1.0.jar:/usr/share/cassandra/lib/netty-all-4.0.23.Final.jar:/usr/share/cassandra/lib/ohc-core-0.4.2.jar:/usr/share/cassandra/lib/ohc-core-j8-0.4.2.jar:/usr/share/cassandra/lib/reporter-config-base-3.0.0.jar:/usr/share/cassandra/lib/reporter-config3-3.0.0.jar:/usr/share/cassandra/lib/sigar-1.6.4.jar:/usr/share/cassandra/lib/slf4j-api-1.7.7.jar:/usr/share/cassandra/lib/snakeyaml-1.11.jar:/usr/share/cassandra/lib/snappy-java-1.1.1.7.jar:/usr/share/cassandra/lib/stream-2.5.2.jar:/usr/share/cassandra/lib/thrift-server-0.3.7.jar:/usr/share/cassandra/apache-cassandra-3.2.jar:/usr/share/cassandra/apache-cassandra-thrift-3.2.jar:/usr/share/cassandra/apache-cassandra.jar:/usr/share/cassandra/stress.jar: -XX:HeapDumpPath=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/java_1453248542.hprof -XX:ErrorFile=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/cassandra/hs_err_1453248542.log org.apache.cassandra.service.CassandraDaemon
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Kernel: Linux cass6 3.13.0-44-generic #73~precise1-Ubuntu SMP Wed Dec 17 00:39:15 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;br/&gt;
OS: Ubuntu 12.04.5 LTS (GNU/Linux 3.13.0-44-generic x86_64)&lt;br/&gt;
JVM: &lt;br/&gt;
  java version &quot;1.8.0_66&quot;&lt;br/&gt;
  Java(TM) SE Runtime Environment (build 1.8.0_66-b17)&lt;br/&gt;
  Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)&lt;/p&gt;</environment>
        <key id="12932587">CASSANDRA-11039</key>
            <summary>SegFault in Cassandra</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tjake">T Jake Luciani</assignee>
                                    <reporter username="nimi">Nimi Wariboko Jr.</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2016 01:27:51 +0000</created>
                <updated>Tue, 14 Oct 2025 12:13:58 +0000</updated>
                            <resolved>Fri, 11 Nov 2016 19:17:58 +0000</resolved>
                                        <fixVersion>3.0.10</fixVersion>
                                    <component>Local/Config</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="15117493" author="benedict" created="Tue, 26 Jan 2016 16:08:47 +0000"  >&lt;p&gt;It looks like you&apos;re running with offheap_buffers, which aren&apos;t supposed to be permitted I don&apos;t think for 3.x yet - it&apos;s a bug that the process doesn&apos;t fail on startup (or, if they are supposed to be supported, that was itself a mistake). &lt;/p&gt;

&lt;p&gt;3.4 should hopefully be reintroducing support for this along with offheap_objects&lt;/p&gt;</comment>
                            <comment id="15117871" author="nimi" created="Tue, 26 Jan 2016 19:59:46 +0000"  >&lt;p&gt;I can confirm offheap_objects is disabled (Cassandra won&apos;t start with this option), but offheap_buffers is still usable (and Cassandra will start and run) with the offheap_buffers in 3.2.&lt;/p&gt;</comment>
                            <comment id="15118303" author="nimi" created="Tue, 26 Jan 2016 23:47:49 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10437&quot; title=&quot;Remove offheap_objects option until 9472 re-introduces them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10437&quot;&gt;&lt;del&gt;CASSANDRA-10437&lt;/del&gt;&lt;/a&gt;, only offheap_objects. offheap_buffers remains supported.&lt;/p&gt;</comment>
                            <comment id="15118946" author="benedict" created="Wed, 27 Jan 2016 09:51:31 +0000"  >&lt;p&gt;Well, that was a mistake/oversight with either &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10437&quot; title=&quot;Remove offheap_objects option until 9472 re-introduces them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10437&quot;&gt;&lt;del&gt;CASSANDRA-10437&lt;/del&gt;&lt;/a&gt; (for not disabling them) or &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8099&quot; title=&quot;Refactor and modernize the storage engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8099&quot;&gt;&lt;del&gt;CASSANDRA-8099&lt;/del&gt;&lt;/a&gt; (for not ensuring they worked); either way I suggest you don&apos;t use them until &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9472&quot; title=&quot;Reintroduce off heap memtables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9472&quot;&gt;&lt;del&gt;CASSANDRA-9472&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15652213" author="JIRAUSER308715" created="Wed, 9 Nov 2016 22:17:28 +0000"  >&lt;p&gt;This was fixed in 3.X with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9472&quot; title=&quot;Reintroduce off heap memtables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9472&quot;&gt;&lt;del&gt;CASSANDRA-9472&lt;/del&gt;&lt;/a&gt;, but is still a problem in 3.0.  We need to dis-allow offheap_buffers in 3.0.&lt;/p&gt;</comment>
                            <comment id="15657497" author="tjake" created="Fri, 11 Nov 2016 16:49:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/tjake/cassandra/tree/CASSANDRA-11039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/job/tjake-CASSANDRA-11039-dtest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/job/tjake-CASSANDRA-11039-testall&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tiny patch. running through the tests to verify no tests try offheap_buffers&lt;/p&gt;</comment>
                            <comment id="15657760" author="mshuler" created="Fri, 11 Nov 2016 18:35:44 +0000"  >&lt;p&gt;`git grep` says we don&apos;t use offheap_buffers anywhere in dtest.&lt;br/&gt;
The testall run looks good (1 error: &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-12818&quot; title=&quot;testall failure in org.apache.cassandra.db.compaction.LongLeveledCompactionStrategyTest.testParallelLeveledCompaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-12818&quot;&gt;&lt;del&gt;CASSANDRA-12818&lt;/del&gt;&lt;/a&gt; is a known timeout). Waiting on dtest run to complete.&lt;/p&gt;</comment>
                            <comment id="15657865" author="mshuler" created="Fri, 11 Nov 2016 19:16:35 +0000"  >&lt;p&gt;+1&lt;br/&gt;
The dtest run looks like known issues, too.&lt;/p&gt;</comment>
                            <comment id="15657869" author="tjake" created="Fri, 11 Nov 2016 19:18:00 +0000"  >&lt;p&gt;committed as &lt;tt&gt;9ce74db48b1e7fb8237d9a3bef1ee035594234dd&lt;/tt&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12832472">CASSANDRA-9472</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rprj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12337349">3.0.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mshuler</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mshuler]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333891">3.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>