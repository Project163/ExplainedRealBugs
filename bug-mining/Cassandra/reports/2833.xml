<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:45:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-6973] timestamp data type does ISO 8601 formats with &apos;Z&apos; as time zone.</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-6973</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The timestamp data type does not support format where time zone is specified with &apos;Z&apos; (as in zulu aka. UTC+0 aka +0000 time zone). Example:&lt;/p&gt;

&lt;p&gt;create table foo(ts timestamp primary key);&lt;br/&gt;
insert into foo(ts) values(&apos;2014-04-01T20:17:35+0000&apos;); &amp;#8211; this works&lt;br/&gt;
cqlsh:test&amp;gt; insert into foo(ts) values(&apos;2014-04-01T20:17:35Z&apos;);&lt;br/&gt;
Bad Request: unable to coerce &apos;2014-04-01T20:17:35Z&apos; to a  formatted date (long)&lt;/p&gt;

&lt;p&gt;The example date was copied directly from ISO 8601 Wikipedia page. The standard says that &quot;If the time is in UTC, add a Z directly after the time without a space. Z is the zone designator for the zero UTC offset.&quot;&lt;/p&gt;

&lt;p&gt;Tested with cqlsh with 2.0.6 version.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706132">CASSANDRA-6973</key>
            <summary>timestamp data type does ISO 8601 formats with &apos;Z&apos; as time zone.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chander">Chander Pechetty</assignee>
                                    <reporter username="garo5">Juho M&#228;kinen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Apr 2014 09:31:00 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:49 +0000</updated>
                            <resolved>Wed, 21 May 2014 15:56:03 +0000</resolved>
                                        <fixVersion>2.0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13957634" author="slebresne" created="Wed, 2 Apr 2014 13:28:13 +0000"  >&lt;p&gt;Hum, I&apos;m not sure at all that&apos;s a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6350&quot; title=&quot;Timestamp-with-timezone type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6350&quot;&gt;&lt;del&gt;CASSANDRA-6350&lt;/del&gt;&lt;/a&gt;. And truth is, this should work since it&apos;s supposed to be one of the recognized pattern in TimestampSerializer.iso8601Patterns. Not sure what&apos;s the problem, but my understanding is that this should work (we certainly pretend to support IS08601 in the doc) and is not really related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6350&quot; title=&quot;Timestamp-with-timezone type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6350&quot;&gt;&lt;del&gt;CASSANDRA-6350&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13982806" author="chander" created="Mon, 28 Apr 2014 07:21:30 +0000"  >&lt;p&gt;The letter &quot;X&quot; is used to specify ISO 8601 time zone from the &lt;br/&gt;
&lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#iso8601timezone&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SimpleDateFormat&lt;/a&gt; javadocs. &lt;br/&gt;
The pattern letter &apos;X&apos; was added in JDK 7 for supporting ISO8601 style time zone format. Replaced the TimestampSerializer ISO8601 pattern &apos;Z&apos; with &apos;X&apos;, and added support for missing patterns.&lt;/p&gt;

&lt;p&gt;&amp;lt;time&amp;gt;Z&lt;br/&gt;
&amp;lt;time&amp;gt;&#177;hh:mm&lt;br/&gt;
&amp;lt;time&amp;gt;&#177;hhmm&lt;br/&gt;
&amp;lt;time&amp;gt;&#177;hh&lt;/p&gt;

&lt;p&gt;This patch by no means covers all the ISO 8601 combinations, but supplements the most frequently used patterns specified in the TimestampSerializer class.&lt;/p&gt;</comment>
                            <comment id="13989541" author="slebresne" created="Mon, 5 May 2014 14:13:25 +0000"  >&lt;p&gt;It does seems like &apos;X&apos; is the right thing to do, but won&apos;t removing the patterns with a &apos;Z&apos; make use refuse date strings (non-ISO 8601 ones) that we use to accept. Also, why do we need a parttern with 1 &apos;X&apos; and one with 3 &apos;X&apos; but not, say, with 2 &apos;X&apos; (if that&apos;s specified by SimpleDateFormat, this has escaped me)?&lt;/p&gt;

&lt;p&gt;But as a side note, I really wish we weren&apos;t doing all this manually. And/or that we had unit tests for it. &lt;/p&gt;</comment>
                            <comment id="13991617" author="chander" created="Wed, 7 May 2014 07:07:47 +0000"  >&lt;p&gt;Good catch on missing non-ISO by removing Z.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Z was only supporting RFC 822  timezone (-0800).&lt;/li&gt;
	&lt;li&gt;the pattern with two X will cover the RFC 822 which takes care of removing Z. patch v2 takes care of this&lt;/li&gt;
	&lt;li&gt;pattern with single X covers this ticket (Z as well as -08)&lt;/li&gt;
	&lt;li&gt;the pattern XXX handles -08:00&lt;/li&gt;
	&lt;li&gt;With the one, two and three letter patterns we complete all the 4 timezone designators for 8601 I stated earlier in the ticket&lt;/li&gt;
	&lt;li&gt;did have a test program, moved that into a unit test and uploaded as a separate patch.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;On another note maybe its a good idea to rename the iso8601Patterns in TimestampSerializer to something like casTimestampPatterns which cover both iso and non-ISO dates. what do you think ?&lt;/p&gt;</comment>
                            <comment id="13994820" author="chander" created="Mon, 12 May 2014 05:22:52 +0000"  >&lt;p&gt;patch v2 has the updated unit test to print all un-parsed dates instead of one date per a single run.&lt;/p&gt;</comment>
                            <comment id="14004812" author="slebresne" created="Wed, 21 May 2014 15:56:03 +0000"  >&lt;p&gt;Ok, sorry for the delay, last patch lgtm so committed, thanks.&lt;/p&gt;

&lt;p&gt;I committed this to 2.0 since it&apos;s kind of a bug (in the sense that we state that we support iso8601 in the doc)&lt;/p&gt;</comment>
                            <comment id="14607876" author="thoslin" created="Tue, 30 Jun 2015 07:33:44 +0000"  >&lt;p&gt;I&apos;m seeing following error after upgrading to 2.0.9:&lt;/p&gt;

&lt;p&gt;cqlsh:polaris&amp;gt; insert into some_cf (user_id, date) values (&apos;test_user_id&apos;, &apos;2015-12-12 23:59:59  UTC&apos;);&lt;br/&gt;
InvalidRequest: code=2200 &lt;span class=&quot;error&quot;&gt;&amp;#91;Invalid query&amp;#93;&lt;/span&gt; message=&quot;unable to coerce &apos;2015-12-12 23:59:59  UTC&apos; to a  formatted date (long)&quot;&lt;/p&gt;

&lt;p&gt;Looks like the new code can&apos;t parse timestamp with timezone name. I&apos;m not sure whether this is a bug or not, but the query used to work in all versions before 2.0.9.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12679344">CASSANDRA-6350</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12642197" name="trunk-6973.txt" size="1586" author="chander" created="Mon, 28 Apr 2014 07:21:30 +0000"/>
                            <attachment id="12643711" name="trunk-6973_unittest.txt" size="2624" author="chander" created="Wed, 7 May 2014 07:07:47 +0000"/>
                            <attachment id="12644374" name="trunk-6973_unittest_v2.txt" size="2845" author="chander" created="Mon, 12 May 2014 05:22:52 +0000"/>
                            <attachment id="12643710" name="trunk-6973_v2.txt" size="1851" author="chander" created="Wed, 7 May 2014 07:07:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[chander]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u8ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>