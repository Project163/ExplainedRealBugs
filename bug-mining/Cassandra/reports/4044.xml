<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:00:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10743] Failed upgradesstables (upgrade from 2.2.2 to 3.0.0)</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10743</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@dc01-rack01-cass01 ~]$ /home/cassandra/dsc-cassandra-3.0.0/bin/nodetool upgradesstables
error: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
-- StackTrace --
java.lang.UnsupportedOperationException
        at org.apache.cassandra.db.rows.CellPath$EmptyCellPath.get(CellPath.java:143)
        at org.apache.cassandra.db.marshal.CollectionType$CollectionPathSerializer.serializedSize(CollectionType.java:226)
        at org.apache.cassandra.db.rows.BufferCell$Serializer.serializedSize(BufferCell.java:325)
        at org.apache.cassandra.db.rows.UnfilteredSerializer.sizeOfComplexColumn(UnfilteredSerializer.java:297)
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serializedRowBodySize(UnfilteredSerializer.java:282)
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:163)
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:108)
        at org.apache.cassandra.db.ColumnIndex$Builder.add(ColumnIndex.java:144)
        at org.apache.cassandra.db.ColumnIndex$Builder.build(ColumnIndex.java:112)
        at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:52)
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149)
        at org.apache.cassandra.io.sstable.SSTableRewriter.append(SSTableRewriter.java:121)
        at org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter.realAppend(DefaultCompactionWriter.java:57)
        at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.append(CompactionAwareWriter.java:110)
        at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:182)
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)
        at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:78)
        at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:60)
        at org.apache.cassandra.db.compaction.CompactionManager$5.execute(CompactionManager.java:397)
        at org.apache.cassandra.db.compaction.CompactionManager$2.call(CompactionManager.java:292)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;CentOS Linux release 7.1.1503, OpenJDK Runtime Environment (build 1.8.0_65-b17), DSC Cassandra 3.0.0 (tar.gz)&lt;/p&gt;</environment>
        <key id="12914919">CASSANDRA-10743</key>
            <summary>Failed upgradesstables (upgrade from 2.2.2 to 3.0.0)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="gabor.auth">G&#225;bor Auth</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Nov 2015 17:16:57 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:49 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 13:19:24 +0000</resolved>
                                        <fixVersion>3.0.3</fixVersion>
                    <fixVersion>3.3</fixVersion>
                                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15018402" author="mshuler" created="Fri, 20 Nov 2015 17:45:10 +0000"  >&lt;p&gt;Could you please attach the system.log snippet around when you run this - schema on the table that shows up in the log might be helpful, too.&lt;/p&gt;</comment>
                            <comment id="15018405" author="mshuler" created="Fri, 20 Nov 2015 17:45:48 +0000"  >&lt;p&gt;&lt;del&gt;What version are you upgrading from?&lt;/del&gt; scratch that.. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15018453" author="gabor.auth" created="Fri, 20 Nov 2015 18:20:11 +0000"  >&lt;p&gt;The system.log shows the same exception and I don&apos;t know the keyspace and the table...&lt;/p&gt;

&lt;p&gt;Hm... I&apos;ve found an another exception on the next node:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@dc01-rack01-cass02 ~]$ /home/cassandra/dsc-cassandra-3.0.0/bin/nodetool upgradesstables
error: length is not &amp;gt; 0: 0
-- StackTrace --
java.lang.AssertionError: length is not &amp;gt; 0: 0
        at org.apache.cassandra.utils.ByteBufferUtil.readBytes(ByteBufferUtil.java:408)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:93)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:73)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:123)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:94)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:102)
        at org.apache.cassandra.io.sstable.format.SSTableReader.getApproximateKeyCount(SSTableReader.java:256)
        at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.&amp;lt;init&amp;gt;(CompactionAwareWriter.java:62)
        at org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter.&amp;lt;init&amp;gt;(DefaultCompactionWriter.java:51)
        at org.apache.cassandra.db.compaction.CompactionTask.getCompactionAwareWriter(CompactionTask.java:233)
        at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:174)
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)
        at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:78)
        at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:60)
        at org.apache.cassandra.db.compaction.CompactionManager$5.execute(CompactionManager.java:397)
        at org.apache.cassandra.db.compaction.CompactionManager$2.call(CompactionManager.java:292)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15018461" author="gabor.auth" created="Fri, 20 Nov 2015 18:24:06 +0000"  >&lt;p&gt;I&apos;ve tried to run my &quot;upgrade&quot; script on every node in the cluster node-by-node:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool upgradesstables
/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool compact
/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool scrub
/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool cleanup
/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool clearsnapshot
/home/cassandra/dsc-cassandra-3.0.0/bin/nodetool repair -full -pr
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15018516" author="gabor.auth" created="Fri, 20 Nov 2015 18:54:56 +0000"  >&lt;p&gt;Hm... it comes during a simple startup too:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  [main] 2015-11-20 18:49:37,671 StorageService.java:586 - Cassandra version: 3.0.0
INFO  [main] 2015-11-20 18:49:37,671 StorageService.java:587 - Thrift API version: 20.1.0
INFO  [main] 2015-11-20 18:49:37,671 StorageService.java:588 - CQL supported versions: 3.3.1 (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: 3.3.1)
INFO  [main] 2015-11-20 18:49:37,890 IndexSummaryManager.java:94 - Initializing index summary manager with a memory pool size of 45 MB and a resize interval of 60 minutes
ERROR [CompactionExecutor:2] 2015-11-20 18:49:37,894 CassandraDaemon.java:195 - Exception in thread &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[CompactionExecutor:2,1,main]
java.lang.UnsupportedOperationException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.cassandra.db.rows.CellPath$EmptyCellPath.get(CellPath.java:143) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.marshal.CollectionType$CollectionPathSerializer.serializedSize(CollectionType.java:226) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.rows.BufferCell$Serializer.serializedSize(BufferCell.java:325) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.rows.UnfilteredSerializer.sizeOfComplexColumn(UnfilteredSerializer.java:297) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serializedRowBodySize(UnfilteredSerializer.java:282) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:163) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:108) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.ColumnIndex$Builder.add(ColumnIndex.java:144) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.ColumnIndex$Builder.build(ColumnIndex.java:112) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:52) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.io.sstable.SSTableRewriter.append(SSTableRewriter.java:121) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter.realAppend(DefaultCompactionWriter.java:57) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.append(CompactionAwareWriter.java:110) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:182) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:78) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:60) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at org.apache.cassandra.db.compaction.CompactionManager$BackgroundCompactionCandidate.run(CompactionManager.java:252) ~[apache-cassandra-3.0.0.jar:3.0.0]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_65]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_65]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_65]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_65]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.8.0_65]
INFO  [main] 2015-11-20 18:49:37,905 StorageService.java:607 - Loading persisted ring state
INFO  [main] 2015-11-20 18:49:37,928 StorageService.java:790 - Starting up server gossip
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15018895" author="nutbunnies" created="Fri, 20 Nov 2015 22:08:07 +0000"  >&lt;p&gt;Would it be possible to get the full schema?   I can attempt to narrow it down to find the problem one(s).   You can get the full schema via &lt;tt&gt;cqlsh&lt;/tt&gt; ex: &lt;tt&gt;echo -e &quot;desc schema\n&quot; | cqlsh &amp;gt; schema.ddl&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15018905" author="gabor.auth" created="Fri, 20 Nov 2015 22:12:33 +0000"  >&lt;p&gt;Attached.&lt;/p&gt;</comment>
                            <comment id="15018996" author="gabor.auth" created="Fri, 20 Nov 2015 22:57:13 +0000"  >&lt;p&gt;Hmm... as I see, the issue is not DDL specific, I&apos;ve found old (2.x?) &apos;la-*&apos; files in some folder of tables which failed during the upgrade:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@dc01-rack01-cass02 workqueueitems_by_city-9873aa1082c611e48defa5ddfeca06b6]$ ls -l
total 80
drwxr-xr-x 2 cassandra cassandra 4096 Oct 12 14:12 backups
-rw-r--r-- 4 cassandra cassandra   43 Nov 19 22:55 la-1542-big-CompressionInfo.db
-rw-r--r-- 4 cassandra cassandra  156 Nov 19 22:55 la-1542-big-Data.db
-rw-r--r-- 4 cassandra cassandra   10 Nov 19 22:55 la-1542-big-Digest.adler32
-rw-r--r-- 4 cassandra cassandra  176 Nov 19 22:55 la-1542-big-Filter.db
-rw-r--r-- 4 cassandra cassandra   60 Nov 19 22:55 la-1542-big-Index.db
-rw-r--r-- 4 cassandra cassandra 4470 Nov 20 20:23 la-1542-big-Statistics.db
-rw-r--r-- 4 cassandra cassandra  120 Nov 19 22:55 la-1542-big-Summary.db
-rw-r--r-- 4 cassandra cassandra   94 Nov 19 22:55 la-1542-big-TOC.txt
-rw-r--r-- 1 cassandra cassandra   51 Nov 20 22:48 ma-1562-big-CompressionInfo.db
-rw-r--r-- 1 cassandra cassandra 1114 Nov 20 22:48 ma-1562-big-Data.db
-rw-r--r-- 1 cassandra cassandra   10 Nov 20 22:48 ma-1562-big-Digest.crc32
-rw-r--r-- 1 cassandra cassandra  176 Nov 20 22:48 ma-1562-big-Filter.db
-rw-r--r-- 1 cassandra cassandra  481 Nov 20 22:48 ma-1562-big-Index.db
-rw-r--r-- 1 cassandra cassandra 4682 Nov 20 22:48 ma-1562-big-Statistics.db
-rw-r--r-- 1 cassandra cassandra   92 Nov 20 22:48 ma-1562-big-Summary.db
-rw-r--r-- 1 cassandra cassandra   92 Nov 20 22:48 ma-1562-big-TOC.txt
drwxr-xr-x 5 cassandra cassandra 4096 Nov 20 22:48 snapshots
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This table throw an excepcion during scrub/upgradesstables/etc:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@dc01-rack01-cass02 ~]$ /home/cassandra/dsc-cassandra-3.0.0/bin/nodetool upgradesstables gacivstest20141213 workqueueitems_by_city
error: length is not &amp;gt; 0: 0
-- StackTrace --
java.lang.AssertionError: length is not &amp;gt; 0: 0
        at org.apache.cassandra.utils.ByteBufferUtil.readBytes(ByteBufferUtil.java:408)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:93)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:73)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:123)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:94)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:102)
        at org.apache.cassandra.io.sstable.format.SSTableReader.getApproximateKeyCount(SSTableReader.java:256)
        at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.&amp;lt;init&amp;gt;(CompactionAwareWriter.java:62)
        at org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter.&amp;lt;init&amp;gt;(DefaultCompactionWriter.java:51)
        at org.apache.cassandra.db.compaction.CompactionTask.getCompactionAwareWriter(CompactionTask.java:233)
        at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:174)
        at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)
        at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:78)
        at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:60)
        at org.apache.cassandra.db.compaction.CompactionManager$5.execute(CompactionManager.java:397)
        at org.apache.cassandra.db.compaction.CompactionManager$2.call(CompactionManager.java:292)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15020317" author="gabor.auth" created="Sat, 21 Nov 2015 07:59:31 +0000"  >&lt;p&gt;I&apos;ve tried to upgrade with the sstableupgrade tool:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@dc01-rack01-cass02 ~]$ /home/cassandra/dsc-cassandra-3.0.0/bin/sstableupgrade gacivstest20141213 workqueueitems_by_city
WARN  07:46:30 Only 39708 MB free across all data volumes. Consider adding more capacity to your cluster or removing obsolete snapshots
Found 1 sstables that need upgrading.
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.AssertionError: length is not &amp;gt; 0: 0
        at org.apache.cassandra.utils.ByteBufferUtil.readBytes(ByteBufferUtil.java:408)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:93)
        at org.apache.cassandra.io.sstable.metadata.CompactionMetadata$CompactionMetadataSerializer.deserialize(CompactionMetadata.java:73)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:123)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:94)
        at org.apache.cassandra.io.sstable.metadata.MetadataSerializer.deserialize(MetadataSerializer.java:102)
        at org.apache.cassandra.io.sstable.format.SSTableReader.getApproximateKeyCount(SSTableReader.java:256)
        at org.apache.cassandra.db.compaction.Upgrader.&amp;lt;init&amp;gt;(Upgrader.java:63)
        at org.apache.cassandra.tools.StandaloneUpgrader.main(StandaloneUpgrader.java:107)
WARN  07:46:33 Failed trySkipCache on file: dsc-cassandra-3.0.0/bin/../data/data/gacivstest20141213/workqueueitems_by_city-9873aa1082c611e48defa5ddfeca06b6/la-1542-big-Data.db Error: Bad file descriptor
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15020583" author="gabor.auth" created="Sat, 21 Nov 2015 17:50:10 +0000"  >&lt;p&gt;I&apos;ve removed some (2-3 fileset per node) files (like the attached fileset) and the `nodetool upgradesstables` converted all files (la-&amp;#42;) to the new format (ma-&amp;#42;). The question is: what is these empty files and the version 2.2.2 why works? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15020584" author="gabor.auth" created="Sat, 21 Nov 2015 17:51:00 +0000"  >&lt;p&gt;I&apos;ve removed the schema.ddl.gz, it is not DDL specific issue.&lt;/p&gt;</comment>
                            <comment id="15041313" author="krummas" created="Fri, 4 Dec 2015 09:09:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gabor.auth&quot; class=&quot;user-hover&quot; rel=&quot;gabor.auth&quot;&gt;gabor.auth&lt;/a&gt; We need the schema to be able to reproduce with your sstables&lt;/p&gt;</comment>
                            <comment id="15060059" author="tomas0413" created="Wed, 16 Dec 2015 14:39:10 +0000"  >&lt;p&gt;Hello, sorry to hijack this thread, but I also experience same or similar problem when I run &quot;nodetool upgradesstables&quot;. After upgrade from 2.2.1 to 3.1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# nodetool upgradesstables
error: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
-- StackTrace --
java.lang.UnsupportedOperationException
	at org.apache.cassandra.db.rows.CellPath$EmptyCellPath.get(CellPath.java:143)
	at org.apache.cassandra.db.marshal.CollectionType$CollectionPathSerializer.serializedSize(CollectionType.java:226)
	at org.apache.cassandra.db.rows.BufferCell$Serializer.serializedSize(BufferCell.java:325)
	at org.apache.cassandra.db.rows.UnfilteredSerializer.sizeOfComplexColumn(UnfilteredSerializer.java:297)
	at org.apache.cassandra.db.rows.UnfilteredSerializer.serializedRowBodySize(UnfilteredSerializer.java:282)
	at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:163)
	at org.apache.cassandra.db.rows.UnfilteredSerializer.serialize(UnfilteredSerializer.java:108)
	at org.apache.cassandra.db.ColumnIndex$Builder.add(ColumnIndex.java:144)
	at org.apache.cassandra.db.ColumnIndex$Builder.build(ColumnIndex.java:112)
	at org.apache.cassandra.db.ColumnIndex.writeAndBuildIndex(ColumnIndex.java:52)
	at org.apache.cassandra.io.sstable.format.big.BigTableWriter.append(BigTableWriter.java:149)
	at org.apache.cassandra.io.sstable.SSTableRewriter.append(SSTableRewriter.java:118)
	at org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter.realAppend(DefaultCompactionWriter.java:57)
	at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.append(CompactionAwareWriter.java:110)
	at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:182)
	at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28)
	at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:78)
	at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:60)
	at org.apache.cassandra.db.compaction.CompactionManager$5.execute(CompactionManager.java:398)
	at org.apache.cassandra.db.compaction.CompactionManager$2.call(CompactionManager.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15060069" author="krummas" created="Wed, 16 Dec 2015 14:45:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomas0413&quot; class=&quot;user-hover&quot; rel=&quot;tomas0413&quot;&gt;tomas0413&lt;/a&gt; could you post schema and a bad sstable?&lt;/p&gt;</comment>
                            <comment id="15060089" author="tomas0413" created="Wed, 16 Dec 2015 14:58:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt; I just attached, schema.ddl file, but how can I find which stable is bad?&lt;/p&gt;</comment>
                            <comment id="15082864" author="tomas0413" created="Tue, 5 Jan 2016 11:17:40 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krummas&quot; class=&quot;user-hover&quot; rel=&quot;krummas&quot;&gt;krummas&lt;/a&gt;, were you able to have a look at schema.ddl?&lt;/p&gt;</comment>
                            <comment id="15085523" author="elijah.epifanov@gmail.com" created="Wed, 6 Jan 2016 13:28:18 +0000"  >&lt;p&gt;for me it&apos;s system_distributed keyspace which errs out.&lt;/p&gt;

&lt;p&gt;It&apos;s DDL:&lt;/p&gt;

&lt;p&gt;CREATE KEYSPACE system_distributed WITH replication = &lt;/p&gt;
{&apos;class&apos;: &apos;NetworkTopologyStrategy&apos;, &apos;leaseweb&apos;: &apos;3&apos;}
&lt;p&gt;  AND durable_writes = true;&lt;/p&gt;

&lt;p&gt;CREATE TABLE system_distributed.repair_history (&lt;br/&gt;
    keyspace_name text,&lt;br/&gt;
    columnfamily_name text,&lt;br/&gt;
    id timeuuid,&lt;br/&gt;
    coordinator inet,&lt;br/&gt;
    exception_message text,&lt;br/&gt;
    exception_stacktrace text,&lt;br/&gt;
    finished_at timestamp,&lt;br/&gt;
    parent_id timeuuid,&lt;br/&gt;
    participants set&amp;lt;inet&amp;gt;,&lt;br/&gt;
    range_begin text,&lt;br/&gt;
    range_end text,&lt;br/&gt;
    started_at timestamp,&lt;br/&gt;
    status text,&lt;br/&gt;
    PRIMARY KEY ((keyspace_name, columnfamily_name), id)&lt;br/&gt;
) WITH CLUSTERING ORDER BY (id ASC)&lt;br/&gt;
    AND bloom_filter_fp_chance = 0.01&lt;br/&gt;
    AND caching = &lt;/p&gt;
{&apos;keys&apos;: &apos;ALL&apos;, &apos;rows_per_partition&apos;: &apos;NONE&apos;}
&lt;p&gt;    AND comment = &apos;Repair history&apos;&lt;br/&gt;
    AND compaction = &lt;/p&gt;
{&apos;class&apos;: &apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;, &apos;max_threshold&apos;: &apos;32&apos;, &apos;min_threshold&apos;: &apos;4&apos;}
&lt;p&gt;    AND compression = &lt;/p&gt;
{&apos;chunk_length_in_kb&apos;: &apos;64&apos;, &apos;class&apos;: &apos;org.apache.cassandra.io.compress.LZ4Compressor&apos;}
&lt;p&gt;    AND crc_check_chance = 1.0&lt;br/&gt;
    AND dclocal_read_repair_chance = 0.0&lt;br/&gt;
    AND default_time_to_live = 0&lt;br/&gt;
    AND gc_grace_seconds = 0&lt;br/&gt;
    AND max_index_interval = 2048&lt;br/&gt;
    AND memtable_flush_period_in_ms = 3600000&lt;br/&gt;
    AND min_index_interval = 128&lt;br/&gt;
    AND read_repair_chance = 0.0&lt;br/&gt;
    AND speculative_retry = &apos;99PERCENTILE&apos;;&lt;/p&gt;

&lt;p&gt;CREATE TABLE system_distributed.parent_repair_history (&lt;br/&gt;
    parent_id timeuuid PRIMARY KEY,&lt;br/&gt;
    columnfamily_names set&amp;lt;text&amp;gt;,&lt;br/&gt;
    exception_message text,&lt;br/&gt;
    exception_stacktrace text,&lt;br/&gt;
    finished_at timestamp,&lt;br/&gt;
    keyspace_name text,&lt;br/&gt;
    requested_ranges set&amp;lt;text&amp;gt;,&lt;br/&gt;
    started_at timestamp,&lt;br/&gt;
    successful_ranges set&amp;lt;text&amp;gt;&lt;br/&gt;
) WITH bloom_filter_fp_chance = 0.01&lt;br/&gt;
    AND caching = &lt;/p&gt;
{&apos;keys&apos;: &apos;ALL&apos;, &apos;rows_per_partition&apos;: &apos;NONE&apos;}
&lt;p&gt;    AND comment = &apos;Repair history&apos;&lt;br/&gt;
    AND compaction = &lt;/p&gt;
{&apos;class&apos;: &apos;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&apos;, &apos;max_threshold&apos;: &apos;32&apos;, &apos;min_threshold&apos;: &apos;4&apos;}
&lt;p&gt;    AND compression = &lt;/p&gt;
{&apos;chunk_length_in_kb&apos;: &apos;64&apos;, &apos;class&apos;: &apos;org.apache.cassandra.io.compress.LZ4Compressor&apos;}
&lt;p&gt;    AND crc_check_chance = 1.0&lt;br/&gt;
    AND dclocal_read_repair_chance = 0.0&lt;br/&gt;
    AND default_time_to_live = 0&lt;br/&gt;
    AND gc_grace_seconds = 0&lt;br/&gt;
    AND max_index_interval = 2048&lt;br/&gt;
    AND memtable_flush_period_in_ms = 3600000&lt;br/&gt;
    AND min_index_interval = 128&lt;br/&gt;
    AND read_repair_chance = 0.0&lt;br/&gt;
    AND speculative_retry = &apos;99PERCENTILE&apos;;&lt;/p&gt;</comment>
                            <comment id="15089224" author="slebresne" created="Fri, 8 Jan 2016 13:59:31 +0000"  >&lt;p&gt;The stack trace says that a &lt;tt&gt;CellPath.EmptyCellPath&lt;/tt&gt; is used in some cell when we try to write a compaction result. This should not happen as &lt;tt&gt;EmptyCellPath&lt;/tt&gt; is not a proper &lt;tt&gt;CellPath&lt;/tt&gt; and is only meant for searching.  &lt;tt&gt;EmptyCellPath&lt;/tt&gt; happens to be used in only places in the code: # in thrift code, for some super-columns queries (this was why it was introduced).  # in &lt;tt&gt;BTreeRow.Builder&lt;/tt&gt; in some &quot;hack&quot; to deal with complex deletions.&lt;/p&gt;

&lt;p&gt;In the first case, the thrift one, it&apos;s clearly used for querying and cannot be the reason for the stack trace, which leaves the 2nd case. &lt;tt&gt;BTreeRow.Builder&lt;/tt&gt; temporarily use a fake cell (since &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9888&quot; title=&quot;BTreeBackedRow and ComplexColumnData&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9888&quot;&gt;&lt;del&gt;CASSANDRA-9888&lt;/del&gt;&lt;/a&gt;) to represent complex deletions and replace those fake cells when building the final &lt;tt&gt;Row&lt;/tt&gt;. As such, the problem almost surely comes from this place as if one of those fake cell ends up not being replaced, we&apos;d exactly get the problem we have here.  Now, the code basically makes an assumption for users of &lt;tt&gt;BTreeRow.Builder&lt;/tt&gt; that they won&apos;t call the &lt;tt&gt;addComplexDeletion&lt;/tt&gt; method for the same column multiple time. Except that, while this is almost always true, this is not a documented assumption of &lt;tt&gt;Row.Builder&lt;/tt&gt; and the code to read old sstable doesn&apos;t abides to it (I think).&lt;/p&gt;

&lt;p&gt;I suppose we could theoretically make this an assumption of &lt;tt&gt;Row.Builder&lt;/tt&gt; and change the code to read legacy sstables, but it is a lot simpler to have the builder simply handle this properly and it makes for a more flexible/less error prone API for the builder imo. So I&apos;ve pushed a (pretty simple) patch &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/10743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; to do so.&lt;/p&gt;

&lt;p&gt;I haven&apos;t actually reproduced this yet so I&apos;ll now try to write a dtest to validate that this can indeed happen, but I&apos;m relatively confident this is the problem and it&apos;s a good change to have in any case imo so review can be started concurrently from me writing the test.&lt;/p&gt;</comment>
                            <comment id="15091966" author="slebresne" created="Mon, 11 Jan 2016 14:25:28 +0000"  >&lt;p&gt;I&apos;ve been able to reproduce this with the dtest &lt;a href=&quot;https://github.com/pcmanus/cassandra-dtest/commit/060aa6d0e6383373f7515ed726769a801d21e5f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. Basically, this happens when a sstable index block finish in the middle of a collection tombstone. Unfortunately, that dtest is part of my local branch that was supposed to be merged to the dtests in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10563&quot; title=&quot;Integrate new upgrade test into dtest upgrade suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10563&quot;&gt;&lt;del&gt;CASSANDRA-10563&lt;/del&gt;&lt;/a&gt; but that hasn&apos;t happen yet to the best of my knowledge. I have verified however that 1) this reproduce the problem when upgrading from 2.1 everytime on the current 3.0 branch and 2) this work properly with the attached patches:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; patch &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; utests &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; dtests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/10743-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-3.0-testall/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-3.0-dtest/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/10743-3.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.3&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-3.3-testall/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-3.3-dtest/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/pcmanus/cassandra/commits/10743-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-trunk-testall/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/pcmanus/job/pcmanus-10743-trunk-dtest/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtests&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I&apos;ve just re-started the tests on all branches (in part because I just rebased) but had a successful run for the 3.0 branch of the patch so I think we&apos;re good here.&lt;/p&gt;</comment>
                            <comment id="15092055" author="benedict" created="Mon, 11 Jan 2016 15:14:56 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="15092072" author="tomas0413" created="Mon, 11 Jan 2016 15:19:09 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slebresne&quot; class=&quot;user-hover&quot; rel=&quot;slebresne&quot;&gt;slebresne&lt;/a&gt;. Will the patch be available in 3.1.2? We currently run 3.1.0, but without &quot;nodetool upgradesstables&quot;. I&apos;d like to upgrade 3.1.0 to the latest 3.1.x and then run  &quot;nodetool upgradesstables&quot;.&lt;/p&gt;</comment>
                            <comment id="15092112" author="slebresne" created="Mon, 11 Jan 2016 15:25:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Will the patch be available in 3.1.2?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There won&apos;t be such a version, but basically the patch should be available in 3.0.3 and 3.3 (but not 3.2 because it&apos;s about to be released). But anyway, that bug is actually not specific to &lt;tt&gt;nodetool upgradesstables&lt;/tt&gt;: you can run into it through simple compaction (which is what the dtest does) or even a read, and if you haven&apos;t run into it yet, it might just be that you have no sstable that exhibit the condition to trigger it.&lt;/p&gt;</comment>
                            <comment id="15092118" author="gabor.auth" created="Mon, 11 Jan 2016 15:28:37 +0000"  >&lt;p&gt;Thank you! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15093859" author="slebresne" created="Tue, 12 Jan 2016 13:19:24 +0000"  >&lt;p&gt;Committed, thanks.&lt;/p&gt;</comment>
                            <comment id="15095853" author="gabor.auth" created="Wed, 13 Jan 2016 09:09:39 +0000"  >&lt;p&gt;What is the planned release date of the 3.0.3 version? &#65532;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15108458" author="tomas0413" created="Wed, 20 Jan 2016 12:35:59 +0000"  >&lt;p&gt;&amp;gt;&amp;gt; but not 3.2 because it&apos;s about to be released&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slebresne&quot; class=&quot;user-hover&quot; rel=&quot;slebresne&quot;&gt;slebresne&lt;/a&gt; I saw that 3.2.0 was released earlier, but also yesterday 3.2.1 got released. Do you know if the fix is in 3.2.1?&lt;/p&gt;</comment>
                            <comment id="15108818" author="carlyeks" created="Wed, 20 Jan 2016 16:15:59 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I saw that 3.2.0 was released earlier, but also yesterday 3.2.1 got released. Do you know if the fix is in 3.2.1?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomas0413&quot; class=&quot;user-hover&quot; rel=&quot;tomas0413&quot;&gt;tomas0413&lt;/a&gt; 3.2.1 was a bugfix release which only included a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11010&quot; title=&quot;Bootstrap hangs on 3.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11010&quot;&gt;&lt;del&gt;CASSANDRA-11010&lt;/del&gt;&lt;/a&gt;. The fix version on this ticket is still correct.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12931345">CASSANDRA-11019</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12773688" name="faulty-tables.tar.gz" size="2097" author="gabor.auth" created="Sat, 21 Nov 2015 17:50:10 +0000"/>
                            <attachment id="12778012" name="schema.ddl" size="29730" author="tomas0413" created="Wed, 16 Dec 2015 14:57:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2optb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>benedict</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[benedict]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333891">3.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>