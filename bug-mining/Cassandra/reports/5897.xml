<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:22:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-17072] DebuggableThreadPoolExecutor does not propagate client warnings</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-17072</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Extracted this as a separate ticket per discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17044&quot; title=&quot;Refactor schema management to allow for schema source pluggability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17044&quot;&gt;&lt;del&gt;CASSANDRA-17044&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The problem is in &lt;tt&gt;DebuggableThreadPoolExecutor&lt;/tt&gt; - it does not propagate executor locals to the thread when tracing is disabled. It is probably expected that we propagate the state if at least one executor local is defined, but we only check for tracing and completely ignore client warnings.&lt;/p&gt;

&lt;p&gt;The attached PR fixes the problem, adds some tests and reverts a workaround for client warnings in some schema alteration statements implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16296&quot; title=&quot;Join new node to cluster failing on C* version 4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16296&quot;&gt;&lt;del&gt;CASSANDRA-16296&lt;/del&gt;&lt;/a&gt; (described below).&lt;/p&gt;

&lt;hr /&gt;

&lt;h4&gt;&lt;a name=&quot;Olddescriptionstillvalid%2Cbutthisisjustamanifestationoftheproblemratherthantheproblemitself&quot;&gt;&lt;/a&gt;Old description - still valid, but this is just a manifestation of the problem rather than the problem itself&lt;/h4&gt;
&lt;p&gt;This seemed to be screwed a bit. In just two schema alteration statements we collect client warnings which are captured during the transformation into a local collection. &lt;/p&gt;

&lt;p&gt;I guess it is done that way because the transformation is being executed in a different stage (migration) and client warnings collected in that stage are not present in the stage where the query is executed. &lt;/p&gt;

&lt;p&gt;Then, the client warnings are retrieved using &lt;tt&gt;clientWarnings&lt;/tt&gt; method and added to the captured client warnings in the stage which is executing the query. &lt;/p&gt;

&lt;p&gt;This mechanism was implemented only in two schema alteration statements. It is possible that for other ones the client warnings can simply get lost.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13408860">CASSANDRA-17072</key>
            <summary>DebuggableThreadPoolExecutor does not propagate client warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlewandowski">Jacek Lewandowski</assignee>
                                    <reporter username="jlewandowski">Jacek Lewandowski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Oct 2021 09:25:56 +0000</created>
                <updated>Fri, 27 May 2022 19:25:27 +0000</updated>
                            <resolved>Fri, 19 Nov 2021 01:33:53 +0000</resolved>
                                        <fixVersion>4.0.2</fixVersion>
                    <fixVersion>4.1-alpha1</fixVersion>
                    <fixVersion>4.1</fixVersion>
                                    <component>Local/Other</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="17441723" author="jlewandowski" created="Wed, 10 Nov 2021 13:10:30 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/cassandra/pull/1314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/1314&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17441853" author="dcapwell" created="Wed, 10 Nov 2021 17:18:53 +0000"  >&lt;p&gt;Can you also work on a trunk patch?  Executors were completely rewritten&lt;/p&gt;</comment>
                            <comment id="17442406" author="adelapena" created="Thu, 11 Nov 2021 19:03:48 +0000"  >&lt;p&gt;Indeed we&apos;d need a patch for trunk.&lt;/p&gt;

&lt;p&gt;CI runs:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PR&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1138/workflows/ffd098b1-abbf-4be4-bb59-617b7c3a1793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1138/workflows/1607ab4f-9308-41aa-9f78-1bc19341b348&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;It seems that all three tests in &lt;tt&gt;SchemaTest&lt;/tt&gt; are failing, dtests are still running.&lt;/p&gt;</comment>
                            <comment id="17443002" author="dcapwell" created="Sat, 13 Nov 2021 01:25:45 +0000"  >&lt;p&gt;patch mostly LGTM, holding off +1 until tests are green; will do final review at that point.  Thanks Andres for running them =)&lt;/p&gt;</comment>
                            <comment id="17443558" author="bereng" created="Mon, 15 Nov 2021 06:18:14 +0000"  >&lt;p&gt;The dtests failures are my &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17119&quot; title=&quot;Broken test_speculative_data_request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17119&quot;&gt;&lt;del&gt;CASSANDRA-17119&lt;/del&gt;&lt;/a&gt; so you&apos;re good there. But the junit warn failures are probably legit?&lt;/p&gt;</comment>
                            <comment id="17443564" author="jlewandowski" created="Mon, 15 Nov 2021 06:39:52 +0000"  >&lt;p&gt;Thanks for running tests; I&apos;ll look into the failures today&lt;/p&gt;</comment>
                            <comment id="17443588" author="jlewandowski" created="Mon, 15 Nov 2021 07:34:12 +0000"  >&lt;p&gt;The reason for failing unit tests was my mistake that I forgot to uncomment byteman runner.&lt;/p&gt;

&lt;p&gt;For the trunk, there is a question, perhaps to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt; - I noticed that migration stage is not local aware while it was in 4.0 - is there any particular reason why it should not be a local aware? I&apos;ve changed it to local aware in the PR for this ticket because migration stage is used during execution of schema statements and thus should propagate both tracing and client warnings - is it ok?&lt;/p&gt;

&lt;p&gt;PR for trunk: &lt;a href=&quot;https://github.com/apache/cassandra/pull/1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/1320&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17443717" author="jlewandowski" created="Mon, 15 Nov 2021 10:20:16 +0000"  >&lt;p&gt;The review remarks regarding dead code and testing were addressed. I refactored the tests and added more (also for tracing). &lt;/p&gt;

&lt;p&gt;Also, the same problem was in &lt;tt&gt;SEPExecutor&lt;/tt&gt; (plus one more nit where the &lt;tt&gt;ExecutorLocals&lt;/tt&gt; instance was passed as a result rather than as locals due to overloading confusion).&lt;/p&gt;

&lt;p&gt;For trunk there are only tests.&lt;/p&gt;</comment>
                            <comment id="17444078" author="dcapwell" created="Mon, 15 Nov 2021 20:06:00 +0000"  >&lt;p&gt;4.0: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1314&lt;/a&gt;&lt;br/&gt;
trunk: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1320&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17444203" author="dcapwell" created="Tue, 16 Nov 2021 00:54:59 +0000"  >&lt;p&gt;test results look clean (need to rebase to fix most tests); will review tomorrow.&lt;/p&gt;</comment>
                            <comment id="17444310" author="jlewandowski" created="Tue, 16 Nov 2021 07:07:26 +0000"  >&lt;p&gt;I&apos;ll rebase and squash&lt;/p&gt;</comment>
                            <comment id="17444318" author="jlewandowski" created="Tue, 16 Nov 2021 07:23:10 +0000"  >&lt;p&gt;I rebased both PRs and squashed - I&apos;d really appreciate if somebody confirm this &lt;a href=&quot;https://github.com/apache/cassandra/pull/1320/files#diff-884063e4549a5202588049240e62b219f7d14f75d4e983416a61815d84674444R173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/1320/files#diff-884063e4549a5202588049240e62b219f7d14f75d4e983416a61815d84674444R173&lt;/a&gt; changes is ok in trunk - although it seems obvious for me, I might have missed something&lt;/p&gt;</comment>
                            <comment id="17444325" author="bereng" created="Tue, 16 Nov 2021 07:46:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; did you trigger CI as well?&lt;/p&gt;</comment>
                            <comment id="17444353" author="jlewandowski" created="Tue, 16 Nov 2021 08:19:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/125/workflows/0b30c7cf-29a0-47f3-ac39-70a275850979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/126/workflows/d563afaf-fef3-4323-bee4-55bcf729a7a9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17444505" author="adelapena" created="Tue, 16 Nov 2021 12:25:06 +0000"  >&lt;p&gt;Changes look good to me, I have left a few mostly cosmetic suggestions on the 4.0 PR that also apply to trunk.&lt;/p&gt;

&lt;p&gt;Here are some repeated runs for the changed/new tests, just in case:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Test&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;SchemaStatementWarningsTest&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1146/workflows/c66af191-cda2-409d-a466-a9d5514ab9b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1147/workflows/7f84c1d9-de24-4e6a-9f81-183512b42ed8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;DebuggableThreadPoolExecutorTest&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1149/workflows/9c582316-2f57-445d-96cf-b22d1ae8eca4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1148/workflows/de9fff30-5f0e-4db2-9a14-4a23cb211126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;SEPExecutorTest&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1151/workflows/50eca6a3-710a-49e4-a998-60f7287db98b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/adelapena/cassandra/1150/workflows/fe98bcea-7b2a-4c83-8f83-077be14d80e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17444553" author="jlewandowski" created="Tue, 16 Nov 2021 14:08:45 +0000"  >&lt;p&gt;thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt;, I&apos;ve applied your comments&lt;/p&gt;</comment>
                            <comment id="17444734" author="dcapwell" created="Tue, 16 Nov 2021 18:49:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d really appreciate if somebody confirm this&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have reported other issues after the refactor, so its very possible this is a regression; if 4.0 was localAware, then trunk is supposed to be as well.&lt;/p&gt;

&lt;p&gt;Looking at the migration stage on 3.0 I see it was JMXEnabledSingleThreadExecutor -&amp;gt; JMXEnabledThreadPoolExecutor -&amp;gt; DebuggableThreadPoolExecutor -&amp;gt; LocalAwareExecutorService&lt;/p&gt;</comment>
                            <comment id="17444749" author="dcapwell" created="Tue, 16 Nov 2021 19:17:40 +0000"  >&lt;p&gt;Overall LGTM, +1 assuming still stable after latest changes.&lt;/p&gt;</comment>
                            <comment id="17444975" author="bereng" created="Wed, 17 Nov 2021 07:17:13 +0000"  >&lt;p&gt;Right we seem to be missing CI for the latest commit.&lt;/p&gt;</comment>
                            <comment id="17445015" author="jlewandowski" created="Wed, 17 Nov 2021 08:55:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/128/workflows/8e465b6f-c8fe-4031-88ab-e44021260914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/130/workflows/e2e5536d-01b8-4944-b3c8-70575b34068d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17445112" author="jlewandowski" created="Wed, 17 Nov 2021 11:42:46 +0000"  >&lt;p&gt;trunk tests passed, I could not reproduce locally two failures on 4.0&lt;/p&gt;</comment>
                            <comment id="17445266" author="adelapena" created="Wed, 17 Nov 2021 14:54:35 +0000"  >&lt;p&gt;CI looks good, so I guess we are ready to commit.&lt;/p&gt;</comment>
                            <comment id="17445384" author="jlewandowski" created="Wed, 17 Nov 2021 17:22:33 +0000"  >&lt;p&gt;Yup, so can we move forward?&lt;/p&gt;</comment>
                            <comment id="17445448" author="dcapwell" created="Wed, 17 Nov 2021 18:57:53 +0000"  >&lt;p&gt;I don&apos;t see a +1 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; so holding off merge until he has the time to finish his review (think this has 2 +1s, Andres and I).  If &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; wants to merge I am cool with that, else I can merge&lt;/p&gt;</comment>
                            <comment id="17445655" author="bereng" created="Thu, 18 Nov 2021 06:06:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; I can see you only ran CI for j11 but not for j8? I tried to start them but it doesn&apos;t allow me... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17445668" author="jlewandowski" created="Thu, 18 Nov 2021 06:38:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/130/workflows/e79f362e-ca0a-4542-a117-5fb9223463d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/128/workflows/166706de-6847-4159-b177-664d11295f35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17445697" author="jlewandowski" created="Thu, 18 Nov 2021 07:33:32 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PR&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;j8&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;j11&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/128/workflows/166706de-6847-4159-b177-664d11295f35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/128/workflows/8e465b6f-c8fe-4031-88ab-e44021260914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/130/workflows/e79f362e-ca0a-4542-a117-5fb9223463d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/130/workflows/e2e5536d-01b8-4944-b3c8-70575b34068d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17445698" author="bereng" created="Thu, 18 Nov 2021 07:34:30 +0000"  >&lt;p&gt;The CI runs SHAs don&apos;t match the SHAs on the PRs?&lt;/p&gt;

&lt;p&gt;Edit: Sorry for being a pain lol! just trying to connect all the dots&lt;/p&gt;</comment>
                            <comment id="17445699" author="jlewandowski" created="Thu, 18 Nov 2021 07:36:29 +0000"  >&lt;p&gt;Indeed, I created separate branches with that extra commit that changes circle configuration&lt;/p&gt;</comment>
                            <comment id="17445701" author="jlewandowski" created="Thu, 18 Nov 2021 07:40:53 +0000"  >&lt;p&gt;wait, i need to verify&lt;/p&gt;</comment>
                            <comment id="17445706" author="jlewandowski" created="Thu, 18 Nov 2021 07:43:19 +0000"  >&lt;p&gt;:facepalm I must have confused something &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17445709" author="bereng" created="Thu, 18 Nov 2021 07:45:23 +0000"  >&lt;p&gt;We usually make the circle config change in a separate commit in the same branch. I think it keeps things a bit easier and it&apos;s also what &lt;em&gt;I think&lt;/em&gt; everybody else does.&lt;/p&gt;</comment>
                            <comment id="17445777" author="jlewandowski" created="Thu, 18 Nov 2021 09:33:09 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PR&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;j8&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;j11&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/133/workflows/92089846-2367-44c3-979e-6935b16492ad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/133/workflows/8a22f82e-b232-43a8-adaf-06ce6e8114ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/134/workflows/8a044775-3f00-4aaf-9eab-e6ab6b752bbf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/jacek-lewandowski/cassandra/134/workflows/cf4afedf-11fb-4b87-82d6-e5919433d394&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

</comment>
                            <comment id="17445802" author="jlewandowski" created="Thu, 18 Nov 2021 10:29:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;bereng&lt;/a&gt; new test runs finished&lt;/p&gt;</comment>
                            <comment id="17445871" author="bereng" created="Thu, 18 Nov 2021 11:42:02 +0000"  >&lt;p&gt;The runs hadn&apos;t finished and in fact there&apos;s one still running which seems stuck in some concurrency limit. The failure it reports looks unrelated to me as the rest of the CI. Happy to +1 but I&apos;ll let a day go by to let &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adelapena&quot; class=&quot;user-hover&quot; rel=&quot;adelapena&quot;&gt;adelapena&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; a last pass and I&apos;ll merge tomorrow unless sbdy beats me to it.&lt;/p&gt;</comment>
                            <comment id="17446146" author="dcapwell" created="Thu, 18 Nov 2021 21:10:35 +0000"  >&lt;p&gt;Starting commit&lt;/p&gt;

&lt;p&gt;CI Results (pending):&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Source&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Circle CI&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-4.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/dcapwell/cassandra/tree/commit_remote_branch/CASSANDRA-17072-cassandra-4.0-082C4D96-51F3-4E70-BCE8-0DE9100DB8CB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-17072-cassandra-4.0-082C4D96-51F3-4E70-BCE8-0DE9100DB8CB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1289/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/dcapwell/cassandra/tree/commit_remote_branch/CASSANDRA-17072-trunk-082C4D96-51F3-4E70-BCE8-0DE9100DB8CB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-17072-trunk-082C4D96-51F3-4E70-BCE8-0DE9100DB8CB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/1290/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17446226" author="dcapwell" created="Fri, 19 Nov 2021 01:11:53 +0000"  >&lt;p&gt;4.0: j8 looks normal, j11 I don&apos;t think we paid attention to so don&apos;t know what is normal here.&lt;br/&gt;
trunk: j8 looks normal, j11 had org.apache.cassandra.distributed.test.SecondaryIndexTest failed and not seen it before (and don&apos;t see any JIRA for it &lt;a href=&quot;https://issues.apache.org/jira/issues/?jql=project%20%3D%20CASSANDRA%20AND%20text%20~%20SecondaryIndexTest%20ORDER%20BY%20status%20DESC&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/issues/?jql=project%20%3D%20CASSANDRA%20AND%20text%20~%20SecondaryIndexTest%20ORDER%20BY%20status%20DESC&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;The only thing that worried me is org.apache.cassandra.distributed.test.SecondaryIndexTest so going to run that on repeat to see if I can see anything&lt;/p&gt;</comment>
                            <comment id="17446228" author="dcapwell" created="Fri, 19 Nov 2021 01:13:54 +0000"  >&lt;p&gt;Trunk: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=ci%2Ftrunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=ci%2Ftrunk&lt;/a&gt;.&lt;br/&gt;
Trunk PR: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2F1320&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17446229" author="dcapwell" created="Fri, 19 Nov 2021 01:22:13 +0000"  >&lt;p&gt;failed on trunk as well, so will create a ticket and not block this merge.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jlewandowski]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0w8mo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[adelapena]]></customfieldvalue>
        <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
        <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12333891">3.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/1bcfa087f4521135ef101c694f5e6ada8347827c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/1bcfa087f4521135ef101c694f5e6ada8347827c&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Run regressions&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>