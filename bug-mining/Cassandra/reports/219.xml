<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:11:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-578] get_range_slice NPE</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-578</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;If I call get_range_slice with arguments in the SliceRange structure, then it seems to NPE.  I think it only does it when there is nothing in the range specified in the column slice start and end.&lt;/p&gt;


&lt;p&gt;ERROR - Error in ThreadPoolExecutor&lt;br/&gt;
java.lang.RuntimeException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:55)&lt;br/&gt;
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.db.Row.addColumnFamily(Row.java:96)&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilyStore.getRangeSlice(ColumnFamilyStore.java:1469)&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:41)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
ERROR - Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;ROW-READ-STAGE:8,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.RuntimeException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:55)&lt;br/&gt;
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.db.Row.addColumnFamily(Row.java:96)&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilyStore.getRangeSlice(ColumnFamilyStore.java:1469)&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:41)&lt;br/&gt;
        ... 4 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12441537">CASSANDRA-578</key>
            <summary>get_range_slice NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="dispalt">Dan Di Spaltro</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Nov 2009 01:30:45 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:31 +0000</updated>
                            <resolved>Wed, 25 Nov 2009 23:16:07 +0000</resolved>
                                        <fixVersion>0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12781754" author="jbellis" created="Tue, 24 Nov 2009 02:58:18 +0000"  >&lt;p&gt;02&lt;br/&gt;
    make Row contain a single, final CF reference&lt;/p&gt;

&lt;p&gt;01&lt;br/&gt;
    r/m unused Row code, and move table variable into callers rather than serializing it redundantly&lt;/p&gt;</comment>
                            <comment id="12781757" author="dispalt" created="Tue, 24 Nov 2009 03:18:27 +0000"  >&lt;p&gt;Still get this error with the patches applied.&lt;/p&gt;

&lt;p&gt;DEBUG - range_slice&lt;br/&gt;
DEBUG - reading org.apache.cassandra.db.RangeSliceCommand@4ef18d37 from 31@/127.0.0.1&lt;br/&gt;
ERROR - Error in ThreadPoolExecutor&lt;br/&gt;
java.lang.RuntimeException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:53)&lt;br/&gt;
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilySerializer.serialize(ColumnFamilySerializer.java:58)&lt;br/&gt;
        at org.apache.cassandra.db.RowSerializer.serialize(Row.java:92)&lt;br/&gt;
        at org.apache.cassandra.db.RangeSliceReply.getReply(RangeSliceReply.java:53)&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:46)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
ERROR - Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;ROW-READ-STAGE:11,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.RuntimeException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:53)&lt;br/&gt;
        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.cassandra.db.ColumnFamilySerializer.serialize(ColumnFamilySerializer.java:58)&lt;br/&gt;
        at org.apache.cassandra.db.RowSerializer.serialize(Row.java:92)&lt;br/&gt;
        at org.apache.cassandra.db.RangeSliceReply.getReply(RangeSliceReply.java:53)&lt;br/&gt;
        at org.apache.cassandra.service.RangeSliceVerbHandler.doVerb(RangeSliceVerbHandler.java:46)&lt;br/&gt;
        ... 4 more&lt;/p&gt;</comment>
                            <comment id="12781764" author="jbellis" created="Tue, 24 Nov 2009 04:20:48 +0000"  >&lt;p&gt;can you reproduce against the default set of columnfamilies?&lt;/p&gt;</comment>
                            <comment id="12781767" author="dispalt" created="Tue, 24 Nov 2009 04:31:07 +0000"  >&lt;p&gt;Let me try to do that.&lt;/p&gt;

&lt;p&gt;just fyi in org.apache.cassandra.db.row.RowSerializer row.cf is null which is causing the NPE.&lt;/p&gt;</comment>
                            <comment id="12781769" author="jbellis" created="Tue, 24 Nov 2009 04:36:56 +0000"  >&lt;p&gt;I can reproduce it here, I&apos;m good.&lt;/p&gt;</comment>
                            <comment id="12781773" author="jbellis" created="Tue, 24 Nov 2009 04:50:46 +0000"  >&lt;p&gt;03&lt;br/&gt;
    allow serializing null CF; add get_range_slice test exercising this&lt;/p&gt;</comment>
                            <comment id="12781777" author="dispalt" created="Tue, 24 Nov 2009 05:09:09 +0000"  >&lt;p&gt;I am getting a couple errors that I wasn&apos;t getting before and I think its related.&lt;/p&gt;


&lt;p&gt;2009-11-24_05:06:54.65928 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.db.Row.digest(Row.java:75)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:103)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:46)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.QuorumResponseHandler.get(QuorumResponseHandler.java:88)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.StorageProxy.strongRead(StorageProxy.java:453)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.StorageProxy.readProtocol(StorageProxy.java:381)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.CassandraServer.readColumnFamily(CassandraServer.java:92)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.CassandraServer.getSlice(CassandraServer.java:170)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.CassandraServer.multigetSliceInternal(CassandraServer.java:245)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.CassandraServer.get_slice(CassandraServer.java:208)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.Cassandra$Processor$get_slice.process(Cassandra.java:758)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.cassandra.service.Cassandra$Processor.process(Cassandra.java:712)&lt;br/&gt;
2009-11-24_05:06:54.65928       at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)&lt;br/&gt;
2009-11-24_05:06:54.65928       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_05:06:54.65928       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_05:06:54.65928       at java.lang.Thread.run(Thread.java:636)&lt;br/&gt;
2009-11-24_05:06:56.82921 ERROR - Internal error processing get_slice&lt;br/&gt;
2009-11-24_05:06:56.82921 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.db.Row.digest(Row.java:75)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:103)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:46)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.QuorumResponseHandler.get(QuorumResponseHandler.java:88)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.StorageProxy.strongRead(StorageProxy.java:453)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.StorageProxy.readProtocol(StorageProxy.java:381)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.CassandraServer.readColumnFamily(CassandraServer.java:92)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.CassandraServer.getSlice(CassandraServer.java:170)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.CassandraServer.multigetSliceInternal(CassandraServer.java:245)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.CassandraServer.get_slice(CassandraServer.java:208)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.Cassandra$Processor$get_slice.process(Cassandra.java:758)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.cassandra.service.Cassandra$Processor.process(Cassandra.java:712)&lt;br/&gt;
2009-11-24_05:06:56.82921       at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)&lt;br/&gt;
2009-11-24_05:06:56.82921       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_05:06:56.82921       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_05:06:56.82921       at java.lang.Thread.run(Thread.java:636)&lt;/p&gt;



&lt;p&gt;2009-11-24_05:06:57.54647 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_05:06:57.54647       at org.apache.cassandra.db.Row.digest(Row.java:75)&lt;br/&gt;
2009-11-24_05:06:57.54647       at org.apache.cassandra.db.ReadVerbHandler.doVerb(ReadVerbHandler.java:85)&lt;br/&gt;
2009-11-24_05:06:57.54647       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
2009-11-24_05:06:57.54647       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_05:06:57.54647       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_05:06:57.54647       at java.lang.Thread.run(Thread.java:636)&lt;br/&gt;
2009-11-24_05:06:57.62647 ERROR - Error in ThreadPoolExecutor&lt;br/&gt;
2009-11-24_05:06:57.62647 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.db.Row.digest(Row.java:75)&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.db.ReadVerbHandler.doVerb(ReadVerbHandler.java:85)&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.lang.Thread.run(Thread.java:636)&lt;br/&gt;
2009-11-24_05:06:57.62647 ERROR - Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;ROW-READ-STAGE:3,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
2009-11-24_05:06:57.62647 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.db.Row.digest(Row.java:75)&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.db.ReadVerbHandler.doVerb(ReadVerbHandler.java:85)&lt;br/&gt;
2009-11-24_05:06:57.62647       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_05:06:57.62647       at java.lang.Thread.run(Thread.java:636)&lt;/p&gt;</comment>
                            <comment id="12781778" author="jbellis" created="Tue, 24 Nov 2009 05:16:03 +0000"  >&lt;p&gt;updated patch 03&lt;/p&gt;</comment>
                            <comment id="12781790" author="dispalt" created="Tue, 24 Nov 2009 06:01:25 +0000"  >

&lt;p&gt;2009-11-24_06:00:42.63108 ERROR - Internal error processing get_slice&lt;br/&gt;
2009-11-24_06:00:42.63108 java.lang.NullPointerException&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:130)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:46)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.QuorumResponseHandler.get(QuorumResponseHandler.java:88)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.StorageProxy.strongRead(StorageProxy.java:453)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.StorageProxy.readProtocol(StorageProxy.java:381)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.CassandraServer.readColumnFamily(CassandraServer.java:92)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.CassandraServer.getSlice(CassandraServer.java:170)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.CassandraServer.multigetSliceInternal(CassandraServer.java:245)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.CassandraServer.get_slice(CassandraServer.java:208)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.Cassandra$Processor$get_slice.process(Cassandra.java:758)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.cassandra.service.Cassandra$Processor.process(Cassandra.java:712)&lt;br/&gt;
2009-11-24_06:00:42.63108       at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)&lt;br/&gt;
2009-11-24_06:00:42.63108       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
2009-11-24_06:00:42.63108       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
2009-11-24_06:00:42.63108       at java.lang.Thread.run(Thread.java:636)&lt;/p&gt;</comment>
                            <comment id="12781929" author="jbellis" created="Tue, 24 Nov 2009 13:45:57 +0000"  >&lt;p&gt;updated 03 again&lt;/p&gt;</comment>
                            <comment id="12782329" author="dispalt" created="Wed, 25 Nov 2009 07:01:48 +0000"  >&lt;p&gt;I now seem to be getting tihs.&lt;/p&gt;


&lt;p&gt;2009-11-25_06:42:26.20349 java.lang.NullPointerException                                                                                                                                &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.db.ColumnFamily.delete(ColumnFamily.java:252)                                                                                   &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.db.ColumnFamily.resolve(ColumnFamily.java:402)                                                                                  &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.db.Row.resolve(Row.java:62)                                                                                                     &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:122)                                                             &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.ReadResponseResolver.resolve(ReadResponseResolver.java:46)                                                              &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.QuorumResponseHandler.get(QuorumResponseHandler.java:88)                                                                &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.StorageProxy.strongRead(StorageProxy.java:477)                                                                          &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.StorageProxy.readProtocol(StorageProxy.java:381)                                                                        &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.CassandraServer.readColumnFamily(CassandraServer.java:92)                                                               &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.CassandraServer.getSlice(CassandraServer.java:170)                                                                      &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.CassandraServer.multigetSliceInternal(CassandraServer.java:245)                                                         &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.CassandraServer.get_slice(CassandraServer.java:208)                                                                     &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.Cassandra$Processor$get_slice.process(Cassandra.java:758)                                                               &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.cassandra.service.Cassandra$Processor.process(Cassandra.java:712)                                                                         &lt;br/&gt;
2009-11-25_06:42:26.20349       at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)                                                             &lt;br/&gt;
2009-11-25_06:42:26.20349       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)                                                                      &lt;br/&gt;
2009-11-25_06:42:26.20349       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)                                                                      &lt;br/&gt;
2009-11-25_06:42:26.20349       at java.lang.Thread.run(Thread.java:636)&lt;/p&gt;


&lt;p&gt;And I am not sure if this is related but it seems new too:&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: Unable to load comparator class &apos;&apos;.  probably this means you have obsolete sstables lying around                                  &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.readComparator(ColumnFamilySerializer.java:136)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:107)                                                          &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.RowSerializer.deserialize(Row.java:110)                                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:122)                                                                    &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:98)                                                                     &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.service.ReadResponseResolver.isDataPresent(ReadResponseResolver.java:154)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.service.QuorumResponseHandler.response(QuorumResponseHandler.java:97)                                                           &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.net.ResponseVerbHandler.doVerb(ResponseVerbHandler.java:37)                                                                     &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)                                                                        &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Thread.run(Thread.java:636)                                                                                                                &lt;br/&gt;
2009-11-25_06:55:56.50945 Caused by: java.lang.ClassNotFoundException:                                                                                                                  &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Class.forName0(Native Method)                                                                                                              &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Class.forName(Class.java:186)                                                                                                              &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.readComparator(ColumnFamilySerializer.java:132)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       ... 11 more                                                                                                                                             &lt;br/&gt;
2009-11-25_06:55:56.50945 ERROR - Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;RESPONSE-STAGE:2,5,main&amp;#93;&lt;/span&gt;                                                                                             &lt;br/&gt;
2009-11-25_06:55:56.50945 java.lang.RuntimeException: Unable to load comparator class &apos;&apos;.  probably this means you have obsolete sstables lying around                                  &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.readComparator(ColumnFamilySerializer.java:136)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:107)                                                          &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.RowSerializer.deserialize(Row.java:110)                                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:122)                                                                    &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:98)                                                                     &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.service.ReadResponseResolver.isDataPresent(ReadResponseResolver.java:154)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.service.QuorumResponseHandler.response(QuorumResponseHandler.java:97)                                                           &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.net.ResponseVerbHandler.doVerb(ResponseVerbHandler.java:37)                                                                     &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)                                                                        &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)                                                                      &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Thread.run(Thread.java:636)                                                                                                                &lt;br/&gt;
2009-11-25_06:55:56.50945 Caused by: java.lang.ClassNotFoundException:                                                                                                                  &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Class.forName0(Native Method)                                                                                                              &lt;br/&gt;
2009-11-25_06:55:56.50945       at java.lang.Class.forName(Class.java:186)                                                                                                              &lt;br/&gt;
2009-11-25_06:55:56.50945       at org.apache.cassandra.db.ColumnFamilySerializer.readComparator(ColumnFamilySerializer.java:132)                                                       &lt;br/&gt;
2009-11-25_06:55:56.50945       ... 11 more                &lt;/p&gt;</comment>
                            <comment id="12782506" author="dispalt" created="Wed, 25 Nov 2009 17:04:49 +0000"  >&lt;p&gt;It seems for the comparator problem the &quot;&quot; is getting read as \u0000.    But then if I make that change I start getting:&lt;/p&gt;

&lt;p&gt;2009-11-25_17:00:45.31534 INFO - Exception was generated at : 11/25/2009 17:00:45 on thread RESPONSE-STAGE:2                     &lt;br/&gt;
2009-11-25_17:00:45.31534                                                                                                        &lt;br/&gt;
2009-11-25_17:00:45.31534 java.io.EOFException                                                                                   &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.io.DataInputStream.readFully(DataInputStream.java:197)                                   &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.io.DataInputStream.readUTF(DataInputStream.java:609)                                     &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.io.DataInputStream.readUTF(DataInputStream.java:564)                                     &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.db.ColumnFamilySerializer.readComparator(ColumnFamilySerializer.java:124)&lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:107)   &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.db.RowSerializer.deserialize(Row.java:110)                               &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:122)             &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.db.ReadResponseSerializer.deserialize(ReadResponse.java:98)              &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.service.ReadResponseResolver.isDataPresent(ReadResponseResolver.java:154)&lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.service.QuorumResponseHandler.response(QuorumResponseHandler.java:97)    &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.net.ResponseVerbHandler.doVerb(ResponseVerbHandler.java:37)              &lt;br/&gt;
2009-11-25_17:00:45.31534       at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:38)                 &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)               &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)               &lt;br/&gt;
2009-11-25_17:00:45.31534       at java.lang.Thread.run(Thread.java:636)&lt;/p&gt;</comment>
                            <comment id="12782508" author="jbellis" created="Wed, 25 Nov 2009 17:09:58 +0000"  >&lt;p&gt;the comparator problem is because we are changing Row internals which affects the commit log.  the simplest is to just wipe out the commitlogs, otherwise, go back to the old version and do a nodeprobe flush to clear them out before patching&lt;/p&gt;

&lt;p&gt;working on a fix for the other NPE now&lt;/p&gt;</comment>
                            <comment id="12782574" author="jbellis" created="Wed, 25 Nov 2009 19:35:50 +0000"  >&lt;p&gt;updated patch 03 with fix for latest NPE&lt;/p&gt;</comment>
                            <comment id="12782632" author="dispalt" created="Wed, 25 Nov 2009 21:37:15 +0000"  >&lt;p&gt;I think that did it!  Thank you so much!&lt;/p&gt;</comment>
                            <comment id="12782671" author="jbellis" created="Wed, 25 Nov 2009 23:16:06 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12782876" author="hudson" created="Thu, 26 Nov 2009 12:34:02 +0000"  >&lt;p&gt;Integrated in Cassandra #269 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/269/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/269/&lt;/a&gt;)&lt;br/&gt;
    allow serializing null CF; add get_range_slice test exercising this&lt;br/&gt;
patch by jbellis; tested by Dan Di Spaltro for &lt;br/&gt;
make Row contain a single, final CF reference&lt;br/&gt;
patch by jbellis; tested by Dan Di Spaltro for &lt;br/&gt;
r/m unused Row code, and move table variable into callers rather than serializing it redundantly&lt;br/&gt;
patch by jbellis; tested by Dan Di Spaltro for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12426136" name="0003-allow-serializing-null-CF-add-get_range_slice-test.patch" size="13907" author="jbellis" created="Wed, 25 Nov 2009 19:35:50 +0000"/>
                            <attachment id="12425928" name="ASF.LICENSE.NOT.GRANTED--0001-CASSANDRA-578-r-m-unused-Row-code-and-move-table-vari.txt" size="17734" author="jbellis" created="Tue, 24 Nov 2009 02:57:32 +0000"/>
                            <attachment id="12425929" name="ASF.LICENSE.NOT.GRANTED--0002-make-Row-contain-a-single-final-CF-reference.txt" size="28964" author="jbellis" created="Tue, 24 Nov 2009 02:57:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fzsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>