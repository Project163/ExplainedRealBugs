<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:31:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-20365] DESCRIBE TABLE does not list materialized views</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-20365</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I noticed that if I run DESCRIBE TABLE (the new server-side CQL command, not the old cqlsh command) on a table that has materialized views, I get back just &lt;tt&gt;CREATE TABLE&lt;/tt&gt; command for the base table but no &lt;tt&gt;CREATE MATERIALIZED VIEW&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;I found this strange for several reasons:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Old cqlsh documentation such as &lt;a href=&quot;https://docs.datastax.com/en/cql/hcd/reference/cqlsh-commands/describe-table.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.datastax.com/en/cql/hcd/reference/cqlsh-commands/describe-table.html&lt;/a&gt; suggested that DESCRIBE TABLE should return &quot;executable CQL information for a single table, including materialized views that are based on the table&quot;.&lt;/li&gt;
	&lt;li&gt;Probably a user will want to recreate views when recreating a table.&lt;/li&gt;
	&lt;li&gt;On a table with secondary index, CREATE INDEX statements &lt;b&gt;are&lt;/b&gt; included in the output of DESCRIBE TABLE. Why should indexes be listed and views not?&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Is any of this intentional? I couldn&apos;t find any CQL (not cqlsh) documentation explaining what DESCRIBE TABLE should return, or why.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13609577">CASSANDRA-20365</key>
            <summary>DESCRIBE TABLE does not list materialized views</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smiklosovic">Stefan Miklosovic</assignee>
                                    <reporter username="nyh">Nadav Har&apos;El</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2025 15:07:03 +0000</created>
                <updated>Tue, 25 Feb 2025 08:59:17 +0000</updated>
                            <resolved>Tue, 25 Feb 2025 08:58:10 +0000</resolved>
                                        <fixVersion>5.0.4</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Legacy/Core</component>
                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17929837" author="smiklosovic" created="Mon, 24 Feb 2025 16:07:58 +0000"  >&lt;p&gt;I do not think there is any particular reason. We most probably just forgot to add it.&lt;/p&gt;

&lt;p&gt;patch for trunk here: &lt;a href=&quot;https://github.com/apache/cassandra/pull/3929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3929&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17929852" author="brandon.williams" created="Mon, 24 Feb 2025 16:40:39 +0000"  >&lt;p&gt;Do we know why DescribeStatementTest is passing without this?&lt;/p&gt;</comment>
                            <comment id="17929853" author="smiklosovic" created="Mon, 24 Feb 2025 16:42:23 +0000"  >&lt;p&gt;It doesn&apos;t. Have you noticed the changed DescribeStatementTest in the PR as well? Without it, it fails when I start to describe MV as well. &lt;/p&gt;

&lt;p&gt;Or ... we have never described a table with MV too? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17929854" author="brandon.williams" created="Mon, 24 Feb 2025 16:46:32 +0000"  >&lt;p&gt;I don&apos;t see it failing in butler and when I run the suite it passes:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ant testsome -Dtest.name=org.apache.cassandra.cql3.statements.DescribeStatementTest&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17929856" author="brandon.williams" created="Mon, 24 Feb 2025 16:53:36 +0000"  >&lt;p&gt;The answer to my question is that DescribeStatementTest in its current form tests describing materialized views, but does not test for materialized views in the table describe.&lt;/p&gt;

&lt;p&gt;Okay, with that out of the way, +1 from me if CI is happy.&lt;/p&gt;</comment>
                            <comment id="17929917" author="smiklosovic" created="Mon, 24 Feb 2025 21:42:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20365&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                         7m 0s
  &#10003; j17_cqlsh_dtests_py311                            7m 5s
  &#10003; j17_cqlsh_dtests_py311_vnode                     7m 46s
  &#10003; j17_cqlsh_dtests_py38                            6m 56s
  &#10003; j17_cqlsh_dtests_py38_vnode                       7m 5s
  &#10003; j17_cqlshlib_cython_tests                        8m 28s
  &#10003; j17_cqlshlib_tests                              10m 29s
  &#10003; j17_dtests_latest                                42m 1s
  &#10003; j17_dtests_vnode                                43m 18s
  &#10003; j17_jvm_dtests_latest_vnode                      25m 8s
  &#10003; j17_unit_tests                                   14m 2s
  &#10003; j17_unit_tests_repeat                            9m 48s
  &#10003; j17_utests_latest                               14m 46s
  &#10003; j17_utests_latest_repeat                         8m 59s
  &#10003; j17_utests_oa                                    15m 9s
  &#10003; j17_utests_oa_repeat                             9m 19s
  &#10005; j17_dtests                                      36m 53s
      refresh_test.TestRefresh test_refresh_deadlock_startup
  &#10005; j17_jvm_dtests                                  27m 11s
      org.apache.cassandra.fuzz.sai.MultiNodeSAITest indexOnlySaiTest TIMEOUTED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/5500/workflows/ea2bff25-3e39-4d2f-96ba-bc2982210610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17930161" author="smiklosovic" created="Tue, 25 Feb 2025 08:24:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-20365-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-20365-5.0&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java17_pre-commit_tests                         
  &#10003; j17_build                                        5m 37s
  &#10003; j17_cqlsh_dtests_py311                           6m 46s
  &#10003; j17_cqlsh_dtests_py311_vnode                      6m 5s
  &#10003; j17_cqlsh_dtests_py38                             6m 7s
  &#10003; j17_cqlsh_dtests_py38_vnode                       7m 2s
  &#10003; j17_cqlshlib_cython_tests                        8m 46s
  &#10003; j17_cqlshlib_tests                               7m 48s
  &#10003; j17_dtests_latest                               40m 57s
  &#10003; j17_dtests_vnode                                43m 45s
  &#10003; j17_jvm_dtests_latest_vnode                     20m 28s
  &#10003; j17_unit_tests                                  17m 21s
  &#10003; j17_unit_tests_repeat                            7m 29s
  &#10003; j17_utests_latest                                17m 0s
  &#10003; j17_utests_latest_repeat                         8m 30s
  &#10003; j17_utests_oa                                   17m 27s
  &#10003; j17_utests_oa_repeat                             7m 39s
  &#10005; j17_dtests                                       47m 5s
      refresh_test.TestRefresh test_refresh_deadlock_startup
  &#10005; j17_jvm_dtests                                  24m 21s
      org.apache.cassandra.distributed.test.PaxosRepair2Test legacyPurgeRepairLoop
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/5502/workflows/c0df2025-eb9e-47ac-8403-1dad9691f030&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;java17_pre-commit_tests&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="13163" cascade-level=""><![CDATA[Code]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uefk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348285">4.0-beta1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/378c93de90e16ee90cc5282de130bc18cc48f97e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/378c93de90e16ee90cc5282de130bc18cc48f97e&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;CI and unit&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>