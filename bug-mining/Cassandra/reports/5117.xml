<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:12:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14913] Forbid re-adding static columns as regular and vice versa</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14913</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Re-adding a dropped column with an incompatible kind (dropped regular re-added as static, or dropped static re-added as regular) can ultimately result in corruption (see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-14843&quot; title=&quot;Drop/add column name with different Kind can result in corruption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-14843&quot;&gt;&lt;del&gt;CASSANDRA-14843&lt;/del&gt;&lt;/a&gt; for more context). In 3.x, unfortunately, we don&#8217;t persist enough context when dropping a column. In trunk, however, we do, and it&#8217;s trivial to forbid this operation, as we should.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13200641">CASSANDRA-14913</key>
            <summary>Forbid re-adding static columns as regular and vice versa</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aleksey">Aleksey Yeschenko</assignee>
                                    <reporter username="aleksey">Aleksey Yeschenko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Nov 2018 18:12:02 +0000</created>
                <updated>Fri, 15 May 2020 08:07:06 +0000</updated>
                            <resolved>Tue, 27 Nov 2018 14:01:08 +0000</resolved>
                                        <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Cluster/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16699387" author="iamaleksey" created="Mon, 26 Nov 2018 18:15:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/iamaleksey/cassandra/commits/14913&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Code&lt;/a&gt;, &lt;a href=&quot;https://circleci.com/workflow-run/f88826a9-62c0-42bb-84ec-7e403ef80747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16699531" author="benedict" created="Mon, 26 Nov 2018 20:20:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="16700022" author="ifesdjeen" created="Tue, 27 Nov 2018 07:37:38 +0000"  >&lt;p&gt;This is great, +1. &lt;/p&gt;

&lt;p&gt;Should we back port this and re-add multi-cell as single cell or vice versa to 3.0/3.11? These are pretty serious issues I&apos;d say as they can lead to corruption.&lt;/p&gt;</comment>
                            <comment id="16700456" author="iamaleksey" created="Tue, 27 Nov 2018 14:00:58 +0000"  >&lt;p&gt;Thanks, committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/8aec742a1f86a825028f4a1267e111cd1a4aea40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;8aec742a1f86a825028f4a1267e111cd1a4aea40&lt;/a&gt; to trunk. &lt;/p&gt;</comment>
                            <comment id="16700469" author="iamaleksey" created="Tue, 27 Nov 2018 14:08:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ifesdjeen&quot; class=&quot;user-hover&quot; rel=&quot;ifesdjeen&quot;&gt;ifesdjeen&lt;/a&gt; I wouldn&apos;t mind it, personally. The change would be more involved: would have to add an extra column (&lt;tt&gt;kind&lt;/tt&gt;) to the schema table in 3.0 (that already exists in 4.0, making this change super trivial). Also extend &lt;tt&gt;DroppedColumn&lt;/tt&gt; a little. But that doesn&apos;t sound prohibitively involved to me.&lt;/p&gt;

&lt;p&gt;If you are interested in doing the backport, please do. Otherwise I&apos;ll do it eventually.&lt;/p&gt;

&lt;p&gt;While at it, might also backport 4.0 prohibition on re-adding columns with a different type from the dropped one if nobody objects.&lt;/p&gt;</comment>
                            <comment id="16700471" author="benedict" created="Tue, 27 Nov 2018 14:09:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;While at it, might also backport 4.0 prohibition on re-adding columns with a different type from the dropped one if nobody objects.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13207412">CASSANDRA-14948</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="13161" cascade-level="1"><![CDATA[Unrecoverable Corruption / Loss]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00vi0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[benedict]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>