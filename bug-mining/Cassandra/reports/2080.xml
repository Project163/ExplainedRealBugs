<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:37:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5354] CL regression in the presence of bootstrapping nodes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5354</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;It looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4858&quot; title=&quot;Coverage analysis for low-CL queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4858&quot;&gt;&lt;del&gt;CASSANDRA-4858&lt;/del&gt;&lt;/a&gt; broke &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; again; pendingEndpoints is not provided to or accounted by blockFor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637479">CASSANDRA-5354</key>
            <summary>CL regression in the presence of bootstrapping nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slebresne">Sylvain Lebresne</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 04:08:02 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:16 +0000</updated>
                            <resolved>Mon, 18 Mar 2013 13:46:38 +0000</resolved>
                                        <fixVersion>1.2.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13605075" author="slebresne" created="Mon, 18 Mar 2013 12:53:17 +0000"  >&lt;p&gt;For the record and from what I can tell, this is no due to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-4858&quot; title=&quot;Coverage analysis for low-CL queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-4858&quot;&gt;&lt;del&gt;CASSANDRA-4858&lt;/del&gt;&lt;/a&gt; that did not changed the prior behavior, but the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; never really worked. What happened is that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; was committed and reversed right away (we don&apos;t remember why).&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3979&quot; title=&quot;Consider providing error code with exceptions (and documenting them)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3979&quot;&gt;&lt;del&gt;CASSANDRA-3979&lt;/del&gt;&lt;/a&gt; was committed. That patch made &lt;tt&gt;blockFor&lt;/tt&gt; a constant initialized in WriteResponseHandler ctor to consistencyLevel.blockFor() (and used to initialize the size of &lt;tt&gt;responses&lt;/tt&gt; in particular). This was correct at the time, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; had been reverted.&lt;/li&gt;
	&lt;li&gt;The rebase of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; was committed. That rebase changed blockFor() in AbstractWriteResponseHandler to be blockForCL() (the &quot;old&quot; blockFor) + the pending endpoints. However, WriteResponseHandler was not modify to use that blockFor() method to initial the &lt;tt&gt;responses&lt;/tt&gt; variable.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As a result, &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-833&quot; title=&quot;fix consistencylevel during bootstrap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-833&quot;&gt;&lt;del&gt;CASSANDRA-833&lt;/del&gt;&lt;/a&gt; never &quot;worked&quot;.&lt;/p&gt;

&lt;p&gt;Anyway, attaching patch to hopefully fix this. I note that it includes a small part of the original 833 patch in DatacenterSyncWriteResponseHandler that apparently didn&apos;t made it in the rebase but I think is needed.&lt;/p&gt;</comment>
                            <comment id="13605103" author="jbellis" created="Mon, 18 Mar 2013 13:28:01 +0000"  >&lt;p&gt;LGTM, thanks for tracking that down!&lt;/p&gt;</comment>
                            <comment id="13605125" author="slebresne" created="Mon, 18 Mar 2013 13:46:38 +0000"  >&lt;p&gt;Alright, committed. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574137" name="5354.txt" size="4883" author="slebresne" created="Mon, 18 Mar 2013 12:53:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iv67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>