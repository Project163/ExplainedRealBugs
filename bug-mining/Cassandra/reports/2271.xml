<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:39:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5804] AntiEntropySession fails when OutboundTcpConnection receives IOException</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5804</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When requesting merkle trees for a repair, if the OutboundTcpConnection grabbed from the connection pool is reset (java.io.IOException: Connection reset by peer), the target node is not marked as dead, the TREE_REQUEST is not retried, and the repair does not fail. Instead, the repair stalls waiting for the merkle tree response which will never arrive.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 6.3 x86_64&lt;/p&gt;</environment>
        <key id="12659845">CASSANDRA-5804</key>
            <summary>AntiEntropySession fails when OutboundTcpConnection receives IOException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="awinters">Ashley Winters</assignee>
                                    <reporter username="awinters">Ashley Winters</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 17:15:42 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:09 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:59:26 +0000</resolved>
                                        <fixVersion>1.2.8</fixVersion>
                    <fixVersion>2.0 rc1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13719857" author="awinters" created="Thu, 25 Jul 2013 18:08:46 +0000"  >&lt;p&gt;TRACE level log showing the IOException thrown when sending TREE_REQUEST via MessagingService&lt;/p&gt;</comment>
                            <comment id="13719861" author="awinters" created="Thu, 25 Jul 2013 18:11:28 +0000"  >&lt;p&gt;The dead connections are cross-datacenter, and I believe I have some network equipment &lt;em&gt;(naughty firewall)&lt;/em&gt; resetting idle connections. That&apos;d be why gossip says the node is up, even though a pooled &lt;tt&gt;OutboundTcpConnection&lt;/tt&gt; would be reset due to idleness.&lt;/p&gt;</comment>
                            <comment id="13719900" author="awinters" created="Thu, 25 Jul 2013 18:52:16 +0000"  >&lt;p&gt;// if the message was important, such as a repair acknowledgement, put it back on the queue&lt;br/&gt;
// to retry after re-connecting.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5393&quot; title=&quot;Add retry mechanism to OTC for non-droppable_verbs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5393&quot;&gt;&lt;del&gt;CASSANDRA-5393&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
if (e instanceof SocketException &amp;amp;&amp;amp; qm.shouldRetry())&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5393&quot; title=&quot;Add retry mechanism to OTC for non-droppable_verbs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5393&quot;&gt;&lt;del&gt;CASSANDRA-5393&lt;/del&gt;&lt;/a&gt; was insufficient to completely fix the issue, because &lt;tt&gt;e instanceof IOException&lt;/tt&gt; should have been used, instead. Looks like a simple fix.&lt;/p&gt;</comment>
                            <comment id="13719906" author="awinters" created="Thu, 25 Jul 2013 18:59:40 +0000"  >&lt;p&gt;One-line fix to possibly retry for any IOException, not just SocketException.&lt;/p&gt;</comment>
                            <comment id="13719907" author="awinters" created="Thu, 25 Jul 2013 19:00:39 +0000"  >&lt;p&gt;Patch against cassandra-1.2 git&lt;/p&gt;</comment>
                            <comment id="13720909" author="yukim" created="Fri, 26 Jul 2013 15:59:26 +0000"  >&lt;p&gt;+1 and committed.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594234" name="5804-v1.patch" size="729" author="awinters" created="Thu, 25 Jul 2013 19:00:39 +0000"/>
                            <attachment id="12594217" name="ioexception.txt" size="4035" author="awinters" created="Thu, 25 Jul 2013 18:08:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[awinters]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mnbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>