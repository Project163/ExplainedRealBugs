<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:30:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19785] Possible memory leak in BTree.FastBuilder </title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19785</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;We are having a problem with the heap growing in size, This is a large cluster &amp;gt; 1,000 nodes across a large number of dc&#8217;s. This is running version 4.0.11.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Each node has a 32GB heap, and the amount used continues to grow until it reaches 30GB, it then struggles with multiple Full GC pauses, as can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070289/13070289_image-2024-07-19-08-44-56-714.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;We took 2 heap dumps on one node a few days after it was restarted, and the heap had grown by 2.7GB&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;9&lt;sup&gt;th&lt;/sup&gt; July&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070288/13070288_image-2024-07-19-08-45-17-289.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;11&lt;sup&gt;th&lt;/sup&gt; July&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070287/13070287_image-2024-07-19-08-45-33-933.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This can be seen as mainly an increase of memory used by FastThreadLocalThread, increasing from 5.92GB to 8.53GB&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070286/13070286_image-2024-07-19-08-45-50-383.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070285/13070285_image-2024-07-19-08-46-06-919.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Looking deeper into this it can be seen that the growing heap is contained within the threads for the MutationStage, Native-transport-Requests, ReadStage etc. We would expect the memory used within these threads to be short lived, and not grow as time goes on.&#160; We recently increased the size of theses threadpools, and that has increased the size of the problem.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Top memory usage for FastThreadLocalThread&lt;/p&gt;

&lt;p&gt;9&lt;sup&gt;th&lt;/sup&gt; July&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070284/13070284_image-2024-07-19-08-46-42-979.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;11&lt;sup&gt;th&lt;/sup&gt; July&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070283/13070283_image-2024-07-19-08-46-56-594.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
This has led us to investigate whether there could be a memory leak, and we have found the following issues within the retained references in BTree.FastBuilder objects. The issue appears to stem from the reset() method, which does not properly clear all buffers. &#160;We are not really sure how the BTree.FastBuilder works, but this this is our analysis of where a leak might occur.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Specifically:&lt;/p&gt;

&lt;p&gt;Leaf Buffer Not Being Cleared:&lt;br/&gt;
When leaf().count is 0, the statement Arrays.fill(leaf().buffer, 0, leaf().count, null); does not clear the buffer because the end index is 0. This leaves the buffer with references to potentially large objects, preventing garbage collection and increasing heap usage.&lt;/p&gt;

&lt;p&gt;Branch inUse Property:&lt;br/&gt;
If the inUse property of the branch is set to false elsewhere in the code, the while loop while (branch != null &amp;amp;&amp;amp; branch.inUse) does not execute, resulting in uncleared branch buffers and retained references.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This is based on the following observations:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160; Heap Dumps: Analysis of heap dumps shows that leaf().count is often 0, and as a result, the buffer is not being cleared, leading to high heap utilization.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070282/13070282_image-2024-07-19-08-47-19-517.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160; Remote Debugging: Debugging sessions indicate that the drain() method sets count to 0, and the inUse flag for the parent branch is set to false, preventing the while loop in reset() from clearing the branch buffers.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070281/13070281_image-2024-07-19-08-47-34-582.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586341">CASSANDRA-19785</key>
            <summary>Possible memory leak in BTree.FastBuilder </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="benedict">Benedict Elliott Smith</assignee>
                                    <reporter username="paulchandler">Paul Chandler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Jul 2024 07:48:13 +0000</created>
                <updated>Sun, 22 Sep 2024 13:25:04 +0000</updated>
                            <resolved>Mon, 16 Sep 2024 17:28:54 +0000</resolved>
                                        <fixVersion>4.0.14</fixVersion>
                    <fixVersion>4.1.7</fixVersion>
                    <fixVersion>5.0.1</fixVersion>
                    <fixVersion>5.1-alpha1</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Legacy/Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17867328" author="brandon.williams" created="Fri, 19 Jul 2024 13:16:45 +0000"  >&lt;p&gt;I would recommend seeing if this persists on 4.0.13, but I would also be looking at anything that might make this deployment different from the norm since 4.0.11 has been out for a year and nobody has seen this before.&lt;/p&gt;</comment>
                            <comment id="17868730" author="paulchandler" created="Thu, 25 Jul 2024 16:26:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; thanks for your advice, we have been spending the week, creating a test harness for this 4.0.13. This is now a 3 node cluster running a vanilla apache cassandra 4.0.13.&#160;&lt;/p&gt;

&lt;p&gt;We found the largest memory increase when the test harness was sending batch writes. The following describes the test:&lt;/p&gt;

&lt;p&gt;Traffic was started around 10:10am where we had been sending batch write requests. The total batch requests that we were sending was around 5K where the batch size was 20. The batch creates different keys and there are chances that it might have put the same key as well as its just a simulator that takes the keys within a range. The traffic was reduced around 12:30 pm. At around 13:30pm, the traffic was stopped. Along with the batch requests, read requests were run where the simulator was fetching 1 key and the no of read requests that was pumped was around 15-20K.&#160;&lt;/p&gt;

&lt;p&gt;During the run we were taking heap dumps at different times, examining the heap dumps and concentrating on the MutationStage threads we could see the number of threads increasing, along with the total memory footprint and memory per thread. After the traffic stopped the memory footprint dropped back slightly, but no where near what it was at the start of the run. The details can be seen here:&lt;/p&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Time&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Threads&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;Memory Usage&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Memory per thread&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10:10&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Process starts&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10:16&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;92&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 88,923,216&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 966,557&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11:11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;80&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160; 138,417,912&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1,730,224&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;12:36&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;106&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160; 228,661,192&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2,157,181&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13:21&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160; 375,284,728&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2,233,838&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13:30&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Processed stopped&#160;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14:14&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;168&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160; 341,755,952&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2,034,262&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14:56&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;167&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160; 340,695,720&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2,040,094&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;We are not really sure what this all means, but it does look a bit like a memory leak somewhere&lt;/p&gt;</comment>
                            <comment id="17868731" author="paulchandler" created="Thu, 25 Jul 2024 16:28:43 +0000"  >&lt;p&gt;We do have heapdumps that can be shared, but I am not sure how to share them as they are about 1GB in size&lt;/p&gt;</comment>
                            <comment id="17874130" author="benedict" created="Fri, 16 Aug 2024 06:56:25 +0000"  >&lt;p&gt;Hi, thanks for this high quality report. Sorry this languished. I can easily reproduce this locally with a simple modification to the test cases. I will follow up further shortly.&lt;/p&gt;</comment>
                            <comment id="17874138" author="benedict" created="Fri, 16 Aug 2024 07:27:38 +0000"  >&lt;p&gt;Here&apos;s a patch that demonstrates and fixes the issue. I&apos;m afraid I&apos;m too busy to shepherd this through quickly, but hopefully this gives everything needed for somebody to get it merged for the next release.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/3480&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/3480&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17874150" author="paulchandler" created="Fri, 16 Aug 2024 08:03:50 +0000"  >&lt;p&gt;Thank you very much for the patch Benedict, we will test this patch on our setup now and report back here with the results.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17874184" author="brandon.williams" created="Fri, 16 Aug 2024 10:47:19 +0000"  >&lt;p&gt;Thanks for the patch, Benedict! I&apos;ll do what I can to move this along.  Here&apos;s CI:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-19785-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1707/workflows/8f339da4-78ee-4024-81c9-7b26c940a93d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1707/workflows/22f1cd83-e563-48c7-9877-febb5c617067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-19785-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1706/workflows/fb5cb598-f96f-4785-a22b-0a808bde7814&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1706/workflows/7c086e14-dfac-47c5-97ce-af9d3216149a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-19785-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1705/workflows/e0ecc857-0157-447a-8851-27f65e6a2f9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1705/workflows/f3be8609-490a-459e-b080-2a3b11481a2d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j17&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-19785-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1708/workflows/c3067071-82a3-4122-9af3-bb448ed481fb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1708/workflows/f825016f-0342-45b7-ad17-db745e51c341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j17&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17874255" author="brandon.williams" created="Fri, 16 Aug 2024 13:25:44 +0000"  >&lt;p&gt;CI looks good, all failures are known.  As for a reviewer... maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;, or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blambov&quot; class=&quot;user-hover&quot; rel=&quot;blambov&quot;&gt;blambov&lt;/a&gt; can help?&lt;/p&gt;</comment>
                            <comment id="17874291" author="paulchandler" created="Fri, 16 Aug 2024 15:11:04 +0000"  >&lt;p&gt;We have run a test for 4 hours now, and we are seeing good results, the memory size for the threadpools are much smaller, and the heap size is not increasing.&#160; So it looks like the fix is working for us. Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17874319" author="JIRAUSER306256" created="Fri, 16 Aug 2024 16:34:53 +0000"  >&lt;p&gt;Thank you so much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt; for your timely help and support. I appreciate your quick fix. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17880703" author="paulchandler" created="Tue, 10 Sep 2024 16:01:42 +0000"  >&lt;p&gt;This patch seems to have got stuck, would any of the people mentioned by Brandon be available to review this? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blambov&quot; class=&quot;user-hover&quot; rel=&quot;blambov&quot;&gt;blambov&lt;/a&gt; &lt;br/&gt;
Thank you.&#160;&lt;/p&gt;</comment>
                            <comment id="17882059" author="blambov" created="Mon, 16 Sep 2024 14:02:05 +0000"  >&lt;p&gt;The pull request already has my approval.&lt;/p&gt;</comment>
                            <comment id="17882060" author="brandon.williams" created="Mon, 16 Sep 2024 14:03:02 +0000"  >&lt;p&gt;Thanks, I will try to get this committed soon.&lt;/p&gt;</comment>
                            <comment id="17882131" author="brandon.williams" created="Mon, 16 Sep 2024 17:28:54 +0000"  >&lt;p&gt;Committed, thanks everyone.&lt;/p&gt;</comment>
                            <comment id="17882132" author="JIRAUSER306256" created="Mon, 16 Sep 2024 17:31:00 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13592854">CASSANDRA-19942</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13070289" name="image-2024-07-19-08-44-56-714.png" size="84738" author="paulchandler" created="Fri, 19 Jul 2024 07:44:57 +0000"/>
                            <attachment id="13070288" name="image-2024-07-19-08-45-17-289.png" size="29993" author="paulchandler" created="Fri, 19 Jul 2024 07:45:17 +0000"/>
                            <attachment id="13070287" name="image-2024-07-19-08-45-33-933.png" size="28725" author="paulchandler" created="Fri, 19 Jul 2024 07:45:34 +0000"/>
                            <attachment id="13070286" name="image-2024-07-19-08-45-50-383.png" size="153036" author="paulchandler" created="Fri, 19 Jul 2024 07:45:50 +0000"/>
                            <attachment id="13070285" name="image-2024-07-19-08-46-06-919.png" size="151177" author="paulchandler" created="Fri, 19 Jul 2024 07:46:07 +0000"/>
                            <attachment id="13070284" name="image-2024-07-19-08-46-42-979.png" size="543800" author="paulchandler" created="Fri, 19 Jul 2024 07:46:43 +0000"/>
                            <attachment id="13070283" name="image-2024-07-19-08-46-56-594.png" size="553303" author="paulchandler" created="Fri, 19 Jul 2024 07:46:56 +0000"/>
                            <attachment id="13070282" name="image-2024-07-19-08-47-19-517.png" size="318310" author="paulchandler" created="Fri, 19 Jul 2024 07:47:19 +0000"/>
                            <attachment id="13070281" name="image-2024-07-19-08-47-34-582.png" size="328567" author="paulchandler" created="Fri, 19 Jul 2024 07:47:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[benedict]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12984" cascade-level=""><![CDATA[Degradation]]></customfieldvalue>
                                <customfieldvalue key="12995" cascade-level="1"><![CDATA[Resource Management]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qfk0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blambov]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/2842c01ce7eaeb6e72a63435075cc282a1cdd2db&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/2842c01ce7eaeb6e72a63435075cc282a1cdd2db&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;run CI&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>