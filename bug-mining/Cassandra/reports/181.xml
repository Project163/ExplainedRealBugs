<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:11:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-491] Hinted HandOff doesn&apos;t work for SuperColumnFamilies</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-491</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I was combing through our logs and noticed the following error which seems to indicate that hinted handoffs doesn&apos;t work for Super Column families.&lt;/p&gt;

&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;HINTED-HANDOFF-POOL:25&amp;#93;&lt;/span&gt; 2009-10-14 00:11:58,723 DebuggableThreadPoolExecutor.java (line 127) Error in ThreadPoolExecutor&lt;br/&gt;
java.lang.RuntimeException: java.lang.UnsupportedOperationException: This operation is not supported for Super Columns.&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager$1.run(HintedHandOffManager.java:250)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.UnsupportedOperationException: This operation is not supported for Super Columns.&lt;br/&gt;
        at org.apache.cassandra.db.SuperColumn.timestamp(SuperColumn.java:136)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager.deliverAllHints(HintedHandOffManager.java:180)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager.access$000(HintedHandOffManager.java:52)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager$1.run(HintedHandOffManager.java:246)&lt;br/&gt;
        ... 3 more&lt;br/&gt;
ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;HINTED-HANDOFF-POOL:25&amp;#93;&lt;/span&gt; 2009-10-14 00:11:58,723 CassandraDaemon.java (line 71) Fatal exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;HINTED-HANDOFF-POOL:25,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.RuntimeException: java.lang.UnsupportedOperationException: This operation is not supported for Super Columns.&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager$1.run(HintedHandOffManager.java:250)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
Caused by: java.lang.UnsupportedOperationException: This operation is not supported for Super Columns.&lt;br/&gt;
        at org.apache.cassandra.db.SuperColumn.timestamp(SuperColumn.java:136)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager.deliverAllHints(HintedHandOffManager.java:180)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager.access$000(HintedHandOffManager.java:52)&lt;br/&gt;
        at org.apache.cassandra.db.HintedHandOffManager$1.run(HintedHandOffManager.java:246)&lt;br/&gt;
        ... 3 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12438149">CASSANDRA-491</key>
            <summary>Hinted HandOff doesn&apos;t work for SuperColumnFamilies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="sammy.yu">Sammy Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Oct 2009 01:47:24 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:33 +0000</updated>
                            <resolved>Tue, 20 Oct 2009 17:45:29 +0000</resolved>
                                        <fixVersion>0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12766605" author="jbellis" created="Fri, 16 Oct 2009 17:03:43 +0000"  >&lt;p&gt;02&lt;br/&gt;
    Avoid using non-existent supercolumn timestamp in delete op.  Better conceptual integrity to delete w/ correct system time anyway&lt;/p&gt;

&lt;p&gt;01&lt;br/&gt;
    fix HH of tombstones&lt;/p&gt;

&lt;p&gt;this should fix the problem w/o having to manually clear out old data.&lt;/p&gt;</comment>
                            <comment id="12767832" author="junrao" created="Tue, 20 Oct 2009 15:27:28 +0000"  >&lt;p&gt;So the only way to cleanup hinted data is to manually run cleanup compaction from nodeprode? We need to document that in the header of HHM.&lt;/p&gt;

&lt;p&gt;Other than that, the patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="12767840" author="jbellis" created="Tue, 20 Oct 2009 15:43:19 +0000"  >&lt;p&gt;patch includes this in HHM:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;HHM never deletes the row from Application tables; there is no way to distinguish that&lt;/li&gt;
	&lt;li&gt;from hinted tombstones!  instead, rely on cleanup compactions to remove data&lt;/li&gt;
	&lt;li&gt;that doesn&apos;t belong on this node.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;How would you suggest clarifying that?&lt;/p&gt;</comment>
                            <comment id="12767884" author="junrao" created="Tue, 20 Oct 2009 17:33:05 +0000"  >&lt;p&gt;Add this &quot;cleanup compactions have to be manually started through nodeprobe on each node&quot;.&lt;/p&gt;</comment>
                            <comment id="12767887" author="jbellis" created="Tue, 20 Oct 2009 17:45:29 +0000"  >&lt;p&gt;done, and committed&lt;/p&gt;</comment>
                            <comment id="12768198" author="hudson" created="Wed, 21 Oct 2009 12:34:22 +0000"  >&lt;p&gt;Integrated in Cassandra #234 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/234/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/234/&lt;/a&gt;)&lt;br/&gt;
    Avoid using non-existent supercolumn timestamp in delete op.  Better conceptual integrity to delete w/ correct system time anyway.&lt;br/&gt;
patch by jbellis; reviewed by junrao for &lt;br/&gt;
fix HH of tombstones.  patch by jbellis; reviewed by junrao for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12422372" name="ASF.LICENSE.NOT.GRANTED--0001-CASSANDRA-491-fix-HH-of-tombstones.txt" size="6684" author="jbellis" created="Fri, 16 Oct 2009 17:02:16 +0000"/>
                            <attachment id="12422373" name="ASF.LICENSE.NOT.GRANTED--0002-Avoid-using-non-existent-supercolumn-timestamp-in-dele.txt" size="1726" author="jbellis" created="Fri, 16 Oct 2009 17:02:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fz9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>