<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:17:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16036] Add flag to disable chunk cache and disable by default</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16036</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Chunk cache is enabled by default and doesn&#8217;t have a flag to disable without impacting networking.  In performance testing 4.0 against 3.0 I found that reads were slower in 4.0 and after profiling found that the ChunkCache was partially to blame; after disabling the chunk cache, read performance had improved.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
40_w_cc-selects.hdr
#[Mean    =     11.50063, StdDeviation   =     13.44014]
#[Max     =    482.41254, Total count    =       316477]
#[Buckets =           25, SubBuckets     =       262144]

40_wo_cc-selects.hdr
#[Mean    =      9.82115, StdDeviation   =     10.14270]
#[Max     =    522.36493, Total count    =       317444]
#[Buckets =           25, SubBuckets     =       262144]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13321440">CASSANDRA-16036</key>
            <summary>Add flag to disable chunk cache and disable by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dcapwell">David Capwell</assignee>
                                    <reporter username="dcapwell">David Capwell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Aug 2020 05:12:59 +0000</created>
                <updated>Sun, 3 Jan 2021 17:02:45 +0000</updated>
                            <resolved>Wed, 30 Sep 2020 00:08:14 +0000</resolved>
                                        <fixVersion>4.0-beta3</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/Local Write-Read Paths</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17172892" author="dcapwell" created="Fri, 7 Aug 2020 05:19:37 +0000"  >&lt;p&gt;The test performed was 11% read of slices on a clustering key, so 89% write; workload from prod.&lt;/p&gt;

&lt;p&gt;What I saw in CPU profiles was that the chunk cache was a decent part of compaction and the read path, but not in a positive way.  With compaction also populating the cache, it caused a constant churn from the cache, but all reads had to pay the cost for it.&lt;/p&gt;</comment>
                            <comment id="17173291" author="dcapwell" created="Fri, 7 Aug 2020 16:47:06 +0000"  >&lt;p&gt;Rerunning the test with chunk cache enabled, seeing the following for hits/misses&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
OneMinuteRate

Hits
392.07075331154306
Misses
10004.73634589861
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So a 3.8% cache hit rate, this makes sense to me since compaction keeps populating the cache with files that are about to be deleted&lt;/p&gt;</comment>
                            <comment id="17173292" author="dcapwell" created="Fri, 7 Aug 2020 16:48:06 +0000"  >&lt;p&gt;CI is Yellow; known failing tests only.&lt;/p&gt;</comment>
                            <comment id="17173446" author="dcapwell" created="Fri, 7 Aug 2020 20:12:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; was hoping I could get your feedback on this patch?  From my testing, if there are writes going on the cluster the cache hit ratio tanks and chunk cache gets more costly than having it disabled; most workloads I see are write heavy, hence the default I went with.&lt;/p&gt;</comment>
                            <comment id="17173523" author="jmeredithco" created="Sat, 8 Aug 2020 00:17:06 +0000"  >&lt;p&gt;I took a first pass through. &#160;I definitely think we should be able to disable the &lt;tt&gt;ChunkCache&lt;/tt&gt;&#160;without impacting the &lt;tt&gt;BufferPool&lt;/tt&gt; and seem like they should be two separate configuration entries to me.&lt;/p&gt;

&lt;p&gt;The code changes look good too.&#160;&lt;/p&gt;

&lt;p&gt;The only thing that needs more discussion is the change to make the ChunkCache be disabled by default.&#160;A single benchmark isn&apos;t enough evidence to convince me.&#160;&lt;/p&gt;

&lt;p&gt;We could either leave the&#160;default&#160;as enabled (in which case I think it&apos;s already good to go once CI is happy), or if we are able to collect a few more benchmarks (read-heavy, write-heavy, compaction-heavy, hot-key) to justify disabling then we should do so.&lt;/p&gt;</comment>
                            <comment id="17173546" author="dcapwell" created="Sat, 8 Aug 2020 02:38:41 +0000"  >&lt;p&gt;Fair point.  I am spinning up two clusters, with and without CC, and can run a few benchmarks Monday.&lt;/p&gt;

&lt;p&gt;The current test used was a write heavy clustering key test with slices on clustering, but mostly looked at the selects for this patch.  Given the logic I see the next test I will run is a 100% read test with pre-populated data.&lt;/p&gt;</comment>
                            <comment id="17175098" author="dcapwell" created="Mon, 10 Aug 2020 23:15:32 +0000"  >&lt;p&gt;Attached test which fetches rows using IN clause, this test is 11% reads as well.  For the graph oss-pushbutton-62-selects is a cluster without this patch, and oss-pushbutton-63-selects is a cluster with this patch and the default of off.&lt;/p&gt;

&lt;p&gt;What I see is that up to 99% they are roughly equal, and that over 99% disabling chunk cache is more stable.&lt;/p&gt;</comment>
                            <comment id="17175741" author="dcapwell" created="Tue, 11 Aug 2020 17:33:54 +0000"  >&lt;p&gt;Added a read only workload; select = with chunk cache, select-2 is without chunk cache.  What I see is up to 99% they are equal, after with chunk cache has an advantage, then at 99.99 without chunk cache has the advantage.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
selects.hdr
#[Mean    =     49.88099, StdDeviation   =     37.74398]
#[Max     =   1826.77504, Total count    =      2880010]
#[Buckets =           25, SubBuckets     =       262144]
selects-2.hdr
#[Mean    =     51.66994, StdDeviation   =     44.94572]
#[Max     =   1810.85798, Total count    =      2880036]
#[Buckets =           25, SubBuckets     =       262144]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The mean has a diff of about 1ms.&lt;/p&gt;</comment>
                            <comment id="17175742" author="dcapwell" created="Tue, 11 Aug 2020 17:34:33 +0000"  >&lt;p&gt;In summary of what I see&lt;/p&gt;

&lt;p&gt;1) if cluster has no writes and only does reads, there is a small advantage &lt;br/&gt;
2) if the cluster is doing compactions, there are no advantages&lt;/p&gt;</comment>
                            <comment id="17176573" author="dcapwell" created="Wed, 12 Aug 2020 20:04:36 +0000"  >&lt;p&gt;Will redo the tests since just saw that the runners were in a different DC than the cluster.&lt;/p&gt;</comment>
                            <comment id="17176693" author="dcapwell" created="Thu, 13 Aug 2020 01:28:22 +0000"  >&lt;p&gt;Here are the results rerunning again (didn&apos;t populate data before test, relied on the same clusters)&lt;/p&gt;

&lt;p&gt;cluster 62 = with chunk cache&lt;br/&gt;
cluster 63 = without chunk cache&lt;/p&gt;

&lt;p&gt;clustering slice:&lt;br/&gt;
read rate: 11%&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009751/clustering-slice_latency_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009750/clustering-slice_latency_under90_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;clustering in-clause:&lt;br/&gt;
read rate: 11%&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009749/clustering-in-clause_latency_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009748/clustering-in-clause_latency_under90_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Attempt 3&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009803/clustering-in-clause_latency_selects_baseline_attempt3.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009802/clustering-in-clause_latency_under90_selects_baseline_attempt3.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;medium blob:&lt;br/&gt;
Read rate: 100%&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009747/medium-blobs_latency_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009746/medium-blobs_latency_under90_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Partition single row read&lt;br/&gt;
Read rate: 100%&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009745/partition-single-row-read_latency_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009744/partition-single-row-read_latency_under90_selects_baseline.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17176708" author="dcapwell" created="Thu, 13 Aug 2020 01:49:09 +0000"  >&lt;p&gt;Here are the results I am seeing (baseline is 3.0); all read only tests are expected to have zero compaction going on, the cluster only ran the specific workload at the time, multi workload traffic has not happened.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Point reads show roughly equal performance&lt;/li&gt;
	&lt;li&gt;Scans around 99.5% we see cache doing better but under that non cache is better&lt;/li&gt;
	&lt;li&gt;In clause shows improvement with cache&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From past testing, anything greater than 99.99% is too noisy to really look at, so ignoring that when making my statements.  Given this the only test out of the 4 that had any benefit was the in-clause test (will run a few more times to see how stable), and the scan tests were generally regressed.  The tests which were designed to highlight this feature (medium blob, and Partition single row read) showed no difference with or without the cache.&lt;/p&gt;

&lt;p&gt;In my experience, in clause is rather rare but scans are much more common (partition read, read range by clustering, read latest N rows, etc.).  If compaction is constantly running (unlikely in these tests, much more likely in production) then the cache is invalidated very frequently which should yield worse results than what these tests show (homogeneous query pattern vs heterogeneous query pattern); given this I am still in favor of the default of false.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmeredithco&quot; class=&quot;user-hover&quot; rel=&quot;jmeredithco&quot;&gt;jmeredithco&lt;/a&gt; can you review again?  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; can I get your feedback as well?&lt;/p&gt;</comment>
                            <comment id="17176756" author="jasonstack" created="Thu, 13 Aug 2020 04:22:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; sorry, won&apos;t be able to look deeper into chunk cache this week. But based on the comparison between 3.0 baseline, 4.0 chunk cache, and 4.0 no chunk cache, disabling chunk-cache didn&apos;t bridge the gap between 3.0 and 4.0. I wonder if something else is affecting the perf instead of chunk cache. do you have JFR?&lt;/p&gt;</comment>
                            <comment id="17177129" author="dcapwell" created="Thu, 13 Aug 2020 16:17:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wonder if something else is affecting the perf instead of chunk cache.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, it looks like more is going on, so have to look closer.  I was curious about networking since I knew two different JIRA were going on with regard to networking perf, since the two tests which regressed returns more data, thought it could be some how related.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;do you have JFR?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;JFR no, but I did have a flame graph from the first attempt&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13009804/async-profile.collapsed.svg&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;
</comment>
                            <comment id="17180856" author="jmeredithco" created="Wed, 19 Aug 2020 22:18:57 +0000"  >&lt;p&gt;Thanks for doing the extra benchmarking.  Results seem to be fairly close, and to get the best out of things users would need to optimize and benchmark anyway to work out how to use their memory budget.&lt;/p&gt;

&lt;p&gt;+1 from me, with a minor nit that it would be good to update &lt;tt&gt;conf/cassandra.yaml&lt;/tt&gt; with a commented out entry and some description of what the setting controls.&lt;/p&gt;</comment>
                            <comment id="17186039" author="dcapwell" created="Thu, 27 Aug 2020 18:33:52 +0000"  >&lt;p&gt;Thanks jon, will update conf/cassandra.yaml.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;work out how to use their memory budget.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, this is why I still lean to this default.  I have not found a use case which benefits from chunk cache and find some use cases which are roughly equal with and without, so favor disabling in these cases to save memory (a much limited resource in production).&lt;/p&gt;</comment>
                            <comment id="17186046" author="dcapwell" created="Thu, 27 Aug 2020 18:39:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmeredithco&quot; class=&quot;user-hover&quot; rel=&quot;jmeredithco&quot;&gt;jmeredithco&lt;/a&gt; pushed changes to the yaml to document this flag.&lt;/p&gt;</comment>
                            <comment id="17196484" author="dcapwell" created="Tue, 15 Sep 2020 19:04:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; would be great to get your feedback.  This patch does not fix the perf regression, so hoping we can defer that to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16078&quot; title=&quot;Performance regression for queries accessing multiple rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16078&quot;&gt;&lt;del&gt;CASSANDRA-16078&lt;/del&gt;&lt;/a&gt;.  This mostly just disables as it doesn&apos;t appear I can find a use case which benefits from the feature, so feel that we should be explicit about having the feature on rather than default to it.&lt;/p&gt;</comment>
                            <comment id="17197107" author="jasonstack" created="Wed, 16 Sep 2020 17:00:34 +0000"  >&lt;p&gt;I wonder if the chunk-cache regression is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15229&quot; title=&quot;Segregate Network and Chunk Cache BufferPools and Recirculate Partially Freed Chunks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15229&quot;&gt;&lt;del&gt;CASSANDRA-15229&lt;/del&gt;&lt;/a&gt;, let me run some tests from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15229&quot; title=&quot;Segregate Network and Chunk Cache BufferPools and Recirculate Partially Freed Chunks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15229&quot;&gt;&lt;del&gt;CASSANDRA-15229&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Also, I am not a committer, you may need to find one more...&lt;/p&gt;</comment>
                            <comment id="17198173" author="jasonstack" created="Fri, 18 Sep 2020 07:12:59 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13011707/13011707_16036_128mb.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Above is write perf in mixed-read-write test using 128mb cache between 16036-disable-chunk-cache and its base line. Disabling chunk cache significantly improves latency.&#160; (read perf is similar to write perf)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13011706/13011706_15229_128mb.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Above is write perf in mixed-read-write test using 128mb cache between 15229-disable-chunk-cache and 15229-improved-buffer-pool. Disabling chunk cache show some improvement on latency.&#160; (read perf is similar to write perf)&lt;/p&gt;</comment>
                            <comment id="17198175" author="jasonstack" created="Fri, 18 Sep 2020 07:15:28 +0000"  >&lt;p&gt;+1 to disable chunk cache until we get &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15229&quot; title=&quot;Segregate Network and Chunk Cache BufferPools and Recirculate Partially Freed Chunks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15229&quot;&gt;&lt;del&gt;CASSANDRA-15229&lt;/del&gt;&lt;/a&gt; and other improvements (eg. fixed buffer size) into chunk cache.&lt;/p&gt;</comment>
                            <comment id="17198466" author="dcapwell" created="Fri, 18 Sep 2020 17:18:00 +0000"  >&lt;p&gt;Awesome, thanks for the feedback.&lt;/p&gt;</comment>
                            <comment id="17204208" author="dcapwell" created="Tue, 29 Sep 2020 18:58:00 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jasonstack&quot; class=&quot;user-hover&quot; rel=&quot;jasonstack&quot;&gt;jasonstack&lt;/a&gt; is a committer (congrats!) I will move forward to merge this later today (after rerunning CI on it).&lt;/p&gt;</comment>
                            <comment id="17204290" author="dcapwell" created="Tue, 29 Sep 2020 21:10:33 +0000"  >&lt;p&gt;CI results (pending):&lt;/p&gt;

&lt;p&gt;Circle: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-16036-trunk-B4951B6C-9967-4B3D-A93A-5C5539DDE804&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-16036-trunk-B4951B6C-9967-4B3D-A93A-5C5539DDE804&lt;/a&gt;&lt;br/&gt;
Jenkins: &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/51/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch/51/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17204320" author="dcapwell" created="Tue, 29 Sep 2020 22:14:02 +0000"  >&lt;p&gt;rebase and broke JMX (since it isn&apos;t enabled) so enabled check cache in testing and tests are passing.  I am running CI against trunk as the failing tests are consistent and failing for other branches, so isolating the changes to make sure those tests are not broken here.&lt;/p&gt;</comment>
                            <comment id="17204330" author="dcapwell" created="Tue, 29 Sep 2020 22:26:28 +0000"  >&lt;p&gt;ok so looks like the read_repair tests and the gossiper test was broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15833&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-15833&lt;/a&gt;, so can ignore in this results.  Will rerun the tests with the commit to enable the cache in tests.&lt;/p&gt;</comment>
                            <comment id="17204331" author="dcapwell" created="Tue, 29 Sep 2020 22:30:01 +0000"  >&lt;p&gt;Updated CI results&lt;/p&gt;

&lt;p&gt;Circle: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-16036-trunk-2EBAD3E9-4394-4D42-9213-69A6590F37E2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-16036-trunk-2EBAD3E9-4394-4D42-9213-69A6590F37E2&lt;/a&gt; (expected test failures caused by other JIRA, and 1 flaky test in no-vnode case but not in vnode case)&lt;br/&gt;
Jenkins: &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-devbranch/52/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-devbranch/52/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;trunk baseline: &lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra/574/workflows/19f38f3c-9da3-42d5-ba5f-269f0285b791&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/dcapwell/cassandra/574/workflows/19f38f3c-9da3-42d5-ba5f-269f0285b791&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13324891">CASSANDRA-16078</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13330455">CASSANDRA-16158</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13245177">CASSANDRA-15229</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13011706" name="15229_128mb.png" size="185964" author="jasonstack" created="Thu, 17 Sep 2020 17:52:16 +0000"/>
                            <attachment id="13011707" name="16036_128mb.png" size="197025" author="jasonstack" created="Thu, 17 Sep 2020 17:52:16 +0000"/>
                            <attachment id="13009804" name="async-profile.collapsed.svg" size="1381780" author="dcapwell" created="Thu, 13 Aug 2020 16:16:41 +0000"/>
                            <attachment id="13009749" name="clustering-in-clause_latency_selects_baseline.png" size="97855" author="dcapwell" created="Thu, 13 Aug 2020 01:21:45 +0000"/>
                            <attachment id="13009803" name="clustering-in-clause_latency_selects_baseline_attempt3.png" size="101776" author="dcapwell" created="Thu, 13 Aug 2020 16:11:58 +0000"/>
                            <attachment id="13009748" name="clustering-in-clause_latency_under90_selects_baseline.png" size="97861" author="dcapwell" created="Thu, 13 Aug 2020 01:21:48 +0000"/>
                            <attachment id="13009802" name="clustering-in-clause_latency_under90_selects_baseline_attempt3.png" size="98817" author="dcapwell" created="Thu, 13 Aug 2020 16:11:58 +0000"/>
                            <attachment id="13009751" name="clustering-slice_latency_selects_baseline.png" size="101345" author="dcapwell" created="Thu, 13 Aug 2020 01:21:48 +0000"/>
                            <attachment id="13009750" name="clustering-slice_latency_under90_selects_baseline.png" size="100599" author="dcapwell" created="Thu, 13 Aug 2020 01:21:45 +0000"/>
                            <attachment id="13009747" name="medium-blobs_latency_selects_baseline.png" size="101010" author="dcapwell" created="Thu, 13 Aug 2020 01:21:48 +0000"/>
                            <attachment id="13009746" name="medium-blobs_latency_under90_selects_baseline.png" size="88913" author="dcapwell" created="Thu, 13 Aug 2020 01:21:45 +0000"/>
                            <attachment id="13009745" name="partition-single-row-read_latency_selects_baseline.png" size="84533" author="dcapwell" created="Thu, 13 Aug 2020 01:21:48 +0000"/>
                            <attachment id="13009744" name="partition-single-row-read_latency_under90_selects_baseline.png" size="80003" author="dcapwell" created="Thu, 13 Aug 2020 01:21:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12984" cascade-level=""><![CDATA[Degradation]]></customfieldvalue>
                                <customfieldvalue key="12997" cascade-level="1"><![CDATA[Performance Bug/Regression]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12973"><![CDATA[Performance Regression Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hjzk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jmeredithco]]></customfieldvalue>
        <customfieldvalue><![CDATA[jasonstack]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12339157">3.11.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/d4f501892d882cb1bf62529f0e72cf7d9c61e323&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/d4f501892d882cb1bf62529f0e72cf7d9c61e323&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;CI and performance tests&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>