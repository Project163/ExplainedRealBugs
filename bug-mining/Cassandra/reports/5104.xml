<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:12:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14824] Expand range tombstone validation checks to multiple interim request stages</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14824</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;tt&gt;RTBoundValidator&lt;/tt&gt; was originally only added to verify the end-game response iterator produced by &lt;tt&gt;ReadCommand&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;However, turns out it&apos;s possible for sequencing errors in lower-level iterators to be silently erased by upstream iterators - as a result of merging two invalid iterators into one valid iterator, for example. &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-14823&quot; title=&quot;Legacy sstables with range tombstones spanning multiple index blocks create invalid bound sequences on 3.0+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-14823&quot;&gt;&lt;del&gt;CASSANDRA-14823&lt;/del&gt;&lt;/a&gt; can create such a scenario.&lt;/p&gt;

&lt;p&gt;The upcoming patch would attach the checker at the intermediate stages, ensuring that we can detect those otherwise silent corruptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13191665">CASSANDRA-14824</key>
            <summary>Expand range tombstone validation checks to multiple interim request stages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aleksey">Aleksey Yeschenko</assignee>
                                    <reporter username="aleksey">Aleksey Yeschenko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Oct 2018 17:21:36 +0000</created>
                <updated>Fri, 15 May 2020 08:03:13 +0000</updated>
                            <resolved>Tue, 16 Oct 2018 16:29:41 +0000</resolved>
                                        <fixVersion>3.0.18</fixVersion>
                    <fixVersion>3.11.4</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Local/SSTable</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16650661" author="iamaleksey" created="Mon, 15 Oct 2018 19:24:33 +0000"  >&lt;p&gt;Code for &lt;a href=&quot;https://github.com/iamaleksey/cassandra/commits/14824-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;, CI for &lt;a href=&quot;https://circleci.com/workflow-run/7cd1b687-dabd-4c02-b70b-3ca908471043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;; Some hiccups with 3.11 and 4.0 branches, will resolve soonish.&lt;/p&gt;</comment>
                            <comment id="16650961" author="bdeggleston" created="Mon, 15 Oct 2018 23:24:12 +0000"  >&lt;p&gt;looks good to me. The only think I might change would be to move the MERGED validator out of queryStorage and into executeLocally, which would validate the pre-purge stage for 2i implementations that may not be checking, but I don&apos;t feel strongly about it.&lt;/p&gt;</comment>
                            <comment id="16651522" author="beobal" created="Tue, 16 Oct 2018 11:21:19 +0000"  >&lt;p&gt;LGTM, my only query would be whether &lt;tt&gt;Stage.OTHER&lt;/tt&gt; is really necessary. It&apos;s only used in tests, where any of the other enum values could be used. Not something I feel strongly about though.&#160;&lt;/p&gt;</comment>
                            <comment id="16652034" author="iamaleksey" created="Tue, 16 Oct 2018 16:28:55 +0000"  >&lt;p&gt;Thanks. Committed to 3.0 as &lt;a href=&quot;https://github.com/apache/cassandra/commit/5e969e9cfd7e776dadeb51d1003bbfe79544ca08&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5e969e9cfd7e776dadeb51d1003bbfe79544ca08&lt;/a&gt; and merged up with 3.11 and trunk.&lt;/p&gt;

&lt;p&gt;Noticed some omissions, and had to fight some 3.11 differences until CI for all branches was made happy, so this took a bit longer than expected.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12987" cascade-level="1"><![CDATA[Transient Incorrect Response]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12313826" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Change Category</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13006"><![CDATA[Quality Assurance]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3z7lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bdeggleston]]></customfieldvalue>
        <customfieldvalue><![CDATA[samt]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>