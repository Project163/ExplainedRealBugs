<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:19:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16429] Fix incorrect encoding for strings can be UTF8</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16429</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Tables created with Japanese character name columns are working well in C* 3.11.10 when doing a SELECT * in cqlsh but will show as garbled (shown as &quot;?&quot;) in 4.0-beta4. DESCRIBE shows the column names correctly in both cases.&lt;/p&gt;

&lt;p&gt;Run the attached jptest.cql script in both envs with cqlsh -f. They will yield different results.&lt;/p&gt;

&lt;p&gt;My test env (MacOS 10.15.7):&lt;/p&gt;

&lt;p&gt;C* 3.11.10 with&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_252-b09)&lt;/li&gt;
	&lt;li&gt;Python 2.7.16&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;C* 4.0-beta4&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.9.1+1)&lt;/li&gt;
	&lt;li&gt;Python 3.8.2&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13357263">CASSANDRA-16429</key>
            <summary>Fix incorrect encoding for strings can be UTF8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yifanc">Yifan Cai</assignee>
                                    <reporter username="ykimoto">Yoshi Kimoto</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Feb 2021 13:00:16 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:45 +0000</updated>
                            <resolved>Tue, 23 Feb 2021 03:00:14 +0000</resolved>
                                        <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>CQL/Interpreter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17280703" author="jeromatron" created="Mon, 8 Feb 2021 00:38:42 +0000"  >&lt;p&gt;Could this be related to the new code that exposes table schema directly to the drivers?  &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-14825&quot; title=&quot;Expose table schema for drivers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-14825&quot;&gt;&lt;del&gt;CASSANDRA-14825&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17280895" author="blerer" created="Mon, 8 Feb 2021 09:46:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeromatron&quot; class=&quot;user-hover&quot; rel=&quot;jeromatron&quot;&gt;jeromatron&lt;/a&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-14825&quot; title=&quot;Expose table schema for drivers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-14825&quot;&gt;&lt;del&gt;CASSANDRA-14825&lt;/del&gt;&lt;/a&gt; changed only the way the output of the `DESCRIBE` statement worked. According to your comment this part is functionning so I believe that the problem has been caused by some other change.&lt;/p&gt;</comment>
                            <comment id="17282635" author="aholmber" created="Wed, 10 Feb 2021 18:51:07 +0000"  >&lt;p&gt;I&apos;m seeing the same behavior in SELECT results for 3.11. Additionally, 4.0 actually fails to even run the DDL:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&apos;ascii&apos; codec can&apos;t encode characters in position 44-45: ordinal not in range(128)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(this is with Python 2.7)&lt;/p&gt;</comment>
                            <comment id="17282657" author="aholmber" created="Wed, 10 Feb 2021 19:25:37 +0000"  >&lt;p&gt;Scratch that. Not observed in 3.11. They showed when using 3.11 cqlsh against 4.0. I entered this assuming it would be a cqlsh (or driver) issue. It turns out &quot;??&quot; is actually coming back in the results metadata from the server. Digging further...&lt;/p&gt;</comment>
                            <comment id="17282672" author="ykimoto" created="Wed, 10 Feb 2021 19:50:11 +0000"  >&lt;p&gt;Using 4.10.0 Java driver, If you do:&lt;/p&gt;

&lt;p&gt;            rs = session.execute(&quot;select * from jptest.test;&quot;);&lt;br/&gt;
            row = rs.one();&lt;br/&gt;
            System.out.println(&quot;getFormattedContents() = &quot;+ row.getFormattedContents());&lt;br/&gt;
            System.out.println(&quot;getColumnDefinitions().get(0).getName() = &quot; + row.getColumnDefinitions().get(0).getName());&lt;br/&gt;
            System.out.println(&quot;getColumnDefinitions().get(1).getName() = &quot; + row.getColumnDefinitions().get(1).getName());&lt;/p&gt;

&lt;p&gt;will return the &quot;??&quot;s in 4 and will be correct in 3.11. And trying&lt;/p&gt;

&lt;p&gt;            System.out.println(&quot;getString(&#12461;&#12540;) = &quot;+ row.getString(&quot;&#12461;&#12540;&quot;));&lt;br/&gt;
            System.out.println(&quot;getString(&#20516;) = &quot;+ row.getString(&quot;&#20516;&quot;));&lt;/p&gt;

&lt;p&gt;will result in the following in 4 but works in 3.11:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: &#12461;&#12540; is not a column in this row&lt;br/&gt;
    at com.datastax.oss.driver.internal.core.cql.DefaultRow.firstIndexOf (DefaultRow.java:110)&lt;br/&gt;
    at com.datastax.oss.driver.api.core.data.GettableByName.getString (GettableByName.java:421)&lt;br/&gt;
    at CassandraNonAsciiColumnNameTest.main (CassandraNonAsciiColumnNameTest.java:59)&lt;br/&gt;
    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)&lt;br/&gt;
    at java.lang.Thread.run (Thread.java:834)&lt;/p&gt;</comment>
                            <comment id="17282726" author="aholmber" created="Wed, 10 Feb 2021 21:01:00 +0000"  >&lt;p&gt;The ResultSet Metadata encoding is failing non-ASCII characters because of an optimization introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15410&quot; title=&quot;Avoid over-allocation of bytes for UTF8 string serialization &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15410&quot;&gt;&lt;del&gt;CASSANDRA-15410&lt;/del&gt;&lt;/a&gt;, which assumes we&apos;re always encoding ASCII identifiers. Cassandra &lt;a href=&quot;https://cassandra.apache.org/doc/latest/cql/definitions.html#identifiers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;docs&lt;/a&gt; say identifiers are supposed to be ASCII, but that has not been enforced. So we will need to decide if we want to revert this optimization for compatibility, or if we should instead introduce unicode detection.&lt;/p&gt;

&lt;p&gt;Paging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yifanc&quot; class=&quot;user-hover&quot; rel=&quot;yifanc&quot;&gt;yifanc&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aleksey&quot; class=&quot;user-hover&quot; rel=&quot;aleksey&quot;&gt;aleksey&lt;/a&gt; for their input. I know the microbenchmark showed a great improvement for this encoding in particular, but do we have some idea of how significantly it figures in the overall request execution?&lt;/p&gt;</comment>
                            <comment id="17282829" author="yifanc" created="Thu, 11 Feb 2021 01:28:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;, thanks for the investigation!&#160;&lt;/p&gt;

&lt;p&gt;I can reproduce the issue with trunk.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cqlsh&amp;gt; CREATE TABLE test.non_ascii_test ( &lt;span class=&quot;code-quote&quot;&gt;&quot;&#27979;&#35797;&quot;&lt;/span&gt; text PRIMARY KEY, value text);
cqlsh&amp;gt; INSERT INTO test.non_ascii_test (&lt;span class=&quot;code-quote&quot;&gt;&quot;&#27979;&#35797;&quot;&lt;/span&gt;, value) VALUES (&lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;bar&apos;&lt;/span&gt;);
cqlsh&amp;gt; SELECT * FROM test.non_ascii_test;
 ??  | value
-----+-------
 foo |   bar

(1 rows)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The optimization basically enforce the ASCII encoding for keyspace, table and column name. &lt;br/&gt;
 For the keyspace and table name, the cql parser does have a strict rule of using only&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[a-zA-Z_0-9]{1, 48}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, for the column names, the rule is loose. We can have UTF-8 characters as column names as long as they are quoted, but it is not explicitly mentioned in the docs.&lt;/p&gt;

&lt;p&gt;It is important to maintain the backward compatibility. So proposing that we keep the ASCII encoding for keyspace and table name and revert the encoding of the column names back. I can make a small patch that does it real quick.&lt;/p&gt;</comment>
                            <comment id="17282848" author="yifanc" created="Thu, 11 Feb 2021 03:14:38 +0000"  >&lt;p&gt;The WIP patch: &lt;a href=&quot;https://github.com/yifan-c/cassandra/commit/a5d0c9c4864899ef0f2bf65b82e7dc41288c2d09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/yifan-c/cassandra/commit/a5d0c9c4864899ef0f2bf65b82e7dc41288c2d09&lt;/a&gt; to allow UTF-8 string in column name.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#10140; bin/cqlsh
Connected to Test Cluster at 127.0.0.1:9042.
[cqlsh 5.0.1 | Cassandra 4.0-beta5-SNAPSHOT | CQL spec 3.4.5 | Native protocol v4]
Use HELP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; help.
cqlsh&amp;gt; CREATE KEYSPACE test WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;}  AND durable_writes = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
cqlsh&amp;gt; CREATE TABLE test.non_ascii_test ( &lt;span class=&quot;code-quote&quot;&gt;&quot;&#27979;&#35797;&quot;&lt;/span&gt; text PRIMARY KEY, value text);
cqlsh&amp;gt; INSERT INTO test.non_ascii_test (&lt;span class=&quot;code-quote&quot;&gt;&quot;&#27979;&#35797;&quot;&lt;/span&gt;, value) VALUES (&lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;bar&apos;&lt;/span&gt;);
cqlsh&amp;gt; SELECT * FROM test.non_ascii_test; 

  &#27979;&#35797; | value
------+-------
  foo |   bar

(1 rows)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17283369" author="aholmber" created="Thu, 11 Feb 2021 20:42:30 +0000"  >&lt;p&gt;Yifan asked about taking this over, so I&apos;m reassigning and moving on to something else.&lt;/p&gt;</comment>
                            <comment id="17286229" author="yifanc" created="Thu, 18 Feb 2021 02:08:58 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/cassandra/pull/907&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/907&lt;/a&gt;&lt;br/&gt;
Circle: &lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=CASSANDRA-16429%2Ftrunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=CASSANDRA-16429%2Ftrunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The patch reverts back to use the UTF8 compatible string encoding for column names, user defined type names and field names. Those are all the types of names that can use UTF8, according to the cql definition. &lt;br/&gt;
With the patch, the ASCII encoding is only used for table names, keyspace names and places we are sure that only contain ASCII characters. &lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;SerDeserTest&lt;/tt&gt; test cases are extended to cover the UTF8 cases. If unapply the patch, the test should fail. &lt;/p&gt;</comment>
                            <comment id="17286701" author="edimitrova" created="Thu, 18 Feb 2021 19:57:55 +0000"  >&lt;p&gt;As someone who was not familiar with the initial work and looks at it with fresh eyes, I have two directions of thinking:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A group of users who were using UTF8 in previous versions (and I can imagine them not being 1 or 2) observe a breaking change of expected behavior which is not documented.&lt;/li&gt;
	&lt;li&gt;We are just before a RC I believe and we promised no breaking changes anymore and now we revert, at least partially, a performance improvement. Then a different part of users gets disappointed as they were already testing and preparing for production migration or even running in production already on top of 4.0? Do we need broader agreement for this change?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In that sense I personally have the same question as&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Paging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yifanc&quot; class=&quot;user-hover&quot; rel=&quot;yifanc&quot;&gt;yifanc&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aleksey&quot; class=&quot;user-hover&quot; rel=&quot;aleksey&quot;&gt;aleksey&lt;/a&gt; for their input. I know the microbenchmark showed a great improvement for this encoding in particular, but do we have some idea of how significantly it figures in the overall request execution&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;PS In both cases I believe we will need to update the documentation accordingly around UTF8.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17286709" author="brandon.williams" created="Thu, 18 Feb 2021 20:14:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;we promised no breaking changes anymore and now we revert, at least partially, a performance improvement.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think a performance improvement can be considered a breaking change if removed, provided that improvement does not exist in previously released (ie, 3.x) versions. I also suspect this improvement is difficult to observe outside of a microbenchmark. &lt;/p&gt;</comment>
                            <comment id="17286765" author="edimitrova" created="Thu, 18 Feb 2021 23:21:43 +0000"  >&lt;p&gt;I didn&apos;t mean breaking in the sense of previous version. Just wanted to be sure that it is acceptable and we are sure about the impact of reverting a performance improvement just before the release.&#160;&lt;/p&gt;</comment>
                            <comment id="17286781" author="yifanc" created="Fri, 19 Feb 2021 00:15:39 +0000"  >&lt;p&gt;Thanks everyone for the input!&lt;/p&gt;

&lt;p&gt;I would like to revert all the necessary parts in order to maintain the compatibility. The patch attached does it. And we should also update the documentation.&#160;&lt;/p&gt;

&lt;p&gt;Regarding the performance optimization,&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Looking at commit&#160;&lt;a href=&quot;https://github.com/apache/cassandra/commit/647bdd6a11970f80666d7f20b53af76fbda4ff14#diff-82bdd361868471a5287c3b014ace6b5d3e6307557983d6eb9ef5dff27b97a408R144-R154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;c3b014a&lt;/a&gt;, I introduced &lt;tt&gt;writeAsciiString&lt;/tt&gt;, which is the fastest for ASCII strings, and a new implementation of &lt;tt&gt;writeString&lt;/tt&gt;, which computes the exact size to avoid overallocation. Both changes, according to the &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15410?focusedCommentId=16975536&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-16975536&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;micro bench result&lt;/a&gt;, provide noticeably speedup comparing with the original implementation that calls &lt;tt&gt;ByteBufUtil.writeUtf8&lt;/tt&gt;. In the attached patch, I only reverted the improper invocations of &lt;tt&gt;writeAsciiString&lt;/tt&gt; back to the new &lt;tt&gt;writeString&lt;/tt&gt;. It should still provide a better performance comparing with the pre-40 code.&lt;/li&gt;
	&lt;li&gt;The overall speedup for request execution may not be significant. The speedup of the encoding is at nanoseconds level, while, the query execution is at milliseconds level. Even if we are allowed to encode column names using &lt;tt&gt;writeAsciiString&lt;/tt&gt;, unless there are thousands of columns to be filled, it should not affects the overall execution time a lot.&lt;/li&gt;
	&lt;li&gt;I would argue to not fully revert back the optimization patch. Because the patch also avoids overallocation that reduces memory usage at runtime.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17287115" author="iamaleksey" created="Fri, 19 Feb 2021 15:11:28 +0000"  >&lt;p&gt;As others have said here, I don&apos;t believe we have a choice here, unfortunately. Of course there were people relying on lack of enforcement here. Sad to see the partial revert, but I&apos;m on board with keeping compatibility. The lesson here is that we need more validation of user inputs instead of implicit convention.&lt;/p&gt;</comment>
                            <comment id="17288438" author="edimitrova" created="Mon, 22 Feb 2021 15:33:05 +0000"  >&lt;p&gt;Thank &#160;you all!&lt;/p&gt;

&lt;p&gt;The patch looks good to me; we only need to update a bit the doc and I left just single small comment.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The lesson here is that we need more validation of user inputs instead of implicit convention.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Absolutely agree with you.&lt;/p&gt;</comment>
                            <comment id="17288582" author="edimitrova" created="Mon, 22 Feb 2021 19:19:01 +0000"  >&lt;p&gt;LGTM +1, I believe it is ready to commit after a squash and CHANGES.txt entry being added.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17288643" author="yifanc" created="Mon, 22 Feb 2021 21:45:33 +0000"  >&lt;p&gt;Starting commit&lt;/p&gt;

&lt;p&gt;CI Results:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Source&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Circle CI&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/yifan-c/cassandra/tree/commit_remote_branch/CASSANDRA-16429-trunk-C3A7A246-F5BF-4A45-9CDF-2D455ADEF39A&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/yifan-c/cassandra?branch=commit_remote_branch%2FCASSANDRA-16429-trunk-C3A7A246-F5BF-4A45-9CDF-2D455ADEF39A&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://ci-cassandra.apache.org/blue/organizations/jenkins/Cassandra-devbranch/detail/Cassandra-devbranch/393/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;The Circle and Jenkins runs have known test failures and they should not be related with the patch.&#160;&lt;/p&gt;</comment>
                            <comment id="17288804" author="yifanc" created="Tue, 23 Feb 2021 03:00:14 +0000"  >&lt;p&gt;Committed into trunk as &lt;a href=&quot;https://github.com/apache/cassandra/commit/f32475a839e01e4eea3989871d293d70e8a360d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;f32475a839e01e4eea3989871d293d70e8a360d7 &lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13267565">CASSANDRA-15410</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13020118" name="jptest.cql" size="338" author="ykimoto" created="Sat, 6 Feb 2021 12:56:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yifanc]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ng0w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348281">4.0-alpha1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/f32475a839e01e4eea3989871d293d70e8a360d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/f32475a839e01e4eea3989871d293d70e8a360d7&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;unit, circle&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>