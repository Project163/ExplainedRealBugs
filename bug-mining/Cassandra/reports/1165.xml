<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:23:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3245] Don&apos;t fail when numactl is installed, but NUMA policies are not supported</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3245</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When numactl is installed but NUMA policies are not supported, trying to run cassandra gives only:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;numactl: This system does not support NUMA policy
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;..and the startup script fails there.&lt;/p&gt;

&lt;p&gt;We should probably fail a little more gracefully. Possibly the best way to tell if numactl will work is by using:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;numactl --hardware
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but I don&apos;t have ready access to a machine with proper NUMA support at the moment so I can&apos;t check how easy it is to tell the difference in the output.&lt;/p&gt;

&lt;p&gt;It looks just as reliable (if possibly a bit more brittle) to check for the existence of the directory &lt;tt&gt;/sys/devices/system/node&lt;/tt&gt;. If that directory doesn&apos;t exist, we shouldn&apos;t even try to use or run numactl.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any Linux system where a &apos;numactl&apos; executable is available, but no NUMA policies are actually supported. EC2 nodes are easy examples of environments with no NUMA policy support.&lt;/p&gt;</environment>
        <key id="12524371">CASSANDRA-3245</key>
            <summary>Don&apos;t fail when numactl is installed, but NUMA policies are not supported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="scode">Peter Schuller</assignee>
                                    <reporter username="thepaul">paul cannon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2011 02:56:25 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:50 +0000</updated>
                            <resolved>Mon, 26 Sep 2011 20:47:27 +0000</resolved>
                                        <fixVersion>1.0.0</fixVersion>
                                    <component>Packaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13113270" author="scode" created="Fri, 23 Sep 2011 08:52:21 +0000"  >&lt;p&gt;Or we could do something seemingly ugly but probably very effective and safe: Try running &quot;ls -d / &amp;gt; /dev/null&quot; with numactl and if that fails, assume it is because numactl isn&apos;t working. That should hopefully work in pretty much any environment.&lt;/p&gt;

&lt;p&gt;I&apos;ll submit a patch soonish.&lt;/p&gt;</comment>
                            <comment id="13114341" author="scode" created="Sun, 25 Sep 2011 19:39:10 +0000"  >&lt;p&gt;Attaching trivial patch that does the ls test.&lt;/p&gt;

&lt;p&gt;@paul Can you test whether numactl exits with a proper non-0 exit status on the system where it is not supported? I&apos;ve tested the script as such, but I don&apos;t have a system available without the necessary support to test on.&lt;/p&gt;</comment>
                            <comment id="13114732" author="thepaul" created="Mon, 26 Sep 2011 15:46:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;@paul Can you test whether numactl exits with a proper non-0 exit status on the system where it is not supported?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Indeed it does; using --interleave=all when there is no NUMA policy support causes an exit value of 1.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13114908" author="jbellis" created="Mon, 26 Sep 2011 20:47:27 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12496408" name="3245.txt" size="726" author="scode" created="Sun, 25 Sep 2011 19:39:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[scode]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ghkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thepaul</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>