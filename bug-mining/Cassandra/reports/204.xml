<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:11:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-546] Streaming error on bootstrap</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-546</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Received the following error while bootstrapping a new node:&lt;/p&gt;

&lt;p&gt;DEBUG - Adding stream context /usr/local/cassandra-trunk/data/data/Mahalo/VideosInSection-tmp-1-Data.db:4096052 for /10.1.10.198 ...&lt;br/&gt;
DEBUG - Sending a stream initiate done message ...&lt;br/&gt;
WARN - Problem reading from socket connected to : java.nio.channels.SocketChannel&lt;span class=&quot;error&quot;&gt;&amp;#91;connected local=/10.2.4.114:7000 remote=/2xx.2xx.194.2xx:55515&amp;#93;&lt;/span&gt;&lt;br/&gt;
WARN - Exception was generated at : 11/12/2009 15:30:38 on thread MESSAGING-SERVICE-POOL:3&lt;br/&gt;
Streaming context has not been set.&lt;br/&gt;
java.lang.IllegalStateException: Streaming context has not been set.&lt;br/&gt;
	at org.apache.cassandra.net.io.StreamContextManager.getStreamContext(StreamContextManager.java:264)&lt;br/&gt;
	at org.apache.cassandra.net.io.ContentStreamState.&amp;lt;init&amp;gt;(ContentStreamState.java:47)&lt;br/&gt;
	at org.apache.cassandra.net.io.ProtocolHeaderState.morphState(ProtocolHeaderState.java:66)&lt;br/&gt;
	at org.apache.cassandra.net.io.StartState.doRead(StartState.java:48)&lt;br/&gt;
	at org.apache.cassandra.net.io.ProtocolHeaderState.read(ProtocolHeaderState.java:39)&lt;br/&gt;
	at org.apache.cassandra.net.io.TcpReader.read(TcpReader.java:96)&lt;br/&gt;
	at org.apache.cassandra.net.TcpConnection$ReadWorkItem.run(TcpConnection.java:427)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;full log ---&amp;gt; &lt;a href=&quot;http://pastie.org/695593&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pastie.org/695593&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;FreeBSD 7.2-RELEASE amd64 &lt;br/&gt;
Diablo Java HotSpot(TM) 64-Bit Server VM (build 10.0-b23, mixed mode)&lt;/p&gt;</environment>
        <key id="12440508">CASSANDRA-546</key>
            <summary>Streaming error on bootstrap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rays">Ray Slakinski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Nov 2009 16:17:38 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:32 +0000</updated>
                            <resolved>Fri, 13 Nov 2009 02:32:23 +0000</resolved>
                                        <fixVersion>0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12777119" author="jbellis" created="Thu, 12 Nov 2009 18:58:20 +0000"  >&lt;p&gt;this was fixed by 538, but a new one was introduced: &lt;a href=&quot;http://pastie.org/695859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pastie.org/695859&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12777190" author="rays" created="Thu, 12 Nov 2009 21:15:03 +0000"  >&lt;p&gt;applied patch and get the below error, which is (from what I can tell) the same as the first error.&lt;/p&gt;

&lt;p&gt;WARN - Problem reading from socket connected to : java.nio.channels.SocketChannel&lt;span class=&quot;error&quot;&gt;&amp;#91;connected local=/10.2.4.114:7000 remote=/7x.6x.2xx.1xx:63447&amp;#93;&lt;/span&gt;&lt;br/&gt;
WARN - Exception was generated at : 11/12/2009 20:36:42 on thread MESSAGING-SERVICE-POOL:3&lt;br/&gt;
Streaming context has not been set.&lt;br/&gt;
java.lang.IllegalStateException: Streaming context has not been set.&lt;br/&gt;
	at org.apache.cassandra.net.io.StreamContextManager.getStreamContext(StreamContextManager.java:264)&lt;br/&gt;
	at org.apache.cassandra.net.io.ContentStreamState.&amp;lt;init&amp;gt;(ContentStreamState.java:47)&lt;br/&gt;
	at org.apache.cassandra.net.io.ProtocolHeaderState.morphState(ProtocolHeaderState.java:66)&lt;br/&gt;
	at org.apache.cassandra.net.io.StartState.doRead(StartState.java:48)&lt;br/&gt;
	at org.apache.cassandra.net.io.ProtocolHeaderState.read(ProtocolHeaderState.java:39)&lt;br/&gt;
	at org.apache.cassandra.net.io.TcpReader.read(TcpReader.java:96)&lt;br/&gt;
	at org.apache.cassandra.net.TcpConnection$ReadWorkItem.run(TcpConnection.java:427)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;svn diff output: &lt;a href=&quot;http://pastie.org/696251&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pastie.org/696251&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12777222" author="jbellis" created="Thu, 12 Nov 2009 21:35:29 +0000"  >&lt;p&gt;difficult to disentangle this from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-541&quot; title=&quot;allow moving a live node with data on it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-541&quot;&gt;&lt;del&gt;CASSANDRA-541&lt;/del&gt;&lt;/a&gt;.  moving fixes there.&lt;/p&gt;</comment>
                            <comment id="12777237" author="jbellis" created="Thu, 12 Nov 2009 22:28:41 +0000"  >&lt;p&gt;ok, this is separate from the generic bootstrap/move bugs&lt;/p&gt;

&lt;p&gt;the problem is, Ray has two interfaces and mostly Cassandra uses the internal one, but bootstrap is trying to stream over the external one which confuses things.&lt;/p&gt;

&lt;p&gt;with the debug info from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-541&quot; title=&quot;allow moving a live node with data on it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-541&quot;&gt;&lt;del&gt;CASSANDRA-541&lt;/del&gt;&lt;/a&gt; this is clear:&lt;/p&gt;

&lt;p&gt;DEBUG - Sending BootstrapMetadataMessage to /10.1.10.198 for (68939025851256836916907001051563673941,85173388956504742541769293679392562704]&lt;br/&gt;
ERROR - java.lang.IllegalStateException: Streaming context has not been set for /74.6x.2xx.1xx&lt;/p&gt;</comment>
                            <comment id="12777249" author="jbellis" created="Thu, 12 Nov 2009 22:48:57 +0000"  >&lt;p&gt;attempt to force correct local address in bind&lt;/p&gt;</comment>
                            <comment id="12777343" author="jbellis" created="Fri, 13 Nov 2009 02:32:23 +0000"  >&lt;p&gt;from irc:&lt;/p&gt;

&lt;p&gt;raysl: looks like it&apos;s working&lt;/p&gt;

&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12777482" author="hudson" created="Fri, 13 Nov 2009 12:35:04 +0000"  >&lt;p&gt;Integrated in Cassandra #257 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/257/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/257/&lt;/a&gt;)&lt;br/&gt;
    force bind to correct address&lt;br/&gt;
patch by jbellis; reviewed by Ray Slakinski for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12424784" name="546.patch" size="1263" author="jbellis" created="Thu, 12 Nov 2009 22:48:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fzlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>