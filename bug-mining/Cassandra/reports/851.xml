<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:20:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2501] Error running cqlsh from .tar file -- global name &apos;SchemaDisagreementException&apos; is not defined</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2501</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;b&gt;Error when running cqlsh&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@cdaw-qa1 cql-1.0.0]$ cqlsh cdaw-qa1
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 212, in &amp;lt;module&amp;gt;
    password=options.password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 55, in __init__
    self.conn = cql.connect(hostname, port, user=username, password=password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/__init__.py&quot;&lt;/span&gt;, line 51, in connect
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; connection.Connection(host, port, keyspace, user, password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/connection.py&quot;&lt;/span&gt;, line 53, in __init__
    c.execute(&lt;span class=&quot;code-quote&quot;&gt;&apos;USE %s;&apos;&lt;/span&gt; % keyspace)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/cursor.py&quot;&lt;/span&gt;, line 126, in execute
    except SchemaDisagreementException, sde:
NameError: global name &lt;span class=&quot;code-quote&quot;&gt;&apos;SchemaDisagreementException&apos;&lt;/span&gt; is not defined
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;b&gt;Build&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Install the cassandra binary from the nightly build&lt;br/&gt;
wget &lt;a href=&quot;https://builds.apache.org/hudson/job/Cassandra/lastSuccessfulBuild/artifact/cassandra/build/apache-cassandra-2011-04-18_11-02-29-bin.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/hudson/job/Cassandra/lastSuccessfulBuild/artifact/cassandra/build/apache-cassandra-2011-04-18_11-02-29-bin.tar.gz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Install cql from .tar file on nightly build&lt;br/&gt;
wget &lt;a href=&quot;https://builds.apache.org/hudson/job/Cassandra/lastSuccessfulBuild/artifact/cassandra/build/cql-1.0.0.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/hudson/job/Cassandra/lastSuccessfulBuild/artifact/cassandra/build/cql-1.0.0.tar.gz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;CQL Install Output&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[cassandra@cdaw-qa1 cql-1.0.0]$ sudo python2.6 ./setup.py install
[sudo] password &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; cassandra: 
running install
running build
running build_py
running build_scripts
creating build/scripts-2.6
copying and adjusting cqlsh -&amp;gt; build/scripts-2.6
changing mode of build/scripts-2.6/cqlsh from 644 to 755
running install_lib
creating /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/results.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/marshal.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/connection.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/cursor.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
creating /usr/lib/python2.6/site-packages/cql/cassandra
copying build/lib/cql/cassandra/__init__.py -&amp;gt; /usr/lib/python2.6/site-packages/cql/cassandra
copying build/lib/cql/cassandra/Cassandra.py -&amp;gt; /usr/lib/python2.6/site-packages/cql/cassandra
copying build/lib/cql/cassandra/constants.py -&amp;gt; /usr/lib/python2.6/site-packages/cql/cassandra
copying build/lib/cql/cassandra/ttypes.py -&amp;gt; /usr/lib/python2.6/site-packages/cql/cassandra
copying build/lib/cql/decoders.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/__init__.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/errors.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
copying build/lib/cql/connection_pool.py -&amp;gt; /usr/lib/python2.6/site-packages/cql
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/results.py to results.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/marshal.py to marshal.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/connection.py to connection.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/cursor.py to cursor.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/cassandra/__init__.py to __init__.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/cassandra/Cassandra.py to Cassandra.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/cassandra/constants.py to constants.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/cassandra/ttypes.py to ttypes.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/decoders.py to decoders.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/__init__.py to __init__.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/errors.py to errors.pyc
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;-compiling /usr/lib/python2.6/site-packages/cql/connection_pool.py to connection_pool.pyc
running install_scripts
copying build/scripts-2.6/cqlsh -&amp;gt; /usr/bin
changing mode of /usr/bin/cqlsh to 755
running install_egg_info
Writing /usr/lib/python2.6/site-packages/cql-1.0.0-py2.6.egg-info

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Running on 3-node Centos 5.5. The cql package was installed with Python 2.6 and prior to installation, I downloaded and installed thrift05-0.5.0.&lt;/p&gt;</environment>
        <key id="12504612">CASSANDRA-2501</key>
            <summary>Error running cqlsh from .tar file -- global name &apos;SchemaDisagreementException&apos; is not defined</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbellis">Jonathan Ellis</assignee>
                                    <reporter username="cdaw">Cathy Daw</reporter>
                        <labels>
                            <label>cql</label>
                    </labels>
                <created>Mon, 18 Apr 2011 22:51:39 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:01 +0000</updated>
                            <resolved>Tue, 19 Apr 2011 13:33:50 +0000</resolved>
                                        <fixVersion>0.8 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13021335" author="jbellis" created="Mon, 18 Apr 2011 23:18:20 +0000"  >&lt;p&gt;i think the SDE error is masking another problem &amp;#8211; try with this patch (&quot;ant release&quot; to build the same artifacts hudson does) and see if that exposes something else.&lt;/p&gt;</comment>
                            <comment id="13021375" author="cdaw" created="Tue, 19 Apr 2011 02:05:50 +0000"  >&lt;p&gt;The error still occurs after running &quot;ant release&quot;.  I also upgraded to thrift 6.0.0 and that didn&apos;t resolve the issue either.&lt;/p&gt;</comment>
                            <comment id="13021376" author="jbellis" created="Tue, 19 Apr 2011 02:12:12 +0000"  >&lt;p&gt;just to doublecheck: you applied the patch (patch -p0 &amp;lt; 2501.txt) before running ant release?&lt;/p&gt;</comment>
                            <comment id="13021380" author="cdaw" created="Tue, 19 Apr 2011 02:41:34 +0000"  >&lt;p&gt;Sorry about that ... applied the patch and got a new error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[cassandra@cdaw-qa1 cql-1.0.0]$ cqlsh cdaw-qa1
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 212, in &amp;lt;module&amp;gt;
    password=options.password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/bin/cqlsh&quot;&lt;/span&gt;, line 55, in __init__
    self.conn = cql.connect(hostname, port, user=username, password=password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/__init__.py&quot;&lt;/span&gt;, line 51, in connect
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; connection.Connection(host, port, keyspace, user, password)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/connection.py&quot;&lt;/span&gt;, line 53, in __init__
    c.execute(&lt;span class=&quot;code-quote&quot;&gt;&apos;USE %s;&apos;&lt;/span&gt; % keyspace)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib/python2.6/site-packages/cql/cursor.py&quot;&lt;/span&gt;, line 133, in execute
    raise cql.InternalError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Internal application error&quot;&lt;/span&gt;)
cql.InternalError: Internal application error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13021388" author="jbellis" created="Tue, 19 Apr 2011 02:56:00 +0000"  >&lt;p&gt;Good, that&apos;s what I thought.&lt;/p&gt;

&lt;p&gt;Cassandra always logs a stacktrace for &quot;internal application error,&quot; can you grab that from /var/log/cassandra?&lt;/p&gt;

&lt;p&gt;(if i were to take a wild-ass guess I would say it&apos;s not handling USE correctly when given a keyspace that doesn&apos;t exist.)&lt;/p&gt;</comment>
                            <comment id="13021411" author="cdaw" created="Tue, 19 Apr 2011 05:08:46 +0000"  >&lt;p&gt;User Error.  I noticed in my log file that the Cassandra version was 0.74 but I was running from the trunk.  I had put $CASSANDRA_HOME in my .bashrc file, but when I removed it, everything was fine.&lt;/p&gt;

&lt;p&gt;I would normally resolve this as Will Not Fix, but not sure about the patch you provided, and if you want to associate this with that.&lt;/p&gt;</comment>
                            <comment id="13021579" author="jbellis" created="Tue, 19 Apr 2011 13:33:50 +0000"  >&lt;p&gt;Will mark Fixed since the missing SchemaDisagreementException import was a real bug.&lt;/p&gt;</comment>
                            <comment id="13021582" author="jbellis" created="Tue, 19 Apr 2011 13:34:30 +0000"  >&lt;p&gt;(committed in r1095082)&lt;/p&gt;</comment>
                            <comment id="13021599" author="hudson" created="Tue, 19 Apr 2011 14:16:54 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #21 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.8/21/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.8/21/&lt;/a&gt;)&lt;br/&gt;
    add SchemaDisagreementException import&lt;br/&gt;
patch by jbellis; tested by Cathy Daw for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2501&quot; title=&quot;Error running cqlsh from .tar file -- global name &amp;#39;SchemaDisagreementException&amp;#39; is not defined&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2501&quot;&gt;&lt;del&gt;CASSANDRA-2501&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476664" name="2501.txt" size="657" author="jbellis" created="Mon, 18 Apr 2011 23:18:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20658</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gbqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>cdaw</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[cdaw]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>