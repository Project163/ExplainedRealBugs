<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:19:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-2174] saved caches written with BufferedRandomAccessFile cannot be read by ObjectInputStream</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-2174</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;The CacheWriter is currently writing with BufferedRandomAccessFile which is incompatible with ObjectInputStream resulting in stack traces about corrupted stream headers when loading a saved cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498718">CASSANDRA-2174</key>
            <summary>saved caches written with BufferedRandomAccessFile cannot be read by ObjectInputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdennis">Matthew F. Dennis</assignee>
                                    <reporter username="mdennis">Matthew F. Dennis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Feb 2011 04:35:55 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:06 +0000</updated>
                            <resolved>Wed, 16 Feb 2011 21:38:31 +0000</resolved>
                                        <fixVersion>0.7.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="12995159" author="mdennis" created="Wed, 16 Feb 2011 04:38:45 +0000"  >&lt;p&gt;patch is on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2172&quot; title=&quot;Saved-cache files are created for empty caches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2172&quot;&gt;&lt;del&gt;CASSANDRA-2172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12995183" author="jbellis" created="Wed, 16 Feb 2011 06:05:28 +0000"  >&lt;p&gt;We don&apos;t use ObjectInputStream for cache reads anymore, and we need to use BRAF to get the non-buffer-cache-clobbering effect on cache writes.&lt;/p&gt;

&lt;p&gt;We don&apos;t care about 0.7.0 reading 0.7.1/2 caches, since we made the choice to allow 0.7.1 to write new-format data files (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1555&quot; title=&quot;Considerations for larger bloom filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1555&quot;&gt;&lt;del&gt;CASSANDRA-1555&lt;/del&gt;&lt;/a&gt;) which is a much bigger incompatibility.&lt;/p&gt;

&lt;p&gt;If 0.7.1/2 can&apos;t read 0.7.0, then we goofed, but changing it back (breaking 0.7.2 -&amp;gt; 0.7.3) seems like too late.&lt;/p&gt;</comment>
                            <comment id="12995187" author="jbellis" created="Wed, 16 Feb 2011 06:17:38 +0000"  >&lt;p&gt;Oops, I applied the patch and &lt;em&gt;then&lt;/em&gt; looked for uses of OIS.  Those operations are not commutative. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12995188" author="jbellis" created="Wed, 16 Feb 2011 06:19:01 +0000"  >&lt;p&gt;So...  the important fix is the CFS change, and the CacheWriter change is gratuitous?&lt;/p&gt;</comment>
                            <comment id="12995498" author="mdennis" created="Wed, 16 Feb 2011 20:21:57 +0000"  >&lt;p&gt;I neglected to see the skipCache flag and was intending to make the read/write code symmetric.&lt;/p&gt;

&lt;p&gt;attached patch contains only CFS change from OIS to DIS. &lt;/p&gt;</comment>
                            <comment id="12995533" author="jbellis" created="Wed, 16 Feb 2011 21:38:31 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12995563" author="hudson" created="Wed, 16 Feb 2011 22:52:17 +0000"  >&lt;p&gt;Integrated in Cassandra-0.7 #282 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra-0.7/282/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra-0.7/282/&lt;/a&gt;)&lt;br/&gt;
    read saved caches with DataInputStream&lt;br/&gt;
patch by mdennis; reviewed by jbellis for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2174&quot; title=&quot;saved caches written with BufferedRandomAccessFile cannot be read by ObjectInputStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2174&quot;&gt;&lt;del&gt;CASSANDRA-2174&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471220" name="2174-cassandra-0.7.txt" size="1659" author="mdennis" created="Wed, 16 Feb 2011 20:21:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mdennis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g9rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jbellis</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jbellis]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>