<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:50:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8512] cqlsh unusable after encountering schema mismatch</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8512</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When starting cqlsh against a node that reports a schema mismatch, no metadata is available and all queries fail.&lt;/p&gt;

&lt;p&gt;3-node cluster&lt;br/&gt;
2 nodes report schema mismatch when connecting to them via cqlsh (see attached cqlsh-debug.txt)&lt;br/&gt;
schema mismatch is with a 4th node that was previously started, failed to bootstrap, and then removed from the cluster&lt;/p&gt;

&lt;p&gt;nodetool status:&lt;br/&gt;
UN  10.218.148.82   1.22 GB    256     ?       0d6a40ed-47d9-4d95-8e3d-cf7f82d69512  rack1&lt;br/&gt;
UN  10.237.206.203  2.31 GB    256     ?       e75cd179-e13e-462f-ba34-4c9c08a4e529  rack1&lt;br/&gt;
UN  10.33.182.183   2.4 GB     256     ?       5a2875d5-e736-4afd-845e-635df9bc4731  rack1&lt;/p&gt;

&lt;p&gt;nodetool describecluster:&lt;br/&gt;
Cluster Information:&lt;br/&gt;
        Name: ClusterName&lt;br/&gt;
        Snitch: org.apache.cassandra.locator.DynamicEndpointSnitch&lt;br/&gt;
        Partitioner: org.apache.cassandra.dht.Murmur3Partitioner&lt;br/&gt;
        Schema versions:&lt;br/&gt;
                383890fa-5879-32bb-b3d3-a3e3c1648ecf: &lt;span class=&quot;error&quot;&gt;&amp;#91;10.218.148.82, 10.237.206.203, 10.33.182.183&amp;#93;&lt;/span&gt;&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Cassandra 2.1.2&lt;/p&gt;</environment>
        <key id="12762616">CASSANDRA-8512</key>
            <summary>cqlsh unusable after encountering schema mismatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thobbs">Tom Hobbs</assignee>
                                    <reporter username="jbr3wster">Jeff Brewster</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Thu, 18 Dec 2014 16:26:51 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:25 +0000</updated>
                            <resolved>Fri, 2 Jan 2015 18:15:44 +0000</resolved>
                                        <fixVersion>2.1.3</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14251889" author="philipthompson" created="Thu, 18 Dec 2014 16:52:20 +0000"  >&lt;p&gt;Multiple people have mentioned this problem on IRC. Connections via python driver outside of cqlsh still work, the error only occurs in cqlsh.&lt;/p&gt;</comment>
                            <comment id="14254014" author="thobbs" created="Fri, 19 Dec 2014 20:59:57 +0000"  >&lt;p&gt;I&apos;ve opened &lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PYTHON-205&lt;/a&gt; for a proper fix for this.  Until then, we can do a simple monkey-patch to allow building the schema metadata even if a schema disagreement is detected.&lt;/p&gt;</comment>
                            <comment id="14254196" author="thobbs" created="Fri, 19 Dec 2014 23:09:33 +0000"  >&lt;p&gt;The attached patch detects a schema mismatch on startup (by checking to see if the schema metadata got built) and works around it for the initial build of the schema metadata.&lt;/p&gt;</comment>
                            <comment id="14262564" author="iamaleksey" created="Thu, 1 Jan 2015 14:44:33 +0000"  >&lt;p&gt;Messy, but, +1&lt;/p&gt;</comment>
                            <comment id="14263100" author="thobbs" created="Fri, 2 Jan 2015 18:15:44 +0000"  >&lt;p&gt;Thanks, committed as aeb7d3f2e.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12841761">CASSANDRA-9689</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12688449" name="8512-2.1.txt" size="2199" author="thobbs" created="Fri, 19 Dec 2014 23:09:33 +0000"/>
                            <attachment id="12688059" name="cqlsh-debug.txt" size="10670" author="jbr3wster" created="Thu, 18 Dec 2014 16:26:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23kz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aleksey</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311124" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>philipthompson</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>