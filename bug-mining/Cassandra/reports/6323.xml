<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:28:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-18844] Cassandra 5 Debian package only runs on OpenJDK</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-18844</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;A recent change to the Cassandra 5 branch has caused the Cassandra deb package to no longer install on systems that don&apos;t run OpenJDK&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The following line is too restrictive&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/debian/control#L14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/trunk/debian/control#L14&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It should be modified to use the java11-runtime and java17-runtime virtual packages.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13550426">CASSANDRA-18844</key>
            <summary>Cassandra 5 Debian package only runs on OpenJDK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jfleming">Jackson Fleming</assignee>
                                    <reporter username="jfleming">Jackson Fleming</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Sep 2023 01:18:39 +0000</created>
                <updated>Wed, 1 Nov 2023 08:54:53 +0000</updated>
                            <resolved>Tue, 19 Sep 2023 19:01:19 +0000</resolved>
                                        <fixVersion>4.0.12</fixVersion>
                    <fixVersion>4.1.4</fixVersion>
                    <fixVersion>5.0-alpha2</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Packaging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17764520" author="JIRAUSER294685" created="Wed, 13 Sep 2023 07:13:41 +0000"  >&lt;p&gt;PR for fix for Cassandra 5 branch&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/2682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/2682&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17764555" author="JIRAUSER294685" created="Wed, 13 Sep 2023 08:54:31 +0000"  >&lt;p&gt;I&apos;ve tested both JDK 11 and JDK 17 installs using Amazon Corretto. Cassandra installed fine and was able to start after the fix&lt;/p&gt;</comment>
                            <comment id="17764588" author="smiklosovic" created="Wed, 13 Sep 2023 10:47:34 +0000"  >&lt;p&gt;If we specify java17-runtime, check this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ sudo apt install java17-runtime
Reading &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; lists... Done
Building dependency tree... Done
Reading state information... Done
Package java17-runtime is a virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by:
  java-21-amazon-corretto-jdk 1:21.0.0.35-1
  java-20-amazon-corretto-jdk 1:20.0.2.10-1
  java-19-amazon-corretto-jdk 1:19.0.2.7-1
  java-18-amazon-corretto-jdk 1:18.0.2.9-1
  java-17-amazon-corretto-jdk 1:17.0.8.8-1
  openjdk-17-jre 17.0.8+7-1~deb12u1
  &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jre 2:1.17-74
You should explicitly select one to install.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So if I install java-21-amazon-corretto-jdk, it will satisfy java17-runtime but Cassandra will not start with Java 21.&lt;/p&gt;</comment>
                            <comment id="17764595" author="JIRAUSER294685" created="Wed, 13 Sep 2023 11:05:12 +0000"  >&lt;p&gt;Worth noting that this is a problem currently with Cassandra 3.11, 4.0 and 4.1 with the use of java8-runtime and java11-runtime (excluding 3.11 from that last one of course)&lt;/p&gt;

&lt;p&gt;Below screengrab from Debian Bullseye (&lt;a href=&quot;https://packages.debian.org/bullseye/virtual/)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://packages.debian.org/bullseye/virtual/)&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13062875/13062875_image-2023-09-13-21-03-57-010.png&quot; height=&quot;151&quot; width=&quot;784&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Similar to Bookworm&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13062876/13062876_image-2023-09-13-21-04-42-525.png&quot; height=&quot;141&quot; width=&quot;732&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I still think this is better than forcing use of a single type of JDK, but not by much &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160; Guess java is backwards compatible in an ideal world&#160;&lt;/p&gt;</comment>
                            <comment id="17764597" author="smiklosovic" created="Wed, 13 Sep 2023 11:10:35 +0000"  >&lt;p&gt;Well in theory it should be all backward compatible but it is not ... e.g. when one runs Cassandra with Java 21, it errors on:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR [main] 2023-09-13 10:41:35,551 CassandraDaemon.java:875 - Exception encountered during startup
java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.setSecurityManager(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.java:429)
	at org.apache.cassandra.security.ThreadAwareSecurityManager.install(ThreadAwareSecurityManager.java:96)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:247)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:729)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:853)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additionally, there is also jvm11/17-server.options. What would happen when using 21? No file would be actually picked as that is resolved dynamically upon startup.&lt;/p&gt;

&lt;p&gt;Mick suggested offline that we need to use version ranges here. We might look into how that would look like in our scenario.&lt;/p&gt;</comment>
                            <comment id="17764604" author="michaelsembwever" created="Wed, 13 Sep 2023 11:30:25 +0000"  >&lt;p&gt;well, specifically not a range, exactly 11 or 17&lt;/p&gt;</comment>
                            <comment id="17764636" author="smiklosovic" created="Wed, 13 Sep 2023 12:31:41 +0000"  >&lt;p&gt;I think that is not possible if we want to be generic enough in cases like this (enable users to install other Java from what is in the official repository).&lt;/p&gt;

&lt;p&gt;For example, in order to install Corretto in Debian, one needs to enable a 3rd party repository as it is not in default Bookworm repo.&lt;/p&gt;

&lt;p&gt;We can say in advance in debian/control that we are OK with Corretto too for 11 or 17. But why only Corretto? There are other Java installations out there which have probably their own repositories they have to be installed from but without mentioning them in Depends it would start to install something else suddenly.&lt;/p&gt;

&lt;p&gt;If a look is taken into this (1) and we filter &quot;java11-&quot; it says:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java11-runtime
  virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by openjdk-17-jre, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jre
java11-runtime-headless
   virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by openjdk-17-jre-headless, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jre-headless
java11-sdk
   virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jdk, openjdk-17-jdk
java11-sdk-headless
   virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by openjdk-17-jdk-headless, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jdk-headless
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Corretto 17 provides this:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ sudo apt show java-17-amazon-corretto-jdk
Package: java-17-amazon-corretto-jdk
Version: 1:17.0.8.8-1
Priority: optional
Section: java
Source: java-17-amazon-corretto-jdk
Maintainer: Amazon Corretto Team &amp;lt;corretto-team@amazon.com&amp;gt;
Installed-Size: 335 MB
Provides: java-compiler, java-sdk, java5-sdk, java6-sdk, java7-sdk, java7-jdk, java8-jdk, java11-sdk, java17-sdk, java-runtime, java5-runtime, java6-runtime, java7-runtime, java8-runtime, java11-runtime, java17-runtime, java-runtime-headless, java5-runtime-headless, java6-runtime-headless, java7-runtime-headless, java8-runtime-headless, java11-runtime-headless, java17-runtime-headless
Depends: java-common, zlib1g
Homepage: https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/corretto/corretto-17
&lt;/span&gt;Download-Size: 194 MB
APT-Manual-Installed: yes
APT-Sources: https:&lt;span class=&quot;code-comment&quot;&gt;//apt.corretto.aws stable/main amd64 Packages
&lt;/span&gt;Description: Amazon Corretto 17 development environment
&#160;Amazon Corretto&apos;s packaging of the OpenJDK 17 code.
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Corretto 21 provides this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;$ sudo apt show java-21-amazon-corretto-jdk
Package: java-21-amazon-corretto-jdk
Version: 1:21.0.0.35-1
Priority: optional
Section: java
Source: java-21-amazon-corretto-jdk
Maintainer: Amazon Corretto Team &amp;lt;corretto-team@amazon.com&amp;gt;
Installed-Size: 363 MB
Provides: java-compiler, java-sdk, java5-sdk, java6-sdk, java7-sdk, java7-jdk, java8-jdk, java11-sdk, java17-sdk, java18-sdk, java19-sdk, java20-sdk, java21-sdk, java-runtime, java5-runtime, java6-runtime, java7-runtime, java8-runtime, java11-runtime, java17-runtime, java18-runtime, java19-runtime, java20-runtime, java21-runtime, java-runtime-headless, java5-runtime-headless, java6-runtime-headless, java7-runtime-headless, java8-runtime-headless, java11-runtime-headless, java17-runtime-headless, java18-runtime-headless, java19-runtime-headless, java20-runtime-headless, java21-runtime-headless
Depends: java-common, zlib1g
Homepage: https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/corretto/corretto-21
&lt;/span&gt;Download-Size: 209 MB
APT-Sources: https:&lt;span class=&quot;code-comment&quot;&gt;//apt.corretto.aws stable/main amd64 Packages
&lt;/span&gt;Description: Amazon Corretto 21 development environment
&#160;Amazon Corretto&apos;s packaging of the OpenJDK 21 code.
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But if we were to depend on, e.g. java17-sdk, to have something generic, both java-17-amazon-corretto-jdk and java-21-amazon-corretto-jdk would satisfy that which is problem already mentioned above.&lt;/p&gt;

&lt;p&gt;Also, we can not specify exact versions for virtual packages&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ sudo apt show java17-sdk
Package: java17-sdk
State: not a real &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; (virtual)
N: Can&apos;t select candidate version from &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; java17-sdk as it has no candidate
N: Can&lt;span class=&quot;code-quote&quot;&gt;&apos;t select versions from &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &apos;&lt;/span&gt;java17-sdk&apos; as it is purely virtual
N: No packages found
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;What we can do is to put there just specifically openjdk together with corretto but then we make corretto special and we omit all other possible Javas out there.&lt;/p&gt;

&lt;p&gt;(1) &lt;a href=&quot;https://packages.debian.org/bookworm/allpackages&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://packages.debian.org/bookworm/allpackages&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think that the solution already presented in the patch is correct one even it does not always work. It is problematic only in case a user has a 3rd party Java installed and at the same time that version is not 11 or 17. This is highly specific and I think it is safe to assume that is for power users who know what they are doing.&lt;/p&gt;</comment>
                            <comment id="17764892" author="JIRAUSER294685" created="Wed, 13 Sep 2023 22:11:35 +0000"  >&lt;p&gt;I&apos;d point out Cassandra is currently in this situation with the latest release in the 4.1.x series, you can reproduce this below:&lt;/p&gt;

&lt;p&gt;1 - Start a bookworm debian container&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
docker run -it -u root debian:bookworm &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2 - Inside this container Install the default-jre (and other tools we&apos;ll need to setup cassandra)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
apt-get update
apt-get install curl gnupg2 &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jre&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You&apos;ll get JDK 17 on bookworm&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
root@b7e68b93dfad:/# java -version
openjdk version &lt;span class=&quot;code-quote&quot;&gt;&quot;17.0.8&quot;&lt;/span&gt; 2023-07-18
OpenJDK &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 17.0.8+7-Debian-1deb12u1)
OpenJDK 64-Bit Server VM (build 17.0.8+7-Debian-1deb12u1, mixed mode, sharing) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;3 - Setup the cassandra debian apt repos (per &lt;a href=&quot;https://cassandra.apache.org/doc/latest/cassandra/getting_started/installing.html)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cassandra.apache.org/doc/latest/cassandra/getting_started/installing.html)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Install cassandra&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;deb https:&lt;span class=&quot;code-comment&quot;&gt;//debian.cassandra.apache.org 41x main&quot;&lt;/span&gt; | tee -a /etc/apt/sources.list.d/cassandra.sources.list
&lt;/span&gt;curl https:&lt;span class=&quot;code-comment&quot;&gt;//downloads.apache.org/cassandra/KEYS | apt-key add -
&lt;/span&gt;apt-get update
apt-get install cassandra&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The installation will work, cause openjdk-17-jre satisfies java11-runtime&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
root@b7e68b93dfad:/etc/cassandra# apt list --installed | grep cassandra
WARNING: apt does not have a stable CLI &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;. Use with caution in scripts.
cassandra/unknown,now 4.1.3 all [installed] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;4 - Try to run Cassandra 4.1.3, be sad&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
root@b7e68b93dfad:/# cassandra -R
root@b7e68b93dfad:/# OpenJDK 64-Bit Server VM warning: Option UseBiasedLocking was deprecated in version 15.0 and will likely be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release.
Unrecognized VM option &lt;span class=&quot;code-quote&quot;&gt;&apos;UseConcMarkSweepGC&apos;&lt;/span&gt;
Error: Could not create the Java Virtual Machine.
Error: A fatal exception has occurred. Program will exit &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So that raises the question if it&apos;s not a problem currently, then will it be a problem for users on Cassandra 5?&lt;/p&gt;

&lt;p&gt;If you were to follow the above steps on Cassandra 5 with the suggested changes, you&apos;d get JRE 17 on bookworm, and Cassandra should run.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Even if I go and change off CMS, Cassandra will fail to start&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception (java.lang.AssertionError) encountered during startup: java.lang.reflect.InaccessibleObjectException: Unable to make field &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.io.FileDescriptor.fd accessible: module java.base does not &lt;span class=&quot;code-quote&quot;&gt;&quot;opens java.io&quot;&lt;/span&gt; to unnamed module @34129c78
java.lang.AssertionError: java.lang.reflect.InaccessibleObjectException: Unable to make field &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.io.FileDescriptor.fd accessible: module java.base does not &lt;span class=&quot;code-quote&quot;&gt;&quot;opens java.io&quot;&lt;/span&gt; to unnamed module @34129c78
&#160; &#160; at org.apache.cassandra.utils.FBUtilities.getProtectedField(FBUtilities.java:801)
&#160; &#160; at org.apache.cassandra.utils.NativeLibrary.&amp;lt;clinit&amp;gt;(NativeLibrary.java:83)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:252)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:751)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:875)
Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.io.FileDescriptor.fd accessible: module java.base does not &lt;span class=&quot;code-quote&quot;&gt;&quot;opens java.io&quot;&lt;/span&gt; to unnamed module @34129c78
&#160; &#160; at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)
&#160; &#160; at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)
&#160; &#160; at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)
&#160; &#160; at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)
&#160; &#160; at org.apache.cassandra.utils.FBUtilities.getProtectedField(FBUtilities.java:796)
&#160; &#160; ... 4 more
ERROR [main] 2023-09-13 22:14:24,220 CassandraDaemon.java:897 - Exception encountered during startup
java.lang.AssertionError: java.lang.reflect.InaccessibleObjectException: Unable to make field &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.io.FileDescriptor.fd accessible: module java.base does not &lt;span class=&quot;code-quote&quot;&gt;&quot;opens java.io&quot;&lt;/span&gt; to unnamed module @34129c78
&#160; &#160; at org.apache.cassandra.utils.FBUtilities.getProtectedField(FBUtilities.java:801)
&#160; &#160; at org.apache.cassandra.utils.NativeLibrary.&amp;lt;clinit&amp;gt;(NativeLibrary.java:83)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:252)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:751)
&#160; &#160; at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:875)
Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; java.io.FileDescriptor.fd accessible: module java.base does not &lt;span class=&quot;code-quote&quot;&gt;&quot;opens java.io&quot;&lt;/span&gt; to unnamed module @34129c78
&#160; &#160; at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)
&#160; &#160; at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)
&#160; &#160; at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)
&#160; &#160; at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)
&#160; &#160; at org.apache.cassandra.utils.FBUtilities.getProtectedField(FBUtilities.java:796)
&#160; &#160; ... 4 common frames omitted &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17764895" author="JIRAUSER294685" created="Wed, 13 Sep 2023 22:22:03 +0000"  >&lt;p&gt;Actually even worse, if you don&apos;t have a JRE installed on book worm, Debian will provide one currently that is not compatible by default..&lt;/p&gt;

&lt;p&gt;1 - Start a bookworm debian container&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
docker run -it -u root debian:bookworm &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;2 - Install cassandra apt repos and cassandra&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
apt-get update
apt-get install curl gnupg2
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;deb https:&lt;span class=&quot;code-comment&quot;&gt;//debian.cassandra.apache.org 41x main&quot;&lt;/span&gt; | tee -a /etc/apt/sources.list.d/cassandra.sources.list
&lt;/span&gt;curl https:&lt;span class=&quot;code-comment&quot;&gt;//downloads.apache.org/cassandra/KEYS | apt-key add -
&lt;/span&gt;apt-get update
apt-get install cassandra &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;3 - Run Cassandra, be sad because it doesn&apos;t work&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
root@868331497f27:/# cassandra -R
root@868331497f27:/# OpenJDK 64-Bit Server VM warning: Option UseBiasedLocking was deprecated in version 15.0 and will likely be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release.
Unrecognized VM option &lt;span class=&quot;code-quote&quot;&gt;&apos;UseConcMarkSweepGC&apos;&lt;/span&gt;
Error: Could not create the Java Virtual Machine.
Error: A fatal exception has occurred. Program will exit. &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17765026" author="smiklosovic" created="Thu, 14 Sep 2023 07:01:21 +0000"  >&lt;p&gt;Well ... yes, but this is a different problem from what you described here initially. The ticket is about us enabling 3rd party Java installations. The problem you have is that when you run 4.x on Bookworm, it installs openjdk-17-jre-headless. The reason this is happening is that 4.x has this in debian/control&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
openjdk-8-jre-headless | java8-runtime | openjdk-11-jre-headless | java11-runtime
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it goes: &lt;br/&gt;
1: openjdk-8-jre-headless - Bookworm dropped Java 8 from the repositories, so it has nothing to install, so it goes next&lt;br/&gt;
2: java8-runtime - &lt;/p&gt;

&lt;p&gt;It sees:&lt;/p&gt;

&lt;p&gt;java8-runtime&lt;br/&gt;
    virtual package provided by openjdk-17-jre, default-jre&lt;br/&gt;
java8-runtime-headless&lt;br/&gt;
    virtual package provided by default-jre-headless, openjdk-17-jre-headless&lt;/p&gt;

&lt;p&gt;And there you go. Because openjdk-17-jre satisfies java8-runtime.&lt;/p&gt;

&lt;p&gt;Our debian/control is not &quot;bad&quot;, it is just you installed it on Bookworm which dropped Java 8 and by default it installs jdk 17 which satisfies that runtime. We just have not caught up with the Bookworm release yet.&lt;/p&gt;

&lt;p&gt;So, if Bookworm does not have Java 8 anymore present, the only solution how to run Cassandra 4 on Bookworm is to run it with Java 11.&lt;/p&gt;

&lt;p&gt;I think we would need to do this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Depends: openjdk-8-jre-headless | openjdk-11-jre-headless | java8-runtime | java11-runtime, adduser, python3 (&amp;gt;= 3.6), procps, ${misc:Depends}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Keep in mind that when it comes to Cassandra 3.11, there is no help, because Bookworm does not offer Java 8 at all and Cassandra 3.11 can not run with Java 11 which is the oldest Java in Bookworm.&lt;/p&gt;</comment>
                            <comment id="17765112" author="smiklosovic" created="Thu, 14 Sep 2023 11:10:52 +0000"  >&lt;p&gt;Well, this is even more interesting that I thought.&lt;/p&gt;

&lt;p&gt;There is no openjdk 11 on Bookworm. Only 17. So Cassandra 4 on Debian 12 (Bookworm) is not installable at all out of the box. You would need to enable sid repository with Java 11 available and install it first.&lt;/p&gt;

&lt;p&gt;To summarize what is there by default:&lt;/p&gt;

&lt;p&gt;Bookworm (Debian 12):&lt;br/&gt;
openjdk-17-jre-headless&lt;br/&gt;
default-jdk-headless -&amp;gt; installs openjdk-17-jre-headless&lt;/p&gt;

&lt;p&gt;Bullseye (Debian 11):&lt;br/&gt;
openjdk-11-jre-headless&lt;br/&gt;
openjdk-17-jre-headless&lt;br/&gt;
default-jdk-headless -&amp;gt; installs openjdk-11-jre-headless&lt;/p&gt;

&lt;p&gt;Buster (Debian 10):&lt;br/&gt;
openjdk-11-jre-headless&lt;br/&gt;
default-jdk-headless -&amp;gt; installs openjdk-11-jre-headless&lt;/p&gt;

&lt;p&gt;build scripts for Debian packages in cassandra-builds repository are based on Bullseye but we have Java 8 available there just because we are enabling &quot;sid&quot; repository where Java 8 is available.&lt;/p&gt;

&lt;p&gt;However, when sid repository is enabled on Bullseye, before enablement, default-jdk-headless was installing Java 11, but after enablement of sid it installs Java 17. Same holds for Buster.&lt;/p&gt;

&lt;p&gt;java8-runtime,java11-runtime and java17-runtime are not installable. You can not &quot;apt install java17-runtime&quot;. These are virtual packages. They are solely there for cases when some Java is installed (like your Corretto) and since Corretto provides java17-runtime, it would be just OK. But you need to take care of this on your own.&lt;/p&gt;

&lt;p&gt;Now I want to go over each branch we have, this is quite complicated, maybe a matrix would be better&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;x&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 8&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 11&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 17&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Bookworm (12)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-17-jre-headless&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Bullseye (11)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-17-jre-headless&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Buster (10)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;n/a&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Now Cassandra versions:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;x&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 8&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 11&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Java 17&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 5+&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;yes&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;yes&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;yes&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;yes&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Now Cassandra vs distribution:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;x&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Buster (10)&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bullseye (11)&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bookworm (12)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 5+&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Java 11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Java 11/17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Java 17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Java 11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Java 11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Cassandra 3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Cassandra 3 can be run on any distro only with Sid repositories enabled.&lt;/p&gt;</comment>
                            <comment id="17765292" author="smiklosovic" created="Thu, 14 Sep 2023 17:31:44 +0000"  >&lt;p&gt;For Cassandra 4, I want to go over various Depends and see where it would be installable and what Java it would install along when not installed already:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Cassandra 4&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Buster (10)&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bullseye (11)&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bookworm (12)&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bookworm with Sid repo&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-8-jre-headless &amp;#124; openjdk-11-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless &amp;#124; openjdk-8-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; n/a&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-8-jre-headless &amp;#124; openjdk-11-jre-headless &amp;#124; java8-runtime &amp;#124; java11-runtime&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless &amp;#124; openjdk-8-jre-headless &amp;#124; java11-runtime &amp;#124; java8-runtime&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;same as above with installed Amazon Corretto Java 11 before&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11 (Corretto)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11 (Corretto)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11 (Corretto)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;same as above with installed OpenJDK 8 from Sid repo before&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j8&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I think the the &quot;winning&quot; Depend is&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
openjdk-11-jre-headless | openjdk-8-jre-headless | java11-runtime | java8-runtime &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The reason is that it will install Java 11 on Buster and Bullseye automatically, it will install Java 8 automatically if Sid repo is enabled on Bookworm (because on Bookworm there is not Java 11 nor Java 8 available otherwise) and if one installs 3rd party Java installation before Cassandra installation (e.g. Corretto) of version 11 then it will satisfy Java 11 runtime. At the same time, if openjdk-8-jre-headless is installed by hand before (from Sid), it will go with Java 8.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Cassandra 5&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Buster&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bullseye&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Bookworm&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Supports 3rd party JDKs&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless &amp;#124; openjdk-17-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-17-jre-headless &amp;#124; openjdk-11-jre-headless&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-11-jre-headless &amp;#124; openjdk-17-jre-headless &amp;#124; java11-runtime &amp;#124; java17-runtime&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;openjdk-17-jre-headless &amp;#124; openjdk-11-jre-headless &amp;#124; java17-runtime &amp;#124; java11-runtime&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;same as above with installed Amazon Corretto Java 11 before&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j11&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;same as above with installed Amazon Corretto Java 17 before&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j17&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;same as above with installed Amazon Corretto Java 21 before&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j21&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j21&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; j21&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Here I think that the best Depend is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
openjdk-17-jre-headless | openjdk-11-jre-headless | java17-runtime | java11-runtime&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It installs right Javas by default and it also supports 3rd party Java runtime providers for Java 17 / 11.&#160;&lt;/p&gt;</comment>
                            <comment id="17765316" author="smiklosovic" created="Thu, 14 Sep 2023 18:40:24 +0000"  >&lt;p&gt;If &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18831&quot; title=&quot;JDK21 support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18831&quot;&gt;CASSANDRA-18831&lt;/a&gt; is finished I think we are fully covered, at least for Cassandra 5&lt;/p&gt;</comment>
                            <comment id="17765341" author="brandon.williams" created="Thu, 14 Sep 2023 19:24:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18831&quot; title=&quot;JDK21 support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18831&quot;&gt;CASSANDRA-18831&lt;/a&gt; probably won&apos;t be done anytime soon, it&apos;s just the tip of that iceberg like &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16895&quot; title=&quot;Build with Java 17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16895&quot;&gt;&lt;del&gt;CASSANDRA-16895&lt;/del&gt;&lt;/a&gt; was for j17.&lt;/p&gt;</comment>
                            <comment id="17766218" author="smiklosovic" created="Mon, 18 Sep 2023 06:13:18 +0000"  >&lt;p&gt;in that case I think that&#160;&lt;/p&gt;

&lt;p&gt;for 4.0&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
openjdk-11-jre-headless | openjdk-8-jre-headless | java11-runtime | java8-runtime 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;and for 5.0&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
openjdk-17-jre-headless | openjdk-11-jre-headless | java17-runtime | java11-runtime
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is the way to go.&lt;/p&gt;

&lt;p&gt;The trade-off is obvious. Currently we are on the safe side of things but we cut off everybody out there who is not using OpenJDK and we can not enumerate all specific vendors because there is in theory unlimited number of them.&lt;/p&gt;

&lt;p&gt;On the other hand, this also means that if somebody has openjdk-21 installed already, it would evaluate it as a valid runtime but it is not. I consider this to be not a big deal (or at least a not so big as it seems). If we document that Cassandra is supported on Java 11 and Java 17 JDK installations only, then the ball is on the user&apos;s side to ensure that it is indeed the case.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mck&quot; class=&quot;user-hover&quot; rel=&quot;mck&quot;&gt;mck&lt;/a&gt; up to you to call the shots here othewise we can just leave it as it is but we need to internally patch that on our own. However, the very fact that Cassandra on Debian is &lt;em&gt;forced&lt;/em&gt; to run with openjdk is ... strange (and that we practically enforce that).&lt;/p&gt;</comment>
                            <comment id="17766325" author="brandon.williams" created="Mon, 18 Sep 2023 10:58:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;if somebody has openjdk-21 installed already, it would evaluate it as a valid runtime but it is not.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As Jackson pointed out this has been a theoretical problem for a long time.  But in practice, this never happens so we don&apos;t need to worry about it.&lt;/p&gt;</comment>
                            <comment id="17766377" author="brandon.williams" created="Mon, 18 Sep 2023 13:19:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;Cassandra on Debian is forced to run with openjdk&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Do we even need to reference openjdk directly?  Can we just do &apos;javaXX-runtime&apos;?&lt;/p&gt;</comment>
                            <comment id="17766393" author="smiklosovic" created="Mon, 18 Sep 2023 14:02:25 +0000"  >&lt;p&gt;We can not do that because javaXX-runtime is so called &quot;virtual package&quot;. If you do &quot;apt install java17-runtime&quot; it errors:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ docker run -it -u root debian:bookworm&#160;
root@78bc1b3cc96d:/# apt update
Get:1 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian bookworm InRelease [151 kB]
&lt;/span&gt;Get:2 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian bookworm-updates InRelease [52.1 kB]
&lt;/span&gt;Get:3 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
&lt;/span&gt;Get:4 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian bookworm/main amd64 Packages [8906 kB]
&lt;/span&gt;Get:5 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian bookworm-updates/main amd64 Packages [6432 B]
&lt;/span&gt;Get:6 http:&lt;span class=&quot;code-comment&quot;&gt;//deb.debian.org/debian-security bookworm-security/main amd64 Packages [62.1 kB]
&lt;/span&gt;Fetched 9226 kB in 1s (12.1 MB/s) &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;
Reading &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; lists... Done
Building dependency tree... Done
Reading state information... Done
All packages are up to date.
root@78bc1b3cc96d:/# apt install java17-runtime
Reading &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; lists... Done
Building dependency tree... Done
Reading state information... Done
Package java17-runtime is a virtual &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; provided by:
&#160; openjdk-17-jre 17.0.8+7-1~deb12u1
&#160; &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-jre 2:1.17-74
You should explicitly select one to install.E: Package &lt;span class=&quot;code-quote&quot;&gt;&apos;java17-runtime&apos;&lt;/span&gt; has no installation candidate
root@78bc1b3cc96d:/#&#160;
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, we can not install them. But the packages which are installable can provide / satisfy them.&lt;/p&gt;

&lt;p&gt;If we used it, we would basically require users to install some Java on their own. The benefit of the suggested change is that if there is no Java installation at all on the machine, it will install openjdk17/11 automatically along with Cassandra itself.&lt;/p&gt;</comment>
                            <comment id="17766396" author="brandon.williams" created="Mon, 18 Sep 2023 14:10:45 +0000"  >&lt;p&gt;In that case I agree with your previous suggestions for 11 and 17, and we can ignore 21.&lt;/p&gt;</comment>
                            <comment id="17766704" author="smiklosovic" created="Tue, 19 Sep 2023 08:58:12 +0000"  >&lt;p&gt;4.0 &lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-4.0&lt;/a&gt;&lt;br/&gt;
4.1 &lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-4.1&lt;/a&gt;&lt;br/&gt;
5.0 &lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-5.0&lt;/a&gt;&lt;br/&gt;
trunk &lt;a href=&quot;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/instaclustr/cassandra/tree/CASSANDRA-18844-trunk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17766806" author="brandon.williams" created="Tue, 19 Sep 2023 14:05:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13550082">CASSANDRA-18831</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13062868" name="image-2023-09-13-18-53-38-884.png" size="190527" author="jfleming" created="Wed, 13 Sep 2023 08:53:40 +0000"/>
                            <attachment id="13062875" name="image-2023-09-13-21-03-57-010.png" size="61908" author="jfleming" created="Wed, 13 Sep 2023 11:03:58 +0000"/>
                            <attachment id="13062876" name="image-2023-09-13-21-04-42-525.png" size="59441" author="jfleming" created="Wed, 13 Sep 2023 11:04:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jfleming]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="13660" cascade-level=""><![CDATA[Packaging]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12977"><![CDATA[Adhoc Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kbds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
        <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/31aede327568f15f0004a5c30fb10f508587309b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/31aede327568f15f0004a5c30fb10f508587309b&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;built packages install fine&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>