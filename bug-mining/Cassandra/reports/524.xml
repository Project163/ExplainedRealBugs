<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:17:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1650] removetoken is broken</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1650</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When running removetoken on a dead node, it hangs forever.  The debug log shows:&lt;/p&gt;

&lt;p&gt;DEBUG 19:45:53,794 Node /10.179.111.137 ranges &lt;span class=&quot;error&quot;&gt;&amp;#91;(115049868157599339472315320703867977321,62676456546693435176060154681903071729&amp;#93;&lt;/span&gt;]&lt;br/&gt;
DEBUG 19:45:53,795 Range (115049868157599339472315320703867977321,62676456546693435176060154681903071729] will be responsibility of cassandra-1/10.179.65.102&lt;br/&gt;
DEBUG 19:45:53,798 Pending ranges:&lt;br/&gt;
cassandra-1/10.179.65.102:(115049868157599339472315320703867977321,62676456546693435176060154681903071729]&lt;/p&gt;

&lt;p&gt;DEBUG 19:45:53,798 Node /10.179.111.137 ranges &lt;span class=&quot;error&quot;&gt;&amp;#91;(115049868157599339472315320703867977321,62676456546693435176060154681903071729&amp;#93;&lt;/span&gt;]&lt;br/&gt;
DEBUG 19:45:53,799 Range (115049868157599339472315320703867977321,62676456546693435176060154681903071729] will be responsibility of cassandra-1/10.179.65.102&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478109">CASSANDRA-1650</key>
            <summary>removetoken is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nickmbailey">Nick Bailey</assignee>
                                    <reporter username="brandon.williams">Brandon Williams</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2010 19:44:18 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:14 +0000</updated>
                            <resolved>Fri, 22 Oct 2010 21:14:09 +0000</resolved>
                                        <fixVersion>0.7 beta 3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12923999" author="nickmbailey" created="Fri, 22 Oct 2010 20:03:43 +0000"  >&lt;p&gt;So removetoken blocks for all new replicas to confirm they have the data for the node being removed.  You can actually run &quot;removetoken status&quot; to see which nodes are being waited on.  Since a dropped confirm message or stream request could cause it to block forever you can run &quot;removetoken force&quot; to finish a removal already in progress.  &lt;/p&gt;

&lt;p&gt;There could be a bug here as well or possibly a dropped message?&lt;/p&gt;

&lt;p&gt;There should probably be new documentation about this in the wiki.&lt;/p&gt;</comment>
                            <comment id="12924000" author="brandon.williams" created="Fri, 22 Oct 2010 20:06:30 +0000"  >&lt;p&gt;My RF is 1, so there are no replicas to block for.  Here&apos;s the status output:&lt;/p&gt;

&lt;p&gt;RemovalStatus: Removing token (62676456546693435176060154681903071729). Waiting for replication confirmation from &lt;span class=&quot;error&quot;&gt;&amp;#91;cassandra-1/10.179.65.102&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;It seems to be waiting for confirmation from itself.&lt;/p&gt;</comment>
                            <comment id="12924001" author="brandon.williams" created="Fri, 22 Oct 2010 20:07:07 +0000"  >&lt;p&gt;Also, force does not work:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Node /10.179.111.137 is already being removed.&lt;/p&gt;</comment>
                            <comment id="12924027" author="nickmbailey" created="Fri, 22 Oct 2010 21:05:47 +0000"  >&lt;p&gt;When replication factor is 1 it is impossible to recover data so we shouldn&apos;t wait for confirmation.&lt;/p&gt;</comment>
                            <comment id="12924029" author="brandon.williams" created="Fri, 22 Oct 2010 21:14:09 +0000"  >&lt;p&gt;+1, committed.&lt;/p&gt;</comment>
                            <comment id="12924189" author="hudson" created="Sat, 23 Oct 2010 12:49:04 +0000"  >&lt;p&gt;Integrated in Cassandra #574 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/574/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/574/&lt;/a&gt;)&lt;br/&gt;
    Don&apos;t wait for confirmation when removing token and RF=1.  Patch by Nick Bailey, reviewed by brandonwilliams for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-1650&quot; title=&quot;removetoken is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-1650&quot;&gt;&lt;del&gt;CASSANDRA-1650&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457872" name="0001-Don-t-wait-for-confirmation-when-replication-factor-.patch" size="1354" author="nickmbailey" created="Fri, 22 Oct 2010 21:05:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[nickmbailey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g6jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>