<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:47:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7709] sstable2json has resource leaks</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7709</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Coverity found 3 resource leak within  SSTable2JsonExporter:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;CID 71971:  Resource leak  (RESOURCE_LEAK)&lt;br/&gt;
/src/java/org/apache/cassandra/tools/SSTableExport.java: 300 in&lt;br/&gt;
org.apache.cassandra.tools.SSTableExport.export(org.apache.cassandra.io.sstable.Descriptor,&lt;br/&gt;
java.io.PrintStream, java.util.Collection, java.lang.String[],&lt;br/&gt;
org.apache.cassandra.config.CFMetaData)()&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;CID 71972:  Resource leak on an exceptional path  (RESOURCE_LEAK)&lt;br/&gt;
/src/java/org/apache/cassandra/tools/SSTableExport.java: 332 in&lt;br/&gt;
org.apache.cassandra.tools.SSTableExport.export(org.apache.cassandra.io.sstable.SSTableReader,&lt;br/&gt;
java.io.PrintStream, java.lang.String[],&lt;br/&gt;
org.apache.cassandra.config.CFMetaData)()&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;CID 71975:  Resource leak on an exceptional path  (RESOURCE_LEAK)&lt;br/&gt;
/src/java/org/apache/cassandra/tools/SSTableExport.java: 236 in&lt;br/&gt;
org.apache.cassandra.tools.SSTableExport.enumeratekeys(org.apache.cassandra.io.sstable.Descriptor,&lt;br/&gt;
java.io.PrintStream, org.apache.cassandra.config.CFMetaData)()&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;________________________________________________________________________________________________________&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;CID 71971:  Resource leak  (RESOURCE_LEAK)&lt;br/&gt;
/src/java/org/apache/cassandra/tools/SSTableExport.java: 300 in&lt;br/&gt;
org.apache.cassandra.tools.SSTableExport.export(org.apache.cassandra.io.sstable.Descriptor,&lt;br/&gt;
java.io.PrintStream, java.util.Collection, java.lang.String[],&lt;br/&gt;
org.apache.cassandra.config.CFMetaData)()&lt;br/&gt;
294                 i++;&lt;br/&gt;
295                 serializeRow(deletionInfo, atomIterator,&lt;br/&gt;
sstable.metadata, decoratedKey, outs);&lt;br/&gt;
296             }&lt;br/&gt;
297&lt;br/&gt;
298             outs.println(&quot;\n]&quot;);&lt;br/&gt;
299             outs.flush();&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt;     CID 71971:  Resource leak  (RESOURCE_LEAK)&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt;     Variable &quot;dfile&quot; going out of scope leaks the resource it refers to.&lt;br/&gt;
300         }&lt;br/&gt;
301&lt;br/&gt;
302         // This is necessary to accommodate the test suite since&lt;br/&gt;
you cannot open a Reader more&lt;br/&gt;
303         // than once from within the same process.&lt;br/&gt;
304         static void export(SSTableReader reader, PrintStream outs,&lt;br/&gt;
String[] excludes, CFMetaData metadata) throws IOException&lt;br/&gt;
305         
{

________________________________________________________________________________________________________
*** CID 71972:  Resource leak on an exceptional path  (RESOURCE_LEAK)
/src/java/org/apache/cassandra/tools/SSTableExport.java: 332 in
org.apache.cassandra.tools.SSTableExport.export(org.apache.cassandra.io.sstable.SSTableReader,
java.io.PrintStream, java.lang.String[],
org.apache.cassandra.config.CFMetaData)()
326                 if (excludeSet.contains(currentKey))
327                     continue;
328                 else if (i != 0)
329                     outs.println(&quot;,&quot;);
330
331                 serializeRow(row, row.getKey(), outs);
&amp;gt;&amp;gt;&amp;gt;     CID 71972:  Resource leak on an exceptional path  (RESOURCE_LEAK)
&amp;gt;&amp;gt;&amp;gt;     Variable &quot;scanner&quot; going out of scope leaks the resource it refers to.
332                 checkStream(outs);
333
334                 i++;
335             }
&lt;p&gt;336&lt;br/&gt;
337             outs.println(&quot;\n]&quot;);&lt;/p&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;________________________________________________________________________________________________________&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;CID 71975:  Resource leak on an exceptional path  (RESOURCE_LEAK)&lt;br/&gt;
/src/java/org/apache/cassandra/tools/SSTableExport.java: 236 in&lt;br/&gt;
org.apache.cassandra.tools.SSTableExport.enumeratekeys(org.apache.cassandra.io.sstable.Descriptor,&lt;br/&gt;
java.io.PrintStream, org.apache.cassandra.config.CFMetaData)()&lt;br/&gt;
230             while (iter.hasNext())&lt;br/&gt;
231             
{
232                 DecoratedKey key = iter.next();
233
234                 // validate order of the keys in the sstable
235                 if (lastKey != null &amp;amp;&amp;amp; lastKey.compareTo(key) &amp;gt; 0)
&amp;gt;&amp;gt;&amp;gt;     CID 71975:  Resource leak on an exceptional path  (RESOURCE_LEAK)
&amp;gt;&amp;gt;&amp;gt;     Variable &quot;iter&quot; going out of scope leaks the resource it refers to.
236                     throw new IOException(&quot;Key out of order! &quot; +
lastKey + &quot; &amp;gt; &quot; + key);
237                 lastKey = key;
238
239
outs.println(metadata.getKeyValidator().getString(key.getKey()));
240                 checkStream(outs); // flushes
241             }&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12732510">CASSANDRA-7709</key>
            <summary>sstable2json has resource leaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="blerer">Benjamin Lerer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Aug 2014 09:27:00 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:37 +0000</updated>
                            <resolved>Thu, 7 Aug 2014 14:23:13 +0000</resolved>
                                        <fixVersion>2.0.10</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14089253" author="slebresne" created="Thu, 7 Aug 2014 14:23:13 +0000"  >&lt;p&gt;+1, committed, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12660376" name="CASSANDRA-7709.txt" size="7242" author="blerer" created="Thu, 7 Aug 2014 12:13:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ymrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>slebresne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slebresne]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>