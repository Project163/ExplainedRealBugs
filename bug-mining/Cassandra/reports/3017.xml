<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:47:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-7498] sstable2json exports keys in a wrong format</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-7498</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I examined code of &lt;em&gt;SSTableImport&lt;/em&gt; and &lt;em&gt;SSTableExport&lt;/em&gt; classes and found one thing that looks strange to me. Currently processing (encoding/decoding) of columns&apos; names and values is performed based on CF Comparator and Value Validator correspondingly. But row keys are processed using &lt;em&gt;#bytesToHex&lt;/em&gt; and &lt;em&gt;#hexToBytes&lt;/em&gt; methods despite of there is Key Validator. Such approach works properly for &quot;bytes&quot; keys only. For other types it exports keys in a wrong format (i.e. they are exported in unreadable form).&lt;/p&gt;

&lt;p&gt;In the scope of this ticket we need to consider backward compatibility (import of previously exported sstables). For &quot;bytes&quot; keys it will work as previously since &lt;em&gt;#bytesToHex&lt;/em&gt; and &lt;em&gt;#hexToBytes&lt;/em&gt; methods are used in internals of &lt;em&gt;BytesType&lt;/em&gt; class. For other types we need to allow an ability to import data using &quot;bytes&quot; despite of configured validator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12725627">CASSANDRA-7498</key>
            <summary>sstable2json exports keys in a wrong format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azotcsit">Aleksei Zotov</assignee>
                                    <reporter username="azotcsit">Aleksei Zotov</reporter>
                        <labels>
                            <label>tools</label>
                    </labels>
                <created>Sun, 6 Jul 2014 14:22:56 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:41 +0000</updated>
                            <resolved>Tue, 5 Aug 2014 21:48:30 +0000</resolved>
                                        <fixVersion>2.1.1</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14055479" author="jbellis" created="Tue, 8 Jul 2014 20:33:55 +0000"  >&lt;p&gt;duplicates &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7464&quot; title=&quot;Replace sstable2json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7464&quot;&gt;&lt;del&gt;CASSANDRA-7464&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14055867" author="azotcsit" created="Wed, 9 Jul 2014 05:43:35 +0000"  >&lt;p&gt;I have already created a patch before your comment. &lt;/p&gt;

&lt;p&gt;The patch contains required changes for processing keys in sstable export/import utilities. Regarding backward compatibility, I added an ability to ignore the current key validator type to allow users import previously-generated json files for &quot;non-bytes&quot; keys. For that users need to add -Dskip.key.validator=true parameter during import.&lt;/p&gt;</comment>
                            <comment id="14055881" author="azotcsit" created="Wed, 9 Jul 2014 06:00:14 +0000"  >&lt;p&gt;Jon, &lt;/p&gt;

&lt;p&gt;As I understand from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7464&quot; title=&quot;Replace sstable2json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7464&quot;&gt;&lt;del&gt;CASSANDRA-7464&lt;/del&gt;&lt;/a&gt;&apos;s discussion new tools will be introduced and the current utilities will be deprecated (and after some time deleted). But since the final design is unclear we cannot say when they will be implemented (I suppose it will take about half a year since it is not minor improvement). Can we include this patch as a fix of the current issue?&lt;/p&gt;
</comment>
                            <comment id="14065677" author="jbellis" created="Thu, 17 Jul 2014 22:13:00 +0000"  >&lt;p&gt;Sounds reasonable.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; to review.&lt;/p&gt;</comment>
                            <comment id="14086065" author="blerer" created="Tue, 5 Aug 2014 10:13:59 +0000"  >&lt;p&gt;The patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="14086844" author="jbellis" created="Tue, 5 Aug 2014 21:48:30 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14089703" author="azotcsit" created="Thu, 7 Aug 2014 19:53:43 +0000"  >&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12654752" name="CASSANDRA-2.1-7498.txt" size="21806" author="azotcsit" created="Wed, 9 Jul 2014 05:43:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[azotcsit]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xhtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12327240">1.2.19</customfieldvalue>
    <customfieldvalue id="12327111">2.1 rc2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>blerer</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12316349">1.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>