<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:57:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10049] Commitlog initialization failure</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10049</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I&apos;ve encountered this error locally during some dtests.&lt;/p&gt;

&lt;p&gt;It looks like a race condition in the commit log code.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/view/cassandra-3.0/job/cassandra-3.0_dtest/lastCompletedBuild/testReport/consistency_test/TestAccuracy/test_network_topology_strategy_users_2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/view/cassandra-3.0/job/cassandra-3.0_dtest/lastCompletedBuild/testReport/consistency_test/TestAccuracy/test_network_topology_strategy_users_2/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12855363">CASSANDRA-10049</key>
            <summary>Commitlog initialization failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blambov">Branimir Lambov</assignee>
                                    <reporter username="tjake">T Jake Luciani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Aug 2015 21:36:34 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:00 +0000</updated>
                            <resolved>Fri, 28 Aug 2015 13:46:37 +0000</resolved>
                                        <fixVersion>2.2.1</fixVersion>
                    <fixVersion>3.0 beta 1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14693285" author="blambov" created="Wed, 12 Aug 2015 10:17:31 +0000"  >&lt;p&gt;The link above appears to be broken. A more permanent record of the failure is &lt;a href=&quot;http://cassci.datastax.com/view/cassandra-3.0/job/cassandra-3.0_dtest/38/testReport/consistency_test/TestAccuracy/test_network_topology_strategy_users/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, with an error log of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;AssertionError: Unexpected error in node5 node log: [&apos;ERROR [COMMIT-LOG-ALLOCATOR] 2015-08-11 21:04:28,915 JVMStabilityInspector.java:77 - Exiting due to error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing commit log during initialization. java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 
	at org.apache.cassandra.db.commitlog.MemoryMappedSegment.createBuffer(MemoryMappedSegment.java:70) ~[main/:na] 
	at org.apache.cassandra.db.commitlog.CommitLogSegment.&amp;lt;init&amp;gt;(CommitLogSegment.java:153) ~[main/:na] 
...
	at org.apache.cassandra.db.commitlog.CommitLogSegmentManager$1.runMayThrow(CommitLogSegmentManager.java:123) ~[main/:na] 
	at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) [main/:na] 
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [na:1.8.0_45]&apos;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pushed a patch &lt;a href=&quot;https://github.com/blambov/cassandra/tree/10049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; that addresses this particular race and moves all thread starting outside of constructors in the commitlog package to avoid this type of problem.&lt;/p&gt;</comment>
                            <comment id="14694033" author="tjake" created="Wed, 12 Aug 2015 19:16:47 +0000"  >&lt;p&gt;This looks like its fixes the problem but your branch is 202 commits behind trunk. Can you rebase and push?&lt;/p&gt;</comment>
                            <comment id="14695824" author="tjake" created="Thu, 13 Aug 2015 19:40:06 +0000"  >&lt;p&gt;I rebased and am re-running tests:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/job/tjake-run-jenkins-dtest/3/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/tjake-run-jenkins-dtest/3/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/tjake/job/tjake-run-jenkins-testall/3/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/view/Dev/view/tjake/job/tjake-run-jenkins-testall/3/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14695938" author="tjake" created="Thu, 13 Aug 2015 21:00:25 +0000"  >&lt;p&gt;The commit log unit tests are failing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blambov&quot; class=&quot;user-hover&quot; rel=&quot;blambov&quot;&gt;blambov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14696943" author="blambov" created="Fri, 14 Aug 2015 12:30:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/blambov/cassandra/tree/10049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Branch&lt;/a&gt; fixed and rebased onto 3.0, with &lt;a href=&quot;http://cassci.datastax.com/job/blambov-10049-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; and &lt;a href=&quot;http://cassci.datastax.com/job/blambov-10049-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt;. CommitLogTest still has failures due to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8515&quot; title=&quot;Commit log stop policy not enforced correctly during startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8515&quot;&gt;&lt;del&gt;CASSANDRA-8515&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14697127" author="tjake" created="Fri, 14 Aug 2015 14:39:59 +0000"  >&lt;p&gt;+1 committed&lt;/p&gt;</comment>
                            <comment id="14716867" author="tjake" created="Thu, 27 Aug 2015 15:34:07 +0000"  >&lt;p&gt;This needs to be backported to 2.2 it seems.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://cassci.datastax.com/view/cassandra-2.2/job/cassandra-2.2_dtest/254/testReport/deprecated_repair_test/TestDeprecatedRepairAPI/force_repair_range_async_1_test_2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/view/cassandra-2.2/job/cassandra-2.2_dtest/254/testReport/deprecated_repair_test/TestDeprecatedRepairAPI/force_repair_range_async_1_test_2/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14716998" author="blambov" created="Thu, 27 Aug 2015 16:31:02 +0000"  >&lt;p&gt;2.2 branch is uploaded &lt;a href=&quot;https://github.com/blambov/cassandra/tree/10049-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. &lt;a href=&quot;http://cassci.datastax.com/job/blambov-10049-2.2-dtest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt; and &lt;a href=&quot;http://cassci.datastax.com/job/blambov-10049-2.2-testall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testall&lt;/a&gt; look good.&lt;/p&gt;</comment>
                            <comment id="14718589" author="tjake" created="Fri, 28 Aug 2015 13:46:37 +0000"  >&lt;p&gt;Great committed in 01a11fd2626d57bf0c8d0bce1e43060017592896 thx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blambov]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2isjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>