<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:58:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-10427] compactionstats &apos;completed&apos; field not updating</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-10427</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;nodetool compactionstats is no longer showing any change to completed field or progress.&lt;/p&gt;

&lt;p&gt;Can be reproduced with:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Start cassandra&lt;/li&gt;
	&lt;li&gt;Run stress write&lt;/li&gt;
	&lt;li&gt;run nodetool flush followed by nodetool compactionstats&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool flush          
&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool compactionstats
pending tasks: 1
                                     id   compaction type    keyspace       table   completed       total    unit   progress
   75609a20-67a8-11e5-8003-c909ff7fd15e        Compaction   keyspace1   standard1           0   350132121   bytes      0.00%
Active compaction remaining time :   0h00m20s
&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool compactionstats
pending tasks: 1
                                     id   compaction type    keyspace       table   completed       total    unit   progress
   75609a20-67a8-11e5-8003-c909ff7fd15e        Compaction   keyspace1   standard1           0   350132121   bytes      0.00%
Active compaction remaining time :   0h00m20s
&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool compactionstats
pending tasks: 1
                                     id   compaction type    keyspace       table   completed       total    unit   progress
   75609a20-67a8-11e5-8003-c909ff7fd15e        Compaction   keyspace1   standard1           0   350132121   bytes      0.00%
Active compaction remaining time :   0h00m20s
&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool compactionstats
pending tasks: 1
                                     id   compaction type    keyspace       table   completed       total    unit   progress
   75609a20-67a8-11e5-8003-c909ff7fd15e        Compaction   keyspace1   standard1           0   350132121   bytes      0.00%
Active compaction remaining time :   0h00m20s
&#10140;  cassandra git:(cassandra-3.0) &#10007; ./bin/nodetool compactionstats
pending tasks: 0
&#10140;  cassandra git:(cassandra-3.0) &#10007; 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12901669">CASSANDRA-10427</key>
            <summary>compactionstats &apos;completed&apos; field not updating</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcuse">Marcus Eriksson</assignee>
                                    <reporter username="tjake">T Jake Luciani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Sep 2015 19:26:20 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:54 +0000</updated>
                            <resolved>Mon, 12 Oct 2015 08:44:23 +0000</resolved>
                                        <fixVersion>3.0.0 rc2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14938343" author="tjake" created="Wed, 30 Sep 2015 19:33:37 +0000"  >&lt;p&gt;Note the compactions do complete in the background but there is no user feedback on progress&lt;/p&gt;</comment>
                            <comment id="14939445" author="krummas" created="Thu, 1 Oct 2015 07:33:59 +0000"  >&lt;p&gt;patch here: &lt;a href=&quot;https://github.com/krummas/cassandra/commits/marcuse/10427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/krummas/cassandra/commits/marcuse/10427&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;we need to update the progress on each partition, not row (we don&apos;t iterate over the rows in a partition unless its a cql table)&lt;/p&gt;</comment>
                            <comment id="14939805" author="tjake" created="Thu, 1 Oct 2015 13:27:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14939825" author="krummas" created="Thu, 1 Oct 2015 13:37:53 +0000"  >&lt;p&gt;committed, thanks&lt;/p&gt;</comment>
                            <comment id="14939911" author="krummas" created="Thu, 1 Oct 2015 14:45:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=philipthompson&quot; class=&quot;user-hover&quot; rel=&quot;philipthompson&quot;&gt;philipthompson&lt;/a&gt; do you have time to add a test for this?&lt;/p&gt;</comment>
                            <comment id="14952818" author="krummas" created="Mon, 12 Oct 2015 08:44:23 +0000"  >&lt;p&gt;created &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10504&quot; title=&quot;Create tests for compactionstats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10504&quot;&gt;&lt;del&gt;CASSANDRA-10504&lt;/del&gt;&lt;/a&gt; for the tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mgwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tjake</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tjake]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311124" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>philipthompson</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>