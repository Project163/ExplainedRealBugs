<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:17:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-15833] Unresolvable false digest mismatch during upgrade due to CASSANDRA-10657</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-15833</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; introduced changes in how the ColumnFilter is interpreted. This results in digest mismatch when querying incomplete set of columns from a table with consistency that requires reaching instances running pre &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; from nodes that include &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; (it was introduced in Cassandra 3.4). &lt;/p&gt;

&lt;p&gt;The fix is to bring back the previous behaviour until there are no instances running pre &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10657&quot; title=&quot;Re-enable/improve value skipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10657&quot;&gt;&lt;del&gt;CASSANDRA-10657&lt;/del&gt;&lt;/a&gt; version. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13307367">CASSANDRA-15833</key>
            <summary>Unresolvable false digest mismatch during upgrade due to CASSANDRA-10657</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlewandowski">Jacek Lewandowski</assignee>
                                    <reporter username="jlewandowski">Jacek Lewandowski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2020 08:51:46 +0000</created>
                <updated>Sun, 3 Jan 2021 17:02:58 +0000</updated>
                            <resolved>Mon, 28 Sep 2020 15:23:36 +0000</resolved>
                                        <fixVersion>3.11.9</fixVersion>
                    <fixVersion>4.0-beta3</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Consistency/Repair</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="17126914" author="jrwest" created="Fri, 5 Jun 2020 16:08:03 +0000"  >&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt;. I will take a look. &lt;/p&gt;</comment>
                            <comment id="17129895" author="jrwest" created="Tue, 9 Jun 2020 23:54:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; I have begun the review. One thing I am trying to think about is how we can fix the issue without tying &lt;tt&gt;ColumnFilter.Builder&lt;/tt&gt; to &lt;tt&gt;Gossiper.instance&lt;/tt&gt;. On the other hand, while testing your patch I noticed that &lt;tt&gt;Gossiper#haveMajorVersion3Nodes&lt;/tt&gt; can return &lt;tt&gt;false&lt;/tt&gt; when it is indeed &lt;tt&gt;true&lt;/tt&gt;. I am still digging into it. I will continue more tomorrow. &lt;/p&gt;

&lt;p&gt;EDIT: Testing a bit more, this fixes the case where 4.0 is the coordinator. However, when a 3.0.x node is the coordinator the deserialized &lt;tt&gt;ColumnFilter&lt;/tt&gt; on the 4.0 still has the queried columns set. &lt;/p&gt;</comment>
                            <comment id="17133595" author="jrwest" created="Thu, 11 Jun 2020 19:02:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt; I&apos;ve pushed a test &lt;a href=&quot;https://github.com/jrwest/cassandra/tree/jwest/15833-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;*. Are you planning to pick up the remaining changes or would you like me to pick it up from here (I&apos;m happy to be a reviewer or finish up the patch). Thanks!&lt;/p&gt;

&lt;p&gt;*Unfortunately, there is a bug in in-jvm dtest 4.0 -&amp;gt; 3.0 internode messaging communication that I am tracking down so I haven&apos;t pushed the 4.0 version yet. &lt;/p&gt;</comment>
                            <comment id="17134297" author="jlewandowski" created="Fri, 12 Jun 2020 15:04:26 +0000"  >&lt;p&gt;Yup, I&apos;ll finish that, just was a bit busy recently&lt;/p&gt;</comment>
                            <comment id="17135833" author="jlewandowski" created="Mon, 15 Jun 2020 13:00:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jwest&quot; class=&quot;user-hover&quot; rel=&quot;jwest&quot;&gt;jwest&lt;/a&gt; thank you for having a look. I know about those inconsistencies depending on which node is coordinator, I discovered them later after creating this patch though. The test you created looks great. I&apos;ll add more queries that may be affected by this problem, IIRC I also saw some inconsistencies when executing conditional delete but I need to re-check that. Feel free to move the ticket back in &quot;in-progress&quot;-like state&lt;/p&gt;</comment>
                            <comment id="17137775" author="jlewandowski" created="Tue, 16 Jun 2020 17:29:28 +0000"  >&lt;p&gt;Regarding your concern about using Gossiper; I was wondering whether we could just create a ColumnFilter factory and have different implementations, wdyt?&lt;/p&gt;</comment>
                            <comment id="17144565" author="jrwest" created="Thu, 25 Jun 2020 00:49:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt;&#160;apologies for the delay. I was out last week and playing catch up this week. Can you say more about the factory you have in mind? An example might be helpful if its quick. Thanks!&lt;/p&gt;</comment>
                            <comment id="17156914" author="jmckenzie" created="Mon, 13 Jul 2020 18:51:05 +0000"  >&lt;p&gt;Spoke w/Jordan and Jacek offline; this is ok to move to Beta phase.&lt;/p&gt;</comment>
                            <comment id="17166362" author="jlewandowski" created="Tue, 28 Jul 2020 11:43:44 +0000"  >&lt;p&gt;Please also note this:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15962&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-15962&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here:&#160;&lt;a href=&quot;https://github.com/apache/cassandra/pull/676&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/676&lt;/a&gt;&#160;is my test that reproduces the digest problems&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17175955" author="jrwest" created="Wed, 12 Aug 2020 03:08:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt;. I&apos;ve taken bits of both yours and my patches and pushed them&#160;&lt;a href=&quot;https://github.com/jrwest/cassandra/tree/jwest/15833-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here for 3.11&lt;/a&gt; and &lt;a href=&quot;https://github.com/jrwest/cassandra/tree/jwest/15833-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here for trunk&lt;/a&gt;. I&apos;ve included your test fixes from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15946&quot; title=&quot;NPE when sending REQUEST_RSP from 3.0 to 4.0 in in-jvm dtests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15946&quot;&gt;&lt;del&gt;CASSANDRA-15946&lt;/del&gt;&lt;/a&gt; since its not yet merged. The differences between this patch and the original patch are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The patch included here addresses the case where the 3.0 node is the coordinator. This is why there is an additional change in &lt;tt&gt;ColumnFilter.Serializer#deserialize&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;No change to &lt;tt&gt;ColumnFilter#selection(CFMetadata, PartitionColumns)&lt;/tt&gt; in 3.11. As far as I could tell this method was only used in testing and that testing broke when fixing deserialization from 3.0 nodes.&lt;/li&gt;
	&lt;li&gt;It does not include the &lt;tt&gt;ColumnFilter#selection(TableMetadata, RegularAndStaticColumns)&lt;/tt&gt; change either. This method does seem to be used in CAS but that doesn&apos;t seem to be related to the failure here &amp;#8211; there might be a separate issue with CAS however. I was curious if you hit this specifically or what motivated that change in your original patch?&lt;/li&gt;
	&lt;li&gt;To fix &lt;tt&gt;Gossiper#haveAnyMajorVersion3Nodes&lt;/tt&gt;, I modified there check to abort if it detects the race condition with the updated gossip state. This fixes the issue where the method returns true when there are older nodes in the cluster. I did not modify the 3.11 version, &lt;tt&gt;Gossiper#isAnyNode30&lt;/tt&gt;, because the window where its wrong is very very small and shouldn&apos;t be material in practice (testing shows that it settles before the node takes traffic).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Test runs are here: &lt;a href=&quot;https://app.circleci.com/pipelines/github/jrwest/cassandra?branch=jwest%2F15833-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/jrwest/cassandra?branch=jwest%2F15833-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk &lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17176264" author="jlewandowski" created="Wed, 12 Aug 2020 11:03:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jwest&quot; class=&quot;user-hover&quot; rel=&quot;jwest&quot;&gt;jwest&lt;/a&gt; what do you think about adding tables with static columns to the test?&lt;/p&gt;</comment>
                            <comment id="17176521" author="jrwest" created="Wed, 12 Aug 2020 18:10:47 +0000"  >&lt;p&gt;Good suggestion &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jlewandowski&quot; class=&quot;user-hover&quot; rel=&quot;jlewandowski&quot;&gt;jlewandowski&lt;/a&gt;. Pushed updates to the test to include statics and added a couple more queries. &lt;/p&gt;</comment>
                            <comment id="17189914" author="krummas" created="Thu, 3 Sep 2020 07:48:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;just one thing you can fix on commit, instead of the &quot;see &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15833&quot; title=&quot;Unresolvable false digest mismatch during upgrade due to CASSANDRA-10657&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15833&quot;&gt;&lt;del&gt;CASSANDRA-15833&lt;/del&gt;&lt;/a&gt;&quot;-comments, it would be nice to have the explanation in the code instead of having to read a JIRA ticket to understand&lt;/p&gt;</comment>
                            <comment id="17202383" author="cscotta" created="Fri, 25 Sep 2020 19:09:58 +0000"  >&lt;p&gt;Checking back as this has been in &quot;Ready to Commit&quot; for a bit &#8211; anything outstanding before landing it, or is this ready to go?&lt;/p&gt;</comment>
                            <comment id="17202384" author="jrwest" created="Fri, 25 Sep 2020 19:13:32 +0000"  >&lt;p&gt;Its ready to go. Likely needs a rebase which is on my list to do today or Monday at the latest. I was on vacation when the second +1 was posted and missed the alert. &lt;/p&gt;</comment>
                            <comment id="17203295" author="jrwest" created="Mon, 28 Sep 2020 15:23:36 +0000"  >&lt;p&gt;Committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/cf27558b1442e75e17e47071ecf92d1b3e5a0e36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/cf27558b1442e75e17e47071ecf92d1b3e5a0e36&lt;/a&gt;. Thanks for the input and review everyone!&lt;/p&gt;</comment>
                            <comment id="17204326" author="dcapwell" created="Tue, 29 Sep 2020 22:23:48 +0000"  >&lt;p&gt;Looks like this broke a unit test (&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/org.apache.cassandra.gms/GossiperTest/testHaveVersion3Nodes/history/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/org.apache.cassandra.gms/GossiperTest/testHaveVersion3Nodes/history/&lt;/a&gt;)  and read repair python dtest (&lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/dtest.read_repair_test/TestReadRepair/test_alter_rf_and_run_read_repair/history/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/dtest.read_repair_test/TestReadRepair/test_alter_rf_and_run_read_repair/history/&lt;/a&gt; and &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/dtest-offheap.read_repair_test/TestReadRepairGuarantees/test_atomic_writes_blocking_/history/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-trunk/38/testReport/dtest-offheap.read_repair_test/TestReadRepairGuarantees/test_atomic_writes_blocking_/history/&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Didn&apos;t check 3.11 builds, only trunk.&lt;/p&gt;</comment>
                            <comment id="17204339" author="jrwest" created="Tue, 29 Sep 2020 22:42:01 +0000"  >&lt;p&gt;The issue only affects trunk. My bad. Will open a JIRA to follow-up. The test is likely failing because we changed the logic to make the method actually work as expected. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13330054">CASSANDRA-16148</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13316847">CASSANDRA-15946</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13004019" name="CASSANDRA-15833-3.11.patch" size="2898" author="jlewandowski" created="Tue, 26 May 2020 09:57:05 +0000"/>
                            <attachment id="13004066" name="CASSANDRA-15833-4.0.patch" size="3683" author="jlewandowski" created="Tue, 26 May 2020 20:18:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jlewandowski]]></customfieldvalue>
        <customfieldvalue><![CDATA[jwest]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12987" cascade-level="1"><![CDATA[Transient Incorrect Response]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0f5lc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jwest]]></customfieldvalue>
        <customfieldvalue><![CDATA[marcuse]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348744">3.11.9</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/cf27558b1442e75e17e47071ecf92d1b3e5a0e36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/cf27558b1442e75e17e47071ecf92d1b3e5a0e36&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;The issue can be tested by executing the following steps:&lt;/p&gt;

&lt;p&gt;1. Start 2 node cluster of C* 3.0&lt;br/&gt;
2. Create a keyspace with RF=2, and a sample table with some regular columns (say of text type), insert some data into that table with CL=QUORUM or ALL&lt;br/&gt;
3. Flush created table on both nodes&lt;br/&gt;
4. Upgrade the first node either to 3.11 or 4.0&lt;br/&gt;
5. Start CQL, set consistency to QUORUM or ALL and enable tracing&lt;br/&gt;
6. Query table for a single row with a single regular column&lt;br/&gt;
7. Without patch, the tracing output shows the information about digest mismatch, which is unrecoverable (you can even do full repair), with the patch, there is no such issue&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>