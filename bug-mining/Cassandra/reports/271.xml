<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:12:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-657] AntiEntropyService causes lots of errors to be logged during unit tests</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-657</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Some examples from a successful test run on trunk:&lt;/p&gt;

&lt;p&gt;java.io.IOException: Reached an EOL or something bizzare occured. Reading from: /127.0.0.1 BufferSizeRemaining: 16&lt;br/&gt;
	at org.apache.cassandra.net.io.StartState.doRead(StartState.java:44)&lt;br/&gt;
	at org.apache.cassandra.net.io.ProtocolState.read(ProtocolState.java:39)&lt;br/&gt;
	at org.apache.cassandra.net.io.TcpReader.read(TcpReader.java:96)&lt;br/&gt;
	at org.apache.cassandra.net.TcpConnection$ReadWorkItem.run(TcpConnection.java:444)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;TCP Selector Manager&amp;#93;&lt;/span&gt; 2009-12-29 16:27:53,244 TcpConnection.java (line 363) Encountered IOException on connection: java.nio.channels.SocketChannel&lt;span class=&quot;error&quot;&gt;&amp;#91;closed&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.net.ConnectException: Connection refused&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)&lt;br/&gt;
	at org.apache.cassandra.net.TcpConnection.connect(TcpConnection.java:341)&lt;br/&gt;
	at org.apache.cassandra.net.SelectorManager.doProcess(SelectorManager.java:143)&lt;br/&gt;
	at org.apache.cassandra.net.SelectorManager.run(SelectorManager.java:107)&lt;/p&gt;

&lt;p&gt;It&apos;s not obvious to me if these are errors in AES, errors in the streaming code, errors caused because the test environment insufficiently resembles a live one, or errors because the test is asking the streaming code to do something that doesn&apos;t make sense, but AES is definitely at least immediately responsible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12444335">CASSANDRA-657</key>
            <summary>AntiEntropyService causes lots of errors to be logged during unit tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuhood">Stu Hood</assignee>
                                    <reporter username="jbellis">Jonathan Ellis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Dec 2009 21:33:21 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:30 +0000</updated>
                            <resolved>Fri, 22 Jan 2010 19:03:57 +0000</resolved>
                                        <fixVersion>0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12795179" author="stuhood" created="Tue, 29 Dec 2009 22:49:28 +0000"  >&lt;p&gt;Ah yea. I&apos;ve seen this one before: it seems to happen after successful streaming sessions, but because streaming is a bit of a black box, I&apos;ve never looked into it too deeply. We might want to make this depend on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-579&quot; title=&quot;Stream SSTables without Anti-compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-579&quot;&gt;&lt;del&gt;CASSANDRA-579&lt;/del&gt;&lt;/a&gt;, since changes there will likely expose these inconsistencies.&lt;/p&gt;</comment>
                            <comment id="12803526" author="stuhood" created="Thu, 21 Jan 2010 23:07:21 +0000"  >&lt;p&gt;Hmm, I haven&apos;t checked trunk, but this might have been fixed by #705. Mostly making this comment as a reminder to myself.&lt;/p&gt;</comment>
                            <comment id="12803528" author="jbellis" created="Thu, 21 Jan 2010 23:10:08 +0000"  >&lt;p&gt;i checked, and the errors are slightly different (duh &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but still present.&lt;/p&gt;</comment>
                            <comment id="12803602" author="stuhood" created="Fri, 22 Jan 2010 04:43:54 +0000"  >&lt;p&gt;The receive loop in IncomingTcpConnection expects that any type of connection will be long lived, but streaming connections only send a single header.&lt;/p&gt;</comment>
                            <comment id="12803606" author="jbellis" created="Fri, 22 Jan 2010 05:14:04 +0000"  >&lt;p&gt;I&apos;d rather just let it EOF; that is less fragile if we decide to pool streaming connections later.&lt;/p&gt;

&lt;p&gt;We can move the log message to trace if it bothers you. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12803819" author="jbellis" created="Fri, 22 Jan 2010 19:03:23 +0000"  >&lt;p&gt;moved to trace in r902220&lt;/p&gt;</comment>
                            <comment id="12804075" author="hudson" created="Sat, 23 Jan 2010 12:35:50 +0000"  >&lt;p&gt;Integrated in Cassandra #332 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Cassandra/332/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Cassandra/332/&lt;/a&gt;)&lt;br/&gt;
    move eofexception ST down to trace.  patch by jbellis for &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431095" name="657-short-lived-connections-for-streaming.patch" size="678" author="stuhood" created="Fri, 22 Jan 2010 04:43:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stuhood]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g0a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>91476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>