<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:22:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16085] Cassandra fails to start using Java SE 8 Update 261</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16085</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When using JRE 8u261 to start cassandra it fails and gives this error:&#160;\njava.lang.UnsatisfiedLinkError: WindowsTimer&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13325356">CASSANDRA-16085</key>
            <summary>Cassandra fails to start using Java SE 8 Update 261</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sldr">Stephen L. De Rudder</assignee>
                                    <reporter username="alexDrinkwater">Alex Drinkwater</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Aug 2020 15:46:20 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:58 +0000</updated>
                            <resolved>Wed, 15 Sep 2021 18:44:53 +0000</resolved>
                                        <fixVersion>3.0.26</fixVersion>
                    <fixVersion>3.11.12</fixVersion>
                                    <component>Local/Startup and Shutdown</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17415310" author="sldr" created="Wed, 15 Sep 2021 04:00:23 +0000"  >&lt;p&gt;Add&#160;the&#160;ability&#160;to&#160;catch&#160;UnsatisfiedLinkError&#160;in&#160;WindowsTimer&#160;and&#160;if&#160;not&#160;available&#160;to&#160;allow&#160;startup&#160;to&#160;continue. I get the following on Windows 2019 Server running Cassandra 3.11.3 on Azul Zulu Java 1.8u302:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR [main] 2021-09-10 14:25:29,064 CassandraDaemon.java:708 - Exception encountered during startup
java.lang.UnsatisfiedLinkError: C:\Windows\Temp\jna-1617058420\jna439724638011461000.dll: Can&apos;t find dependent libraries
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;$NativeLibrary.load(Native Method) ~[na:1.8.0_302]
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadLibrary0(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:1950) ~[na:1.8.0_302]
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadLibrary(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:1832) ~[na:1.8.0_302]
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.load0(&lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.java:811) ~[na:1.8.0_302]
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.load(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.java:1088) ~[na:1.8.0_302]
    at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:851) ~[jna-4.2.2.jar:4.2.2 (b0)]
    at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:826) ~[jna-4.2.2.jar:4.2.2 (b0)]
    at com.sun.jna.Native.&amp;lt;clinit&amp;gt;(Native.java:140) ~[jna-4.2.2.jar:4.2.2 (b0)]
    at org.apache.cassandra.utils.WindowsTimer.&amp;lt;clinit&amp;gt;(WindowsTimer.java:35) ~[apache-cassandra-3.11.3.jar:3.11.3]
    at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:599) [apache-cassandra-3.11.3.jar:3.11.3]
    at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:691) [apache-cassandra-3.11.3.jar:3.11.3]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The&#160;fix&#160;implemented&#160;is&#160;similar&#160;to&#160;fix&#160;done&#160;in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-13333&quot; title=&quot;Cassandra does not start on Windows due to &amp;#39;JNA link failure&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-13333&quot;&gt;&lt;del&gt;CASSANDRA-13333&lt;/del&gt;&lt;/a&gt;.&#160;In&#160;that&#160;issue&#160;&#160;WindowsTimer&#160;was&#160;mentioned&#160;but&#160;further&#160;down&#160;the&#160;question&#160;of&#160;&#160;moving&#160;WindowsTimer&#160;is&#160;asked&#160;so&#160;it&#160;could&#160;be&#160;fixed&#160;and&#160;answered&#160;not&#160;to&#160;move.&lt;br/&gt;
&#160;&lt;br/&gt;
I have attached the patch files for branches cassandra-3.0, cassandra-3.11, and trunk.&lt;br/&gt;
Below are the links to the 3 github branches (since I am new at this; I hope at least 1 set of patches or branches will work).&lt;br/&gt;
&lt;a href=&quot;https://github.com/sldr/cassandra/tree/CASSANDRA-16085-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-16085-3.0&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/sldr/cassandra/tree/CASSANDRA-16085-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-16085-3.11&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/sldr/cassandra/tree/CASSANDRA-16085-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CASSANDRA-16085-trunk&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
Let me know if you need anything else.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="17415529" author="brandon.williams" created="Wed, 15 Sep 2021 13:57:00 +0000"  >&lt;p&gt;Thanks for the patches! Unfortunately, since &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Windows support has ended&lt;/a&gt; with 4.0, this is a bit of a conundrum, since I don&apos;t know any committers with a windows machine to test this. That said, since the patch is very straightforward and only touches WindowsTimer, I think we could commit this (except for the trunk patch - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16956&quot; title=&quot;Remove windows-specific classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16956&quot;&gt;&lt;del&gt;CASSANDRA-16956&lt;/del&gt;&lt;/a&gt;)  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmckenzie&quot; class=&quot;user-hover&quot; rel=&quot;jmckenzie&quot;&gt;jmckenzie&lt;/a&gt;  what do you think?&lt;/p&gt;</comment>
                            <comment id="17415658" author="jmckenzie" created="Wed, 15 Sep 2021 17:40:10 +0000"  >&lt;p&gt;Can&apos;t test it, but visually +1 to the patch. The default coalescing value performs reasonably well; think it was the memory mapping that really made the difference. Yeah, checking &lt;a href=&quot;https://web.archive.org/web/20160316234320/http://www.datastax.com/dev/blog/windows-and-cassandra-2-2-objects-in-mirror-are-closer-than-they-appear&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&#160;it was between 9 and 14% from kernel timer 6 years ago, so I think we&apos;re 100% safe to continue if it fails to register.&lt;/p&gt;</comment>
                            <comment id="17415682" author="edimitrova" created="Wed, 15 Sep 2021 18:31:08 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt;&#160;might be able to test it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17415687" author="brandon.williams" created="Wed, 15 Sep 2021 18:44:53 +0000"  >&lt;p&gt;I had already started the commit, so I guess now testing will be easier.  Committed to 3.0 and 3.11 only.&lt;/p&gt;</comment>
                            <comment id="17415726" author="sldr" created="Wed, 15 Sep 2021 20:00:29 +0000"  >&lt;p&gt;THANK YOU!!!&lt;/p&gt;

&lt;p&gt;We will be looking forward to updating to 3.11.12.&lt;/p&gt;</comment>
                            <comment id="17478938" author="sldr" created="Wed, 19 Jan 2022 19:54:57 +0000"  >&lt;p&gt;&lt;b&gt;Workaround:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Cassandra is using jna-4.2.2.2.jar that has a native dll in it (jnidispatch.dll) that needs msvcr100.dll that is part of Microsoft Visual C++ 2010 Redistributable Package (x64). If you install that then Cassandra will run without crashing. NOTE: It may be hard to find &quot;Microsoft Visual C++ 2010 Redistributable Package (x64)&quot; from Microsoft.&lt;/p&gt;

&lt;p&gt;Here is a URL where I found it (url from Installshield prerequisite file for &quot;Microsoft Visual C++ 2010 Redistributable Package (x64)&quot;):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://download.microsoft.com/download/3/2/2/3224B87F-CFA0-4E70-BDA3-3DE650EFEBA5/vcredist_x64.exe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.microsoft.com/download/3/2/2/3224B87F-CFA0-4E70-BDA3-3DE650EFEBA5/vcredist_x64.exe&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Better Option:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;The other option is getting Cassandra 3.11.12 released but I am not sure if and when that is going to happen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13033489" name="cassandra-16085-3.0.patch" size="5940" author="sldr" created="Wed, 15 Sep 2021 03:39:32 +0000"/>
                            <attachment id="13033490" name="cassandra-16085-3.11.patch" size="5942" author="sldr" created="Wed, 15 Sep 2021 03:39:44 +0000"/>
                            <attachment id="13033491" name="cassandra-16085-trunk.patch" size="5934" author="sldr" created="Wed, 15 Sep 2021 03:39:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[sldr]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12983" cascade-level=""><![CDATA[Availability]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    <customfieldvalue key="13101"><![CDATA[Clients]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    <customfieldvalue key="13078"><![CDATA[Java8]]></customfieldvalue>
    <customfieldvalue key="13083"><![CDATA[Windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0i83c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
        <customfieldvalue><![CDATA[jmckenzie]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12341709">3.11.2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/be649d5d5437a99be225049f94fda058e4b9e896&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/be649d5d5437a99be225049f94fda058e4b9e896&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;localized to windows&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>