<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:03:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-11979] cqlsh copyutil should get host metadata by connected address</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-11979</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;pylib.copyutil presently accesses cluster metadata using &lt;tt&gt;shell.hostname&lt;/tt&gt; which could be an unresolved hostname.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/cassandra/blob/58d3b9a90461806d44dd85bf4aa928e575d5fb6c/pylib/cqlshlib/copyutil.py#L207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/58d3b9a90461806d44dd85bf4aa928e575d5fb6c/pylib/cqlshlib/copyutil.py#L207&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cluster metadata normally refers to hosts in terms of numeric host address, not hostname. This works in the current integration because the driver allows hosts with unresolved names into metadata during the initial control connection. In a future version of the driver, that anomaly is removed, and no duplicate hosts-by-name are present in the metadata.&lt;/p&gt;

&lt;p&gt;We will need to update copyutil to refer to hosts by address when accessing metadata. This can be accomplished by one of two methods presently:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;shell.conn.control_connection.host (gives the current connected host address)&lt;/li&gt;
	&lt;li&gt;scan metadata.all_hosts() for the one that &lt;tt&gt;is_up&lt;/tt&gt; and use host.address/host.datacenter&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12976900">CASSANDRA-11979</key>
            <summary>cqlsh copyutil should get host metadata by connected address</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefania">Stefania Alborghetti</assignee>
                                    <reporter username="aholmber">Adam Holmberg</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Wed, 8 Jun 2016 15:24:20 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:30 +0000</updated>
                            <resolved>Mon, 25 Jul 2016 01:28:30 +0000</resolved>
                                        <fixVersion>2.2.8</fixVersion>
                    <fixVersion>3.0.9</fixVersion>
                    <fixVersion>3.8</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15320895" author="aholmber" created="Wed, 8 Jun 2016 16:41:47 +0000"  >&lt;p&gt;We will provide an API for this in the next release:&lt;br/&gt;
&lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://datastax-oss.atlassian.net/browse/PYTHON-583&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15327058" author="stefania" created="Mon, 13 Jun 2016 09:26:15 +0000"  >&lt;p&gt;Thanks, once the driver version 3.5 is available, we will update the cqlsh bundled driver in 2.2+ and replace all occurrences of &lt;tt&gt;shell.hostname&lt;/tt&gt; with &lt;tt&gt;shell.conn.control_connection.host&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15360840" author="stefania" created="Mon, 4 Jul 2016 05:13:55 +0000"  >&lt;p&gt;Driver version 3.5 is now available and will be embedded into cqlsh by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11850&quot; title=&quot;cannot use cql since upgrading python to 2.7.11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11850&quot;&gt;&lt;del&gt;CASSANDRA-11850&lt;/del&gt;&lt;/a&gt;, once that ticket is committed this task can be done.&lt;/p&gt;</comment>
                            <comment id="15363532" author="stefania" created="Wed, 6 Jul 2016 00:18:26 +0000"  >&lt;p&gt;The fix described in this ticket is being developed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11850&quot; title=&quot;cannot use cql since upgrading python to 2.7.11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11850&quot;&gt;&lt;del&gt;CASSANDRA-11850&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15387091" author="stefania" created="Thu, 21 Jul 2016 03:36:16 +0000"  >&lt;p&gt;As discussed on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11850&quot; title=&quot;cannot use cql since upgrading python to 2.7.11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11850&quot;&gt;&lt;del&gt;CASSANDRA-11850&lt;/del&gt;&lt;/a&gt;, the fix for this ticket has been split into its own patch:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;2.2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.0&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;3.9&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11979-cqlsh-2.2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11979-cqlsh-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11979-cqlsh-3.9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11979-cqlsh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11979-cqlsh-2.2-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11979-cqlsh-3.0-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11979-cqlsh-3.9-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11979-cqlsh-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15388852" author="pauloricardomg" created="Fri, 22 Jul 2016 03:59:00 +0000"  >&lt;p&gt;+1, please mark as ready to commit once &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11850&quot; title=&quot;cannot use cql since upgrading python to 2.7.11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11850&quot;&gt;&lt;del&gt;CASSANDRA-11850&lt;/del&gt;&lt;/a&gt; is ready. thanks!&lt;/p&gt;</comment>
                            <comment id="15391233" author="stefania" created="Mon, 25 Jul 2016 01:27:24 +0000"  >&lt;p&gt;Thanks for the review. Committed to 2.2 as b92ab60f7254a49573574d083279b47a1a8bfa14 and merged upwards.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12971376">CASSANDRA-11850</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefania]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z60f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>pauloricardomg</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[pauloricardomg]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>