<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:58:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9594] metrics reporter doesn&apos;t start until after a bootstrap</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9594</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In &lt;tt&gt;o.a.c.service.CassandraDaemon#setup&lt;/tt&gt;, the metrics reporter is started immediately after the invocation of &lt;tt&gt;o.a.c.service.StorageService#initServer&lt;/tt&gt;, which for a bootstrapping node may block for a considerable period of time.  If the metrics reporter is your only source of visibility, then you are blind until the bootstrap completes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12837510">CASSANDRA-9594</key>
            <summary>metrics reporter doesn&apos;t start until after a bootstrap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tommy_s">Tommy Stendahl</assignee>
                                    <reporter username="urandom">Eric Evans</reporter>
                        <labels>
                            <label>lhf</label>
                    </labels>
                <created>Fri, 12 Jun 2015 20:38:58 +0000</created>
                <updated>Wed, 15 Oct 2025 09:49:07 +0000</updated>
                            <resolved>Wed, 30 Sep 2015 19:45:29 +0000</resolved>
                                                            <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14591320" author="tommy_s" created="Thu, 18 Jun 2015 06:07:20 +0000"  >&lt;p&gt;I did some checking in the code and it looks perfectly safe to start the metrics reporter just before the call to &lt;tt&gt;o.a.c.service.StorageService#registerDaemon&lt;/tt&gt;, or do I miss some side effects here?&lt;/p&gt;</comment>
                            <comment id="14599345" author="tommy_s" created="Wed, 24 Jun 2015 12:53:58 +0000"  >&lt;p&gt;I created a patch that starts the metrics reporter before &lt;tt&gt;o.a.c.service.StorageService#registerDaemon&lt;/tt&gt;. Its based on the 2.0 branch and should merge to other branches without problem.&lt;/p&gt;</comment>
                            <comment id="14937951" author="jmckenzie" created="Wed, 30 Sep 2015 17:35:14 +0000"  >&lt;p&gt;Sorry for the delay on this. I don&apos;t see any immediate side-effects from this swap in ordering. &lt;/p&gt;

&lt;p&gt;Doing a CI run on this patch just to sanity check:&lt;br/&gt;
&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/josh-mckenzie/job/josh-mckenzie-9594-testall/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utest&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://cassci.datastax.com/view/Dev/view/josh-mckenzie/job/josh-mckenzie-9594-dtest/1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yukim&quot; class=&quot;user-hover&quot; rel=&quot;yukim&quot;&gt;yukim&lt;/a&gt;: in your work w/bootstrap and/or thinking surrounding &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10283&quot; title=&quot;Create central class that represents node&amp;#39;s local data store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10283&quot;&gt;CASSANDRA-10283&lt;/a&gt;, can you think of any reason why this order swap would be an issue?&lt;/p&gt;</comment>
                            <comment id="14938189" author="yukim" created="Wed, 30 Sep 2015 18:06:29 +0000"  >&lt;p&gt;I think it&apos;s totally fine to swap order.&lt;br/&gt;
Metrics reporter just publishes whatever metrics available at the time of reporting.&lt;br/&gt;
(Maybe we can swap Mx4J set up before initServer also for the same reason).&lt;/p&gt;</comment>
                            <comment id="14938736" author="jmckenzie" created="Wed, 30 Sep 2015 19:45:29 +0000"  >&lt;p&gt;CI looks good.&lt;/p&gt;

&lt;p&gt;Committed to trunk as &lt;tt&gt;bd46463fbb7d6b0998c837450ce61df13eda041d&lt;/tt&gt;. This will be in the 3.2 release.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741601" name="9594.txt" size="2089" author="tommy_s" created="Wed, 24 Jun 2015 12:51:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[tommy_s]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fzqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>joshuamckenzie</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[joshuamckenzie]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>