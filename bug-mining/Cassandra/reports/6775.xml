<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:33:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-19891] SAI fails queries when multiple columns exist and a non-indexed column is a composite with a map</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-19891</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Hit an edge case where SAI fails to create a query plan when multiple columns are used and one of the columns is a CompositeType with a MapType inside&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CREATE TABLE keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt; (
   &lt;span class=&quot;code-quote&quot;&gt;&quot;pk1&quot;&lt;/span&gt; frozen&amp;lt;map&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(IntegerType,SimpleDateType)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(Q=&amp;gt;LongType,I=&amp;gt;ByteType,6=&amp;gt;LexicalUUIDType)&apos;&lt;/span&gt;&amp;gt;&amp;gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;pk2&quot;&lt;/span&gt; frozen&amp;lt;tuple&amp;lt;frozen&amp;lt;tuple&amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;ck1&quot;&lt;/span&gt; frozen&amp;lt;list&amp;lt;frozen&amp;lt;map&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;LexicalUUIDType&apos;&lt;/span&gt;, ascii&amp;gt;&amp;gt;&amp;gt;&amp;gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;ck2&quot;&lt;/span&gt; tinyint,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r1&quot;&lt;/span&gt; frozen&amp;lt;list&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(X=&amp;gt;DecimalType,y=&amp;gt;TimestampType,f=&amp;gt;BooleanType)&apos;&lt;/span&gt;&amp;gt;&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r2&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(P=&amp;gt;ShortType)&apos;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r3&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(FrozenType(ListType(DoubleType)),FrozenType(MapType(LongType,DurationType)),DoubleType)&apos;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r4&quot;&lt;/span&gt; frozen&amp;lt;list&amp;lt;frozen&amp;lt;list&amp;lt;time&amp;gt;&amp;gt;&amp;gt;&amp;gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r5&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(CompositeType(ShortType,SimpleDateType,BooleanType),CompositeType(FloatType),MapType(ByteType,TimeType))&apos;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;r6&quot;&lt;/span&gt; set&amp;lt;smallint&amp;gt;,
   PRIMARY KEY ((&lt;span class=&quot;code-quote&quot;&gt;&quot;pk1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pk2&quot;&lt;/span&gt;), &lt;span class=&quot;code-quote&quot;&gt;&quot;ck1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;ck2&quot;&lt;/span&gt;)
) WITH CLUSTERING ORDER BY (&lt;span class=&quot;code-quote&quot;&gt;&quot;ck1&quot;&lt;/span&gt; ASC, &lt;span class=&quot;code-quote&quot;&gt;&quot;ck2&quot;&lt;/span&gt; DESC);

CREATE INDEX index_test_01 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;r5&quot;&lt;/span&gt;) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;legacy_local_table&apos;&lt;/span&gt;;
CREATE INDEX index_test_02 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(FULL(&lt;span class=&quot;code-quote&quot;&gt;&quot;ck1&quot;&lt;/span&gt;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE INDEX index_test_03 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(FULL(&lt;span class=&quot;code-quote&quot;&gt;&quot;pk1&quot;&lt;/span&gt;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE INDEX index_test_04 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(FULL(&lt;span class=&quot;code-quote&quot;&gt;&quot;r1&quot;&lt;/span&gt;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;legacy_local_table&apos;&lt;/span&gt;;
CREATE INDEX index_test_05 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;r3&quot;&lt;/span&gt;) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;legacy_local_table&apos;&lt;/span&gt;;
CREATE INDEX index_test_06 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(FULL(&lt;span class=&quot;code-quote&quot;&gt;&quot;r4&quot;&lt;/span&gt;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE INDEX index_test_07 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;r2&quot;&lt;/span&gt;) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;;
CREATE INDEX index_test_08 ON keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;pk2&quot;&lt;/span&gt;) USING &#8216;legacy_local_table&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the query&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT *
FROM keyspace_test_00.&lt;span class=&quot;code-quote&quot;&gt;&quot;tbl&quot;&lt;/span&gt;
WHERE &lt;span class=&quot;code-quote&quot;&gt;&quot;r5&quot;&lt;/span&gt; = 0x0010000230bd00000457f0bd31000001000000000700049f647252000000260000000200000001f300000008000001c4e14bba4b00000001260000000800003f2b300d385d00 AND &lt;span class=&quot;code-quote&quot;&gt;&quot;ck1&quot;&lt;/span&gt; = ? AND &lt;span class=&quot;code-quote&quot;&gt;&quot;pk1&quot;&lt;/span&gt; = ? AND &lt;span class=&quot;code-quote&quot;&gt;&quot;r1&quot;&lt;/span&gt; = ? AND &lt;span class=&quot;code-quote&quot;&gt;&quot;r3&quot;&lt;/span&gt; = 0x001c00000002000000083380d171eace676900000008e153bb97fdd5c22e00006d000000030000000897c5493857999fc000000013f08cc4fad0f04d0de51cff28d4ae743d2da1c40000000857108e8c372c868400000013f0cc6bca55f0ee240b27ff12c77a7b7dc3c665000000086c07d25fcdd3403500000013f0745922bdf0ac44c9b5ffd80f025ded9a211d000008200547f5da7a43aa00 AND &lt;span class=&quot;code-quote&quot;&gt;&quot;r4&quot;&lt;/span&gt; = ? AND &lt;span class=&quot;code-quote&quot;&gt;&quot;r2&quot;&lt;/span&gt; = 0x8050000255e200 AND &lt;span class=&quot;code-quote&quot;&gt;&quot;pk2&quot;&lt;/span&gt; = ((-1.2651989E-23))
ALLOW FILTERING
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I played around with this more and see you can also simplify to just SAI indexes&lt;/p&gt;

&lt;p&gt;The following test fails due to this issue but the single column query case (on the complex column) passes&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void sai()
    {
        createKeyspace(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE KEYSPACE keyspace_test_00 WITH REPLICATION = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SimpleStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;replication_factor&apos;&lt;/span&gt;: 1}&quot;&lt;/span&gt;);
        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot; (\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;pk1\&lt;span class=&quot;code-quote&quot;&gt;&quot; frozen&amp;lt;map&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(IntegerType,SimpleDateType)&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(Q=&amp;gt;LongType,I=&amp;gt;ByteType,6=&amp;gt;LexicalUUIDType)&apos;&lt;/span&gt;&amp;gt;&amp;gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;pk2\&lt;span class=&quot;code-quote&quot;&gt;&quot; frozen&amp;lt;tuple&amp;lt;frozen&amp;lt;tuple&amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;ck1\&lt;span class=&quot;code-quote&quot;&gt;&quot; frozen&amp;lt;list&amp;lt;frozen&amp;lt;map&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;LexicalUUIDType&apos;&lt;/span&gt;, ascii&amp;gt;&amp;gt;&amp;gt;&amp;gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;ck2\&lt;span class=&quot;code-quote&quot;&gt;&quot; tinyint,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r1\&lt;span class=&quot;code-quote&quot;&gt;&quot; frozen&amp;lt;list&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(X=&amp;gt;DecimalType,y=&amp;gt;TimestampType,f=&amp;gt;BooleanType)&apos;&lt;/span&gt;&amp;gt;&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r2\&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(P=&amp;gt;ShortType)&apos;&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r3\&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(FrozenType(ListType(DoubleType)),FrozenType(MapType(LongType,DurationType)),DoubleType)&apos;&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r4\&lt;span class=&quot;code-quote&quot;&gt;&quot; frozen&amp;lt;list&amp;lt;frozen&amp;lt;list&amp;lt;time&amp;gt;&amp;gt;&amp;gt;&amp;gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r5\&lt;span class=&quot;code-quote&quot;&gt;&quot; &lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(CompositeType(ShortType,SimpleDateType,BooleanType),CompositeType(FloatType),MapType(ByteType,TimeType))&apos;&lt;/span&gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   \&quot;&lt;/span&gt;r6\&lt;span class=&quot;code-quote&quot;&gt;&quot; set&amp;lt;smallint&amp;gt;,\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;   PRIMARY KEY ((\&quot;&lt;/span&gt;pk1\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;pk2\&lt;span class=&quot;code-quote&quot;&gt;&quot;), \&quot;&lt;/span&gt;ck1\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;ck2\&lt;span class=&quot;code-quote&quot;&gt;&quot;)\n&quot;&lt;/span&gt; +
                     &lt;span class=&quot;code-quote&quot;&gt;&quot;) WITH CLUSTERING ORDER BY (\&quot;&lt;/span&gt;ck1\&lt;span class=&quot;code-quote&quot;&gt;&quot; ASC, \&quot;&lt;/span&gt;ck2\&lt;span class=&quot;code-quote&quot;&gt;&quot; DESC);&quot;&lt;/span&gt;);

        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX ON keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;(FULL(\&quot;&lt;/span&gt;ck1\&lt;span class=&quot;code-quote&quot;&gt;&quot;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX ON keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;(FULL(\&quot;&lt;/span&gt;pk1\&lt;span class=&quot;code-quote&quot;&gt;&quot;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX ON keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;(FULL(\&quot;&lt;/span&gt;r4\&lt;span class=&quot;code-quote&quot;&gt;&quot;)) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX ON keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;(\&quot;&lt;/span&gt;r2\&lt;span class=&quot;code-quote&quot;&gt;&quot;) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
        schemaChange(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE INDEX ON keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;(\&quot;&lt;/span&gt;r3\&lt;span class=&quot;code-quote&quot;&gt;&quot;) USING &lt;span class=&quot;code-quote&quot;&gt;&apos;SAI&apos;&lt;/span&gt;&quot;&lt;/span&gt;);

        executeFormattedQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT *\n&quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;FROM keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;WHERE &quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;    \&quot;&lt;/span&gt;r3\&lt;span class=&quot;code-quote&quot;&gt;&quot; = 0x001c00000002000000083380d171eace676900000008e153bb97fdd5c22e00006d000000030000000897c5493857999fc000000013f08cc4fad0f04d0de51cff28d4ae743d2da1c40000000857108e8c372c868400000013f0cc6bca55f0ee240b27ff12c77a7b7dc3c665000000086c07d25fcdd3403500000013f0745922bdf0ac44c9b5ffd80f025ded9a211d000008200547f5da7a43aa00 &quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;ALLOW FILTERING&quot;&lt;/span&gt;);

        executeFormattedQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;SELECT *\n&quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;FROM keyspace_test_00.\&quot;&lt;/span&gt;tbl\&lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;WHERE \&quot;&lt;/span&gt;r5\&lt;span class=&quot;code-quote&quot;&gt;&quot; = 0x0010000230bd00000457f0bd31000001000000000700049f647252000000260000000200000001f300000008000001c4e14bba4b00000001260000000800003f2b300d385d00 &quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;    AND \&quot;&lt;/span&gt;r3\&lt;span class=&quot;code-quote&quot;&gt;&quot; = 0x001c00000002000000083380d171eace676900000008e153bb97fdd5c22e00006d000000030000000897c5493857999fc000000013f08cc4fad0f04d0de51cff28d4ae743d2da1c40000000857108e8c372c868400000013f0cc6bca55f0ee240b27ff12c77a7b7dc3c665000000086c07d25fcdd3403500000013f0745922bdf0ac44c9b5ffd80f025ded9a211d000008200547f5da7a43aa00 &quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;    AND \&quot;&lt;/span&gt;r2\&lt;span class=&quot;code-quote&quot;&gt;&quot; = 0x8050000255e200 &quot;&lt;/span&gt; + &lt;span class=&quot;code-comment&quot;&gt;// SAI
&lt;/span&gt;                              &lt;span class=&quot;code-quote&quot;&gt;&quot;    AND \&quot;&lt;/span&gt;pk2\&lt;span class=&quot;code-quote&quot;&gt;&quot; = ((-1.2651989E-23))\n&quot;&lt;/span&gt; +
                              &lt;span class=&quot;code-quote&quot;&gt;&quot;ALLOW FILTERING&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13590929">CASSANDRA-19891</key>
            <summary>SAI fails queries when multiple columns exist and a non-indexed column is a composite with a map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Novice_P">Sunil Ramchandra Pawar</assignee>
                                    <reporter username="dcapwell">David Capwell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Sep 2024 22:28:56 +0000</created>
                <updated>Wed, 16 Apr 2025 22:25:02 +0000</updated>
                            <resolved>Wed, 16 Apr 2025 22:25:02 +0000</resolved>
                                        <fixVersion>5.0.5</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Feature/2i Index</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17879049" author="dcapwell" created="Tue, 3 Sep 2024 22:30:15 +0000"  >&lt;p&gt;I don&apos;t think this is a 5.0.0 blocker as this only happens with CompositeType(MapType(...), ...)... I don&apos;t think people actually know that is a valid type... so its hard for a user to see this bug&lt;/p&gt;</comment>
                            <comment id="17943617" author="maedhroz" created="Fri, 11 Apr 2025 15:36:09 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/4017&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13076025/13076025_ci_summary.html&quot; title=&quot;ci_summary.html attached to CASSANDRA-19891&quot;&gt;ci_summary.html&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17944477" author="maedhroz" created="Mon, 14 Apr 2025 21:19:18 +0000"  >&lt;p&gt;Made a pass at review and left comments in the PR...&lt;/p&gt;</comment>
                            <comment id="17944749" author="maedhroz" created="Tue, 15 Apr 2025 14:49:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17944827" author="novice_p" created="Tue, 15 Apr 2025 19:01:37 +0000"  >&lt;p&gt;PR for Cassandra-5.0&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/pull/4098/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/pull/4098/files&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17945177" author="dcapwell" created="Wed, 16 Apr 2025 22:20:40 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19891&quot; title=&quot;SAI fails queries when multiple columns exist and a non-indexed column is a composite with a map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19891&quot;&gt;&lt;del&gt;CASSANDRA-19891&lt;/del&gt;&lt;/a&gt;-cassandra-5.0-3A2C3FEB-1034-497B-9BE4-C45309680BAC&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;cassandra-5.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fa9069d181be2e71badbbdfa71a43505e9e344ba&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm17-dtests  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.distributed.test.HintsMaxWindowTest::testHintsKeepRecordingAfterNodeGoesOf &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test gossip_test.TestGossip::gossip_test.py::TestGossip::test_2dc_parallel_startup failed,Test gossi &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Repo&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Parent Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SHA&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/dcapwell/cassandra.git&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;commit_remote_branch/&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-19891&quot; title=&quot;SAI fails queries when multiple columns exist and a non-indexed column is a composite with a map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-19891&quot;&gt;&lt;del&gt;CASSANDRA-19891&lt;/del&gt;&lt;/a&gt;-trunk-3A2C3FEB-1034-497B-9BE4-C45309680BAC&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;89b3fb0400572056f0101df2de10ae68fe388960&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Unstable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Failed Builds:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Build&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Result&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Reason&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; jvm-dtest-simulator &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test org.apache.cassandra.simulator.test.HarrySimulatorTest::test-cassandra.testtag_IS_UNDEFINED had &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; python-dtests       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; fail &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Test gossip_test.TestGossip::gossip_test.py::TestGossip::test_2dc_parallel_startup failed,Test repla &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="13076042" name="ci_summary-1.html" size="18966" author="maedhroz" created="Wed, 16 Apr 2025 05:26:04 +0000"/>
                            <attachment id="13076070" name="ci_summary-cassandra-5.0-fa9069d181be2e71badbbdfa71a43505e9e344ba.html" size="26366" author="dcapwell" created="Wed, 16 Apr 2025 22:19:58 +0000"/>
                            <attachment id="13076071" name="ci_summary-trunk-89b3fb0400572056f0101df2de10ae68fe388960.html" size="45393" author="dcapwell" created="Wed, 16 Apr 2025 22:19:58 +0000"/>
                            <attachment id="13076025" name="ci_summary.html" size="17843" author="maedhroz" created="Tue, 15 Apr 2025 15:43:21 +0000"/>
                            <attachment id="13076072" name="result_details-cassandra-5.0-fa9069d181be2e71badbbdfa71a43505e9e344ba.tar.gz" size="2829392" author="dcapwell" created="Wed, 16 Apr 2025 22:19:59 +0000"/>
                            <attachment id="13076073" name="result_details-trunk-89b3fb0400572056f0101df2de10ae68fe388960.tar.gz" size="3160360" author="dcapwell" created="Wed, 16 Apr 2025 22:19:59 +0000"/>
                            <attachment id="13076043" name="result_details.tar-1.gz" size="2257884" author="maedhroz" created="Wed, 16 Apr 2025 05:26:05 +0000"/>
                            <attachment id="13076026" name="result_details.tar.gz" size="2622534" author="maedhroz" created="Tue, 15 Apr 2025 15:43:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[Novice_P]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12987" cascade-level="1"><![CDATA[Transient Incorrect Response]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12972"><![CDATA[Fuzz Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311120" key="com.pyxis.greenhopper.jira:gh-epic-link">
                        <customfieldname>Epic Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>CASSANDRA-19224</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r7ug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[maedhroz]]></customfieldvalue>
        <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12351720">5.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/4436b84a5ae090c79e9dee687d7c5c9074f7eae4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/4436b84a5ae090c79e9dee687d7c5c9074f7eae4&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Additions to &lt;tt&gt;ComplexQueryTest&lt;/tt&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>