<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:29:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3827] nosetests / system tests fail</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3827</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;CQL Driver version used: 1.0.8.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
======================================================================
ERROR: system.test_thrift_server.TestMutations.test_bad_batch_calls
----------------------------------------------------------------------
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python2.7/site-packages/nose/&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;.py&quot;&lt;/span&gt;, line 381, in setUp
    try_run(self.inst, (&lt;span class=&quot;code-quote&quot;&gt;&apos;setup&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;setUp&apos;&lt;/span&gt;))
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python2.7/site-packages/nose/util.py&quot;&lt;/span&gt;, line 478, in try_run
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; func()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/jenkins/jobs/Cassandra/workspace/test/system/__init__.py&quot;&lt;/span&gt;, line 113, in setUp
    self.define_schema()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/jenkins/jobs/Cassandra/workspace/test/system/__init__.py&quot;&lt;/span&gt;, line 158, in define_schema
    Cassandra.CfDef(&lt;span class=&quot;code-quote&quot;&gt;&apos;Keyspace1&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;Super1&apos;&lt;/span&gt;, column_type=&lt;span class=&quot;code-quote&quot;&gt;&apos;Super&apos;&lt;/span&gt;, subcomparator_type=&lt;span class=&quot;code-quote&quot;&gt;&apos;LongType&apos;&lt;/span&gt;, row_cache_size=1000, key_cache_size=0),
TypeError: __init__() got an unexpected keyword argument &lt;span class=&quot;code-quote&quot;&gt;&apos;key_cache_size&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12540778">CASSANDRA-3827</key>
            <summary>nosetests / system tests fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xedin">Pavel Yaskevich</assignee>
                                    <reporter username="mallen">Michael Allen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Feb 2012 21:06:10 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:41 +0000</updated>
                            <resolved>Tue, 7 Feb 2012 15:34:01 +0000</resolved>
                                        <fixVersion>1.1.0</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13198162" author="xedin" created="Wed, 1 Feb 2012 21:19:49 +0000"  >&lt;p&gt;you can just remove key_cache_size and row_cache_size from ThriftTester.define_schema(self), we don&apos;t support them anymore.&lt;/p&gt;</comment>
                            <comment id="13198292" author="xedin" created="Wed, 1 Feb 2012 23:03:08 +0000"  >&lt;p&gt;removed &lt;/p&gt;
{row,key}
&lt;p&gt;_cache_size as deprecated from ThriftTester.define_schema(self) and fixed removed FilterClause to KeyRange for index tests. Now all tests pass for me:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PYTHONPATH=test nosetests --tests=system.test_thrift_server
............................................................................................
----------------------------------------------------------------------
Ran 92 tests in 626.972s

OK
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13198381" author="mallen" created="Thu, 2 Feb 2012 00:38:43 +0000"  >&lt;p&gt;It still fails for me with the patch applied, though I&apos;m getting a different error now:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PYTHONPATH=/Users/mallen/cql-1.0.8:/Users/mallen/git-repos/cassandra/&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;/thrift/gen-py/cassandra nosetests -x test/system
.E
======================================================================
ERROR: system.test_thrift_server.TestMutations.test_bad_calls
----------------------------------------------------------------------
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/Library/Python/2.6/site-packages/nose/&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;.py&quot;&lt;/span&gt;, line 187, in runTest
    self.test(*self.arg)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/mallen/dstax/repos/git/cassandra/test/system/test_thrift_server.py&quot;&lt;/span&gt;, line 710, in test_bad_calls
    _expect_exception(lambda: get_range_slice(client, ColumnParent(&lt;span class=&quot;code-quote&quot;&gt;&apos;S&apos;&lt;/span&gt;), SlicePredicate(column_names=[&lt;span class=&quot;code-quote&quot;&gt;&apos;&apos;, &apos;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;]), &apos;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;, &apos;&lt;/span&gt;&apos;, 5, ConsistencyLevel.ONE), InvalidRequestException)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/mallen/dstax/repos/git/cassandra/test/system/test_thrift_server.py&quot;&lt;/span&gt;, line 207, in _expect_exception
    r = fn()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/mallen/dstax/repos/git/cassandra/test/system/test_thrift_server.py&quot;&lt;/span&gt;, line 710, in &amp;lt;lambda&amp;gt;
    _expect_exception(lambda: get_range_slice(client, ColumnParent(&lt;span class=&quot;code-quote&quot;&gt;&apos;S&apos;&lt;/span&gt;), SlicePredicate(column_names=[&lt;span class=&quot;code-quote&quot;&gt;&apos;&apos;, &apos;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;]), &apos;&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;, &apos;&lt;/span&gt;&apos;, 5, ConsistencyLevel.ONE), InvalidRequestException)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/mallen/dstax/repos/git/cassandra/test/system/test_thrift_server.py&quot;&lt;/span&gt;, line 217, in get_range_slice
    kr = KeyRange(start, end, count=count, row_filter=row_filter)
TypeError: __init__() got an unexpected keyword argument &lt;span class=&quot;code-quote&quot;&gt;&apos;row_filter&apos;&lt;/span&gt;

----------------------------------------------------------------------
Ran 2 tests in 7.296s

FAILED (errors=1)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13198393" author="xedin" created="Thu, 2 Feb 2012 00:43:07 +0000"  >&lt;p&gt;I forgot to mention that I re-generated Python Thrift bindings using `ant gen-thrift-py` before running tests. This is probably what you need because as I can see KeyRange does have a `row_filter` parameter.&lt;/p&gt;</comment>
                            <comment id="13198436" author="mallen" created="Thu, 2 Feb 2012 01:29:00 +0000"  >&lt;p&gt;Oh right. Thanks, Pavel.  All tests are passing for me now too.&lt;/p&gt;</comment>
                            <comment id="13198438" author="xedin" created="Thu, 2 Feb 2012 01:31:07 +0000"  >&lt;p&gt;Great! Let&apos;s wait up what Jonathan has to say about code.&lt;/p&gt;</comment>
                            <comment id="13202465" author="brandon.williams" created="Tue, 7 Feb 2012 15:26:15 +0000"  >&lt;p&gt;LGTM, +1&lt;/p&gt;</comment>
                            <comment id="13202472" author="xedin" created="Tue, 7 Feb 2012 15:34:01 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512864" name="CASSANDRA-3827.patch" size="8335" author="xedin" created="Wed, 1 Feb 2012 23:03:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[xedin]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0goov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>