<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:03:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-11055] C*2.1 cqlsh DESCRIBE KEYSPACE ( or TABLE ) returns &apos;NoneType&apos; object has no attribute &apos;replace&apos;</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-11055</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;C* 2.1 cqlsh DESCRIBE KEYSPACE ( or TABLE ) returns:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;NoneType&apos;&lt;/span&gt; object has no attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;replace&apos;&lt;/span&gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;for thrift CF&apos;s originally created in C* 1.2.&lt;/p&gt;

&lt;p&gt;Repro:&lt;/p&gt;

&lt;p&gt;1. Create cf in cassandra-cli on C* 1.2.x  (1.2.9 was used here)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;@ks1] CREATE COLUMN FAMILY t1
...	WITH column_type=&lt;span class=&quot;code-quote&quot;&gt;&apos;Standard&apos;&lt;/span&gt;
...	AND comparator=&lt;span class=&quot;code-quote&quot;&gt;&apos;CompositeType(org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.UTF8Type)&apos;&lt;/span&gt;
...	AND default_validation_class=&lt;span class=&quot;code-quote&quot;&gt;&apos;UTF8Type&apos;&lt;/span&gt;
...	AND key_validation_class=&lt;span class=&quot;code-quote&quot;&gt;&apos;UTF8Type&apos;&lt;/span&gt;
...	AND read_repair_chance=0.1
...	AND dclocal_read_repair_chance=0.0
...	AND gc_grace=864000
...	AND min_compaction_threshold=4
...	AND max_compaction_threshold=32
...	AND replicate_on_write=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
...	AND compaction_strategy=&lt;span class=&quot;code-quote&quot;&gt;&apos;LeveledCompactionStrategy&apos;&lt;/span&gt; AND compaction_strategy_options={sstable_size_in_mb: 32}
...	AND caching=&lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS_ONLY&apos;&lt;/span&gt;
...	AND compression_options={sstable_compression:SnappyCompressor, chunk_length_kb:64};

qlsh&amp;gt; describe keyspace ks1;

CREATE KEYSPACE ks1 WITH replication = {
  &lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;datacenter1&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;
};

USE ks1;

CREATE TABLE t1 (
  key text,
  column1 text,
  column2 text,
  value text,
  PRIMARY KEY (key, column1, column2)
) WITH COMPACT STORAGE AND
  bloom_filter_fp_chance=0.100000 AND
  caching=&lt;span class=&quot;code-quote&quot;&gt;&apos;KEYS_ONLY&apos;&lt;/span&gt; AND
  comment=&apos;&apos; AND
  dclocal_read_repair_chance=0.000000 AND
  gc_grace_seconds=864000 AND
  read_repair_chance=0.100000 AND
  replicate_on_write=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; AND
  populate_io_cache_on_flush=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;&lt;/span&gt; AND
  compaction={&lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_size_in_mb&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;32&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;LeveledCompactionStrategy&apos;&lt;/span&gt;} AND
  compression={&lt;span class=&quot;code-quote&quot;&gt;&apos;chunk_length_kb&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;64&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_compression&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;SnappyCompressor&apos;&lt;/span&gt;};


cqlsh&amp;gt; select keyspace_name, columnfamily_name,column_aliases,key_aliases from system.schema_columnfamilies where keyspace_name= &lt;span class=&quot;code-quote&quot;&gt;&apos;ks1&apos;&lt;/span&gt;;

 keyspace_name | columnfamily_name | column_aliases | key_aliases
---------------+-------------------+----------------+-------------
           ks1 |                t1 |             [] |          []


2/ Upgrade -&amp;gt; C* 2.0.9 -&amp;gt; nodetool upgradesstables -a

At &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; stage , DESCRIBE in cqlsh is working

3/ Upgrade -&amp;gt; C* 2.1.12 -&amp;gt; nodetool upgradesstables -a

DESCRIBE now fails:

cqlsh&amp;gt; describe table ks1.t1;
&lt;span class=&quot;code-quote&quot;&gt;&apos;NoneType&apos;&lt;/span&gt; object has no attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;replace&apos;&lt;/span&gt;

cqlsh&amp;gt; describe keyspace ks1;
&lt;span class=&quot;code-quote&quot;&gt;&apos;NoneType&apos;&lt;/span&gt; object has no attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;replace&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can workaround by manually updating &lt;tt&gt;system.schema_columnfamilies&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; UPDATE system.schema_columnfamilies SET column_aliases =&lt;span class=&quot;code-quote&quot;&gt;&apos;[&lt;span class=&quot;code-quote&quot;&gt;&quot;column1&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;column2&quot;&lt;/span&gt;]&apos;&lt;/span&gt; WHERE keyspace_name = &lt;span class=&quot;code-quote&quot;&gt;&apos;ks1&apos;&lt;/span&gt; AND columnfamily_name = &lt;span class=&quot;code-quote&quot;&gt;&apos;t1&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Once you exit and restart cqlsh, &lt;tt&gt;DESCRIBE&lt;/tt&gt; is not working as per C* 1.2&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cqlsh&amp;gt; describe keyspace ks1;

CREATE KEYSPACE ks1 WITH replication = {&lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;NetworkTopologyStrategy&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;datacenter1&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;}  AND durable_writes = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

CREATE TABLE ks1.t1 (
    key text,
    column1 text,
    column2 text,
    value text,
    PRIMARY KEY (key, column1, column2)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (column1 ASC, column2 ASC)
    AND caching = &lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;keys&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;ALL&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;rows_per_partition&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;NONE&quot;&lt;/span&gt;}&apos;&lt;/span&gt;
    AND comment = &apos;&apos;
    AND compaction = {&lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_size_in_mb&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;32&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;class&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.compaction.LeveledCompactionStrategy&apos;&lt;/span&gt;}
    AND compression = {&lt;span class=&quot;code-quote&quot;&gt;&apos;chunk_length_kb&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;64&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;sstable_compression&apos;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.io.compress.SnappyCompressor&apos;&lt;/span&gt;}
    AND dclocal_read_repair_chance = 0.0
    AND default_time_to_live = 0
    AND gc_grace_seconds = 864000
    AND max_index_interval = 2048
    AND memtable_flush_period_in_ms = 0
    AND min_index_interval = 128
    AND read_repair_chance = 0.1
    AND speculative_retry = &lt;span class=&quot;code-quote&quot;&gt;&apos;99.0PERCENTILE&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12933073">CASSANDRA-11055</key>
            <summary>C*2.1 cqlsh DESCRIBE KEYSPACE ( or TABLE ) returns &apos;NoneType&apos; object has no attribute &apos;replace&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefania">Stefania Alborghetti</assignee>
                                    <reporter username="sashley">Simon Ashley</reporter>
                        <labels>
                            <label>cqlsh</label>
                    </labels>
                <created>Thu, 21 Jan 2016 13:56:49 +0000</created>
                <updated>Tue, 16 Apr 2019 09:30:44 +0000</updated>
                            <resolved>Thu, 2 Jun 2016 12:13:28 +0000</resolved>
                                        <fixVersion>2.1.15</fixVersion>
                                    <component>Legacy/Tools</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15130627" author="lazyadmin" created="Wed, 3 Feb 2016 16:14:51 +0000"  >&lt;p&gt;We are experiencing the same issue here. Cassandra version 2.1.12, operating system is &quot;Red Hat Enterprise Linux Server release 6.4 (Santiago)&quot;. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;cqlsh&amp;gt; DESC SCHEMA;&lt;/p&gt;

&lt;p&gt;&apos;NoneType&apos; object has no attribute &apos;replace&apos;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15277782" author="sashley" created="Tue, 10 May 2016 08:13:58 +0000"  >&lt;p&gt;A better workaround to the one above is to run the following for each columnfamily in the keyspace in cassandra-cli&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
use &amp;lt;keyspace&amp;gt;&lt;br/&gt;
update column family &amp;lt;column family name&amp;gt; with column_metadata = [];&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;This will ensure that system.schema_columnfamilies gets updated correctly without the need for trying to figure out how many columns you need for the update statement in cqlsh.&lt;/p&gt;</comment>
                            <comment id="15277919" author="iamaleksey" created="Tue, 10 May 2016 10:29:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;A better workaround to the one above is to run the following for each columnfamily in the keyspace in cassandra-cli&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please don&apos;t. In particular for tables created via CQL. This is not truly safe.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You can workaround by manually updating system.schema_columnfamilies UPDATE system.schema_columnfamilies SET column_aliases =&apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;column1&amp;quot;,&amp;quot;column2&amp;quot;&amp;#93;&lt;/span&gt;&apos; WHERE keyspace_name = &apos;ks1&apos; AND columnfamily_name = &apos;t1&apos;;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please don&apos;t try manually updating schema tables. This is not safe, at all - few people know schema well enough to pull it off.&lt;/p&gt;

&lt;p&gt;The bug in question is ultimately a cqlsh problem and should be fixed there. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Stefania&quot; class=&quot;user-hover&quot; rel=&quot;stefania&quot;&gt;Stefania&lt;/a&gt; ^&lt;/p&gt;</comment>
                            <comment id="15279473" author="stefania" created="Wed, 11 May 2016 03:56:00 +0000"  >&lt;p&gt;This is the exception stack trace:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;raceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/cqlsh&quot;&lt;/span&gt;, line 1010, in onecmd
    self.handle_statement(st, statementtext)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/cqlsh&quot;&lt;/span&gt;, line 1047, in handle_statement
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; custom_handler(parsed)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/cqlsh&quot;&lt;/span&gt;, line 1475, in do_describe
    self.describe_keyspace(ksname)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/cqlsh&quot;&lt;/span&gt;, line 1317, in describe_keyspace
    self.print_recreate_keyspace(self.get_keyspace_meta(ksname), sys.stdout)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/cqlsh&quot;&lt;/span&gt;, line 1277, in print_recreate_keyspace
    out.write(ksdef.export_as_string())
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 875, in export_as_string
    + [t.export_as_string() &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; t in self.tables.values()])
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1302, in export_as_string
    ret += &lt;span class=&quot;code-quote&quot;&gt;&quot;\nApproximate structure, &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reference:\n(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should not be used to reproduce &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; schema)\n\n%s\n*/&quot;&lt;/span&gt; % self.all_as_cql()
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1309, in all_as_cql
    ret = self.as_cql_query(formatted=True)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1340, in as_cql_query
    columns.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;%s %s%s&quot;&lt;/span&gt; % (protect_name(col.name), col.typestring, &lt;span class=&quot;code-quote&quot;&gt;&apos; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; col.is_static &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &apos;&apos;))
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1430, in protect_name
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; maybe_escape_name(name)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1459, in maybe_escape_name
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; escape_name(name)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/stefi/git/cstar/cassandra/bin/../lib/cassandra-driver-internal-only-2.7.2.zip/cassandra-driver-2.7.2/cassandra/metadata.py&quot;&lt;/span&gt;, line 1463, in escape_name
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;%s&quot;&lt;/span&gt;&apos;&lt;/span&gt; % (name.replace(&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt;&quot;&apos;&lt;/span&gt;),)
AttributeError: &lt;span class=&quot;code-quote&quot;&gt;&apos;NoneType&apos;&lt;/span&gt; object has no attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;replace&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is caused by &lt;tt&gt;ColumnMetadata&lt;/tt&gt; instances where the name is set to &lt;tt&gt;None&lt;/tt&gt;. I&apos;ve attached &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12803369/12803369_data.tar.gz&quot; title=&quot;data.tar.gz attached to CASSANDRA-11055&quot;&gt;data.tar.gz&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, it contains a data directory with a CF that was generated in 1.2.9 following the instructions in the description and it can be used to reproduce the problem in 2.1 HEAD.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;: the problem is in &lt;tt&gt;_build_table_metadata()&lt;/tt&gt;, see patch attached (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12803368/12803368_11055-driver-2.7.2.patch&quot; title=&quot;11055-driver-2.7.2.patch attached to CASSANDRA-11055&quot;&gt;11055-driver-2.7.2.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;). In the absence of column aliases, we pick up an array set to &lt;tt&gt;[None, None]&lt;/tt&gt; from &lt;tt&gt;comparator.fieldnames&lt;/tt&gt;. I&apos;ve fixed it so that it gets the column names from the clustering rows but you may want to check the contents of &lt;tt&gt;comparator.fieldnames&lt;/tt&gt; before using it. Also, when processing the normal columns, &lt;tt&gt;cf_col_rows&lt;/tt&gt;, shouldn&apos;t we skip clustering and partition columns?&lt;/p&gt;

&lt;p&gt;&lt;b&gt;The exception does not happen in 2.2 HEAD&lt;/b&gt;, so I am not sure how much of this patch is required in the latest driver version.&lt;/p&gt;

&lt;p&gt;Due to the API changes in the 3.0+ driver, I would prefer to apply this patch to the 2.7.2 branch rather than upgrade the bundled driver in 2.1 to 3.0, is this OK &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="15287962" author="stefania" created="Wed, 18 May 2016 00:34:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aholmber&quot; class=&quot;user-hover&quot; rel=&quot;aholmber&quot;&gt;aholmber&lt;/a&gt;: gentle ping in case you&apos;ve missed the initial mention.&lt;/p&gt;</comment>
                            <comment id="15290104" author="aholmber" created="Wed, 18 May 2016 23:46:20 +0000"  >&lt;p&gt;I did miss this. Thanks.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Due to the API changes in the 3.0+ driver, I would prefer to apply this patch to the 2.7.2 branch rather than upgrade the bundled driver in 2.1 to 3.0&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree it would be most straightforward to apply this after the 2.7.2 tag and package for integration. &lt;a href=&quot;https://github.com/datastax/python-driver/compare/2.7.2-cassandra-2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Here&lt;/a&gt; is a branch with your patch applied (&lt;a href=&quot;https://github.com/datastax/python-driver/blob/master/README-dev.rst#packaging-for-cassandra&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;refresher&lt;/a&gt; on how to roll with commit included). It looks like this change breaks &lt;a href=&quot;https://github.com/datastax/python-driver/blob/2.7.2-cassandra-2.1/tests/integration/standard/test_metadata.py#L869-L1133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;one of our (contrived) legacy metadata tests&lt;/a&gt;, so we&apos;ll have to decide if the test or the change is wrong. I&apos;m out of office W-F this week so I&apos;m not sure I&apos;ll find the time to work on it.&lt;/p&gt;

&lt;p&gt;I will also take a look to see if this schema impacts legacy schema parsing in recent versions of the driver connecting to older versions of Cassandra. That should not be a blocker for this ticket though. Follow-on for the driver: &lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-562&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PYTHON-562&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15290375" author="stefania" created="Thu, 19 May 2016 03:08:00 +0000"  >&lt;p&gt;Thanks for opening &lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-562&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PYTHON-562&lt;/a&gt; and for the refresher on how to roll with a commit included, definitely most appreciated! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve created a branch for 2.1 with the updated driver and launched our own tests:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11055-cqlsh-2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11055-cqlsh-2.1-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I had a look at the legacy metadata failing test, I think it fails on the 2.7.2 tag as well. The clustering columns come from the comparator fields and are sorted by name it seems. So I think it&apos;s just a matter of rearranging the order of clustering columns in the test but I&apos;ll let you double check.&lt;/p&gt;

&lt;p&gt;We can resume once you are back, enjoy the conference!&lt;/p&gt;</comment>
                            <comment id="15298917" author="aholmber" created="Tue, 24 May 2016 21:07:29 +0000"  >&lt;p&gt;Sorry about the delay. I see what you mean about the ordering. That was a broken test and it was apparently fixed in a later version. However, I added the text &quot;fix&quot; to this branch, and the change for this ticket caused a change in behavior. My knowledge of DCT is lacking, so I&apos;m not confident of the original test. What CQL would you expect to reproduce a column family like this?:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create column family composite_comp_no_col
  with column_type = &lt;span class=&quot;code-quote&quot;&gt;&apos;Standard&apos;&lt;/span&gt;
  and comparator = &lt;span class=&quot;code-quote&quot;&gt;&apos;DynamicCompositeType(t=&amp;gt;org.apache.cassandra.db.marshal.TimeUUIDType,s=&amp;gt;org.apache.cassandra.db.marshal.UTF8Type,b=&amp;gt;org.apache.cassandra.db.marshal.BytesType)&apos;&lt;/span&gt;
  and default_validation_class = &lt;span class=&quot;code-quote&quot;&gt;&apos;BytesType&apos;&lt;/span&gt;
  and key_validation_class = &lt;span class=&quot;code-quote&quot;&gt;&apos;BytesType&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Previously we were producing something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/*
Warning: Table legacy.composite_comp_no_col omitted because it has constructs not compatible with CQL (was created via legacy API).

Approximate structure, &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reference:
(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should not be used to reproduce &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; schema)

CREATE TABLE legacy.composite_comp_no_col (
    key blob,
    column1 &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.marshal.DynamicCompositeType(org.apache.cassandra.db.marshal.BytesType, org.apache.cassandra.db.marshal.UTF8Type, org.apache.cassandra.db.marshal.TimeUUIDType)&apos;&lt;/span&gt;,
    column2 timeuuid,
    value blob,
    PRIMARY KEY (key, column1, column1, column2)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (column1 ASC, column1 ASC, column2 ASC)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;...so it never claimed to be valid CQL, but it did show the DCT. &lt;/p&gt;

&lt;p&gt;With the change for this ticket we get:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/*
Warning: Table legacy.composite_comp_no_col omitted because it has constructs not compatible with CQL (was created via legacy API).

Approximate structure, &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reference:
(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; should not be used to reproduce &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; schema)

CREATE TABLE legacy.composite_comp_no_col (
    key blob,
    column1 timeuuid,
    value blob,
    PRIMARY KEY (key, column1, column1, column1)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (column1 ASC, column1 ASC, column1 ASC)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe it&apos;s good enough to &quot;not blow up&quot;, but I just wanted to mention the difference.&lt;/p&gt;</comment>
                            <comment id="15299387" author="stefania" created="Wed, 25 May 2016 03:19:59 +0000"  >&lt;p&gt;Neither look good to me, but my knowledge of DCT is also very limited.&lt;/p&gt;

&lt;p&gt;I was able to obtain a more sane:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[...]
CREATE TABLE legacy.composite_comp_no_col (
    key blob,
    b blob,
    s text,
    t timeuuid,
    value blob,
    PRIMARY KEY (key, b, s, t)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (b ASC, s ASC, t ASC)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Does it look OK &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;Pull request for the 2.7.2-cassandra-2.1 branch is &lt;a href=&quot;https://github.com/datastax/python-driver/pull/588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="15299612" author="stefania" created="Wed, 25 May 2016 07:32:33 +0000"  >&lt;p&gt;We had a &lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11055-cqlsh-2.1-cqlsh-tests/2/cython=yes/testReport/junit/cqlsh_tests.cqlsh_tests/TestCqlsh/test_describe/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;failing test&lt;/a&gt; for cqlsh: the index information on clustering keys got lost. The fix is available in the same pull request.&lt;/p&gt;</comment>
                            <comment id="15309868" author="stefania" created="Wed, 1 Jun 2016 07:34:51 +0000"  >&lt;p&gt;Quoting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;


&lt;p&gt;Should be:&lt;/p&gt;

&lt;p&gt;column1 &apos;org.apache.cassandra.db.marshal.DynamicCompositeType(t =&amp;gt; org.apache.cassandra.db.marshal.TimeUUIDType, b =&amp;gt; org.apache.cassandra.db.marshal.BytesType, s =&amp;gt; org.apache.cassandra.db.marshal.UTF8Type)&apos;&lt;/p&gt;

&lt;p&gt;PRIMARY KEY (key, column1)&lt;/p&gt;

&lt;p&gt;s, b, and t must not be in the list of columns, because they aren&apos;t.&lt;/p&gt;

&lt;p&gt;&quot;b@6869746d65776974686d75736963&quot; and &quot;b@6d616d6d616a616d6d61&quot; blob should be both static&lt;/p&gt;

&lt;p&gt;and a value blob column is missing&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m going to try and restore the old behavior as a minimum, and see if we can improve on it but without wasting too much time since this only applies to 2.1.&lt;/p&gt;</comment>
                            <comment id="15310177" author="iamaleksey" created="Wed, 1 Jun 2016 11:47:44 +0000"  >&lt;p&gt;DCT should essentially be treated as an opaque custom comparator type. Python driver/cqlsh should not attempt to parse it into components.&lt;/p&gt;</comment>
                            <comment id="15310279" author="stefania" created="Wed, 1 Jun 2016 13:16:58 +0000"  >&lt;p&gt;By treating DCT as a non-composite comparator this is what we obtain, it still has problems but at least it is consistent and s,b and t are no longer treated as columns:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE legacy.composite_comp_with_col (
    key blob,
    column1 &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.marshal.DynamicCompositeType(org.apache.cassandra.db.marshal.BytesType, org.apache.cassandra.db.marshal.UTF8Type, org.apache.cassandra.db.marshal.TimeUUIDType)&apos;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;b@6869746d65776974686d75736963&quot;&lt;/span&gt; blob,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;b@6d616d6d616a616d6d61&quot;&lt;/span&gt; blob,
    PRIMARY KEY (key, column1)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (column1 ASC)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE legacy.composite_comp_no_col (
    key blob,
    column1 &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.db.marshal.DynamicCompositeType(org.apache.cassandra.db.marshal.BytesType, org.apache.cassandra.db.marshal.UTF8Type, org.apache.cassandra.db.marshal.TimeUUIDType)&apos;&lt;/span&gt;,
    value blob,
    PRIMARY KEY (key, column1)
) WITH COMPACT STORAGE
    AND CLUSTERING ORDER BY (column1 ASC)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve pushed the change to the same pull request, to fix beyond this it would take even more work on the 2.7.2 branch and I am not sure it&apos;s worth it. Plus I&apos;ve obviously verified that the fix for this ticket holds.&lt;/p&gt;</comment>
                            <comment id="15310317" author="iamaleksey" created="Wed, 1 Jun 2016 13:38:45 +0000"  >&lt;p&gt;We&apos;ll need to properly fix it before we remove Thrift in 4.0, but that can go into another ticket, sure.&lt;/p&gt;</comment>
                            <comment id="15310353" author="aholmber" created="Wed, 1 Jun 2016 14:04:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://datastax-oss.atlassian.net/browse/PYTHON-579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PYTHON-579&lt;/a&gt; to follow up on DCT in current driver.&lt;/p&gt;</comment>
                            <comment id="15310357" author="stefania" created="Wed, 1 Jun 2016 14:07:24 +0000"  >&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="15311856" author="stefania" created="Thu, 2 Jun 2016 07:11:32 +0000"  >&lt;p&gt;The driver pull request has been merged. I&apos;ve updated the driver bundled into cqlsh and I&apos;ve restarted the tests for 2.1:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/stef1927/cassandra/commits/11055-cqlsh-2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;patch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;http://cassci.datastax.com/view/Dev/view/stef1927/job/stef1927-11055-cqlsh-2.1-cqlsh-tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;dtest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;If the tests are OK I will commit to 2.1 and merge upwards with &lt;tt&gt;-s ours&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15312205" author="stefania" created="Thu, 2 Jun 2016 12:13:12 +0000"  >&lt;p&gt;CI is fine, committed to 2.1 as 06bb6b9d095205869f22cfe4fbd8877dff006f9b and merged upwards with &lt;tt&gt;-s ours&lt;/tt&gt; since the problem does not occur in 2.2+ (driver version 3.0.0).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12803368" name="11055-driver-2.7.2.patch" size="1291" author="stefania" created="Wed, 11 May 2016 03:38:49 +0000"/>
                            <attachment id="12803369" name="data.tar.gz" size="29686" author="stefania" created="Wed, 11 May 2016 03:38:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[stefania]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rsrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332167">2.1.x</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aholmber</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aholmber]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>