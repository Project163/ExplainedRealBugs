<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:19:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16569] Flaky StorageServiceServerTest</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16569</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Failing on &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/411/testReport/junit/org.apache.cassandra.service/StorageServiceServerTest/testLocalPrimaryRangeForEndpointWithNetworkTopologyStrategy_compression/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ci-cass&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13369983">CASSANDRA-16569</key>
            <summary>Flaky StorageServiceServerTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bereng">Berenguer Blasi</assignee>
                                    <reporter username="bereng">Berenguer Blasi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Apr 2021 07:47:36 +0000</created>
                <updated>Sat, 31 Jul 2021 21:28:46 +0000</updated>
                            <resolved>Tue, 13 Apr 2021 09:34:39 +0000</resolved>
                                        <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Test/unit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17316115" author="bereng" created="Wed, 7 Apr 2021 08:31:47 +0000"  >&lt;p&gt;Mmmmm doesn&apos;t repro in multiplexer, locally, looping up to 1M times or on a slow env so far.&lt;/p&gt;</comment>
                            <comment id="17317095" author="bereng" created="Thu, 8 Apr 2021 11:00:45 +0000"  >&lt;p&gt;So far it won&apos;t repro. But investigation is making me suspicious this could be related to the env. Given the recent junit splits and that the test seems to fail only sometimes. I tried to see if it would fail always on the same server in case it was a specific server the culprit but it wasn&apos;t so. Now I am trying to repro with the same jenkins scripts and docker under slow envs etc.&lt;/p&gt;</comment>
                            <comment id="17317764" author="bereng" created="Fri, 9 Apr 2021 08:06:10 +0000"  >&lt;p&gt;I haven&apos;t managed to repro neither find a thread I could start pulling from. I am leaving here steps to run the test under a docker container such as in jenkins for completion:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;To run the test under the sh jenkins uses run this line. 6/8 tells it what split to run which you&apos;ll have to find by trial and error
./cassandra-builds/build-scripts/cassandra-test.sh test-compression 6/8

To run the test under a docker container so it is exactly as in jenkins:
./cassandra-builds/build-scripts/cassandra-test-docker.sh apache trunk https://github.com/apache/cassandra-builds.git trunk apache/cassandra-testing-ubuntu2004-java11 test 6/8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Despite running it under the jenkins/docker script on a severely downgraded machine where execution went from 3m to 2h it would still not repro. So I am attaching a PR with verbose asserts I am proposing to merge and next time it fails see if it provides something to go on from.&lt;/p&gt;</comment>
                            <comment id="17318789" author="michaelsembwever" created="Sun, 11 Apr 2021 14:03:06 +0000"  >&lt;p&gt;This looks to be related to running with multiple runners&#8230;  (similar issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16587&quot; title=&quot;flaky AntiCompactionBytemanTest.testRedundantTransitions byteman Connection refused&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16587&quot;&gt;&lt;del&gt;CASSANDRA-16587&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;To reproduce&#8230;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant build-test
sed -i &lt;span class=&quot;code-quote&quot;&gt;&apos;&apos; &apos;&lt;/span&gt;s/target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;eclipse-warnings,build-test,get-cores,get-mem&quot;&lt;/span&gt;/target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;/&apos; build.xml

ant test -Dtest.name=StorageServiceServerTest &amp;amp; ant test -Dtest.name=StorageServiceServerTest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17320033" author="bereng" created="Tue, 13 Apr 2021 08:47:43 +0000"  >&lt;p&gt;After extensive discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16587&quot; title=&quot;flaky AntiCompactionBytemanTest.testRedundantTransitions byteman Connection refused&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16587&quot;&gt;&lt;del&gt;CASSANDRA-16587&lt;/del&gt;&lt;/a&gt; looks we&apos;re going to be moving to parallelizing under docker. Still I don&apos;t want to drop the verbose asserts in the PR which are an improvement nevertheless. I will amend the PR and move into review.&lt;/p&gt;</comment>
                            <comment id="17320045" author="michaelsembwever" created="Tue, 13 Apr 2021 09:08:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;So I am attaching a PR with verbose asserts I am proposing to merge and next time it fails see if it provides something to go on from.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13371988">CASSANDRA-16595</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12970"><![CDATA[Unit Test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0plog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[mck]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12346095">4.0-rc</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/44f5b8adf53f31c793a35387004f26f87c8b936d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/44f5b8adf53f31c793a35387004f26f87c8b936d&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;See PR&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>