<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:24:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-17393] pip tries to install futures in py3</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-17393</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;We&apos;ve seen this problem in CI, and it&apos;s also seen (albeit extraneously) on &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17293&quot; title=&quot;Update python test framework from nose to pytest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17293&quot;&gt;&lt;del&gt;CASSANDRA-17293&lt;/del&gt;&lt;/a&gt;.  This ticket is to explore removing futures from requirements.txt, and it shouldn&apos;t be needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13429345">CASSANDRA-17393</key>
            <summary>pip tries to install futures in py3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="brandon.williams">Brandon Williams</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Feb 2022 14:19:56 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:59 +0000</updated>
                            <resolved>Tue, 15 Mar 2022 10:58:02 +0000</resolved>
                                        <fixVersion>4.0.4</fixVersion>
                    <fixVersion>4.1-alpha1</fixVersion>
                    <fixVersion>4.1</fixVersion>
                                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17494634" author="edimitrova" created="Fri, 18 Feb 2022 14:28:11 +0000"  >&lt;p&gt;Removal of futures is part of my suggestion for 4.0 and trunk as part of the proposed solution in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17351&quot; title=&quot;Pip doesn&amp;#39;t install ccm every time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17351&quot;&gt;&lt;del&gt;CASSANDRA-17351&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17494635" author="brandon.williams" created="Fri, 18 Feb 2022 14:32:01 +0000"  >&lt;p&gt;I think the proper way to handle this is to explicitly make it only for python2 in setup.py, as the docs state: &lt;a href=&quot;https://pypi.org/project/futures/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pypi.org/project/futures/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17494644" author="bschoeni" created="Fri, 18 Feb 2022 14:43:27 +0000"  >&lt;p&gt;This is a driver requirement, so it shouldn&apos;t need to be included for Cassandra.&#160; Also, Python 2.x is EOL.&lt;/p&gt;</comment>
                            <comment id="17494646" author="brandon.williams" created="Fri, 18 Feb 2022 14:44:55 +0000"  >&lt;p&gt;We still have to support it for branches &amp;lt; 4.0 though.&lt;/p&gt;</comment>
                            <comment id="17494647" author="edimitrova" created="Fri, 18 Feb 2022 14:45:52 +0000"  >&lt;p&gt;Do we need it for 4.0 and trunk though?&lt;/p&gt;</comment>
                            <comment id="17494652" author="brandon.williams" created="Fri, 18 Feb 2022 14:49:03 +0000"  >&lt;p&gt;No, that&apos;s what this is about.&lt;/p&gt;</comment>
                            <comment id="17505911" author="smiklosovic" created="Sun, 13 Mar 2022 21:13:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bschoeni&quot; class=&quot;user-hover&quot; rel=&quot;bschoeni&quot;&gt;bschoeni&lt;/a&gt; would you mind to create a patch for this as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; (if you follow the link) before trying to get &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17417&quot; title=&quot;Replace use of &amp;#39;six&amp;#39; compatibility library with python 3 equivalents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17417&quot;&gt;&lt;del&gt;CASSANDRA-17417&lt;/del&gt;&lt;/a&gt; in? (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bsong&quot; class=&quot;user-hover&quot; rel=&quot;bsong&quot;&gt;bsong&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I think we need to do this for 3.0, 3.11, 4.0 and trunk but the trick is that it would be installed dynamically based on what Python version we run that in.&lt;/p&gt;</comment>
                            <comment id="17505912" author="edimitrova" created="Sun, 13 Mar 2022 21:31:26 +0000"  >&lt;blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&#160;I think we need to do this for 3.0, 3.11, 4.0 and trunk but the trick is that it would be installed dynamically based on what Python version we run that in.&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;
&lt;p&gt;Why removing it from 3.0 and 3.11? My understanding is that futures is a back port to Python2 which we still use in 3.0 and 3.11, no?&lt;/p&gt;</comment>
                            <comment id="17505914" author="smiklosovic" created="Sun, 13 Mar 2022 21:40:11 +0000"  >&lt;p&gt;I mean that we might put this everyhere (into every branch) but it will be effectively installed only for 3.0 and 3.11, no?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
setup(
    ...
    install_requires={
        &lt;span class=&quot;code-quote&quot;&gt;&apos;futures; python_version == &lt;span class=&quot;code-quote&quot;&gt;&quot;2.7&quot;&lt;/span&gt;&apos;&lt;/span&gt;
    }
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or do we trully want to just remove it from 4.0 and trunk?&lt;/p&gt;</comment>
                            <comment id="17505925" author="bschoeni" created="Sun, 13 Mar 2022 22:29:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; yes, futures is only useful for 3.0 and 3.11.&lt;/p&gt;

&lt;p&gt;It would seem the Cassandra python driver mentions this dependency, but for an earlier python version.&#160;&lt;/p&gt;

&lt;p&gt;The Cassandra python driver requirements.txt states:&lt;/p&gt;

&lt;p&gt;------------------&lt;/p&gt;

&lt;p&gt;futures &amp;lt;=2.2.0&lt;/p&gt;

&lt;p&gt;Futures is not required for Python 3, but it works up through 2.2.0 (after which it introduced breaking syntax).&lt;/p&gt;

&lt;p&gt;This is left here to make sure install -r works with any runtime. When installing via setup.py, futures is omitted&lt;/p&gt;

&lt;p&gt;for Python 3, in favor of the standard library implementation.futures &amp;lt;=2.2.0&lt;/p&gt;

&lt;p&gt;Futures is not required for Python 3, but it works up through 2.2.0 (after which it introduced breaking syntax).&lt;/p&gt;

&lt;p&gt;This is left here to make sure install -r works with any runtime. When installing via setup.py, futures is omitted&lt;/p&gt;

&lt;p&gt;for Python 3, in favor of the standard library implementation.&lt;/p&gt;

&lt;p&gt;------------------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/datastax/python-driver/blob/master/requirements.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/datastax/python-driver/blob/master/requirements.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17505933" author="bschoeni" created="Sun, 13 Mar 2022 22:56:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smiklosovic&quot; class=&quot;user-hover&quot; rel=&quot;smiklosovic&quot;&gt;smiklosovic&lt;/a&gt;&#160; I would propose changing 3.0 and 3.11 branches in requirement.txt, instead of setup, similar to the C* python driver.&#160; This should prevent it from being installed with py3.&lt;/p&gt;

&lt;p&gt;futures &amp;lt;=2.7.0&lt;/p&gt;

&lt;p&gt;If we choose fix this, it should probably be separate from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17417&quot; title=&quot;Replace use of &amp;#39;six&amp;#39; compatibility library with python 3 equivalents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17417&quot;&gt;&lt;del&gt;CASSANDRA-17417&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17506450" author="brandon.williams" created="Mon, 14 Mar 2022 18:48:23 +0000"  >&lt;p&gt;Here&apos;s a &lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-17393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt; with futures removed and a &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/384/workflows/682ab722-ace7-439c-88e8-262c68e9ec1a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;circle run&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17506486" author="smiklosovic" created="Mon, 14 Mar 2022 19:29:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-17393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/driftx/cassandra/tree/CASSANDRA-17393&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17506500" author="smiklosovic" created="Mon, 14 Mar 2022 19:51:37 +0000"  >&lt;p&gt;Yes, verified removing futures works for 4.0 and trunk.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17506852" author="smiklosovic" created="Tue, 15 Mar 2022 10:58:37 +0000"  >&lt;p&gt;build of trunk: &lt;a href=&quot;https://app.circleci.com/pipelines/github/instaclustr/cassandra/827/workflows/a3e20cae-6904-4da3-abfe-ac14764f3342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/instaclustr/cassandra/827/workflows/a3e20cae-6904-4da3-abfe-ac14764f3342&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0zq3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[smiklosovic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/f3123a6538af511421582e1596d3daa24d9df1d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/f3123a6538af511421582e1596d3daa24d9df1d6&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;cqlsh tests passing&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>