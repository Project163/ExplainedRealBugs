<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:27:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-18767] tablestats should show speculative retries</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-18767</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;NodeProbe makes &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/tools/NodeProbe.java#L1921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;provisions&lt;/a&gt; for it, but it is never used later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13547596">CASSANDRA-18767</key>
            <summary>tablestats should show speculative retries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="brandon.williams">Brandon Williams</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Aug 2023 15:24:32 +0000</created>
                <updated>Tue, 12 Sep 2023 13:02:41 +0000</updated>
                            <resolved>Fri, 18 Aug 2023 10:23:26 +0000</resolved>
                                        <fixVersion>3.0.30</fixVersion>
                    <fixVersion>3.11.16</fixVersion>
                    <fixVersion>4.0.12</fixVersion>
                    <fixVersion>5.0-alpha1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                    <component>Observability/Metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17755172" author="brandon.williams" created="Wed, 16 Aug 2023 16:24:51 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1199/workflows/ddd77317-6d97-4407-bcbb-061097c5823b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1198/workflows/5821905d-9064-4a7e-990d-d86cf1507f00&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1203/workflows/12ddc437-d398-4f03-b592-e81777ed1640&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1203/workflows/087cb08a-d035-491f-bb90-208b25a5fd4b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1200/workflows/a8a44640-6fac-4a0d-9e3f-c270d885be7d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1200/workflows/50c41845-5d2f-4723-8ba4-3015b0b6f00e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-5.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;5.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1202/workflows/deb2c6e3-6168-43aa-857f-485ec4b49eda&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1202/workflows/99c17271-f788-4578-8fa1-0022a78bfd8e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j17&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/driftx/cassandra/tree/CASSANDRA-18767-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1201/workflows/99c36b5b-1f55-4fc0-951f-df83e5612dd0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt;, &lt;a href=&quot;https://app.circleci.com/pipelines/github/driftx/cassandra/1201/workflows/600b8db5-d331-4fc3-9cac-b1074c8a4277&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j17&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17755380" author="maxwellguo" created="Thu, 17 Aug 2023 06:20:48 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;, after reading this patch, it seems that the test case for speculative retries are all default value of 0, so &lt;br/&gt;
what about add a case that show the change of speculative retries,not the default 0?&lt;br/&gt;
and +1 on this pr.&lt;/p&gt;</comment>
                            <comment id="17755452" author="brandon.williams" created="Thu, 17 Aug 2023 09:40:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;the test case for speculative retries are all default value of 0&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;All of those tests are just regurgitating what is in the template, which happens to be zero.  I can make it something else but the change is purely cosmetic.&lt;/p&gt;</comment>
                            <comment id="17755496" author="maxwellguo" created="Thu, 17 Aug 2023 10:49:14 +0000"  >

&lt;p&gt;yeah, that   really doesn&apos;t make any sense.&lt;/p&gt;

&lt;p&gt;the dtest for 3.11 faild~~~&lt;/p&gt;</comment>
                            <comment id="17755498" author="brandon.williams" created="Thu, 17 Aug 2023 11:05:38 +0000"  >&lt;p&gt;Nothing related to this.&lt;/p&gt;</comment>
                            <comment id="17755841" author="bereng" created="Fri, 18 Aug 2023 07:41:54 +0000"  >&lt;p&gt;2 q here:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Do we want to add this to &lt;tt&gt;TableStatsTest&lt;/tt&gt;?&lt;/li&gt;
	&lt;li&gt;Changing tooling output was &lt;a href=&quot;https://lists.apache.org/thread/72j5qfgbttjcmylhcmfq1ptboh641ns0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;discussed&lt;/a&gt; in the ML recently with no clear conclusions iiuc. Is the argument here we are ok bc we&apos;re only adding but not &lt;em&gt;changing&lt;/em&gt; previous markers? Or should we constrain this change to 5.0+?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17755859" author="maxwellguo" created="Fri, 18 Aug 2023 08:45:43 +0000"  >&lt;p&gt;1. I think we should , not a particularly compelling need, but I feel it would be better if we could.&lt;br/&gt;
2. &lt;ins&gt;1 on change to 5.0&lt;/ins&gt;, or add a new input parameter for showing &quot;speculative retries&quot;  output.&lt;/p&gt;</comment>
                            <comment id="17755870" author="brandon.williams" created="Fri, 18 Aug 2023 09:02:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do we want to add this to TableStatsTest?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ll add that.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Changing tooling output was discussed in the ML recently &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is one of the commands I mentioned there that has json/yaml output, and I think this is clearly an oversight bug and we meant to display SR, so I think it&apos;s okay.&lt;/p&gt;</comment>
                            <comment id="17755874" author="bereng" created="Fri, 18 Aug 2023 09:04:38 +0000"  >&lt;p&gt;Ok yeah seeing it from the angle that it &lt;em&gt;is&lt;/em&gt; a bug, not a change, is the key here. Yes we should fix it across versions moreover if we have an alternative programmatic output.&lt;/p&gt;</comment>
                            <comment id="17755884" author="brandon.williams" created="Fri, 18 Aug 2023 09:33:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do we want to add this to TableStatsTest?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This doesn&apos;t appear to be an appropriate place for testing this?  No individual properties are tested there, only high level functionality.&lt;/p&gt;</comment>
                            <comment id="17755887" author="bereng" created="Fri, 18 Aug 2023 09:44:20 +0000"  >&lt;p&gt;That&apos;s bc adding each individual property at the time was an overkill as all commands were being added. But adding a test for new bug-fixes seems legit and I can&apos;t think of a better place.&lt;/p&gt;

&lt;p&gt;Btw careful with the forward merges, I noticed the chain is broken #collaborating&lt;/p&gt;</comment>
                            <comment id="17755888" author="brandon.williams" created="Fri, 18 Aug 2023 09:48:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;But adding a test for new bug-fixes seems legit and I can&apos;t think of a better place.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Aside from TableStatsPrinterTest, you mean?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Btw careful with the forward merges, I noticed the chain is broken&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I actually did that on purpose for my future self so I don&apos;t miss things in the merges since the patches have a lot of variance between branches.&lt;/p&gt;</comment>
                            <comment id="17755891" author="bereng" created="Fri, 18 Aug 2023 09:59:44 +0000"  >&lt;p&gt;&lt;tt&gt;TableStatsPrinterTest&lt;/tt&gt; lgtm +1&lt;/p&gt;</comment>
                            <comment id="17755902" author="brandon.williams" created="Fri, 18 Aug 2023 10:23:26 +0000"  >&lt;p&gt;Committed, thanks for the reviews!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12989" cascade-level="1"><![CDATA[Consistency]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jtxc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
        <customfieldvalue><![CDATA[maxwellguo]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/fd9f07dab863a93008180bcd1c6e207dee48e2a7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/fd9f07dab863a93008180bcd1c6e207dee48e2a7&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;run CI&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>