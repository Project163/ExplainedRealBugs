<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:26:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-17873] Opcodes.ASM7 should be used in UDFByteCodeVerifier to support JDK11</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-17873</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15108&quot; title=&quot;Support building Cassandra with JDK 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15108&quot;&gt;&lt;del&gt;CASSANDRA-15108&lt;/del&gt;&lt;/a&gt; ASM was updated and UDFByteCodeVerifier was updated to provide Opcodes.ASM7 but only in 1 of 3 places.&#160;&lt;/p&gt;

&lt;p&gt;We need to update that for 4.0, 4.1 and trunk where we support JDK11.&lt;/p&gt;

&lt;p&gt;Also, I think it will be good to add one place where we update that when we add new JDK support as now I see we will have to update it at 4 places at least already (also for the simulator where currently it is Opcodes.ASM7 there, correctly added). Also, we can add a note in build.xml for people updating ASM. I think many people practice updating Opcodes.ASM* with the update of ASM version but in our case with update of JDK, from what I see. We will need to switch to ASM9 when we add the JDK 17 support. One stop place for that and adding a note for maintainers sounds like the right way to move forward at least on trunk.&#160;&lt;/p&gt;

&lt;p&gt;But for 4.0 and 4.1 we need at least to switch to ASM7 everywhere as far as I can tell.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13479553">CASSANDRA-17873</key>
            <summary>Opcodes.ASM7 should be used in UDFByteCodeVerifier to support JDK11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="edimitrova">Ekaterina Dimitrova</assignee>
                                    <reporter username="edimitrova">Ekaterina Dimitrova</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Aug 2022 20:29:10 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:59 +0000</updated>
                            <resolved>Thu, 20 Oct 2022 18:22:52 +0000</resolved>
                                        <fixVersion>4.0.8</fixVersion>
                    <fixVersion>4.1-rc1</fixVersion>
                    <fixVersion>4.1</fixVersion>
                    <fixVersion>5.0-alpha1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                                    <component>Build</component>
                    <component>Dependencies</component>
                    <component>Feature/UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17598624" author="edimitrova" created="Wed, 31 Aug 2022 20:30:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;&#160;, do you mind to confirm my reasoning that we need Opcodes.ASM7 in 4.0 and 4.1, please? As you were updating it last time for JDK11, I want to be sure I didn&apos;t miss anything.&#160;&lt;/p&gt;</comment>
                            <comment id="17599087" author="bdeggleston" created="Thu, 1 Sep 2022 17:19:10 +0000"  >&lt;p&gt;Seems reasonable yes, I can&apos;t think of a reason we&apos;d want to keep it at the old value&lt;/p&gt;</comment>
                            <comment id="17599556" author="edimitrova" created="Fri, 2 Sep 2022 15:13:40 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI run&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&#160;#1878 is the full CI run&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;All known flaky tests:&lt;/p&gt;

&lt;p&gt;4.0:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;testDropCompactStorage -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17674&quot; title=&quot;Test failure: org.apache.cassandra.distributed.upgrade.DropCompactStorageTest.testDropCompactStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17674&quot;&gt;CASSANDRA-17674&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4.1:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test_multiple_repair - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17005&quot; title=&quot;Fix test dtest.repair_tests.incremental_repair_test.TestIncRepair.test_multiple_repair&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17005&quot;&gt;&lt;del&gt;CASSANDRA-17005&lt;/del&gt;&lt;/a&gt;, known timeouts. Probably will reopen that ticket or open a new one but not related to this work&lt;/li&gt;
	&lt;li&gt;test_failed_bootstrap_wiped_node_can_join -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17308&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.bootstrap_upgrade_test.TestBootstrapUpgrade.test_failed_bootstrap_wiped_node_can_join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17308&quot;&gt;CASSANDRA-17308&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;trunk:&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;nodeDownDuringMove - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15239&quot; title=&quot;[flaky in-mem dtest] nodeDownDuringMove - org.apache.cassandra.distributed.test.GossipTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15239&quot;&gt;CASSANDRA-15239&lt;/a&gt;, also in this case I suspect some Circle issue, I am spinning things in a loop to add more info to that ticket but I don&apos;t think this failure has anything to do with this particular work&lt;/li&gt;
	&lt;li&gt;test_failed_bootstrap_wiped_node_can_join -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17308&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.bootstrap_upgrade_test.TestBootstrapUpgrade.test_failed_bootstrap_wiped_node_can_join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17308&quot;&gt;CASSANDRA-17308&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17600772" author="edimitrova" created="Tue, 6 Sep 2022 13:21:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdeggleston&quot; class=&quot;user-hover&quot; rel=&quot;bdeggleston&quot;&gt;bdeggleston&lt;/a&gt;&#160;, do you mind to review this one if you have a few minutes, please?&lt;/p&gt;</comment>
                            <comment id="17619533" author="bereng" created="Tue, 18 Oct 2022 13:25:53 +0000"  >&lt;p&gt;I am not an expert here but the patches lgtm and if tests pass +1 from me bc that&apos;s all we can do. Failures seem flaky timeouts also.&lt;/p&gt;</comment>
                            <comment id="17619562" author="benedict" created="Tue, 18 Oct 2022 13:45:23 +0000"  >&lt;p&gt;Are you sure JDK8 supports this bytecode version?&lt;/p&gt;</comment>
                            <comment id="17619582" author="edimitrova" created="Tue, 18 Oct 2022 14:06:39 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt;&#160;, It&apos;s been some time since I dig that docs, I will look again whether I missed something by chance and post here for completeness.&lt;/p&gt;

&lt;p&gt;On the other hand, looking now you use it with the simulator and run java 8 tests? I am no expert with the simulator but I assume if you run jdk8 tests and you use there already that opcode this was checked? I might be missing something though, so happy to be corrected.&lt;/p&gt;

&lt;p&gt;PS ASM7 stands for the asm version and JDK11 official support was added in 7, experimental in 6, we had 5 here&lt;/p&gt;</comment>
                            <comment id="17619654" author="benedict" created="Tue, 18 Oct 2022 15:25:27 +0000"  >&lt;p&gt;In that case it&apos;s fine, yes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I don&apos;t have a mental map of ASM version to Java version unfortunately, just wanted to check it had been confirmed.&lt;/p&gt;</comment>
                            <comment id="17619707" author="edimitrova" created="Tue, 18 Oct 2022 17:05:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t have a mental map of ASM version to Java version unfortunately, just wanted to check it had been confirmed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Same here and I looked into this like almost two months ago, appreciate you chiming in here!&#160;&lt;/p&gt;

&lt;p&gt;I am struggling to find official doc now on the opcodes and the Javadoc was not helpful but looking back into the Opcodes interface itself what I remembered is &lt;a href=&quot;https://github.com/consulo/objectweb-asm/blob/master/asm/src/main/java/org/objectweb/asm/Opcodes.java#L44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ASM7 corresponds to minimum required ASM version&lt;/a&gt; which will support the jdk versions we need and 11 started official support in ASM7 as per the &lt;a href=&quot;https://asm.ow2.io/versions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;changelog&lt;/a&gt;.&#160;If we want to provide opcode &#160;for particular JDK then we use the &lt;a href=&quot;https://github.com/consulo/objectweb-asm/blob/master/asm/src/main/java/org/objectweb/asm/Opcodes.java#L268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;V* opcodes&lt;/a&gt;.&#160; I hope I didn&apos;t somehow misunderstood this. Also, we will need to bump this further when we commit the JDK17 support bits, I keep a note on that myself. Which reminds me I might have to talk to you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benedict&quot; class=&quot;user-hover&quot; rel=&quot;benedict&quot;&gt;benedict&lt;/a&gt;&#160; about the jdk17 and the simulator so I do not miss anything there&#160;but I am not there yet.&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;In that case it&apos;s fine, yes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks for confirming, I will add you both reviewers then &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;I will rebase and rerun CI pre-commit as it has been a while.&lt;/p&gt;</comment>
                            <comment id="17619772" author="edimitrova" created="Tue, 18 Oct 2022 20:17:05 +0000"  >&lt;p&gt;Pushed rebased all branches to CI:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI run&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt; #1977 is the full CI run&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt; #1978 is the full CI run&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&#160;#1979 is the full CI run&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Commit pending CI results&lt;/p&gt;</comment>
                            <comment id="17620000" author="bereng" created="Wed, 19 Oct 2022 04:57:45 +0000"  >&lt;p&gt;Am I seeing some new flaky failures like the compression opttions or the UUID restart one? wdyt &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17620682" author="edimitrova" created="Thu, 20 Oct 2022 02:22:39 +0000"  >&lt;p&gt;4.0:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1977/workflows/041331ac-fce0-47ac-b475-83759ac4e2c7/jobs/15701/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testTruncationReleasesLogSpace&lt;/a&gt;&#160;- known issue from&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17884&quot; title=&quot;[jamm] Test failure: o.a.c.repair.RepairJobTest.testNoTreesRetainedAfterDifference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17884&quot;&gt;CASSANDRA-17884&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;testDropCompactStorage -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17674&quot; title=&quot;Test failure: org.apache.cassandra.distributed.upgrade.DropCompactStorageTest.testDropCompactStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17674&quot;&gt;CASSANDRA-17674&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4.1:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test_compression_cql_options -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16861&quot; title=&quot;Test failure: test_compression_cql_options&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16861&quot;&gt;CASSANDRA-16861&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;test_quorum_requirement - known problem from&#160; &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17922&quot; title=&quot;Jolokia agent fails to connect though port is available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17922&quot;&gt;&lt;del&gt;CASSANDRA-17922&lt;/del&gt;&lt;/a&gt;&#160;&lt;em&gt;I think&lt;/em&gt; (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;trunk:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;testOutboundConnectionsAreInterruptedWhenAuthFails - seems like flaky test that has nothing to do with this patch; I ran it &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1980/workflows/65ac078b-cb6a-4eb9-b8f0-b650e2886c13/jobs/15771/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;500 times with latest trunk&lt;/a&gt; and it fails in a few different ways:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt; at org.apache.cassandra.distributed.test.InternodeEncryptionEnforcementTest.lambda$testOutboundConnectionsAreRejectedWhenAuthFails$776879b6$1(InternodeEncryptionEnforcementTest.java:113) at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.framework.AssertionFailedError at org.apache.cassandra.distributed.test.InternodeEncryptionEnforcementTest.lambda$testOutboundConnectionsAreInterruptedWhenAuthFails$776879b6$1(InternodeEncryptionEnforcementTest.java:164) at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt; at org.apache.cassandra.distributed.test.InternodeEncryptionEnforcementTest.lambda$testOutboundConnectionsAreRejectedWhenAuthFails$776879b6$1(InternodeEncryptionEnforcementTest.java:113) at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is significantly more flaky on JDK8. The stack traces were from JDK8. (failed 115 times out of 500)&lt;/p&gt;

&lt;p&gt;In JDK11 we see: (only 7 failures out of 500)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.framework.AssertionFailedError: Timeout occurred. Please note the time in the report does not reflect the time until the timeout. at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.util.Vector.forEach(Vector.java:1388) at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.util.Vector.forEach(Vector.java:1388) at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt; at org.apache.cassandra.distributed.test.InternodeEncryptionEnforcementTest.lambda$testOutboundConnectionsAreRejectedWhenAuthFails$776879b6$1(InternodeEncryptionEnforcementTest.java:113) at org.apache.cassandra.concurrent.FutureTask$1.call(FutureTask.java:96) at org.apache.cassandra.concurrent.FutureTask.call(FutureTask.java:61) at org.apache.cassandra.concurrent.FutureTask.run(FutureTask.java:71) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:829)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now funny enough neither of those is the same timeout I see with my patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;

&lt;p&gt;So I ran 500 times the test class with the patch(rebased again as there were a few commits from today, not affecting this patch but just to ensure we are on par with only this commit difference) in a loop to check &quot;the state of the art&quot;: - &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;run 1981&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Similar results for trunk&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;testRestartWithUUIDDisabled - consistently failed with JDK8 and also JDK11; I do not see how it can be related to this patch; I also saw it failing in the last two Jenkins runs so I just opened a ticket and pinged the authors; &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17975&quot; title=&quot;SSTableIdGenerationTest.testRestartWithUUIDDisabled fails on trunk after CASSANDRA-17948&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17975&quot;&gt;&lt;del&gt;CASSANDRA-17975&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With all that in mind I&apos;d say I commit this ticket and open one more follow up ticket for testOutboundConnectionsAreInterruptedWhenAuthFails. WDYT?&lt;/p&gt;</comment>
                            <comment id="17620732" author="bereng" created="Thu, 20 Oct 2022 04:58:58 +0000"  >&lt;p&gt;Yep makes sense to me +1. Thx!&lt;/p&gt;</comment>
                            <comment id="17620830" author="benedict" created="Thu, 20 Oct 2022 07:10:09 +0000"  >&lt;p&gt;&amp;gt; Which reminds me I might have to talk to you benedict  about the jdk17 and the simulator so I do not miss anything there but I am not there yet. &lt;/p&gt;

&lt;p&gt;Actually, the simulator doesn&apos;t even support JDK11 yet. I believe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; is looking into JDK11/17 support for the simulator soon.&lt;/p&gt;

&lt;p&gt;I think it would be fine to leave the simulator on JDK8 for a little while anyway, as it is testing things that are orthogonal to the JDK version.&lt;/p&gt;</comment>
                            <comment id="17621166" author="edimitrova" created="Thu, 20 Oct 2022 14:47:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Actually, the simulator doesn&apos;t even support JDK11 yet. I believe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; is looking into JDK11/17 support for the simulator soon.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;That&apos;s really good to know, thanks! I will follow up with him when the time comes. I was actually about to ask why we don&apos;t test with jdk11. Now I actually &#160;remember I also pushed the tests with jdk11 and some exports were required. So I had a TODO to ask&lt;/p&gt;</comment>
                            <comment id="17621199" author="edimitrova" created="Thu, 20 Oct 2022 15:44:12 +0000"  >&lt;p&gt;It seems I actually opened a ticket some time ago for testOutboundConnectionsAreInterruptedWhenAuthFails &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17708&quot; title=&quot;Fix flaky testOutboundConnectionsAreRejectedWhenAuthFails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17708&quot;&gt;&lt;del&gt;CASSANDRA-17708&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Not sure why my search didn&apos;t find it&lt;/p&gt;</comment>
                            <comment id="17621306" author="edimitrova" created="Thu, 20 Oct 2022 18:21:48 +0000"  >&lt;p&gt;Reran sanity check CI as there were commits yesterday and I preferred to be safe than sorry later. No heavy upgrade tests though.&lt;/p&gt;

&lt;p&gt;4.0 &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1983&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1983/workflows/e4a63e37-c890-4cdb-8d52-7ad6e26e49b6/jobs/15843/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testMessageDeliveryOnReconnect&lt;/a&gt; - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16677&quot; title=&quot;Test Failure: Fix flaky ConnectionTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16677&quot;&gt;CASSANDRA-16677&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1983/workflows/2e4cf5a1-dd1e-4a45-bfa5-cb7a7d936b27/jobs/15828/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;test_resume_stopped_build&lt;/a&gt;&#160;- Not related. For completeness &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=test-resume-stopped-build&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this run&lt;/a&gt;&#160;shows it fails on current 4.0. I will open a new ticket&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4.1 &#160;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1984&lt;/a&gt;&#160;all green&lt;/p&gt;

&lt;p&gt;trunk is green (please ignore the repeated test, the rest is green) &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1982&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To &lt;a href=&quot;https://github.com/apache/cassandra.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160; a9df34c62a..ce1584ccc8&#160; cassandra-4.0 -&amp;gt; cassandra-4.0&lt;/p&gt;

&lt;p&gt;&#160;&#160; f90148a344..1df5dd671e&#160; cassandra-4.1 -&amp;gt; cassandra-4.1&lt;/p&gt;

&lt;p&gt;&#160;&#160; ac68f24512..6f709ca0ec&#160; trunk -&amp;gt; trunk&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17621310" author="edimitrova" created="Thu, 20 Oct 2022 18:29:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17980&quot; title=&quot;Fix flaky Python DTest materialized_views_test.TestMaterializedViews.test_resume_stopped_build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17980&quot;&gt;&lt;del&gt;CASSANDRA-17980&lt;/del&gt;&lt;/a&gt;&#160;opened for the flaky test&lt;/p&gt;</comment>
                            <comment id="17621483" author="bereng" created="Fri, 21 Oct 2022 05:00:42 +0000"  >&lt;p&gt;Good one!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13231322">CASSANDRA-15108</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13486908">CASSANDRA-17971</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                            <outwardlinks description="Testing discovered">
                                        <issuelink>
            <issuekey id="13487134">CASSANDRA-17975</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13487317">CASSANDRA-17980</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[edimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18820:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[benedict]]></customfieldvalue>
        <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12336842">4.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/ce1584ccc8ff65dc7e600f13f31b553732a1f12e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/ce1584ccc8ff65dc7e600f13f31b553732a1f12e&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CI run&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;4.1&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CircleCI&lt;/a&gt;&#160;#1878 is the full CI run&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;No new tests added&#160;&lt;/p&gt;

&lt;p&gt;All known flaky tests:&lt;/p&gt;

&lt;p&gt;4.0:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;testDropCompactStorage -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17674&quot; title=&quot;Test failure: org.apache.cassandra.distributed.upgrade.DropCompactStorageTest.testDropCompactStorage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17674&quot;&gt;CASSANDRA-17674&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4.1:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test_multiple_repair - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17005&quot; title=&quot;Fix test dtest.repair_tests.incremental_repair_test.TestIncRepair.test_multiple_repair&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17005&quot;&gt;&lt;del&gt;CASSANDRA-17005&lt;/del&gt;&lt;/a&gt;, known timeouts. Probably will reopen that ticket or open a new one but not related to this work&lt;/li&gt;
	&lt;li&gt;test_failed_bootstrap_wiped_node_can_join -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17308&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.bootstrap_upgrade_test.TestBootstrapUpgrade.test_failed_bootstrap_wiped_node_can_join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17308&quot;&gt;CASSANDRA-17308&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;trunk:&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;nodeDownDuringMove - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15239&quot; title=&quot;[flaky in-mem dtest] nodeDownDuringMove - org.apache.cassandra.distributed.test.GossipTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15239&quot;&gt;CASSANDRA-15239&lt;/a&gt;, also in this case I suspect some Circle issue, I am spinning things in a loop to add more info to that ticket but I don&apos;t think this failure has anything to do with this particular work&lt;/li&gt;
	&lt;li&gt;test_failed_bootstrap_wiped_node_can_join -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-17308&quot; title=&quot;Test Failure: dtest-upgrade.upgrade_tests.bootstrap_upgrade_test.TestBootstrapUpgrade.test_failed_bootstrap_wiped_node_can_join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-17308&quot;&gt;CASSANDRA-17308&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;EDIT:&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;Latest pre-commit run:&lt;/p&gt;

&lt;p&gt;4.0 &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1983&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1983/workflows/e4a63e37-c890-4cdb-8d52-7ad6e26e49b6/jobs/15843/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;testMessageDeliveryOnReconnect&lt;/a&gt; - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16677&quot; title=&quot;Test Failure: Fix flaky ConnectionTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16677&quot;&gt;CASSANDRA-16677&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/1983/workflows/2e4cf5a1-dd1e-4a45-bfa5-cb7a7d936b27/jobs/15828/tests#failed-test-0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;test_resume_stopped_build&lt;/a&gt;&#160;- Not related. For completeness &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=test-resume-stopped-build&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this run&lt;/a&gt;&#160;shows it fails on current 4.0. I will open a new ticket&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4.1 &#160;&lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1984&lt;/a&gt;&#160;all green&lt;/p&gt;

&lt;p&gt;trunk is green (please ignore the repeated test, the rest is green) &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=17873-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#1982&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To &lt;a href=&quot;https://github.com/apache/cassandra.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160; a9df34c62a..ce1584ccc8&#160; cassandra-4.0 -&amp;gt; cassandra-4.0&lt;/p&gt;

&lt;p&gt;&#160;&#160; f90148a344..1df5dd671e&#160; cassandra-4.1 -&amp;gt; cassandra-4.1&lt;/p&gt;

&lt;p&gt;&#160;&#160; ac68f24512..6f709ca0ec&#160; trunk -&amp;gt; trunk&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>