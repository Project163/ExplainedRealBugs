<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:19:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16572] j8_dtest_jars_build is broken in CI</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16572</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;j8_dtest_jars_build is broken. It constantly fails at building the dtest jar from the target branch after building the trunk. &lt;/p&gt;

&lt;p&gt;One example, &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/741/workflows/c3de5483-85b0-48a4-b1fa-1c52f89680c7/jobs/4063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/741/workflows/c3de5483-85b0-48a4-b1fa-1c52f89680c7/jobs/4063&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems to be caused by the recent ant build changes. The lib dir contains the jars leftover from the build output of trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13370203">CASSANDRA-16572</key>
            <summary>j8_dtest_jars_build is broken in CI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="edimitrova">Ekaterina Dimitrova</assignee>
                                    <reporter username="yifanc">Yifan Cai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Apr 2021 20:16:07 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:59 +0000</updated>
                            <resolved>Thu, 8 Apr 2021 22:35:46 +0000</resolved>
                                        <fixVersion>3.0.25</fixVersion>
                    <fixVersion>3.11.11</fixVersion>
                    <fixVersion>4.0-rc1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Build</component>
                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17316658" author="brandon.williams" created="Wed, 7 Apr 2021 20:40:23 +0000"  >&lt;p&gt;Until the build changes are also added to the other branches a quick workaround is to `git clean -fd lib` after switching branches, or use git worktrees.&lt;/p&gt;</comment>
                            <comment id="17316660" author="edimitrova" created="Wed, 7 Apr 2021 20:43:24 +0000"  >&lt;p&gt;I confirm I saw the issue on all three branches 3.0, 3.11, 4.0.&#160;&lt;/p&gt;

&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mck&quot; class=&quot;user-hover&quot; rel=&quot;mck&quot;&gt;mck&lt;/a&gt;&#160;- &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yifanc&quot; class=&quot;user-hover&quot; rel=&quot;yifanc&quot;&gt;yifanc&lt;/a&gt;&#160;found the right steps to reproduce it locally pointed &#160;&lt;a href=&quot;#comment-17316634&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;here &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot; It fails with this build sequence, 1) build the trunk, 2) then build the target branch. &quot;&lt;/p&gt;</comment>
                            <comment id="17316666" author="edimitrova" created="Wed, 7 Apr 2021 20:45:32 +0000"  >&lt;p&gt;One comment on my end, this happens after ant real clean but seems &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt;&apos;s workaround helps&lt;/p&gt;</comment>
                            <comment id="17316669" author="yifanc" created="Wed, 7 Apr 2021 20:52:19 +0000"  >&lt;p&gt;Yeah. The &lt;tt&gt;realclean&lt;/tt&gt; task in the other branches only deletes the build directory according to the script. &lt;a href=&quot;https://github.com/apache/cassandra/blob/cassandra-3.11/build.xml#L210-L212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/blob/cassandra-3.11/build.xml#L210-L212&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17316670" author="michaelsembwever" created="Wed, 7 Apr 2021 20:54:35 +0000"  >&lt;p&gt;Side note, ci-cassandra.a.o doesn&apos;t suffer this problem because it builds the older branches first and trunk last.&lt;br/&gt;
ref: &lt;a href=&quot;https://github.com/apache/cassandra-builds/blob/trunk/build-scripts/cassandra-test.sh#L34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-builds/blob/trunk/build-scripts/cassandra-test.sh#L34&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17317220" author="edimitrova" created="Thu, 8 Apr 2021 14:09:59 +0000"  >&lt;p&gt;Is anyone working on this one or should I assign and try to tackle it?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17317223" author="brandon.williams" created="Thu, 8 Apr 2021 14:16:08 +0000"  >&lt;p&gt;The only way to fix this properly that I see is to complete &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16557&quot; title=&quot;(3.0,3.11) Migrate dependency handling from maven-ant-tasks to resolver-ant-tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16557&quot;&gt;&lt;del&gt;CASSANDRA-16557&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17317421" author="edimitrova" created="Thu, 8 Apr 2021 18:42:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mck&quot; class=&quot;user-hover&quot; rel=&quot;mck&quot;&gt;mck&lt;/a&gt;&#160;fixed it at least for circle similar to Jenkins.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/83e302daa01dfe5600649df0e57d9dd2463b686b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0 &lt;/a&gt; |  &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/757/workflows/9989f570-16d4-4293-a500-117e14e1b998/jobs/4180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/713d207eb6f6da8b079bb882906964039ace9fa1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11 &lt;/a&gt; | &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/758/workflows/14b3e4d5-3d80-4221-aad0-fbe5eee79720/jobs/4179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately, this fix didn&apos;t solve the issue in trunk:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/4fa98f35cc6ad015a7096473e42bbf1316c8fdfd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;turnk &lt;/a&gt; | &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/760/workflows/d8faa21d-7b01-4f91-ad99-334205eb5916/jobs/4194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So long story short, we have fix for Circle 3.0 and 3.11 but I still have to think about trunk more. &lt;/p&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17317424" author="brandon.williams" created="Thu, 8 Apr 2021 18:46:05 +0000"  >&lt;p&gt;Does the git clean trick not help there?&lt;/p&gt;</comment>
                            <comment id="17317431" author="edimitrova" created="Thu, 8 Apr 2021 19:03:38 +0000"  >&lt;p&gt;We thought that &lt;a href=&quot;https://github.com/apache/cassandra/blob/trunk/build.xml#L378&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt;&#160;should be enough but it seems it is not&lt;/p&gt;</comment>
                            <comment id="17317432" author="brandon.williams" created="Thu, 8 Apr 2021 19:08:47 +0000"  >&lt;p&gt;If you git clean -fd then it will guarantee the tree is clean.&lt;/p&gt;</comment>
                            <comment id="17317452" author="edimitrova" created="Thu, 8 Apr 2021 20:10:46 +0000"  >&lt;p&gt;Adding &lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/88e083e8f7aab80ee39b69f86cf5ee9ef33c6bb5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this &lt;/a&gt; doesn&apos;t solve the issue&lt;/p&gt;</comment>
                            <comment id="17317453" author="brandon.williams" created="Thu, 8 Apr 2021 20:13:33 +0000"  >&lt;p&gt;You need to do it after the checkout of the branch to build.&lt;/p&gt;</comment>
                            <comment id="17317485" author="edimitrova" created="Thu, 8 Apr 2021 20:53:25 +0000"  >&lt;p&gt;Yes, you are right, but unfortunately &lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/be2039b46e75fed6773a252e1ba59bb25124d451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this &lt;/a&gt;  still didn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="17317502" author="edimitrova" created="Thu, 8 Apr 2021 21:29:57 +0000"  >&lt;p&gt;My mistake, it works, I didn&apos;t test it right, my fault.&lt;/p&gt;

&lt;p&gt;So now we have patches for circle ci for all three branches.&lt;br/&gt;
&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/83e302daa01dfe5600649df0e57d9dd2463b686b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.0 &lt;/a&gt; |  &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/757/workflows/9989f570-16d4-4293-a500-117e14e1b998/jobs/4180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/713d207eb6f6da8b079bb882906964039ace9fa1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11 &lt;/a&gt; | &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/758/workflows/14b3e4d5-3d80-4221-aad0-fbe5eee79720/jobs/4179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/commit/69352ba4be02458c24c3b42acb26c458e6baf70a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk patch &lt;/a&gt; | &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra/769/workflows/c9dbca29-2c53-4cdb-bcb0-554f9e7d6e35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CI &lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17317503" author="edimitrova" created="Thu, 8 Apr 2021 21:31:42 +0000"  >&lt;p&gt;I am +1 on your patch, being tester and reviewer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17317512" author="brandon.williams" created="Thu, 8 Apr 2021 21:46:14 +0000"  >&lt;p&gt;To keep things simple, I don&apos;t see why the trunk patch shouldn&apos;t work on 3.0 and 3.11 as well.&lt;/p&gt;</comment>
                            <comment id="17317517" author="edimitrova" created="Thu, 8 Apr 2021 21:55:09 +0000"  >&lt;p&gt;Fair, considering the Slack chat I assume the three of us are on the same page now so I &#160;will commit it&#160;&lt;/p&gt;</comment>
                            <comment id="17317528" author="edimitrova" created="Thu, 8 Apr 2021 22:33:01 +0000"  >&lt;p&gt;Committed:&lt;/p&gt;

&lt;p&gt;3edacd632c..1ecf5d0e8e&#160; cassandra-3.0 -&amp;gt; cassandra-3.0&lt;/p&gt;

&lt;p&gt;7b10f9cb03..80beb83cf9&#160; cassandra-3.11 -&amp;gt; cassandra-3.11&lt;/p&gt;

&lt;p&gt;29e4612e88..4795e23c82&#160; trunk -&amp;gt; trunk&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13352724">CASSANDRA-16391</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[edimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12984" cascade-level=""><![CDATA[Degradation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pn1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/4795e23c82b26fddf1dbfb10447aa9f7eeb26d87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/4795e23c82b26fddf1dbfb10447aa9f7eeb26d87&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16572?focusedCommentId=17317502&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17317502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CASSANDRA-16572?focusedCommentId=17317502&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17317502&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>