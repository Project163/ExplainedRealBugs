<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:09:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-13831] NettyFactoryTest is failing in trunk on MacOS</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-13831</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Example failure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Testcase: getEventLoopGroup_EpollWithoutIoRatioBoost(org.apache.cassandra.net.async.NettyFactoryTest):	Caused an ERROR
    [junit] failed to load the required &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; library
    [junit] java.lang.UnsatisfiedLinkError: failed to load the required &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; library
    [junit] 	at io.netty.channel.epoll.Epoll.ensureAvailability(Epoll.java:78)
    [junit] 	at io.netty.channel.epoll.EpollEventLoop.&amp;lt;clinit&amp;gt;(EpollEventLoop.java:53)
    [junit] 	at io.netty.channel.epoll.EpollEventLoopGroup.newChild(EpollEventLoopGroup.java:134)
    [junit] 	at io.netty.channel.epoll.EpollEventLoopGroup.newChild(EpollEventLoopGroup.java:35)
    [junit] 	at io.netty.util.concurrent.MultithreadEventExecutorGroup.&amp;lt;init&amp;gt;(MultithreadEventExecutorGroup.java:84)
    [junit] 	at io.netty.util.concurrent.MultithreadEventExecutorGroup.&amp;lt;init&amp;gt;(MultithreadEventExecutorGroup.java:58)
    [junit] 	at io.netty.util.concurrent.MultithreadEventExecutorGroup.&amp;lt;init&amp;gt;(MultithreadEventExecutorGroup.java:47)
    [junit] 	at io.netty.channel.MultithreadEventLoopGroup.&amp;lt;init&amp;gt;(MultithreadEventLoopGroup.java:59)
    [junit] 	at io.netty.channel.epoll.EpollEventLoopGroup.&amp;lt;init&amp;gt;(EpollEventLoopGroup.java:104)
    [junit] 	at io.netty.channel.epoll.EpollEventLoopGroup.&amp;lt;init&amp;gt;(EpollEventLoopGroup.java:91)
    [junit] 	at io.netty.channel.epoll.EpollEventLoopGroup.&amp;lt;init&amp;gt;(EpollEventLoopGroup.java:68)
    [junit] 	at org.apache.cassandra.net.async.NettyFactory.getEventLoopGroup(NettyFactory.java:175)
    [junit] 	at org.apache.cassandra.net.async.NettyFactoryTest.getEventLoopGroup_Epoll(NettyFactoryTest.java:187)
    [junit] 	at org.apache.cassandra.net.async.NettyFactoryTest.getEventLoopGroup_EpollWithoutIoRatioBoost(NettyFactoryTest.java:205)
    [junit] Caused by: java.lang.ExceptionInInitializerError
    [junit] 	at io.netty.channel.epoll.Epoll.&amp;lt;clinit&amp;gt;(Epoll.java:33)
    [junit] 	at org.apache.cassandra.service.NativeTransportService.useEpoll(NativeTransportService.java:162)
    [junit] 	at org.apache.cassandra.net.async.NettyFactory.&amp;lt;clinit&amp;gt;(NettyFactory.java:94)
    [junit] 	at org.apache.cassandra.net.async.NettyFactoryTest.getEventLoopGroup_Nio(NettyFactoryTest.java:216)
    [junit] 	at org.apache.cassandra.net.async.NettyFactoryTest.getEventLoopGroup_NioWithoutIoRatioBoost(NettyFactoryTest.java:211)
    [junit] Caused by: java.lang.IllegalStateException: Only supported on Linux
    [junit] 	at io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:189)
    [junit] 	at io.netty.channel.epoll.Native.&amp;lt;clinit&amp;gt;(Native.java:61)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s obviously caused by epoll being unavailable on MacOS, but the tests should still be made to pass.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13098839">CASSANDRA-13831</key>
            <summary>NettyFactoryTest is failing in trunk on MacOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jasobrown">Jason Brown</assignee>
                                    <reporter username="aleksey">Aleksey Yeschenko</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Aug 2017 10:36:03 +0000</created>
                <updated>Fri, 15 May 2020 08:01:47 +0000</updated>
                            <resolved>Thu, 7 Sep 2017 18:04:44 +0000</resolved>
                                        <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16148915" author="jasobrown" created="Thu, 31 Aug 2017 12:29:59 +0000"  >&lt;p&gt;pushed a fix for the test:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;13831&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/jasobrown/cassandra/tree/13831&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/jasobrown/cassandra/tree/13831&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;utests&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="16152731" author="iamaleksey" created="Mon, 4 Sep 2017 15:39:44 +0000"  >&lt;p&gt;This makes the tests pass but still shits all over the logs.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] WARN  [main] 2017-09-04 16:33:51,193 NettyFactory.java:98 - epoll not availble {}
    [junit] java.lang.ExceptionInInitializerError: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    [junit] 	at io.netty.channel.epoll.Epoll.&amp;lt;clinit&amp;gt;(Epoll.java:33) ~[netty-all-4.1.14.Final.jar:4.1.14.Final]
    [junit] 	at org.apache.cassandra.service.NativeTransportService.useEpoll(NativeTransportService.java:162) ~[main/:na]
    [junit] 	at org.apache.cassandra.net.async.NettyFactoryTest.&amp;lt;clinit&amp;gt;(NettyFactoryTest.java:65) ~[classes/:na]
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method) ~[na:1.8.0_144]
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:264) ~[na:1.8.0_144]
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:380) ~[ant-junit.jar:na]
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182) ~[ant-junit.jar:na]
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033) ~[ant-junit.jar:na]
    [junit] Caused by: java.lang.IllegalStateException: Only supported on Linux
    [junit] 	at io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:189) ~[netty-all-4.1.14.Final.jar:4.1.14.Final]
    [junit] 	at io.netty.channel.epoll.Native.&amp;lt;clinit&amp;gt;(Native.java:61) ~[netty-all-4.1.14.Final.jar:4.1.14.Final]
    [junit] 	... 8 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could you maybe modify &lt;tt&gt;NativeTransportService.useEpoll()&lt;/tt&gt; to look at the OS first before trying to call &lt;tt&gt;Epoll.isAvailable()&lt;/tt&gt;, or fix it some other way?&lt;/p&gt;</comment>
                            <comment id="16153534" author="jasobrown" created="Tue, 5 Sep 2017 11:59:41 +0000"  >&lt;p&gt;Printing the error is useful on linux to know why epoll might not be available, but I agree it&apos;s not necessary on other platforms. Fixing.&lt;/p&gt;</comment>
                            <comment id="16153542" author="jasobrown" created="Tue, 5 Sep 2017 12:07:44 +0000"  >&lt;p&gt;rebased and pushed a change that adds an additional check to see if the OS is linux, and only then log that epoll is unavailable.&lt;/p&gt;

&lt;p&gt;UPDATE: just saw your comment about &lt;tt&gt;NativeTransportService&lt;/tt&gt;. Will move the logging there, from &lt;tt&gt;NettyFactory&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16156900" author="iamaleksey" created="Thu, 7 Sep 2017 12:43:55 +0000"  >&lt;p&gt;kk, just mark as Patch Available when ready.&lt;/p&gt;</comment>
                            <comment id="16156981" author="jasobrown" created="Thu, 7 Sep 2017 14:01:12 +0000"  >&lt;p&gt;ahh, sorry, already pushed that change about 10 minutes after the last UPDATE tag. Marking Patch Available now.&lt;/p&gt;</comment>
                            <comment id="16157270" author="iamaleksey" created="Thu, 7 Sep 2017 17:21:30 +0000"  >&lt;p&gt;+1. On commit, can you please fix your recent CHANGES.txt entries in the log to start with upper case, like every other line in the list?&lt;/p&gt;</comment>
                            <comment id="16157358" author="jasobrown" created="Thu, 7 Sep 2017 18:04:44 +0000"  >&lt;p&gt;committed as sha &lt;tt&gt;bab76eba958241bbfca33e9fc6fe663ce230b034&lt;/tt&gt; to trunk. And I&apos;ve cleaned up the CHANGES entrie3s as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt;&apos;s request.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jasobrown]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jhzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>aleksey</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>