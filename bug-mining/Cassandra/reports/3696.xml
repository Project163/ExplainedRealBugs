<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:55:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9841] trunk pig-test fails</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9841</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;pig-test:
    [mkdir] Created dir: /var/lib/jenkins/jobs/trunk_pigtest/workspace/build/test/cassandra
    [mkdir] Created dir: /var/lib/jenkins/jobs/trunk_pigtest/workspace/build/test/output
    [junit] WARNING: multiple versions of ant detected in path for junit 
    [junit]          jar:file:/usr/share/ant/lib/ant.jar!/org/apache/tools/ant/Project.class
    [junit]      and jar:file:/var/lib/jenkins/jobs/trunk_pigtest/workspace/build/lib/jars/ant-1.8.3.jar!/org/apache/tools/ant/Project.class
    [junit] Testsuite: org.apache.cassandra.pig.CqlRecordReaderTest
    [junit] Testsuite: org.apache.cassandra.pig.CqlRecordReaderTest Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 37.799 sec
    [junit] 
    [junit] Testsuite: org.apache.cassandra.pig.CqlTableDataTypeTest
    [junit] Testsuite: org.apache.cassandra.pig.CqlTableDataTypeTest Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 44.627 sec
    [junit] 
    [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest
    [junit] 
    [junit] Exception: java.lang.IllegalStateException thrown from the UncaughtExceptionHandler in thread &quot;cluster15357-connection-reaper-0&quot;
    [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest
    [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec
    [junit] 
    [junit] Testcase: org.apache.cassandra.pig.CqlTableTest:testCqlNativeStorageSingleKeyTable:	Caused an ERROR
    [junit] Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
    [junit] junit.framework.AssertionFailedError: Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
    [junit] 
    [junit] 
    [junit] Test org.apache.cassandra.pig.CqlTableTest FAILED (crashed)
    [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest
    [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 19.889 sec
    [junit] 
    [junit] Testcase: testCassandraStorageDataType(org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest):	Caused an ERROR
    [junit] Unable to open iterator for alias rows
    [junit] org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1066: Unable to open iterator for alias rows
    [junit] 	at org.apache.pig.PigServer.openIterator(PigServer.java:882)
    [junit] 	at org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest.testCassandraStorageDataType(ThriftColumnFamilyDataTypeTest.java:81)
    [junit] Caused by: java.io.IOException: Job terminated with anomalous status FAILED
    [junit] 	at org.apache.pig.PigServer.openIterator(PigServer.java:874)
    [junit] 
    [junit] 
    [junit] Test org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest FAILED
    [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyTest
    [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyTest
    [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyTest Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec
    [junit] 
    [junit] Testcase: org.apache.cassandra.pig.ThriftColumnFamilyTest:testCqlNativeStorageCompositeKeyCF:	Caused an ERROR
    [junit] Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
    [junit] junit.framework.AssertionFailedError: Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
    [junit] 
    [junit] 
    [junit] Test org.apache.cassandra.pig.ThriftColumnFamilyTest FAILED (crashed)
[junitreport] Processing /var/lib/jenkins/jobs/trunk_pigtest/workspace/build/test/TESTS-TestSuites.xml to /tmp/null1591595172
[junitreport] Loading stylesheet jar:file:/usr/share/ant/lib/ant-junit.jar!/org/apache/tools/ant/taskdefs/optional/junit/xsl/junit-frames.xsl
[junitreport] Transform time: 1048ms
[junitreport] Deleting: /tmp/null1591595172

BUILD FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;trunk HEAD&lt;br/&gt;
Debian Jessie 64-bin&lt;br/&gt;
AWS m3-2xlarge&lt;/p&gt;</environment>
        <key id="12846047">CASSANDRA-9841</key>
            <summary>trunk pig-test fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aleksey">Aleksey Yeschenko</assignee>
                                    <reporter username="mshuler">Michael Shuler</reporter>
                        <labels>
                            <label>test-failure</label>
                    </labels>
                <created>Sat, 18 Jul 2015 02:11:07 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:04 +0000</updated>
                            <resolved>Thu, 23 Jul 2015 19:03:42 +0000</resolved>
                                        <fixVersion>3.0 alpha 1</fixVersion>
                                    <component>Legacy/Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14632378" author="iamaleksey" created="Sat, 18 Jul 2015 11:06:17 +0000"  >&lt;p&gt;Probably broken by either &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8099&quot; title=&quot;Refactor and modernize the storage engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8099&quot;&gt;&lt;del&gt;CASSANDRA-8099&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-6717&quot; title=&quot;Modernize schema tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-6717&quot;&gt;&lt;del&gt;CASSANDRA-6717&lt;/del&gt;&lt;/a&gt;. Could be a symptom of something bad, so should be resolved before 3.0.0 at least.&lt;/p&gt;

&lt;p&gt;Can you dig deeper and get some more useful stack traces?&lt;/p&gt;</comment>
                            <comment id="14632576" author="philipthompson" created="Sat, 18 Jul 2015 19:23:11 +0000"  >&lt;p&gt;This was definitely broken by 8099, though I don&apos;t know if 6717 caused further damage.&lt;/p&gt;</comment>
                            <comment id="14633100" author="slebresne" created="Mon, 20 Jul 2015 06:46:27 +0000"  >&lt;p&gt;As far as I tell, the problem for those tests (post-8099 at least) is that they uses the java driver and compact tables, and the java driver had not been updated for the 8099 changes to the compact table schema definitions. I don&apos;t know where we are of having a java driver version that work with post-8099/6717 schema definitions, nor if that hypothetical version of the java driver is used by those tests, but there where I&apos;d start looking. Short of that, we&apos;d need to either be able to find better/useful stack traces as Aleksey or find someone that actually have a clue of what the pig code is doing, because I don&apos;t.&lt;/p&gt;</comment>
                            <comment id="14635250" author="slebresne" created="Tue, 21 Jul 2015 15:27:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamaleksey&quot; class=&quot;user-hover&quot; rel=&quot;iamaleksey&quot;&gt;iamaleksey&lt;/a&gt; can you comment on whether the theory that it could be a problem with the java driver being confused by schema tables is plausible, and if so, if there exists a version of the java driver somewhere updated for the new schema tables we can use to validate this theory?&lt;/p&gt;</comment>
                            <comment id="14635279" author="iamaleksey" created="Tue, 21 Jul 2015 15:32:47 +0000"  >&lt;p&gt;It &lt;b&gt;could&lt;/b&gt; be, but with those 100% useless stack traces, I&apos;m not sure.&lt;/p&gt;

&lt;p&gt;We don&apos;t (yet) have a driver that correctly handles compact static auto-created surrogates, but the Drivers team is aware of both the issue, and of what needs to be done. Once the driver is updated, we&apos;ll see if that was the cause.&lt;/p&gt;</comment>
                            <comment id="14637288" author="mshuler" created="Wed, 22 Jul 2015 17:51:03 +0000"  >&lt;p&gt;This is also causing a lot of test-all runs to hang completely, i.e. &lt;a href=&quot;http://cassci.datastax.com/job/trunk_testall/258/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/trunk_testall/258/console&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;14:38:24 pig-test:
14:38:24     [junit] WARNING: multiple versions of ant detected in path for junit 
14:38:24     [junit]          jar:file:/usr/share/ant/lib/ant.jar!/org/apache/tools/ant/Project.class
14:38:24     [junit]      and jar:file:/home/automaton/cassandra/build/lib/jars/ant-1.9.4.jar!/org/apache/tools/ant/Project.class
14:38:25     [junit] Testsuite: org.apache.cassandra.pig.CqlRecordReaderTest
14:38:59     [junit] Testsuite: org.apache.cassandra.pig.CqlRecordReaderTest Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 33.598 sec
14:38:59     [junit] 
14:39:02     [junit] Testsuite: org.apache.cassandra.pig.CqlTableDataTypeTest
14:39:40     [junit] Testsuite: org.apache.cassandra.pig.CqlTableDataTypeTest Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 38.113 sec
14:39:40     [junit] 
14:39:43     [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest
14:46:28     [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest
14:46:28     [junit] Testsuite: org.apache.cassandra.pig.CqlTableTest Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec
14:46:28     [junit] 
14:46:28     [junit] Testcase: org.apache.cassandra.pig.CqlTableTest:testCqlNativeStorageSingleKeyTable:	Caused an ERROR
14:46:28     [junit] Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
14:46:28     [junit] junit.framework.AssertionFailedError: Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.
14:46:28     [junit] 
14:46:28     [junit] 
14:46:28     [junit] Test org.apache.cassandra.pig.CqlTableTest FAILED (crashed)
14:46:29     [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest
14:46:48     [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 19.068 sec
14:46:48     [junit] 
14:46:48     [junit] Testcase: testCassandraStorageDataType(org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest):	Caused an ERROR
14:46:48     [junit] Unable to open iterator for alias rows
14:46:48     [junit] org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1066: Unable to open iterator for alias rows
14:46:48     [junit] 	at org.apache.pig.PigServer.openIterator(PigServer.java:882)
14:46:48     [junit] 	at org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest.testCassandraStorageDataType(ThriftColumnFamilyDataTypeTest.java:81)
14:46:48     [junit] Caused by: java.io.IOException: Job terminated with anomalous status FAILED
14:46:48     [junit] 	at org.apache.pig.PigServer.openIterator(PigServer.java:874)
14:46:48     [junit] 
14:46:48     [junit] 
14:46:50     [junit] Test org.apache.cassandra.pig.ThriftColumnFamilyDataTypeTest FAILED
14:46:51     [junit] Testsuite: org.apache.cassandra.pig.ThriftColumnFamilyTest
15:06:51 Build timed out (after 20 minutes). Marking the build as aborted.
15:06:51 Terminated
15:06:51 Build was aborted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14639237" author="iamaleksey" created="Thu, 23 Jul 2015 17:38:00 +0000"  >&lt;p&gt;Assigning to myself, this being too cassci-annoying.&lt;/p&gt;</comment>
                            <comment id="14639372" author="iamaleksey" created="Thu, 23 Jul 2015 19:03:16 +0000"  >&lt;p&gt;The updated driver fixes all the tests broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-8099&quot; title=&quot;Refactor and modernize the storage engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-8099&quot;&gt;&lt;del&gt;CASSANDRA-8099&lt;/del&gt;&lt;/a&gt; &lt;tt&gt;STATIC&lt;/tt&gt;/&lt;tt&gt;REGULAR&lt;/tt&gt; schema changes. Committed to trunk as &lt;tt&gt;7b35e3e843bb3a8e1858051054e00a612e32774c&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[aleksey]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hew7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>