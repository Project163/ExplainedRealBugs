<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:11:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14422] Missing dependencies airline and ohc-core-j8 for pom-all</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14422</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;I found two missing dependencies for pom-all (cassandra-all):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;airline&lt;/li&gt;
	&lt;li&gt;ohc-core-j8&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This doesn&apos;t affect current build scheme because their jars are hardcoded in the lib directory. However, if we depend on&#160;cassandra-all in our downstream projects to resolve and fetch dependencies (instead of using the official tarball), Cassandra will have problems, e.g. airline is required by nodetool, and it will fail our dtests.&lt;/p&gt;

&lt;p&gt;I will attach the patch shortly&lt;/p&gt;</description>
                <environment></environment>
        <key id="13155508">CASSANDRA-14422</key>
            <summary>Missing dependencies airline and ohc-core-j8 for pom-all</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shichao.an">Shichao An</assignee>
                                    <reporter username="shichao.an">Shichao An</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Apr 2018 19:01:47 +0000</created>
                <updated>Fri, 15 May 2020 08:00:42 +0000</updated>
                            <resolved>Thu, 31 May 2018 05:12:45 +0000</resolved>
                                        <fixVersion>3.0.17</fixVersion>
                    <fixVersion>3.11.3</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16454712" author="shichao.an" created="Thu, 26 Apr 2018 19:09:45 +0000"  >&lt;p&gt;Here&apos;s the patch for trunk, 3.0 and 3.11:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;uTest&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/shichao-an/cassandra/commits/14422-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14422-trunk&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-trunk.svg?style=svg&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/shichao-an/cassandra/commits/14422-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14422-3.0&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-3.0.svg?style=svg&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/shichao-an/cassandra/commits/14422-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14422-3.11&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-3.11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://circleci.com/gh/shichao-an/cassandra/tree/14422-3.11.svg?style=svg&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="16494393" author="jay.zhuang" created="Tue, 29 May 2018 22:37:20 +0000"  >&lt;p&gt;The change looks good to me. @&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt;, @&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt;, what do you guys think?&lt;/p&gt;</comment>
                            <comment id="16494541" author="mshuler" created="Wed, 30 May 2018 00:53:30 +0000"  >&lt;p&gt;1) I stopped looking for what changed in 3.0 diff after scrolling on lots of whitespace changes.&lt;/p&gt;

&lt;p&gt;2) What bug does this fix with dtest, exactly?&lt;/p&gt;</comment>
                            <comment id="16494660" author="jjirsa" created="Wed, 30 May 2018 04:28:08 +0000"  >&lt;p&gt;Should definitely minimize the whitespace changes.&lt;/p&gt;</comment>
                            <comment id="16494696" author="jay.zhuang" created="Wed, 30 May 2018 05:17:22 +0000"  >&lt;p&gt;Sure, I split the change for easy review:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Diff&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/cooldoger/cassandra/commit/31c4724c10830700356ed9cbfee24dab4601e0de&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14422-3.0&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/cooldoger/cassandra/commit/7d2abcd2c29fa7cbcd114fc7e3152e39ed1016f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;14422-3.11&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;The patch is to fix a dependency management issue, it won&apos;t change any cassandra binaries or adding/removing any JARs. It only changes the metadata pom. There&apos;re missing dependencies in the pom, for example: &lt;a href=&quot;http://central.maven.org/maven2/org/apache/cassandra/cassandra-all/3.11.2/cassandra-all-3.11.2.pom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://central.maven.org/maven2/org/apache/cassandra/cassandra-all/3.11.2/cassandra-all-3.11.2.pom&lt;/a&gt;, it&apos;s missing &lt;tt&gt;airline&lt;/tt&gt; and &lt;tt&gt;ohc-core-j8&lt;/tt&gt; in &lt;tt&gt;project-&amp;gt;dependencies&lt;/tt&gt; list. If there&apos;s a project depends on &lt;a href=&quot;http://central.maven.org/maven2/org/apache/cassandra/cassandra-all/3.11.2/cassandra-all-3.11.2.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;cassandra-all-3.11.2.jar&lt;/tt&gt;&lt;/a&gt;, the dependency management tool (maven, gradle, etc.) won&apos;t be able to download &lt;tt&gt;ariline&lt;/tt&gt;/&lt;tt&gt;ohc-core-j8&lt;/tt&gt; which are needed by &lt;tt&gt;cassandra-all-3.11.2.jar&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16494904" author="spodxx@gmail.com" created="Wed, 30 May 2018 09:02:05 +0000"  >&lt;p&gt;The dependencies are listed in the parent pom, but not as direct dependencies in cassandra-all. As a result, both artifacts won&apos;t become a transitive dependencies by projects depending on cassandra-all and must get explicitly pulled in by such projects. See &lt;tt&gt;deps-tree-311-no_patch.txt&lt;/tt&gt; on how the current dependency tree for 3.11 cassandra-all pom looks like (you won&apos;t find them there).&lt;/p&gt;

&lt;p&gt;Now the question is, will any downstream projects actually need these dependencies. But we should probably just be consistent by adding all known runtime dependencies to cassandra-all, whether used by nodetool or any other place.&lt;/p&gt;</comment>
                            <comment id="16495651" author="jay.zhuang" created="Wed, 30 May 2018 20:43:56 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spodxx%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;spodxx@gmail.com&quot;&gt;spodxx@gmail.com&lt;/a&gt;. That&apos;s exactly the problem that transitive dependencies are not set correctly. As we published the JAR, we should set that right. I&apos;d like to commit the change later today if there&apos;s no objection.&lt;/p&gt;</comment>
                            <comment id="16495745" author="mshuler" created="Wed, 30 May 2018 21:59:50 +0000"  >&lt;p&gt;Thanks for the info and no-whitespace diff. Looks good to me!&lt;/p&gt;</comment>
                            <comment id="16495796" author="shichao.an" created="Wed, 30 May 2018 22:22:00 +0000"  >&lt;p&gt;You can ignore whitespace GitHub&#160;by adding a ?w=1 in the URL, for example:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/shichao-an/cassandra/commit/c1962e32e0a3bf1dde8973855f108ec1a4aeb5d6?w=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shichao-an/cassandra/commit/c1962e32e0a3bf1dde8973855f108ec1a4aeb5d6?w=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16496110" author="jay.zhuang" created="Thu, 31 May 2018 05:12:05 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shichao.an&quot; class=&quot;user-hover&quot; rel=&quot;shichao.an&quot;&gt;shichao.an&lt;/a&gt; for the fix. The change is committed as &lt;a href=&quot;https://github.com/apache/cassandra/commit/38096da25bd72346628c001d5b310417f8f703cd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;38096da&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16496794" author="mshuler" created="Thu, 31 May 2018 16:15:54 +0000"  >&lt;p&gt;For future reference, here is the code style &quot;policy&quot;/suggestion on whitespace:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cassandra.apache.org/doc/latest/development/code_style.html#whitespace&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cassandra.apache.org/doc/latest/development/code_style.html#whitespace&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Apologies if my suggestion was vague on the removal of whitespace changes to the particular branch diffs, also seconded by Jeff. I assumed the subsequent diffs posted for 3.0/3.11 were the ones that would be committed.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;git blame build.xml&lt;/tt&gt; forever more will have an irrelevant commit on many lines, when only the code changes should have been committed to those branches. Personally, I use blame frequently when looking for changes, so github trickery means nothing and code reviews should follow the documented code style suggestions.&lt;/p&gt;</comment>
                            <comment id="16496927" author="jay.zhuang" created="Thu, 31 May 2018 17:57:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt; for the information. Will follow the code style policy and have the tailing space change as a separate commit in future.&lt;/p&gt;</comment>
                            <comment id="16496932" author="shichao.an" created="Thu, 31 May 2018 18:02:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mshuler&quot; class=&quot;user-hover&quot; rel=&quot;mshuler&quot;&gt;mshuler&lt;/a&gt; Thanks for your explanation on the code style. I will remember that for future contributions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12925704" name="deps-tree-311-no_patch.txt" size="10999" author="spod" created="Wed, 30 May 2018 09:02:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[shichao.an]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3t2ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jay.zhuang</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jay.zhuang]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>