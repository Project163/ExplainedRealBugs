<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:14:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-14878] Race condition when setting bootstrap flags</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-14878</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;&lt;tt&gt;StorageService#bootstrap()&lt;/tt&gt; is supposed to wait for bootstrap to finish, but Guava calls the future listeners &lt;a href=&quot;https://github.com/google/guava/blob/ec2dedebfa359991cbcc8750dc62003be63ec6d3/guava/src/com/google/common/util/concurrent/AbstractFuture.java#L890&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;after&lt;/a&gt; unparking its waiters, which causes a race on when the &lt;tt&gt;bootstrapFinished()&lt;/tt&gt; will be executed, making it non-deterministic.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13197232">CASSANDRA-14878</key>
            <summary>Race condition when setting bootstrap flags</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="edimitrova">Ekaterina Dimitrova</assignee>
                                    <reporter username="sbtourist">Sergio Bossa</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Nov 2018 20:04:22 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:59 +0000</updated>
                            <resolved>Mon, 13 Jan 2020 21:20:02 +0000</resolved>
                                        <fixVersion>3.0.20</fixVersion>
                    <fixVersion>3.11.6</fixVersion>
                    <fixVersion>4.0-alpha3</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Local/Startup and Shutdown</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16991823" author="edimitrova" created="Mon, 9 Dec 2019 18:07:41 +0000"  >&lt;p&gt;New d-test added to test the patch. Pull request for the D-Test could be found &lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra-dtest/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&#160;Patch implemented but there is a bug with the stress tool on versions 3.0 and 3.11 which prevents me from smooth running the d-tests.&lt;/p&gt;

&lt;p&gt;Ongoing investigation of the issue. &#160;&lt;/p&gt;

&lt;p&gt;Checking whether this is related to this issue -&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-11628&quot; title=&quot;Fix the regression to CASSANDRA-3983 that got introduced by CASSANDRA-10679&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-11628&quot;&gt;&lt;del&gt;CASSANDRA-11628&lt;/del&gt;&lt;/a&gt; &#160;The patch is there but I still get the same errors.&lt;/p&gt;

&lt;p&gt;Everything is fine with the trunk version.&#160;&lt;/p&gt;</comment>
                            <comment id="17006790" author="edimitrova" created="Thu, 2 Jan 2020 12:47:59 +0000"  >&lt;p&gt;Issue fixed. Related D-Test completed successfully. CI tests running for version 3.0. Upon successful completion, merge with the newer versions will follow. &#160;&lt;/p&gt;</comment>
                            <comment id="17014517" author="edimitrova" created="Mon, 13 Jan 2020 17:40:16 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/trunk-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/cassandra-3.0-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cassandra-3.0-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/cassandra-3.11-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cassandra-3.11-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra-dtest/pulls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DTest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17014538" author="edimitrova" created="Mon, 13 Jan 2020 18:07:34 +0000"  >&lt;p&gt;CI results screenshots added. Many failing dtests for version 11 but I did comparison with the OSS Jenkins latest builds and it looks like the same ones are failing even without the patch.&#160;&lt;/p&gt;</comment>
                            <comment id="17014659" author="brandon.williams" created="Mon, 13 Jan 2020 21:20:20 +0000"  >&lt;p&gt;+1, committed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13311232">CASSANDRA-15874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12990755" name="Screen Shot 2020-01-13 at 1.03.19 PM.png" size="92503" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990756" name="Screen Shot 2020-01-13 at 1.03.41 PM.png" size="154167" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:15 +0000"/>
                            <attachment id="12990757" name="Screen Shot 2020-01-13 at 1.04.05 PM.png" size="373817" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990758" name="Screen Shot 2020-01-13 at 1.04.29 PM.png" size="125296" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990759" name="Screen Shot 2020-01-13 at 1.04.55 PM.png" size="430552" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990760" name="Screen Shot 2020-01-13 at 12.41.41 PM.png" size="280990" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990761" name="Screen Shot 2020-01-13 at 12.42.47 PM.png" size="232078" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990762" name="Screen Shot 2020-01-13 at 12.43.28 PM.png" size="155073" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:15 +0000"/>
                            <attachment id="12990763" name="Screen Shot 2020-01-13 at 12.44.36 PM.png" size="93199" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                            <attachment id="12990764" name="Screen Shot 2020-01-13 at 12.48.24 PM.png" size="1001353" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:20 +0000"/>
                            <attachment id="12990765" name="Screen Shot 2020-01-13 at 12.48.35 PM.png" size="1312684" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:17 +0000"/>
                            <attachment id="12990766" name="Screen Shot 2020-01-13 at 12.48.49 PM.png" size="845586" author="e.dimitrova" created="Mon, 13 Jan 2020 18:05:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[edimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00als:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12332361">3.0 alpha 1</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/301168b60331bbd01864265a02fce9b63b94b823&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/301168b60331bbd01864265a02fce9b63b94b823&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/trunk-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;trunk-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/cassandra-3.0-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cassandra-3.0-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/tree/cassandra-3.11-14878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;cassandra-3.11-14878&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra-dtest/pulls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DTest&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>