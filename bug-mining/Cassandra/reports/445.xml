<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:16:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-1446] cassandra-cli still relies on cassandra.in.sh instead of cassandra-env.sh</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-1446</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;When we switched to cassandra-env.sh, we neglected to change the cli as well.  This leads to people unable to launch to the client due to heap size, and not having any idea how to change the heap for the cli itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12472890">CASSANDRA-1446</key>
            <summary>cassandra-cli still relies on cassandra.in.sh instead of cassandra-env.sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="urandom">Eric Evans</assignee>
                                    <reporter username="brandon.williams">Brandon Williams</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Aug 2010 22:45:41 +0000</created>
                <updated>Tue, 16 Apr 2019 09:33:18 +0000</updated>
                            <resolved>Tue, 31 Aug 2010 03:15:03 +0000</resolved>
                                        <fixVersion>0.6.6</fixVersion>
                    <fixVersion>0.7 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12904409" author="urandom" created="Mon, 30 Aug 2010 23:26:09 +0000"  >&lt;p&gt;cassandra-cli never used the set of arguments from cassandra.in.sh which included (among other things) the heap size.  This was on purpose, the memory requirements of the CLI should be negligible, and there is definitely no correlation to the memory needed by the server. &lt;/p&gt;

&lt;p&gt;Do you know of a specific problem here? Can you provide any specifics?&lt;/p&gt;</comment>
                            <comment id="12904433" author="brandon.williams" created="Tue, 31 Aug 2010 00:06:46 +0000"  >&lt;p&gt;The specific problem I&apos;m seeing here is that the user can launch cassandra itself, but doesn&apos;t have enough memory to launch cassandra-cli afterwards, and there isn&apos;t an intuitive way to change cassandra-cli&apos;s heap.  I see cassandra-cli&apos;s script specifically trying to include cassandra.in.sh, though, on second look, it does not appear to be doing anything with it.  Maybe we should just remove the cassandra.in.sh cruft.&lt;/p&gt;</comment>
                            <comment id="12904504" author="urandom" created="Tue, 31 Aug 2010 02:57:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The specific problem I&apos;m seeing here is that the user can launch cassandra itself, but doesn&apos;t have enough memory to launch cassandra-cli afterwards, and there isn&apos;t an intuitive way to change cassandra-cli&apos;s heap.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Interesting.  I would have thought the default max heap size would be something... reasonable, but on my machine it seems to be 987MB (the hell?!).&lt;/p&gt;

&lt;p&gt;Anyway, I just checked in a change that sets this to 256MB.  I don&apos;t know if that&apos;s the optimal value but it&apos;s considerably less than the almost-a-gig default.  The only reason it would ever need to be bigger than say 16MB is to buffer larger responses, and 256MB seems like a gracious plenty for any practical use of our CLI.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I see cassandra-cli&apos;s script specifically trying to include cassandra.in.sh, though, on second look, it does not appear to be doing anything with it. Maybe we should just remove the cassandra.in.sh cruft.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is using it though, it&apos;s using it to setup the classpath; cassandra.in.sh is basically the common code for setting the classpath in all of those scripts.&lt;/p&gt;</comment>
                            <comment id="12904505" author="brandon.williams" created="Tue, 31 Aug 2010 03:02:19 +0000"  >&lt;p&gt;256M works for me, but let&apos;s put this in 0.6 too.&lt;/p&gt;</comment>
                            <comment id="12904507" author="urandom" created="Tue, 31 Aug 2010 03:15:03 +0000"  >&lt;p&gt;committed new max heap to 0.6 and trunk&lt;/p&gt;</comment>
                            <comment id="12908538" author="hudson" created="Sun, 12 Sep 2010 19:39:05 +0000"  >&lt;p&gt;Integrated in Cassandra #533 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Cassandra/533/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/job/Cassandra/533/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[urandom]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0g53z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>