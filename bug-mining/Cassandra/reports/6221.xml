<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:27:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-18395] Rename internal state() method in AbstractFuture to not conflict with Java 19 changes</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-18395</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;From Java 19 we have new method Future.state and it conflicts with our private method. Fix bellow.&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/util/concurrent/Future.html#state()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/util/concurrent/Future.html#state()&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+++ b/src/java/org/apache/cassandra/utils/concurrent/AbstractFuture.java
@@ -494,11 +494,11 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractFuture&amp;lt;V&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Future&amp;lt;V&amp;gt;
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString()
&#160; &#160; &#160;{
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; description = description();
- &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state = state();
+ &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state = stateInfo();
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; description == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? state : (state + &lt;span class=&quot;code-quote&quot;&gt;&apos; &apos;&lt;/span&gt; + description);
&#160; &#160; &#160;}
&#160;
- &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state()
+ &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stateInfo()
&#160; &#160; &#160;{
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; result = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.result;
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isSuccess(result))&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13530942">CASSANDRA-18395</key>
            <summary>Rename internal state() method in AbstractFuture to not conflict with Java 19 changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="slachiewicz">Sylwester Lachiewicz</assignee>
                                    <reporter username="slachiewicz">Sylwester Lachiewicz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Mar 2023 09:27:47 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:57 +0000</updated>
                            <resolved>Mon, 10 Apr 2023 18:03:23 +0000</resolved>
                                        <fixVersion>5.0-alpha1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17708444" author="edimitrova" created="Tue, 4 Apr 2023 14:18:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=slachiewicz&quot; class=&quot;user-hover&quot; rel=&quot;slachiewicz&quot;&gt;slachiewicz&lt;/a&gt;, Thank you for testing, raising a ticket, and submitting a patch! Truly appreciate the effort!&lt;br/&gt;
Currently the plan for Cassandra 5.0 is to be shipped with JDK11 builds which can be run with 11 and 17 (experimental at first).&lt;br/&gt;
I believe this patch is not needed for supporting JDK17? &lt;br/&gt;
With that said, I will remove it from the JDK17 epic. It is needed for efforts to bring Cassandra to future versions, It is not a blocker for JDK17.&lt;br/&gt;
Upgrading to newer JDK versions is/will be a continuous community effort. So I see this ticket as valuable and thank you once again for looking into it! Someone with cycles will take a look at it (CI run needed, etc) but it is not a blocker for JDK17 so it might not be immediate priority to commit it. &lt;/p&gt;</comment>
                            <comment id="17708542" author="slachiewicz" created="Tue, 4 Apr 2023 19:04:23 +0000"  >&lt;p&gt;hi Yes, this is not blocker for any Java version - it&apos;s just simple internal method so I dont think it;s worth to discuss or spent on this so much time.&lt;/p&gt;</comment>
                            <comment id="17710219" author="edimitrova" created="Mon, 10 Apr 2023 16:41:48 +0000"  >&lt;p&gt;I can confirm that current trunk fails with JDK19 and when the patch is applied I can successfully run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant jar build-test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I agree with the provided explanation. Patch posted here&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ekaterinadimitrova2/cassandra/pull/new/CASSANDRA-18395&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ekaterinadimitrova2/cassandra/pull/new/CASSANDRA-18395&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CI pushed &lt;a href=&quot;https://app.circleci.com/pipelines/github/ekaterinadimitrova2/cassandra?branch=CASSANDRA-18395&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;br/&gt;
I will check the CI results later&lt;/p&gt;</comment>
                            <comment id="17710243" author="edimitrova" created="Mon, 10 Apr 2023 17:39:11 +0000"  >&lt;p&gt;&lt;b&gt;Tets failures:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;em&gt;testPagingWithClustering-.jdk11&lt;/em&gt; - known from &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18432&quot; title=&quot;Test failure: org.apache.cassandra.index.sasi.SASICQLTest#testPagingWithClustering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18432&quot;&gt;CASSANDRA-18432&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;testForcedNormalRepairWithOneNodeDown-.jdk1.8&lt;/em&gt; - Known issue from - &lt;a href=&quot;https://ci-cassandra.apache.org/job/Cassandra-trunk/1509/testReport/org.apache.cassandra.distributed.test/RepairTest/testForcedNormalRepairWithOneNodeDown__jdk1_8/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/job/Cassandra-trunk/1509/testReport/org.apache.cassandra.distributed.test/RepairTest/testForcedNormalRepairWithOneNodeDown__jdk1_8/&lt;/a&gt;&lt;br/&gt;
I opened a ticket - &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-18440&quot; title=&quot;Test failure: org.apache.cassandra.distributed.test.RepairTest.testForcedNormalRepairWithOneNodeDown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-18440&quot;&gt;&lt;del&gt;CASSANDRA-18440&lt;/del&gt;&lt;/a&gt;; also linked in Butler&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandon.williams&quot; class=&quot;user-hover&quot; rel=&quot;brandon.williams&quot;&gt;brandon.williams&lt;/a&gt; do you mind to take a look, too?&lt;/p&gt;</comment>
                            <comment id="17710244" author="brandon.williams" created="Mon, 10 Apr 2023 17:42:57 +0000"  >&lt;p&gt;LGTM, +1.&lt;/p&gt;</comment>
                            <comment id="17710251" author="edimitrova" created="Mon, 10 Apr 2023 18:03:06 +0000"  >&lt;p&gt;Committed to &lt;a href=&quot;https://github.com/apache/cassandra&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160;&lt;a href=&quot;https://github.com/apache/cassandra/commit/ca6450bda4136f3c16992c807f510520580a60cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;99b618fec1..ca6450bda4&#160; trunk -&amp;gt; trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                            <outwardlinks description="Testing discovered">
                                        <issuelink>
            <issuekey id="13532076">CASSANDRA-18440</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[slachiewicz]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12964"><![CDATA[Low Hanging Fruit]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gzzk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
        <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/ca6450bda4136f3c16992c807f510520580a60cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/ca6450bda4136f3c16992c807f510520580a60cb&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+++ b/src/java/org/apache/cassandra/utils/concurrent/AbstractFuture.java
@@ -494,11 +494,11 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractFuture&amp;lt;V&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Future&amp;lt;V&amp;gt;
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString()
     {
         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; description = description();
-        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state = state();
+        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state = stateInfo();
         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; description == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? state : (state + &lt;span class=&quot;code-quote&quot;&gt;&apos; &apos;&lt;/span&gt; + description);
     }
 
-    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; state()
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stateInfo()
     {
         &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; result = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.result;
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isSuccess(result))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;CI run needed plus manual tested that trunk compiles with JDK19&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>