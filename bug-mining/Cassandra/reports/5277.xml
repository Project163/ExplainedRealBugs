<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:14:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-15426] Cassandra 3.11.5 fails to start on Windows </title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-15426</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Cassandra 3.11.5 fails to start on Windows server 2012 R2. with following error trace.&lt;/p&gt;

&lt;p&gt;Cassandra 3.11.4 doesn&apos;t fail on Windows 2012 R2.&#160;&lt;/p&gt;

&lt;p&gt;&#160; &#160;&lt;/p&gt;

&lt;p&gt;org.apache.cassandra.io.FSReadError: java.io.IOException: Invalid folder descriptor trying to create log replica C:\Users\Administrator\Downloads\apache-cassandra-3.11.5-bin.tar\apache-cassandra-3.11.5-bin\apache-cassandra-3.11.5\data\data\system\local-7ad54392bcdd35a684174e047860b377&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LogReplica.create(LogReplica.java:58) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LogReplicaSet.maybeCreateReplica(LogReplicaSet.java:86) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LogFile.makeRecord(LogFile.java:311) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LogFile.add(LogFile.java:283) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LogTransaction.trackNew(LogTransaction.java:139) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.lifecycle.LifecycleTransaction.trackNew(LifecycleTransaction.java:528) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.io.sstable.format.big.BigTableWriter.&amp;lt;init&amp;gt;(BigTableWriter.java:81) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.io.sstable.format.big.BigFormat$WriterFactory.open(BigFormat.java:92) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.io.sstable.format.SSTableWriter.create(SSTableWriter.java:102) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter.create(SimpleSSTableMultiWriter.java:119) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.compaction.AbstractCompactionStrategy.createSSTableMultiWriter(AbstractCompactionStrategy.java:588) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.compaction.CompactionStrategyManager.createSSTableMultiWriter(CompactionStrategyManager.java:1027) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.ColumnFamilyStore.createSSTableMultiWriter(ColumnFamilyStore.java:532) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.Memtable$FlushRunnable.createFlushWriter(Memtable.java:504) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.Memtable$FlushRunnable.&amp;lt;init&amp;gt;(Memtable.java:443) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.Memtable$FlushRunnable.&amp;lt;init&amp;gt;(Memtable.java:420) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.Memtable.createFlushRunnables(Memtable.java:307) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.Memtable.flushRunnables(Memtable.java:298) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.ColumnFamilyStore$Flush.flushMemtable(ColumnFamilyStore.java:1153) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.db.ColumnFamilyStore$Flush.run(ColumnFamilyStore.java:1118) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_161&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_161&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:84) &lt;span class=&quot;error&quot;&gt;&amp;#91;apache-cassandra-3.11.5.jar:3.11.5&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.lang.Thread.run(Thread.java:748) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.8.0_161&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: java.io.IOException: Invalid folder descriptor trying to&lt;/p&gt;</description>
                <environment></environment>
        <key id="13268261">CASSANDRA-15426</key>
            <summary>Cassandra 3.11.5 fails to start on Windows </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jjirsa">Jeff Jirsa</assignee>
                                    <reporter username="ashish_singh2@bmc.com">Ashish Singh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Nov 2019 09:47:54 +0000</created>
                <updated>Fri, 15 May 2020 08:39:01 +0000</updated>
                            <resolved>Wed, 29 Jan 2020 02:39:24 +0000</resolved>
                                        <fixVersion>3.0.20</fixVersion>
                    <fixVersion>3.11.6</fixVersion>
                    <fixVersion>4.0-alpha3</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Consistency/Hints</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="16974136" author="andrew.kostousov@gmail.com" created="Thu, 14 Nov 2019 10:41:39 +0000"  >&lt;p&gt;Seems like the problem was introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15053&quot; title=&quot;Fix handling FS errors on writing and reading flat files - LogTransaction and hints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15053&quot;&gt;&lt;del&gt;CASSANDRA-15053&lt;/del&gt;&lt;/a&gt;&#160;patch. Note that &lt;tt&gt;NativeLibrary.tryOpenDirectory()&lt;/tt&gt;&#160;is not implemented on Windows and always returns -1.&lt;/p&gt;</comment>
                            <comment id="17025397" author="djoshi3" created="Tue, 28 Jan 2020 19:46:16 +0000"  >&lt;p&gt;Jeff supplied a patch that I imported &lt;a href=&quot;https://github.com/dineshjoshi/cassandra/tree/15426-3.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; for Cassandra 3.0. Circle is running &lt;a href=&quot;https://circleci.com/workflow-run/19a0c18c-ff2a-4131-8d44-63dd21bb84fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. Once I&apos;ve confirmed that this fixes the issue in 3.0 and doesn&apos;t cause regressions, I will forward port it to 3.11 and trunk.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish_singh2%40bmc.com&quot; class=&quot;user-hover&quot; rel=&quot;ashish_singh2@bmc.com&quot;&gt;ashish_singh2@bmc.com&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Andrew.Kostousov%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;Andrew.Kostousov@gmail.com&quot;&gt;Andrew.Kostousov@gmail.com&lt;/a&gt; any chance I could get both of you to try this out in your respective environments. I don&apos;t have Windows Server installation at hand.&lt;/p&gt;</comment>
                            <comment id="17025539" author="djoshi3" created="Wed, 29 Jan 2020 02:37:31 +0000"  >&lt;p&gt;I verified that the patch works on 3.0, 3.11 and trunk. +1.&lt;/p&gt;</comment>
                            <comment id="17025540" author="djoshi3" created="Wed, 29 Jan 2020 02:39:24 +0000"  >&lt;p&gt;Committed as 4e6c0fadfe69419e0f6f7c3fa5960bdcd90d510a and merged up to 3.11 and trunk.&lt;/p&gt;</comment>
                            <comment id="17035057" author="ashish_singh2@bmc.com" created="Wed, 12 Feb 2020 05:15:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djoshi&quot; class=&quot;user-hover&quot; rel=&quot;djoshi&quot;&gt;djoshi&lt;/a&gt;: HI Dinesh , Where can i get the patch to try out the fix, Also, Please share steps to apply the patch to existing installation.&lt;/p&gt;</comment>
                            <comment id="17035655" author="djoshi3" created="Wed, 12 Feb 2020 19:44:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish_singh2%40bmc.com&quot; class=&quot;user-hover&quot; rel=&quot;ashish_singh2@bmc.com&quot;&gt;ashish_singh2@bmc.com&lt;/a&gt;, this fix is in 3.11.6 which will be released in a few days. If you cannot wait that long, you can apply my patch from the &lt;a href=&quot;https://github.com/apache/cassandra/commit/f2a36e17cd7977044e461e2ff134e2a703f6843d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;3.11 branch&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13221891">CASSANDRA-15053</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[jjirsa]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
                                <customfieldvalue key="12988" cascade-level="1"><![CDATA[API / Semantic Implementation]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13083"><![CDATA[Windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08lqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[djoshi]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12344930">3.0.19</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/4e6c0fadfe69419e0f6f7c3fa5960bdcd90d510a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/4e6c0fadfe69419e0f6f7c3fa5960bdcd90d510a&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;CircleCI for Linux based hosts and manual testing for Windows.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>