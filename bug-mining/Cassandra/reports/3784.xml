<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:57:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-9872] only check KeyCache when it is enabled</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-9872</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;If the KeyCache exists (because at least one column family is using it) we currenlty check the key cache even for requests to column families where the key cache is disabled.  I think it would be better to only check the cache if entries &lt;b&gt;could&lt;/b&gt; be there.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;This will align the key cache with how the row cache behaves.&lt;/li&gt;
	&lt;li&gt;This makes the key cache metrics much more useful.  For example, &apos;requests&apos; becomes &apos;requests to things that could be in the key cache&apos; and not just &apos;total requests&apos;.&lt;/li&gt;
	&lt;li&gt;This migh be a micro-optimization saving a few metric update.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12848370">CASSANDRA-9872</key>
            <summary>only check KeyCache when it is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cburroughs">Chris Burroughs</assignee>
                                    <reporter username="cburroughs">Chris Burroughs</reporter>
                        <labels>
                            <label>cache</label>
                            <label>metrics</label>
                    </labels>
                <created>Wed, 22 Jul 2015 20:33:57 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:03 +0000</updated>
                            <resolved>Mon, 31 Aug 2015 09:09:43 +0000</resolved>
                                        <fixVersion>2.1.10</fixVersion>
                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>3.0 beta 2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14697700" author="cburroughs" created="Fri, 14 Aug 2015 20:29:03 +0000"  >&lt;p&gt;I think this is unlikely to be appropriate for 2.0.  Could I get a reviewer and version to target?&lt;/p&gt;</comment>
                            <comment id="14697720" author="snazy" created="Fri, 14 Aug 2015 20:43:01 +0000"  >&lt;p&gt;I think this should target a 3.x release (so on trunk, maybe cassandra-3.0, if it&apos;s not really invasive).&lt;br/&gt;
You might want to look at new &lt;tt&gt;TableAttributes&lt;/tt&gt;, &lt;tt&gt;CachingParams&lt;/tt&gt; and &lt;tt&gt;CFMetaData&lt;/tt&gt; classes - latter is currently being refactored in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-9712&quot; title=&quot;Refactor CFMetaData&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-9712&quot;&gt;CASSANDRA-9712&lt;/a&gt;.&lt;br/&gt;
Do you mind adding some unit tests to &lt;tt&gt;KeyCacheTest&lt;/tt&gt;, too?&lt;/p&gt;</comment>
                            <comment id="14699957" author="cburroughs" created="Mon, 17 Aug 2015 18:09:58 +0000"  >&lt;p&gt;I &lt;b&gt;think&lt;/b&gt; this is correct (and simpler!) with all of the 3.0 branch changes.  I looked into adding unit tests to `KeyCacheTest` but it&apos;s pretty end to end and I didn&apos;t see any thing existing tests that call `getCachedPosition` directly.&lt;/p&gt;</comment>
                            <comment id="14706730" author="cburroughs" created="Fri, 21 Aug 2015 13:27:41 +0000"  >&lt;p&gt;2.1 version in case that is useful to someone.&lt;/p&gt;</comment>
                            <comment id="14723060" author="snazy" created="Mon, 31 Aug 2015 07:11:31 +0000"  >&lt;p&gt;Patch LGTM. Thanks for the contribution!&lt;/p&gt;

&lt;p&gt;But will have to wait what CI says.&lt;/p&gt;</comment>
                            <comment id="14723244" author="snazy" created="Mon, 31 Aug 2015 09:09:43 +0000"  >&lt;p&gt;Committed as 8a8a5a42862a9cbe5a7c73932ac315acd7b2190f for 2.1.10, 2.2.2, 3.0b2.&lt;/p&gt;

&lt;p&gt;Thanks again for your contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12746634" name="j9872-2.0-v1.txt" size="847" author="cburroughs" created="Wed, 22 Jul 2015 20:37:51 +0000"/>
                            <attachment id="12751720" name="j9872-2.1-v1.txt" size="787" author="cburroughs" created="Fri, 21 Aug 2015 13:27:41 +0000"/>
                            <attachment id="12750867" name="j9872-3.0-v1.txt" size="810" author="cburroughs" created="Mon, 17 Aug 2015 18:00:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[cburroughs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ht3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>snazy</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[snazy]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>