<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:25:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-3351] If node fails to join a ring it will stay in joining state indefinately</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-3351</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;While attempting to add a new node to my ring something went wrong and I had to terminate the node on ec2. After this the node keeps appearing in the ring command in &quot;joining&quot; state and never goes away. Per driftx on the Cassandra channel if I do a whole cluster restart it should go away, but since this is a production system this is not really possible. Additionally if I could join a node with same IP again this should go away, but being on ec2 this is not always easy. So not sure if this truly qualifies as a bug or more like a feature request, but I feel there should be a way to remove a node in any state if I wish without joining a node with same ip or doing a whole cluster restart.&lt;/p&gt;</description>
                <environment>&lt;p&gt;xlarge ec2, Ubuntu 11.04 Natty, JNA&lt;/p&gt;</environment>
        <key id="12526780">CASSANDRA-3351</key>
            <summary>If node fails to join a ring it will stay in joining state indefinately</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="tuke">Tuukka Luolamo</reporter>
                        <labels>
                            <label>gossip</label>
                    </labels>
                <created>Wed, 12 Oct 2011 00:34:21 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:48 +0000</updated>
                            <resolved>Fri, 21 Oct 2011 22:26:47 +0000</resolved>
                                        <fixVersion>0.8.8</fixVersion>
                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13125506" author="tuke" created="Wed, 12 Oct 2011 00:37:54 +0000"  >&lt;p&gt;Also per driftx I ran gms trace and grabbed about 1 minute worth of log entries that I have attached here. Problem node ip is 10.82.211.8&lt;/p&gt;</comment>
                            <comment id="13131822" author="brandon.williams" created="Thu, 20 Oct 2011 17:37:13 +0000"  >&lt;p&gt;Two problems introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-2496&quot; title=&quot;Gossip should handle &amp;#39;dead&amp;#39; states&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-2496&quot;&gt;&lt;del&gt;CASSANDRA-2496&lt;/del&gt;&lt;/a&gt;: the fatclient logic was changed a bit too much, and the isDeadState check was assuming fat clients had dead state, thus calling setHasToken to effectively not mark  them as fat clients.&lt;/p&gt;</comment>
                            <comment id="13133124" author="thepaul" created="Fri, 21 Oct 2011 22:13:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13133139" author="brandon.williams" created="Fri, 21 Oct 2011 22:26:47 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13133206" author="hudson" created="Sat, 22 Oct 2011 01:00:20 +0000"  >&lt;p&gt;Integrated in Cassandra-0.8 #386 (See &lt;a href=&quot;https://builds.apache.org/job/Cassandra-0.8/386/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Cassandra-0.8/386/&lt;/a&gt;)&lt;br/&gt;
    Prevent nodes that failed to join from being stuck in the joining state&lt;br/&gt;
indefinitely.&lt;br/&gt;
Patch by brandonwilliams, reviewed by Paul Cannon for &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-3351&quot; title=&quot;If node fails to join a ring it will stay in joining state indefinately&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-3351&quot;&gt;&lt;del&gt;CASSANDRA-3351&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;brandonwilliams : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1187578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1187578&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/cassandra/branches/cassandra-0.8/src/java/org/apache/cassandra/gms/Gossiper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12499899" name="3351-trunk.txt" size="3206" author="brandon.williams" created="Thu, 20 Oct 2011 17:41:34 +0000"/>
                            <attachment id="12499898" name="3351.txt" size="3459" author="brandon.williams" created="Thu, 20 Oct 2011 17:37:13 +0000"/>
                            <attachment id="12498689" name="cassandra.log.gz" size="65154" author="tuke" created="Wed, 12 Oct 2011 00:37:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0gitz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thepaul</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thepaul]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>