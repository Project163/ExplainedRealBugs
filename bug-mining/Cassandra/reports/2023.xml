<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:37:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5212] Unable to start when using Ec2Snitch</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5212</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Hello, we&apos;re using vanilla Cassandra in an EC2 environment and I just tested upgrading from 1.2.0 to 1.2.1 on two test instances. Cassandra fails to start because it&apos;s unable to load the Ec2Snitch. Version 1.2.0 was working OK. I have tried this on uninitialized/empty instances and received the same result. Cassandra successfully starts when switching to SimpleSnitch. Log output is below. We&apos;re using the official debian package from apache.org. Please let me know if you need any more details, thanks!&lt;/p&gt;

&lt;p&gt;output.log&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR 21:25:06,684 Fatal configuration error
org.apache.cassandra.exceptions.ConfigurationException: Error instantiating snitch class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.locator.Ec2Snitch&apos;&lt;/span&gt;.
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:475)
	at org.apache.cassandra.config.DatabaseDescriptor.createEndpointSnitch(DatabaseDescriptor.java:525)
	at org.apache.cassandra.config.DatabaseDescriptor.loadYaml(DatabaseDescriptor.java:338)
	at org.apache.cassandra.config.DatabaseDescriptor.&amp;lt;clinit&amp;gt;(DatabaseDescriptor.java:122)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:151)
	at org.apache.cassandra.service.CassandraDaemon.init(CassandraDaemon.java:315)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.commons.daemon.support.DaemonLoader.load(DaemonLoader.java:212)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:532)
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:457)
	... 10 more
Caused by: java.lang.ExceptionInInitializerError
	at org.apache.cassandra.locator.Ec2Snitch.&amp;lt;init&amp;gt;(Ec2Snitch.java:65)
	... 15 more
Caused by: java.lang.RuntimeException: Unable to read cassandra-rackdc.properties
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:39)
	... 16 more
Caused by: java.lang.NullPointerException
	at java.util.Properties$LineReader.readLine(Properties.java:435)
	at java.util.Properties.load0(Properties.java:354)
	at java.util.Properties.load(Properties.java:342)
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:35)
	... 16 more
Error instantiating snitch class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.locator.Ec2Snitch&apos;&lt;/span&gt;.
Fatal configuration error; unable to start server.  See log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stacktrace.
Service exit with a &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;system.log&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO [main] 2013-01-31 21:25:05,016 CassandraDaemon.java (line 123) JVM vendor/version: OpenJDK 64-Bit Server VM/1.6.0_24
&amp;lt;SNIP&amp;gt;
ERROR [main] 2013-01-31 21:24:52,028 DatabaseDescriptor.java (line 509) Fatal configuration error
org.apache.cassandra.exceptions.ConfigurationException: Error instantiating snitch class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.locator.Ec2Snitch&apos;&lt;/span&gt;.
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:475)
	at org.apache.cassandra.config.DatabaseDescriptor.createEndpointSnitch(DatabaseDescriptor.java:525)
	at org.apache.cassandra.config.DatabaseDescriptor.loadYaml(DatabaseDescriptor.java:338)
	at org.apache.cassandra.config.DatabaseDescriptor.&amp;lt;clinit&amp;gt;(DatabaseDescriptor.java:122)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:151)
	at org.apache.cassandra.service.CassandraDaemon.init(CassandraDaemon.java:315)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.commons.daemon.support.DaemonLoader.load(DaemonLoader.java:212)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:532)
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:457)
	... 10 more
Caused by: java.lang.ExceptionInInitializerError
	at org.apache.cassandra.locator.Ec2Snitch.&amp;lt;init&amp;gt;(Ec2Snitch.java:65)
	... 15 more
Caused by: java.lang.RuntimeException: Unable to read cassandra-rackdc.properties
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:39)
	... 16 more
Caused by: java.lang.NullPointerException
	at java.util.Properties$LineReader.readLine(Properties.java:435)
	at java.util.Properties.load0(Properties.java:354)
	at java.util.Properties.load(Properties.java:342)
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:35)
	... 16 more
&amp;lt;SNIP&amp;gt;
 INFO [main] 2013-01-31 21:25:06,656 DatabaseDescriptor.java (line 267) Global memtable threshold is enabled at 407MB
ERROR [main] 2013-01-31 21:25:06,684 DatabaseDescriptor.java (line 509) Fatal configuration error
org.apache.cassandra.exceptions.ConfigurationException: Error instantiating snitch class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.cassandra.locator.Ec2Snitch&apos;&lt;/span&gt;.
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:475)
	at org.apache.cassandra.config.DatabaseDescriptor.createEndpointSnitch(DatabaseDescriptor.java:525)
	at org.apache.cassandra.config.DatabaseDescriptor.loadYaml(DatabaseDescriptor.java:338)
	at org.apache.cassandra.config.DatabaseDescriptor.&amp;lt;clinit&amp;gt;(DatabaseDescriptor.java:122)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:151)
	at org.apache.cassandra.service.CassandraDaemon.init(CassandraDaemon.java:315)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.commons.daemon.support.DaemonLoader.load(DaemonLoader.java:212)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:532)
	at org.apache.cassandra.utils.FBUtilities.construct(FBUtilities.java:457)
	... 10 more
Caused by: java.lang.ExceptionInInitializerError
	at org.apache.cassandra.locator.Ec2Snitch.&amp;lt;init&amp;gt;(Ec2Snitch.java:65)
	... 15 more
Caused by: java.lang.RuntimeException: Unable to read cassandra-rackdc.properties
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:39)
	... 16 more
Caused by: java.lang.NullPointerException
	at java.util.Properties$LineReader.readLine(Properties.java:435)
	at java.util.Properties.load0(Properties.java:354)
	at java.util.Properties.load(Properties.java:342)
	at org.apache.cassandra.locator.SnitchProperties.&amp;lt;clinit&amp;gt;(SnitchProperties.java:35)
	... 16 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Ubuntu 12.04 x64&lt;br/&gt;
OpenJDK 64-Bit Server VM/1.6.0_24&lt;br/&gt;
m1.large EC2 Instance&lt;/p&gt;

&lt;p&gt;MAX_HEAP_SIZE=&quot;1242M&quot;&lt;br/&gt;
HEAP_NEWSIZE=&quot;200M&quot;&lt;/p&gt;</environment>
        <key id="12630222">CASSANDRA-5212</key>
            <summary>Unable to start when using Ec2Snitch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vijay2win@yahoo.com">Vijay</assignee>
                                    <reporter username="jared.biel@bolderthinking.com">Jared Biel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jan 2013 21:37:28 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:18 +0000</updated>
                            <resolved>Fri, 1 Feb 2013 20:38:28 +0000</resolved>
                                                            <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13568241" author="jbellis" created="Thu, 31 Jan 2013 23:34:37 +0000"  >&lt;p&gt;It tells you what the problem is:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.RuntimeException: Unable to read cassandra-rackdc.properties&lt;/p&gt;</comment>
                            <comment id="13568250" author="jared.biel@bolderthinking.com" created="Thu, 31 Jan 2013 23:51:17 +0000"  >&lt;p&gt;Thanks - I didn&apos;t see that needle in the (hay) stack. It looks like as a result of &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-5155&quot; title=&quot;Make Ec2Region&amp;#39;s datacenter name configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-5155&quot;&gt;&lt;del&gt;CASSANDRA-5155&lt;/del&gt;&lt;/a&gt; the file cassandra-rackdc.properties is now required to be in /etc/cassandra. However, this file is not distributed with the standard Debian Cassandra package. Maybe this should be documented in cassandra.yaml or the file should be distributed as part of the Debian package? Thanks for your help.&lt;/p&gt;</comment>
                            <comment id="13568254" author="jbellis" created="Thu, 31 Jan 2013 23:54:11 +0000"  >&lt;p&gt;Hmm, yes.  We should make it optional and/or add to the debian package.&lt;/p&gt;</comment>
                            <comment id="13568712" author="brandon.williams" created="Fri, 1 Feb 2013 12:42:04 +0000"  >&lt;p&gt;+1, but instead of silently swallowing the exception maybe a WARN would be more appropriate.&lt;/p&gt;</comment>
                            <comment id="13568724" author="jasobrown" created="Fri, 1 Feb 2013 13:02:36 +0000"  >&lt;p&gt;I agree with @driftx that we should add the WARN statement. Otherwise, +1&lt;/p&gt;</comment>
                            <comment id="13569055" author="vijay2win@yahoo.com" created="Fri, 1 Feb 2013 20:38:28 +0000"  >&lt;p&gt;Committed to 1.1, 1.2 and trunk, Thanks Brandon...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12630463">CASSANDRA-5215</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12567467" name="0001-CASSANDRA-5212.patch" size="2533" author="vijay2win@yahoo.com" created="Fri, 1 Feb 2013 00:39:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[vijay2win@yahoo.com]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hmg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>brandon.williams</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>