<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:17:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-16121] Circleci should run cqlshlib tests as well</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-16121</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;Currently circleci is not running cqlshlib tests. This resulted in some bugs not being caught before committing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13326834">CASSANDRA-16121</key>
            <summary>Circleci should run cqlshlib tests as well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10002" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Normal</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bereng">Berenguer Blasi</assignee>
                                    <reporter username="bereng">Berenguer Blasi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Sep 2020 10:20:25 +0000</created>
                <updated>Fri, 10 Oct 2025 08:47:57 +0000</updated>
                            <resolved>Thu, 5 Nov 2020 23:44:07 +0000</resolved>
                                        <fixVersion>4.0-beta4</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>CI</component>
                    <component>Test/unit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17195187" author="bereng" created="Mon, 14 Sep 2020 05:23:33 +0000"  >&lt;p&gt;CI results in PR.&lt;/p&gt;</comment>
                            <comment id="17196154" author="edimitrova" created="Tue, 15 Sep 2020 13:36:32 +0000"  >&lt;p&gt;I am wondering do we know why they were not included before?&#160;&lt;/p&gt;

&lt;p&gt;I will make a review pass later today.&#160;&lt;/p&gt;</comment>
                            <comment id="17196207" author="bereng" created="Tue, 15 Sep 2020 14:56:50 +0000"  >&lt;p&gt;I don&apos;t know tbh. I just found a failure in ci-cass that I couldn&apos;t repro on circle and found out that it was just they weren&apos;t being ran :shrug:&lt;/p&gt;</comment>
                            <comment id="17196586" author="dcapwell" created="Tue, 15 Sep 2020 23:25:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am wondering do we know why they were not included before? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djoshi&quot; class=&quot;user-hover&quot; rel=&quot;djoshi&quot;&gt;djoshi&lt;/a&gt; can you answer?&lt;/p&gt;</comment>
                            <comment id="17196621" author="edimitrova" created="Wed, 16 Sep 2020 02:14:53 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-10190&quot; title=&quot;Python 3 support for cqlsh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-10190&quot;&gt;&lt;del&gt;CASSANDRA-10190&lt;/del&gt;&lt;/a&gt; all cql related python tests were updated to run with both python 2&amp;amp;3 and jobs were added to circleci but I think the in-tree tests might have been missed. I will check better tomorrow on the laptop(locked myself out of my apartment and now trying to do some stuff from my phone to distract myself from the situation&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;). Meanwhile, did you test with different resources how much time it takes?&lt;/p&gt;

&lt;p&gt;Also, I saw you set large resource_class for j8 and medium for j11 for the MIDRES? Was this a copy-paste issue or there is any reason I missed?&lt;/p&gt;

&lt;p&gt;What is the difference in duration between medium and large resource class usage?&#160;&lt;br/&gt;
 Also, I am curious, do the tests manage to run properly with medium resources?&#160;&lt;/p&gt;</comment>
                            <comment id="17196624" author="edimitrova" created="Wed, 16 Sep 2020 02:21:18 +0000"  >&lt;p&gt;Actually, I just saw in CircleCI your test run, you are using medium resources to run both j8 and j11 and the test run duration is 5 minutes so I suggest not to spend credits on the large resources with MIDRES, WDYT?&lt;/p&gt;</comment>
                            <comment id="17196628" author="edimitrova" created="Wed, 16 Sep 2020 02:27:05 +0000"  >&lt;p&gt;Change large resources to medium for the MIDRES&lt;/p&gt;</comment>
                            <comment id="17196673" author="bereng" created="Wed, 16 Sep 2020 04:50:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; if I managed to follow the steps correctly that &lt;tt&gt;large&lt;/tt&gt; on &lt;tt&gt;MIDRES&lt;/tt&gt; is down to what &lt;tt&gt;generate.sh&lt;/tt&gt; produces.&lt;/p&gt;</comment>
                            <comment id="17196684" author="bereng" created="Wed, 16 Sep 2020 05:23:00 +0000"  >&lt;p&gt;New CI results in PR available. Everything is good with &lt;tt&gt;medium&lt;/tt&gt; on j8 as expected.&lt;/p&gt;</comment>
                            <comment id="17196979" author="edimitrova" created="Wed, 16 Sep 2020 13:34:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for the update, can you also update the patch files, please? I think at least the HIGHRES needs an update for the large resources?&lt;/p&gt;</comment>
                            <comment id="17197591" author="bereng" created="Thu, 17 Sep 2020 10:16:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; I updated both patch files. But notice the following which ties to your original comment about using too large resources:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;config21 uses &lt;tt&gt;j8_small_par_executor&lt;/tt&gt; &lt;a href=&quot;https://github.com/bereng/cassandra/blob/CASSANDRA-16121/.circleci/config-2_1.yml#L399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;j8_small_par_executor&lt;/tt&gt; is patched to &lt;tt&gt;large&lt;/tt&gt; and parallelism of &lt;tt&gt;10&lt;/tt&gt; &lt;a href=&quot;https://github.com/bereng/cassandra/blob/trunk/.circleci/config-2_1.yml.mid_res.patch#L19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So my original commit was correct when generating &apos;large &amp;amp; 10&apos; (it is what the patch does) Shouldn&apos;t we instead change the patch to redefine &lt;tt&gt;j8_small_par_executor&lt;/tt&gt; to &apos;medium &amp;amp; 1&apos;?&lt;/p&gt;</comment>
                            <comment id="17199735" author="edimitrova" created="Tue, 22 Sep 2020 01:47:48 +0000"  >&lt;p&gt;I saw that&#160; j8_small_par_executor is used by the in-jvm tests so we shouldn&apos;t change it as this will unfortunately reflect them. I checked, there is no annotation for &apos;medium&amp;amp;1&apos; so we can just create one (&apos;j8_small_executor&apos; or something) to be used by the new job. That should be fine.&#160;&lt;/p&gt;</comment>
                            <comment id="17199912" author="bereng" created="Tue, 22 Sep 2020 07:59:18 +0000"  >&lt;p&gt;I added that new executor and updated the files. I will now run small, medium and high to make sure the 3 still work and then we should be able to merge.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Small:  &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/121/workflows/7d278dce-3f13-46f0-bde2-79dcf61c6ad1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/121/workflows/6bba245b-ac4d-426a-9041-c90571070d51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;: OOM on the final test report which is a known problem, otherwise LGTM.&lt;/li&gt;
	&lt;li&gt;Medium &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/123/workflows/16aa4612-4a27-4bea-bebf-97efeef56353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/123/workflows/c261dcdb-d878-4d66-afa6-5791d01dc45d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; Failures look unrelated or known to fail. LGTM&lt;/li&gt;
	&lt;li&gt;High &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/125/workflows/69b234d0-dc70-4dd7-850a-23cb20ba4891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/125/workflows/2e2143f0-6750-4579-b301-9c6747df1aa4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt; Same as prevoius. LGTM&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17200876" author="bereng" created="Wed, 23 Sep 2020 15:01:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; squashed and you can see in the previous message low, mid and high CI runs. Feel free to butcher it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17201149" author="edimitrova" created="Wed, 23 Sep 2020 22:42:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;, I left some small comments on github, maybe during squash something went wrong with the patch files. Please check them. Thanks&lt;/p&gt;</comment>
                            <comment id="17201281" author="bereng" created="Thu, 24 Sep 2020 05:44:30 +0000"  >&lt;p&gt;Replied in GH. LGTM it&apos;s just &lt;tt&gt;diff&lt;/tt&gt; &apos;noise&apos; making things hard to follow iiuc what you meant.&lt;/p&gt;</comment>
                            <comment id="17203877" author="bereng" created="Tue, 29 Sep 2020 12:02:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; executors are now in the original config-2.1 file:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Low: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/129/workflows/42ede6ff-d809-42f3-b143-3945003539a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/129/workflows/10497110-d938-4500-8ef3-eb3d0e815b6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Medium: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/130/workflows/ee08a837-0710-40c8-bb26-cad7b2e20891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/130/workflows/94de5698-26b5-467d-afe4-c8b284d52d50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;High: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/131/workflows/5d7b1a6e-fd7b-47d9-932c-cabc8194a644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j11&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/131/workflows/893ae53b-0744-4568-ae41-993a9c1fdcd5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;j8&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17206155" author="edimitrova" created="Fri, 2 Oct 2020 13:08:59 +0000"  >&lt;p&gt;Thank you for your work.&lt;/p&gt;

&lt;p&gt;One last thing to add and I will +1. Artifacts are not stored.&lt;/p&gt;

&lt;p&gt;Otherwise I apply the patch and the only thing I see is this line but the patch applies properly so it doesn&apos;t look as an issue?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
missing header &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; unified diff at line 1 of patch&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Also, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;, you mentioned this line doesn&apos;t appear on your machine...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt;, can you also check it, please?&lt;/p&gt;</comment>
                            <comment id="17206158" author="bereng" created="Fri, 2 Oct 2020 13:13:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; iirc the only thing that survives the execution of the sh script is the xml junit results file. So there are no other artifacts to store available. You get the logs in stdout and the junit results but nothing else.&lt;/p&gt;

&lt;p&gt;Also yes the patch applies cleanly for me.&lt;/p&gt;</comment>
                            <comment id="17212984" author="bereng" created="Tue, 13 Oct 2020 09:13:26 +0000"  >&lt;p&gt;Waiting for committer review.&lt;/p&gt;</comment>
                            <comment id="17218589" author="dcapwell" created="Wed, 21 Oct 2020 20:50:14 +0000"  >&lt;p&gt;I can start reviewing.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; did you +1 or still pending?  I read your comment as pending?&lt;/p&gt;</comment>
                            <comment id="17218600" author="dcapwell" created="Wed, 21 Oct 2020 21:05:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt; I see Jenkins runs these tests and is green, yet the test results linked are failing with different test names&lt;/p&gt;

&lt;p&gt;Jenkins: &lt;a href=&quot;https://ci-cassandra.apache.org/view/Cassandra%204.0/job/Cassandra-trunk-cqlsh-tests/lastCompletedBuild/cython=no,jdk=jdk_1.8_latest,label=cassandra/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/view/Cassandra%204.0/job/Cassandra-trunk-cqlsh-tests/lastCompletedBuild/cython=no,jdk=jdk_1.8_latest,label=cassandra/testReport/&lt;/a&gt;&lt;br/&gt;
Jenkins build def: &lt;a href=&quot;https://github.com/apache/cassandra-builds/blob/6d556fe8873296c0a48f747bd9855e462193252d/jenkins-dsl/cassandra_job_dsl_seed.groovy#L344&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra-builds/blob/6d556fe8873296c0a48f747bd9855e462193252d/jenkins-dsl/cassandra_job_dsl_seed.groovy#L344&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Circle CI: &lt;a href=&quot;https://app.circleci.com/pipelines/github/bereng/cassandra/129/workflows/10497110-d938-4500-8ef3-eb3d0e815b6e/jobs/1053/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.circleci.com/pipelines/github/bereng/cassandra/129/workflows/10497110-d938-4500-8ef3-eb3d0e815b6e/jobs/1053/tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17218601" author="dcapwell" created="Wed, 21 Oct 2020 21:07:34 +0000"  >&lt;p&gt;Left comments in PR, but won&apos;t to know why this acts differently than Jenkins, if you could look into that it would be great (we don&apos;t archive the test xml so I can&apos;t view it).&lt;/p&gt;</comment>
                            <comment id="17218604" author="dcapwell" created="Wed, 21 Oct 2020 21:14:46 +0000"  >&lt;p&gt;Talking to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; in slack she showed me how to find all tests that ran and I was also looking at Jenkins wrong; here is the test results in Jenkins for the test that failed: &lt;a href=&quot;https://ci-cassandra.apache.org/view/Cassandra%204.0/job/Cassandra-trunk-cqlsh-tests/lastCompletedBuild/cython=no,jdk=jdk_1.8_latest,label=cassandra/testReport/cqlshlib.python3.jdk8.no_cython.test.test_cqlsh_output/TestCqlshOutput/test_describe_cluster_output/history/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-cassandra.apache.org/view/Cassandra%204.0/job/Cassandra-trunk-cqlsh-tests/lastCompletedBuild/cython=no,jdk=jdk_1.8_latest,label=cassandra/testReport/cqlshlib.python3.jdk8.no_cython.test.test_cqlsh_output/TestCqlshOutput/test_describe_cluster_output/history/&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;In Jenkins this test isn&apos;t flaky, so wondering why it failed here.&lt;/p&gt;</comment>
                            <comment id="17218733" author="bereng" created="Thu, 22 Oct 2020 04:32:13 +0000"  >&lt;p&gt;Correct, those are 2 diff sets of tests.&lt;/p&gt;

&lt;p&gt;At the time of this PR `test_describe_cluster_output` was failing (&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-16098&quot; title=&quot;TestCqlshOutput.test_describe_cluster_output flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-16098&quot;&gt;&lt;del&gt;CASSANDRA-16098&lt;/del&gt;&lt;/a&gt;) but wasn&apos;t getting reported in jenkins, this is what trigerred me raising this ticket. So this SHA fails this test and you can run it locally to doublecheck. It is not fixed/rebased in this PR bc I needed a failing test to see that circleci was reporting failures correctly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Should we rebase and run a new circleci/jenkins and then we have confirmation it A. reports failures B. now passes green?&lt;/p&gt;

&lt;p&gt;Edit: That was a silly question lol. Rebased as it was an old PR, pushed and new CI passing green in the PR. Now we know both it&apos;s green and does indeed report failures.&lt;/p&gt;</comment>
                            <comment id="17219001" author="edimitrova" created="Thu, 22 Oct 2020 13:20:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;&lt;br/&gt;
I saw one discussion in the PR which I believe It is quite important so I will leave a comment in the ticket for visibility.&lt;br/&gt;
Currently no tests  are started automatically in Java 11.&lt;br/&gt;
I would like to encourage people to always run at least the unit and in-jvm tests for Java 11. IMO that is the only stable way to move Java 11 out of being only experimental. &lt;br/&gt;
Now, one can argue that sometimes in circle we test something quick before final submission and we want a quick j8 check only but I think most of the time people run the full CI in Circle/Jenkins for a patch in final/almost final state&lt;br/&gt;
While we still don&apos;t have Java 11 in Jenkins, we need to be sure at least in Circle we have always at least a minimal coverage, personal opinion. Feel free to disagree &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="17219443" author="bereng" created="Fri, 23 Oct 2020 03:39:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-15944&quot; title=&quot;ASF CI unit tests on JDK11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-15944&quot;&gt;&lt;del&gt;CASSANDRA-15944&lt;/del&gt;&lt;/a&gt; has been merged recently #justfyi&lt;/p&gt;</comment>
                            <comment id="17223035" author="dcapwell" created="Thu, 29 Oct 2020 16:54:31 +0000"  >&lt;p&gt;sorry for the delay, been overloaded. &#160;I should be able to get to this Friday.&lt;/p&gt;</comment>
                            <comment id="17226328" author="dcapwell" created="Wed, 4 Nov 2020 18:22:35 +0000"  >&lt;p&gt;sorry for the delay, starting back today.&lt;/p&gt;</comment>
                            <comment id="17226336" author="dcapwell" created="Wed, 4 Nov 2020 18:38:14 +0000"  >&lt;p&gt;Overall +1 from me, only small comment about keeping the logs&lt;/p&gt;</comment>
                            <comment id="17226373" author="edimitrova" created="Wed, 4 Nov 2020 20:04:40 +0000"  >&lt;p&gt;+1 as soon as David&apos;s comment is addressed and the logs are added, thank you for spotting the absence and adding the tests&lt;/p&gt;</comment>
                            <comment id="17226498" author="bereng" created="Thu, 5 Nov 2020 05:31:22 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; thx for looking into this. Unfortunately logs are not reachable atm so that is food for another ticket imo. Details in the PR.&lt;/p&gt;</comment>
                            <comment id="17226880" author="dcapwell" created="Thu, 5 Nov 2020 17:36:06 +0000"  >&lt;p&gt;thanks for replying &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;, LGTM, will commit today (unless &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=e.dimitrova&quot; class=&quot;user-hover&quot; rel=&quot;e.dimitrova&quot;&gt;e.dimitrova&lt;/a&gt; has anything open).&lt;/p&gt;</comment>
                            <comment id="17227073" author="dcapwell" created="Thu, 5 Nov 2020 23:14:43 +0000"  >&lt;p&gt;CI Results: Yellow, seems these tests can be flaky.&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Branch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Source&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Circle CI&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Jenkins&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;trunk&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://github.com/dcapwell/cassandra/tree/commit_remote_branch/CASSANDRA-16121-trunk-13B96DF0-43D0-4161-977E-5D1FEFDE4DE8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;branch&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;a href=&quot;https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=commit_remote_branch%2FCASSANDRA-16121-trunk-13B96DF0-43D0-4161-977E-5D1FEFDE4DE8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;build&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;build|unknown&amp;#93;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="17227075" author="dcapwell" created="Thu, 5 Nov 2020 23:19:01 +0000"  >&lt;p&gt;testing out commit but used a slight change; seems that the commit was reverting the python dtest change to use the trunk branch, so corrected that.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/.circleci/config.yml.MIDRES b/.circleci/config.yml.MIDRES
index 691cc2886f..823a550e04 100644
--- a/.circleci/config.yml.MIDRES
+++ b/.circleci/config.yml.MIDRES
@@ -1459,7 +1459,7 @@ jobs:
     - CASS_DRIVER_NO_CYTHON: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
     - CASSANDRA_SKIP_SYNC: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
     - DTEST_REPO: git:&lt;span class=&quot;code-comment&quot;&gt;//github.com/apache/cassandra-dtest.git
&lt;/span&gt;-    - DTEST_BRANCH: master
+    - DTEST_BRANCH: trunk
     - CCM_MAX_HEAP_SIZE: 1024M
     - CCM_HEAP_NEWSIZE: 256M
     - JAVA_HOME: /usr/lib/jvm/java-11-openjdk-amd64
@@ -2002,7 +2002,7 @@ jobs:
     - CASS_DRIVER_NO_CYTHON: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
     - CASSANDRA_SKIP_SYNC: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
     - DTEST_REPO: git:&lt;span class=&quot;code-comment&quot;&gt;//github.com/apache/cassandra-dtest.git
&lt;/span&gt;-    - DTEST_BRANCH: master
+    - DTEST_BRANCH: trunk
     - CCM_MAX_HEAP_SIZE: 1024M
     - CCM_HEAP_NEWSIZE: 256M
     - JAVA_HOME: /usr/lib/jvm/java-8-openjdk-amd64
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17227083" author="dcapwell" created="Thu, 5 Nov 2020 23:45:28 +0000"  >&lt;p&gt;Saw test failures, but they pass the next time or on the other jdk pipeline.  Since this patch just runs them and didn&apos;t change them, I committed knowing that this will cause more flaky tests; can&apos;t fix if we don&apos;t know them.&lt;/p&gt;

&lt;p&gt;Thanks for your work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Bereng&quot; class=&quot;user-hover&quot; rel=&quot;bereng&quot;&gt;Bereng&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17227168" author="bereng" created="Fri, 6 Nov 2020 05:03:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dcapwell&quot; class=&quot;user-hover&quot; rel=&quot;dcapwell&quot;&gt;dcapwell&lt;/a&gt; thanks for looking into this one. Yes that&apos;s the point running these tests. If there are hidden flakies they will surface now. Also as this hadn&apos;t been rebased in a long time good catch changing &apos;master&apos; to &apos;trunk&apos; after the recent change in branch names.&lt;/p&gt;

&lt;p&gt;One question: Why was the fixVersion removed?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13209050">CASSANDRA-14975</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13376767">CASSANDRA-16655</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13325853">CASSANDRA-16098</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13301623">CASSANDRA-15769</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[bereng]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12313825" key="com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect">
                        <customfieldname>Bug Category</customfieldname>
                        <customfieldvalues>
                                                    <customfieldvalue key="12982" cascade-level=""><![CDATA[Correctness]]></customfieldvalue>
            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313821" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12965"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313822" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Discovered By</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12969"><![CDATA[User Report]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12313922" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Impacts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13100"><![CDATA[None]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12313921" key="jira.plugin.projectspecificselectfield.jpssf:multicftype">
                        <customfieldname>Platform</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="13076"><![CDATA[All]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ih74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[dcapwell]]></customfieldvalue>
        <customfieldvalue><![CDATA[e.dimitrova]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12962"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311420" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Since Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12348835">NA</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313924" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Source Control Link</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/cassandra/commit/0700d795bcc4d79c3f2e52872ac865fa735917d8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/cassandra/commit/0700d795bcc4d79c3f2e52872ac865fa735917d8&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313823" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Test and Documentation Plan</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;See PR&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>