<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:50:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-8365] CamelCase name is used as index name instead of lowercase</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-8365</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;In cqlsh, when I execute a CREATE INDEX FooBar ... statement, the CamelCase name is used as index name, even though it is unquoted. Trying to quote the index name results in a syntax error.&lt;/p&gt;

&lt;p&gt;However, when I try to delete the index, I have to quote the index name, otherwise I get an invalid-query error telling me that the index (lowercase) does not exist.&lt;/p&gt;

&lt;p&gt;This seems inconsistent.  Shouldn&apos;t the index name be lowercased before the index is created ?&lt;/p&gt;

&lt;p&gt;Here is the code to reproduce the issue :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cqlsh:schemabuilderit&amp;gt; CREATE TABLE IndexTest (a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; primary key, b &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
cqlsh:schemabuilderit&amp;gt; CREATE INDEX FooBar on indextest (b);
cqlsh:schemabuilderit&amp;gt; DESCRIBE TABLE indextest ;

CREATE TABLE schemabuilderit.indextest (
    a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; PRIMARY KEY,
    b &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
) ........;
CREATE INDEX FooBar ON schemabuilderit.indextest (b);

cqlsh:schemabuilderit&amp;gt; DROP INDEX FooBar;
code=2200 [Invalid query] message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Index &lt;span class=&quot;code-quote&quot;&gt;&apos;foobar&apos;&lt;/span&gt; could not be found in any of the tables of keyspace &lt;span class=&quot;code-quote&quot;&gt;&apos;schemabuilderit&apos;&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12757102">CASSANDRA-8365</key>
            <summary>CamelCase name is used as index name instead of lowercase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10003" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Low</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blerer">Benjamin Lerer</assignee>
                                    <reporter username="pingtimeout">Pierre Laporte</reporter>
                        <labels>
                            <label>cqlsh</label>
                            <label>docs</label>
                    </labels>
                <created>Fri, 21 Nov 2014 22:40:31 +0000</created>
                <updated>Tue, 16 Apr 2019 09:31:27 +0000</updated>
                            <resolved>Thu, 8 Jan 2015 17:28:44 +0000</resolved>
                                        <fixVersion>2.1.3</fixVersion>
                                    <component>Legacy/CQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14223214" author="philipthompson" created="Mon, 24 Nov 2014 18:04:41 +0000"  >&lt;p&gt;What Cassandra version were you running &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pingtimeout&quot; class=&quot;user-hover&quot; rel=&quot;pingtimeout&quot;&gt;pingtimeout&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14223328" author="pingtimeout" created="Mon, 24 Nov 2014 19:12:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=philipthompson&quot; class=&quot;user-hover&quot; rel=&quot;philipthompson&quot;&gt;philipthompson&lt;/a&gt; I am using 2.1.2&lt;/p&gt;</comment>
                            <comment id="14234598" author="philipthompson" created="Thu, 4 Dec 2014 20:38:47 +0000"  >&lt;p&gt;I can reproduce this inconsistent behavior through the python driver, so it may not stricly be a cqlsh problem.&lt;/p&gt;</comment>
                            <comment id="14248328" author="blerer" created="Tue, 16 Dec 2014 14:51:08 +0000"  >&lt;p&gt;The patch changes the way index names are handled in &lt;tt&gt;Cql.g&lt;/tt&gt; and in &lt;tt&gt;cql3handling.py&lt;/tt&gt; and add unit tests to verify the behaviour.&lt;/p&gt;</comment>
                            <comment id="14248330" author="blerer" created="Tue, 16 Dec 2014 14:52:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thobbs&quot; class=&quot;user-hover&quot; rel=&quot;thobbs&quot;&gt;thobbs&lt;/a&gt; could you review? &lt;/p&gt;</comment>
                            <comment id="14249198" author="thobbs" created="Wed, 17 Dec 2014 00:12:52 +0000"  >&lt;p&gt;It looks like this removes support for specifying a keyspace name when dropping an index, as added in &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7314&quot; title=&quot;Add keyspace option to DROP INDEX statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7314&quot;&gt;&lt;del&gt;CASSANDRA-7314&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14249624" author="blerer" created="Wed, 17 Dec 2014 08:30:58 +0000"  >&lt;p&gt;Thanks fo pointing me to &lt;a href=&quot;https://issues.apache.org/jira/browse/CASSANDRA-7314&quot; title=&quot;Add keyspace option to DROP INDEX statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CASSANDRA-7314&quot;&gt;&lt;del&gt;CASSANDRA-7314&lt;/del&gt;&lt;/a&gt;. The code was confusing for me due to the difference between &lt;tt&gt;CreateIndexStatement&lt;/tt&gt; and &lt;tt&gt;DropIndexStatement&lt;/tt&gt; (and my MySQL experience where an index is associated to a table). I should have looked for the ticket.&lt;/p&gt;</comment>
                            <comment id="14253871" author="thobbs" created="Fri, 19 Dec 2014 19:33:06 +0000"  >&lt;p&gt;I believe this is ready to commit, but it looks like we need to patch 2.0 as well.  Sorry, should have noticed that earlier.&lt;/p&gt;</comment>
                            <comment id="14264365" author="blerer" created="Mon, 5 Jan 2015 08:57:52 +0000"  >&lt;p&gt;I had a look at the code. In 2.0 the index names are case sensitive and quoted names are not supported but the behavior is consistent between create and drop statement. I tested the example mentioned in the description and I was able to delete the index successfully.&lt;/p&gt;

&lt;p&gt;If we change the code for 2.0 we might introduce some problems for the users with existing indices. They will suddently have to quote some of their index names to be able to drop them.&lt;/p&gt;

&lt;p&gt;I would be in favor of letting 2.0 as such and fixing only 2.1+ where the behavior is really broken.&lt;/p&gt;</comment>
                            <comment id="14268086" author="thobbs" created="Wed, 7 Jan 2015 19:38:02 +0000"  >&lt;p&gt;Ah, you are correct about the 2.0 behavior, it seems I was mistaken.  I agree about leaving 2.0 as it is.&lt;/p&gt;

&lt;p&gt;+1, committed to 2.1 as 68be72f.&lt;/p&gt;</comment>
                            <comment id="14268199" author="thobbs" created="Wed, 7 Jan 2015 20:54:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blerer&quot; class=&quot;user-hover&quot; rel=&quot;blerer&quot;&gt;blerer&lt;/a&gt; it looks like the tests are breaking in trunk due to the keyspace not being handled properly: &lt;a href=&quot;http://cassci.datastax.com/job/trunk_utest/1267/testReport/junit/org.apache.cassandra.cql3/CreateIndexStatementTest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassci.datastax.com/job/trunk_utest/1267/testReport/junit/org.apache.cassandra.cql3/CreateIndexStatementTest/&lt;/a&gt;.  I took a look to see if it would be a quick fix, but it doesn&apos;t appear to be, so I&apos;ve reopened this.&lt;/p&gt;</comment>
                            <comment id="14269030" author="blerer" created="Thu, 8 Jan 2015 09:18:06 +0000"  >&lt;p&gt;This patch is a fix for the &lt;tt&gt;CreateIndexStatementTest&lt;/tt&gt; of trunk.&lt;/p&gt;</comment>
                            <comment id="14269707" author="thobbs" created="Thu, 8 Jan 2015 17:28:44 +0000"  >&lt;p&gt;Ah, I missed that &lt;tt&gt;dropIndex()&lt;/tt&gt; was setting the keyspace to &lt;tt&gt;system&lt;/tt&gt;.  Thanks for the fix, committed!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12758353">CASSANDRA-8393</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12688058" name="CASSANDRA-8365-V2.txt" size="16996" author="blerer" created="Thu, 18 Dec 2014 16:24:43 +0000"/>
                            <attachment id="12690761" name="CASSANDRA-8365-trunk-unittests-fix.txt" size="1028" author="blerer" created="Thu, 8 Jan 2015 09:18:06 +0000"/>
                            <attachment id="12687501" name="CASSANDRA-8365.txt" size="12896" author="blerer" created="Tue, 16 Dec 2014 14:51:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[blerer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22o8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311421" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Reproduced In</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12328841">2.1.2</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thobbs</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[thobbs]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12961"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>