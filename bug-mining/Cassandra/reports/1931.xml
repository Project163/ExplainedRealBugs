<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 22:36:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CASSANDRA-5009] RangeStreamer has no way to report failures, allowing bootstrap/move etc to complete without data</title>
                <link>https://issues.apache.org/jira/browse/CASSANDRA-5009</link>
                <project id="12310865" key="CASSANDRA">Apache Cassandra</project>
                    <description>&lt;p&gt;It looks like we fixed this for 1.2 by having RS.fetch() throw, but in 1.1 it does not and there doesn&apos;t appear to be a way to detect an RS failure, which among other things will cause bootstrap to succeed even though it failed to fetch any data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618363">CASSANDRA-5009</key>
            <summary>RangeStreamer has no way to report failures, allowing bootstrap/move etc to complete without data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10000" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Urgent</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brandon.williams">Brandon Williams</assignee>
                                    <reporter username="brandon.williams">Brandon Williams</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Nov 2012 18:59:30 +0000</created>
                <updated>Tue, 16 Apr 2019 09:32:22 +0000</updated>
                            <resolved>Mon, 3 Dec 2012 20:33:24 +0000</resolved>
                                        <fixVersion>1.1.8</fixVersion>
                    <fixVersion>1.2.0 beta 3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13507577" author="brandon.williams" created="Fri, 30 Nov 2012 19:25:56 +0000"  >&lt;p&gt;Actually we haven&apos;t completely fixed this in 1.2, because we rely on the FD notification to fail but use phi * 2 to avoid a premature costly repair abortion, but the streaming can fail out before that and thus fetch() will never raise an exception.&lt;/p&gt;</comment>
                            <comment id="13507720" author="brandon.williams" created="Fri, 30 Nov 2012 22:32:40 +0000"  >&lt;p&gt;Patch to maintain a set of completed ranges, then check at the end that every range was successful or raise an exception.&lt;/p&gt;

&lt;p&gt;This patch is against 1.1, but I&apos;ll note that when merged RangeStreamer should look exactly the same.  That is to say, all the FD business will be removed, as I can&apos;t figure out how it makes any sense to check the FD at all since we&apos;re going to block on the streaming latch first.  If any ranges (not necessarily streams) failed, then it&apos;s time to bail regardless of the FD, and if the FD does convict before that it won&apos;t break us out of the latch wait.&lt;/p&gt;</comment>
                            <comment id="13508936" author="yukim" created="Mon, 3 Dec 2012 18:50:09 +0000"  >&lt;p&gt;two comments on the patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;looks like exceptionMessage is not used anywhere&lt;/li&gt;
	&lt;li&gt;I think &lt;em&gt;completed&lt;/em&gt; needs to be synchronized and &lt;em&gt;completed.addAll(ranges)&lt;/em&gt; should be placed before &lt;em&gt;latch.countDown()&lt;/em&gt;, otherwise we have chance to get incomplete completed set.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13508946" author="brandon.williams" created="Mon, 3 Dec 2012 19:01:50 +0000"  >&lt;p&gt;Oops, exceptionMessage was a vestige from my initial attempt at backporting the 1.2 version before I discovered it was flawed too.&lt;/p&gt;

&lt;p&gt;Updated patch removes that, moves the addAll call before the latch countdown, and initiates the set with a concurrent hash map.&lt;/p&gt;</comment>
                            <comment id="13508981" author="yukim" created="Mon, 3 Dec 2012 19:52:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13509018" author="brandon.williams" created="Mon, 3 Dec 2012 20:33:24 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12607156">CASSANDRA-4651</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12555808" name="5009-v2.txt" size="4566" author="brandon.williams" created="Mon, 3 Dec 2012 19:01:50 +0000"/>
                            <attachment id="12555577" name="5009.txt" size="4473" author="brandon.williams" created="Fri, 30 Nov 2012 22:32:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313920" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Authors</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[brandon.williams]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0srn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>yukim</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313420" key="com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker">
                        <customfieldname>Reviewers</customfieldname>
                        <customfieldvalues>
                                    <customfieldvalue><![CDATA[yukim]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313820" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="12963"><![CDATA[Critical]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>