diff --git a/CHANGES.txt b/CHANGES.txt
index b1467789e8..635c2f4d08 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,4 +1,5 @@
 4.0
+ * Fix buffer length comparison when decompressing in netty-based streaming (CASSANDRA-13899)
  * Properly close StreamCompressionInputStream to release any ByteBuf (CASSANDRA-13906)
  * Add SERIAL and LOCAL_SERIAL support for cassandra-stress (CASSANDRA-13925)
  * LCS needlessly checks for L0 STCS candidates multiple times (CASSANDRA-12961)
diff --git a/src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java b/src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
index 4b9fc61d76..dd0ba804ec 100644
--- a/src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
+++ b/src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
@@ -151,13 +151,12 @@ public class CompressedInputStream extends RebufferingInputStream implements Aut
 
     private void decompress(ByteBuffer compressed) throws IOException
     {
-        final int compressedChunkLength = info.parameters.chunkLength();
         int length = compressed.remaining();
 
-        // uncompress if the buffer size is less than chunk size. else, if the buffer size is equal to the compressedChunkLength,
+        // uncompress if the buffer size is less than the max chunk size. else, if the buffer size is greater than or equal to the maxCompressedLength,
         // we assume the buffer is not compressed. see CASSANDRA-10520
         final boolean releaseCompressedBuffer;
-        if (length - CHECKSUM_LENGTH < compressedChunkLength)
+        if (length - CHECKSUM_LENGTH < info.parameters.maxCompressedLength())
         {
             buffer.clear();
             compressed.limit(length - CHECKSUM_LENGTH);
@@ -191,6 +190,7 @@ public class CompressedInputStream extends RebufferingInputStream implements Aut
             FileUtils.clean(compressed);
 
         // buffer offset is always aligned
+        final int compressedChunkLength = info.parameters.chunkLength();
         bufferOffset = current & ~(compressedChunkLength - 1);
     }
 
