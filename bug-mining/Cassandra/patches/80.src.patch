diff --git a/bin/cassandra.bat b/bin/cassandra.bat
index 0f6db13a8f..135fbcdbff 100644
--- a/bin/cassandra.bat
+++ b/bin/cassandra.bat
@@ -45,7 +45,7 @@ set JAVA_OPTS=^
 REM ***** CLASSPATH library setting *****
 
 REM Shorten lib path for old platforms
-subst P: %CASSANDRA_HOME%\lib
+subst P: "%CASSANDRA_HOME%\lib"
 P:
 set CLASSPATH=P:\
 
@@ -58,7 +58,7 @@ goto :eof
 
 :okClasspath
 set CASSANDRA_CLASSPATH=%CASSANDRA_HOME%;%CASSANDRA_CONF%;%CLASSPATH%;%CASSANDRA_HOME%\build\classes
-set CASSANDRA_PARAMS=-Dcassandra -Dstorage-config=%CASSANDRA_CONF%
+set CASSANDRA_PARAMS=-Dcassandra -Dstorage-config="%CASSANDRA_CONF%"
 goto runDaemon
 
 :runDaemon
diff --git a/src/java/org/apache/cassandra/utils/XMLUtils.java b/src/java/org/apache/cassandra/utils/XMLUtils.java
index 4907337f0b..788866b58e 100644
--- a/src/java/org/apache/cassandra/utils/XMLUtils.java
+++ b/src/java/org/apache/cassandra/utils/XMLUtils.java
@@ -43,7 +43,8 @@ public class XMLUtils
     {        
         DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
         DocumentBuilder db = dbf.newDocumentBuilder();
-        document_ = db.parse(xmlSrc);
+        File xmlFile = new File(xmlSrc);
+        document_ = db.parse(xmlFile);
         
         XPathFactory xpathFactory = XPathFactory.newInstance();
         xpath_ = xpathFactory.newXPath();
