diff --git a/test/unit/org/apache/cassandra/cql3/EmptyValuesTest.java b/test/unit/org/apache/cassandra/cql3/EmptyValuesTest.java
index 3652ac8d14..ff7f861b5f 100644
--- a/test/unit/org/apache/cassandra/cql3/EmptyValuesTest.java
+++ b/test/unit/org/apache/cassandra/cql3/EmptyValuesTest.java
@@ -19,7 +19,6 @@
 package org.apache.cassandra.cql3;
 
 import java.io.ByteArrayOutputStream;
-import java.io.PrintStream;
 import java.nio.charset.StandardCharsets;
 import java.util.regex.Pattern;
 
@@ -73,17 +72,20 @@ public class EmptyValuesTest extends CQLTester
         ByteArrayOutputStream buf = new ByteArrayOutputStream();
         for (SSTableReader ssTable : cfs.getLiveSSTables())
         {
-            try (PrintStream out = new PrintStream(buf, true))
+            int exitValue = 0;
+            try
             {
                 ProcessBuilder pb = new ProcessBuilder("tools/bin/sstabledump", ssTable.getFilename());
+                pb.redirectErrorStream(true);
                 Process process = pb.start();
-                process.waitFor();
+                exitValue = process.waitFor();
                 IOUtils.copy(process.getInputStream(), buf);
             }
             catch (Throwable t)
             {
                 Assert.fail(t.getClass().getName());
             }
+            Assert.assertEquals(buf.toString(), 0, exitValue);
         }
         
         String outString = new String(buf.toByteArray(), StandardCharsets.UTF_8);
