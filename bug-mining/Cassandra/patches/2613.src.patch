diff --git a/src/java/org/apache/cassandra/config/CFMetaData.java b/src/java/org/apache/cassandra/config/CFMetaData.java
index 738627b429..ba7e6e6289 100644
--- a/src/java/org/apache/cassandra/config/CFMetaData.java
+++ b/src/java/org/apache/cassandra/config/CFMetaData.java
@@ -404,6 +404,21 @@ public final class CFMetaData
             throw new ConfigurationException("invalid speculative_retry type: " + retry);
         }
 
+        @Override
+        public boolean equals(Object obj)
+        {
+            if (!(obj instanceof SpeculativeRetry))
+                return false;
+            SpeculativeRetry rhs = (SpeculativeRetry) obj;
+            return Objects.equal(type, rhs.type) && Objects.equal(value, rhs.value);
+        }
+
+        @Override
+        public int hashCode()
+        {
+            return Objects.hashCode(type, value);
+        }
+
         @Override
         public String toString()
         {
