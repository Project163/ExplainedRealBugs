diff --git a/src/java/org/apache/cassandra/db/ColumnFamilyStore.java b/src/java/org/apache/cassandra/db/ColumnFamilyStore.java
index 8902aa6afc..239ca29cdb 100644
--- a/src/java/org/apache/cassandra/db/ColumnFamilyStore.java
+++ b/src/java/org/apache/cassandra/db/ColumnFamilyStore.java
@@ -796,7 +796,7 @@ public class ColumnFamilyStore implements ColumnFamilyStoreMBean
                 iterators.add(iter);
             }
 
-            Comparator<IColumn> comparator = filter.getColumnComparator(getComparator());
+            Comparator<IColumn> comparator = QueryFilter.getColumnComparator(getComparator());
             Iterator collated = IteratorUtils.collatedIterator(comparator, iterators);
             if (!collated.hasNext())
                 return null;
diff --git a/src/java/org/apache/cassandra/service/AntiEntropyService.java b/src/java/org/apache/cassandra/service/AntiEntropyService.java
index bf500add2b..62c0fb42ea 100644
--- a/src/java/org/apache/cassandra/service/AntiEntropyService.java
+++ b/src/java/org/apache/cassandra/service/AntiEntropyService.java
@@ -554,9 +554,9 @@ public class AntiEntropyService
 
             // restore partitioners (in case we were serialized)
             if (ltree.partitioner() == null)
-                ltree.partitioner(ss.getPartitioner());
+                ltree.partitioner(StorageService.getPartitioner());
             if (rtree.partitioner() == null)
-                rtree.partitioner(ss.getPartitioner());
+                rtree.partitioner(StorageService.getPartitioner());
 
             // determine the ranges where responsibility overlaps
             Set<Range> interesting = new HashSet(ss.getRangesForEndPoint(cf.left, local));
