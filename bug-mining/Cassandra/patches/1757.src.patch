diff --git a/CHANGES.txt b/CHANGES.txt
index 5e72de3a82..6125c9c1e2 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,4 +1,6 @@
 1.1.5
+ * use millis + atomicint for commitlog segment creation instead of
+   nanotime, which has issues under some hypervisors (CASSANDRA-4601)
  * fix FD leak in slice queries (CASSANDRA-4571)
  * avoid recursion in leveled compaction (CASSANDRA-4587)
  * increase stack size under Java7 to 180K
diff --git a/src/java/org/apache/cassandra/db/commitlog/CommitLogArchiver.java b/src/java/org/apache/cassandra/db/commitlog/CommitLogArchiver.java
index 556a37a98f..fe66369a9c 100644
--- a/src/java/org/apache/cassandra/db/commitlog/CommitLogArchiver.java
+++ b/src/java/org/apache/cassandra/db/commitlog/CommitLogArchiver.java
@@ -150,7 +150,7 @@ public class CommitLogArchiver
             {
                 File toFile = new File(DatabaseDescriptor.getCommitLogLocation(),
                                        CommitLogSegment.FILENAME_PREFIX +
-                                       System.nanoTime() +
+                                       CommitLogSegment.getNextId() +
                                        CommitLogSegment.FILENAME_EXTENSION);             
                 String command = restoreCommand.replace("%from", fromFile.getPath());
                 command = command.replace("%to", toFile.getPath());       
diff --git a/src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java b/src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
index fcd4130d8d..290db7c12a 100644
--- a/src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
+++ b/src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
@@ -27,6 +27,7 @@ import java.io.RandomAccessFile;
 import java.nio.channels.FileChannel;
 import java.nio.MappedByteBuffer;
 import java.util.Collection;
+import java.util.concurrent.atomic.AtomicInteger;
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 import java.util.zip.Checksum;
@@ -56,6 +57,8 @@ public class CommitLogSegment
     static final String FILENAME_PREFIX = "CommitLog-";
     static final String FILENAME_EXTENSION = ".log";
     private static final Pattern COMMIT_LOG_FILE_PATTERN = Pattern.compile(FILENAME_PREFIX + "(\\d+)" + FILENAME_EXTENSION);
+    private final static long idBase = System.currentTimeMillis();
+    private final static AtomicInteger nextId = new AtomicInteger(1);
 
     // The commit log entry overhead in bytes (int: length + long: head checksum + long: tail checksum)
     static final int ENTRY_OVERHEAD_SIZE = 4 + 8 + 8;
@@ -81,6 +84,10 @@ public class CommitLogSegment
         return new CommitLogSegment(null);
     }
 
+    public static long getNextId()
+    {
+        return idBase + nextId.getAndIncrement();
+    }
     /**
      * Constructs a new segment file.
      *
@@ -88,7 +95,7 @@ public class CommitLogSegment
      */
     CommitLogSegment(String filePath)
     {
-        id = System.nanoTime();
+        id = getNextId();
         logFile = new File(DatabaseDescriptor.getCommitLogLocation(), FILENAME_PREFIX + id + FILENAME_EXTENSION);
         boolean isCreating = true;
 
