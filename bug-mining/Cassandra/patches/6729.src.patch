diff --git a/src/java/org/apache/cassandra/service/accord/serializers/CommitSerializers.java b/src/java/org/apache/cassandra/service/accord/serializers/CommitSerializers.java
index 51555c1618..c0ee8df142 100644
--- a/src/java/org/apache/cassandra/service/accord/serializers/CommitSerializers.java
+++ b/src/java/org/apache/cassandra/service/accord/serializers/CommitSerializers.java
@@ -52,7 +52,8 @@ public class CommitSerializers
             CommandSerializers.ballot.serialize(msg.ballot, out, version);
             CommandSerializers.timestamp.serialize(msg.executeAt, out, version);
             CommandSerializers.nullablePartialTxn.serialize(msg.partialTxn, out, version);
-            DepsSerializers.partialDeps.serialize(msg.scope, msg.partialDeps, out, version);
+            if (msg.kind.withDeps == Commit.WithDeps.HasDeps)
+                DepsSerializers.partialDeps.serialize(msg.scope, msg.partialDeps, out, version);
             serializeNullable(msg.route, out, version, KeySerializers.fullRoute);
         }
 
@@ -63,7 +64,9 @@ public class CommitSerializers
             Ballot ballot = CommandSerializers.ballot.deserialize(in, version);
             Timestamp executeAt = CommandSerializers.timestamp.deserialize(in, version);
             PartialTxn partialTxn = CommandSerializers.nullablePartialTxn.deserialize(in, version);
-            PartialDeps partialDeps = DepsSerializers.partialDeps.deserialize(scope, in, version);
+            PartialDeps partialDeps = null;
+            if (kind.withDeps == Commit.WithDeps.HasDeps)
+                partialDeps = DepsSerializers.partialDeps.deserialize(scope, in, version);
             FullRoute<?> route = deserializeNullable(in, version, KeySerializers.fullRoute);
             return Commit.SerializerSupport.create(txnId, scope, waitForEpoch, minEpoch, kind, ballot, executeAt, partialTxn, partialDeps, route);
         }
@@ -71,12 +74,16 @@ public class CommitSerializers
         @Override
         public long serializedBodySize(Commit msg, int version)
         {
-            return kind.serializedSize(msg.kind, version)
+            long size = kind.serializedSize(msg.kind, version)
                    + CommandSerializers.ballot.serializedSize(msg.ballot, version)
                    + CommandSerializers.timestamp.serializedSize(msg.executeAt, version)
-                   + CommandSerializers.nullablePartialTxn.serializedSize(msg.partialTxn, version)
-                   + DepsSerializers.partialDeps.serializedSize(msg.scope, msg.partialDeps, version)
-                   + serializedNullableSize(msg.route, version, KeySerializers.fullRoute);
+                   + CommandSerializers.nullablePartialTxn.serializedSize(msg.partialTxn, version);
+
+            if (msg.kind.withDeps == Commit.WithDeps.HasDeps)
+                size += DepsSerializers.partialDeps.serializedSize(msg.scope, msg.partialDeps, version);
+
+            size += serializedNullableSize(msg.route, version, KeySerializers.fullRoute);
+            return size;
         }
     }
 
