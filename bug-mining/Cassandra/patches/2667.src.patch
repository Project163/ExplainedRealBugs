diff --git a/CHANGES.txt b/CHANGES.txt
index 42dc4ee5f4..35317372f8 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,7 +4,7 @@
  * Fix accounting in FileCacheService to allow re-using RAR (CASSANDRA-6838)
  * Fix static counter columns (CASSANDRA-6827)
  * Restore expiring->deleted (cell) compaction optimization (CASSANDRA-6844)
-
+ * Fix CompactionManager.needsCleanup (CASSANDRA-6845)
 
 2.0.6
  * Avoid race-prone second "scrub" of system keyspace (CASSANDRA-6797)
diff --git a/src/java/org/apache/cassandra/db/compaction/CompactionManager.java b/src/java/org/apache/cassandra/db/compaction/CompactionManager.java
index 02cf4337a0..453176edb3 100644
--- a/src/java/org/apache/cassandra/db/compaction/CompactionManager.java
+++ b/src/java/org/apache/cassandra/db/compaction/CompactionManager.java
@@ -493,7 +493,7 @@ public class CompactionManager implements CompactionManagerMBean
                 return false;
             }
 
-            if (i == (ownedRanges.size() - 1))
+            if (i == (sortedRanges.size() - 1))
             {
                 // we're at the last range and we found a key beyond the end of the range
                 return true;
