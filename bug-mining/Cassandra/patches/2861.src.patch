diff --git a/CHANGES.txt b/CHANGES.txt
index 75e6759234..c3145ebf86 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -8,6 +8,7 @@
  * Add option to do more aggressive tombstone compactions (CASSANDRA-6563)
  * Don't try to compact already-compacting files in HHOM (CASSANDRA-7288)
  * Add authentication support to shuffle (CASSANDRA-6484)
+ * Cqlsh counts non-empty lines for "Blank lines" warning (CASSANDRA-7325)
 Merged from 1.2:
  * Fix availability validation for LOCAL_ONE CL (CASSANDRA-7319)
 
diff --git a/bin/cqlsh b/bin/cqlsh
index 75c42994a5..0b8327dcd1 100755
--- a/bin/cqlsh
+++ b/bin/cqlsh
@@ -726,7 +726,7 @@ class Shell(cmd.Cmd):
         else:
             spaces = ' ' * len(str(self.current_keyspace))
             self.set_prompt(self.keyspace_continue_prompt % spaces)
-        self.empty_lines += 1
+        self.empty_lines = self.empty_lines + 1 if not self.lastcmd else 0
 
     @contextmanager
     def prepare_loop(self):
@@ -752,9 +752,11 @@ class Shell(cmd.Cmd):
 
     def get_input_line(self, prompt=''):
         if self.tty:
-            line = raw_input(prompt) + '\n'
+            self.lastcmd = raw_input(prompt)
+            line = self.lastcmd + '\n'
         else:
-            line = self.stdin.readline()
+            self.lastcmd = self.stdin.readline()
+            line = self.lastcmd
             if not len(line):
                 raise EOFError
         self.lineno += 1
