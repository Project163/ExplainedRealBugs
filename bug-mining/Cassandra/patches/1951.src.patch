diff --git a/CHANGES.txt b/CHANGES.txt
index 327d42795c..520cf08440 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -5,6 +5,7 @@ Merged from 1.1:
  * fix temporarily missing schema after upgrade from pre-1.1.5 (CASSANDRA-5061)
  * Fix ALTER TABLE overriding compression options with defaults
    (CASSANDRA-4996, CASSANDRA-5066)
+ * Fix SimpleAuthorizer example (CASSANDRA-5072)
 
 
 1.2-rc1
diff --git a/examples/simple_authentication/src/org/apache/cassandra/auth/SimpleAuthorizer.java b/examples/simple_authentication/src/org/apache/cassandra/auth/SimpleAuthorizer.java
index 2d7b6442de..df626547a6 100644
--- a/examples/simple_authentication/src/org/apache/cassandra/auth/SimpleAuthorizer.java
+++ b/examples/simple_authentication/src/org/apache/cassandra/auth/SimpleAuthorizer.java
@@ -41,10 +41,10 @@ public class SimpleAuthorizer extends LegacyAuthorizer
     public EnumSet<Permission> authorize(AuthenticatedUser user, List<Object> resource)
     {
         if (resource.size() < 2 || !Resources.ROOT.equals(resource.get(0)) || !Resources.KEYSPACES.equals(resource.get(1)))
-            return EnumSet.copyOf(Permission.NONE);
+            return EnumSet.noneOf(Permission.class);
         
         String keyspace, columnFamily = null;
-        EnumSet<Permission> authorized = EnumSet.copyOf(Permission.NONE);
+        EnumSet<Permission> authorized = EnumSet.noneOf(Permission.class);
         
         // /cassandra/keyspaces
         if (resource.size() == 2)
@@ -82,7 +82,7 @@ public class SimpleAuthorizer extends LegacyAuthorizer
             {
                 String kspAdmins = accessProperties.getProperty(KEYSPACES_WRITE_PROPERTY);
                 for (String admin : kspAdmins.split(","))
-                    if (admin.equals(user.username))
+                    if (admin.equals(user.getName()))
                         return EnumSet.copyOf(Permission.ALL);
             }
             
@@ -104,7 +104,7 @@ public class SimpleAuthorizer extends LegacyAuthorizer
             {
                 for (String reader : readers.split(","))
                 {
-                    if (reader.equals(user.username))
+                    if (reader.equals(user.getName()))
                     {
                         canRead = true;
                         break;
@@ -116,7 +116,7 @@ public class SimpleAuthorizer extends LegacyAuthorizer
             {
                 for (String writer : writers.split(","))
                 {
-                    if (writer.equals(user.username))
+                    if (writer.equals(user.getName()))
                     {
                         canWrite = true;
                         break;
