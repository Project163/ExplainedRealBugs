diff --git a/test/unit/org/apache/cassandra/utils/SimpleBitSetSerializerTest.java b/test/unit/org/apache/cassandra/utils/SimpleBitSetSerializerTest.java
index b45396be73..f402be9c7c 100644
--- a/test/unit/org/apache/cassandra/utils/SimpleBitSetSerializerTest.java
+++ b/test/unit/org/apache/cassandra/utils/SimpleBitSetSerializerTest.java
@@ -40,7 +40,7 @@ public class SimpleBitSetSerializerTest
         return rs -> {
             int size = rs.nextInt(0, 1 << 10);
             SimpleBitSet bitSet = new SimpleBitSet(size);
-            if (rs.decide(0.2))
+            if (size == 0 || rs.decide(0.2))
                 return bitSet; // empty
             if (rs.decide(0.2))
             {
