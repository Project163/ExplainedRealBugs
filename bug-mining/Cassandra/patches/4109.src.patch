diff --git a/CHANGES.txt b/CHANGES.txt
index 5530f09cd0..188cdd6959 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,4 +1,5 @@
 3.0.4
+ * AssertionError when listing sstable files on inconsistent disk state (CASSANDRA-11156)
  * Fix wrong rack counting and invalid conditions check for TokenAllocation
    (CASSANDRA-11139)
  * Avoid creating empty hint files (CASSANDRA-11090)
diff --git a/src/java/org/apache/cassandra/db/lifecycle/LogFile.java b/src/java/org/apache/cassandra/db/lifecycle/LogFile.java
index 8657869cf4..9064e5fa13 100644
--- a/src/java/org/apache/cassandra/db/lifecycle/LogFile.java
+++ b/src/java/org/apache/cassandra/db/lifecycle/LogFile.java
@@ -127,7 +127,7 @@ final class LogFile
 
     boolean verify()
     {
-        assert records.isEmpty();
+        records.clear();
         if (!replicas.readRecords(records))
         {
             logger.error("Failed to read records from {}", replicas);
diff --git a/test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java b/test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java
index df05d71fd1..4f2fc731f8 100644
--- a/test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java
+++ b/test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java
@@ -1079,7 +1079,8 @@ public class LogTransactionTest extends AbstractTransactionalTest
         }
         catch(RuntimeException e)
         {
-            //pass
+            //pass as long as the cause is not an assertion
+            assertFalse(e.getCause() instanceof AssertionError);
         }
 
         logs.finish();
