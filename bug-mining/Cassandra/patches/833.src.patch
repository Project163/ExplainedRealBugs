diff --git a/src/avro/internode.genavro b/src/avro/internode.genavro
index 2e0a40ac50..3cfaab2123 100644
--- a/src/avro/internode.genavro
+++ b/src/avro/internode.genavro
@@ -73,6 +73,7 @@ protocol InterNode {
         string name;
         string strategy_class;
         union{ map<string>, null } strategy_options;
+        union{ int, null } replication_factor;
         array<CfDef> cf_defs;
     }
     
diff --git a/src/java/org/apache/cassandra/config/KSMetaData.java b/src/java/org/apache/cassandra/config/KSMetaData.java
index b6248f1182..d8e2777f50 100644
--- a/src/java/org/apache/cassandra/config/KSMetaData.java
+++ b/src/java/org/apache/cassandra/config/KSMetaData.java
@@ -115,16 +115,19 @@ public final class KSMetaData
         {
             throw new RuntimeException("Could not create ReplicationStrategy of type " + ks.strategy_class, ex);
         }
-        Map<String, String> strategyOptions = null;
+
+        Map<String, String> strategyOptions = new HashMap<String, String>();
         if (ks.strategy_options != null)
         {
-            strategyOptions = new HashMap<String, String>();
             for (Map.Entry<CharSequence, CharSequence> e : ks.strategy_options.entrySet())
             {
                 strategyOptions.put(e.getKey().toString(), e.getValue().toString());
             }
         }
-        int cfsz = (int)ks.cf_defs.size();
+        if (ks.replication_factor != null)
+            strategyOptions.put("replication_factor", ks.replication_factor.toString());
+
+        int cfsz = ks.cf_defs.size();
         CFMetaData[] cfMetaData = new CFMetaData[cfsz];
         Iterator<org.apache.cassandra.db.migration.avro.CfDef> cfiter = ks.cf_defs.iterator();
         for (int i = 0; i < cfsz; i++)
