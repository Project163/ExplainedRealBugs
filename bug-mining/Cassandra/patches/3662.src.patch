diff --git a/CHANGES.txt b/CHANGES.txt
index b978c59081..17d8f8aab7 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,7 +1,7 @@
 3.0
  * Change CREATE/ALTER TABLE syntax for compression (CASSANDRA-8384)
  * Cleanup crc and adler code for java 8 (CASSANDRA-9650)
- * Storage engine refactor (CASSANDRA-8099, 9743)
+ * Storage engine refactor (CASSANDRA-8099, 9743, 9746)
  * Update Guava to 18.0 (CASSANDRA-9653)
  * Bloom filter false positive ratio is not honoured (CASSANDRA-8413)
  * New option for cassandra-stress to leave a ratio of columns null (CASSANDRA-9522)
diff --git a/src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java b/src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java
index a1ee239fd4..670b1ae947 100644
--- a/src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java
+++ b/src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java
@@ -331,6 +331,13 @@ public class PartitionUpdate extends AbstractPartitionData implements Sorting.So
         isSorted = false;
     }
 
+    @Override
+    public int rowCount()
+    {
+        maybeSort();
+        return super.rowCount();
+    }
+
     /**
      * Returns an iterator that iterators over the rows of this update in clustering order.
      * <p>
diff --git a/test/unit/org/apache/cassandra/cql3/validation/entities/RowBuilderTest.java b/test/unit/org/apache/cassandra/cql3/validation/entities/RowUpdateBuilderTest.java
similarity index 76%
rename from test/unit/org/apache/cassandra/cql3/validation/entities/RowBuilderTest.java
rename to test/unit/org/apache/cassandra/cql3/validation/entities/RowUpdateBuilderTest.java
index 7ab71b1f13..afe2455811 100644
--- a/test/unit/org/apache/cassandra/cql3/validation/entities/RowBuilderTest.java
+++ b/test/unit/org/apache/cassandra/cql3/validation/entities/RowUpdateBuilderTest.java
@@ -19,18 +19,28 @@ package org.apache.cassandra.cql3.validation.entities;
 
 import org.junit.Test;
 
+import org.apache.cassandra.Util;
 import org.apache.cassandra.cql3.CQLTester;
 import org.apache.cassandra.db.Mutation;
 import org.apache.cassandra.db.RowUpdateBuilder;
-import org.apache.cassandra.db.partitions.PartitionUpdate;
-import org.apache.cassandra.db.marshal.AsciiType;
-import org.apache.cassandra.service.StorageService;
 import org.apache.cassandra.utils.FBUtilities;
 
-public class RowBuilderTest extends CQLTester
+// see CASSANDRA-9743, CASSANDRA-9746
+public class RowUpdateBuilderTest extends CQLTester
 {
     @Test
-    public void testAddListEntry() throws Throwable
+    public void testAddListEntryDurable() throws Throwable
+    {
+        testAddListEntry(false);
+    }
+
+    @Test
+    public void testAddListEntryTransient() throws Throwable
+    {
+        testAddListEntry(true);
+    }
+
+    public void testAddListEntry(boolean skipCommitLog) throws Throwable
     {
         createTable("CREATE TABLE %s ("
                     + "pk text,"
@@ -41,14 +51,14 @@ public class RowBuilderTest extends CQLTester
 
         long timestamp = FBUtilities.timestampMicros();
 
-        Mutation mutation = new Mutation(keyspace(), StorageService.getPartitioner().decorateKey(AsciiType.instance.fromString("test")));
+        Mutation mutation = new Mutation(keyspace(), Util.dk("test"));
         addToMutation("row1", timestamp, mutation);
         addToMutation("row2", timestamp, mutation);
 
-        for (PartitionUpdate update : mutation.getPartitionUpdates())
-            update.iterator();
-
-        mutation.apply();
+        if (skipCommitLog)
+            mutation.applyUnsafe();
+        else
+            mutation.apply();
 
         assertRowCount(execute("SELECT ck FROM %s"), 2);
     }
@@ -66,4 +76,4 @@ public class RowBuilderTest extends CQLTester
 
         adder.build();
     }
-}
+}
\ No newline at end of file
