diff --git a/CHANGES.txt b/CHANGES.txt
index d5f607f491..a469bbff70 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,4 +1,5 @@
 2.0.12:
+ * Abort liveRatio calculation if the memtable is flushed (CASSANDRA-8164)
  * Correctly handle non-text column names in cql3 (CASSANDRA-8178)
  * Fix deletion for indexes on primary key columns (CASSANDRA-8206)
  * Add 'nodetool statusgossip' (CASSANDRA-8125)
diff --git a/src/java/org/apache/cassandra/db/Memtable.java b/src/java/org/apache/cassandra/db/Memtable.java
index 0d55bb224c..0b186dc620 100644
--- a/src/java/org/apache/cassandra/db/Memtable.java
+++ b/src/java/org/apache/cassandra/db/Memtable.java
@@ -450,6 +450,12 @@ public class Memtable
                 {
                     deepSize += memtable.meter.measureDeep(entry.getKey()) + memtable.meter.measureDeep(entry.getValue());
                     objects += entry.getValue().getColumnCount();
+
+                    if (memtable != cfs.getMemtableThreadSafe())
+                    {
+                        // this memtable is flushing or already flushed
+                        return;
+                    }
                 }
                 double newRatio = (double) deepSize / memtable.currentSize.get();
 
