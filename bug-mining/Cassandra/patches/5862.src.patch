diff --git a/CHANGES.txt b/CHANGES.txt
index b2f33693e7..0c0ba4f7d9 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,4 +1,5 @@
 4.0.2
+ * Avoid race causing us to return null in RangesAtEndpoint (CASSANDRA-16965)
  * Avoid rewriting all sstables during cleanup when transient replication is enabled (CASSANDRA-16966)
  * Prevent CQLSH from failure on Python 3.10 (CASSANDRA-16987)
  * Avoid trying to acquire 0 permits from the rate limiter when taking snapshot (CASSANDRA-16872)
diff --git a/src/java/org/apache/cassandra/locator/RangesAtEndpoint.java b/src/java/org/apache/cassandra/locator/RangesAtEndpoint.java
index de7daa1d76..6401d2a06e 100644
--- a/src/java/org/apache/cassandra/locator/RangesAtEndpoint.java
+++ b/src/java/org/apache/cassandra/locator/RangesAtEndpoint.java
@@ -131,7 +131,7 @@ public class RangesAtEndpoint extends AbstractReplicaCollection<RangesAtEndpoint
     public RangesAtEndpoint onlyFull()
     {
         RangesAtEndpoint result = onlyFull;
-        if (onlyFull == null)
+        if (result == null)
             onlyFull = result = filter(Replica::isFull);
         return result;
     }
@@ -139,7 +139,7 @@ public class RangesAtEndpoint extends AbstractReplicaCollection<RangesAtEndpoint
     public RangesAtEndpoint onlyTransient()
     {
         RangesAtEndpoint result = onlyTransient;
-        if (onlyTransient == null)
+        if (result == null)
             onlyTransient = result = filter(Replica::isTransient);
         return result;
     }
