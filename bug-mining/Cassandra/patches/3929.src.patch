diff --git a/src/java/org/apache/cassandra/cql3/functions/JavaSourceUDFFactory.java b/src/java/org/apache/cassandra/cql3/functions/JavaSourceUDFFactory.java
index c40e03107d..515c9471f2 100644
--- a/src/java/org/apache/cassandra/cql3/functions/JavaSourceUDFFactory.java
+++ b/src/java/org/apache/cassandra/cql3/functions/JavaSourceUDFFactory.java
@@ -24,6 +24,7 @@ import java.lang.invoke.MethodHandle;
 import java.lang.invoke.MethodHandles;
 import java.lang.invoke.MethodType;
 import java.lang.reflect.InvocationTargetException;
+import java.lang.reflect.Method;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.HashMap;
@@ -222,7 +223,17 @@ public final class JavaSourceUDFFactory
 
             Class cls = targetClassLoader.loadClass(targetClassName);
 
-            if (cls.getDeclaredMethods().length != 2 || cls.getDeclaredConstructors().length != 1)
+            // Count only non-synthetic methods, so code coverage instrumentation doesn't cause a miscount
+            int nonSyntheticMethodCount = 0;
+            for (Method m : cls.getDeclaredMethods())
+            {
+                if (!m.isSynthetic())
+                {
+                    nonSyntheticMethodCount += 1;
+                }
+            }
+
+            if (nonSyntheticMethodCount != 2 || cls.getDeclaredConstructors().length != 1)
                 throw new InvalidRequestException("Check your source to not define additional Java methods or constructors");
             MethodType methodType = MethodType.methodType(void.class)
                                               .appendParameterTypes(FunctionName.class, List.class, List.class, DataType[].class,
