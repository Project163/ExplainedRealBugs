{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2479","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/2479/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/2479/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/2479/events","html_url":"https://github.com/rwf2/Rocket/issues/2479","id":1597729396,"node_id":"I_kwDOAzqMt85fO2p0","number":2479,"title":"Use `text/javascript` for `.mjs`","user":{"login":"42triangles","id":31801109,"node_id":"MDQ6VXNlcjMxODAxMTA5","avatar_url":"https://avatars.githubusercontent.com/u/31801109?v=4","gravatar_id":"","url":"https://api.github.com/users/42triangles","html_url":"https://github.com/42triangles","followers_url":"https://api.github.com/users/42triangles/followers","following_url":"https://api.github.com/users/42triangles/following{/other_user}","gists_url":"https://api.github.com/users/42triangles/gists{/gist_id}","starred_url":"https://api.github.com/users/42triangles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/42triangles/subscriptions","organizations_url":"https://api.github.com/users/42triangles/orgs","repos_url":"https://api.github.com/users/42triangles/repos","events_url":"https://api.github.com/users/42triangles/events{/privacy}","received_events_url":"https://api.github.com/users/42triangles/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":442158672,"node_id":"MDU6TGFiZWw0NDIxNTg2NzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/accepted","name":"accepted","color":"0E8A16","default":false,"description":"An accepted request or suggestion"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-02-24T00:59:06Z","updated_at":"2023-03-25T16:12:00Z","closed_at":"2023-03-25T16:12:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Existing Functionality**\r\n\r\nCurrently Rocket appears to not support mapping `.mjs` files to the `text/javascript` mime type.\r\n\r\nThis has caused issues with a recent sveltekit update that switched to `.mjs` files for the static adapter, which have been served using [`rocket::fs::FileServer`](https://api.rocket.rs/v0.5-rc/rocket/fs/struct.FileServer.html) which doesn't appear to contain any possible way of extending known mime types, resulting in the mime type to not be set & as such a broken site.\r\n\r\n**Suggested Changes**\r\n\r\nInclude `\"mjs\" => JavaScript,` in [`known_extensions!`](https://github.com/SergioBenitez/Rocket/blob/master/core/http/src/header/known_media_types.rs#L58) presumably\r\n\r\n**Alternatives Considered**\r\n\r\nAdding functionality to `rocket::fs::FileServer` (and `rocket::fs::NamedFile`) to add extra mimetypes, or alternatively users could just copy the code for those two types & add the mimetype manually themselves.","closed_by":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/2479/timeline","performed_via_github_app":null,"state_reason":"completed"}