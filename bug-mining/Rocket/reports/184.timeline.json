[{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861029476","html_url":"https://github.com/rwf2/Rocket/issues/1699#issuecomment-861029476","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1699","id":861029476,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTAyOTQ3Ng==","user":{"login":"WilliamVenner","id":14863743,"node_id":"MDQ6VXNlcjE0ODYzNzQz","avatar_url":"https://avatars.githubusercontent.com/u/14863743?v=4","gravatar_id":"","url":"https://api.github.com/users/WilliamVenner","html_url":"https://github.com/WilliamVenner","followers_url":"https://api.github.com/users/WilliamVenner/followers","following_url":"https://api.github.com/users/WilliamVenner/following{/other_user}","gists_url":"https://api.github.com/users/WilliamVenner/gists{/gist_id}","starred_url":"https://api.github.com/users/WilliamVenner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WilliamVenner/subscriptions","organizations_url":"https://api.github.com/users/WilliamVenner/orgs","repos_url":"https://api.github.com/users/WilliamVenner/repos","events_url":"https://api.github.com/users/WilliamVenner/events{/privacy}","received_events_url":"https://api.github.com/users/WilliamVenner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T22:13:28Z","updated_at":"2021-06-14T22:13:28Z","body":"Here is my current solution\r\n\r\n```rust\r\n#[derive(Debug)]\r\npub struct Host<'r>(Option<&'r str>);\r\n\r\n#[rocket::async_trait]\r\nimpl<'r> FromRequest<'r> for Host<'r> {\r\n\ttype Error = ();\r\n\r\n\tasync fn from_request(request: &'r rocket::Request<'_>) -> rocket::request::Outcome<Self, Self::Error> {\r\n\t\trocket::request::Outcome::Success(Host(request.headers().get(\"host\").next()))\r\n\t}\r\n}\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861029476/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WilliamVenner","id":14863743,"node_id":"MDQ6VXNlcjE0ODYzNzQz","avatar_url":"https://avatars.githubusercontent.com/u/14863743?v=4","gravatar_id":"","url":"https://api.github.com/users/WilliamVenner","html_url":"https://github.com/WilliamVenner","followers_url":"https://api.github.com/users/WilliamVenner/followers","following_url":"https://api.github.com/users/WilliamVenner/following{/other_user}","gists_url":"https://api.github.com/users/WilliamVenner/gists{/gist_id}","starred_url":"https://api.github.com/users/WilliamVenner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WilliamVenner/subscriptions","organizations_url":"https://api.github.com/users/WilliamVenner/orgs","repos_url":"https://api.github.com/users/WilliamVenner/repos","events_url":"https://api.github.com/users/WilliamVenner/events{/privacy}","received_events_url":"https://api.github.com/users/WilliamVenner/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861031113","html_url":"https://github.com/rwf2/Rocket/issues/1699#issuecomment-861031113","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1699","id":861031113,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTAzMTExMw==","user":{"login":"WilliamVenner","id":14863743,"node_id":"MDQ6VXNlcjE0ODYzNzQz","avatar_url":"https://avatars.githubusercontent.com/u/14863743?v=4","gravatar_id":"","url":"https://api.github.com/users/WilliamVenner","html_url":"https://github.com/WilliamVenner","followers_url":"https://api.github.com/users/WilliamVenner/followers","following_url":"https://api.github.com/users/WilliamVenner/following{/other_user}","gists_url":"https://api.github.com/users/WilliamVenner/gists{/gist_id}","starred_url":"https://api.github.com/users/WilliamVenner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WilliamVenner/subscriptions","organizations_url":"https://api.github.com/users/WilliamVenner/orgs","repos_url":"https://api.github.com/users/WilliamVenner/repos","events_url":"https://api.github.com/users/WilliamVenner/events{/privacy}","received_events_url":"https://api.github.com/users/WilliamVenner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T22:17:16Z","updated_at":"2021-06-14T22:17:16Z","body":"I suppose it would also be useful to get the URI scheme.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861031113/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"WilliamVenner","id":14863743,"node_id":"MDQ6VXNlcjE0ODYzNzQz","avatar_url":"https://avatars.githubusercontent.com/u/14863743?v=4","gravatar_id":"","url":"https://api.github.com/users/WilliamVenner","html_url":"https://github.com/WilliamVenner","followers_url":"https://api.github.com/users/WilliamVenner/followers","following_url":"https://api.github.com/users/WilliamVenner/following{/other_user}","gists_url":"https://api.github.com/users/WilliamVenner/gists{/gist_id}","starred_url":"https://api.github.com/users/WilliamVenner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WilliamVenner/subscriptions","organizations_url":"https://api.github.com/users/WilliamVenner/orgs","repos_url":"https://api.github.com/users/WilliamVenner/repos","events_url":"https://api.github.com/users/WilliamVenner/events{/privacy}","received_events_url":"https://api.github.com/users/WilliamVenner/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4889086772,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4ODkwODY3NzI=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4889086772","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-15T04:14:37Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":4890947498,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ4OTA5NDc0OTg=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4890947498","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-06-15T11:09:06Z","milestone":{"title":"0.5.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861764265","html_url":"https://github.com/rwf2/Rocket/issues/1699#issuecomment-861764265","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1699","id":861764265,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTc2NDI2NQ==","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T19:13:37Z","updated_at":"2021-06-20T03:45:54Z","body":"An origin form URI, by definition, contains only a path and maybe a query. So it, of course, does not contain a scheme or host.\n\nIn general, an HTTP/1.1 request will target an origin form URI, and so there is no host information available. The `Host` header is designated as containing this information. In HTTP2, the host information is part of the request URI. There is no `Host`; the header is indeed illegal. This variance is why Rocket doesn't yet expose a mechanism.\n\nNevertheless, I did indeed plan on providing a `host()` method on `Request` that abstracts these differences away. We'll see that soon. Thanks for the reminder. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/861764265/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4971629495,"node_id":"MDExOkNsb3NlZEV2ZW50NDk3MTYyOTQ5NQ==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4971629495","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c58b43700c5e4c2e620e84b073c4e17cbff5e3ff","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/c58b43700c5e4c2e620e84b073c4e17cbff5e3ff","created_at":"2021-07-02T13:58:06Z","state_reason":null,"performed_via_github_app":null},{"id":11603836349,"node_id":"REFE_lADOAzqMt8424oDjzwAAAAKzpH29","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/11603836349","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c58b43700c5e4c2e620e84b073c4e17cbff5e3ff","commit_url":"https://api.github.com/repos/Necmttn/Rocket/commits/c58b43700c5e4c2e620e84b073c4e17cbff5e3ff","created_at":"2024-01-26T01:03:06Z","performed_via_github_app":null}]