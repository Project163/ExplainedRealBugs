[{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T01:11:34Z","updated_at":"2019-08-02T01:11:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1065","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1065/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1065/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1065/events","html_url":"https://github.com/rwf2/Rocket/issues/1065","id":475950747,"node_id":"MDU6SXNzdWU0NzU5NTA3NDc=","number":1065,"title":"Tracking Issue for Async I/O migration","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":64,"created_at":"2019-08-02T01:05:41Z","updated_at":"2021-07-18T21:18:52Z","closed_at":"2021-07-18T21:18:52Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Status\r\n\r\nRocket's `master` branch is currently **fully asynchronous and supports async/await**!\r\n\r\n## Pending\r\n\r\n  - [ ] #1067 - Remove or replace typed headers (PR: #1535)\r\n  - [ ] #1329 - Documentation fixes, additions, improvements.\r\n  - [ ] #1070 - Expose APIs for customizing the underlying I/O, instead of being restricted to TCP with optional TLS.\r\n  - [ ] Detect blocking I/O in async: it seems the best we can do for now is to document the issues.\r\n      A \"blocking-in-async\" lint in `clippy` or `rustc` would be much nicer, if feasible, but would occur upstream...someday.\r\n  - [x] Miscellaneous small TODOs (tagged as `TODO.async`) throughout code.\r\n  - [x] Response bodies are passed back to hyper using a channel.\r\n\r\n## Done\r\n\r\n  - [x] Async I/O everything!\r\n  - [x] #1325 - Data reading and connection limits.\r\n  - [x] Keep-alive and idle client timeouts\r\n  - [x] Handling of blocking database connections.\r\n  - [x] Gracefully handle panics with 500. (PR #1491)\r\n  - [x] #1066 - Add a Write-like interface for responses, and consideration of `AsyncRead` vs `Stream<Item=Result<Chunk, Error>>`\r\n  - [x] #180, #1374 - fixing graceful shutdown when using \"infinite\" responders\r\n  - [x] #33 - Server-Sent Events\r\n  - [x] #1117 - Asynchronous database pools, or at the very least forward compatibility with them.\r\n\r\n## Design\r\n\r\nThe `async` APIs are based on rust's async/await feature and `std::future::Future`, running on the `tokio` (0.2) runtime.\r\n\r\n* High-level APIs (routes and catchers):\r\n  * Routes can now be defined as `#[get|post|route(...)] async fn(params...) -> R` where `R` is any `Responder` type. Routes that do not `await` anything can remain unchanged. `#[catch]`ers can also be defined as an `async fn`.\r\n  * Methods on `Data` now return `Future`s that must be `.await`ed. As a consequence, any route that uses `Data` directly must be `async`. Routes that use data guards such as `Json` are not affected by this change.\r\n  * Routes that make their own network requests or other I/O should be `async`, as it will allow other requests to continue while waiting for the operation.\r\n* Mid and low-level APIs (`FromTransformedData` and `FromData`, `Fairing`, `Responder`)\r\n  * Several traits are now defined using `async-trait`, re-exported as `#[rocket::async_trait]`.\r\n  * Data is read asynchronously: `DataStream` implements `tokio::io::AsyncRead` instead of `Read`. Thus, `FromTransformedData::transform` and `From(Transformed)Data::from_data` are `async fn` or return `Future`s.\r\n  * Response bodies are streamed to the client asynchronously: `set_body` and related methods expect `tokio::io::AsyncRead` instead of `Read`.\r\n    * Consequently, `Fairing::on_response` and `Responder::respond_to` are now `async fn`. This allows Responders and Fairings to access and/or replace the body data.\r\n* The testing APIs have been moved to `rocket::local::asynchronous` and `rocket::local::blocking`. The `blocking` test API is simpler to use, and recommended when possible.\r\n* `#[rocket::main]`, `#[rocket::launch]`, and `#[rocket::async_test]` have been added to make `async fn` easily accessible for `main()` and `test()`.\r\n* Many long-standing bugs with keep-alive, graceful shutdown (#180), performance, and more are fixed or will be easier to fix by using actively-supported versions of libraries.\r\n* Some new functionality will be possible to implement, such as SSE and WebSockets. These will likely not make it into Rocket 0.5. At this point, Rocket should not be missing any APIs necessary to implement SSE \"by hand\". WebSockets is a bit more complicated, and tracked in #90 .\r\n","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1065/reactions","total_count":340,"+1":170,"-1":0,"laugh":0,"hooray":54,"confused":0,"heart":51,"rocket":55,"eyes":10},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1065/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517609243","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-517609243","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":517609243,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzYwOTI0Mw==","user":{"login":"lovasoa","id":552629,"node_id":"MDQ6VXNlcjU1MjYyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/552629?v=4","gravatar_id":"","url":"https://api.github.com/users/lovasoa","html_url":"https://github.com/lovasoa","followers_url":"https://api.github.com/users/lovasoa/followers","following_url":"https://api.github.com/users/lovasoa/following{/other_user}","gists_url":"https://api.github.com/users/lovasoa/gists{/gist_id}","starred_url":"https://api.github.com/users/lovasoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lovasoa/subscriptions","organizations_url":"https://api.github.com/users/lovasoa/orgs","repos_url":"https://api.github.com/users/lovasoa/repos","events_url":"https://api.github.com/users/lovasoa/events{/privacy}","received_events_url":"https://api.github.com/users/lovasoa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T08:25:09Z","updated_at":"2019-08-02T08:25:09Z","body":"Related: #813","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517609243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lovasoa","id":552629,"node_id":"MDQ6VXNlcjU1MjYyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/552629?v=4","gravatar_id":"","url":"https://api.github.com/users/lovasoa","html_url":"https://github.com/lovasoa","followers_url":"https://api.github.com/users/lovasoa/followers","following_url":"https://api.github.com/users/lovasoa/following{/other_user}","gists_url":"https://api.github.com/users/lovasoa/gists{/gist_id}","starred_url":"https://api.github.com/users/lovasoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lovasoa/subscriptions","organizations_url":"https://api.github.com/users/lovasoa/orgs","repos_url":"https://api.github.com/users/lovasoa/repos","events_url":"https://api.github.com/users/lovasoa/events{/privacy}","received_events_url":"https://api.github.com/users/lovasoa/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517852336","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-517852336","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":517852336,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzg1MjMzNg==","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-02T21:41:06Z","updated_at":"2019-08-02T21:41:06Z","body":"I spent some time with @carllerche chatting about bringing such an interface to Hyper in 0.13, and my understanding is that he's onboard. If the main interface in Hyper 0.13 is a write-based one, then implementing this in Rocket should be relatively straightforward. Implementing a read-based interface on-top of a write-based interface is itself straightforward, of course.\r\n\r\nTo clarify, and for posterity, a _write-based_ interface would allow you to write a `Responder` as follows:\r\n\r\n```rust\r\nimpl Responder for MyType {\r\n    fn respond_to(self, request: &Request, out: &mut Out) -> impl Future<_> {\r\n        for _ in 0..5 {\r\n            sleep(5).await;\r\n            write!(out, \"data: hello\\n\").await;\r\n        }\r\n\r\n        write!(out, \"\\n\").await;\r\n    }\r\n}\r\n```\r\n\r\nThis responder writes out 5 server-sent events, each with data of \"hello\", one every 5 seconds.\r\n\r\nA _read-based_ implementation of the above, while not significantly more code, is, in my opinion, significantly more difficult to write and understand:\r\n\r\n```rust\r\nstruct MyType {\r\n    remaining: usize,\r\n    next_write: Time,\r\n}\r\n\r\nimpl Read for MyType {\r\n    fn read(&mut self, buf: &mut [u8]) -> Result<usize> {\r\n        let now = Time::now();\r\n        if now > self.next_write && self.remaining > 0 {\r\n            write!(buf, \"data: hello\\n\")?;\r\n            self.next_write = now + 5.seconds();\r\n            self.remaining -= 1;\r\n\r\n            if self.remaining == 0 {\r\n                write!(buf, \"\\n\")?;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor many types of responses, a read-based interface is the write approach, especially as many types already have a read-based implementation (`Vec`, `String`, and so on). For others, such as SSE, the write-based approach is clearly the way to go. We should support both.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517852336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2530859334,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjUzMDg1OTMzNA==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2530859334","actor":{"login":"carllerche","id":6180,"node_id":"MDQ6VXNlcjYxODA=","avatar_url":"https://avatars.githubusercontent.com/u/6180?v=4","gravatar_id":"","url":"https://api.github.com/users/carllerche","html_url":"https://github.com/carllerche","followers_url":"https://api.github.com/users/carllerche/followers","following_url":"https://api.github.com/users/carllerche/following{/other_user}","gists_url":"https://api.github.com/users/carllerche/gists{/gist_id}","starred_url":"https://api.github.com/users/carllerche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carllerche/subscriptions","organizations_url":"https://api.github.com/users/carllerche/orgs","repos_url":"https://api.github.com/users/carllerche/repos","events_url":"https://api.github.com/users/carllerche/events{/privacy}","received_events_url":"https://api.github.com/users/carllerche/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-02T21:41:07Z","performed_via_github_app":null},{"id":2530859335,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1MzA4NTkzMzU=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2530859335","actor":{"login":"carllerche","id":6180,"node_id":"MDQ6VXNlcjYxODA=","avatar_url":"https://avatars.githubusercontent.com/u/6180?v=4","gravatar_id":"","url":"https://api.github.com/users/carllerche","html_url":"https://github.com/carllerche","followers_url":"https://api.github.com/users/carllerche/followers","following_url":"https://api.github.com/users/carllerche/following{/other_user}","gists_url":"https://api.github.com/users/carllerche/gists{/gist_id}","starred_url":"https://api.github.com/users/carllerche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carllerche/subscriptions","organizations_url":"https://api.github.com/users/carllerche/orgs","repos_url":"https://api.github.com/users/carllerche/repos","events_url":"https://api.github.com/users/carllerche/events{/privacy}","received_events_url":"https://api.github.com/users/carllerche/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-02T21:41:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517884017","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-517884017","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":517884017,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzg4NDAxNw==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-03T01:38:16Z","updated_at":"2019-08-03T01:38:16Z","body":"> Implementing a read-based interface on-top of a write-based interface is itself straightforward, of course.\r\n\r\nI am concerned about the ergonomics of a read-like operation that has to both consume and expose a write-like interface, or vice versa. One particular example is automatic `ETag` generation, which needs to know when the data is finished so it can do a checksum. Under `AsyncRead`, this is when 0 bytes are read from the stream. Under `AsyncWrite`, this is when `poll_close()` has completed. Compression will likely have the same or similar problems.\r\n\r\nThe solution to this point may be \"don't do anything that requires the body to actually 'finish'\" -- with SSE, it might never finish! -- and that is fine but we should be aware of it and any similar code that already exists and make this point very clear in the documentation and migration guide or CHANGELOG.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/517884017/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/518304495","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-518304495","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":518304495,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODMwNDQ5NQ==","user":{"login":"carllerche","id":6180,"node_id":"MDQ6VXNlcjYxODA=","avatar_url":"https://avatars.githubusercontent.com/u/6180?v=4","gravatar_id":"","url":"https://api.github.com/users/carllerche","html_url":"https://github.com/carllerche","followers_url":"https://api.github.com/users/carllerche/followers","following_url":"https://api.github.com/users/carllerche/following{/other_user}","gists_url":"https://api.github.com/users/carllerche/gists{/gist_id}","starred_url":"https://api.github.com/users/carllerche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carllerche/subscriptions","organizations_url":"https://api.github.com/users/carllerche/orgs","repos_url":"https://api.github.com/users/carllerche/repos","events_url":"https://api.github.com/users/carllerche/events{/privacy}","received_events_url":"https://api.github.com/users/carllerche/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-05T16:28:30Z","updated_at":"2019-08-05T16:28:30Z","body":"As I mentioned to @SergioBenitez, I am open to the best solution. I have not spent a lot of time considering the proposed API. For me, it would be a question of weighing the pros / cons of each avenue.\r\n\r\nEither way, I don't think it should impact the core `tower::Service` trait. It would only impact the `HttpBody` trait.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/518304495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"carllerche","id":6180,"node_id":"MDQ6VXNlcjYxODA=","avatar_url":"https://avatars.githubusercontent.com/u/6180?v=4","gravatar_id":"","url":"https://api.github.com/users/carllerche","html_url":"https://github.com/carllerche","followers_url":"https://api.github.com/users/carllerche/followers","following_url":"https://api.github.com/users/carllerche/following{/other_user}","gists_url":"https://api.github.com/users/carllerche/gists{/gist_id}","starred_url":"https://api.github.com/users/carllerche/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carllerche/subscriptions","organizations_url":"https://api.github.com/users/carllerche/orgs","repos_url":"https://api.github.com/users/carllerche/repos","events_url":"https://api.github.com/users/carllerche/events{/privacy}","received_events_url":"https://api.github.com/users/carllerche/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2534092665,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjUzNDA5MjY2NQ==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2534092665","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-05T16:28:30Z","performed_via_github_app":null},{"id":2534092666,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1MzQwOTI2NjY=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2534092666","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-05T16:28:30Z","performed_via_github_app":null},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T00:32:01Z","updated_at":"2019-08-18T00:32:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/33","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/33/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/33/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/33/events","html_url":"https://github.com/rwf2/Rocket/issues/33","id":197443597,"node_id":"MDU6SXNzdWUxOTc0NDM1OTc=","number":33,"title":"Support for Server Sent Events","user":{"login":"rajsite","id":1588923,"node_id":"MDQ6VXNlcjE1ODg5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1588923?v=4","gravatar_id":"","url":"https://api.github.com/users/rajsite","html_url":"https://github.com/rajsite","followers_url":"https://api.github.com/users/rajsite/followers","following_url":"https://api.github.com/users/rajsite/following{/other_user}","gists_url":"https://api.github.com/users/rajsite/gists{/gist_id}","starred_url":"https://api.github.com/users/rajsite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajsite/subscriptions","organizations_url":"https://api.github.com/users/rajsite/orgs","repos_url":"https://api.github.com/users/rajsite/repos","events_url":"https://api.github.com/users/rajsite/events{/privacy}","received_events_url":"https://api.github.com/users/rajsite/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":442152232,"node_id":"MDU6TGFiZWw0NDIxNTIyMzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/request","name":"request","color":"5319E7","default":false,"description":"Request for new functionality"},{"id":442158672,"node_id":"MDU6TGFiZWw0NDIxNTg2NzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/accepted","name":"accepted","color":"0E8A16","default":false,"description":"An accepted request or suggestion"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/8","html_url":"https://github.com/rwf2/Rocket/milestone/8","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/8/labels","id":2300325,"node_id":"MDk6TWlsZXN0b25lMjMwMDMyNQ==","number":8,"title":"0.5.0","description":null,"creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"open","created_at":"2017-02-05T07:58:22Z","updated_at":"2023-04-05T18:18:52Z","due_on":null,"closed_at":null},"comments":22,"created_at":"2016-12-24T02:13:15Z","updated_at":"2021-06-03T20:32:34Z","closed_at":"2021-06-01T20:58:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"It looks like the [streams](https://github.com/SergioBenitez/Rocket/blob/14f79c37339d9cd4afe022dad37d4e20a6d81484/examples/stream/src/main.rs) could be used to implement [Server Sent Events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events), but it would be nice if there was some built in support.","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/33/reactions","total_count":27,"+1":27,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/33/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-30T18:04:31Z","updated_at":"2019-08-30T18:04:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/90","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/90/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/90/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/90/events","html_url":"https://github.com/rwf2/Rocket/issues/90","id":198257234,"node_id":"MDU6SXNzdWUxOTgyNTcyMzQ=","number":90,"title":"Native WebSocket support","user":{"login":"net","id":6983821,"node_id":"MDQ6VXNlcjY5ODM4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/6983821?v=4","gravatar_id":"","url":"https://api.github.com/users/net","html_url":"https://github.com/net","followers_url":"https://api.github.com/users/net/followers","following_url":"https://api.github.com/users/net/following{/other_user}","gists_url":"https://api.github.com/users/net/gists{/gist_id}","starred_url":"https://api.github.com/users/net/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/net/subscriptions","organizations_url":"https://api.github.com/users/net/orgs","repos_url":"https://api.github.com/users/net/repos","events_url":"https://api.github.com/users/net/events{/privacy}","received_events_url":"https://api.github.com/users/net/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542068,"node_id":"MDU6TGFiZWwzNDM1NDIwNjg=","url":"https://api.github.com/repos/rwf2/Rocket/labels/enhancement","name":"enhancement","color":"5319E7","default":true,"description":"A minor feature request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/9","html_url":"https://github.com/rwf2/Rocket/milestone/9","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/9/labels","id":2454990,"node_id":"MDk6TWlsZXN0b25lMjQ1NDk5MA==","number":9,"title":"0.8.0","description":null,"creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"open","created_at":"2017-04-13T09:53:47Z","updated_at":"2024-05-04T02:06:07Z","due_on":null,"closed_at":null},"comments":62,"created_at":"2017-01-01T05:30:56Z","updated_at":"2023-09-30T20:30:27Z","closed_at":"2023-04-04T22:42:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I think Rocket would benefit heavily from native WebSocket support. Even better would be something similar to [Phoenix's channels](http://www.phoenixframework.org/docs/channels).\r\n\r\nIt's great to see such a comprehensive web framework for Rust coming together!","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/90/reactions","total_count":235,"+1":222,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":13},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/90/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/527226448","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-527226448","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":527226448,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzIyNjQ0OA==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-02T19:08:58Z","updated_at":"2019-09-02T19:08:58Z","body":"I've been trying to draft pseudocode implementations of `Responder` for several use cases under both current `Read`-like interface and a proposed `Write`-like interface and hit a snag.\r\n\r\nThe flow currently defined by all of tower-service, hyper, and Rocket is approximately `fn handle(Request) -> Response`. The proposed flow for `Responder`, if I'm understanding correctly, is `fn respond_to(Request, &mut Response) -> ()`. The problem with this formulation is that (afaict) it prevents fairings from making any alterations to the response unless we significantly change the entire request/response flow. `respond_to` is called before fairings are run, at which point it's too late.\r\n\r\nIf we kept the current `Read`-like interface, I think we could still provide a `Write`-like adapter used as follows:\r\n\r\n```rust\r\nasync fn streaming_route() -> AsyncWrittenResponse {\r\n    AsyncWrittenResponse::from(|writer| async move {\r\n        for _ in 0..5 {\r\n            sleep(5).await;\r\n            write!(writer, \"data: hello\\n\").await;\r\n        }\r\n\r\n        write!(writer, \"\\n\").await;\r\n    })\r\n}\r\n```\r\n\r\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/527226448/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/531588802","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-531588802","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":531588802,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTU4ODgwMg==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-15T18:35:29Z","updated_at":"2019-09-15T18:35:29Z","body":"I have had this at the back of my mind for a while but not given too much dedicated attention to it. Here are some of my thoughts on the low-level `request->response` mechanism.\r\n\r\nI will refer to operations like SSE as a \"pushing response\", and reading a file off of the disk as a \"pullable response\". I will use synchronous terminology, but the arguments almost entirely apply the same to the asynchronous equivalent.\r\n\r\n* **`(request, mut output) -> ()` vs `(request) -> response` aka \"push vs pull\".** If the underlying interface (in hyper, tower, etc.) is push-based as in `hyper` 0.10, both pullable and pushing responses are easy to adapt: pushing responses can push into the underlying writer, and pullable responses can be streamed fairly efficiently with something like `copy_into`. If the underlying interface is pull-based as in `hyper` 0.13, as far as I can see pushing responses are automatically penalized because of the buffering required between the response side pushing and the read side pulling. I see this as a point in favor of an underlying write-like interface for performance.\r\n* **`(request<'a>) -> response<'a>`.** Rocket's responses can borrow from some of the request data, so some task spawning and passing data through a channel is currently required. I actually don't know if any interface change in `hyper` can help with this, because some of the data in `'a` lives on the stack somewhere in rocket. This does not necessitate any additional buffering of response data on top of the previous point, just a bit of indirection. But if `hyper` uses a primarily `Write`-based interface, we shouldn't need this indirection anymore.\r\n* **Consequences of a push-based interface for other fairings and responders.** This includes my previous comment, where we have to rethink on_response fairings. It also includes the different ergonomics of different response types like `Compression`, `ETag` calculation, or `SSE`. I have sketched a few imaginary responders in the case of either a push-based or pull-based API, and I don't think it's possible to make both ETag calculation (prefers read-like) and SSE (prefers write-like) maximally ergonomic at the same time; one or the other will suffer from an inverted control flow. I see this as a point in favor of a primarily pullable interface for `Responder`, based on the assumption that most responses are themselves pullable in nature.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/531588802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/565494346","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-565494346","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":565494346,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTQ5NDM0Ng==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-13T15:55:16Z","updated_at":"2019-12-13T15:55:16Z","body":"I think it's time to revive and tackle this this issue now that I've had some more time to work with things and hyper 0.13 is released.\r\n\r\nThere are actually two/three orthogonal aspects to consider here:\r\n\r\n* The \"push-based\" vs \"pull-based\" model I described already.\r\n  * In the pull-based model only, the \"response borrows from request\" problem appears.\r\n* The use of chunks (the `Bytes`) object vs `AsyncRead` or `AsyncWrite`.\r\n\r\nNote that:\r\n* hyper 0.10 used a push-based model with a `Write`r\r\n* hyper 0.13 uses a pull-based model with `Chunk`s.\r\n\r\nRocket 0.4 exposes a pull-based model with `Read`. Adapting this to hyper 0.10 is logically \"easy\": `response.copy_to(hyper_response_writer)`.\r\n\r\nAdapting Rocket's current pull-based `AsyncRead` model (in the `async` branch) to hyper 0.13 is tricky for two reasons:\r\n1. hyper wants to run a handler, giving it a request, and get a response back. However in Rocket responses can borrow from data on the stack inside the handler function, and it could be between difficult and impossible to change that. The current unoptimized solution is to spawn a background task that does the \"rocket\" side of the processing, and use an mpsc channel to pass the chunks back to the \"hyper\" side.\r\n2. hyper wants chunks (`Bytes`). Currently, I made an adapter `into_bytes_stream` that reads chunks from an `AsyncRead` and returns `Bytes` objects. It's pretty much not optimized at all.\r\n\r\n**I propose to solve these as follows:**\r\n1. We can stop using any channels by leveraging `Pin` and `unsafe` to create a single \"response unit\". This data structure would be along the lines of `(Request, Response<'request>, StreamState<'response>)`.\r\n2. I want to seriously consider the tradeoffs of using `Stream<Item=Bytes>` as the underlying interface instead of `AsyncRead`. As a rough guess, I think this would make `rocket.rs` simpler and make `responder.rs` and custom implementations of `Responder` harder.\r\n\r\nNote that similar concerns apply to `DataStream`. Currently it implements `AsyncRead` when perhaps it should implement `Stream<Item=Bytes>` in addition or instead. However, it is *much* easier from Rocket's to change or add that implementation than it is with `Responder`.\r\n\r\n---\r\n\r\nAnother note:\r\n\r\n@SergioBenitez mentioned:\r\n\r\n> For others, such as SSE, the write-based approach is clearly the way to go. We should support both.\r\n\r\nI actually found that this is not necessarily the case. I made an SSE implementation (https://git.jebrosen.com/jeb/rocket-rooms/src/commit/28479ce5d73b761f3c32f397726f8d28487ba0d3/src/sse/v2.rs) that converts a `Stream<Item=sse::Event>` into an `AsyncRead`. With crates like `async_stream`, these kinds of interfaces are actually fairly approachable now.\r\n\r\nA stream-based version of the \"write-like\" example might look like this:\r\n\r\n```\r\nimpl Responder for MyType {\r\n    fn respond_to(self, request: &Request) -> impl Stream<_> {\r\n        async_stream! {\r\n            for _ in 0..5 {\r\n                delay_for(5 seconds).await;\r\n                yield \"data: hello\\n\";\r\n            }\r\n\r\n            yield \"\\n\";\r\n        }\r\n    }\r\n}\r\n```","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/565494346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2881824573,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg4MTgyNDU3Mw==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2881824573","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-13T15:55:17Z","performed_via_github_app":null},{"id":2881824578,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4ODE4MjQ1Nzg=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2881824578","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-13T15:55:17Z","performed_via_github_app":null},{"id":2881825232,"node_id":"MDEyOkxhYmVsZWRFdmVudDI4ODE4MjUyMzI=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2881825232","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-12-13T15:55:27Z","label":{"name":"feedback wanted","color":"006b75"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/565837182","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-565837182","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":565837182,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTgzNzE4Mg==","user":{"login":"notriddle","id":1593513,"node_id":"MDQ6VXNlcjE1OTM1MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1593513?v=4","gravatar_id":"","url":"https://api.github.com/users/notriddle","html_url":"https://github.com/notriddle","followers_url":"https://api.github.com/users/notriddle/followers","following_url":"https://api.github.com/users/notriddle/following{/other_user}","gists_url":"https://api.github.com/users/notriddle/gists{/gist_id}","starred_url":"https://api.github.com/users/notriddle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/notriddle/subscriptions","organizations_url":"https://api.github.com/users/notriddle/orgs","repos_url":"https://api.github.com/users/notriddle/repos","events_url":"https://api.github.com/users/notriddle/events{/privacy}","received_events_url":"https://api.github.com/users/notriddle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-15T19:06:07Z","updated_at":"2019-12-15T19:09:25Z","body":"One of the main trade-offs you were mentioning is that middleware, like etag and gzip, wants to have a pull interface, while event systems (SSE, WebSocket, long polling) want a push interface.\r\n\r\nWhile it would probably be a little bit of a wart, I've seen other places that will offer a pull interface by default, and [use a `hijack()` function that takes the connection out of the pool](https://github.com/discourse/discourse/blob/master/lib/hijack.rb), bypasses all of the middleware, and lets you push directly onto the socket. It seems like this is what the event systems want anyway (you sure don't want etags, and gzip is kind of a waste for tiny event frames). Other systems that are *really* opinionated about how they pump their data, like if you to use `sendfile()`, or implement an HTTP `CONNECT` proxy, would also want to forego automatic response transformations.\r\n\r\nThough actually grabbing the raw socket like Discourse's Hijack middleware does is probably a non-starter since Rocket supports HTTP/2, and it uses a single socket is used for multiple responders at once. You can code up your own implementation of `AsyncWrite`, and Rust's future system makes it easy enough to implement backpressure on top of it, but you still don't get the raw socket. You also wouldn't get raw socket access if TLS is used.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/565837182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"notriddle","id":1593513,"node_id":"MDQ6VXNlcjE1OTM1MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1593513?v=4","gravatar_id":"","url":"https://api.github.com/users/notriddle","html_url":"https://github.com/notriddle","followers_url":"https://api.github.com/users/notriddle/followers","following_url":"https://api.github.com/users/notriddle/following{/other_user}","gists_url":"https://api.github.com/users/notriddle/gists{/gist_id}","starred_url":"https://api.github.com/users/notriddle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/notriddle/subscriptions","organizations_url":"https://api.github.com/users/notriddle/orgs","repos_url":"https://api.github.com/users/notriddle/repos","events_url":"https://api.github.com/users/notriddle/events{/privacy}","received_events_url":"https://api.github.com/users/notriddle/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ijackson","id":2090772,"node_id":"MDQ6VXNlcjIwOTA3NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2090772?v=4","gravatar_id":"","url":"https://api.github.com/users/ijackson","html_url":"https://github.com/ijackson","followers_url":"https://api.github.com/users/ijackson/followers","following_url":"https://api.github.com/users/ijackson/following{/other_user}","gists_url":"https://api.github.com/users/ijackson/gists{/gist_id}","starred_url":"https://api.github.com/users/ijackson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijackson/subscriptions","organizations_url":"https://api.github.com/users/ijackson/orgs","repos_url":"https://api.github.com/users/ijackson/repos","events_url":"https://api.github.com/users/ijackson/events{/privacy}","received_events_url":"https://api.github.com/users/ijackson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-05T01:00:49Z","updated_at":"2020-07-05T01:00:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1365","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1365/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1365/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1365/events","html_url":"https://github.com/rwf2/Rocket/pull/1365","id":650979536,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ0MzQzODY0","number":1365,"title":"SSE for Rocket 0.4.x","user":{"login":"ijackson","id":2090772,"node_id":"MDQ6VXNlcjIwOTA3NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2090772?v=4","gravatar_id":"","url":"https://api.github.com/users/ijackson","html_url":"https://github.com/ijackson","followers_url":"https://api.github.com/users/ijackson/followers","following_url":"https://api.github.com/users/ijackson/following{/other_user}","gists_url":"https://api.github.com/users/ijackson/gists{/gist_id}","starred_url":"https://api.github.com/users/ijackson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijackson/subscriptions","organizations_url":"https://api.github.com/users/ijackson/orgs","repos_url":"https://api.github.com/users/ijackson/repos","events_url":"https://api.github.com/users/ijackson/events{/privacy}","received_events_url":"https://api.github.com/users/ijackson/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":763868037,"node_id":"MDU6TGFiZWw3NjM4NjgwMzc=","url":"https://api.github.com/repos/rwf2/Rocket/labels/pr:%20merged","name":"pr: merged","color":"5319E7","default":false,"description":"This pull request was merged manually."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-07-05T01:00:49Z","updated_at":"2020-10-30T11:45:58Z","closed_at":"2020-10-30T06:58:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rwf2/Rocket/pulls/1365","html_url":"https://github.com/rwf2/Rocket/pull/1365","diff_url":"https://github.com/rwf2/Rocket/pull/1365.diff","patch_url":"https://github.com/rwf2/Rocket/pull/1365.patch","merged_at":null},"body":"Hi.  I'm writing a Rocket application which uses JS SSE.  I had some difficulties getting my events to get through in a timely fashion.  After some investigation, I came up with this MR.\r\n\r\nWith this MR, I am able to use SSE with Rocket as expected.  I implement a Read which blocks and dribbles out data as needed.  (I think I will need to increase my thread pool size and I will probably have to do the multiple-domains-SSE trick to avoid the SSE connection limit bug.)\r\n\r\nPlease see the commit message of the 2nd commit for lots of discussion about my API design strategy.  The API is certainly not as pretty as it might be in some alternative universe, but I think it's about as good as we're going to get for this one.  At least it doesn't get in the way of 'normal' use of Rocket.\r\n\r\nTo save you digging it out of the github UI here it is:\r\n\r\n```\r\nStream: Provide a way to flush chunks, to support SSE\r\n\r\nProblem:\r\n\r\nTo support Server-Side Events (SSE, aka JS EventSource) it is\r\nnecessary for the server to keep open an HTTP request and dribble out\r\ndata (the event stream) as it is generated.\r\n\r\nCurrently, Rocket handles this poorly.  It likes to fill in complete\r\nchunks.  Also there is no way to force a flush of the underlying\r\nstream: in particular, there is a BufWriter underneath hyper.  hyper\r\nwould honour a flush request, but there is no way to send one.\r\n\r\nOptions:\r\n\r\nIdeally the code which is producing the data would be able to\r\nexplicitly designate when a flush should occur.  Certainly it would\r\nnot be acceptable to flush all the time for all readers.\r\n\r\n1. Invent a new kind of Body (UnbufferedChunked) which translates the\r\ndata from each Read::read() call into a single call to the stream\r\nwrite, and which always flushes.  This would be a seriously invasive\r\nchange.  And it would mean that SSE systems with fast event streams\r\nmight work poorly.\r\n\r\n2. Invent a new kind of Body which doesn't use Read at all, and\r\ninstead has a more sophisticated API.  This would be super-invasive\r\nand heavyweight.\r\n\r\n3. Find a way to encode the necessary information in the Read trait\r\nprotocol.\r\n\r\nChosen solution:\r\n\r\nIt turns out that option 3 is quite easy.  The read() call can return\r\nan io::Error.  There are at least some errors that clearly ought not\r\nto occur here.  An obvious one is ErrorKind::WouldBlock.\r\n\r\nRocket expects the reader to block.  WouldBlock is only applicable to\r\nnonblocking objects.  And indeed the reader will generally want to\r\nreturn it (once) when it is about to block.\r\n\r\nWe have the Stream treat io::Error with ErrorKind::WouldBlock, from\r\nits reader, as a request to flush.  There are two effects: we stop\r\ntrying to accumulate a full chunk, and we issue a flush call to the\r\nunderlying writer (which, eventually, makes it all the way down into\r\nhyper and BufWriter).\r\n\r\nImplementation:\r\n\r\nWe provide a method ReadExt::read_max_wfs which is like read_max but\r\nwhich handles the WouldBlock case specially.  It tells its caller\r\nwhether a flush was wanted.\r\n\r\nThis is implemented by adding a new code to read_max_internal.  with a\r\nboolean to control it.  This seemed better than inventing a trait or\r\nsomething.  (The other read_max call site is reading http headers in\r\ndata.rs, and I think it wants to tread WouldBlock as an error.)\r\n\r\nRisks and downsides:\r\n\r\nObviously this ad-hoc extension to the Read protocol is not\r\nparticularly pretty.  At least, people who aren't doing SSE (or\r\nsimilar) won't need it and can ignore it.\r\n\r\nIf for some reason the data source is actually nonblocking, this new\r\narrangement would spin, rather than calling the situation a fatal\r\nerror.  This possibility seems fairly remote, in production settings\r\nat least.  To migitate this it might be possible for the loop in\r\nRocket::issue_response to bomb out if it notices it is sending lots of\r\nconsecutive empty chunks.\r\n\r\nIt is possible that async Rocket will want to take a different\r\napproach entirely.  But it will definitely need to solve this problem\r\nsomehow, and naively it seems like the obvious transformation to eg\r\nthe Tokio read trait would have the same API limitation and admit the\r\nsame solution.  (Having a flush occur every time the body stream\r\nfuture returns Pending would not be good for performance, I think.)\r\n```\r\n\r\nBackground and references:\r\n\r\nI found these issues already:\r\n * #1066 _(async) Add a Write-like interface for responses_: I guess this may obviate the need for the approach I have taken in 0.4.  I'll leave you to think about that :-).\r\n * #33 _Support for Server Sent Events_.  I think this MR would fix #33 for 0.4.  I haven't looked at 0.5 at all but it seems likely that a similar approach would be possible.\r\n * #90 _Native WebSocket support_.  Well that's a good idea, but not closely related.  I thougt I should mention it because WebSockets are an alternative way to solve some of the problems that SSE addresses.\r\n \r\nPS: Thanks for Rocket.  This is my 2nd Rocket application so consider yourselves appreciated :-).","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1365/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1365/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/804600079","html_url":"https://github.com/rwf2/Rocket/issues/1066#issuecomment-804600079","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1066","id":804600079,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYwMDA3OQ==","user":{"login":"DanielJoyce","id":947350,"node_id":"MDQ6VXNlcjk0NzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/947350?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielJoyce","html_url":"https://github.com/DanielJoyce","followers_url":"https://api.github.com/users/DanielJoyce/followers","following_url":"https://api.github.com/users/DanielJoyce/following{/other_user}","gists_url":"https://api.github.com/users/DanielJoyce/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielJoyce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielJoyce/subscriptions","organizations_url":"https://api.github.com/users/DanielJoyce/orgs","repos_url":"https://api.github.com/users/DanielJoyce/repos","events_url":"https://api.github.com/users/DanielJoyce/events{/privacy}","received_events_url":"https://api.github.com/users/DanielJoyce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T04:04:32Z","updated_at":"2021-03-23T04:04:32Z","body":"Websockets and see just don't fit in the normal middleware flow because they aren't necessarily http and so it doesn't apply.\n\nBy definition the middleware idea of a response goes out the window. It should just be documented that if you 'hijack' a connection and upgrade it into a websocket, the response stuff just won't fire. But it might make sense to add another middleware hook for these kinds of events so things like logging middleware could could be like 'oh it got converted, I need to do something'. \n\nAlso, does this bring in the idea perhaps of websocket or sse 'middleware'? Something that can wrap around their connection lifecycle and provide hooks useful for other things as well?\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/804600079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DanielJoyce","id":947350,"node_id":"MDQ6VXNlcjk0NzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/947350?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielJoyce","html_url":"https://github.com/DanielJoyce","followers_url":"https://api.github.com/users/DanielJoyce/followers","following_url":"https://api.github.com/users/DanielJoyce/following{/other_user}","gists_url":"https://api.github.com/users/DanielJoyce/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielJoyce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielJoyce/subscriptions","organizations_url":"https://api.github.com/users/DanielJoyce/orgs","repos_url":"https://api.github.com/users/DanielJoyce/repos","events_url":"https://api.github.com/users/DanielJoyce/events{/privacy}","received_events_url":"https://api.github.com/users/DanielJoyce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4655532893,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NTU1MzI4OTM=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4655532893","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68aceeb0a78ed01dbe14b3c825fbde0167046086","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/68aceeb0a78ed01dbe14b3c825fbde0167046086","created_at":"2021-04-28T09:10:47Z","performed_via_github_app":null},{"id":4655604318,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NTU2MDQzMTg=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4655604318","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"109b25bc5936018e5aaefc16285f8b5e0cc643e7","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/109b25bc5936018e5aaefc16285f8b5e0cc643e7","created_at":"2021-04-28T09:23:33Z","performed_via_github_app":null},{"id":4655615544,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NTU2MTU1NDQ=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4655615544","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7d78adb20e84cc132bac0c1bb312a628d6742d27","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/7d78adb20e84cc132bac0c1bb312a628d6742d27","created_at":"2021-04-28T09:25:35Z","performed_via_github_app":null},{"id":4656104997,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2NTYxMDQ5OTc=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4656104997","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"336a03e27f43d0ec3b02d8b99e10d2df202523ad","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/336a03e27f43d0ec3b02d8b99e10d2df202523ad","created_at":"2021-04-28T11:01:16Z","performed_via_github_app":null},{"id":4656194120,"node_id":"MDExOkNsb3NlZEV2ZW50NDY1NjE5NDEyMA==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/4656194120","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"336a03e27f43d0ec3b02d8b99e10d2df202523ad","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/336a03e27f43d0ec3b02d8b99e10d2df202523ad","created_at":"2021-04-28T11:20:42Z","state_reason":null,"performed_via_github_app":null}]