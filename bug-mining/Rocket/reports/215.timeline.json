[{"id":5266253065,"node_id":"LE_lADOAzqMt847AyA2zwAAAAE55KUJ","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/5266253065","actor":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-09-07T14:42:10Z","label":{"name":"request","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/917321458","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-917321458","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":917321458,"node_id":"IC_kwDOAzqMt842rTby","user":{"login":"zopieux","id":81353,"node_id":"MDQ6VXNlcjgxMzUz","avatar_url":"https://avatars.githubusercontent.com/u/81353?v=4","gravatar_id":"","url":"https://api.github.com/users/zopieux","html_url":"https://github.com/zopieux","followers_url":"https://api.github.com/users/zopieux/followers","following_url":"https://api.github.com/users/zopieux/following{/other_user}","gists_url":"https://api.github.com/users/zopieux/gists{/gist_id}","starred_url":"https://api.github.com/users/zopieux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zopieux/subscriptions","organizations_url":"https://api.github.com/users/zopieux/orgs","repos_url":"https://api.github.com/users/zopieux/repos","events_url":"https://api.github.com/users/zopieux/events{/privacy}","received_events_url":"https://api.github.com/users/zopieux/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-11T02:20:55Z","updated_at":"2021-09-11T02:20:55Z","body":"Ah, fun timing, there is some context and half-solutions in a related (but closed) bug that I just commented on: https://github.com/SergioBenitez/Rocket/issues/1640#issuecomment-917320655\r\n\r\nSince July 18th and the implementation of async `rocket_db_pools` (5b1a04deabc75981fde566c4381b4cba0d3b7cc8), it looks like this became possible, so I've asked Sergio about the expected usage pattern. I feel like this should be documented in a \"background processing\" section of some sort, given the multiple FRs we've seen.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/917321458/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zopieux","id":81353,"node_id":"MDQ6VXNlcjgxMzUz","avatar_url":"https://avatars.githubusercontent.com/u/81353?v=4","gravatar_id":"","url":"https://api.github.com/users/zopieux","html_url":"https://github.com/zopieux","followers_url":"https://api.github.com/users/zopieux/followers","following_url":"https://api.github.com/users/zopieux/following{/other_user}","gists_url":"https://api.github.com/users/zopieux/gists{/gist_id}","starred_url":"https://api.github.com/users/zopieux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zopieux/subscriptions","organizations_url":"https://api.github.com/users/zopieux/orgs","repos_url":"https://api.github.com/users/zopieux/repos","events_url":"https://api.github.com/users/zopieux/events{/privacy}","received_events_url":"https://api.github.com/users/zopieux/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/918188951","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-918188951","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":918188951,"node_id":"IC_kwDOAzqMt842unOX","user":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T13:25:41Z","updated_at":"2021-09-13T13:25:41Z","body":"The async pools will only work with async-capable backends though (e.g. no diesel).\r\n\r\nIf the general approach of exposing a `get_pool(&self) -> Option<Pool>` in the `sync_db_pools` crate is deemed to be OK (I'm not sure if exposing the pool can have any side effects), then I'll happily try to contribute an implementation!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/918188951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/926980865","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-926980865","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":926980865,"node_id":"IC_kwDOAzqMt843QJsB","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-25T00:27:51Z","updated_at":"2021-09-25T00:27:51Z","body":"> If the general approach of exposing a `get_pool(&self) -> Option<Pool>` in the `sync_db_pools` crate is deemed to be OK (I'm not sure if exposing the pool can have any side effects), then I'll happily try to contribute an implementation!\r\n\r\nI think we already have this. It's simply a matter of exposing it. We should probably call/rename it `fetch`, to be on-par with the new `db_pools` crate.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/926980865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/931549682","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-931549682","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":931549682,"node_id":"IC_kwDOAzqMt843hlHy","user":{"login":"Mike-Neto","id":34457476,"node_id":"MDQ6VXNlcjM0NDU3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/34457476?v=4","gravatar_id":"","url":"https://api.github.com/users/Mike-Neto","html_url":"https://github.com/Mike-Neto","followers_url":"https://api.github.com/users/Mike-Neto/followers","following_url":"https://api.github.com/users/Mike-Neto/following{/other_user}","gists_url":"https://api.github.com/users/Mike-Neto/gists{/gist_id}","starred_url":"https://api.github.com/users/Mike-Neto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mike-Neto/subscriptions","organizations_url":"https://api.github.com/users/Mike-Neto/orgs","repos_url":"https://api.github.com/users/Mike-Neto/repos","events_url":"https://api.github.com/users/Mike-Neto/events{/privacy}","received_events_url":"https://api.github.com/users/Mike-Neto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T18:10:02Z","updated_at":"2021-09-30T18:11:19Z","body":"Hey, I'm currently in the process of doing something very close to this and would not mind adding some docs on how to do it, however currently I was not able to make it work. While app runs the connection seems to never be released so every other endpoint timeouts, if someone could give me some pointers on what I'm missing I could then create some docs & examples for the general get a connection for BG tasks use case using the `rocket_sync_db_pools` crate:\r\n\r\nHere is what I have:\r\n```rust\r\nrocket.attach(rocket::fairing::AdHoc::on_liftoff(\r\n\"Background Task Runner\",\r\n            move |rocket| {\r\n                Box::pin(async move {\r\n                    let mut interval =\r\n                        rocket::tokio::time::interval(rocket::tokio::time::Duration::from_secs(60));\r\n                    let mut ticks: i32 = 0;\r\n                    interval.tick().await; \r\n                    loop {\r\n                        {\r\n                            // Inner scope that I expected would release the connection.\r\n                            let conn = models::DbConn::get_one(rocket).await;\r\n                            run_background_jobs(&conn.unwrap(), ticks).await;\r\n                        }\r\n                        interval.tick().await;\r\n                    }\r\n                })\r\n            },\r\n        ));\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/931549682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Mike-Neto","id":34457476,"node_id":"MDQ6VXNlcjM0NDU3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/34457476?v=4","gravatar_id":"","url":"https://api.github.com/users/Mike-Neto","html_url":"https://github.com/Mike-Neto","followers_url":"https://api.github.com/users/Mike-Neto/followers","following_url":"https://api.github.com/users/Mike-Neto/following{/other_user}","gists_url":"https://api.github.com/users/Mike-Neto/gists{/gist_id}","starred_url":"https://api.github.com/users/Mike-Neto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mike-Neto/subscriptions","organizations_url":"https://api.github.com/users/Mike-Neto/orgs","repos_url":"https://api.github.com/users/Mike-Neto/repos","events_url":"https://api.github.com/users/Mike-Neto/events{/privacy}","received_events_url":"https://api.github.com/users/Mike-Neto/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T17:34:24Z","updated_at":"2021-11-02T17:34:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1972","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1972/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1972/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1972/events","html_url":"https://github.com/rwf2/Rocket/pull/1972","id":1042636690,"node_id":"PR_kwDOAzqMt84t_wg2","number":1972,"title":"sync_db_pools: Expose connection pool","user":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-11-02T17:34:24Z","updated_at":"2022-05-24T23:51:20Z","closed_at":"2022-05-24T23:50:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rwf2/Rocket/pulls/1972","html_url":"https://github.com/rwf2/Rocket/pull/1972","diff_url":"https://github.com/rwf2/Rocket/pull/1972.diff","patch_url":"https://github.com/rwf2/Rocket/pull/1972.patch","merged_at":null},"body":"This is a proposed fix for #1884.\r\n\r\nIt adds a connection pool reference to every connection handle and exposes that through a generated method.\r\n\r\nIs this the right approach? If not, how else should it be implemented?","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1972/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/957975779","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-957975779","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":957975779,"node_id":"IC_kwDOAzqMt845GYzj","user":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T17:34:41Z","updated_at":"2021-11-02T17:34:41Z","body":"Proposed fix in #1972.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/957975779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1075866102","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-1075866102","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":1075866102,"node_id":"IC_kwDOAzqMt85AIGn2","user":{"login":"violarulan","id":10095657,"node_id":"MDQ6VXNlcjEwMDk1NjU3","avatar_url":"https://avatars.githubusercontent.com/u/10095657?v=4","gravatar_id":"","url":"https://api.github.com/users/violarulan","html_url":"https://github.com/violarulan","followers_url":"https://api.github.com/users/violarulan/followers","following_url":"https://api.github.com/users/violarulan/following{/other_user}","gists_url":"https://api.github.com/users/violarulan/gists{/gist_id}","starred_url":"https://api.github.com/users/violarulan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/violarulan/subscriptions","organizations_url":"https://api.github.com/users/violarulan/orgs","repos_url":"https://api.github.com/users/violarulan/repos","events_url":"https://api.github.com/users/violarulan/events{/privacy}","received_events_url":"https://api.github.com/users/violarulan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T03:03:35Z","updated_at":"2022-03-23T03:03:35Z","body":"@Mike-Neto \r\n\r\nI use this and it works for me. Just get the connection before spawning. And it doesn't block the app.\r\n```\r\n        .attach(AdHoc::on_liftoff(\"DB polling\", |rocket| {\r\n            Box::pin(async move {\r\n                let conn = YourDBConn::get_one(&rocket).await.expect(\"database connection\");\r\n                rocket::tokio::spawn(async move {\r\n                    let mut interval = tokio::time::interval(tokio::time::Duration::from_secs(10));\r\n                    loop {\r\n                        interval.tick().await;\r\n                        do_sql_stuff(&conn).await;\r\n                    }\r\n                });\r\n            })\r\n        }))\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1075866102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"violarulan","id":10095657,"node_id":"MDQ6VXNlcjEwMDk1NjU3","avatar_url":"https://avatars.githubusercontent.com/u/10095657?v=4","gravatar_id":"","url":"https://api.github.com/users/violarulan","html_url":"https://github.com/violarulan","followers_url":"https://api.github.com/users/violarulan/followers","following_url":"https://api.github.com/users/violarulan/following{/other_user}","gists_url":"https://api.github.com/users/violarulan/gists{/gist_id}","starred_url":"https://api.github.com/users/violarulan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/violarulan/subscriptions","organizations_url":"https://api.github.com/users/violarulan/orgs","repos_url":"https://api.github.com/users/violarulan/repos","events_url":"https://api.github.com/users/violarulan/events{/privacy}","received_events_url":"https://api.github.com/users/violarulan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6288144498,"node_id":"MEE_lADOAzqMt847AyA2zwAAAAF2zXhy","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/6288144498","actor":{"login":"Mike-Neto","id":34457476,"node_id":"MDQ6VXNlcjM0NDU3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/34457476?v=4","gravatar_id":"","url":"https://api.github.com/users/Mike-Neto","html_url":"https://github.com/Mike-Neto","followers_url":"https://api.github.com/users/Mike-Neto/followers","following_url":"https://api.github.com/users/Mike-Neto/following{/other_user}","gists_url":"https://api.github.com/users/Mike-Neto/gists{/gist_id}","starred_url":"https://api.github.com/users/Mike-Neto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mike-Neto/subscriptions","organizations_url":"https://api.github.com/users/Mike-Neto/orgs","repos_url":"https://api.github.com/users/Mike-Neto/repos","events_url":"https://api.github.com/users/Mike-Neto/events{/privacy}","received_events_url":"https://api.github.com/users/Mike-Neto/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-23T03:03:35Z","performed_via_github_app":null},{"id":6288144505,"node_id":"SE_lADOAzqMt847AyA2zwAAAAF2zXh5","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/6288144505","actor":{"login":"Mike-Neto","id":34457476,"node_id":"MDQ6VXNlcjM0NDU3NDc2","avatar_url":"https://avatars.githubusercontent.com/u/34457476?v=4","gravatar_id":"","url":"https://api.github.com/users/Mike-Neto","html_url":"https://github.com/Mike-Neto","followers_url":"https://api.github.com/users/Mike-Neto/followers","following_url":"https://api.github.com/users/Mike-Neto/following{/other_user}","gists_url":"https://api.github.com/users/Mike-Neto/gists{/gist_id}","starred_url":"https://api.github.com/users/Mike-Neto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mike-Neto/subscriptions","organizations_url":"https://api.github.com/users/Mike-Neto/orgs","repos_url":"https://api.github.com/users/Mike-Neto/repos","events_url":"https://api.github.com/users/Mike-Neto/events{/privacy}","received_events_url":"https://api.github.com/users/Mike-Neto/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-23T03:03:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1116759493","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-1116759493","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":1116759493,"node_id":"IC_kwDOAzqMt85CkGXF","user":{"login":"DanielJoyce","id":947350,"node_id":"MDQ6VXNlcjk0NzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/947350?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielJoyce","html_url":"https://github.com/DanielJoyce","followers_url":"https://api.github.com/users/DanielJoyce/followers","following_url":"https://api.github.com/users/DanielJoyce/following{/other_user}","gists_url":"https://api.github.com/users/DanielJoyce/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielJoyce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielJoyce/subscriptions","organizations_url":"https://api.github.com/users/DanielJoyce/orgs","repos_url":"https://api.github.com/users/DanielJoyce/repos","events_url":"https://api.github.com/users/DanielJoyce/events{/privacy}","received_events_url":"https://api.github.com/users/DanielJoyce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:31:42Z","updated_at":"2022-05-03T23:31:42Z","body":"You're gonna want to hand off to some sort of worker instance that only uses a small set of connections in a dedicated small pool, otherwise long running tasks will consome all the connections in a pool if enough come in, blocking everything.\r\n\r\nLong running jobs should have their own queue, pools, and workers.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1116759493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DanielJoyce","id":947350,"node_id":"MDQ6VXNlcjk0NzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/947350?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielJoyce","html_url":"https://github.com/DanielJoyce","followers_url":"https://api.github.com/users/DanielJoyce/followers","following_url":"https://api.github.com/users/DanielJoyce/following{/other_user}","gists_url":"https://api.github.com/users/DanielJoyce/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielJoyce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielJoyce/subscriptions","organizations_url":"https://api.github.com/users/DanielJoyce/orgs","repos_url":"https://api.github.com/users/DanielJoyce/repos","events_url":"https://api.github.com/users/DanielJoyce/events{/privacy}","received_events_url":"https://api.github.com/users/DanielJoyce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1117036167","html_url":"https://github.com/rwf2/Rocket/issues/1884#issuecomment-1117036167","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/1884","id":1117036167,"node_id":"IC_kwDOAzqMt85ClJ6H","user":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T08:08:34Z","updated_at":"2022-05-04T08:08:34Z","body":"> I use this and it works for me. Just get the connection before spawning. And it doesn't block the app.\r\n\r\nI think that won't work in my use case, because I don't just need a single connection, I need a connection that can be cloned and passed to separate threads (i.e. a pool).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1117036167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"threema-danilo","id":78751145,"node_id":"MDQ6VXNlcjc4NzUxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/78751145?v=4","gravatar_id":"","url":"https://api.github.com/users/threema-danilo","html_url":"https://github.com/threema-danilo","followers_url":"https://api.github.com/users/threema-danilo/followers","following_url":"https://api.github.com/users/threema-danilo/following{/other_user}","gists_url":"https://api.github.com/users/threema-danilo/gists{/gist_id}","starred_url":"https://api.github.com/users/threema-danilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/threema-danilo/subscriptions","organizations_url":"https://api.github.com/users/threema-danilo/orgs","repos_url":"https://api.github.com/users/threema-danilo/repos","events_url":"https://api.github.com/users/threema-danilo/events{/privacy}","received_events_url":"https://api.github.com/users/threema-danilo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-19T00:56:34Z","updated_at":"2022-05-19T00:56:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2190","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/2190/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/2190/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/2190/events","html_url":"https://github.com/rwf2/Rocket/issues/2190","id":1240375614,"node_id":"I_kwDOAzqMt85J7qE-","number":2190,"title":"Add support for deadpool-diesel to rocket_db_pools","user":{"login":"AndrolGenhald","id":7794502,"node_id":"MDQ6VXNlcjc3OTQ1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7794502?v=4","gravatar_id":"","url":"https://api.github.com/users/AndrolGenhald","html_url":"https://github.com/AndrolGenhald","followers_url":"https://api.github.com/users/AndrolGenhald/followers","following_url":"https://api.github.com/users/AndrolGenhald/following{/other_user}","gists_url":"https://api.github.com/users/AndrolGenhald/gists{/gist_id}","starred_url":"https://api.github.com/users/AndrolGenhald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndrolGenhald/subscriptions","organizations_url":"https://api.github.com/users/AndrolGenhald/orgs","repos_url":"https://api.github.com/users/AndrolGenhald/repos","events_url":"https://api.github.com/users/AndrolGenhald/events{/privacy}","received_events_url":"https://api.github.com/users/AndrolGenhald/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":442152232,"node_id":"MDU6TGFiZWw0NDIxNTIyMzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/request","name":"request","color":"5319E7","default":false,"description":"Request for new functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-05-18T18:54:19Z","updated_at":"2022-05-19T01:54:01Z","closed_at":"2022-05-19T01:54:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I would like to move to the async rocket_db_pools crate instead of using rocket_sync_db_pools, but I'm using diesel. Deadpool [supports diesel](https://docs.rs/deadpool-diesel/latest/deadpool_diesel/), but rocket_db_pools currently only allows using deadpool with postgres and redis. It would be great if support could be added for diesel, probably with features `deadpool_diesel_sqlite`, `deadpool_diesel_postgres`, and `deadpool_diesel_mysql`.","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2190/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/2190/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":6673006342,"node_id":"CE_lADOAzqMt847AyA2zwAAAAGNvf8G","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/6673006342","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"04819d8cfdae92e69162f051c5571234b14c5387","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/04819d8cfdae92e69162f051c5571234b14c5387","created_at":"2022-05-24T23:50:46Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"yzernik","id":890133,"node_id":"MDQ6VXNlcjg5MDEzMw==","avatar_url":"https://avatars.githubusercontent.com/u/890133?v=4","gravatar_id":"","url":"https://api.github.com/users/yzernik","html_url":"https://github.com/yzernik","followers_url":"https://api.github.com/users/yzernik/followers","following_url":"https://api.github.com/users/yzernik/following{/other_user}","gists_url":"https://api.github.com/users/yzernik/gists{/gist_id}","starred_url":"https://api.github.com/users/yzernik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzernik/subscriptions","organizations_url":"https://api.github.com/users/yzernik/orgs","repos_url":"https://api.github.com/users/yzernik/repos","events_url":"https://api.github.com/users/yzernik/events{/privacy}","received_events_url":"https://api.github.com/users/yzernik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T06:48:03Z","updated_at":"2022-07-01T06:48:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1640","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1640/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1640/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1640/events","html_url":"https://github.com/rwf2/Rocket/issues/1640","id":892824928,"node_id":"MDU6SXNzdWU4OTI4MjQ5Mjg=","number":1640,"title":"Background Processes","user":{"login":"jafioti","id":13525371,"node_id":"MDQ6VXNlcjEzNTI1Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/13525371?v=4","gravatar_id":"","url":"https://api.github.com/users/jafioti","html_url":"https://github.com/jafioti","followers_url":"https://api.github.com/users/jafioti/followers","following_url":"https://api.github.com/users/jafioti/following{/other_user}","gists_url":"https://api.github.com/users/jafioti/gists{/gist_id}","starred_url":"https://api.github.com/users/jafioti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jafioti/subscriptions","organizations_url":"https://api.github.com/users/jafioti/orgs","repos_url":"https://api.github.com/users/jafioti/repos","events_url":"https://api.github.com/users/jafioti/events{/privacy}","received_events_url":"https://api.github.com/users/jafioti/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542075,"node_id":"MDU6TGFiZWwzNDM1NDIwNzU=","url":"https://api.github.com/repos/rwf2/Rocket/labels/question","name":"question","color":"D61CBC","default":true,"description":"A question (converts to discussion)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2021-05-17T02:07:10Z","updated_at":"2022-07-01T14:59:03Z","closed_at":"2021-05-18T00:21:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I am trying to run a background process every few minutes with access to a managed state. I have a number of endpoints that use this shared state, currently stored in a mutex. One way I can think of is to setup a new endpoint to do my work, and then launch another thread that makes a request to that endpoint every few minutes, but this seems janky.\r\n\r\nWhat would be the recommended way of doing this?\r\nSorry for the lack of specific code, I think this is a pretty general problem not specific to my project.","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1640/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11603836698,"node_id":"REFE_lADOAzqMt847AyA2zwAAAAKzpH8a","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/11603836698","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"04819d8cfdae92e69162f051c5571234b14c5387","commit_url":"https://api.github.com/repos/Necmttn/Rocket/commits/04819d8cfdae92e69162f051c5571234b14c5387","created_at":"2024-01-26T01:03:09Z","performed_via_github_app":null}]