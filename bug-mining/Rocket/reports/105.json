{"url":"https://api.github.com/repos/rwf2/Rocket/issues/801","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/801/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/801/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/801/events","html_url":"https://github.com/rwf2/Rocket/issues/801","id":373750916,"node_id":"MDU6SXNzdWUzNzM3NTA5MTY=","number":801,"title":"Run CI on Windows","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542070,"node_id":"MDU6TGFiZWwzNDM1NDIwNzA=","url":"https://api.github.com/repos/rwf2/Rocket/labels/help%20wanted","name":"help wanted","color":"008672","default":true,"description":"Contributions to this issue are needed"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2018-10-25T02:44:41Z","updated_at":"2019-07-06T07:59:27Z","closed_at":"2019-07-06T07:59:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Travis now supports Windows! This gives us an opportunity to test Rocket on Windows. The [`travis-windows`](https://github.com/SergioBenitez/Rocket/tree/travis-windows) branch enables support for Travis on Windows. What's more, recent commits have fixed several issues with the unit tests that resulted in failures on Windows. This should mean that, given the right environment, Rocket's test suite should pass on Windows.\r\n\r\nUnfortunately, tests currently fail on Travis for Windows because of missing libraries. In particular, we need three native libraries to run all of Rocket's test suite:\r\n\r\n  * `libmysqlclient`\r\n  * `sqlite3`\r\n  * `libpq` (postgres)\r\n\r\nAccording to [windows-server-2016-ci-onion-packages.txt](https://github.com/travis-ci/packer-templates/blob/master/packer-assets/windows-server-2016-ci-onion-packages.txt), mysql and postgres are preinstalled, so it should be a matter of setting the correct environment variables or similar to get the Rust libraries to find them. `sqlite3` is installable via [Chocolatey](https://chocolatey.org/), which is preinstalled on the Travis image.\r\n\r\nIf anyone is particularly familiar with native library management in Windows and wants to take a stab at getting the right incantations in the `.travis.yml` file, your help would be much appreciated.","closed_by":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/801/timeline","performed_via_github_app":null,"state_reason":"completed"}