[{"id":1856360112,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4NTYzNjAxMTI=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1856360112","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-09-19T23:25:17Z","label":{"name":"request","color":"fbca04"},"performed_via_github_app":null},{"id":1856360114,"node_id":"MDEyOkxhYmVsZWRFdmVudDE4NTYzNjAxMTQ=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1856360114","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-09-19T23:25:17Z","label":{"name":"accepted","color":"0e8a16"},"performed_via_github_app":null},{"id":1925075242,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5MjUwNzUyNDI=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1925075242","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-10-25T02:47:06Z","milestone":{"title":"0.5.0"},"performed_via_github_app":null},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-05T03:42:28Z","updated_at":"2019-02-05T03:42:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/914","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/914/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/914/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/914/events","html_url":"https://github.com/rwf2/Rocket/issues/914","id":406611998,"node_id":"MDU6SXNzdWU0MDY2MTE5OTg=","number":914,"title":"Accessing parameters and form variables in request guard","user":{"login":"InstinctBas","id":43229372,"node_id":"MDQ6VXNlcjQzMjI5Mzcy","avatar_url":"https://avatars.githubusercontent.com/u/43229372?v=4","gravatar_id":"","url":"https://api.github.com/users/InstinctBas","html_url":"https://github.com/InstinctBas","followers_url":"https://api.github.com/users/InstinctBas/followers","following_url":"https://api.github.com/users/InstinctBas/following{/other_user}","gists_url":"https://api.github.com/users/InstinctBas/gists{/gist_id}","starred_url":"https://api.github.com/users/InstinctBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/InstinctBas/subscriptions","organizations_url":"https://api.github.com/users/InstinctBas/orgs","repos_url":"https://api.github.com/users/InstinctBas/repos","events_url":"https://api.github.com/users/InstinctBas/events{/privacy}","received_events_url":"https://api.github.com/users/InstinctBas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542075,"node_id":"MDU6TGFiZWwzNDM1NDIwNzU=","url":"https://api.github.com/repos/rwf2/Rocket/labels/question","name":"question","color":"D61CBC","default":true,"description":"A question (converts to discussion)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-02-05T03:05:30Z","updated_at":"2019-02-24T22:10:29Z","closed_at":"2019-02-23T20:36:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I might be going down the wrong path here, still pretty new to rocket.\r\n\r\nI'm trying to implement a request guard that handles a part of the authentication that is the same for most of my routes. The idea is that it checks for an authentication token, checks if that token is still valid and if so, returns that token (and if not it fails).\r\n\r\nThe problem that I have is that there are multiple methods for sending the token to my web server depending on the abilities of whomever is accessing the server:\r\n- preferred way is in an authentication header (this bit I have working and is easy)\r\n- as an optional parameter in the URL\r\n- as a hidden form variable\r\n- as a cookie\r\n\r\nI already read elsewhere that we don't have access to the request body in a request guard so that might rule out the ability to handle a form variable, I guess I can live with that.\r\n\r\nAs an optional parameter I seem to be able to call get_param on the request but it takes an index, I guess I could loop it to see if I have a parameter called token?\r\n\r\nI haven't looked into cookies yet :)\r\n\r\nUsing rocket 0.4.0\r\n\r\nP.S. is there a discord/IRC/matrix/slack channel around for Rocket by any chance?","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/914/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T13:03:23Z","updated_at":"2019-03-13T13:03:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/944","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/944/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/944/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/944/events","html_url":"https://github.com/rwf2/Rocket/issues/944","id":419242656,"node_id":"MDU6SXNzdWU0MTkyNDI2NTY=","number":944,"title":"Question: Logging JSON POST request","user":{"login":"flosse","id":276043,"node_id":"MDQ6VXNlcjI3NjA0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/276043?v=4","gravatar_id":"","url":"https://api.github.com/users/flosse","html_url":"https://github.com/flosse","followers_url":"https://api.github.com/users/flosse/followers","following_url":"https://api.github.com/users/flosse/following{/other_user}","gists_url":"https://api.github.com/users/flosse/gists{/gist_id}","starred_url":"https://api.github.com/users/flosse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flosse/subscriptions","organizations_url":"https://api.github.com/users/flosse/orgs","repos_url":"https://api.github.com/users/flosse/repos","events_url":"https://api.github.com/users/flosse/events{/privacy}","received_events_url":"https://api.github.com/users/flosse/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542067,"node_id":"MDU6TGFiZWwzNDM1NDIwNjc=","url":"https://api.github.com/repos/rwf2/Rocket/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"},{"id":343542075,"node_id":"MDU6TGFiZWwzNDM1NDIwNzU=","url":"https://api.github.com/repos/rwf2/Rocket/labels/question","name":"question","color":"D61CBC","default":true,"description":"A question (converts to discussion)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-03-10T22:41:40Z","updated_at":"2019-03-13T13:03:23Z","closed_at":"2019-03-13T13:03:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'd like to log the JSON data of some POST requests (at lest for debugging) and I thought that should be easy to do but I couldn't find a solution.\r\nI tried to use fairing (with rocket `v0.4.0`) like this:\r\n\r\n```rust\r\nr.attach(AdHoc::on_request(\"POST logger\", |req, data| {\r\n  let mut buffer = String::new();\r\n  data.open().read_to_string(&mut buffer).unwrap();\r\n // ...\r\n});\r\n```\r\nBut the data `cannot move out of borrowed content`. Cloning the data isn't possible.\r\nCould you help me?\r\n\r\n**edit**:\r\nOr is there a way to intercept the parsing of a `Json<MyData>` argument to see what data comes in and what is expected?","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/944/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T02:26:06Z","updated_at":"2020-02-18T02:26:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1","repository_url":"https://api.github.com/repos/NilsIrl/RustyBot","labels_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1/comments","events_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1/events","html_url":"https://github.com/NilsIrl/RustyBot/issues/1","id":566605470,"node_id":"MDU6SXNzdWU1NjY2MDU0NzA=","number":1,"title":"Implement request verification","user":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-02-18T02:26:06Z","updated_at":"2020-02-18T02:26:06Z","closed_at":null,"author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":225688952,"node_id":"MDEwOlJlcG9zaXRvcnkyMjU2ODg5NTI=","name":"RustyBot","full_name":"NilsIrl/RustyBot","private":false,"owner":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/NilsIrl/RustyBot","description":"A slack bot that greets people","fork":false,"url":"https://api.github.com/repos/NilsIrl/RustyBot","forks_url":"https://api.github.com/repos/NilsIrl/RustyBot/forks","keys_url":"https://api.github.com/repos/NilsIrl/RustyBot/keys{/key_id}","collaborators_url":"https://api.github.com/repos/NilsIrl/RustyBot/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/NilsIrl/RustyBot/teams","hooks_url":"https://api.github.com/repos/NilsIrl/RustyBot/hooks","issue_events_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/events{/number}","events_url":"https://api.github.com/repos/NilsIrl/RustyBot/events","assignees_url":"https://api.github.com/repos/NilsIrl/RustyBot/assignees{/user}","branches_url":"https://api.github.com/repos/NilsIrl/RustyBot/branches{/branch}","tags_url":"https://api.github.com/repos/NilsIrl/RustyBot/tags","blobs_url":"https://api.github.com/repos/NilsIrl/RustyBot/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/NilsIrl/RustyBot/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/NilsIrl/RustyBot/git/refs{/sha}","trees_url":"https://api.github.com/repos/NilsIrl/RustyBot/git/trees{/sha}","statuses_url":"https://api.github.com/repos/NilsIrl/RustyBot/statuses/{sha}","languages_url":"https://api.github.com/repos/NilsIrl/RustyBot/languages","stargazers_url":"https://api.github.com/repos/NilsIrl/RustyBot/stargazers","contributors_url":"https://api.github.com/repos/NilsIrl/RustyBot/contributors","subscribers_url":"https://api.github.com/repos/NilsIrl/RustyBot/subscribers","subscription_url":"https://api.github.com/repos/NilsIrl/RustyBot/subscription","commits_url":"https://api.github.com/repos/NilsIrl/RustyBot/commits{/sha}","git_commits_url":"https://api.github.com/repos/NilsIrl/RustyBot/git/commits{/sha}","comments_url":"https://api.github.com/repos/NilsIrl/RustyBot/comments{/number}","issue_comment_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/comments{/number}","contents_url":"https://api.github.com/repos/NilsIrl/RustyBot/contents/{+path}","compare_url":"https://api.github.com/repos/NilsIrl/RustyBot/compare/{base}...{head}","merges_url":"https://api.github.com/repos/NilsIrl/RustyBot/merges","archive_url":"https://api.github.com/repos/NilsIrl/RustyBot/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/NilsIrl/RustyBot/downloads","issues_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues{/number}","pulls_url":"https://api.github.com/repos/NilsIrl/RustyBot/pulls{/number}","milestones_url":"https://api.github.com/repos/NilsIrl/RustyBot/milestones{/number}","notifications_url":"https://api.github.com/repos/NilsIrl/RustyBot/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/NilsIrl/RustyBot/labels{/name}","releases_url":"https://api.github.com/repos/NilsIrl/RustyBot/releases{/id}","deployments_url":"https://api.github.com/repos/NilsIrl/RustyBot/deployments","created_at":"2019-12-03T18:29:43Z","updated_at":"2021-05-11T14:50:01Z","pushed_at":"2020-11-01T12:12:33Z","git_url":"git://github.com/NilsIrl/RustyBot.git","ssh_url":"git@github.com:NilsIrl/RustyBot.git","clone_url":"https://github.com/NilsIrl/RustyBot.git","svn_url":"https://github.com/NilsIrl/RustyBot","homepage":null,"size":259,"stargazers_count":4,"watchers_count":4,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["gci2019"],"visibility":"public","forks":0,"open_issues":2,"watchers":4,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Slack documentation on how to verify requests: https://api.slack.com/docs/verifying-requests-from-slack\r\nFor HMAC: https://github.com/briansmith/ring https://briansmith.org/rustdoc/ring/hmac/index.html\r\n\r\nIt would be nice if it can be implemented as a guard:\r\n\r\nhttps://github.com/SergioBenitez/Rocket/issues/775\r\nhttps://api.rocket.rs/v0.4/rocket/data/trait.FromData.html","reactions":{"url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/NilsIrl/RustyBot/issues/1/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/587726726","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-587726726","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":587726726,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzcyNjcyNg==","user":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T19:42:24Z","updated_at":"2020-02-18T19:42:24Z","body":"This would also allow to `Forward` even when data has been read. A use case for this is to have multiple struct-s for different JSON data.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/587726726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T18:45:48Z","updated_at":"2020-05-11T18:45:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1297","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1297/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1297/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1297/events","html_url":"https://github.com/rwf2/Rocket/issues/1297","id":616078309,"node_id":"MDU6SXNzdWU2MTYwNzgzMDk=","number":1297,"title":"How to access raw POST data?","user":{"login":"mjanda","id":652954,"node_id":"MDQ6VXNlcjY1Mjk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/652954?v=4","gravatar_id":"","url":"https://api.github.com/users/mjanda","html_url":"https://github.com/mjanda","followers_url":"https://api.github.com/users/mjanda/followers","following_url":"https://api.github.com/users/mjanda/following{/other_user}","gists_url":"https://api.github.com/users/mjanda/gists{/gist_id}","starred_url":"https://api.github.com/users/mjanda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjanda/subscriptions","organizations_url":"https://api.github.com/users/mjanda/orgs","repos_url":"https://api.github.com/users/mjanda/repos","events_url":"https://api.github.com/users/mjanda/events{/privacy}","received_events_url":"https://api.github.com/users/mjanda/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542067,"node_id":"MDU6TGFiZWwzNDM1NDIwNjc=","url":"https://api.github.com/repos/rwf2/Rocket/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-11T18:09:29Z","updated_at":"2020-05-11T19:29:44Z","closed_at":"2020-05-11T19:29:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello,\r\nI'm trying to implement PayPal IPN handler.\r\n\r\nIt takes raw post data, sends it to paypal website that will verify them. Then you also extract from them some variables and process them. So you'd need both raw data and extracted values.\r\n\r\nI was thinking about using `rocket::Data` directly in my handler, read data into `Vec<u8>` use them in my request and ... well, I'm not sure how to extract anything else from that data. `Data::from_local` is private, constructing it manually would require importing parts of hyper. Am I missing some reasonable options?\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1297/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/631110886","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-631110886","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":631110886,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTExMDg4Ng==","user":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T22:11:11Z","updated_at":"2020-05-19T22:11:11Z","body":"https://github.com/SergioBenitez/Rocket/blob/ca4d1572d408fd8dd13db103926ad96da878126d/core/lib/src/data/data.rs#L50-L53\r\n\r\nHow can all the data not be available for reading?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/631110886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/631590955","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-631590955","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":631590955,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTU5MDk1NQ==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T16:40:31Z","updated_at":"2020-05-20T16:40:31Z","body":"> How can all the data not be available for reading?\r\n\r\n`Data` can only be read from once, since it is a live connection to the client. Allowing the data to be read twice requires some more work, such as one of these vague ideas:\r\n\r\n* **duplicating** the data stream to a buffer in memory. This is generally not suitable for large requests. However, it is in many ways the most obvious solution and I think it's worth considering exposing something like `Data::from_bytes()` so that this can be implemented if desired.\r\n* **forking** the data stream so that two consumers can read from it simultaneously. This sounds tricky to implement and to use properly.\r\n* A **pass-through** mechanism, which is similar to forking the stream but with only one consumer actively controlling the read rate:\r\n\r\n```rust\r\nlet mut count = 0;\r\nlet data = data.open().inspect(|bytes| {\r\n    // This just counts the number of bytes received.\r\n    // A more interesting implementation might hash them instead.\r\n    count += bytes.len();\r\n});\r\n// OtherGuardType's FromData implementation will repeatedly `read` from the data as usual,\r\n// and `inspect` will be called repeatedly throughout that process\r\nlet other_result = OtherGuardType::from_data(data)?;\r\n```","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/631590955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/666243899","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-666243899","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":666243899,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI0Mzg5OQ==","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T09:02:02Z","updated_at":"2020-07-30T09:02:02Z","body":"We won't get this in for `0.5`. Pushing to `0.6`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/666243899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3602823611,"node_id":"MDE3OkRlbWlsZXN0b25lZEV2ZW50MzYwMjgyMzYxMQ==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/3602823611","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2020-07-30T09:02:08Z","milestone":{"title":"0.5.0"},"performed_via_github_app":null},{"id":3602823615,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM2MDI4MjM2MTU=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/3602823615","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-07-30T09:02:08Z","milestone":{"title":"0.6.0"},"performed_via_github_app":null},{"actor":{"login":"mjanda","id":652954,"node_id":"MDQ6VXNlcjY1Mjk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/652954?v=4","gravatar_id":"","url":"https://api.github.com/users/mjanda","html_url":"https://github.com/mjanda","followers_url":"https://api.github.com/users/mjanda/followers","following_url":"https://api.github.com/users/mjanda/following{/other_user}","gists_url":"https://api.github.com/users/mjanda/gists{/gist_id}","starred_url":"https://api.github.com/users/mjanda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjanda/subscriptions","organizations_url":"https://api.github.com/users/mjanda/orgs","repos_url":"https://api.github.com/users/mjanda/repos","events_url":"https://api.github.com/users/mjanda/events{/privacy}","received_events_url":"https://api.github.com/users/mjanda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:54:34Z","updated_at":"2020-09-25T06:54:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1438","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1438/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1438/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1438/events","html_url":"https://github.com/rwf2/Rocket/issues/1438","id":708693865,"node_id":"MDU6SXNzdWU3MDg2OTM4NjU=","number":1438,"title":"Peeking into data in on_request fairing","user":{"login":"mjanda","id":652954,"node_id":"MDQ6VXNlcjY1Mjk1NA==","avatar_url":"https://avatars.githubusercontent.com/u/652954?v=4","gravatar_id":"","url":"https://api.github.com/users/mjanda","html_url":"https://github.com/mjanda","followers_url":"https://api.github.com/users/mjanda/followers","following_url":"https://api.github.com/users/mjanda/following{/other_user}","gists_url":"https://api.github.com/users/mjanda/gists{/gist_id}","starred_url":"https://api.github.com/users/mjanda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjanda/subscriptions","organizations_url":"https://api.github.com/users/mjanda/orgs","repos_url":"https://api.github.com/users/mjanda/repos","events_url":"https://api.github.com/users/mjanda/events{/privacy}","received_events_url":"https://api.github.com/users/mjanda/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":758541123,"node_id":"MDU6TGFiZWw3NTg1NDExMjM=","url":"https://api.github.com/repos/rwf2/Rocket/labels/deficiency","name":"deficiency","color":"D93F0B","default":false,"description":"Something doesn't work as well as it could"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/8","html_url":"https://github.com/rwf2/Rocket/milestone/8","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/8/labels","id":2300325,"node_id":"MDk6TWlsZXN0b25lMjMwMDMyNQ==","number":8,"title":"0.5.0","description":null,"creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"open","created_at":"2017-02-05T07:58:22Z","updated_at":"2023-04-05T18:18:52Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2020-09-25T06:54:34Z","updated_at":"2020-10-21T08:56:58Z","closed_at":"2020-10-21T03:23:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello,\r\non master, `Data::peek` requires `&mut self`, so it's no longer possible to peek into it in `on_request` fairing.\r\n\r\nI'm using it to extract CSRF token from POST data.\r\n\r\nAny suggestions how to work around that? Or can we change the signature for `on_request` to make it `&mut Data`? At least until #775 is solved?\r\n\r\nThank you","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1438/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/709526066","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-709526066","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":709526066,"node_id":"MDEyOklzc3VlQ29tbWVudDcwOTUyNjA2Ng==","user":{"login":"KatsuoRyuu","id":7178027,"node_id":"MDQ6VXNlcjcxNzgwMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7178027?v=4","gravatar_id":"","url":"https://api.github.com/users/KatsuoRyuu","html_url":"https://github.com/KatsuoRyuu","followers_url":"https://api.github.com/users/KatsuoRyuu/followers","following_url":"https://api.github.com/users/KatsuoRyuu/following{/other_user}","gists_url":"https://api.github.com/users/KatsuoRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/KatsuoRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatsuoRyuu/subscriptions","organizations_url":"https://api.github.com/users/KatsuoRyuu/orgs","repos_url":"https://api.github.com/users/KatsuoRyuu/repos","events_url":"https://api.github.com/users/KatsuoRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/KatsuoRyuu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-15T18:53:42Z","updated_at":"2020-10-15T18:53:42Z","body":"I would suggest Data implements a read that is going to read the stream into a Vec<u8>, if its bigger than eg 10MB offload the data to a temporary file, and replace the stream with a file stream.\r\n\r\nWe are currently very much need this ;)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/709526066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"KatsuoRyuu","id":7178027,"node_id":"MDQ6VXNlcjcxNzgwMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7178027?v=4","gravatar_id":"","url":"https://api.github.com/users/KatsuoRyuu","html_url":"https://github.com/KatsuoRyuu","followers_url":"https://api.github.com/users/KatsuoRyuu/followers","following_url":"https://api.github.com/users/KatsuoRyuu/following{/other_user}","gists_url":"https://api.github.com/users/KatsuoRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/KatsuoRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KatsuoRyuu/subscriptions","organizations_url":"https://api.github.com/users/KatsuoRyuu/orgs","repos_url":"https://api.github.com/users/KatsuoRyuu/repos","events_url":"https://api.github.com/users/KatsuoRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/KatsuoRyuu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"NilsIrl","id":26231126,"node_id":"MDQ6VXNlcjI2MjMxMTI2","avatar_url":"https://avatars.githubusercontent.com/u/26231126?v=4","gravatar_id":"","url":"https://api.github.com/users/NilsIrl","html_url":"https://github.com/NilsIrl","followers_url":"https://api.github.com/users/NilsIrl/followers","following_url":"https://api.github.com/users/NilsIrl/following{/other_user}","gists_url":"https://api.github.com/users/NilsIrl/gists{/gist_id}","starred_url":"https://api.github.com/users/NilsIrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NilsIrl/subscriptions","organizations_url":"https://api.github.com/users/NilsIrl/orgs","repos_url":"https://api.github.com/users/NilsIrl/repos","events_url":"https://api.github.com/users/NilsIrl/events{/privacy}","received_events_url":"https://api.github.com/users/NilsIrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-17T11:54:12Z","updated_at":"2020-10-17T11:54:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/14","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/14/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/14/events","html_url":"https://github.com/rwf2/Rocket/issues/14","id":179075032,"node_id":"MDU6SXNzdWUxNzkwNzUwMzI=","number":14,"title":"Add (more) CSRF protection","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343542068,"node_id":"MDU6TGFiZWwzNDM1NDIwNjg=","url":"https://api.github.com/repos/rwf2/Rocket/labels/enhancement","name":"enhancement","color":"5319E7","default":true,"description":"A minor feature request"}],"state":"open","locked":false,"assignee":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/6","html_url":"https://github.com/rwf2/Rocket/milestone/6","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/6/labels","id":2224310,"node_id":"MDk6TWlsZXN0b25lMjIyNDMxMA==","number":6,"title":"0.6.0","description":"","creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":11,"closed_issues":18,"state":"open","created_at":"2017-01-03T03:17:51Z","updated_at":"2024-08-24T10:40:35Z","due_on":null,"closed_at":null},"comments":64,"created_at":"2016-09-25T08:24:58Z","updated_at":"2025-10-29T21:24:10Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"CSRF is a thing. Protect against it automatically in forms.\n","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/14/reactions","total_count":78,"+1":63,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":15,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/14/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"hkatzdev","id":44281159,"node_id":"MDQ6VXNlcjQ0MjgxMTU5","avatar_url":"https://avatars.githubusercontent.com/u/44281159?v=4","gravatar_id":"","url":"https://api.github.com/users/hkatzdev","html_url":"https://github.com/hkatzdev","followers_url":"https://api.github.com/users/hkatzdev/followers","following_url":"https://api.github.com/users/hkatzdev/following{/other_user}","gists_url":"https://api.github.com/users/hkatzdev/gists{/gist_id}","starred_url":"https://api.github.com/users/hkatzdev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkatzdev/subscriptions","organizations_url":"https://api.github.com/users/hkatzdev/orgs","repos_url":"https://api.github.com/users/hkatzdev/repos","events_url":"https://api.github.com/users/hkatzdev/events{/privacy}","received_events_url":"https://api.github.com/users/hkatzdev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-07T04:59:39Z","updated_at":"2021-03-07T04:59:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65","repository_url":"https://api.github.com/repos/hackagotchi/hackagotchi","labels_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65/labels{/name}","comments_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65/comments","events_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65/events","html_url":"https://github.com/hackagotchi/hackagotchi/issues/65","id":642256185,"node_id":"MDU6SXNzdWU2NDIyNTYxODU=","number":65,"title":"Slack Verification Header Check is Missing ","user":{"login":"lukec11","id":15222474,"node_id":"MDQ6VXNlcjE1MjIyNDc0","avatar_url":"https://avatars.githubusercontent.com/u/15222474?v=4","gravatar_id":"","url":"https://api.github.com/users/lukec11","html_url":"https://github.com/lukec11","followers_url":"https://api.github.com/users/lukec11/followers","following_url":"https://api.github.com/users/lukec11/following{/other_user}","gists_url":"https://api.github.com/users/lukec11/gists{/gist_id}","starred_url":"https://api.github.com/users/lukec11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukec11/subscriptions","organizations_url":"https://api.github.com/users/lukec11/orgs","repos_url":"https://api.github.com/users/lukec11/repos","events_url":"https://api.github.com/users/lukec11/events{/privacy}","received_events_url":"https://api.github.com/users/lukec11/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1942558691,"node_id":"MDU6TGFiZWwxOTQyNTU4Njkx","url":"https://api.github.com/repos/hackagotchi/hackagotchi/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":2198963038,"node_id":"MDU6TGFiZWwyMTk4OTYzMDM4","url":"https://api.github.com/repos/hackagotchi/hackagotchi/labels/slack-api","name":"slack-api","color":"fef2c0","default":false,"description":""},{"id":2234479545,"node_id":"MDU6TGFiZWwyMjM0NDc5NTQ1","url":"https://api.github.com/repos/hackagotchi/hackagotchi/labels/Priority:%20High","name":"Priority: High","color":"db1818","default":false,"description":""}],"state":"open","locked":true,"assignee":{"login":"cjdenio","id":34525547,"node_id":"MDQ6VXNlcjM0NTI1NTQ3","avatar_url":"https://avatars.githubusercontent.com/u/34525547?v=4","gravatar_id":"","url":"https://api.github.com/users/cjdenio","html_url":"https://github.com/cjdenio","followers_url":"https://api.github.com/users/cjdenio/followers","following_url":"https://api.github.com/users/cjdenio/following{/other_user}","gists_url":"https://api.github.com/users/cjdenio/gists{/gist_id}","starred_url":"https://api.github.com/users/cjdenio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjdenio/subscriptions","organizations_url":"https://api.github.com/users/cjdenio/orgs","repos_url":"https://api.github.com/users/cjdenio/repos","events_url":"https://api.github.com/users/cjdenio/events{/privacy}","received_events_url":"https://api.github.com/users/cjdenio/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"cjdenio","id":34525547,"node_id":"MDQ6VXNlcjM0NTI1NTQ3","avatar_url":"https://avatars.githubusercontent.com/u/34525547?v=4","gravatar_id":"","url":"https://api.github.com/users/cjdenio","html_url":"https://github.com/cjdenio","followers_url":"https://api.github.com/users/cjdenio/followers","following_url":"https://api.github.com/users/cjdenio/following{/other_user}","gists_url":"https://api.github.com/users/cjdenio/gists{/gist_id}","starred_url":"https://api.github.com/users/cjdenio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjdenio/subscriptions","organizations_url":"https://api.github.com/users/cjdenio/orgs","repos_url":"https://api.github.com/users/cjdenio/repos","events_url":"https://api.github.com/users/cjdenio/events{/privacy}","received_events_url":"https://api.github.com/users/cjdenio/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"hkatzdev","id":44281159,"node_id":"MDQ6VXNlcjQ0MjgxMTU5","avatar_url":"https://avatars.githubusercontent.com/u/44281159?v=4","gravatar_id":"","url":"https://api.github.com/users/hkatzdev","html_url":"https://github.com/hkatzdev","followers_url":"https://api.github.com/users/hkatzdev/followers","following_url":"https://api.github.com/users/hkatzdev/following{/other_user}","gists_url":"https://api.github.com/users/hkatzdev/gists{/gist_id}","starred_url":"https://api.github.com/users/hkatzdev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hkatzdev/subscriptions","organizations_url":"https://api.github.com/users/hkatzdev/orgs","repos_url":"https://api.github.com/users/hkatzdev/repos","events_url":"https://api.github.com/users/hkatzdev/events{/privacy}","received_events_url":"https://api.github.com/users/hkatzdev/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/hackagotchi/hackagotchi/milestones/2","html_url":"https://github.com/hackagotchi/hackagotchi/milestone/2","labels_url":"https://api.github.com/repos/hackagotchi/hackagotchi/milestones/2/labels","id":6498645,"node_id":"MDk6TWlsZXN0b25lNjQ5ODY0NQ==","number":2,"title":"Relaunch","description":"","creator":{"login":"Muirrum","id":8702646,"node_id":"MDQ6VXNlcjg3MDI2NDY=","avatar_url":"https://avatars.githubusercontent.com/u/8702646?v=4","gravatar_id":"","url":"https://api.github.com/users/Muirrum","html_url":"https://github.com/Muirrum","followers_url":"https://api.github.com/users/Muirrum/followers","following_url":"https://api.github.com/users/Muirrum/following{/other_user}","gists_url":"https://api.github.com/users/Muirrum/gists{/gist_id}","starred_url":"https://api.github.com/users/Muirrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Muirrum/subscriptions","organizations_url":"https://api.github.com/users/Muirrum/orgs","repos_url":"https://api.github.com/users/Muirrum/repos","events_url":"https://api.github.com/users/Muirrum/events{/privacy}","received_events_url":"https://api.github.com/users/Muirrum/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":5,"closed_issues":6,"state":"open","created_at":"2021-03-02T17:35:55Z","updated_at":"2021-03-08T19:54:06Z","due_on":null,"closed_at":null},"comments":7,"created_at":"2020-06-19T23:07:50Z","updated_at":"2021-05-19T23:43:41Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":250949470,"node_id":"MDEwOlJlcG9zaXRvcnkyNTA5NDk0NzA=","name":"hackagotchi","full_name":"hackagotchi/hackagotchi","private":false,"owner":{"login":"hackagotchi","id":64510566,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NTEwNTY2","avatar_url":"https://avatars.githubusercontent.com/u/64510566?v=4","gravatar_id":"","url":"https://api.github.com/users/hackagotchi","html_url":"https://github.com/hackagotchi","followers_url":"https://api.github.com/users/hackagotchi/followers","following_url":"https://api.github.com/users/hackagotchi/following{/other_user}","gists_url":"https://api.github.com/users/hackagotchi/gists{/gist_id}","starred_url":"https://api.github.com/users/hackagotchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hackagotchi/subscriptions","organizations_url":"https://api.github.com/users/hackagotchi/orgs","repos_url":"https://api.github.com/users/hackagotchi/repos","events_url":"https://api.github.com/users/hackagotchi/events{/privacy}","received_events_url":"https://api.github.com/users/hackagotchi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hackagotchi/hackagotchi","description":"A multiplayer farming game with a strong economy built using emerging Rust tech","fork":false,"url":"https://api.github.com/repos/hackagotchi/hackagotchi","forks_url":"https://api.github.com/repos/hackagotchi/hackagotchi/forks","keys_url":"https://api.github.com/repos/hackagotchi/hackagotchi/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hackagotchi/hackagotchi/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hackagotchi/hackagotchi/teams","hooks_url":"https://api.github.com/repos/hackagotchi/hackagotchi/hooks","issue_events_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/events{/number}","events_url":"https://api.github.com/repos/hackagotchi/hackagotchi/events","assignees_url":"https://api.github.com/repos/hackagotchi/hackagotchi/assignees{/user}","branches_url":"https://api.github.com/repos/hackagotchi/hackagotchi/branches{/branch}","tags_url":"https://api.github.com/repos/hackagotchi/hackagotchi/tags","blobs_url":"https://api.github.com/repos/hackagotchi/hackagotchi/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hackagotchi/hackagotchi/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hackagotchi/hackagotchi/git/refs{/sha}","trees_url":"https://api.github.com/repos/hackagotchi/hackagotchi/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hackagotchi/hackagotchi/statuses/{sha}","languages_url":"https://api.github.com/repos/hackagotchi/hackagotchi/languages","stargazers_url":"https://api.github.com/repos/hackagotchi/hackagotchi/stargazers","contributors_url":"https://api.github.com/repos/hackagotchi/hackagotchi/contributors","subscribers_url":"https://api.github.com/repos/hackagotchi/hackagotchi/subscribers","subscription_url":"https://api.github.com/repos/hackagotchi/hackagotchi/subscription","commits_url":"https://api.github.com/repos/hackagotchi/hackagotchi/commits{/sha}","git_commits_url":"https://api.github.com/repos/hackagotchi/hackagotchi/git/commits{/sha}","comments_url":"https://api.github.com/repos/hackagotchi/hackagotchi/comments{/number}","issue_comment_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/comments{/number}","contents_url":"https://api.github.com/repos/hackagotchi/hackagotchi/contents/{+path}","compare_url":"https://api.github.com/repos/hackagotchi/hackagotchi/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hackagotchi/hackagotchi/merges","archive_url":"https://api.github.com/repos/hackagotchi/hackagotchi/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hackagotchi/hackagotchi/downloads","issues_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues{/number}","pulls_url":"https://api.github.com/repos/hackagotchi/hackagotchi/pulls{/number}","milestones_url":"https://api.github.com/repos/hackagotchi/hackagotchi/milestones{/number}","notifications_url":"https://api.github.com/repos/hackagotchi/hackagotchi/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hackagotchi/hackagotchi/labels{/name}","releases_url":"https://api.github.com/repos/hackagotchi/hackagotchi/releases{/id}","deployments_url":"https://api.github.com/repos/hackagotchi/hackagotchi/deployments","created_at":"2020-03-29T03:58:20Z","updated_at":"2025-01-30T05:59:01Z","pushed_at":"2022-04-19T02:34:27Z","git_url":"git://github.com/hackagotchi/hackagotchi.git","ssh_url":"git@github.com:hackagotchi/hackagotchi.git","clone_url":"https://github.com/hackagotchi/hackagotchi.git","svn_url":"https://github.com/hackagotchi/hackagotchi","homepage":"https://hackagotch.io","size":47894,"stargazers_count":36,"watchers_count":36,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":11,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":41,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":11,"open_issues":41,"watchers":36,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"If I were to theoretically send a POST to any endpoint with the required parameters (for `/hackmarket`, that would be token, team_id, etc. If i sent these with values that the program didn't like, it would most likely panic and fail.\r\n\r\n\r\nI haven't tested this for obvious reasons - please let me know if you would like a demonstration.","reactions":{"url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hackagotchi/hackagotchi/issues/65/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/898601649","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-898601649","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":898601649,"node_id":"IC_kwDOAzqMt841j5Kx","user":{"login":"Stargateur","id":7503742,"node_id":"MDQ6VXNlcjc1MDM3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7503742?v=4","gravatar_id":"","url":"https://api.github.com/users/Stargateur","html_url":"https://github.com/Stargateur","followers_url":"https://api.github.com/users/Stargateur/followers","following_url":"https://api.github.com/users/Stargateur/following{/other_user}","gists_url":"https://api.github.com/users/Stargateur/gists{/gist_id}","starred_url":"https://api.github.com/users/Stargateur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stargateur/subscriptions","organizations_url":"https://api.github.com/users/Stargateur/orgs","repos_url":"https://api.github.com/users/Stargateur/repos","events_url":"https://api.github.com/users/Stargateur/events{/privacy}","received_events_url":"https://api.github.com/users/Stargateur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T17:06:22Z","updated_at":"2021-08-13T17:07:00Z","body":"> \r\n> \r\n> I would suggest Data implements a read that is going to read the stream into a Vec, if its bigger than eg 10MB offload the data to a temporary file, and replace the stream with a file stream.\r\n> \r\n> We are currently very much need this ;)\r\n\r\ndo that for every implementation even if 99% of them don't need this ? what stop user side to implement this ? I fail to understand this issue.\r\n\r\n> A use case for this is to have multiple struct-s for different JSON data.\r\n\r\nThat an anti pattern, one should deserialize into a struct that contain all you want to deserialize than you can split it as you like. I again fail to clearly see what is the purpose here.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/898601649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Stargateur","id":7503742,"node_id":"MDQ6VXNlcjc1MDM3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/7503742?v=4","gravatar_id":"","url":"https://api.github.com/users/Stargateur","html_url":"https://github.com/Stargateur","followers_url":"https://api.github.com/users/Stargateur/followers","following_url":"https://api.github.com/users/Stargateur/following{/other_user}","gists_url":"https://api.github.com/users/Stargateur/gists{/gist_id}","starred_url":"https://api.github.com/users/Stargateur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stargateur/subscriptions","organizations_url":"https://api.github.com/users/Stargateur/orgs","repos_url":"https://api.github.com/users/Stargateur/repos","events_url":"https://api.github.com/users/Stargateur/events{/privacy}","received_events_url":"https://api.github.com/users/Stargateur/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/904160917","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-904160917","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":904160917,"node_id":"IC_kwDOAzqMt8415GaV","user":{"login":"the10thWiz","id":16281943,"node_id":"MDQ6VXNlcjE2MjgxOTQz","avatar_url":"https://avatars.githubusercontent.com/u/16281943?v=4","gravatar_id":"","url":"https://api.github.com/users/the10thWiz","html_url":"https://github.com/the10thWiz","followers_url":"https://api.github.com/users/the10thWiz/followers","following_url":"https://api.github.com/users/the10thWiz/following{/other_user}","gists_url":"https://api.github.com/users/the10thWiz/gists{/gist_id}","starred_url":"https://api.github.com/users/the10thWiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the10thWiz/subscriptions","organizations_url":"https://api.github.com/users/the10thWiz/orgs","repos_url":"https://api.github.com/users/the10thWiz/repos","events_url":"https://api.github.com/users/the10thWiz/events{/privacy}","received_events_url":"https://api.github.com/users/the10thWiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T21:57:39Z","updated_at":"2021-08-23T21:57:39Z","body":"> > How can all the data not be available for reading?\r\n> \r\n> `Data` can only be read from once, since it is a live connection to the client. Allowing the data to be read twice requires some more work, such as one of these vague ideas:\r\n> \r\n> * **duplicating** the data stream to a buffer in memory. This is generally not suitable for large requests. However, it is in many ways the most obvious solution and I think it's worth considering exposing something like `Data::from_bytes()` so that this can be implemented if desired.\r\n> * **forking** the data stream so that two consumers can read from it simultaneously. This sounds tricky to implement and to use properly.\r\n> * A **pass-through** mechanism, which is similar to forking the stream but with only one consumer actively controlling the read rate:\r\n> \r\n> ```rust\r\n> let mut count = 0;\r\n> let data = data.open().inspect(|bytes| {\r\n>     // This just counts the number of bytes received.\r\n>     // A more interesting implementation might hash them instead.\r\n>     count += bytes.len();\r\n> });\r\n> // OtherGuardType's FromData implementation will repeatedly `read` from the data as usual,\r\n> // and `inspect` will be called repeatedly throughout that process\r\n> let other_result = OtherGuardType::from_data(data)?;\r\n> ```\r\n\r\nDuplicating the stream is obviously impractical, and forking the stream would require both to read at the same rate (or cause the same issues as duplicating the stream). Both suffer from performance and RAM usage issues for large requests.\r\n\r\nHowever, I think the pass-though mechanism is much better. I do think that it should occur before the `open` call, since the idea is that the inspect has NO control over what data is read an when, they just get to inspect the bytes read. Other than that, there are a few potential issues I see. First, how many inspectors should be allowed? I would assume for performance reasons we would only want to allow one, otherwise we might need to allocate a Vector. What happens when a second inspect is added anyway? Well, we could allow one of them to inspect the stream (probably the first one), but I think we should at least try to provide reasonable error checking. Here, I think the best option would be to make the inspect function look like: `fn inspect(self, f: T) -> Result<(Data, T), _>`. In this case, it is assumed that the FromData implementation should fail if there is already another inspector.\r\n\r\nThe idea is that this is specifically only intended to support the use case of hashing or validating a signature, NOT supporting multiple types of data. If there are multiple possible forms of data, an enum (which has variants for each possible struct), is the best awnser.\r\n\r\nAlternatively, we could support some type of hashing within Rocket, by providing the option to extract a hash/checksum of the data. I assume this would more or less just be a more limited version of the above proposal.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/904160917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"the10thWiz","id":16281943,"node_id":"MDQ6VXNlcjE2MjgxOTQz","avatar_url":"https://avatars.githubusercontent.com/u/16281943?v=4","gravatar_id":"","url":"https://api.github.com/users/the10thWiz","html_url":"https://github.com/the10thWiz","followers_url":"https://api.github.com/users/the10thWiz/followers","following_url":"https://api.github.com/users/the10thWiz/following{/other_user}","gists_url":"https://api.github.com/users/the10thWiz/gists{/gist_id}","starred_url":"https://api.github.com/users/the10thWiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the10thWiz/subscriptions","organizations_url":"https://api.github.com/users/the10thWiz/orgs","repos_url":"https://api.github.com/users/the10thWiz/repos","events_url":"https://api.github.com/users/the10thWiz/events{/privacy}","received_events_url":"https://api.github.com/users/the10thWiz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-05T17:56:52Z","updated_at":"2023-04-05T17:56:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2317","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/2317/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/2317/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/2317/events","html_url":"https://github.com/rwf2/Rocket/issues/2317","id":1334335491,"node_id":"I_kwDOAzqMt85PiFgD","number":2317,"title":"Better way to do authentication","user":{"login":"qwfy","id":11158705,"node_id":"MDQ6VXNlcjExMTU4NzA1","avatar_url":"https://avatars.githubusercontent.com/u/11158705?v=4","gravatar_id":"","url":"https://api.github.com/users/qwfy","html_url":"https://github.com/qwfy","followers_url":"https://api.github.com/users/qwfy/followers","following_url":"https://api.github.com/users/qwfy/following{/other_user}","gists_url":"https://api.github.com/users/qwfy/gists{/gist_id}","starred_url":"https://api.github.com/users/qwfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qwfy/subscriptions","organizations_url":"https://api.github.com/users/qwfy/orgs","repos_url":"https://api.github.com/users/qwfy/repos","events_url":"https://api.github.com/users/qwfy/events{/privacy}","received_events_url":"https://api.github.com/users/qwfy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":758540633,"node_id":"MDU6TGFiZWw3NTg1NDA2MzM=","url":"https://api.github.com/repos/rwf2/Rocket/labels/suggestion","name":"suggestion","color":"5319E7","default":false,"description":"A suggestion to change functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-08-10T09:25:24Z","updated_at":"2023-04-05T17:56:52Z","closed_at":"2023-04-05T17:56:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Existing Functionality**\r\n\r\nA clear and concise description of existing functionality and why it is insufficient.\r\n\r\nThere are two styles of doing authentication in rocket, use fairing or use data guard like `FromRequest` and `FromData`, I think that, as of 0.5-rc2, neither of them works as well as they should be.\r\n\r\nConsider an API server that supports two kinds of authentication mechanism: by Authorization header (e.g. JWT), or by setting a signature query parameter (e.g. `?signature = sha256(user_id + user_secret + sha256(body_bytes))`)\r\n\r\nIf the authentication is implemented with fairing, then one should implement the `on_request` method, if the authentication needs the body, then the on_reqeust would `open` and thus consume the `Data`, which implies that the implementor should parse the request body himself, which in turn, means that all those deserialization provided by rocket (like FromForm) would be useless in this scenario\r\n\r\nIf the authentication is implemented with data guard, then ideally, the handler should have a signature `fn my_handler(req: Authenticated<T>) -> ...`, where `Authenticated` is an application specific data type the represents an successful authentication, and `T` is the request data, e.g. request body parsed as type `T`. This signature is good, because the developer cannot forget to do the authentication - if he wants to access the request data, he (by convention) must write `Authenticated<_>`.\r\nHowever, the current state of Rocket also makes this inconvenient, `FromData` can be easily implemented - assuming the body deserialization can be easily done (e.g. `serde_json::from_slice`), but the following route would be difficult to implement:\r\n\r\n```\r\n#[derive(FromForm)\r\nstruct MyRequest {\r\n    ...\r\n}\r\n\r\n#[rocket::get(\"/foo?<request..>\")\r\nasync fn my_handler(request: Authenticated<MyRequest>) -> ...\r\n```\r\n\r\nTo summarize, currently I don't think there is a ergomatic way to do authentication in Rocket, either globally using fairing, or on a per request basis\r\n\r\n**Suggested Changes**\r\n\r\nEither add a way to peak the entire body (without consuming it) on the fairing level, and pass the `Authenticated` to the individual handler. by its nature, authentication is not tied closely to business logic, so low level (meaning before the request is parsed into typed request payload) access to Request and Http body should be enough.\r\n\r\nOr accept `Authenticated<T>`  whenever `T` is accepted.\r\n\r\n**Alternatives Considered**\r\n\r\nNone.\r\n\r\n**Additional Context**\r\nNone.\r\n","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/2317/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1852828476","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1852828476","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1852828476,"node_id":"IC_kwDOAzqMt85ub-s8","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T21:20:24Z","updated_at":"2023-12-12T21:20:24Z","body":"A draft of this functionality is now available in the `data-transformers` branch. In short, it introduces a new trait `Transform` and a type `TransformBuf` that allow you to do in-place transformations of streaming data:\r\n\r\n```rust\r\n/// ```text\r\n/// [                    capacity                     ]\r\n/// [       initialized        |     uninitialized    ]\r\n/// [ +++ filled +++ | -------- unfilled              ]\r\n///       ^------ cursor\r\n/// ```\r\n///\r\n/// ```text\r\n/// [ ++++*+++++++++++---------xxxxxxxxxxxxxxxxxxxxxxx]\r\n/// ```\r\n///\r\n/// * `+`: filled (implies initialized)\r\n/// * `*`: cursor position (implies filled)\r\n/// * `-`: unfilled (implies initialized)\r\n/// * `x`: uninitialized (implies unfilled)\r\npub struct TransformBuf<'a, 'b> {\r\n    pub(crate) buf: &'a mut ReadBuf<'b>,\r\n    pub(crate) cursor: usize,\r\n}\r\n\r\npub trait Transform {\r\n    fn poll_transform(\r\n        self: Pin<&mut Self>,\r\n        buf: &mut TransformBuf<'_, '_>,\r\n    ) -> io::Result<()>;\r\n\r\n    fn poll_finish(\r\n        self: Pin<&mut Self>,\r\n        cx: &mut Context<'_>,\r\n        buf: &mut TransformBuf<'_, '_>,\r\n    ) -> Poll<io::Result<()>> {\r\n        let (_, _) = (cx, buf);\r\n        Poll::Ready(Ok(()))\r\n    }\r\n}\r\n```\r\n\r\nConvenience methods allow you to make use of this functionality for common cases easily:\r\n\r\n```rust\r\ndata.chain_inspect(|bytes| println!(\"INIT: ({}) {bytes:X?}\", bytes.len()))\r\n    .chain_hash_transform(DefaultHasher::new())\r\n    .chain_inspect(|bytes| println!(\"HASH: ({}) {bytes:X?}\", bytes.len()));\r\n```\r\n\r\nWhen `{\"foo\": \"bar\"}` is sent as data, the logs yield:\r\n\r\n```rust\r\nINIT: (14) [7B, 22, 66, 6F, 6F, 22, 3A, 20, 22, 62, 61, 72, 22, 7D]\r\nHASH: (8) [A5, DA, E5, DB, E6, 2D, 41, B7]\r\n```\r\n\r\nThis demonstrates that the data stream is modified in-place.\r\n\r\nAny commentary and/or feedback is appreciated.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1852828476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T21:21:22Z","updated_at":"2023-12-12T21:21:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2575","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/2575/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/2575/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/2575/events","html_url":"https://github.com/rwf2/Rocket/pull/2575","id":1795553018,"node_id":"PR_kwDOAzqMt85VBZi3","number":2575,"title":"Expose 'local()' method to allow request content to be accessed in fairing","user":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-07-09T20:35:21Z","updated_at":"2023-12-28T15:22:53Z","closed_at":"2023-12-28T15:22:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rwf2/Rocket/pulls/2575","html_url":"https://github.com/rwf2/Rocket/pull/2575","diff_url":"https://github.com/rwf2/Rocket/pull/2575.diff","patch_url":"https://github.com/rwf2/Rocket/pull/2575.patch","merged_at":null},"body":"Work-in-progress to expose \"local()\" method in Request module to enable body content to be pre-processed.","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/2575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/2575/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14883853239,"node_id":"ATPVTE_lADOAzqMt84Vgg_hzwAAAAN3JZO3","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/14883853239","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2023-12-12T21:27:22Z","performed_via_github_app":null},{"id":15093155499,"node_id":"PVTISC_lADOAzqMt84Vgg_hzwAAAAODn0ar","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/15093155499","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2023-12-12T21:30:25Z","performed_via_github_app":null},{"id":11228830437,"node_id":"AE_lADOAzqMt84Vgg_hzwAAAAKdSlrl","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/11228830437","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2023-12-12T21:30:28Z","assignee":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859215531","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1859215531","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1859215531,"node_id":"IC_kwDOAzqMt85u0WCr","user":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T16:22:53Z","updated_at":"2023-12-17T16:22:53Z","body":"I have had a play and can modify data with something along the lines of:\r\n\r\n```rust\r\npub struct HMACHash {\r\n    sha256_hasher: Sha256,\r\n    buffer: Option<Vec<u8>>,\r\n    output: Option<std::io::Cursor<Vec<u8>>>,\r\n}\r\n\r\nimpl HMACHash {\r\n    pub fn new() -> Self {\r\n        Self {\r\n            sha256_hasher: Sha256::new(),\r\n            buffer: Some(Vec::new()),\r\n            output: None,\r\n        }\r\n    }\r\n}\r\n\r\nuse rocket::tokio::io::AsyncRead;\r\nuse std::convert::TryInto;\r\n\r\nimpl rocket::data::Transform for HMACHash {\r\n    fn poll_transform(\r\n        mut self: std::pin::Pin<&mut Self>,\r\n        buf: &mut rocket::data::TransformBuf<'_, '_>,\r\n    ) -> std::io::Result<()> {\r\n        self.buffer.as_mut().unwrap().extend_from_slice(buf.fresh());\r\n        buf.spoil();\r\n        Ok(())\r\n    }\r\n\r\n    fn poll_finish(\r\n        mut self: Pin<&mut Self>,\r\n        cx: &mut std::task::Context<'_>,\r\n        buf: &mut rocket::data::TransformBuf<'_, '_>,\r\n    ) -> std::task::Poll<std::io::Result<()>> {\r\n        if self.output.is_none() {\r\n            let hash = self.sha256_hasher.clone().finalize().to_vec();\r\n            let hash: [u8; 32] = hash.try_into().unwrap();\r\n            let digest = general_purpose::STANDARD.encode(&hash);\r\n            self.buffer.as_mut().unwrap().extend_from_slice(&digest.as_bytes());\r\n\r\n            self.output = Some(std::io::Cursor::new(self.buffer.take().unwrap()));\r\n        }\r\n\r\n        let cursor = self.output.as_mut().unwrap();\r\n        Pin::new(cursor).poll_read(cx, buf)\r\n    }\r\n}\r\n```\r\n\r\nI could then process the output to remove and process the result as part of a HMAC regime. It is improved, but does seem a bit inelegant.\r\n\r\nIs there a way to allow the data transform to access the owning Request object?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859215531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859239680","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1859239680","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1859239680,"node_id":"IC_kwDOAzqMt85u0b8A","user":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T18:09:12Z","updated_at":"2023-12-17T18:09:12Z","body":"> Is there a way to allow the data transform to access the owning Request object?\r\n\r\nAfter a lot of digging, I am thinking this functionality might actually be impractical with the way the data and handlers are separated using the above aproach?\r\n\r\nOr at the very least, it will be adding some overhead per-request which is excessive...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859239680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859285639","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1859285639","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1859285639,"node_id":"IC_kwDOAzqMt85u0nKH","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T21:11:24Z","updated_at":"2023-12-17T21:11:24Z","body":"> I have had a play and can modify data with something along the lines of:\n> \n> \n> \n> ```rust\n> \n> pub struct HMACHash {\n> \n>     sha256_hasher: Sha256,\n> \n>     buffer: Option<Vec<u8>>,\n> \n>     output: Option<std::io::Cursor<Vec<u8>>>,\n> \n> }\n> \n> \n> \n> impl HMACHash {\n> \n>     pub fn new() -> Self {\n> \n>         Self {\n> \n>             sha256_hasher: Sha256::new(),\n> \n>             buffer: Some(Vec::new()),\n> \n>             output: None,\n> \n>         }\n> \n>     }\n> \n> }\n> \n> \n> \n> use rocket::tokio::io::AsyncRead;\n> \n> use std::convert::TryInto;\n> \n> \n> \n> impl rocket::data::Transform for HMACHash {\n> \n>     fn poll_transform(\n> \n>         mut self: std::pin::Pin<&mut Self>,\n> \n>         buf: &mut rocket::data::TransformBuf<'_, '_>,\n> \n>     ) -> std::io::Result<()> {\n> \n>         self.buffer.as_mut().unwrap().extend_from_slice(buf.fresh());\n> \n>         buf.spoil();\n> \n>         Ok(())\n> \n>     }\n> \n> \n> \n>     fn poll_finish(\n> \n>         mut self: Pin<&mut Self>,\n> \n>         cx: &mut std::task::Context<'_>,\n> \n>         buf: &mut rocket::data::TransformBuf<'_, '_>,\n> \n>     ) -> std::task::Poll<std::io::Result<()>> {\n> \n>         if self.output.is_none() {\n> \n>             let hash = self.sha256_hasher.clone().finalize().to_vec();\n> \n>             let hash: [u8; 32] = hash.try_into().unwrap();\n> \n>             let digest = general_purpose::STANDARD.encode(&hash);\n> \n>             self.buffer.as_mut().unwrap().extend_from_slice(&digest.as_bytes());\n> \n> \n> \n>             self.output = Some(std::io::Cursor::new(self.buffer.take().unwrap()));\n> \n>         }\n> \n> \n> \n>         let cursor = self.output.as_mut().unwrap();\n> \n>         Pin::new(cursor).poll_read(cx, buf)\n> \n>     }\n> \n> }\n> \n> ```\n> \n> \n> \n> I could then process the output to remove and process the result as part of a HMAC regime. It is improved, but does seem a bit inelegant.\n> \n> \n> \n> Is there a way to allow the data transform to access the owning Request object?\n\nYour reimplementation is inefficient. There's no reason to store the entire data buffer. Implementations like this should be strictly avoided:\n\n```rust\nself.buffer.as_mut().unwrap().extend_from_slice(buf.fresh());\n```\n\nThe primary purpose of this API is to allow you to stream data and modify it in place. Buffering the data defeats that intent. I understand that there aren't any docs as of yet, but please see the hasher example in the commit (`HashTransform`). In fact, I'll copy it here:\n\n```rust\nmod hash_transform {\n    use std::io::Cursor;\n    use std::hash::Hasher;\n\n    use tokio::io::AsyncRead;\n\n    use super::*;\n\n    pub struct HashTransform<H: Hasher> {\n        pub(crate) hasher: H,\n        pub(crate) hash: Option<Cursor<[u8; 8]>>\n    }\n\n    impl<H: Hasher + Unpin> Transform for HashTransform<H> {\n        fn poll_transform(\n            mut self: Pin<&mut Self>,\n            // cx: &mut Context<'_>,\n            buf: &mut TransformBuf<'_, '_>,\n        ) -> io::Result<()> {\n            self.hasher.write(buf.fresh());\n            buf.spoil();\n            Ok(())\n        }\n\n        fn poll_finish(\n            mut self: Pin<&mut Self>,\n            cx: &mut Context<'_>,\n            buf: &mut TransformBuf<'_, '_>,\n        ) -> Poll<io::Result<()>> {\n            if self.hash.is_none() {\n                let hash = self.hasher.finish();\n                self.hash = Some(Cursor::new(hash.to_be_bytes()));\n            }\n\n            let cursor = self.hash.as_mut().unwrap();\n            Pin::new(cursor).poll_read(cx, buf)\n        }\n    }\n}\n```\n\nIt implements the behavior you're looking for. The only necessary change would be to remove the call to spoil() in the transform method implementation of that example. That allows the original data to be passed through without modification. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859285639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859286916","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1859286916","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1859286916,"node_id":"IC_kwDOAzqMt85u0neE","user":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T21:17:11Z","updated_at":"2023-12-17T21:17:11Z","body":"> > Is there a way to allow the data transform to access the owning Request object?\n> \n> \n> \n> After a lot of digging, I am thinking this functionality might actually be impractical with the way the data and handlers are separated using the above aproach?\n> \n> \n> \n> Or at the very least, it will be adding some overhead per-request which is excessive...\n\nI'm not sure what you mean by \"owning\" request object. It would be possible to pass the request object to the finish method, but I'm not sure it's necessary. There are two things you can do without direct access to the request method in the transformer. The first is to share state between the transformer and request local  state. That is, store an Arc in the request local cache and pass it to the transformer when it's created. Then you can modify it as you wish in the finish method and retrieve the state again from the request whenever you'd like. The second second is to inject data into the stream and have a data guard that can interpret it. Both of these are viable solutions to almost any use case I can consider without being work-arounds. However should there be an important use case that requires access to the request, I'd be all ears. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859286916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859298778","html_url":"https://github.com/rwf2/Rocket/issues/775#issuecomment-1859298778","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/775","id":1859298778,"node_id":"IC_kwDOAzqMt85u0qXa","user":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-17T22:06:18Z","updated_at":"2023-12-17T22:06:18Z","body":"> > > Is there a way to allow the data transform to access the owning Request object?\r\n> > \r\n> > \r\n> > After a lot of digging, I am thinking this functionality might actually be impractical with the way the data and handlers are separated using the above aproach?\r\n> > Or at the very least, it will be adding some overhead per-request which is excessive...\r\n> \r\n> I'm not sure what you mean by \"owning\" request object. It would be possible to pass the request object to the finish method, but I'm not sure it's necessary. There are two things you can do without direct access to the request method in the transformer. The first is to share state between the transformer and request local state. That is, store an Arc in the request local cache and pass it to the transformer when it's created. Then you can modify it as you wish in the finish method and retrieve the state again from the request whenever you'd like. The second second is to inject data into the stream and have a data guard that can interpret it. Both of these are viable solutions to almost any use case I can consider without being work-arounds. However should there be an important use case that requires access to the request, I'd be all ears.\r\n\r\nI hadn't considered putting an Arc in the local store, should work nicely. I will have another look tomorrow and post back results.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/1859298778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martynp","id":12006448,"node_id":"MDQ6VXNlcjEyMDA2NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/12006448?v=4","gravatar_id":"","url":"https://api.github.com/users/martynp","html_url":"https://github.com/martynp","followers_url":"https://api.github.com/users/martynp/followers","following_url":"https://api.github.com/users/martynp/following{/other_user}","gists_url":"https://api.github.com/users/martynp/gists{/gist_id}","starred_url":"https://api.github.com/users/martynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martynp/subscriptions","organizations_url":"https://api.github.com/users/martynp/orgs","repos_url":"https://api.github.com/users/martynp/repos","events_url":"https://api.github.com/users/martynp/events{/privacy}","received_events_url":"https://api.github.com/users/martynp/received_events","type":"User","user_view_type":"public","site_admin":false}}]