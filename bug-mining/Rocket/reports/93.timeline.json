[{"id":1966683972,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5NjY2ODM5NzI=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1966683972","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-11-14T18:38:10Z","label":{"name":"deficiency","color":"fc2929"},"performed_via_github_app":null},{"id":1974352754,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5NzQzNTI3NTQ=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1974352754","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-11-19T11:18:07Z","milestone":{"title":"0.4.0"},"performed_via_github_app":null},{"id":1990034831,"node_id":"MDExOkNsb3NlZEV2ZW50MTk5MDAzNDgzMQ==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/1990034831","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b7db74144f3c287642958a8bf0be623360e7773f","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/b7db74144f3c287642958a8bf0be623360e7773f","created_at":"2018-11-27T16:10:05Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521585546","html_url":"https://github.com/rwf2/Rocket/issues/827#issuecomment-521585546","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/827","id":521585546,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTU4NTU0Ng==","user":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T09:49:56Z","updated_at":"2019-08-15T09:49:56Z","body":"I don't think the linked commit resolves the issue, as I'm having the same problem and the provided code snippet continues to fail:\r\n\r\n```\r\nlet _uri = uri!(get: None);\r\n   |                          ^^^^ the trait `rocket::http::uri::FromUriParam<rocket::http::uri::Query, std::option::Option<_>>` is not implemented for `u64`\r\n```\r\nMy use-case is that several parameters are optional for an endpoint. They are then passed through to a pagination template which generates \"next\" and \"page number\" links, keeping the values of the optional parameters so that the user's filters and searches persist.\r\n\r\nHowever this is currently not possible using the `uri!` macro and the uri needs to be constructed manually. So instead of something simple like:\r\n\r\n```\r\nlet link = uri!(\r\n    actv::activities::all::all_get:\r\n        date = filters.search_date,\r\n        locations = &filters.locations_chosen,\r\n        page = page_number,\r\n        types = &filters.types_chosen,\r\n);\r\n```\r\n\r\nyou get:\r\n\r\n```\r\nlet mut uri = vec![];\r\nif filters.search_date.is_some() {\r\n    uri.push(format!(\"date={}\", filters.search_date.unwrap());\r\n}\r\nif filters.locations { ... }\r\n...\r\n```\r\n\r\nObviously this is not ideal.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521585546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521692631","html_url":"https://github.com/rwf2/Rocket/issues/827#issuecomment-521692631","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/827","id":521692631,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTY5MjYzMQ==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T15:53:45Z","updated_at":"2019-08-15T15:53:45Z","body":"@cazgp How did you define the route in question?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521692631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2559921736,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjU1OTkyMTczNg==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2559921736","actor":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-08-15T15:53:45Z","performed_via_github_app":null},{"id":2559921738,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI1NTk5MjE3Mzg=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2559921738","actor":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-08-15T15:53:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521779393","html_url":"https://github.com/rwf2/Rocket/issues/827#issuecomment-521779393","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/827","id":521779393,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTc3OTM5Mw==","user":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T20:09:09Z","updated_at":"2019-08-15T20:09:20Z","body":"Similarly to the OP's code snippet, which doesn't compile. Optional URL query params.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/521779393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/522279050","html_url":"https://github.com/rwf2/Rocket/issues/827#issuecomment-522279050","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/827","id":522279050,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI3OTA1MA==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T23:56:26Z","updated_at":"2019-08-17T23:56:26Z","body":"It turns out that what was implemented does not allow exactly what was originally posted for this issue. You can either provide a value (*without* `Some`) or omit it (by specifying `_`). There is a deficiency in this: it's not possible to insert a parameter if you already have an `Option<T>`. Unfortunately supporting both methods turns out to be tricky, so it will need some thought.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/522279050/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/522301890","html_url":"https://github.com/rwf2/Rocket/issues/827#issuecomment-522301890","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/827","id":522301890,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjMwMTg5MA==","user":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T08:24:48Z","updated_at":"2019-08-18T08:24:48Z","body":"Can we re-open this issue then please? It appears to be either a feature request or a bug. If there's a route with multiple optional parameters, a separate function which manually builds the URL is needed, because otherwise it ends up with a combinatorial explosion of the `uri!` macro (checking every combination for whether or not it should be value or `_`).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/522301890/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cazgp","id":658873,"node_id":"MDQ6VXNlcjY1ODg3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658873?v=4","gravatar_id":"","url":"https://api.github.com/users/cazgp","html_url":"https://github.com/cazgp","followers_url":"https://api.github.com/users/cazgp/followers","following_url":"https://api.github.com/users/cazgp/following{/other_user}","gists_url":"https://api.github.com/users/cazgp/gists{/gist_id}","starred_url":"https://api.github.com/users/cazgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cazgp/subscriptions","organizations_url":"https://api.github.com/users/cazgp/orgs","repos_url":"https://api.github.com/users/cazgp/repos","events_url":"https://api.github.com/users/cazgp/events{/privacy}","received_events_url":"https://api.github.com/users/cazgp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-19T16:36:00Z","updated_at":"2019-10-19T16:36:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/998","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/998/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/998/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/998/events","html_url":"https://github.com/rwf2/Rocket/issues/998","id":442039824,"node_id":"MDU6SXNzdWU0NDIwMzk4MjQ=","number":998,"title":"`Uri` issues, summarized","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":449237579,"node_id":"MDU6TGFiZWw0NDkyMzc1Nzk=","url":"https://api.github.com/repos/rwf2/Rocket/labels/feedback%20wanted","name":"feedback wanted","color":"008672","default":false,"description":"User feedback is needed"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/8","html_url":"https://github.com/rwf2/Rocket/milestone/8","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/8/labels","id":2300325,"node_id":"MDk6TWlsZXN0b25lMjMwMDMyNQ==","number":8,"title":"0.5.0","description":null,"creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"open","created_at":"2017-02-05T07:58:22Z","updated_at":"2023-04-05T18:18:52Z","due_on":null,"closed_at":null},"comments":8,"created_at":"2019-05-09T04:05:39Z","updated_at":"2021-05-20T01:59:13Z","closed_at":"2021-05-20T01:59:13Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":54168759,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE2ODc1OQ==","name":"Rocket","full_name":"rwf2/Rocket","private":false,"owner":{"login":"rwf2","id":106361765,"node_id":"O_kgDOBlbzpQ","avatar_url":"https://avatars.githubusercontent.com/u/106361765?v=4","gravatar_id":"","url":"https://api.github.com/users/rwf2","html_url":"https://github.com/rwf2","followers_url":"https://api.github.com/users/rwf2/followers","following_url":"https://api.github.com/users/rwf2/following{/other_user}","gists_url":"https://api.github.com/users/rwf2/gists{/gist_id}","starred_url":"https://api.github.com/users/rwf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rwf2/subscriptions","organizations_url":"https://api.github.com/users/rwf2/orgs","repos_url":"https://api.github.com/users/rwf2/repos","events_url":"https://api.github.com/users/rwf2/events{/privacy}","received_events_url":"https://api.github.com/users/rwf2/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rwf2/Rocket","description":"A web framework for Rust.","fork":false,"url":"https://api.github.com/repos/rwf2/Rocket","forks_url":"https://api.github.com/repos/rwf2/Rocket/forks","keys_url":"https://api.github.com/repos/rwf2/Rocket/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rwf2/Rocket/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rwf2/Rocket/teams","hooks_url":"https://api.github.com/repos/rwf2/Rocket/hooks","issue_events_url":"https://api.github.com/repos/rwf2/Rocket/issues/events{/number}","events_url":"https://api.github.com/repos/rwf2/Rocket/events","assignees_url":"https://api.github.com/repos/rwf2/Rocket/assignees{/user}","branches_url":"https://api.github.com/repos/rwf2/Rocket/branches{/branch}","tags_url":"https://api.github.com/repos/rwf2/Rocket/tags","blobs_url":"https://api.github.com/repos/rwf2/Rocket/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rwf2/Rocket/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rwf2/Rocket/git/refs{/sha}","trees_url":"https://api.github.com/repos/rwf2/Rocket/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rwf2/Rocket/statuses/{sha}","languages_url":"https://api.github.com/repos/rwf2/Rocket/languages","stargazers_url":"https://api.github.com/repos/rwf2/Rocket/stargazers","contributors_url":"https://api.github.com/repos/rwf2/Rocket/contributors","subscribers_url":"https://api.github.com/repos/rwf2/Rocket/subscribers","subscription_url":"https://api.github.com/repos/rwf2/Rocket/subscription","commits_url":"https://api.github.com/repos/rwf2/Rocket/commits{/sha}","git_commits_url":"https://api.github.com/repos/rwf2/Rocket/git/commits{/sha}","comments_url":"https://api.github.com/repos/rwf2/Rocket/comments{/number}","issue_comment_url":"https://api.github.com/repos/rwf2/Rocket/issues/comments{/number}","contents_url":"https://api.github.com/repos/rwf2/Rocket/contents/{+path}","compare_url":"https://api.github.com/repos/rwf2/Rocket/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rwf2/Rocket/merges","archive_url":"https://api.github.com/repos/rwf2/Rocket/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rwf2/Rocket/downloads","issues_url":"https://api.github.com/repos/rwf2/Rocket/issues{/number}","pulls_url":"https://api.github.com/repos/rwf2/Rocket/pulls{/number}","milestones_url":"https://api.github.com/repos/rwf2/Rocket/milestones{/number}","notifications_url":"https://api.github.com/repos/rwf2/Rocket/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rwf2/Rocket/labels{/name}","releases_url":"https://api.github.com/repos/rwf2/Rocket/releases{/id}","deployments_url":"https://api.github.com/repos/rwf2/Rocket/deployments","created_at":"2016-03-18T02:50:18Z","updated_at":"2025-11-09T18:27:08Z","pushed_at":"2025-10-01T04:53:46Z","git_url":"git://github.com/rwf2/Rocket.git","ssh_url":"git@github.com:rwf2/Rocket.git","clone_url":"https://github.com/rwf2/Rocket.git","svn_url":"https://github.com/rwf2/Rocket","homepage":"https://rocket.rs","size":8445,"stargazers_count":25480,"watchers_count":25480,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1614,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":84,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","rocket","rust","web","web-development","web-framework"],"visibility":"public","forks":1614,"open_issues":84,"watchers":25480,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Background\r\n\r\nRocket 0.4 [introduced Typed URIs](https://rocket.rs/v0.4/news/2018-12-08-version-0.4/#typed-uris) and a new [`Uri` type](https://api.rocket.rs/v0.4/rocket/http/uri/enum.Uri.html). The `uri!` macro and strict `Uri` validation is a valuable addition to Rocket's API and is a great example of Rocket's promise of safety and correctness, but there are a few problems with it due to deficiencies and/or bugs in Rocket and in browsers.\r\n\r\nThis is a summary of the following issues and PRs:\r\n\r\n- [x] #842 - URI References /  `Uri` type does not support anchors.\r\n- [x] #853 - Support for absolute `Uri`s / generate absolute URIs from `uri!()`.\r\n- [x] #880/#882 - matching Url-Escaped Routes/match percent decoded urls\r\n- [x] #924/#941 - Un-encoded curly braces fail to parse/Allow more unencoded characters in query strings\r\n- [x] https://github.com/SergioBenitez/Rocket/issues/998#issuecomment-544169526\r\n- #995 - (needs some confirmation/testing) Path segments must be valid UTF-8\r\n\r\n## Bugs\r\n* `Uri` does not appear to support fragments in any URI from\r\n  * Workaround: Servers should only deal with fragments in URIs they generate, and most of those can be done via `format!`.\r\n  * Possible solution: add fragment support, but disallow it or treat it as part of the path/query in incoming URIs \r\n* `Location` uses `Uri` and is therefore too strict about which kinds of URIs it accepts (no relative URI, no fragment)\r\n  * Workaround: Manually set the header as a string.\r\n  * Possible solution: Add support for relative URIs and URIs with fragments to `Location` and/or `Uri`\r\n* `Uri` is strict about characters such as `{` needing to be percent-encoded\r\n  * Several browsers send `{` and other characters unencoded, even when they ought to be encoded.\r\n  * **There is currently no workaround**. If a user enters a `{` or certain other relatively innocent charactesr in a plain HTML form submitted with the GET method, Rocket may refuse to process the request entirely.\r\n  * Possible solution: Allow `{` and some other commonly unencoded characters. Clearly document how this adheres or purposefully does not adhere to the relevant standard and why.\r\n* (unconfirmed) `>` isn't even legal in the HTTP header, according to hyper 0.10? Worth double-checking what's going on here.\r\n* Route matching to the request URI is sensitive to percent encoding (e.g. `$` does not match `%24`).\r\n  * **There is currently no workaround**\r\n  * Possible solution: Follow an algorithm such as the one outlined in RFC 3986 ยง6 to do normalization when doing route comparison.\r\n\r\n## Requests\r\n* `uri!` only takes a string literal that must parse as an `Origin` as its mount point part.\r\n  * Workaround: Manually paste URI together via `format!`.\r\n  * Feature requested: Support any runtime-provided `Uri` as the mount point\r\n  * Possible solution: Accept any `Into<Uri>` as a mount point. Maybe with a special case - string literals can be checked via `TryInto<Uri>` at compile time and raise an error if they are invalid.\r\n* `uri!` with `Option` query parameters works surprisingly (e.g. https://github.com/SergioBenitez/Rocket/issues/827#issuecomment-521585546)\r\n\r\n## What next?\r\n\r\nRecapitulating what I wrote in https://github.com/SergioBenitez/Rocket/issues/924#issuecomment-470386375:\r\n\r\nRocket states that it adheres to RFC 7230, which relies on RFC 3986 for many of its URI-related definitions. But strictly adhering to RFC 3986 means that some URLs sent by browsers will be rejected as invalid. WHATWG's URL living standard is intended to replace previous URL standards, but it is still a moving target.\r\n\r\nI think the **first step to take** is to decide if WHATWG's URL living standard is an acceptable specification for Rocket to follow at this time. If it is not suitable, careful and documented deviance from the currently followed specification(s) should be made for the few places that browsers do something different from our expectations.\r\n\r\nThere are approximately three decisions to be made as I see it:\r\n\r\n* What URI/URL standard to follow - RFC 7230 or WHATWG are the only realistic standards I know of at this time\r\n* When and how to decode and normalize; either as URIs come in or as they are compared to routes, and which encoding tables to use\r\n* Extending `Uri` with support for relative URIs and fragments, or loosening the requirements to use `Uri` in places such as `Location`\r\n\r\nAt the end of the day, I don't want to review or merge a bunch of PRs that modify URI handling without a clear roadmap for doing so in a holistic way.\r\n\r\n---\r\n\r\nI will follow up with my own opinions on some of these choices, but I would like to get a feel for what other users of and contributors to Rocket expect as well.","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/998/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/998/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":13766682346,"node_id":"REFE_lADOAzqMt84WswsMzwAAAAM0jubq","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/13766682346","actor":{"login":"Eijebong","id":3650385,"node_id":"MDQ6VXNlcjM2NTAzODU=","avatar_url":"https://avatars.githubusercontent.com/u/3650385?v=4","gravatar_id":"","url":"https://api.github.com/users/Eijebong","html_url":"https://github.com/Eijebong","followers_url":"https://api.github.com/users/Eijebong/followers","following_url":"https://api.github.com/users/Eijebong/following{/other_user}","gists_url":"https://api.github.com/users/Eijebong/gists{/gist_id}","starred_url":"https://api.github.com/users/Eijebong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eijebong/subscriptions","organizations_url":"https://api.github.com/users/Eijebong/orgs","repos_url":"https://api.github.com/users/Eijebong/repos","events_url":"https://api.github.com/users/Eijebong/events{/privacy}","received_events_url":"https://api.github.com/users/Eijebong/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b7db74144f3c287642958a8bf0be623360e7773f","commit_url":"https://api.github.com/repos/Eijebong/Rocket/commits/b7db74144f3c287642958a8bf0be623360e7773f","created_at":"2024-08-05T16:10:38Z","performed_via_github_app":null}]