{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1594","repository_url":"https://api.github.com/repos/rwf2/Rocket","labels_url":"https://api.github.com/repos/rwf2/Rocket/issues/1594/labels{/name}","comments_url":"https://api.github.com/repos/rwf2/Rocket/issues/1594/comments","events_url":"https://api.github.com/repos/rwf2/Rocket/issues/1594/events","html_url":"https://github.com/rwf2/Rocket/issues/1594","id":842373689,"node_id":"MDU6SXNzdWU4NDIzNzM2ODk=","number":1594,"title":"Expose the original file name including the extension in the multipart DataField","user":{"login":"jbruechert","id":13609393,"node_id":"MDQ6VXNlcjEzNjA5Mzkz","avatar_url":"https://avatars.githubusercontent.com/u/13609393?v=4","gravatar_id":"","url":"https://api.github.com/users/jbruechert","html_url":"https://github.com/jbruechert","followers_url":"https://api.github.com/users/jbruechert/followers","following_url":"https://api.github.com/users/jbruechert/following{/other_user}","gists_url":"https://api.github.com/users/jbruechert/gists{/gist_id}","starred_url":"https://api.github.com/users/jbruechert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbruechert/subscriptions","organizations_url":"https://api.github.com/users/jbruechert/orgs","repos_url":"https://api.github.com/users/jbruechert/repos","events_url":"https://api.github.com/users/jbruechert/events{/privacy}","received_events_url":"https://api.github.com/users/jbruechert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":442152232,"node_id":"MDU6TGFiZWw0NDIxNTIyMzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/request","name":"request","color":"5319E7","default":false,"description":"Request for new functionality"},{"id":442158672,"node_id":"MDU6TGFiZWw0NDIxNTg2NzI=","url":"https://api.github.com/repos/rwf2/Rocket/labels/accepted","name":"accepted","color":"0E8A16","default":false,"description":"An accepted request or suggestion"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/rwf2/Rocket/milestones/8","html_url":"https://github.com/rwf2/Rocket/milestone/8","labels_url":"https://api.github.com/repos/rwf2/Rocket/milestones/8/labels","id":2300325,"node_id":"MDk6TWlsZXN0b25lMjMwMDMyNQ==","number":8,"title":"0.5.0","description":null,"creator":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"open","created_at":"2017-02-05T07:58:22Z","updated_at":"2023-04-05T18:18:52Z","due_on":null,"closed_at":null},"comments":5,"created_at":"2021-03-27T00:31:07Z","updated_at":"2021-04-04T00:25:22Z","closed_at":"2021-04-04T00:25:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Feature Request\r\n\r\n### Why do I believe the feature is necessary\r\n\r\nIn cases were the client is trusted, the file extension can contain useful information.\r\n\r\n### Use case\r\n\r\nIn my use-case  the client is trusted, and the server not publicly accessible. The client is uploading debian package build artifacts, which are output in a specific naming from a build tool.\r\nThere is a sort of manifest file, which lists the other files that belong to the build.\r\n\r\nAfter uploading all those files including the manifest as a multipart request, the manifest file is passed to a tool that manages the repository, and it imports all related files automatically. This depends on the files to be named the same as output by the build tool.\r\nReconstructing the file extension from the content type is hard and probably error prone.\r\n\r\n### Why not outside rocket \r\n\r\nAs far as I understand the needed information is not exposed by Rocket, so this is not possible to implement as an additional crate\r\n\r\n## General comments\r\n\r\n@SergioBenitez mentioned on Matrix that APIs tend to be used the wrong way if the wrong way is as easy to use and find as the proper way to do things.\r\n\r\nIn occasions were the client is not trusted, the file extension should not be used, as it might be wrong. The content type instead tells the real type of data.\r\n\r\nOne way to solve this is hiding features that depend on a trusted client behind a feature flag, so they require concious enabling.","closed_by":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/1594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rwf2/Rocket/issues/1594/timeline","performed_via_github_app":null,"state_reason":"completed"}