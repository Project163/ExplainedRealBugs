[{"id":2017159113,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwMTcxNTkxMTM=","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2017159113","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-10T21:56:10Z","label":{"name":"docs","color":"d4c5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/445991659","html_url":"https://github.com/rwf2/Rocket/issues/855#issuecomment-445991659","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/855","id":445991659,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTk5MTY1OQ==","user":{"login":"anthonyray","id":3779257,"node_id":"MDQ6VXNlcjM3NzkyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3779257?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonyray","html_url":"https://github.com/anthonyray","followers_url":"https://api.github.com/users/anthonyray/followers","following_url":"https://api.github.com/users/anthonyray/following{/other_user}","gists_url":"https://api.github.com/users/anthonyray/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonyray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonyray/subscriptions","organizations_url":"https://api.github.com/users/anthonyray/orgs","repos_url":"https://api.github.com/users/anthonyray/repos","events_url":"https://api.github.com/users/anthonyray/events{/privacy}","received_events_url":"https://api.github.com/users/anthonyray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-10T22:03:42Z","updated_at":"2018-12-10T22:03:42Z","body":"That would be a great addition ! I got stuck several hours on this !","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/445991659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"anthonyray","id":3779257,"node_id":"MDQ6VXNlcjM3NzkyNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3779257?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonyray","html_url":"https://github.com/anthonyray","followers_url":"https://api.github.com/users/anthonyray/followers","following_url":"https://api.github.com/users/anthonyray/following{/other_user}","gists_url":"https://api.github.com/users/anthonyray/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonyray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonyray/subscriptions","organizations_url":"https://api.github.com/users/anthonyray/orgs","repos_url":"https://api.github.com/users/anthonyray/repos","events_url":"https://api.github.com/users/anthonyray/events{/privacy}","received_events_url":"https://api.github.com/users/anthonyray/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/446044600","html_url":"https://github.com/rwf2/Rocket/issues/855#issuecomment-446044600","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/855","id":446044600,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjA0NDYwMA==","user":{"login":"ELD","id":650044,"node_id":"MDQ6VXNlcjY1MDA0NA==","avatar_url":"https://avatars.githubusercontent.com/u/650044?v=4","gravatar_id":"","url":"https://api.github.com/users/ELD","html_url":"https://github.com/ELD","followers_url":"https://api.github.com/users/ELD/followers","following_url":"https://api.github.com/users/ELD/following{/other_user}","gists_url":"https://api.github.com/users/ELD/gists{/gist_id}","starred_url":"https://api.github.com/users/ELD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ELD/subscriptions","organizations_url":"https://api.github.com/users/ELD/orgs","repos_url":"https://api.github.com/users/ELD/repos","events_url":"https://api.github.com/users/ELD/events{/privacy}","received_events_url":"https://api.github.com/users/ELD/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-11T02:01:24Z","updated_at":"2018-12-11T02:01:24Z","body":"Yeah, this is a point of friction I did run into, too. It's sad that the `Deref` coercion doesn't always happen ðŸ˜¢ ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/446044600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ELD","id":650044,"node_id":"MDQ6VXNlcjY1MDA0NA==","avatar_url":"https://avatars.githubusercontent.com/u/650044?v=4","gravatar_id":"","url":"https://api.github.com/users/ELD","html_url":"https://github.com/ELD","followers_url":"https://api.github.com/users/ELD/followers","following_url":"https://api.github.com/users/ELD/following{/other_user}","gists_url":"https://api.github.com/users/ELD/gists{/gist_id}","starred_url":"https://api.github.com/users/ELD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ELD/subscriptions","organizations_url":"https://api.github.com/users/ELD/orgs","repos_url":"https://api.github.com/users/ELD/repos","events_url":"https://api.github.com/users/ELD/events{/privacy}","received_events_url":"https://api.github.com/users/ELD/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/446057762","html_url":"https://github.com/rwf2/Rocket/issues/855#issuecomment-446057762","issue_url":"https://api.github.com/repos/rwf2/Rocket/issues/855","id":446057762,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjA1Nzc2Mg==","user":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-11T03:16:48Z","updated_at":"2018-12-11T03:19:55Z","body":"NOTE: As far as I know the most common and perhaps only case where this is useful is for diesel's `Connection` trait. This approach could theoretically apply to other databases that have methods taking `(&C) where C: Connection`.\r\n\r\nA \"nicer\" solution might be to implement `Connection` for each connection type:\r\n\r\n```rust\r\nimpl Connection for #request_guard_type {\r\n    ...\r\n}\r\n```\r\n\r\nThis actually turns out to be hard for several reasons:\r\n\r\n* `Connection` has the supertrait `SimpleConnection`, so that would need to be implemented too.\r\n* The `Connection` trait can only even be named when compiling with a diesel-related feature enabled. `rocket_contrib` currently does not know about the enabled features.\r\n  * So we pass the feature along to rocket_contrib, and rocket_contrib can only emit the `impl` when the diesel feature is enabled.\r\n  * Another possibility *might* have been to implement a trait in contrib, not contrib_codegen, for all request guard types (I'll call it `RocketPooledConnection` for the sake of argument). This would allow us to `impl<T> Connection for T where T: RocketPooledConnection` in rocket_contrib... oops, that violates the orphan rules.\r\n\r\n\r\n* But wait a minute! What about non-diesel pools?\r\n  * You're absolutely right! We actually need to write this impl instead:\r\n    ```rust\r\n    impl Connection for #request_guard_type where #connection_type: Connection {\r\n        ...\r\n    }\r\n    ```\r\n    But that requires `#[feature(trivial_bounds)]` -- which, funnily enough, is an upcoming feature because diesel wants to generate `impl`s similar to these via macros. So I'm going to throw in the towel on this whole idea for the third or fourth time, finally documenting it now so nobody (including myself) makes the same mistakes I have, *again*.\r\n\r\n... but not all hope is lost. I think it would still be possible to do this manually at the database-type-definition-site with yet another macro, maybe called as `#[derive(DieselConnectionPassThru)]` or `impl_diesel_connection_for!(type, inner_type);`. The implementation of these macros is left as an exercise for the reader.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/rwf2/Rocket/issues/comments/446057762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jebrosen","id":7102588,"node_id":"MDQ6VXNlcjcxMDI1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/7102588?v=4","gravatar_id":"","url":"https://api.github.com/users/jebrosen","html_url":"https://github.com/jebrosen","followers_url":"https://api.github.com/users/jebrosen/followers","following_url":"https://api.github.com/users/jebrosen/following{/other_user}","gists_url":"https://api.github.com/users/jebrosen/gists{/gist_id}","starred_url":"https://api.github.com/users/jebrosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jebrosen/subscriptions","organizations_url":"https://api.github.com/users/jebrosen/orgs","repos_url":"https://api.github.com/users/jebrosen/repos","events_url":"https://api.github.com/users/jebrosen/events{/privacy}","received_events_url":"https://api.github.com/users/jebrosen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2017798839,"node_id":"MDExOkNsb3NlZEV2ZW50MjAxNzc5ODgzOQ==","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/2017798839","actor":{"login":"SergioBenitez","id":1480321,"node_id":"MDQ6VXNlcjE0ODAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1480321?v=4","gravatar_id":"","url":"https://api.github.com/users/SergioBenitez","html_url":"https://github.com/SergioBenitez","followers_url":"https://api.github.com/users/SergioBenitez/followers","following_url":"https://api.github.com/users/SergioBenitez/following{/other_user}","gists_url":"https://api.github.com/users/SergioBenitez/gists{/gist_id}","starred_url":"https://api.github.com/users/SergioBenitez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SergioBenitez/subscriptions","organizations_url":"https://api.github.com/users/SergioBenitez/orgs","repos_url":"https://api.github.com/users/SergioBenitez/repos","events_url":"https://api.github.com/users/SergioBenitez/events{/privacy}","received_events_url":"https://api.github.com/users/SergioBenitez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"746023fe1ff2f883e6a49d69466842f3981bcf5c","commit_url":"https://api.github.com/repos/rwf2/Rocket/commits/746023fe1ff2f883e6a49d69466842f3981bcf5c","created_at":"2018-12-11T06:21:19Z","state_reason":null,"performed_via_github_app":null},{"id":13766682391,"node_id":"REFE_lADOAzqMt84XN1tmzwAAAAM0jucX","url":"https://api.github.com/repos/rwf2/Rocket/issues/events/13766682391","actor":{"login":"Eijebong","id":3650385,"node_id":"MDQ6VXNlcjM2NTAzODU=","avatar_url":"https://avatars.githubusercontent.com/u/3650385?v=4","gravatar_id":"","url":"https://api.github.com/users/Eijebong","html_url":"https://github.com/Eijebong","followers_url":"https://api.github.com/users/Eijebong/followers","following_url":"https://api.github.com/users/Eijebong/following{/other_user}","gists_url":"https://api.github.com/users/Eijebong/gists{/gist_id}","starred_url":"https://api.github.com/users/Eijebong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eijebong/subscriptions","organizations_url":"https://api.github.com/users/Eijebong/orgs","repos_url":"https://api.github.com/users/Eijebong/repos","events_url":"https://api.github.com/users/Eijebong/events{/privacy}","received_events_url":"https://api.github.com/users/Eijebong/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"746023fe1ff2f883e6a49d69466842f3981bcf5c","commit_url":"https://api.github.com/repos/Eijebong/Rocket/commits/746023fe1ff2f883e6a49d69466842f3981bcf5c","created_at":"2024-08-05T16:10:38Z","performed_via_github_app":null}]