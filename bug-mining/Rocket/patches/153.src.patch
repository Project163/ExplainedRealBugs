diff --git a/core/http/Cargo.toml b/core/http/Cargo.toml
index 792fc0df..c207f4b2 100644
--- a/core/http/Cargo.toml
+++ b/core/http/Cargo.toml
@@ -43,7 +43,7 @@ cookie = { version = "0.15", features = ["percent-encode"] }
 
 [dependencies.state]
 git = "https://github.com/SergioBenitez/state.git"
-rev = "7576652"
+rev = "504ef71a"
 
 [dependencies._serde]
 package = "serde"
diff --git a/core/lib/Cargo.toml b/core/lib/Cargo.toml
index 7eb055f7..faf5e6c1 100644
--- a/core/lib/Cargo.toml
+++ b/core/lib/Cargo.toml
@@ -47,7 +47,7 @@ async-trait = "0.1.43"
 
 [dependencies.state]
 git = "https://github.com/SergioBenitez/state.git"
-rev = "0a7457d2"
+rev = "504ef71a"
 
 [dependencies.rocket_codegen]
 version = "0.5.0-dev"
