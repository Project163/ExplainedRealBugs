<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:01:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JOHNZON-158] ArrayIndexOutOfBoundsException in JsonStreamParserImpl.copyCurrentValue every second time</title>
                <link>https://issues.apache.org/jira/browse/JOHNZON-158</link>
                <project id="12315523" key="JOHNZON">Johnzon</project>
                    <description>&lt;p&gt;The following exception happens at every second unmarshalling of a class containing a big byte array.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ArrayIndexOutOfBoundsException
&#160;&#160; &#160;at java.lang.System.arraycopy(Native Method)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.copyCurrentValue(JsonStreamParserImpl.java:176)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.readNextChar(JsonStreamParserImpl.java:281)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.readString(JsonStreamParserImpl.java:594)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.handleQuote(JsonStreamParserImpl.java:684)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.next(JsonStreamParserImpl.java:429)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonStreamParserImpl.next(JsonStreamParserImpl.java:389)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonReaderImpl.parseObject(JsonReaderImpl.java:182)
&#160;&#160; &#160;at org.apache.johnzon.core.JsonReaderImpl.readValue(JsonReaderImpl.java:83)
&#160;&#160; &#160;at org.apache.johnzon.mapper.MappingParserImpl.readObject(MappingParserImpl.java:125)
&#160;&#160; &#160;at org.apache.johnzon.mapper.Mapper.mapObject(Mapper.java:261)
&#160;&#160; &#160;at org.apache.johnzon.mapper.Mapper.readObject(Mapper.java:208)
&#160;&#160; &#160;at org.apache.johnzon.mapper.Mapper.readObject(Mapper.java:204)
&#160;&#160; &#160;at org.apache.johnzon.jsonb.JohnzonJsonb.fromJson(JohnzonJsonb.java:58)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Must be some state issue. I try to create a simple test case tonight.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13139488">JOHNZON-158</key>
            <summary>ArrayIndexOutOfBoundsException in JsonStreamParserImpl.copyCurrentValue every second time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="romain.manni-bucau">Romain Manni-Bucau</assignee>
                                    <reporter username="Matze">Matthias Hanisch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Feb 2018 17:11:13 +0000</created>
                <updated>Wed, 21 Feb 2018 09:14:12 +0000</updated>
                            <resolved>Tue, 20 Feb 2018 17:42:15 +0000</resolved>
                                    <version>1.1.5</version>
                    <version>1.1.6</version>
                                    <fixVersion>1.1.7</fixVersion>
                                    <component>JSON-B</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16369397" author="struberg" created="Mon, 19 Feb 2018 18:29:31 +0000"  >&lt;p&gt;Test case would be really cool, thanks!&lt;/p&gt;</comment>
                            <comment id="16369412" author="matze" created="Mon, 19 Feb 2018 18:47:59 +0000"  >&lt;p&gt;Here you are &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16369416" author="matze" created="Mon, 19 Feb 2018 18:50:13 +0000"  >&lt;p&gt;If you don&apos;t use the JsonbConfig which influences the size of the JSON structure then it works.&lt;/p&gt;</comment>
                            <comment id="16370322" author="romain.manni-bucau" created="Tue, 20 Feb 2018 17:33:22 +0000"  >&lt;p&gt;It is more linked to the buffers size. You can configure the default strategy to workaround it setting the property org.apache.johnzon.buffer-strategy to BY_INSTANCE&lt;/p&gt;</comment>
                            <comment id="16371123" author="matze" created="Wed, 21 Feb 2018 09:14:12 +0000"  >&lt;p&gt;Thanks for that intermediate workaround until 1.1.7 is released. This seems to work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12911149" name="JOHNZON158.java" size="1736" author="Matze" created="Mon, 19 Feb 2018 18:47:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qclz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>