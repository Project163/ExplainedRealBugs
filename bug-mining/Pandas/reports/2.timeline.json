[{"id":9752901537,"node_id":"LE_lADOAA0YD85q4YmAzwAAAAJFUXeh","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9752901537","actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-07T09:33:08Z","label":{"name":"Enhancement","color":"4E9A06"},"performed_via_github_app":null},{"id":9752901548,"node_id":"LE_lADOAA0YD85q4YmAzwAAAAJFUXes","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9752901548","actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-07T09:33:08Z","label":{"name":"Needs Triage","color":"0052cc"},"performed_via_github_app":null},{"actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-07T09:35:57Z","updated_at":"2023-07-07T09:35:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119","repository_url":"https://api.github.com/repos/deppen8/pandas-vet","labels_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119/labels{/name}","comments_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119/comments","events_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119/events","html_url":"https://github.com/deppen8/pandas-vet/issues/119","id":1793126107,"node_id":"I_kwDOCkc2tc5q4O7b","number":119,"title":"Constant column check with `nunique`","user":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1248308803,"node_id":"MDU6TGFiZWwxMjQ4MzA4ODAz","url":"https://api.github.com/repos/deppen8/pandas-vet/labels/new%20check","name":"new check","color":"47e862","default":false,"description":"New check for the linter"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-07-07T09:10:13Z","updated_at":"2023-08-09T20:20:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":172439221,"node_id":"MDEwOlJlcG9zaXRvcnkxNzI0MzkyMjE=","name":"pandas-vet","full_name":"deppen8/pandas-vet","private":false,"owner":{"login":"deppen8","id":28818837,"node_id":"MDQ6VXNlcjI4ODE4ODM3","avatar_url":"https://avatars.githubusercontent.com/u/28818837?v=4","gravatar_id":"","url":"https://api.github.com/users/deppen8","html_url":"https://github.com/deppen8","followers_url":"https://api.github.com/users/deppen8/followers","following_url":"https://api.github.com/users/deppen8/following{/other_user}","gists_url":"https://api.github.com/users/deppen8/gists{/gist_id}","starred_url":"https://api.github.com/users/deppen8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deppen8/subscriptions","organizations_url":"https://api.github.com/users/deppen8/orgs","repos_url":"https://api.github.com/users/deppen8/repos","events_url":"https://api.github.com/users/deppen8/events{/privacy}","received_events_url":"https://api.github.com/users/deppen8/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/deppen8/pandas-vet","description":"A plugin for Flake8 that checks pandas code","fork":false,"url":"https://api.github.com/repos/deppen8/pandas-vet","forks_url":"https://api.github.com/repos/deppen8/pandas-vet/forks","keys_url":"https://api.github.com/repos/deppen8/pandas-vet/keys{/key_id}","collaborators_url":"https://api.github.com/repos/deppen8/pandas-vet/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/deppen8/pandas-vet/teams","hooks_url":"https://api.github.com/repos/deppen8/pandas-vet/hooks","issue_events_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/events{/number}","events_url":"https://api.github.com/repos/deppen8/pandas-vet/events","assignees_url":"https://api.github.com/repos/deppen8/pandas-vet/assignees{/user}","branches_url":"https://api.github.com/repos/deppen8/pandas-vet/branches{/branch}","tags_url":"https://api.github.com/repos/deppen8/pandas-vet/tags","blobs_url":"https://api.github.com/repos/deppen8/pandas-vet/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/deppen8/pandas-vet/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/deppen8/pandas-vet/git/refs{/sha}","trees_url":"https://api.github.com/repos/deppen8/pandas-vet/git/trees{/sha}","statuses_url":"https://api.github.com/repos/deppen8/pandas-vet/statuses/{sha}","languages_url":"https://api.github.com/repos/deppen8/pandas-vet/languages","stargazers_url":"https://api.github.com/repos/deppen8/pandas-vet/stargazers","contributors_url":"https://api.github.com/repos/deppen8/pandas-vet/contributors","subscribers_url":"https://api.github.com/repos/deppen8/pandas-vet/subscribers","subscription_url":"https://api.github.com/repos/deppen8/pandas-vet/subscription","commits_url":"https://api.github.com/repos/deppen8/pandas-vet/commits{/sha}","git_commits_url":"https://api.github.com/repos/deppen8/pandas-vet/git/commits{/sha}","comments_url":"https://api.github.com/repos/deppen8/pandas-vet/comments{/number}","issue_comment_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/comments{/number}","contents_url":"https://api.github.com/repos/deppen8/pandas-vet/contents/{+path}","compare_url":"https://api.github.com/repos/deppen8/pandas-vet/compare/{base}...{head}","merges_url":"https://api.github.com/repos/deppen8/pandas-vet/merges","archive_url":"https://api.github.com/repos/deppen8/pandas-vet/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/deppen8/pandas-vet/downloads","issues_url":"https://api.github.com/repos/deppen8/pandas-vet/issues{/number}","pulls_url":"https://api.github.com/repos/deppen8/pandas-vet/pulls{/number}","milestones_url":"https://api.github.com/repos/deppen8/pandas-vet/milestones{/number}","notifications_url":"https://api.github.com/repos/deppen8/pandas-vet/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/deppen8/pandas-vet/labels{/name}","releases_url":"https://api.github.com/repos/deppen8/pandas-vet/releases{/id}","deployments_url":"https://api.github.com/repos/deppen8/pandas-vet/deployments","created_at":"2019-02-25T05:19:51Z","updated_at":"2025-04-21T19:48:22Z","pushed_at":"2023-08-11T17:41:30Z","git_url":"git://github.com/deppen8/pandas-vet.git","ssh_url":"git@github.com:deppen8/pandas-vet.git","clone_url":"https://github.com/deppen8/pandas-vet.git","svn_url":"https://github.com/deppen8/pandas-vet","homepage":"https://pandas-vet.readthedocs.io","size":173,"stargazers_count":170,"watchers_count":170,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":17,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["flake8","flake8-plugin","linter","pandas","python"],"visibility":"public","forks":17,"open_issues":13,"watchers":170,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"*Try to respond to as many of the following as possible*\r\n\r\n**Generally describe the `pandas` behavior that the linter should check for and why that is a problem.**  *Links to resources, recommendations, docs appreciated*\r\n\r\nThe linter should check for nunique being compared to 1. The detected pattern is less performant because it does not leverage short-circuiting when multiple unique values are found, and simply continues counting..\r\n\r\n![perf_short_circuit](https://github.com/deppen8/pandas-vet/assets/9756388/4349e85d-0cf2-4ea9-acc0-4e2fb545fdb8)\r\n\r\n```python\r\ndef setup(n):\r\n    return pd.Series(list(range(n)))\r\n```\r\n\r\n![perf_worst](https://github.com/deppen8/pandas-vet/assets/9756388/6f283921-8bac-4ac2-a0ee-72e3c215b80c)\r\n\r\n```python\r\ndef setup(n):\r\n    return pd.Series([1] * (n - 1) + [2])\r\n```\r\n\r\n- [In the wild](https://github.com/search?q=%22nunique%28%29+%3D%3D+1%22+language%3APython+&type=code)\r\n- [SO Thread](https://stackoverflow.com/questions/54405704/check-if-all-values-in-dataframe-column-are-the-same), [SO Thread 2](https://stackoverflow.com/questions/20209600/pandas-dataframe-remove-constant-column)\r\n\r\n**Suggest specific syntax or pattern(s) that should trigger the linter** *(e.g., `.iat`)*\r\n\r\n- `df.column.nunique() == 1`\r\n- `df.column.nunique() != 1`\r\n- `df.column.nunique(dropna=True) == 1`\r\n- `df.column.nunique(dropna=True) != 1`\r\n- `df.column.nunique(dropna=False) == 1`\r\n- `df.column.nunique(dropna=False) != 1`\r\n \r\n**Suggest specific syntax or pattern(s) that the linter should allow** *(e.g., `.iloc`)*\r\n\r\nNote that the solution is simple when there are no NaN values:\r\n```python\r\n(series.values[0] == series.values).all()\r\n```\r\n\r\nAnd needs some additional logic when NaN/NA values are present.\r\n\r\nFor `dropna=True`\r\n```python\r\nv = series.values\r\nv = remove_na_arraylike(v)\r\nif v.shape[0] == 0:\r\n    return False\r\n(v[0] == v).all()\r\n```\r\n\r\nFor `dropna=False`\r\n```python\r\nv = s.values\r\nif v.shape[0] == 0:\r\n    return False\r\n(v[0] == v).all() or not pd.notna(v).any()\r\n```\r\n\r\n[if included](https://github.com/pandas-dev/pandas/issues/54033) in pandas:\r\n```python\r\nseries.is_constant()\r\n```\r\n\r\n**Suggest a specific error message that the linter should display** *(e.g., \"Use '.iloc' instead of '.iat'. If speed is important, use numpy indexing\")*\r\n\r\nConsider checking equality to first element instead of `.nunique() == 1`  for checking for a constant column.\r\n\r\n**Are you willing to try to implement this check?**\r\n- [ ] Yes\r\n- [x] No\r\n- [ ] Maybe, with some guidance\r\n","reactions":{"url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/deppen8/pandas-vet/issues/119/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1627531356","html_url":"https://github.com/pandas-dev/pandas/issues/54033#issuecomment-1627531356","issue_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54033","id":1627531356,"node_id":"IC_kwDOAA0YD85hAihc","user":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-08T22:22:35Z","updated_at":"2023-07-08T22:22:35Z","body":"Is checking for a constant ever a bottleneck in a workflow?\r\n\r\nThis seems like something a user could easily do themselves.\r\n\r\nGiven the heavy usage of ``nunique()==1``, maybe this would be better as an example to add to the [pandas cookbook](https://pandas.pydata.org/docs/user_guide/cookbook.html)?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1627531356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9766180617,"node_id":"UNLE_lADOAA0YD85q4YmAzwAAAAJGHBcJ","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9766180617","actor":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-07-08T22:22:50Z","label":{"name":"Needs Triage","color":"0052cc"},"performed_via_github_app":null},{"id":9766180620,"node_id":"LE_lADOAA0YD85q4YmAzwAAAAJGHBcM","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9766180620","actor":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-08T22:22:50Z","label":{"name":"Series","color":"8dd5fc"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1628729154","html_url":"https://github.com/pandas-dev/pandas/issues/54033#issuecomment-1628729154","issue_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54033","id":1628729154,"node_id":"IC_kwDOAA0YD85hFG9C","user":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-10T11:09:36Z","updated_at":"2023-07-10T11:09:36Z","body":"Adding an example to the pandas cookbook seems a good way of informing users to consider implementing a check that short-circuits. I will open a PR.\r\n\r\nFor completeness: Implementing `is_constant` (i.e. performant version of nunique() == 1) would be consistent with `is_unique` (i.e. nunique() == len(series)). The latter is also simple to achieve by the user and not expected to be a bottleneck.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1628729154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9773586138,"node_id":"REFE_lADOAA0YD85q4YmAzwAAAAJGjRba","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9773586138","actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2c15064aea5237170cfe217a94759f810fb57430","commit_url":"https://api.github.com/repos/sbrugman/pandas/commits/2c15064aea5237170cfe217a94759f810fb57430","created_at":"2023-07-10T11:26:20Z","performed_via_github_app":null},{"actor":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-10T11:26:51Z","updated_at":"2023-07-10T11:26:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064","repository_url":"https://api.github.com/repos/pandas-dev/pandas","labels_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064/labels{/name}","comments_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064/comments","events_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064/events","html_url":"https://github.com/pandas-dev/pandas/pull/54064","id":1796557103,"node_id":"PR_kwDOAA0YD85VE0l0","number":54064,"title":"DOC: constant check in series","user":{"login":"sbrugman","id":9756388,"node_id":"MDQ6VXNlcjk3NTYzODg=","avatar_url":"https://avatars.githubusercontent.com/u/9756388?v=4","gravatar_id":"","url":"https://api.github.com/users/sbrugman","html_url":"https://github.com/sbrugman","followers_url":"https://api.github.com/users/sbrugman/followers","following_url":"https://api.github.com/users/sbrugman/following{/other_user}","gists_url":"https://api.github.com/users/sbrugman/gists{/gist_id}","starred_url":"https://api.github.com/users/sbrugman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbrugman/subscriptions","organizations_url":"https://api.github.com/users/sbrugman/orgs","repos_url":"https://api.github.com/users/sbrugman/repos","events_url":"https://api.github.com/users/sbrugman/events{/privacy}","received_events_url":"https://api.github.com/users/sbrugman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":134699,"node_id":"MDU6TGFiZWwxMzQ2OTk=","url":"https://api.github.com/repos/pandas-dev/pandas/labels/Docs","name":"Docs","color":"3465A4","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pandas-dev/pandas/milestones/103","html_url":"https://github.com/pandas-dev/pandas/milestone/103","labels_url":"https://api.github.com/repos/pandas-dev/pandas/milestones/103/labels","id":9068593,"node_id":"MI_kwDOAA0YD84AimAx","number":103,"title":"2.1","description":"on-merge: backport to 2.1.x","creator":{"login":"phofl","id":61934744,"node_id":"MDQ6VXNlcjYxOTM0NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/61934744?v=4","gravatar_id":"","url":"https://api.github.com/users/phofl","html_url":"https://github.com/phofl","followers_url":"https://api.github.com/users/phofl/followers","following_url":"https://api.github.com/users/phofl/following{/other_user}","gists_url":"https://api.github.com/users/phofl/gists{/gist_id}","starred_url":"https://api.github.com/users/phofl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phofl/subscriptions","organizations_url":"https://api.github.com/users/phofl/orgs","repos_url":"https://api.github.com/users/phofl/repos","events_url":"https://api.github.com/users/phofl/events{/privacy}","received_events_url":"https://api.github.com/users/phofl/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1340,"state":"closed","created_at":"2023-02-20T21:04:36Z","updated_at":"2023-12-27T22:58:14Z","due_on":"2023-08-20T07:00:00Z","closed_at":"2023-08-31T14:59:26Z"},"comments":1,"created_at":"2023-07-10T11:26:51Z","updated_at":"2023-07-12T15:41:05Z","closed_at":"2023-07-12T15:40:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":858127,"node_id":"MDEwOlJlcG9zaXRvcnk4NTgxMjc=","name":"pandas","full_name":"pandas-dev/pandas","private":false,"owner":{"login":"pandas-dev","id":21206976,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMjA2OTc2","avatar_url":"https://avatars.githubusercontent.com/u/21206976?v=4","gravatar_id":"","url":"https://api.github.com/users/pandas-dev","html_url":"https://github.com/pandas-dev","followers_url":"https://api.github.com/users/pandas-dev/followers","following_url":"https://api.github.com/users/pandas-dev/following{/other_user}","gists_url":"https://api.github.com/users/pandas-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pandas-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pandas-dev/subscriptions","organizations_url":"https://api.github.com/users/pandas-dev/orgs","repos_url":"https://api.github.com/users/pandas-dev/repos","events_url":"https://api.github.com/users/pandas-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pandas-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pandas-dev/pandas","description":"Flexible and powerful data analysis / manipulation library for Python, providing labeled data structures similar to R data.frame objects, statistical functions, and much more","fork":false,"url":"https://api.github.com/repos/pandas-dev/pandas","forks_url":"https://api.github.com/repos/pandas-dev/pandas/forks","keys_url":"https://api.github.com/repos/pandas-dev/pandas/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pandas-dev/pandas/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pandas-dev/pandas/teams","hooks_url":"https://api.github.com/repos/pandas-dev/pandas/hooks","issue_events_url":"https://api.github.com/repos/pandas-dev/pandas/issues/events{/number}","events_url":"https://api.github.com/repos/pandas-dev/pandas/events","assignees_url":"https://api.github.com/repos/pandas-dev/pandas/assignees{/user}","branches_url":"https://api.github.com/repos/pandas-dev/pandas/branches{/branch}","tags_url":"https://api.github.com/repos/pandas-dev/pandas/tags","blobs_url":"https://api.github.com/repos/pandas-dev/pandas/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pandas-dev/pandas/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pandas-dev/pandas/git/refs{/sha}","trees_url":"https://api.github.com/repos/pandas-dev/pandas/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pandas-dev/pandas/statuses/{sha}","languages_url":"https://api.github.com/repos/pandas-dev/pandas/languages","stargazers_url":"https://api.github.com/repos/pandas-dev/pandas/stargazers","contributors_url":"https://api.github.com/repos/pandas-dev/pandas/contributors","subscribers_url":"https://api.github.com/repos/pandas-dev/pandas/subscribers","subscription_url":"https://api.github.com/repos/pandas-dev/pandas/subscription","commits_url":"https://api.github.com/repos/pandas-dev/pandas/commits{/sha}","git_commits_url":"https://api.github.com/repos/pandas-dev/pandas/git/commits{/sha}","comments_url":"https://api.github.com/repos/pandas-dev/pandas/comments{/number}","issue_comment_url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments{/number}","contents_url":"https://api.github.com/repos/pandas-dev/pandas/contents/{+path}","compare_url":"https://api.github.com/repos/pandas-dev/pandas/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pandas-dev/pandas/merges","archive_url":"https://api.github.com/repos/pandas-dev/pandas/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pandas-dev/pandas/downloads","issues_url":"https://api.github.com/repos/pandas-dev/pandas/issues{/number}","pulls_url":"https://api.github.com/repos/pandas-dev/pandas/pulls{/number}","milestones_url":"https://api.github.com/repos/pandas-dev/pandas/milestones{/number}","notifications_url":"https://api.github.com/repos/pandas-dev/pandas/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pandas-dev/pandas/labels{/name}","releases_url":"https://api.github.com/repos/pandas-dev/pandas/releases{/id}","deployments_url":"https://api.github.com/repos/pandas-dev/pandas/deployments","created_at":"2010-08-24T01:37:33Z","updated_at":"2025-11-09T12:58:48Z","pushed_at":"2025-11-08T20:40:33Z","git_url":"git://github.com/pandas-dev/pandas.git","ssh_url":"git@github.com:pandas-dev/pandas.git","clone_url":"https://github.com/pandas-dev/pandas.git","svn_url":"https://github.com/pandas-dev/pandas","homepage":"https://pandas.pydata.org","size":377072,"stargazers_count":47057,"watchers_count":47057,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":19263,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3595,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["alignment","data-analysis","data-science","flexible","pandas","python"],"visibility":"public","forks":19263,"open_issues":3595,"watchers":47057,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pandas-dev/pandas/pulls/54064","html_url":"https://github.com/pandas-dev/pandas/pull/54064","diff_url":"https://github.com/pandas-dev/pandas/pull/54064.diff","patch_url":"https://github.com/pandas-dev/pandas/pull/54064.patch","merged_at":"2023-07-12T15:40:24Z"},"body":"\r\n- [X] closes #54033\r\n- [X] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature\r\n- [X] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).\r\n- [X] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.\r\n- [X] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.\r\n","reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54064/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1629233732","html_url":"https://github.com/pandas-dev/pandas/issues/54033#issuecomment-1629233732","issue_url":"https://api.github.com/repos/pandas-dev/pandas/issues/54033","id":1629233732,"node_id":"IC_kwDOAA0YD85hHCJE","user":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-10T15:50:37Z","updated_at":"2023-07-10T15:50:37Z","body":"> For completeness: Implementing `is_constant` (i.e. performant version of nunique() == 1) would be consistent with `is_unique` (i.e. nunique() == len(series)). The latter is also simple to achieve by the user and not expected to be a bottleneck.\r\n\r\nI'll leave this open to see if others want this then.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments/1629233732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lithomas1","id":47963215,"node_id":"MDQ6VXNlcjQ3OTYzMjE1","avatar_url":"https://avatars.githubusercontent.com/u/47963215?v=4","gravatar_id":"","url":"https://api.github.com/users/lithomas1","html_url":"https://github.com/lithomas1","followers_url":"https://api.github.com/users/lithomas1/followers","following_url":"https://api.github.com/users/lithomas1/following{/other_user}","gists_url":"https://api.github.com/users/lithomas1/gists{/gist_id}","starred_url":"https://api.github.com/users/lithomas1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lithomas1/subscriptions","organizations_url":"https://api.github.com/users/lithomas1/orgs","repos_url":"https://api.github.com/users/lithomas1/repos","events_url":"https://api.github.com/users/lithomas1/events{/privacy}","received_events_url":"https://api.github.com/users/lithomas1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9801154755,"node_id":"CE_lADOAA0YD85q4YmAzwAAAAJIMcDD","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9801154755","actor":{"login":"mroeschke","id":10647082,"node_id":"MDQ6VXNlcjEwNjQ3MDgy","avatar_url":"https://avatars.githubusercontent.com/u/10647082?v=4","gravatar_id":"","url":"https://api.github.com/users/mroeschke","html_url":"https://github.com/mroeschke","followers_url":"https://api.github.com/users/mroeschke/followers","following_url":"https://api.github.com/users/mroeschke/following{/other_user}","gists_url":"https://api.github.com/users/mroeschke/gists{/gist_id}","starred_url":"https://api.github.com/users/mroeschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mroeschke/subscriptions","organizations_url":"https://api.github.com/users/mroeschke/orgs","repos_url":"https://api.github.com/users/mroeschke/repos","events_url":"https://api.github.com/users/mroeschke/events{/privacy}","received_events_url":"https://api.github.com/users/mroeschke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-07-12T15:40:27Z","state_reason":null,"performed_via_github_app":null},{"id":9801155640,"node_id":"REFE_lADOAA0YD85q4YmAzwAAAAJIMcQ4","url":"https://api.github.com/repos/pandas-dev/pandas/issues/events/9801155640","actor":{"login":"mroeschke","id":10647082,"node_id":"MDQ6VXNlcjEwNjQ3MDgy","avatar_url":"https://avatars.githubusercontent.com/u/10647082?v=4","gravatar_id":"","url":"https://api.github.com/users/mroeschke","html_url":"https://github.com/mroeschke","followers_url":"https://api.github.com/users/mroeschke/followers","following_url":"https://api.github.com/users/mroeschke/following{/other_user}","gists_url":"https://api.github.com/users/mroeschke/gists{/gist_id}","starred_url":"https://api.github.com/users/mroeschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mroeschke/subscriptions","organizations_url":"https://api.github.com/users/mroeschke/orgs","repos_url":"https://api.github.com/users/mroeschke/repos","events_url":"https://api.github.com/users/mroeschke/events{/privacy}","received_events_url":"https://api.github.com/users/mroeschke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"be09d66901525caaad3fd975bc6bc893851a5ebb","commit_url":"https://api.github.com/repos/pandas-dev/pandas/commits/be09d66901525caaad3fd975bc6bc893851a5ebb","created_at":"2023-07-12T15:40:29Z","performed_via_github_app":null},{"actor":{"login":"Aloqeely","id":52792999,"node_id":"MDQ6VXNlcjUyNzkyOTk5","avatar_url":"https://avatars.githubusercontent.com/u/52792999?v=4","gravatar_id":"","url":"https://api.github.com/users/Aloqeely","html_url":"https://github.com/Aloqeely","followers_url":"https://api.github.com/users/Aloqeely/followers","following_url":"https://api.github.com/users/Aloqeely/following{/other_user}","gists_url":"https://api.github.com/users/Aloqeely/gists{/gist_id}","starred_url":"https://api.github.com/users/Aloqeely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aloqeely/subscriptions","organizations_url":"https://api.github.com/users/Aloqeely/orgs","repos_url":"https://api.github.com/users/Aloqeely/repos","events_url":"https://api.github.com/users/Aloqeely/events{/privacy}","received_events_url":"https://api.github.com/users/Aloqeely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-22T11:57:25Z","updated_at":"2024-05-22T11:57:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806","repository_url":"https://api.github.com/repos/pandas-dev/pandas","labels_url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806/labels{/name}","comments_url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806/comments","events_url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806/events","html_url":"https://github.com/pandas-dev/pandas/issues/58806","id":2309321134,"node_id":"I_kwDOAA0YD86JpXGu","number":58806,"title":"ENH: Add a Series method which checks whether a Series is constant","user":{"login":"nathanjmcdougall","id":18602289,"node_id":"MDQ6VXNlcjE4NjAyMjg5","avatar_url":"https://avatars.githubusercontent.com/u/18602289?v=4","gravatar_id":"","url":"https://api.github.com/users/nathanjmcdougall","html_url":"https://github.com/nathanjmcdougall","followers_url":"https://api.github.com/users/nathanjmcdougall/followers","following_url":"https://api.github.com/users/nathanjmcdougall/following{/other_user}","gists_url":"https://api.github.com/users/nathanjmcdougall/gists{/gist_id}","starred_url":"https://api.github.com/users/nathanjmcdougall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nathanjmcdougall/subscriptions","organizations_url":"https://api.github.com/users/nathanjmcdougall/orgs","repos_url":"https://api.github.com/users/nathanjmcdougall/repos","events_url":"https://api.github.com/users/nathanjmcdougall/events{/privacy}","received_events_url":"https://api.github.com/users/nathanjmcdougall/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":76812,"node_id":"MDU6TGFiZWw3NjgxMg==","url":"https://api.github.com/repos/pandas-dev/pandas/labels/Enhancement","name":"Enhancement","color":"4E9A06","default":false,"description":null},{"id":219960758,"node_id":"MDU6TGFiZWwyMTk5NjA3NTg=","url":"https://api.github.com/repos/pandas-dev/pandas/labels/Needs%20Discussion","name":"Needs Discussion","color":"207de5","default":false,"description":"Requires discussion from core team before further action"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-05-22T00:15:58Z","updated_at":"2024-06-18T14:14:04Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":858127,"node_id":"MDEwOlJlcG9zaXRvcnk4NTgxMjc=","name":"pandas","full_name":"pandas-dev/pandas","private":false,"owner":{"login":"pandas-dev","id":21206976,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMjA2OTc2","avatar_url":"https://avatars.githubusercontent.com/u/21206976?v=4","gravatar_id":"","url":"https://api.github.com/users/pandas-dev","html_url":"https://github.com/pandas-dev","followers_url":"https://api.github.com/users/pandas-dev/followers","following_url":"https://api.github.com/users/pandas-dev/following{/other_user}","gists_url":"https://api.github.com/users/pandas-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/pandas-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pandas-dev/subscriptions","organizations_url":"https://api.github.com/users/pandas-dev/orgs","repos_url":"https://api.github.com/users/pandas-dev/repos","events_url":"https://api.github.com/users/pandas-dev/events{/privacy}","received_events_url":"https://api.github.com/users/pandas-dev/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pandas-dev/pandas","description":"Flexible and powerful data analysis / manipulation library for Python, providing labeled data structures similar to R data.frame objects, statistical functions, and much more","fork":false,"url":"https://api.github.com/repos/pandas-dev/pandas","forks_url":"https://api.github.com/repos/pandas-dev/pandas/forks","keys_url":"https://api.github.com/repos/pandas-dev/pandas/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pandas-dev/pandas/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pandas-dev/pandas/teams","hooks_url":"https://api.github.com/repos/pandas-dev/pandas/hooks","issue_events_url":"https://api.github.com/repos/pandas-dev/pandas/issues/events{/number}","events_url":"https://api.github.com/repos/pandas-dev/pandas/events","assignees_url":"https://api.github.com/repos/pandas-dev/pandas/assignees{/user}","branches_url":"https://api.github.com/repos/pandas-dev/pandas/branches{/branch}","tags_url":"https://api.github.com/repos/pandas-dev/pandas/tags","blobs_url":"https://api.github.com/repos/pandas-dev/pandas/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pandas-dev/pandas/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pandas-dev/pandas/git/refs{/sha}","trees_url":"https://api.github.com/repos/pandas-dev/pandas/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pandas-dev/pandas/statuses/{sha}","languages_url":"https://api.github.com/repos/pandas-dev/pandas/languages","stargazers_url":"https://api.github.com/repos/pandas-dev/pandas/stargazers","contributors_url":"https://api.github.com/repos/pandas-dev/pandas/contributors","subscribers_url":"https://api.github.com/repos/pandas-dev/pandas/subscribers","subscription_url":"https://api.github.com/repos/pandas-dev/pandas/subscription","commits_url":"https://api.github.com/repos/pandas-dev/pandas/commits{/sha}","git_commits_url":"https://api.github.com/repos/pandas-dev/pandas/git/commits{/sha}","comments_url":"https://api.github.com/repos/pandas-dev/pandas/comments{/number}","issue_comment_url":"https://api.github.com/repos/pandas-dev/pandas/issues/comments{/number}","contents_url":"https://api.github.com/repos/pandas-dev/pandas/contents/{+path}","compare_url":"https://api.github.com/repos/pandas-dev/pandas/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pandas-dev/pandas/merges","archive_url":"https://api.github.com/repos/pandas-dev/pandas/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pandas-dev/pandas/downloads","issues_url":"https://api.github.com/repos/pandas-dev/pandas/issues{/number}","pulls_url":"https://api.github.com/repos/pandas-dev/pandas/pulls{/number}","milestones_url":"https://api.github.com/repos/pandas-dev/pandas/milestones{/number}","notifications_url":"https://api.github.com/repos/pandas-dev/pandas/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pandas-dev/pandas/labels{/name}","releases_url":"https://api.github.com/repos/pandas-dev/pandas/releases{/id}","deployments_url":"https://api.github.com/repos/pandas-dev/pandas/deployments","created_at":"2010-08-24T01:37:33Z","updated_at":"2025-11-09T12:58:48Z","pushed_at":"2025-11-08T20:40:33Z","git_url":"git://github.com/pandas-dev/pandas.git","ssh_url":"git@github.com:pandas-dev/pandas.git","clone_url":"https://github.com/pandas-dev/pandas.git","svn_url":"https://github.com/pandas-dev/pandas","homepage":"https://pandas.pydata.org","size":377072,"stargazers_count":47057,"watchers_count":47057,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":19263,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3595,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["alignment","data-analysis","data-science","flexible","pandas","python"],"visibility":"public","forks":19263,"open_issues":3595,"watchers":47057,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Feature Type\r\n\r\n- [X] Adding new functionality to pandas\r\n\r\n- [ ] Changing existing functionality in pandas\r\n\r\n- [ ] Removing existing functionality in pandas\r\n\r\n\r\n### Problem Description\r\n\r\nIn the cookbook, a recipe is given for checking that a Series only contains constant values in a performant way:\r\n\r\nhttps://pandas.pydata.org/docs/user_guide/cookbook.html#constant-series\r\n\r\n`is_constant = v.shape[0] == 0 or (s[0] == s).all()`\r\n\r\nTo me, this has poor readability and is difficult to learn as an idiom because it requires the programmer to remember to check the edge case of `.shape[0] == [0]`, and to remember to check the cases of missing values / NaN values, which need to be handled differently (as explained in the cookbook).\r\n\r\n### Feature Description\r\n\r\nIt would be nice to have a convenience function which provided a performant `is_constant` check on a `Series`.\r\n\r\nIt could have optional arguments to configure how missing values are handled.\r\n\r\n### Alternative Solutions\r\n\r\nThe alternative is just to require the user to detect the poorly performant code, possibly automatically with a linter (see below), and come up with a performant solution for their case, possibly using the cookbook. Otherwise, the simple `.nunique(dropna=...) <= 1` solution is convenient enough for when performance is not a concern.\r\n\r\n### Additional Context\r\n\r\nI came across this when using a [`pandas-vet`](https://github.com/deppen8/pandas-vet) rule via `ruff`: [PD101](https://docs.astral.sh/ruff/rules/pandas-nunique-constant-series-check/)\r\n\r\nI like the linter to detect performance issues like this one; but I prefer that they don't harm readability if possible.","reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pandas-dev/pandas/issues/58806/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"randolf-scholz","id":39696536,"node_id":"MDQ6VXNlcjM5Njk2NTM2","avatar_url":"https://avatars.githubusercontent.com/u/39696536?v=4","gravatar_id":"","url":"https://api.github.com/users/randolf-scholz","html_url":"https://github.com/randolf-scholz","followers_url":"https://api.github.com/users/randolf-scholz/followers","following_url":"https://api.github.com/users/randolf-scholz/following{/other_user}","gists_url":"https://api.github.com/users/randolf-scholz/gists{/gist_id}","starred_url":"https://api.github.com/users/randolf-scholz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolf-scholz/subscriptions","organizations_url":"https://api.github.com/users/randolf-scholz/orgs","repos_url":"https://api.github.com/users/randolf-scholz/repos","events_url":"https://api.github.com/users/randolf-scholz/events{/privacy}","received_events_url":"https://api.github.com/users/randolf-scholz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-17T19:17:21Z","updated_at":"2024-06-17T19:17:21Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/11910","repository_url":"https://api.github.com/repos/astral-sh/ruff","labels_url":"https://api.github.com/repos/astral-sh/ruff/issues/11910/labels{/name}","comments_url":"https://api.github.com/repos/astral-sh/ruff/issues/11910/comments","events_url":"https://api.github.com/repos/astral-sh/ruff/issues/11910/events","html_url":"https://github.com/astral-sh/ruff/issues/11910","id":2358069536,"node_id":"I_kwDOHy0Bzc6MjUkg","number":11910,"title":"Issues with rule PD101.","user":{"login":"randolf-scholz","id":39696536,"node_id":"MDQ6VXNlcjM5Njk2NTM2","avatar_url":"https://avatars.githubusercontent.com/u/39696536?v=4","gravatar_id":"","url":"https://api.github.com/users/randolf-scholz","html_url":"https://github.com/randolf-scholz","followers_url":"https://api.github.com/users/randolf-scholz/followers","following_url":"https://api.github.com/users/randolf-scholz/following{/other_user}","gists_url":"https://api.github.com/users/randolf-scholz/gists{/gist_id}","starred_url":"https://api.github.com/users/randolf-scholz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolf-scholz/subscriptions","organizations_url":"https://api.github.com/users/randolf-scholz/orgs","repos_url":"https://api.github.com/users/randolf-scholz/repos","events_url":"https://api.github.com/users/randolf-scholz/events{/privacy}","received_events_url":"https://api.github.com/users/randolf-scholz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4472231699,"node_id":"LA_kwDOHy0Bzc8AAAABCpDXEw","url":"https://api.github.com/repos/astral-sh/ruff/labels/rule","name":"rule","color":"127F40","default":false,"description":"Implementing or modifying a lint rule"},{"id":6877429020,"node_id":"LA_kwDOHy0Bzc8AAAABme09HA","url":"https://api.github.com/repos/astral-sh/ruff/labels/great%20writeup","name":"great writeup","color":"c2e0c6","default":false,"description":"A wonderful example of a quality contribution"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-17T19:17:21Z","updated_at":"2024-06-18T14:12:32Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":523043277,"node_id":"R_kgDOHy0BzQ","name":"ruff","full_name":"astral-sh/ruff","private":false,"owner":{"login":"astral-sh","id":115962839,"node_id":"O_kgDOBulz1w","avatar_url":"https://avatars.githubusercontent.com/u/115962839?v=4","gravatar_id":"","url":"https://api.github.com/users/astral-sh","html_url":"https://github.com/astral-sh","followers_url":"https://api.github.com/users/astral-sh/followers","following_url":"https://api.github.com/users/astral-sh/following{/other_user}","gists_url":"https://api.github.com/users/astral-sh/gists{/gist_id}","starred_url":"https://api.github.com/users/astral-sh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral-sh/subscriptions","organizations_url":"https://api.github.com/users/astral-sh/orgs","repos_url":"https://api.github.com/users/astral-sh/repos","events_url":"https://api.github.com/users/astral-sh/events{/privacy}","received_events_url":"https://api.github.com/users/astral-sh/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astral-sh/ruff","description":"An extremely fast Python linter and code formatter, written in Rust.","fork":false,"url":"https://api.github.com/repos/astral-sh/ruff","forks_url":"https://api.github.com/repos/astral-sh/ruff/forks","keys_url":"https://api.github.com/repos/astral-sh/ruff/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astral-sh/ruff/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astral-sh/ruff/teams","hooks_url":"https://api.github.com/repos/astral-sh/ruff/hooks","issue_events_url":"https://api.github.com/repos/astral-sh/ruff/issues/events{/number}","events_url":"https://api.github.com/repos/astral-sh/ruff/events","assignees_url":"https://api.github.com/repos/astral-sh/ruff/assignees{/user}","branches_url":"https://api.github.com/repos/astral-sh/ruff/branches{/branch}","tags_url":"https://api.github.com/repos/astral-sh/ruff/tags","blobs_url":"https://api.github.com/repos/astral-sh/ruff/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astral-sh/ruff/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astral-sh/ruff/git/refs{/sha}","trees_url":"https://api.github.com/repos/astral-sh/ruff/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astral-sh/ruff/statuses/{sha}","languages_url":"https://api.github.com/repos/astral-sh/ruff/languages","stargazers_url":"https://api.github.com/repos/astral-sh/ruff/stargazers","contributors_url":"https://api.github.com/repos/astral-sh/ruff/contributors","subscribers_url":"https://api.github.com/repos/astral-sh/ruff/subscribers","subscription_url":"https://api.github.com/repos/astral-sh/ruff/subscription","commits_url":"https://api.github.com/repos/astral-sh/ruff/commits{/sha}","git_commits_url":"https://api.github.com/repos/astral-sh/ruff/git/commits{/sha}","comments_url":"https://api.github.com/repos/astral-sh/ruff/comments{/number}","issue_comment_url":"https://api.github.com/repos/astral-sh/ruff/issues/comments{/number}","contents_url":"https://api.github.com/repos/astral-sh/ruff/contents/{+path}","compare_url":"https://api.github.com/repos/astral-sh/ruff/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astral-sh/ruff/merges","archive_url":"https://api.github.com/repos/astral-sh/ruff/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astral-sh/ruff/downloads","issues_url":"https://api.github.com/repos/astral-sh/ruff/issues{/number}","pulls_url":"https://api.github.com/repos/astral-sh/ruff/pulls{/number}","milestones_url":"https://api.github.com/repos/astral-sh/ruff/milestones{/number}","notifications_url":"https://api.github.com/repos/astral-sh/ruff/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astral-sh/ruff/labels{/name}","releases_url":"https://api.github.com/repos/astral-sh/ruff/releases{/id}","deployments_url":"https://api.github.com/repos/astral-sh/ruff/deployments","created_at":"2022-08-09T17:17:44Z","updated_at":"2025-11-09T17:02:18Z","pushed_at":"2025-11-08T20:00:54Z","git_url":"git://github.com/astral-sh/ruff.git","ssh_url":"git@github.com:astral-sh/ruff.git","clone_url":"https://github.com/astral-sh/ruff.git","svn_url":"https://github.com/astral-sh/ruff","homepage":"https://docs.astral.sh/ruff","size":101742,"stargazers_count":43662,"watchers_count":43662,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1604,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1805,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["linter","pep8","python","python3","ruff","rust","rustpython","static-analysis","static-code-analysis","style-guide","styleguide"],"visibility":"public","forks":1604,"open_issues":1805,"watchers":43662,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"There are multiple issues with [Rule PD101](https://docs.astral.sh/ruff/rules/pandas-nunique-constant-series-check/):\r\n\r\n1. `(s[0] == s).all()` can actually be slower than `s.nunique() <=1`, for example when testing with time series data, as in pandas `s[0]` converts to `pd.Timedelta` type, which leads to overhead for shorter series:\r\n\r\n    ```python\r\n    import pandas as pd\r\n    import numpy as np\r\n    t = np.random.rand(100_000) * np.timedelta64(1, \"s\")\r\n    s3 = pd.Series(t[:10**3])\r\n    s4 = pd.Series(t[:10**4])\r\n    s5 = pd.Series(t[:10**5])\r\n    %timeit s3.nunique() <=1    # 51.4 s  768 ns\r\n    %timeit (s3[0] == s).all()  # 69.1 s  123 ns\r\n    %timeit s4.nunique() <=1    # 78.9 s  197 ns\r\n    %timeit (s4[0] == s).all()  # 69.2 s  62.6 ns\r\n    %timeit s5.nunique() <=1    # 375 s  1.14 s\r\n    %timeit (s5[0] == s).all()  # 70.5 s  1.5 s\r\n    ```\r\n    \r\n    This can be circumvented by testing `(s.values[0] == s.values).all()` instead. (Note: we actually should be using `.array` instead of `.values`!)\r\n    See this graphic: https://github.com/pandas-dev/pandas/issues/54033.\r\n    ![image](https://github.com/astral-sh/ruff/assets/39696536/af58e415-b620-4e56-a9f8-feefb492b931)\r\n\r\n2. `(s[0] == s).all()` can yield different results than `s.nunique() <= 1`, for instance if the first entry in the series happens to be NaN / missing.\r\n\r\n    ```python\r\n    import pandas as pd\r\n    s = pd.Series([None, 1.0, 1.0, 1.0])\r\n    assert s.nunique() <= 1   # checks, since dropna=True by default\r\n    assert (s[0] == s).all()  # fails, since comparison with NaN is falsy\r\n    ```\r\n\r\n   Note that it can also yield wrong answers in the other direction:\r\n\r\n    ```python\r\n    import pandas as pd\r\n    s = pd.Series([None, 1, 1, 3], dtype=\"Int64\")\r\n    assert (s[0] == s).all()  # incorrectly passes\r\n    assert s.nunique() <= 1   # correctly fails\r\n    ```\r\n\r\n3. `(s[0] == s).all()` will fail if the Series happens to be empty. Empty series can happen naturally, for example, consider slicing a 1h-interval of an irregularly sampled time series.\r\n\r\n    ```python\r\n    import pandas as pd\r\n    s = pd.Series([], dtype=float)\r\n    assert s.nunique() <= 1   # checks\r\n    assert (s[0] == s).all()  # KeyError\r\n    ```\r\n\r\n4. The stated rationale is technically incorrect:\r\n  \r\n    > In general, .nunique() requires iterating over the entire Series, while a more efficient approach allows short-circuiting the operation as soon as a non-equal value is found.\r\n  \r\n    But `s[0] == s` performs the comparison for all elements, hence the runtime is O(N) regardless. An actual short-circuiting would look something like this:\r\n\r\n    ```python\r\n    import pandas as pd\r\n    import numpy as np\r\n    \r\n    def is_constant(array):\r\n        if len(s) <= 1:\r\n            return True\r\n        first = array[0]\r\n        return all(item == first for item in array)\r\n    \r\n    s = pd.Series(np.random.rand(100_000))\r\n    %timeit (s[0] == s).all()  # 75.5 s  906 ns\r\n    %timeit is_constant(s.values)     # 3.12 s  49.9 ns\r\n    ```\r\n\r\n-----\r\n\r\nTwo things should be changed:\r\n\r\n1. The rationale should be rewritten, removing the \"short-circuiting\" part.\r\n2. The suggested replacement code should be updated to better deal with missing value and extension arrays. In particular, instead of `array = data.to_numpy()` we should consider `array = data.dropna().array`.\r\n\r\n```python\r\nimport pandas as pd\r\n\r\ndata = pd.Series([None, 1.0, 1.0, 3.4])\r\n\r\n# replace data.nunique() <= 1 with\r\narray = data.dropna().array\r\nif array.shape[0] == 0 or (array[0] == array).all():\r\n    print(\"Series is constant\")\r\n\r\n# replace data.nunique(dropna=False) with\r\narray = data.dropna().array\r\nif array.shape[0] == 0 or (data.notna().all() and (array[0] == array).all()):\r\n    print(\"Series is constant\")\r\n\r\n# replace data.nunique(dropna=dropna) withdropna=True\r\narray = data.dropna().array\r\nif array.shape[0] == 0 or ((dropna or data.notna().all()) and (array[0] == array).all()):\r\n    print(\"Series is constant\")\r\n```\r\n\r\n-----\r\n\r\n## EDITS\r\n\r\n- **2024-06-18:** For Series we should use `.array` instead of `.values` or `.to_numpy()`, as these construct `numpy` arrays, even if the series is based on a pyarrow-encoded array.\r\n  (see: <https://pandas.pydata.org/docs/reference/api/pandas.Series.values.html>)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/astral-sh/ruff/issues/11910/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/astral-sh/ruff/issues/11910/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]