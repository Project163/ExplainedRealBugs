{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161","repository_url":"https://api.github.com/repos/pandas-dev/pandas","labels_url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161/labels{/name}","comments_url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161/comments","events_url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161/events","html_url":"https://github.com/pandas-dev/pandas/issues/61161","id":2939332712,"node_id":"I_kwDOAA0YD86vMqho","number":61161,"title":"BUG: fails to plot 2 plots with secondary y axis when index type is PeriodIndex and plot kinds are different","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":76811,"node_id":"MDU6TGFiZWw3NjgxMQ==","url":"https://api.github.com/repos/pandas-dev/pandas/labels/Bug","name":"Bug","color":"e10c02","default":false,"description":null},{"id":2413328,"node_id":"MDU6TGFiZWwyNDEzMzI4","url":"https://api.github.com/repos/pandas-dev/pandas/labels/Visualization","name":"Visualization","color":"8AE234","default":false,"description":"plotting"}],"state":"closed","locked":false,"assignee":{"login":"MartinBraquet","id":25173236,"node_id":"MDQ6VXNlcjI1MTczMjM2","avatar_url":"https://avatars.githubusercontent.com/u/25173236?v=4","gravatar_id":"","url":"https://api.github.com/users/MartinBraquet","html_url":"https://github.com/MartinBraquet","followers_url":"https://api.github.com/users/MartinBraquet/followers","following_url":"https://api.github.com/users/MartinBraquet/following{/other_user}","gists_url":"https://api.github.com/users/MartinBraquet/gists{/gist_id}","starred_url":"https://api.github.com/users/MartinBraquet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MartinBraquet/subscriptions","organizations_url":"https://api.github.com/users/MartinBraquet/orgs","repos_url":"https://api.github.com/users/MartinBraquet/repos","events_url":"https://api.github.com/users/MartinBraquet/events{/privacy}","received_events_url":"https://api.github.com/users/MartinBraquet/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MartinBraquet","id":25173236,"node_id":"MDQ6VXNlcjI1MTczMjM2","avatar_url":"https://avatars.githubusercontent.com/u/25173236?v=4","gravatar_id":"","url":"https://api.github.com/users/MartinBraquet","html_url":"https://github.com/MartinBraquet","followers_url":"https://api.github.com/users/MartinBraquet/followers","following_url":"https://api.github.com/users/MartinBraquet/following{/other_user}","gists_url":"https://api.github.com/users/MartinBraquet/gists{/gist_id}","starred_url":"https://api.github.com/users/MartinBraquet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MartinBraquet/subscriptions","organizations_url":"https://api.github.com/users/MartinBraquet/orgs","repos_url":"https://api.github.com/users/MartinBraquet/repos","events_url":"https://api.github.com/users/MartinBraquet/events{/privacy}","received_events_url":"https://api.github.com/users/MartinBraquet/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2025-03-21T19:34:07Z","updated_at":"2025-04-18T16:12:48Z","closed_at":"2025-04-18T16:12:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Pandas version checks\n\n- [x] I have checked that this issue has not already been reported.\n\n- [x] I have confirmed this bug exists on the [latest version](https://pandas.pydata.org/docs/whatsnew/index.html) of pandas.\n\n- [ ] I have confirmed this bug exists on the [main branch](https://pandas.pydata.org/docs/dev/getting_started/install.html#installing-the-development-version-of-pandas) of pandas.\n\n\n### Reproducible Example\n\n```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nprint(pd.__version__)\n\nindex = pd.period_range('2023', periods=3, freq='Y')\ndf = pd.DataFrame({\n    'col1': [10, 20, 30],\n    'col2': [40, 25, 10]\n}, index=index)\n\n# Workaround !!!!\n# df.index = df.index.astype(str)\n\nprint(type(df.index))\n\nfig, ax = plt.subplots()\n\ndf['col1'].plot(kind='bar', ax=ax)\n\nax2 = ax.twinx()\n\ndf['col2'].plot(kind='line', ax=ax2, color = 'r')\n\nplt.show()\n```\n\n### Issue Description\n\nI seem to have found the following bug:\n\nIt is not possible to plot 2 plots with different Y axis when the following 2 conditions are met:\n\n* plot kinds are different (e.g. 'bar' and 'line')\n* index type is **PeriodIndex**\n\n\n![Image](https://github.com/user-attachments/assets/84241d4d-14db-4928-aeb3-eb7f5d77ee0c)\n\nThe easy workaround is to convert index to string:\n\n<img width=\"442\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2bd9f427-7887-47e3-a6d4-17322e9c64e2\" />\n\n\nIf the parameter 'kind' of both axis is identical, then it works as well without workound\n\n![Image](https://github.com/user-attachments/assets/f972ef18-4749-4838-bed9-b59e84ab2b72)\n\n\n### Expected Behavior\n\nBoth plots shall be possible to be seen\n\n### Installed Versions\n\n<details>\n\nINSTALLED VERSIONS\n------------------\ncommit                : 0691c5cf90477d3503834d983f69350f250a6ff7\npython                : 3.12.7\npython-bits           : 64\nOS                    : Windows\nOS-release            : 11\nVersion               : 10.0.22631\nmachine               : AMD64\nprocessor             : Intel64 Family 6 Model 170 Stepping 4, GenuineIntel\nbyteorder             : little\nLC_ALL                : None\nLANG                  : None\nLOCALE                : English_Netherlands.1252\n\npandas                : 2.2.3\nnumpy                 : 2.2.1\npytz                  : 2024.2\ndateutil              : 2.9.0.post0\npip                   : 24.2\nCython                : None\nsphinx                : None\nIPython               : 8.31.0\nadbc-driver-postgresql: None\nadbc-driver-sqlite    : None\nbs4                   : 4.12.3\nblosc                 : None\nbottleneck            : None\ndataframe-api-compat  : None\nfastparquet           : None\nfsspec                : 2024.10.0\nhtml5lib              : 1.1\nhypothesis            : None\ngcsfs                 : None\njinja2                : 3.1.4\nlxml.etree            : 5.3.0\nmatplotlib            : 3.10.0\nnumba                 : None\nnumexpr               : None\nodfpy                 : None\nopenpyxl              : 3.1.5\npandas_gbq            : None\npsycopg2              : None\npymysql               : None\npyarrow               : None\npyreadstat            : None\npytest                : 8.3.3\npython-calamine       : None\npyxlsb                : 1.0.10\ns3fs                  : None\nscipy                 : 1.14.1\nsqlalchemy            : None\ntables                : None\ntabulate              : 0.9.0\nxarray                : None\nxlrd                  : None\nxlsxwriter            : None\nzstandard             : None\ntzdata                : 2024.2\nqtpy                  : None\npyqt5                 : None\n\n</details>\n","closed_by":{"login":"mroeschke","id":10647082,"node_id":"MDQ6VXNlcjEwNjQ3MDgy","avatar_url":"https://avatars.githubusercontent.com/u/10647082?v=4","gravatar_id":"","url":"https://api.github.com/users/mroeschke","html_url":"https://github.com/mroeschke","followers_url":"https://api.github.com/users/mroeschke/followers","following_url":"https://api.github.com/users/mroeschke/following{/other_user}","gists_url":"https://api.github.com/users/mroeschke/gists{/gist_id}","starred_url":"https://api.github.com/users/mroeschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mroeschke/subscriptions","organizations_url":"https://api.github.com/users/mroeschke/orgs","repos_url":"https://api.github.com/users/mroeschke/repos","events_url":"https://api.github.com/users/mroeschke/events{/privacy}","received_events_url":"https://api.github.com/users/mroeschke/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pandas-dev/pandas/issues/61161/timeline","performed_via_github_app":null,"state_reason":"completed"}