<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:47:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OOZIE-1440] Build fails in certain environments due to xerces OpenJPA issue</title>
                <link>https://issues.apache.org/jira/browse/OOZIE-1440</link>
                <project id="12311620" key="OOZIE">Oozie (Retired)</project>
                    <description>&lt;p&gt;We&apos;ve been seeing some build failures on some machines due to an issue with OpenJPA (specifically, the changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1377&quot; title=&quot;OpenJPA runtime enhancement should be disabled and update OpenJPA to 2.2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1377&quot;&gt;&lt;del&gt;OOZIE-1377&lt;/del&gt;&lt;/a&gt;).  &lt;/p&gt;

&lt;p&gt;We see these two cryptic errors in the output from the build:&lt;br/&gt;
&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; openjpa-maven-plugin:2.2.2:enhance (enhancer) @ oozie-core ---&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;An error occurred while attempting to determine the version of &quot;file:/var/lib/jenkins/workspace/build/oozie/4.1.0-SNAPSHOT/source/core/target/classes/META-INF/persistence.xml&quot;.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.openjpa:openjpa-maven-plugin:2.2.2:enhance (enhancer) on project oozie-core: Execution enhancer of goal org.apache.openjpa:openjpa-maven-plugin:2.2.2:enhance failed: org.apache.openjpa.persistence.PersistenceProductDerivation:java.lang.ClassCastException: org.apache.xerces.parsers.XIncludeAwareParserConfiguration cannot be cast to org.apache.xerces.xni.parser.XMLParserConfiguration -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I saw that &lt;a href=&quot;https://issues.apache.org/jira/browse/RAVE-245&quot; title=&quot;Integrate Cobertura maven plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAVE-245&quot;&gt;&lt;del&gt;RAVE-245&lt;/del&gt;&lt;/a&gt; had a similar error and their solution was to add Xerces as a dependency on the OpenJPA plugin.  This prevents a classpath env issue from sometimes choosing the built-in buggy version of Xerces that Java is using by default (see &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1017&quot; title=&quot;Add test to make sure old version of Xerces isn&amp;#39;t being used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1017&quot;&gt;&lt;del&gt;OOZIE-1017&lt;/del&gt;&lt;/a&gt;), and instead to use the better version that we&apos;ve been using elsewhere.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12655630">OOZIE-1440</key>
            <summary>Build fails in certain environments due to xerces OpenJPA issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mackrorysd">Sean Mackrory</assignee>
                                    <reporter username="rkanter">Robert Kanter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Jul 2013 18:23:49 +0000</created>
                <updated>Tue, 9 Dec 2014 00:45:20 +0000</updated>
                            <resolved>Mon, 1 Jul 2013 20:03:54 +0000</resolved>
                                    <version>trunk</version>
                                    <fixVersion>4.1.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13697043" author="rkanter" created="Mon, 1 Jul 2013 18:33:07 +0000"  >&lt;p&gt;+1 pending Jenkins&lt;/p&gt;</comment>
                            <comment id="13697044" author="hadoopqa" created="Mon, 1 Jul 2013 18:33:08 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1440&quot; title=&quot;Build fails in certain environments due to xerces OpenJPA issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1440&quot;&gt;&lt;del&gt;OOZIE-1440&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local svn workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; Patch failed to apply to head of branch&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;</comment>
                            <comment id="13697047" author="rkanter" created="Mon, 1 Jul 2013 18:36:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mackrorysd&quot; class=&quot;user-hover&quot; rel=&quot;mackrorysd&quot;&gt;mackrorysd&lt;/a&gt;, please use &lt;tt&gt;--no-prefix&lt;/tt&gt; with &lt;tt&gt;git diff&lt;/tt&gt; to prevent it from putting the &lt;tt&gt;a&lt;/tt&gt; and &lt;tt&gt;b&lt;/tt&gt; in the paths.&lt;/p&gt;</comment>
                            <comment id="13697055" author="mackrorysd" created="Mon, 1 Jul 2013 18:41:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rkanter&quot; class=&quot;user-hover&quot; rel=&quot;rkanter&quot;&gt;rkanter&lt;/a&gt;, done!&lt;/p&gt;</comment>
                            <comment id="13697057" author="mackrorysd" created="Mon, 1 Jul 2013 18:44:31 +0000"  >&lt;p&gt;Also attaching git-diff output instead of git-format-patch, as I see Oozie&apos;s using SVN.&lt;/p&gt;</comment>
                            <comment id="13697109" author="hadoopqa" created="Mon, 1 Jul 2013 19:54:46 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1440&quot; title=&quot;Build fails in certain environments due to xerces OpenJPA issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1440&quot;&gt;&lt;del&gt;OOZIE-1440&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local svn workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 132&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 BACKWARDS_COMPATIBILITY&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not change any JPA Entity/Colum/Basic/Lob/Transient annotations&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not modify JPA files&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 1255&lt;br/&gt;
.    Tests failed: 1&lt;br/&gt;
.    Tests errors: 2&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testRequeueOnException(org.apache.oozie.command.coord.TestCoordPushDependencyCheckXCommand)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/oozie-trunk-precommit-build/640/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/oozie-trunk-precommit-build/640/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13697116" author="mackrorysd" created="Mon, 1 Jul 2013 19:59:27 +0000"  >&lt;p&gt;Test failures are unrelated and no new/modified test cases because it&apos;s a build fix&lt;/p&gt;</comment>
                            <comment id="13697118" author="rkanter" created="Mon, 1 Jul 2013 20:03:54 +0000"  >&lt;p&gt;Thanks.  Committed to trunk!&lt;/p&gt;</comment>
                            <comment id="13697176" author="hadoopqa" created="Mon, 1 Jul 2013 21:06:47 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1440&quot; title=&quot;Build fails in certain environments due to xerces OpenJPA issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1440&quot;&gt;&lt;del&gt;OOZIE-1440&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local svn workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 132&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 BACKWARDS_COMPATIBILITY&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not change any JPA Entity/Colum/Basic/Lob/Transient annotations&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not modify JPA files&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 1255&lt;br/&gt;
.    Tests failed: 2&lt;br/&gt;
.    Tests errors: 1&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testEvictionOnTimeToIdle(org.apache.oozie.service.TestPartitionDependencyManagerEhcache)&lt;br/&gt;
.      testTimeoutWithException(org.apache.oozie.command.coord.TestCoordActionInputCheckXCommand)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/oozie-trunk-precommit-build/641/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/oozie-trunk-precommit-build/641/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13697178" author="rkanter" created="Mon, 1 Jul 2013 21:09:53 +0000"  >&lt;p&gt;I missed an unnecessary version declaration for xerces in the client pom when I reviewed the patch.  I&apos;ve removed it as an amendment commit, and attached a copy of the change here for reference.&lt;/p&gt;</comment>
                            <comment id="13697235" author="tucu00" created="Mon, 1 Jul 2013 21:51:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12611071">OOZIE-1017</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12647803">OOZIE-1377</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12590281" name="0001-OOZIE-1440.-Build-fails-in-certain-environments-due-.patch" size="1918" author="mackrorysd" created="Mon, 1 Jul 2013 18:41:08 +0000"/>
                            <attachment id="12590276" name="0001-OOZIE-1440.-Build-fails-in-certain-environments-due-.patch" size="1942" author="mackrorysd" created="Mon, 1 Jul 2013 18:30:27 +0000"/>
                            <attachment id="12590282" name="OOZIE-1440.patch" size="1525" author="mackrorysd" created="Mon, 1 Jul 2013 18:44:31 +0000"/>
                            <attachment id="12590304" name="OOZIE-1440_amendment.patch" size="400" author="rkanter" created="Mon, 1 Jul 2013 21:09:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lxw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>