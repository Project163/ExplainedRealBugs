<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OOZIE-1735] Support resuming of failed coordinator job and rerun of a failed coordinator action</title>
                <link>https://issues.apache.org/jira/browse/OOZIE-1735</link>
                <project id="12311620" key="OOZIE">Oozie (Retired)</project>
                    <description>&lt;p&gt;We should support resuming of failed coordinator job. Job are set to failed if there are runtime error( like SQL timeout).&lt;br/&gt;
In current scenario there is no way to recover beside running SQL.&lt;br/&gt;
Resuming of failed coordinator job should also set pending to 1 ,reset doneMaterialization and last modified to current time. So that materialization continues.&lt;/p&gt;

&lt;p&gt;We should also provide an option of resuming failed action. The behavior will be same as killed option.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12699901">OOZIE-1735</key>
            <summary>Support resuming of failed coordinator job and rerun of a failed coordinator action</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="puru">Purshotam Shah</assignee>
                                    <reporter username="puru">Purshotam Shah</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2014 23:34:34 +0000</created>
                <updated>Mon, 11 Apr 2016 18:35:02 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 00:04:59 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13930000" author="shwethags" created="Tue, 11 Mar 2014 06:09:25 +0000"  >&lt;p&gt;Coordinator will be in FAILED state if coord submit fails. How can you support re-run this?&lt;/p&gt;</comment>
                            <comment id="13930532" author="puru" created="Tue, 11 Mar 2014 16:23:35 +0000"  >&lt;p&gt;There are other scenario where coord status is set to failed. &lt;br/&gt;
If you look at at coord commands (like CoordActionMaterializeCommand,CoordMaterializeTransitionXCommand,CoordResumeXCommand ) any exception will change the coord status to failed.&lt;/p&gt;

&lt;p&gt;We noticed same behavior in our production, where because of database load and sql timeout, few of coord went to failed state.&lt;/p&gt;

&lt;p&gt;There were no way to recover them, beside running sql statement.&lt;/p&gt;</comment>
                            <comment id="13931432" author="shwethags" created="Wed, 12 Mar 2014 05:56:45 +0000"  >&lt;p&gt;Can we categorise the failures as retriable and non-retriable and mark coord as FAILED for non-retriable errors, and KILLED for retriable errors. Allow re-runs on KILLED coords, but not on FAILED ones. For example, EL errors should fail the coord as any re-run will not help. But DB/network connectivity issues should kill the coord and allow re-runs on these. With this approach, the status will clearly signify the kind of error and the user can do blind re-runs on killed ones.&lt;/p&gt;</comment>
                            <comment id="13932389" author="puru" created="Wed, 12 Mar 2014 21:15:53 +0000"  >&lt;p&gt;There other JIRA related to this,  &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1535&quot; title=&quot;Update job properties for WF/COORD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1535&quot;&gt;&lt;del&gt;OOZIE-1535&lt;/del&gt;&lt;/a&gt; Update job properties for WF/COORD + Support swapping of coord job configuration(will create new jira).&lt;br/&gt;
Once we fix both, user should be able to rerun coord failed bcz of EL failure.&lt;/p&gt;</comment>
                            <comment id="13932996" author="shwethags" created="Thu, 13 Mar 2014 08:31:05 +0000"  >&lt;p&gt;Makes sense. Why not merge KILLED and FAILED state to just KILLED? What&apos;s the difference between FAILED and KILLED?&lt;/p&gt;</comment>
                            <comment id="13934329" author="puru" created="Fri, 14 Mar 2014 00:04:06 +0000"  >&lt;p&gt;User can kill bundle/coord, which will lead coord to failed status. We may want to differentiate with user kill and failure. &lt;/p&gt;

&lt;p&gt;But your suggestion is good, we can create a different JIRA and start discussing there.&lt;/p&gt;</comment>
                            <comment id="13946218" author="hadoopqa" created="Tue, 25 Mar 2014 06:13:50 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1735&quot; title=&quot;Support resuming of failed coordinator job and rerun of a failed coordinator action&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1735&quot;&gt;&lt;del&gt;OOZIE-1735&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local git workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; Patch failed to apply to head of branch&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;</comment>
                            <comment id="13946236" author="puru" created="Tue, 25 Mar 2014 06:37:05 +0000"  >&lt;p&gt;Patch with --no-prefix&lt;/p&gt;</comment>
                            <comment id="13948321" author="puru" created="Wed, 26 Mar 2014 18:59:24 +0000"  >&lt;p&gt;Uploading patch again to trigger pre-commit build.&lt;/p&gt;</comment>
                            <comment id="13948870" author="hadoopqa" created="Thu, 27 Mar 2014 04:29:25 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1735&quot; title=&quot;Support resuming of failed coordinator job and rerun of a failed coordinator action&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1735&quot;&gt;&lt;del&gt;OOZIE-1735&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local git workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch contains 1 line(s) with tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 132&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 2 testcase(s)&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch seems to introduce 1 new RAT warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 BACKWARDS_COMPATIBILITY&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not change any JPA Entity/Colum/Basic/Lob/Transient annotations&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not modify JPA files&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 1407&lt;br/&gt;
.    Tests failed: 3&lt;br/&gt;
.    Tests errors: 1&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testCoordStatus_Changefailed(org.apache.oozie.command.coord.TestCoordChangeXCommand)&lt;br/&gt;
.      testConcurrencyReachedAndChooseNextEligible(org.apache.oozie.service.TestCallableQueueService)&lt;br/&gt;
.      testConnectionDrop(org.apache.oozie.jms.TestJMSJobEventListener)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/oozie-trunk-precommit-build/1131/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/oozie-trunk-precommit-build/1131/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13949914" author="puru" created="Thu, 27 Mar 2014 20:51:55 +0000"  >&lt;p&gt;fixing testacse testCoordStatus_Changefailed..&lt;/p&gt;

&lt;p&gt;Others are not related.&lt;/p&gt;</comment>
                            <comment id="13950022" author="hadoopqa" created="Thu, 27 Mar 2014 22:23:21 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1735&quot; title=&quot;Support resuming of failed coordinator job and rerun of a failed coordinator action&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1735&quot;&gt;&lt;del&gt;OOZIE-1735&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local git workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch contains 1 line(s) with tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 132&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 2 testcase(s)&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch seems to introduce 1 new RAT warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 BACKWARDS_COMPATIBILITY&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not change any JPA Entity/Colum/Basic/Lob/Transient annotations&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not modify JPA files&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 1407&lt;br/&gt;
.    Tests failed: 0&lt;br/&gt;
.    Tests errors: 1&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      &lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/oozie-trunk-precommit-build/1134/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/oozie-trunk-precommit-build/1134/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13950178" author="rohini" created="Fri, 28 Mar 2014 00:04:59 +0000"  >&lt;p&gt;+1. Committed to trunk. Thanks Puru for the patch.&lt;/p&gt;</comment>
                            <comment id="13950183" author="rohini" created="Fri, 28 Mar 2014 00:07:35 +0000"  >&lt;p&gt;Test failure unrelated (TestEventGeneration.testCoordinatorActionEvent). RAT warning is due to patch not applying fully cleanly. &lt;/p&gt;

&lt;p&gt;patching file docs/src/site/twiki/DG_CommandLineTool.twiki&lt;br/&gt;
Hunk #1 succeeded at 321 (offset 3 lines).&lt;/p&gt;

&lt;p&gt;Unapproved licenses:&lt;/p&gt;

&lt;p&gt;  docs/src/site/twiki/DG_CommandLineTool.twiki.orig&lt;/p&gt;</comment>
                            <comment id="15232944" author="satishsaley" created="Fri, 8 Apr 2016 21:16:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://oozie.apache.org/docs/4.2.0/DG_CoordinatorRerun.html#Pre-Conditions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Oozie documentation&lt;/a&gt; says  &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Rerun coordinator action must be in TIMEDOUT/SUCCEEDED/KILLED/FAILED.&lt;br/&gt;
Coordinator actions cannot be rerun if the coordinator job is in the KILLED or FAILED state.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s not true after the support for resuming of failed coordinator job and rerun of a failed coordinator action was added. &lt;/p&gt;

&lt;p&gt;Uploading documentation change patch.&lt;/p&gt;</comment>
                            <comment id="15235685" author="rohini" created="Mon, 11 Apr 2016 18:31:16 +0000"  >&lt;p&gt;Please open a new jira&lt;/p&gt;</comment>
                            <comment id="15235691" author="satishsaley" created="Mon, 11 Apr 2016 18:35:02 +0000"  >&lt;p&gt;Created new jira to update documentation - &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-2508&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;OOZIE-2508 &lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636975" name="OOZIE-1735-V2.patch" size="20701" author="puru" created="Wed, 26 Mar 2014 18:59:24 +0000"/>
                            <attachment id="12636542" name="OOZIE-1735-V2.patch" size="20701" author="puru" created="Tue, 25 Mar 2014 06:37:05 +0000"/>
                            <attachment id="12637241" name="OOZIE-1735-V3.patch" size="20698" author="puru" created="Thu, 27 Mar 2014 20:51:55 +0000"/>
                            <attachment id="12636469" name="OOZIE-1735_v1.patch" size="20757" author="puru" created="Tue, 25 Mar 2014 00:04:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t6cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378539</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>