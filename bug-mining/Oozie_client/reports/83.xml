<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:48:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OOZIE-1894] Better error reporting to user</title>
                <link>https://issues.apache.org/jira/browse/OOZIE-1894</link>
                <project id="12311620" key="OOZIE">Oozie (Retired)</project>
                    <description>&lt;p&gt;Ooize debuggability is not that easy. We noticed most of user has difficulty finding proper error message.&lt;br/&gt;
They will create ticket to solution-team/dev to help.&lt;br/&gt;
Though we have log streaming, but it flooded with other log messages. It&apos;s very difficult for naive user to find out failure reason.&lt;/p&gt;


&lt;p&gt;Here is my solution,&lt;br/&gt;
1. Add a new appender to log only error message. Oozie appender will still have all the log message ( including error).&lt;br/&gt;
2. Have a new UI tab ( cli/web-service as well) to show error message. When user ask for error message, parse it from error logs. It will be faster.&lt;/p&gt;

&lt;p&gt;This has multiple advantage&lt;br/&gt;
1. Error log streaming will be faster.&lt;br/&gt;
2. User will see less and precise log, will help him to solve issue by his own.&lt;br/&gt;
3. It will help ops/dev to find out system issues.&lt;/p&gt;




&lt;p&gt;New appender.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+log4j.appender.oozieError=org.apache.log4j.rolling.RollingFileAppender
+log4j.appender.oozieError.RollingPolicy=org.apache.oozie.util.OozieRollingPolicy
+log4j.appender.oozieError.File=${oozie.log.dir}/oozie-error.log
+log4j.appender.oozieError.Append=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
+log4j.appender.oozieError.layout=org.apache.log4j.PatternLayout
+log4j.appender.oozieError.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - SERVER[${oozie.instance.id}] %m%n
+# The FileNamePattern must end with &lt;span class=&quot;code-quote&quot;&gt;&quot;-%d{yyyy-MM-dd-HH}.gz&quot;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&quot;-%d{yyyy-MM-dd-HH}&quot;&lt;/span&gt; and also start with the 
+# value of log4j.appender.oozie.File
+log4j.appender.oozieError.RollingPolicy.FileNamePattern=${log4j.appender.oozieError.File}-%d{yyyy-MM-dd-HH}
+# The MaxHistory controls how many log files will be retained (720 hours / 24 hours per day = 30 days); -1 to disable
+log4j.appender.oozieError.RollingPolicy.MaxHistory=720
+log4j.appender.oozieError.filter.1 = org.apache.log4j.varia.LevelMatchFilter
+log4j.appender.oozieError.filter.1.levelToMatch = WARN
+log4j.appender.oozieError.filter.2 = org.apache.log4j.varia.LevelMatchFilter
+log4j.appender.oozieError.filter.2.levelToMatch = ERROR
+log4j.appender.oozieError.filter.3 = org.apache.log4j.varia.LevelMatchFilter
+log4j.appender.oozieError.filter.3.levelToMatch = FATAL
+log4j.appender.oozieError.filter.4 = org.apache.log4j.varia.DenyAllFilter

-log4j.logger.org.apache.oozie=INFO, oozie
+log4j.logger.org.apache.oozie=ALL, oozie, oozieError
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12722904">OOZIE-1894</key>
            <summary>Better error reporting to user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="puru">Purshotam Shah</assignee>
                                    <reporter username="puru">Purshotam Shah</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jun 2014 23:18:17 +0000</created>
                <updated>Mon, 18 May 2015 07:11:51 +0000</updated>
                            <resolved>Tue, 27 Jan 2015 01:27:42 +0000</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14286551" author="hadoopqa" created="Wed, 21 Jan 2015 23:37:01 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1894&quot; title=&quot;Better error reporting to user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1894&quot;&gt;&lt;del&gt;OOZIE-1894&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cleaning local git workspace&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch contains 4 line(s) longer than 132 characters&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 3 testcase(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 BACKWARDS_COMPATIBILITY&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not change any JPA Entity/Colum/Basic/Lob/Transient annotations&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not modify JPA files&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 1569&lt;br/&gt;
.    Tests failed: 1&lt;br/&gt;
.    Tests errors: 1&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testSparkAction(org.apache.oozie.action.hadoop.TestSparkActionExecutor)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/oozie-trunk-precommit-build/2190/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/oozie-trunk-precommit-build/2190/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14288528" author="rohini" created="Fri, 23 Jan 2015 01:06:44 +0000"  >&lt;p&gt;. -1 the patch contains 4 line(s) longer than 132 characters -  Can you fix this? +1 otherwise.&lt;/p&gt;</comment>
                            <comment id="14288530" author="puru" created="Fri, 23 Jan 2015 01:09:27 +0000"  >&lt;p&gt;Thanks Rohini for review.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;. -1 the patch contains 4 line(s) longer than 132 characters&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Are from twiki.&lt;/p&gt;</comment>
                            <comment id="14313867" author="shwethags" created="Tue, 10 Feb 2015 09:15:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=puru&quot; class=&quot;user-hover&quot; rel=&quot;puru&quot;&gt;puru&lt;/a&gt;, looks like the default log level was changed from INFO to ALL with this change. Is it required for this patch? Can we change it back to INFO?&lt;/p&gt;</comment>
                            <comment id="14315370" author="puru" created="Wed, 11 Feb 2015 01:38:08 +0000"  >&lt;p&gt;I am not sure why I have changed it to ALL. Yes, we can change it back to INFO.&lt;br/&gt;
Will add an amendment patch.&lt;/p&gt;</comment>
                            <comment id="14329821" author="rohini" created="Sat, 21 Feb 2015 00:16:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14329825" author="puru" created="Sat, 21 Feb 2015 00:17:05 +0000"  >&lt;p&gt;Uploaded amendment patch to change log to INFO. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shwethags&quot; class=&quot;user-hover&quot; rel=&quot;shwethags&quot;&gt;shwethags&lt;/a&gt; please review.&lt;/p&gt;</comment>
                            <comment id="14333008" author="shwethags" created="Mon, 23 Feb 2015 05:04:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14333009" author="shwethags" created="Mon, 23 Feb 2015 05:04:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=puru&quot; class=&quot;user-hover&quot; rel=&quot;puru&quot;&gt;puru&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14333695" author="puru" created="Mon, 23 Feb 2015 19:28:22 +0000"  >&lt;p&gt;Thanks for review. Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12699974" name="Amend-OOZIE-1894-V1.patch" size="706" author="puru" created="Sat, 21 Feb 2015 00:15:15 +0000"/>
                            <attachment id="12693683" name="OOZIE-1894-V1.patch" size="80894" author="puru" created="Wed, 21 Jan 2015 20:06:16 +0000"/>
                            <attachment id="12693690" name="OOZIE-1894-V2.patch" size="78982" author="puru" created="Wed, 21 Jan 2015 20:19:27 +0000"/>
                            <attachment id="12651773" name="error.png" size="395352" author="puru" created="Fri, 20 Jun 2014 23:28:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x1hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>