<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:47:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OOZIE-571] Oozie validate command doesnt work for schema 0.2 </title>
                <link>https://issues.apache.org/jira/browse/OOZIE-571</link>
                <project id="12311620" key="OOZIE">Oozie (Retired)</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Validating the workflow using &quot;oozie validate&quot; command doesnt work with schema 0.2&lt;/p&gt;

&lt;p&gt;workflow.xml&lt;br/&gt;
========&lt;/p&gt;

&lt;p&gt;&amp;lt;workflow-app xmlns=&apos;uri:oozie:workflow:0.2&apos; name=&apos;pig-wf&apos;&amp;gt;&lt;br/&gt;
    &amp;lt;start to=&apos;pig1&apos; /&amp;gt;&lt;br/&gt;
    &amp;lt;action name=&apos;pig1&apos;&amp;gt;&lt;br/&gt;
        &amp;lt;pig&amp;gt;&lt;br/&gt;
            &amp;lt;job-tracker&amp;gt;${jobTracker}&amp;lt;/job-tracker&amp;gt;&lt;br/&gt;
            &amp;lt;name-node&amp;gt;${nameNode}&amp;lt;/name-node&amp;gt;&lt;br/&gt;
            &amp;lt;configuration&amp;gt;&lt;br/&gt;
                &amp;lt;property&amp;gt;&lt;br/&gt;
                  &amp;lt;name&amp;gt;mapred.job.queue.name&amp;lt;/name&amp;gt;&lt;br/&gt;
                  &amp;lt;value&amp;gt;${queueName}&amp;lt;/value&amp;gt;&lt;br/&gt;
                &amp;lt;/property&amp;gt;&lt;br/&gt;
            &amp;lt;/configuration&amp;gt;&lt;br/&gt;
            &amp;lt;script&amp;gt;id.pig&amp;lt;/script&amp;gt;&lt;br/&gt;
        &amp;lt;/pig&amp;gt;&lt;br/&gt;
        &amp;lt;ok to=&apos;end&apos; /&amp;gt;&lt;br/&gt;
        &amp;lt;error to=&apos;fail&apos; /&amp;gt;&lt;br/&gt;
    &amp;lt;/action&amp;gt;&lt;br/&gt;
    &amp;lt;kill name=&apos;fail&apos;&amp;gt;&lt;br/&gt;
        &amp;lt;message&amp;gt;Pig failed, error message&lt;span class=&quot;error&quot;&gt;&amp;#91;${wf:errorMessage(wf:lastErrorNode())}&amp;#93;&lt;/span&gt;&amp;lt;/message&amp;gt;&lt;br/&gt;
    &amp;lt;/kill&amp;gt;&lt;br/&gt;
    &amp;lt;end name=&apos;end&apos; /&amp;gt;&lt;br/&gt;
&amp;lt;/workflow-app&amp;gt;&lt;/p&gt;

&lt;p&gt;=========&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;anithar pig&amp;#93;&lt;/span&gt;$  oozie validate workflow.xml&lt;br/&gt;
Error: Invalid workflow-app, org.xml.sax.SAXParseException: cvc-elt.1: Cannot find the declaration of element&lt;br/&gt;
&apos;workflow-app&apos;.&lt;/p&gt;

&lt;p&gt;This workflow.xml when run after putting in hdfs works good. &lt;/p&gt;

&lt;p&gt;The validate command works fine if the schema is 0.1.&lt;/p&gt;

&lt;p&gt;=========&lt;br/&gt;
&amp;lt;workflow-app xmlns=&apos;uri:oozie:workflow:0.1&apos; name=&apos;pig-wf&apos;&amp;gt;&lt;br/&gt;
=========&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;anithar pig&amp;#93;&lt;/span&gt;$  oozie validate workflow.xml&lt;br/&gt;
Valid worflow-app&lt;/p&gt;

&lt;p&gt;I am assuming, from the code, i see that for the validate command, the schema is checked across only&lt;br/&gt;
oozie-workflow-0.1.xsd. This is the schema definition for 0.1.&lt;/p&gt;

&lt;p&gt;------------&lt;br/&gt;
try &lt;/p&gt;
{
                List&amp;lt;StreamSource&amp;gt; sources = new ArrayList&amp;lt;StreamSource&amp;gt;();
                sources.add(new StreamSource(Thread.currentThread().getContextClassLoader().getResourceAsStream(
                        &quot;oozie-workflow-0.1.xsd&quot;)));
                sources.add(new StreamSource(Thread.currentThread().getContextClassLoader().getResourceAsStream(
                        &quot;email-action-0.1.xsd&quot;)));
                sources.add(new StreamSource(Thread.currentThread().getContextClassLoader().getResourceAsStream(
                        &quot;distcp-action-0.1.xsd&quot;)));
                SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
                Schema schema = factory.newSchema(sources.toArray(new StreamSource[sources.size()]));
                Validator validator = schema.newValidator();
                validator.validate(new StreamSource(new FileReader(file)));
                System.out.println(&quot;Valid worflow-app&quot;);
            }
&lt;p&gt;catch (Exception ex) &lt;/p&gt;
{
        throw new OozieCLIException(&quot;Invalid workflow-app, &quot; + ex.toString(), ex);
            }
&lt;p&gt;-------------&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Anitha&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525695">OOZIE-571</key>
            <summary>Oozie validate command doesnt work for schema 0.2 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="virag">Virag Kothari</assignee>
                                    <reporter username="virag">Virag Kothari</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Oct 2011 16:32:36 +0000</created>
                <updated>Sun, 13 May 2012 04:41:45 +0000</updated>
                            <resolved>Fri, 2 Mar 2012 22:26:24 +0000</resolved>
                                                    <fixVersion>pre-Apache</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13120308" author="tucu00" created="Tue, 4 Oct 2011 17:36:03 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-32&quot; title=&quot;Oozie CLI does not have WF 0.2 schema registered for validation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-32&quot;&gt;&lt;del&gt;OOZIE-32&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13122432" author="virag" created="Fri, 7 Oct 2011 00:06:45 +0000"  >&lt;p&gt;close oozie-32 as duplicate&lt;/p&gt;</comment>
                            <comment id="13274196" author="virag" created="Sun, 13 May 2012 04:41:45 +0000"  >&lt;p&gt;For the patch committed in trunk with this JIRA ID (also available under the same JIRA ID in Apache ReviewBoard system), I grant license to ASF for inclusion in ASF works (as per the Apache License &#167;5) &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0z0dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>