{"url":"https://api.github.com/repos/assimp/assimp/issues/3606","repository_url":"https://api.github.com/repos/assimp/assimp","labels_url":"https://api.github.com/repos/assimp/assimp/issues/3606/labels{/name}","comments_url":"https://api.github.com/repos/assimp/assimp/issues/3606/comments","events_url":"https://api.github.com/repos/assimp/assimp/issues/3606/events","html_url":"https://github.com/assimp/assimp/issues/3606","id":792524213,"node_id":"MDU6SXNzdWU3OTI1MjQyMTM=","number":3606,"title":"Collada Loader does not assign material indices to submeshes as expected","user":{"login":"contriteobserver","id":17471201,"node_id":"MDQ6VXNlcjE3NDcxMjAx","avatar_url":"https://avatars.githubusercontent.com/u/17471201?v=4","gravatar_id":"","url":"https://api.github.com/users/contriteobserver","html_url":"https://github.com/contriteobserver","followers_url":"https://api.github.com/users/contriteobserver/followers","following_url":"https://api.github.com/users/contriteobserver/following{/other_user}","gists_url":"https://api.github.com/users/contriteobserver/gists{/gist_id}","starred_url":"https://api.github.com/users/contriteobserver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/contriteobserver/subscriptions","organizations_url":"https://api.github.com/users/contriteobserver/orgs","repos_url":"https://api.github.com/users/contriteobserver/repos","events_url":"https://api.github.com/users/contriteobserver/events{/privacy}","received_events_url":"https://api.github.com/users/contriteobserver/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":244436167,"node_id":"MDU6TGFiZWwyNDQ0MzYxNjc=","url":"https://api.github.com/repos/assimp/assimp/labels/Bug","name":"Bug","color":"bfe5bf","default":false,"description":"Global flag to mark a deviation from expected behaviour"},{"id":1791219717,"node_id":"MDU6TGFiZWwxNzkxMjE5NzE3","url":"https://api.github.com/repos/assimp/assimp/labels/Collada","name":"Collada","color":"e99695","default":false,"description":"Bugs related to the Collada format."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/assimp/assimp/milestones/6","html_url":"https://github.com/assimp/assimp/milestone/6","labels_url":"https://api.github.com/repos/assimp/assimp/milestones/6/labels","id":5129128,"node_id":"MDk6TWlsZXN0b25lNTEyOTEyOA==","number":6,"title":"Release 5.1","description":"","creator":{"login":"kimkulling","id":2323156,"node_id":"MDQ6VXNlcjIzMjMxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2323156?v=4","gravatar_id":"","url":"https://api.github.com/users/kimkulling","html_url":"https://github.com/kimkulling","followers_url":"https://api.github.com/users/kimkulling/followers","following_url":"https://api.github.com/users/kimkulling/following{/other_user}","gists_url":"https://api.github.com/users/kimkulling/gists{/gist_id}","starred_url":"https://api.github.com/users/kimkulling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimkulling/subscriptions","organizations_url":"https://api.github.com/users/kimkulling/orgs","repos_url":"https://api.github.com/users/kimkulling/repos","events_url":"https://api.github.com/users/kimkulling/events{/privacy}","received_events_url":"https://api.github.com/users/kimkulling/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":166,"state":"closed","created_at":"2020-02-21T10:50:53Z","updated_at":"2025-09-24T13:32:13Z","due_on":"2021-11-13T08:00:00Z","closed_at":"2023-09-12T12:48:04Z"},"comments":2,"created_at":"2021-01-23T10:18:08Z","updated_at":"2021-01-30T07:19:43Z","closed_at":"2021-01-30T07:19:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nThe `ColladaLoader` always assigns the mesh material index to it's submeshes.\r\nHowever, a common use case is for each submesh to have it's own material.\r\n\r\n**To Reproduce**\r\n`bin/assimp info ~/assets/tetrahedron.dae` (asset listed below)\r\ncurrently, the output lists only one material\r\n```\r\n$ bin/assimp info ~/assets/tetrahedron.dae\r\nLaunching asset import ...           OK\r\nValidating postprocessing flags ...  OK\r\nImporting file ...                   OK\r\n   import took approx. 0.00447 seconds\r\n\r\nMemory consumption: 5460 B\r\nNodes:              2\r\nMaximum depth       2\r\nMeshes:             1\r\nAnimations:         0\r\nTextures (embed.):  0\r\nMaterials:          1\r\nCameras:            0\r\nLights:             0\r\nVertices:           12\r\nFaces:              4\r\nBones:              0\r\nAnimation Channels: 0\r\nPrimitive Types:    triangles\r\nAverage faces/mesh  4\r\nAverage verts/mesh  12\r\nMinimum point      (-1.000000 -1.000000 -1.000000)\r\nMaximum point      (1.000000 1.000000 1.000000)\r\nCenter point       (0.000000 0.000000 0.000000)\r\n\r\nMeshes:  (name) [vertices / bones / faces | primitive_types]\r\n    0 (Tetrahedron-mesh.Tetrahedron-mesh.Tetrahedron-mesh.Tetrahedron-mesh): [12 / 0 / 4 | triangle]\r\n\r\nNamed Materials:\r\n    'Red'\r\n\r\nNode hierarchy:\r\nScene\r\n└╴Tetrahedron (mesh 0)\r\n```\r\n\r\n**Expected behavior**\r\n`bin/assimp info ~/assets/tetrahedron.dae`\r\na listing of all four materials is expected\r\n```\r\n$ bin/assimp info ~/assets/tetrahedron.dae\r\nLaunching asset import ...           OK\r\nValidating postprocessing flags ...  OK\r\nImporting file ...                   OK \r\n   import took approx. 0.00149 seconds\r\n\r\nMemory consumption: 10278 B\r\nNodes:              2\r\nMaximum depth       2\r\nMeshes:             4\r\nAnimations:         0\r\nTextures (embed.):  0\r\nMaterials:          4\r\nCameras:            0\r\nLights:             0\r\nVertices:           12\r\nFaces:              4\r\nBones:              0\r\nAnimation Channels: 0\r\nPrimitive Types:    triangles\r\nAverage faces/mesh  1\r\nAverage verts/mesh  3\r\nMinimum point      (-1.000000 -1.000000 -1.000000)\r\nMaximum point      (1.000000 1.000000 1.000000)\r\nCenter point       (0.000000 0.000000 0.000000)\r\n\r\nMeshes:  (name) [vertices / bones / faces | primitive_types]\r\n    0 (Tetrahedron-mesh): [3 / 0 / 1 | triangle]\r\n    1 (Tetrahedron-mesh): [3 / 0 / 1 | triangle]\r\n    2 (Tetrahedron-mesh): [3 / 0 / 1 | triangle]\r\n    3 (Tetrahedron-mesh): [3 / 0 / 1 | triangle]\r\n\r\nNamed Materials:\r\n    'Cyan'\r\n    'Green'\r\n    'Orange'\r\n    'Red'\r\n\r\nNode hierarchy:\r\nScene\r\n└╴Tetrahedron (mesh 0, 1, 2, 3)\r\n```\r\n\r\n**Asset File**\r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<COLLADA version=\"1.4.1\"\r\n    xmlns=\"http://www.collada.org/2005/11/COLLADASchema\"\r\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n  <asset>\r\n    <unit name=\"meter\" meter=\"1\"/>\r\n    <up_axis>Z_UP</up_axis>\r\n  </asset>\r\n  <library_effects>\r\n    <effect id=\"Red-effect\">\r\n      <profile_COMMON>\r\n        <technique sid=\"common\">\r\n          <lambert>\r\n            <emission>\r\n              <color sid=\"emission\">0 0 0 1</color>\r\n            </emission>\r\n            <diffuse>\r\n              <color sid=\"diffuse\">0.8 0 0 1</color>\r\n            </diffuse>\r\n            <index_of_refraction>\r\n              <float sid=\"ior\">1.45</float>\r\n            </index_of_refraction>\r\n          </lambert>\r\n        </technique>\r\n      </profile_COMMON>\r\n    </effect>\r\n    <effect id=\"Cyan-effect\">\r\n      <profile_COMMON>\r\n        <technique sid=\"common\">\r\n          <lambert>\r\n            <emission>\r\n              <color sid=\"emission\">0 0 0 1</color>\r\n            </emission>\r\n            <diffuse>\r\n              <color sid=\"diffuse\">0 0.75 0.75 1</color>\r\n            </diffuse>\r\n            <index_of_refraction>\r\n              <float sid=\"ior\">1.45</float>\r\n            </index_of_refraction>\r\n          </lambert>\r\n        </technique>\r\n      </profile_COMMON>\r\n    </effect>\r\n    <effect id=\"Green-effect\">\r\n      <profile_COMMON>\r\n        <technique sid=\"common\">\r\n          <lambert>\r\n            <emission>\r\n              <color sid=\"emission\">0 0 0 1</color>\r\n            </emission>\r\n            <diffuse>\r\n              <color sid=\"diffuse\">0 0.25 0 1</color>\r\n            </diffuse>\r\n            <index_of_refraction>\r\n              <float sid=\"ior\">1.45</float>\r\n            </index_of_refraction>\r\n          </lambert>\r\n        </technique>\r\n      </profile_COMMON>\r\n    </effect>\r\n    <effect id=\"Orange-effect\">\r\n      <profile_COMMON>\r\n        <technique sid=\"common\">\r\n          <lambert>\r\n            <emission>\r\n              <color sid=\"emission\">0 0 0 1</color>\r\n            </emission>\r\n            <diffuse>\r\n              <color sid=\"diffuse\">0.75 0.5 0 1</color>\r\n            </diffuse>\r\n            <index_of_refraction>\r\n              <float sid=\"ior\">1.45</float>\r\n            </index_of_refraction>\r\n          </lambert>\r\n        </technique>\r\n      </profile_COMMON>\r\n    </effect>\r\n  </library_effects>\r\n  <library_images/>\r\n  <library_materials>\r\n    <material id=\"Red-material\" name=\"Red\">\r\n      <instance_effect url=\"#Red-effect\"/>\r\n    </material>\r\n    <material id=\"Cyan-material\" name=\"Cyan\">\r\n      <instance_effect url=\"#Cyan-effect\"/>\r\n    </material>\r\n    <material id=\"Green-material\" name=\"Green\">\r\n      <instance_effect url=\"#Green-effect\"/>\r\n    </material>\r\n    <material id=\"Orange-material\" name=\"Orange\">\r\n      <instance_effect url=\"#Orange-effect\"/>\r\n    </material>\r\n  </library_materials>\r\n  <library_geometries>\r\n    <geometry id=\"Tetrahedron-mesh\" name=\"Tetrahedron\">\r\n      <mesh>\r\n        <source id=\"Tetrahedron-mesh-positions\">\r\n          <float_array id=\"Tetrahedron-mesh-positions-array\" count=\"12\">-1 -1 1 -1 1 -1 1 -1 -1 1 1 1</float_array>\r\n          <technique_common>\r\n            <accessor source=\"#Tetrahedron-mesh-positions-array\" count=\"4\" stride=\"3\">\r\n              <param name=\"X\" type=\"float\"/>\r\n              <param name=\"Y\" type=\"float\"/>\r\n              <param name=\"Z\" type=\"float\"/>\r\n            </accessor>\r\n          </technique_common>\r\n        </source>\r\n        <source id=\"Tetrahedron-mesh-normals\">\r\n          <float_array id=\"Tetrahedron-mesh-normals-array\" count=\"12\">-0.5773503 0.5773503 0.5773503 -0.5773503 -0.5773503 -0.5773503 0.5773503 0.5773503 -0.5773503 0.5773503 -0.5773503 0.5773503</float_array>\r\n          <technique_common>\r\n            <accessor source=\"#Tetrahedron-mesh-normals-array\" count=\"4\" stride=\"3\">\r\n              <param name=\"X\" type=\"float\"/>\r\n              <param name=\"Y\" type=\"float\"/>\r\n              <param name=\"Z\" type=\"float\"/>\r\n            </accessor>\r\n          </technique_common>\r\n        </source>\r\n        <source id=\"Tetrahedron-mesh-map-0\">\r\n          <float_array id=\"Tetrahedron-mesh-map-0-array\" count=\"24\">0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</float_array>\r\n          <technique_common>\r\n            <accessor source=\"#Tetrahedron-mesh-map-0-array\" count=\"12\" stride=\"2\">\r\n              <param name=\"S\" type=\"float\"/>\r\n              <param name=\"T\" type=\"float\"/>\r\n            </accessor>\r\n          </technique_common>\r\n        </source>\r\n        <vertices id=\"Tetrahedron-mesh-vertices\">\r\n          <input semantic=\"POSITION\" source=\"#Tetrahedron-mesh-positions\"/>\r\n        </vertices>\r\n        <triangles material=\"Red-material\" count=\"1\">\r\n          <input semantic=\"VERTEX\" source=\"#Tetrahedron-mesh-vertices\" offset=\"0\"/>\r\n          <input semantic=\"NORMAL\" source=\"#Tetrahedron-mesh-normals\" offset=\"1\"/>\r\n          <input semantic=\"TEXCOORD\" source=\"#Tetrahedron-mesh-map-0\" offset=\"2\" set=\"0\"/>\r\n          <p>2 3 9 3 3 10 0 3 11</p>\r\n        </triangles>\r\n        <triangles material=\"Cyan-material\" count=\"1\">\r\n          <input semantic=\"VERTEX\" source=\"#Tetrahedron-mesh-vertices\" offset=\"0\"/>\r\n          <input semantic=\"NORMAL\" source=\"#Tetrahedron-mesh-normals\" offset=\"1\"/>\r\n          <input semantic=\"TEXCOORD\" source=\"#Tetrahedron-mesh-map-0\" offset=\"2\" set=\"0\"/>\r\n          <p>3 0 0 1 0 1 0 0 2</p>\r\n        </triangles>\r\n        <triangles material=\"Green-material\" count=\"1\">\r\n          <input semantic=\"VERTEX\" source=\"#Tetrahedron-mesh-vertices\" offset=\"0\"/>\r\n          <input semantic=\"NORMAL\" source=\"#Tetrahedron-mesh-normals\" offset=\"1\"/>\r\n          <input semantic=\"TEXCOORD\" source=\"#Tetrahedron-mesh-map-0\" offset=\"2\" set=\"0\"/>\r\n          <p>0 1 3 1 1 4 2 1 5</p>\r\n        </triangles>\r\n        <triangles material=\"Orange-material\" count=\"1\">\r\n          <input semantic=\"VERTEX\" source=\"#Tetrahedron-mesh-vertices\" offset=\"0\"/>\r\n          <input semantic=\"NORMAL\" source=\"#Tetrahedron-mesh-normals\" offset=\"1\"/>\r\n          <input semantic=\"TEXCOORD\" source=\"#Tetrahedron-mesh-map-0\" offset=\"2\" set=\"0\"/>\r\n          <p>2 2 6 1 2 7 3 2 8</p>\r\n        </triangles>\r\n      </mesh>\r\n    </geometry>\r\n  </library_geometries>\r\n  <library_controllers/>\r\n  <library_visual_scenes>\r\n    <visual_scene id=\"Scene\" name=\"Scene\">\r\n      <node id=\"Tetrahedron\" name=\"Tetrahedron\" type=\"NODE\">\r\n        <matrix sid=\"transform\">1 0 0 0 0 0 1 0 0 -1 0 0 0 0 0 1</matrix>\r\n        <instance_geometry url=\"#Tetrahedron-mesh\" name=\"Tetrahedron\">\r\n          <bind_material>\r\n            <technique_common>\r\n              <instance_material symbol=\"Red-material\" target=\"#Red-material\">\r\n                <bind_vertex_input semantic=\"UVMap\" input_semantic=\"TEXCOORD\" input_set=\"0\"/>\r\n              </instance_material>\r\n              <instance_material symbol=\"Cyan-material\" target=\"#Cyan-material\">\r\n                <bind_vertex_input semantic=\"UVMap\" input_semantic=\"TEXCOORD\" input_set=\"0\"/>\r\n              </instance_material>\r\n              <instance_material symbol=\"Green-material\" target=\"#Green-material\">\r\n                <bind_vertex_input semantic=\"UVMap\" input_semantic=\"TEXCOORD\" input_set=\"0\"/>\r\n              </instance_material>\r\n              <instance_material symbol=\"Orange-material\" target=\"#Orange-material\">\r\n                <bind_vertex_input semantic=\"UVMap\" input_semantic=\"TEXCOORD\" input_set=\"0\"/>\r\n              </instance_material>\r\n            </technique_common>\r\n          </bind_material>\r\n        </instance_geometry>\r\n      </node>\r\n    </visual_scene>\r\n  </library_visual_scenes>\r\n  <scene>\r\n    <instance_visual_scene url=\"#Scene\"/>\r\n  </scene>\r\n</COLLADA>\r\n```","closed_by":{"login":"kimkulling","id":2323156,"node_id":"MDQ6VXNlcjIzMjMxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2323156?v=4","gravatar_id":"","url":"https://api.github.com/users/kimkulling","html_url":"https://github.com/kimkulling","followers_url":"https://api.github.com/users/kimkulling/followers","following_url":"https://api.github.com/users/kimkulling/following{/other_user}","gists_url":"https://api.github.com/users/kimkulling/gists{/gist_id}","starred_url":"https://api.github.com/users/kimkulling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimkulling/subscriptions","organizations_url":"https://api.github.com/users/kimkulling/orgs","repos_url":"https://api.github.com/users/kimkulling/repos","events_url":"https://api.github.com/users/kimkulling/events{/privacy}","received_events_url":"https://api.github.com/users/kimkulling/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assimp/assimp/issues/3606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assimp/assimp/issues/3606/timeline","performed_via_github_app":null,"state_reason":"completed"}