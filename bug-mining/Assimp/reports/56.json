{"url":"https://api.github.com/repos/assimp/assimp/issues/2046","repository_url":"https://api.github.com/repos/assimp/assimp","labels_url":"https://api.github.com/repos/assimp/assimp/issues/2046/labels{/name}","comments_url":"https://api.github.com/repos/assimp/assimp/issues/2046/comments","events_url":"https://api.github.com/repos/assimp/assimp/issues/2046/events","html_url":"https://github.com/assimp/assimp/issues/2046","id":338179377,"node_id":"MDU6SXNzdWUzMzgxNzkzNzc=","number":2046,"title":"glTF 2.0 meshes without indices result in empty meshes","user":{"login":"ardenpm","id":5742686,"node_id":"MDQ6VXNlcjU3NDI2ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5742686?v=4","gravatar_id":"","url":"https://api.github.com/users/ardenpm","html_url":"https://github.com/ardenpm","followers_url":"https://api.github.com/users/ardenpm/followers","following_url":"https://api.github.com/users/ardenpm/following{/other_user}","gists_url":"https://api.github.com/users/ardenpm/gists{/gist_id}","starred_url":"https://api.github.com/users/ardenpm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ardenpm/subscriptions","organizations_url":"https://api.github.com/users/ardenpm/orgs","repos_url":"https://api.github.com/users/ardenpm/repos","events_url":"https://api.github.com/users/ardenpm/events{/privacy}","received_events_url":"https://api.github.com/users/ardenpm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":831073868,"node_id":"MDU6TGFiZWw4MzEwNzM4Njg=","url":"https://api.github.com/repos/assimp/assimp/labels/glTF2.0","name":"glTF2.0","color":"1d76db","default":false,"description":"Bugs related to the glTF2.0 format"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-04T08:31:53Z","updated_at":"2025-04-16T22:04:31Z","closed_at":"2018-07-14T20:29:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The [TriangleWithoutIndices.gltf](https://github.com/KhronosGroup/glTF-Sample-Models/blob/master/2.0/TriangleWithoutIndices/glTF-Embedded/TriangleWithoutIndices.gltf) model demonstrates this issue. To reproduce grab the file and run it through the assimp export and observe that no mesh geometry is created in the output.\r\n\r\nMeshes which do not have indices result in a glTF::Mesh::Primitive with a null indicies property (as it should be).\r\n\r\nWhen glTFImporter::ImportMeshes processes the meshes it has a check for prim.indices and only if it's defined does it create the triangle data. The glTF 2.0 specification states the indices property is optional for primitives and when not present the same semantics as WebGL drawArrays() should be used to construct the mesh. Currently if prim.indices is not defined nothing gets made and mNumFaces end up as 0 and you have an empty mesh but with all of the vertex, normal etc data defined.\r\n\r\nWilling to have a go at addressing this but wanted to log an issue first and see if others had already looked at it or if my interpretation may be wrong? Looks like a fall through case is needed that makes the mesh in the same way that drawArrays would when prim.indices is not defined, but I'll need to investigate further.\r\n\r\nMy guess is someone already looked at this and it's not as straight forward as I am assuming so any comments would be appreciated.\r\n\r\nI didn't think I would encounter much non-indexed glTF mesh data in the wild but I was just handed two files with exactly that issue and half the geometry is missing as a result so seems it's an important case to handle.","closed_by":{"login":"kimkulling","id":2323156,"node_id":"MDQ6VXNlcjIzMjMxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2323156?v=4","gravatar_id":"","url":"https://api.github.com/users/kimkulling","html_url":"https://github.com/kimkulling","followers_url":"https://api.github.com/users/kimkulling/followers","following_url":"https://api.github.com/users/kimkulling/following{/other_user}","gists_url":"https://api.github.com/users/kimkulling/gists{/gist_id}","starred_url":"https://api.github.com/users/kimkulling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimkulling/subscriptions","organizations_url":"https://api.github.com/users/kimkulling/orgs","repos_url":"https://api.github.com/users/kimkulling/repos","events_url":"https://api.github.com/users/kimkulling/events{/privacy}","received_events_url":"https://api.github.com/users/kimkulling/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assimp/assimp/issues/2046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assimp/assimp/issues/2046/timeline","performed_via_github_app":null,"state_reason":"completed"}