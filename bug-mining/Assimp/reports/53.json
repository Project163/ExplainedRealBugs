{"url":"https://api.github.com/repos/assimp/assimp/issues/1923","repository_url":"https://api.github.com/repos/assimp/assimp","labels_url":"https://api.github.com/repos/assimp/assimp/issues/1923/labels{/name}","comments_url":"https://api.github.com/repos/assimp/assimp/issues/1923/comments","events_url":"https://api.github.com/repos/assimp/assimp/issues/1923/events","html_url":"https://github.com/assimp/assimp/issues/1923","id":318543953,"node_id":"MDU6SXNzdWUzMTg1NDM5NTM=","number":1923,"title":"OBJ Exporter can't correctly export vertex colors","user":{"login":"kwuerl","id":6921877,"node_id":"MDQ6VXNlcjY5MjE4Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/6921877?v=4","gravatar_id":"","url":"https://api.github.com/users/kwuerl","html_url":"https://github.com/kwuerl","followers_url":"https://api.github.com/users/kwuerl/followers","following_url":"https://api.github.com/users/kwuerl/following{/other_user}","gists_url":"https://api.github.com/users/kwuerl/gists{/gist_id}","starred_url":"https://api.github.com/users/kwuerl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwuerl/subscriptions","organizations_url":"https://api.github.com/users/kwuerl/orgs","repos_url":"https://api.github.com/users/kwuerl/repos","events_url":"https://api.github.com/users/kwuerl/events{/privacy}","received_events_url":"https://api.github.com/users/kwuerl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1787751950,"node_id":"MDU6TGFiZWwxNzg3NzUxOTUw","url":"https://api.github.com/repos/assimp/assimp/labels/Wavefront-Obj","name":"Wavefront-Obj","color":"d4c5f9","default":false,"description":"Bugs related to the wavefront format"},{"id":2953329571,"node_id":"MDU6TGFiZWwyOTUzMzI5NTcx","url":"https://api.github.com/repos/assimp/assimp/labels/Export","name":"Export","color":"0e8a16","default":false,"description":"Bugs / Feature requests related to export."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-27T20:43:46Z","updated_at":"2025-04-16T22:08:22Z","closed_at":"2018-05-02T12:45:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"What: For example exporting 25 different vertices, all with color 1.0, 1.0, 1.0, 1.0 results in having only one vertex in the resulting obj file. Having 10 different colors will result in only exporting 10 vertices.\r\nWhy: Internally the OBJ exporter uses a std::map to avoid exporting the same vertex twice. When adding color information to vertices, the exporter does not include color information as additional keys in the first map, but creates a second map for colors.\r\nThus, 2 different colors of 10 vertices leads to a color map with 2 elements.\r\nUnfortunately while exporting all distinct vertices the color map is assumed to have the same amount of elements than the vertex map and a linear index is used to access them. If the index gets greater than the color map size, additional vertices are simply omited.\r\nI will probably submit a PR in the next few days to fix this. If I do not, I hope this description helps!","closed_by":{"login":"kimkulling","id":2323156,"node_id":"MDQ6VXNlcjIzMjMxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2323156?v=4","gravatar_id":"","url":"https://api.github.com/users/kimkulling","html_url":"https://github.com/kimkulling","followers_url":"https://api.github.com/users/kimkulling/followers","following_url":"https://api.github.com/users/kimkulling/following{/other_user}","gists_url":"https://api.github.com/users/kimkulling/gists{/gist_id}","starred_url":"https://api.github.com/users/kimkulling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimkulling/subscriptions","organizations_url":"https://api.github.com/users/kimkulling/orgs","repos_url":"https://api.github.com/users/kimkulling/repos","events_url":"https://api.github.com/users/kimkulling/events{/privacy}","received_events_url":"https://api.github.com/users/kimkulling/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assimp/assimp/issues/1923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assimp/assimp/issues/1923/timeline","performed_via_github_app":null,"state_reason":"completed"}