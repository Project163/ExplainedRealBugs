{"url":"https://api.github.com/repos/assimp/assimp/issues/5461","repository_url":"https://api.github.com/repos/assimp/assimp","labels_url":"https://api.github.com/repos/assimp/assimp/issues/5461/labels{/name}","comments_url":"https://api.github.com/repos/assimp/assimp/issues/5461/comments","events_url":"https://api.github.com/repos/assimp/assimp/issues/5461/events","html_url":"https://github.com/assimp/assimp/issues/5461","id":2129133999,"node_id":"I_kwDOAAnkjM5-6AGv","number":5461,"title":"Bug: segmentation fault while removing redundant materials","user":{"login":"stephengold","id":2287609,"node_id":"MDQ6VXNlcjIyODc2MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":244436167,"node_id":"MDU6TGFiZWwyNDQ0MzYxNjc=","url":"https://api.github.com/repos/assimp/assimp/labels/Bug","name":"Bug","color":"bfe5bf","default":false,"description":"Global flag to mark a deviation from expected behaviour"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-02-11T19:29:38Z","updated_at":"2024-04-10T00:07:13Z","closed_at":"2024-04-10T00:07:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nWhile testing PR #5451 (the fix for issue #5438) I got a segmentation violation during post-processing. I reported this at #5438 on 1 February 2024, but since there's been no response (and the issue is closed and I don't have permission to re-open it) I'm filing a new issue.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build the `assimp` command from source code recent enough to include PR #5451.\r\n\r\n2. Unzip the \"Running.gltf\" file from the following archive:\r\n[test.zip](https://github.com/assimp/assimp/files/14058247/test.zip)\r\n\r\n3. Execute the following command:\r\n    `bin/assimp info Running.gltf -rrm`\r\n\r\n**Expected behavior**\r\nSince the test model is animation-only (contains no meshes) all its materials are redundant. Removing redundant materials should produce a model with no materials. The post-processor should not crash!\r\n\r\n**Screenshots**\r\n```console\r\n$ bin/assimp info ~/Downloads/Running.gltf -rrm\r\nparam = -rrm\r\nLaunching asset import ...           OK\r\nValidating postprocessing flags ...  OK\r\n100 %Importing file ...                   OK \r\n   import took approx. 0.01244 seconds\r\n\r\nSegmentation fault (core dumped)\r\n$ bin/assimp version\r\n------------------------------------------------------ \r\nOpen Asset Import Library (\"Assimp\", https://github.com/assimp/assimp) \r\n -- Commandline toolchain --\r\n------------------------------------------------------ \r\n\r\nVersion 5.3 -debug -shared -st (GIT commit ff5b0ae5)\r\n\r\n$ \r\n```\r\n\r\n**Platform (please complete the following information):**\r\n - OS: Linux Mint 21.3 (x86_64, 5.15 kernel)\r\n - Browser: Firefox\r\n - Version: Assimp built from GIT commit ff5b0ae5 (8 February 2024)\r\n\r\n**Additional context**\r\nN/A\r\n","closed_by":{"login":"stephengold","id":2287609,"node_id":"MDQ6VXNlcjIyODc2MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assimp/assimp/issues/5461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assimp/assimp/issues/5461/timeline","performed_via_github_app":null,"state_reason":"completed"}