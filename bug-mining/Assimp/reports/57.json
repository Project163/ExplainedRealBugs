{"url":"https://api.github.com/repos/assimp/assimp/issues/2077","repository_url":"https://api.github.com/repos/assimp/assimp","labels_url":"https://api.github.com/repos/assimp/assimp/issues/2077/labels{/name}","comments_url":"https://api.github.com/repos/assimp/assimp/issues/2077/comments","events_url":"https://api.github.com/repos/assimp/assimp/issues/2077/events","html_url":"https://github.com/assimp/assimp/issues/2077","id":346150208,"node_id":"MDU6SXNzdWUzNDYxNTAyMDg=","number":2077,"title":"Segfault when importing GLTF1/2 with triangle strip or triangle fan","user":{"login":"aavenel","id":303767,"node_id":"MDQ6VXNlcjMwMzc2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/303767?v=4","gravatar_id":"","url":"https://api.github.com/users/aavenel","html_url":"https://github.com/aavenel","followers_url":"https://api.github.com/users/aavenel/followers","following_url":"https://api.github.com/users/aavenel/following{/other_user}","gists_url":"https://api.github.com/users/aavenel/gists{/gist_id}","starred_url":"https://api.github.com/users/aavenel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aavenel/subscriptions","organizations_url":"https://api.github.com/users/aavenel/orgs","repos_url":"https://api.github.com/users/aavenel/repos","events_url":"https://api.github.com/users/aavenel/events{/privacy}","received_events_url":"https://api.github.com/users/aavenel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":244436167,"node_id":"MDU6TGFiZWwyNDQ0MzYxNjc=","url":"https://api.github.com/repos/assimp/assimp/labels/Bug","name":"Bug","color":"bfe5bf","default":false,"description":"Global flag to mark a deviation from expected behaviour"},{"id":831073868,"node_id":"MDU6TGFiZWw4MzEwNzM4Njg=","url":"https://api.github.com/repos/assimp/assimp/labels/glTF2.0","name":"glTF2.0","color":"1d76db","default":false,"description":"Bugs related to the glTF2.0 format"},{"id":1812938533,"node_id":"MDU6TGFiZWwxODEyOTM4NTMz","url":"https://api.github.com/repos/assimp/assimp/labels/glTF1.0","name":"glTF1.0","color":"d93f0b","default":false,"description":"Bugs related to the glTF1.0 format."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-31T11:40:11Z","updated_at":"2025-04-17T20:29:32Z","closed_at":"2018-08-05T09:27:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\r\n\r\ngltf1 and gltf2 with Triangle Strip and Triangle Fan primitive generates a segfault.\r\n\r\nYou can reproduce this issue using models here:\r\nhttps://github.com/bghgary/glTF-Asset-Generator/tree/master/Output/Mesh_PrimitiveMode\r\n\r\nIndeed, we access faces[2].mIndices[2] on the first iteration, which is undefined.\r\n```\r\n                    case PrimitiveMode_TRIANGLE_FAN:\r\n                        nFaces = count - 2;\r\n                        faces = new aiFace[nFaces];\r\n                        SetFace(faces[0], data.GetUInt(0), data.GetUInt(1), data.GetUInt(2));\r\n                        for (unsigned int i = 3; i < count; ++i) {\r\n                            SetFace(faces[i - 2], faces[0].mIndices[0], faces[i - 1].mIndices[2], data.GetUInt(i));\r\n                        }\r\n                        break;\r\n```\r\n\r\n\r\n","closed_by":{"login":"kimkulling","id":2323156,"node_id":"MDQ6VXNlcjIzMjMxNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2323156?v=4","gravatar_id":"","url":"https://api.github.com/users/kimkulling","html_url":"https://github.com/kimkulling","followers_url":"https://api.github.com/users/kimkulling/followers","following_url":"https://api.github.com/users/kimkulling/following{/other_user}","gists_url":"https://api.github.com/users/kimkulling/gists{/gist_id}","starred_url":"https://api.github.com/users/kimkulling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimkulling/subscriptions","organizations_url":"https://api.github.com/users/kimkulling/orgs","repos_url":"https://api.github.com/users/kimkulling/repos","events_url":"https://api.github.com/users/kimkulling/events{/privacy}","received_events_url":"https://api.github.com/users/kimkulling/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assimp/assimp/issues/2077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assimp/assimp/issues/2077/timeline","performed_via_github_app":null,"state_reason":"completed"}