[{"id":670874,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY3MDg3NA==","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/670874","actor":{"login":"slemesle","id":599375,"node_id":"MDQ6VXNlcjU5OTM3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/599375?v=4","gravatar_id":"","url":"https://api.github.com/users/slemesle","html_url":"https://github.com/slemesle","followers_url":"https://api.github.com/users/slemesle/followers","following_url":"https://api.github.com/users/slemesle/following{/other_user}","gists_url":"https://api.github.com/users/slemesle/gists{/gist_id}","starred_url":"https://api.github.com/users/slemesle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slemesle/subscriptions","organizations_url":"https://api.github.com/users/slemesle/orgs","repos_url":"https://api.github.com/users/slemesle/repos","events_url":"https://api.github.com/users/slemesle/events{/privacy}","received_events_url":"https://api.github.com/users/slemesle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-05-14T16:17:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1223289","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1223289","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1223289,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyODk=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-23T18:21:30Z","updated_at":"2011-05-23T18:21:30Z","body":"Do you know how facebook/tornado handles their multi processing support? (I'm just curios)\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1223289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":811523,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxMTUyMw==","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/811523","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-05-23T18:21:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1224871","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1224871","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1224871,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ4NzE=","user":{"login":"ilmich","id":148796,"node_id":"MDQ6VXNlcjE0ODc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/148796?v=4","gravatar_id":"","url":"https://api.github.com/users/ilmich","html_url":"https://github.com/ilmich","followers_url":"https://api.github.com/users/ilmich/followers","following_url":"https://api.github.com/users/ilmich/following{/other_user}","gists_url":"https://api.github.com/users/ilmich/gists{/gist_id}","starred_url":"https://api.github.com/users/ilmich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilmich/subscriptions","organizations_url":"https://api.github.com/users/ilmich/orgs","repos_url":"https://api.github.com/users/ilmich/repos","events_url":"https://api.github.com/users/ilmich/events{/privacy}","received_events_url":"https://api.github.com/users/ilmich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-23T22:55:15Z","updated_at":"2011-05-23T22:55:15Z","body":"From this [link](http://www.tornadoweb.org/documentation#running-tornado-in-production)\n\n> We typically run one Tornado frontend per core on the machine (sometimes more depending on utilization).\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1224871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ilmich","id":148796,"node_id":"MDQ6VXNlcjE0ODc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/148796?v=4","gravatar_id":"","url":"https://api.github.com/users/ilmich","html_url":"https://github.com/ilmich","followers_url":"https://api.github.com/users/ilmich/followers","following_url":"https://api.github.com/users/ilmich/following{/other_user}","gists_url":"https://api.github.com/users/ilmich/gists{/gist_id}","starred_url":"https://api.github.com/users/ilmich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilmich/subscriptions","organizations_url":"https://api.github.com/users/ilmich/orgs","repos_url":"https://api.github.com/users/ilmich/repos","events_url":"https://api.github.com/users/ilmich/events{/privacy}","received_events_url":"https://api.github.com/users/ilmich/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":815990,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgxNTk5MA==","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/815990","actor":{"login":"ilmich","id":148796,"node_id":"MDQ6VXNlcjE0ODc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/148796?v=4","gravatar_id":"","url":"https://api.github.com/users/ilmich","html_url":"https://github.com/ilmich","followers_url":"https://api.github.com/users/ilmich/followers","following_url":"https://api.github.com/users/ilmich/following{/other_user}","gists_url":"https://api.github.com/users/ilmich/gists{/gist_id}","starred_url":"https://api.github.com/users/ilmich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilmich/subscriptions","organizations_url":"https://api.github.com/users/ilmich/orgs","repos_url":"https://api.github.com/users/ilmich/repos","events_url":"https://api.github.com/users/ilmich/events{/privacy}","received_events_url":"https://api.github.com/users/ilmich/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-05-23T22:55:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1226791","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1226791","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1226791,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjY3OTE=","user":{"login":"rickardb","id":289526,"node_id":"MDQ6VXNlcjI4OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/289526?v=4","gravatar_id":"","url":"https://api.github.com/users/rickardb","html_url":"https://github.com/rickardb","followers_url":"https://api.github.com/users/rickardb/followers","following_url":"https://api.github.com/users/rickardb/following{/other_user}","gists_url":"https://api.github.com/users/rickardb/gists{/gist_id}","starred_url":"https://api.github.com/users/rickardb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickardb/subscriptions","organizations_url":"https://api.github.com/users/rickardb/orgs","repos_url":"https://api.github.com/users/rickardb/repos","events_url":"https://api.github.com/users/rickardb/events{/privacy}","received_events_url":"https://api.github.com/users/rickardb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-24T08:21:03Z","updated_at":"2011-05-24T08:21:03Z","body":"In tornado you can pre-fork a given number of threads, each thread will have it's own ioloop and registers for read event on the listening socket and whenever it gets a read event it performs accept() on the socket. One of the threads will get the connection and can start performing it's job. (accept() is thread safe, see manpage for more info). \n\nThe code is available here for more analysis: https://github.com/facebook/tornado/blob/master/tornado/httpserver.py#L206\n\nI have no idea how this would translate to the java world. :)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1226791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rickardb","id":289526,"node_id":"MDQ6VXNlcjI4OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/289526?v=4","gravatar_id":"","url":"https://api.github.com/users/rickardb","html_url":"https://github.com/rickardb","followers_url":"https://api.github.com/users/rickardb/followers","following_url":"https://api.github.com/users/rickardb/following{/other_user}","gists_url":"https://api.github.com/users/rickardb/gists{/gist_id}","starred_url":"https://api.github.com/users/rickardb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickardb/subscriptions","organizations_url":"https://api.github.com/users/rickardb/orgs","repos_url":"https://api.github.com/users/rickardb/repos","events_url":"https://api.github.com/users/rickardb/events{/privacy}","received_events_url":"https://api.github.com/users/rickardb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":821737,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgyMTczNw==","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/821737","actor":{"login":"rickardb","id":289526,"node_id":"MDQ6VXNlcjI4OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/289526?v=4","gravatar_id":"","url":"https://api.github.com/users/rickardb","html_url":"https://github.com/rickardb","followers_url":"https://api.github.com/users/rickardb/followers","following_url":"https://api.github.com/users/rickardb/following{/other_user}","gists_url":"https://api.github.com/users/rickardb/gists{/gist_id}","starred_url":"https://api.github.com/users/rickardb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickardb/subscriptions","organizations_url":"https://api.github.com/users/rickardb/orgs","repos_url":"https://api.github.com/users/rickardb/repos","events_url":"https://api.github.com/users/rickardb/events{/privacy}","received_events_url":"https://api.github.com/users/rickardb/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-05-24T08:21:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1228547","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1228547","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1228547,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjg1NDc=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-24T14:20:47Z","updated_at":"2011-05-24T14:20:47Z","body":"The outcome of a discussion with inferno-:\nAt first I thought that the simple \"multicore\" solution used by tornado would be easily translated to deft. After a deeper digging we realized thats probably not the case. The reason for this is that the multicore support would be done by using threads (with a single ioloop \"attached\" to it) with shared user space memory....and the threads would share some instances (e.g Application and HttpProtocol) that are not thread safe. \n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1228547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1229263","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1229263","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1229263,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjkyNjM=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-24T15:56:11Z","updated_at":"2011-05-24T15:56:11Z","body":"...after some further thinking:\nCould be worth some experiments where we \"clone\" (deep copy) Application and HttpProtocol and tries to mimic the way multiprocessing work (no shared memory between any server code.). We also need to make the IOLoop ctor public (private at the moment)\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1229263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1231338","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1231338","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1231338,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzEzMzg=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-24T21:06:11Z","updated_at":"2011-05-24T21:13:07Z","body":"Patch: https://gist.github.com/989674 (interesting parts, row 327-352, the rest is basically adding an IOLoop instance to some constructors and some methods)\n\nhello world benchmark:  (2.66ghz quad core)\nsingle deft instance: 29k requests/s\neight threads/ioloops  : 82k requests/s\n\npretty good imho. \n\nslemesle, you have spent some brain cycles on this problem, what are your comments about this? (probably easiest to apply the patch and look at the diff instead of the gist)\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1231338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1231886","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1231886","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1231886,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzE4ODY=","user":{"login":"slemesle","id":599375,"node_id":"MDQ6VXNlcjU5OTM3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/599375?v=4","gravatar_id":"","url":"https://api.github.com/users/slemesle","html_url":"https://github.com/slemesle","followers_url":"https://api.github.com/users/slemesle/followers","following_url":"https://api.github.com/users/slemesle/following{/other_user}","gists_url":"https://api.github.com/users/slemesle/gists{/gist_id}","starred_url":"https://api.github.com/users/slemesle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slemesle/subscriptions","organizations_url":"https://api.github.com/users/slemesle/orgs","repos_url":"https://api.github.com/users/slemesle/repos","events_url":"https://api.github.com/users/slemesle/events{/privacy}","received_events_url":"https://api.github.com/users/slemesle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-24T22:26:21Z","updated_at":"2011-05-24T22:26:21Z","body":"Hi, I am realy happy to see that this idea does interrest some people :).\nAs you said your first test looks pretty good. \nI have not applied the patch for now but I will for sure. From what I see, you register the same serverChannel against multiple selectors in different IOLoop instances. Are you sure we can do it without any risk ?\nFor me HttpProtocol could be easily thread safe, if it is totally stateless so a single instance is needed.\n\nThe last thing I see is that we should take care of how we add a new SocketChannels to an IOLoop instance from outside of the loop itself. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1231886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"slemesle","id":599375,"node_id":"MDQ6VXNlcjU5OTM3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/599375?v=4","gravatar_id":"","url":"https://api.github.com/users/slemesle","html_url":"https://github.com/slemesle","followers_url":"https://api.github.com/users/slemesle/followers","following_url":"https://api.github.com/users/slemesle/following{/other_user}","gists_url":"https://api.github.com/users/slemesle/gists{/gist_id}","starred_url":"https://api.github.com/users/slemesle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slemesle/subscriptions","organizations_url":"https://api.github.com/users/slemesle/orgs","repos_url":"https://api.github.com/users/slemesle/repos","events_url":"https://api.github.com/users/slemesle/events{/privacy}","received_events_url":"https://api.github.com/users/slemesle/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1233497","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1233497","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1233497,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzM0OTc=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-25T06:16:21Z","updated_at":"2011-05-25T06:17:01Z","body":"Should be ok to register the same SelectableChannel against multiple selectors. (as long as we have the modification (the null check) in handleAccept(..), multiple selectors might be \"notified\" about the io and call the handleAccept callback, inside each handleAccept and each IOHandler will try to do something like socket.accept(), but only one (first one?) will get a valid return value)\n\nMaking the HttpProtocol immutable could possible be done. I dont know how to solve the field partials (a Map<SelectableChannel, PartialHttpRequest>) on top of my head. (Also I think its ok to create n HttpProtocol objets for n IOLoops). \n\nYour last point, about adding a new SelectableChannel: Outside of the IOLoop itself, do you mean do that from another thread? Simply doing ioLoop.addHandler(channel, ioHandler, SelectionKey.ACCEPT, null) is not threadsafe to do, instead you should do:\n\n```\n    ioLoop.addCallback(new AsyncCallback() {\n        @Override public void onCallback() {\n            ioLoop.addHandler(channel, handler, interestOps, attachment)\n        }\n    });\n```\n\n(So you are sure that adding of the handler will be done from the correct ioloop thread)\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1233497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":893052,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDg5MzA1Mg==","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/893052","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2a10a1bba2d4a0524be9c477489b7b1de9063c54","commit_url":"https://api.github.com/repos/rschildmeijer/deft/commits/2a10a1bba2d4a0524be9c477489b7b1de9063c54","created_at":"2011-05-27T20:24:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1251529","html_url":"https://github.com/rschildmeijer/deft/issues/139#issuecomment-1251529","issue_url":"https://api.github.com/repos/rschildmeijer/deft/issues/139","id":1251529,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTE1Mjk=","user":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-05-27T20:25:15Z","updated_at":"2011-05-27T20:25:15Z","body":"closed by https://github.com/rschildmeijer/deft/commit/2a10a1bba2d4a0524be9c477489b7b1de9063c54\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/rschildmeijer/deft/issues/comments/1251529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":893060,"node_id":"MDExOkNsb3NlZEV2ZW50ODkzMDYw","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/893060","actor":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2011-05-27T20:25:15Z","state_reason":null,"performed_via_github_app":null},{"id":893171,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ4OTMxNzE=","url":"https://api.github.com/repos/rschildmeijer/deft/issues/events/893171","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2011-05-27T20:31:48Z","assignee":{"login":"rschildmeijer","id":403336,"node_id":"MDQ6VXNlcjQwMzMzNg==","avatar_url":"https://avatars.githubusercontent.com/u/403336?v=4","gravatar_id":"","url":"https://api.github.com/users/rschildmeijer","html_url":"https://github.com/rschildmeijer","followers_url":"https://api.github.com/users/rschildmeijer/followers","following_url":"https://api.github.com/users/rschildmeijer/following{/other_user}","gists_url":"https://api.github.com/users/rschildmeijer/gists{/gist_id}","starred_url":"https://api.github.com/users/rschildmeijer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rschildmeijer/subscriptions","organizations_url":"https://api.github.com/users/rschildmeijer/orgs","repos_url":"https://api.github.com/users/rschildmeijer/repos","events_url":"https://api.github.com/users/rschildmeijer/events{/privacy}","received_events_url":"https://api.github.com/users/rschildmeijer/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null}]