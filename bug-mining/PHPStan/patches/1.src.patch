diff --git a/tests/PHPStan/Rules/Methods/data/call-methods.php b/tests/PHPStan/Rules/Methods/data/call-methods.php
index 0637e4f98..434f3f81b 100644
--- a/tests/PHPStan/Rules/Methods/data/call-methods.php
+++ b/tests/PHPStan/Rules/Methods/data/call-methods.php
@@ -1135,3 +1135,30 @@ class AssertInIf
 	}
 
 }
+
+class AssertInForeach
+{
+
+	/**
+	 * @param (self|null)[] $a
+	 */
+	public function doFoo(iterable $as)
+	{
+		$bs = [];
+		foreach ($as as $a) {
+			assert($a !== null);
+			$bs[] = $a;
+		}
+
+		$this->doBar($bs);
+	}
+
+	/**
+	 * @param self[] $as
+	 */
+	public function doBar(array $as)
+	{
+
+	}
+
+}
