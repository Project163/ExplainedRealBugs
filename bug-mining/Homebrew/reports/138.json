{"url":"https://api.github.com/repos/Homebrew/brew/issues/20917","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/20917/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/20917/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/20917/events","html_url":"https://github.com/Homebrew/brew/issues/20917","id":3537446020,"node_id":"I_kwDOAyxcHc7S2SSE","number":20917,"title":"`brew audit --online --git --skip-style` is Reporting That `revision` Should Only Increment By 1 When It Does Only Increment By 1","user":{"login":"JLP04","id":63068340,"node_id":"MDQ6VXNlcjYzMDY4MzQw","avatar_url":"https://avatars.githubusercontent.com/u/63068340?v=4","gravatar_id":"","url":"https://api.github.com/users/JLP04","html_url":"https://github.com/JLP04","followers_url":"https://api.github.com/users/JLP04/followers","following_url":"https://api.github.com/users/JLP04/following{/other_user}","gists_url":"https://api.github.com/users/JLP04/gists{/gist_id}","starred_url":"https://api.github.com/users/JLP04/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JLP04/subscriptions","organizations_url":"https://api.github.com/users/JLP04/orgs","repos_url":"https://api.github.com/users/JLP04/repos","events_url":"https://api.github.com/users/JLP04/events{/privacy}","received_events_url":"https://api.github.com/users/JLP04/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-10-21T17:07:29Z","updated_at":"2025-10-22T18:51:00Z","closed_at":"2025-10-22T08:02:04Z","author_association":"NONE","type":{"id":203324,"node_id":"IT_kwDOABbxGM4AAxo8","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T09:21:16Z","updated_at":"2024-07-26T10:06:36Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew doctor` output\n\n```shell\nPlease note that these warnings are just used to help the Homebrew maintainers\nwith debugging if you file an issue. If everything you use Homebrew for is\nworking fine: please don't worry or file an issue; just ignore this. Thanks!\n\nWarning: Some installed casks are deprecated or disabled.\nYou should find replacements for the following casks:\n  powershell\n  qlcolorcode\n  qlmarkdown\n  qlstephen\n  quicklook-json\n  quicklookase\n  webpquicklook\n\nWarning: Some installed formulae are deprecated or disabled.\nYou should find replacements for the following formulae:\n  chakra\n  icu4c@76\n  neofetch\n  postgresql@14\n\nWarning: You have unlinked kegs in your Cellar.\nLeaving kegs unlinked can lead to build-trouble and cause formulae that depend on\nthose kegs to fail to run properly once built. Run `brew link` on these:\n  cmake\n  cmake-docs\n\nWarning: Some taps are not on the default git origin branch and may not receive\nupdates. If this is a surprise to you, check out the default branch with:\n  git -C $(brew --repo jlp04/homebrew) checkout main\n```\n\n### Verification\n\n- [x] I ran `brew update` twice and am still able to reproduce my issue.\n- [x] My \"`brew doctor` output\" above says `Your system is ready to brew` or a definitely unrelated `Tier` message.\n- [x] This issue's title and/or description do not reference a single formula e.g. `brew install wget`. If they do, open an issue at https://github.com/Homebrew/homebrew-core/issues/new/choose instead.\n\n### `brew config` output\n\n```shell\nHOMEBREW_VERSION: 4.6.18-5-gb98c58d\nORIGIN: https://github.com/Homebrew/brew\nHEAD: b98c58dccdde7139cc70d94812ba646a9489c20e\nLast commit: 22 hours ago\nBranch: main\nCore tap HEAD: 1886c0e27e6667f5a2fa44559fcf707d7322fb1a\nCore tap last commit: 21 hours ago\nCore tap JSON: 25 May 20:12 UTC\nCore cask tap HEAD: e452d915f1582d16b5b537d1894d31af4dc4d296\nCore cask tap last commit: 21 hours ago\nCore cask tap JSON: 12 Aug 20:05 UTC\nHOMEBREW_PREFIX: /opt/homebrew\nHOMEBREW_CASK_OPTS: [\"--colorpickerdir=/Library/ColorPickers\", \"--prefpanedir=/Library/PreferencePanes\", \"--qlplugindir=/Library/QuickLook\", \"--screen_saverdir=/Library/Screen Savers\", \"--dictionarydir=/Library/Dictionaries\", \"--fontdir=/Library/Fonts\", \"--input_methoddir=/Library/Input Methods\", \"--internet_plugindir=/Library/Internet Plug-Ins\", \"--audio_unit_plugindir=/Library/Audio/Plug-Ins/Components\", \"--vst_plugindir=/Library/Audio/Plug-Ins/VST\", \"--vst3_plugindir=/Library/Audio/Plug-Ins/VST3\", \"--mdimporterdir=/Library/Spotlight\"]\nHOMEBREW_DISPLAY: /private/tmp/com.apple.launchd.my2UY7yIbE/org.xquartz:0\nHOMEBREW_FORBID_PACKAGES_FROM_PATHS: set\nHOMEBREW_MAKE_JOBS: 11\nHOMEBREW_NO_AUTO_UPDATE: set\nHOMEBREW_NO_ENV_HINTS: set\nHOMEBREW_NO_INSTALL_FROM_API: set\nHOMEBREW_SORBET_RUNTIME: set\nHomebrew Ruby: 3.4.5 => /opt/homebrew/Library/Homebrew/vendor/portable-ruby/3.4.5/bin/ruby\nCPU: 11-core 64-bit arm_lobos\nClang: 17.0.0 build 1700\nGit: 2.51.1 => /opt/homebrew/bin/git\nCurl: 8.7.1 => /usr/bin/curl\nmacOS: 26.0.1-arm64\nCLT: 26.0.0.0.1.1757719676\nXcode: 26.0.1\nRosetta 2: false\n```\n\n### What were you trying to do (and why)?\n\nI was trying to build a bottle using CI for the following PR [https://github.com/JLP04/homebrew-homebrew/pull/151](https://github.com/JLP04/homebrew-homebrew/pull/151). I then tried running `brew audit --formula jlp04/homebrew/clamtk --online --git --skip-style` locally on the branch I'm trying to merge to verify the issue. \n\n### What happened (include all command output)?\n\n```\njlp04/homebrew/clamtk\n  * `revision` should only increment by 1\nError: 1 problem in 1 formula detected.\n```\n\n### What did you expect to happen?\n\n`brew audit --formula jlp04/homebrew/clamtk --online --git --skip-style` to pass, as I'm only incrementing the revision by 1. \n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\nbrew audit --formula jlp04/homebrew/clamtk --online --git --skip-style (on the checked-out branch)\n```","closed_by":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/20917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/20917/timeline","performed_via_github_app":null,"state_reason":"completed"}