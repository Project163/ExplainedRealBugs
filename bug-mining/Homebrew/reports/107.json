{"url":"https://api.github.com/repos/Homebrew/brew/issues/18317","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/18317/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/18317/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/18317/events","html_url":"https://github.com/Homebrew/brew/issues/18317","id":2522013057,"node_id":"I_kwDOAyxcHc6WUt2B","number":18317,"title":"Consider setting `XDG_DATA_DIRS` in `shellenv` on Linux","user":{"login":"notfirefox","id":138280734,"node_id":"U_kgDOCD3_Hg","avatar_url":"https://avatars.githubusercontent.com/u/138280734?v=4","gravatar_id":"","url":"https://api.github.com/users/notfirefox","html_url":"https://github.com/notfirefox","followers_url":"https://api.github.com/users/notfirefox/followers","following_url":"https://api.github.com/users/notfirefox/following{/other_user}","gists_url":"https://api.github.com/users/notfirefox/gists{/gist_id}","starred_url":"https://api.github.com/users/notfirefox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/notfirefox/subscriptions","organizations_url":"https://api.github.com/users/notfirefox/orgs","repos_url":"https://api.github.com/users/notfirefox/repos","events_url":"https://api.github.com/users/notfirefox/events{/privacy}","received_events_url":"https://api.github.com/users/notfirefox/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":336921316,"node_id":"MDU6TGFiZWwzMzY5MjEzMTY=","url":"https://api.github.com/repos/Homebrew/brew/labels/help%20wanted","name":"help wanted","color":"bfd4f2","default":true,"description":"We want help addressing this"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-09-12T10:37:24Z","updated_at":"2024-09-17T12:51:22Z","closed_at":"2024-09-17T12:51:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Verification\r\n\r\n- [X] This issue's title and/or description do not reference a single formula e.g. `brew install wget`. If they do, open an issue at https://github.com/Homebrew/homebrew-core/issues/new/choose instead.\r\n\r\n### Provide a detailed description of the proposed feature\r\n\r\nIt would be nice if the command below would set up everything needed on Linux.\r\n```sh\r\n$ eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\r\n```\r\n\r\nIt does however not configure `$XDG_DATA_DIRS` as shown below.\r\n```sh\r\n$ brew doctor\r\nPlease note that these warnings are just used to help the Homebrew maintainers\r\nwith debugging if you file an issue. If everything you use Homebrew for is\r\nworking fine: please don't worry or file an issue; just ignore this. Thanks!\r\n\r\nWarning: Homebrew's share was not found in your XDG_DATA_DIRS but you have\r\nthis variable set to include other locations.\r\nSome programs like `vapigen` may not work correctly.\r\nConsider adding Homebrew's share directory to XDG_DATA_DIRS like so:\r\n  echo 'export XDG_DATA_DIRS=\"/home/linuxbrew/.linuxbrew/share:$XDG_DATA_DIRS\"' >> ~/.zshrc\r\n```\r\n\r\nThe suggestion would be to let the `shellenv` script also handle the `$XDG_DATA_DIRS` environment variable, e.g.\r\n```sh\r\nif [ -n \"$XDG_DATA_DIRS\" ]; then\r\n    export XDG_DATA_DIRS=\"/home/linuxbrew/.linuxbrew/share:$XDG_DATA_DIRS\"\r\nfi\r\n```\r\n\r\n> \r\n\r\n### What is the motivation for the feature?\r\n\r\nThe `shellenv` script is there to assist the user with the setup of the shell environment. Therefore it might be sensible to also let it handle the `$XDG_DATA_DIRS` environment variable.\r\n\r\n### How will the feature be relevant to at least 90% of Homebrew users?\r\n\r\nThis feature only affects Homebrew users on Linux.\r\n\r\n### What alternatives to the feature have been considered?\r\n\r\nKeeping the situation as it is, i.e. not setting `$XDG_DATA_DIRS` in the `shellenv` script.","closed_by":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/18317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/18317/timeline","performed_via_github_app":null,"state_reason":"completed"}