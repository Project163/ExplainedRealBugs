{"url":"https://api.github.com/repos/Homebrew/brew/issues/14231","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/14231/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/14231/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/14231/events","html_url":"https://github.com/Homebrew/brew/issues/14231","id":1484135551,"node_id":"I_kwDOAyxcHc5Ydhx_","number":14231,"title":"brew commands search and desc errors: wrong number of arguments","user":{"login":"auntchilada","id":9477017,"node_id":"MDQ6VXNlcjk0NzcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/9477017?v=4","gravatar_id":"","url":"https://api.github.com/users/auntchilada","html_url":"https://github.com/auntchilada","followers_url":"https://api.github.com/users/auntchilada/followers","following_url":"https://api.github.com/users/auntchilada/following{/other_user}","gists_url":"https://api.github.com/users/auntchilada/gists{/gist_id}","starred_url":"https://api.github.com/users/auntchilada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auntchilada/subscriptions","organizations_url":"https://api.github.com/users/auntchilada/orgs","repos_url":"https://api.github.com/users/auntchilada/repos","events_url":"https://api.github.com/users/auntchilada/events{/privacy}","received_events_url":"https://api.github.com/users/auntchilada/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2022-12-07T23:06:20Z","updated_at":"2023-01-09T00:06:20Z","closed_at":"2022-12-08T10:29:29Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew gist-logs <formula>` link OR `brew config` AND `brew doctor` output\n\n```shell\n$ brew config\r\n\r\nHOMEBREW_VERSION: 3.6.14-49-g781ffda\r\nORIGIN: https://github.com/Homebrew/brew\r\nHEAD: 781ffdab8e7c1b78351ea88f1eea7d106ecf7266\r\nLast commit: 7 hours ago\r\nCore tap ORIGIN: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: febd37a1e64ad1c5cf9cbcca8cc63ab7c60fe8bf\r\nCore tap last commit: 2 hours ago\r\nCore tap branch: master\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_BAT: set\r\nHOMEBREW_BAT_THEME: ansi\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_CLEANUP_MAX_AGE_DAYS: 15\r\nHOMEBREW_DISPLAY: :0.0\r\nHOMEBREW_EDITOR: /Users/bduart/bin/beditor.sh\r\nHOMEBREW_EVAL_ALL: set\r\nHOMEBREW_MAKE_JOBS: 4\r\nHOMEBREW_NO_AUTO_UPDATE: set\r\nHOMEBREW_NO_COLOR: set\r\nHOMEBREW_NO_INSTALL_CLEANUP: set\r\nHOMEBREW_VERBOSE_USING_DOTS: set\r\nHomebrew Ruby: 2.6.10 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby\r\nCPU: quad-core 64-bit icelake\r\nClang: 14.0.0 build 1400\r\nGit: 2.37.1 => /Applications/Xcode.app/Contents/Developer/usr/bin/git\r\nCurl: 7.85.0 => /usr/bin/curl\r\nmacOS: 13.1-x86_64\r\nCLT: 14.1.0.0.1.1666437224\r\nXcode: 14.1\r\n\r\nnb...\r\n \r\n$ sw_vers \r\n\r\nProductName:\t\tmacOS\r\nProductVersion:\t\t13.1\r\nBuildVersion:\t\t22C5059b\r\n\r\nthis is macOS 13.1 beta 4 (22C5059b)\r\n\r\n# ----------------------------------------\r\n\r\n$ brew doctor\r\n\r\nYour system is ready to brew.\n```\n\n\n### Verification\n\n- [X] I ran `brew update` and am still able to reproduce my issue.\n- [X] I have resolved all warnings from `brew doctor` and that did not fix my problem.\n\n### What were you trying to do (and why)?\n\n### this used to work fine...\r\n\r\n`$ brew search /./ --desc >| filespec`\r\n\r\nthis runs after my brew update/upgrade tool.\r\n\r\nthis would enable me to create a catalog of all homebrew packages, ie, formulae, casks and fonts, with one-line descriptions.\r\n\n\n### What happened (include all command output)?\n\n`$ brew search /./ --desc`\r\n\r\n==> Formulae\r\nError: wrong number of arguments (given 3, expected 4)\r\n/usr/local/Homebrew/Library/Homebrew/descriptions.rb:16:in 'search'\r\n/usr/local/Homebrew/Library/Homebrew/search.rb:28:in 'block in search_descriptions'\r\n/usr/local/Homebrew/Library/Homebrew/cache_store.rb:26:in 'use'\r\n/usr/local/Homebrew/Library/Homebrew/search.rb:26:in 'search_descriptions'\r\n/usr/local/Homebrew/Library/Homebrew/extend/os/mac/search.rb:11:in 'search_descriptions'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/search.rb:85:in 'search'\r\n/usr/local/Homebrew/Library/Homebrew/brew.rb:97:in < main >\r\n\r\n###  a variant would get me formulae but choke on casks...\r\n\r\n`$ brew desc --search /./ `\r\n\r\nError: wrong number of arguments (given 1, expected 0)\r\n/usr/local/Homebrew/Library/Homebrew/description_cache_store.rb:104:in 'populate_if_empty!'\r\n/usr/local/Homebrew/Library/Homebrew/descriptions.rb:17:in 'search'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/desc.rb:88:in 'block in desc'\r\n/usr/local/Homebrew/Library/Homebrew/cache_store.rb:26:in 'use'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/desc.rb:86:in 'desc'\r\n/usr/local/Homebrew/Library/Homebrew/brew.rb:97:in ' < main > '\r\n\r\n==> Formulae\r\na2ps: Any-to-PostScript filter\r\na52dec: Library for decoding ATSC A/52 streams (AKA 'AC-3')\r\naacgain: AAC-supporting version of mp3gain\r\n...\r\nzx: Tool for writing better scripts\r\nzxcc: CP/M 2/3 emulator for cross-compiling and CP/M tools under UNIX\r\nzydis: Fast and lightweight x86/x86_64 disassembler library\r\nzyre: Local Area Clustering for Peer-to-Peer Applications\r\nzzuf: Transparent application input fuzzer\r\nzzz: Command-line tool to put Macs to sleep\r\n\r\n==> Casks\r\n\r\n$\r\n\r\ni  tried what is documented in the brew manpage re _desc and search_ with similar failures\n\n### What did you expect to happen?\n\n\r\n==> Formulae\r\na2ps: Any-to-PostScript filter\r\na52dec: Library for decoding ATSC A/52 streams (AKA 'AC-3')\r\naacgain: AAC-supporting version of mp3gain\r\n...\r\nzx: Tool for writing better scripts\r\nzxcc: CP/M 2/3 emulator for cross-compiling and CP/M tools under UNIX\r\nzydis: Fast and lightweight x86/x86_64 disassembler library\r\nzyre: Local Area Clustering for Peer-to-Peer Applications\r\nzzuf: Transparent application input fuzzer\r\nzzz: Command-line tool to put Macs to sleep\r\n\r\n==> Casks\r\netc...\n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\nbrew search /./ --desc\n```\n","closed_by":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/14231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/14231/timeline","performed_via_github_app":null,"state_reason":"completed"}