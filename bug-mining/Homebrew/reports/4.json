{"url":"https://api.github.com/repos/Homebrew/brew/issues/10909","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/10909/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/10909/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/10909/events","html_url":"https://github.com/Homebrew/brew/issues/10909","id":838190688,"node_id":"MDU6SXNzdWU4MzgxOTA2ODg=","number":10909,"title":"`brew upgrade` ignores `--dry-run` option","user":{"login":"kidonng","id":44045911,"node_id":"MDQ6VXNlcjQ0MDQ1OTEx","avatar_url":"https://avatars.githubusercontent.com/u/44045911?v=4","gravatar_id":"","url":"https://api.github.com/users/kidonng","html_url":"https://github.com/kidonng","followers_url":"https://api.github.com/users/kidonng/followers","following_url":"https://api.github.com/users/kidonng/following{/other_user}","gists_url":"https://api.github.com/users/kidonng/gists{/gist_id}","starred_url":"https://api.github.com/users/kidonng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kidonng/subscriptions","organizations_url":"https://api.github.com/users/kidonng/orgs","repos_url":"https://api.github.com/users/kidonng/repos","events_url":"https://api.github.com/users/kidonng/events{/privacy}","received_events_url":"https://api.github.com/users/kidonng/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":{"login":"Bo98","id":1190754,"node_id":"MDQ6VXNlcjExOTA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1190754?v=4","gravatar_id":"","url":"https://api.github.com/users/Bo98","html_url":"https://github.com/Bo98","followers_url":"https://api.github.com/users/Bo98/followers","following_url":"https://api.github.com/users/Bo98/following{/other_user}","gists_url":"https://api.github.com/users/Bo98/gists{/gist_id}","starred_url":"https://api.github.com/users/Bo98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bo98/subscriptions","organizations_url":"https://api.github.com/users/Bo98/orgs","repos_url":"https://api.github.com/users/Bo98/repos","events_url":"https://api.github.com/users/Bo98/events{/privacy}","received_events_url":"https://api.github.com/users/Bo98/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"Bo98","id":1190754,"node_id":"MDQ6VXNlcjExOTA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1190754?v=4","gravatar_id":"","url":"https://api.github.com/users/Bo98","html_url":"https://github.com/Bo98","followers_url":"https://api.github.com/users/Bo98/followers","following_url":"https://api.github.com/users/Bo98/following{/other_user}","gists_url":"https://api.github.com/users/Bo98/gists{/gist_id}","starred_url":"https://api.github.com/users/Bo98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bo98/subscriptions","organizations_url":"https://api.github.com/users/Bo98/orgs","repos_url":"https://api.github.com/users/Bo98/repos","events_url":"https://api.github.com/users/Bo98/events{/privacy}","received_events_url":"https://api.github.com/users/Bo98/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-03-22T23:42:44Z","updated_at":"2021-04-23T00:06:55Z","closed_at":"2021-03-23T01:22:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew config` output\r\n\r\n```shell\r\nHOMEBREW_VERSION: 3.0.8-12-g28b1765\r\nORIGIN: https://github.com/Homebrew/brew\r\nHEAD: 28b176567992f8d323d73a0a1367d8239e34e8a4\r\nLast commit: 42 minutes ago\r\nCore tap ORIGIN: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: 76f9b4a0c3d48200edd075343103b24c8bebe53c\r\nCore tap last commit: 19 minutes ago\r\nCore tap branch: master\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_BOTTLE_DOMAIN: https://mirrors.ustc.edu.cn/homebrew-bottles\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_EDITOR: nvim\r\nHOMEBREW_MAKE_JOBS: 8\r\nHomebrew Ruby: 2.6.3 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby\r\nCPU: octa-core 64-bit kabylake\r\nClang: 12.0 build 1200\r\nGit: 2.31.0 => /usr/local/bin/git\r\nCurl: 7.64.1 => /usr/bin/curl\r\nmacOS: 11.3-x86_64\r\nCLT: 12.0.32.29\r\nXcode: N/A\r\n```\r\n\r\n\r\n### `brew doctor` output\r\n\r\n```shell\r\nYour system is ready to brew.\r\n```\r\n\r\n\r\n### \r\n\r\n- [X] The `brew doctor` above contains no \"Warning\" lines.\r\n\r\n### What were you trying to do (and why)?\r\n\r\nChecking outdated formulae and casks by `brew upgrade --greedy --dry-run`.\r\n\r\n### What happened (include all command output)?\r\n\r\nHomebrew starts to upgrade packages.\r\n\r\n### What did you expect to happen?\r\n\r\nHomebrew should not do upgrades with `--dry-run`.\r\n\r\n### Step-by-step reproduction instructions (by running `brew` commands)\r\n\r\n```shell\r\n1. Have at least one outdated formula\r\n2. Run `brew upgrade --dry-run`\r\n```\r\n\r\n---\r\n\r\nThis is introduced in #10880:\r\n\r\n![image](https://user-images.githubusercontent.com/44045911/112071839-988d5600-8bab-11eb-9d38-8934c7d43672.png)\r\n\r\n(**EDIT last screenshot is wrong**)","closed_by":{"login":"Bo98","id":1190754,"node_id":"MDQ6VXNlcjExOTA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1190754?v=4","gravatar_id":"","url":"https://api.github.com/users/Bo98","html_url":"https://github.com/Bo98","followers_url":"https://api.github.com/users/Bo98/followers","following_url":"https://api.github.com/users/Bo98/following{/other_user}","gists_url":"https://api.github.com/users/Bo98/gists{/gist_id}","starred_url":"https://api.github.com/users/Bo98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bo98/subscriptions","organizations_url":"https://api.github.com/users/Bo98/orgs","repos_url":"https://api.github.com/users/Bo98/repos","events_url":"https://api.github.com/users/Bo98/events{/privacy}","received_events_url":"https://api.github.com/users/Bo98/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/10909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/10909/timeline","performed_via_github_app":null,"state_reason":"completed"}