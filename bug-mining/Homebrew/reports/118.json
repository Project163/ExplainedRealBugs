{"url":"https://api.github.com/repos/Homebrew/brew/issues/19294","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/19294/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/19294/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/19294/events","html_url":"https://github.com/Homebrew/brew/issues/19294","id":2848897197,"node_id":"I_kwDOAyxcHc6pzrit","number":19294,"title":"Brew info reports an incorrect formula URL from a tap","user":{"login":"jasonkarns","id":119972,"node_id":"MDQ6VXNlcjExOTk3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/119972?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonkarns","html_url":"https://github.com/jasonkarns","followers_url":"https://api.github.com/users/jasonkarns/followers","following_url":"https://api.github.com/users/jasonkarns/following{/other_user}","gists_url":"https://api.github.com/users/jasonkarns/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonkarns/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonkarns/subscriptions","organizations_url":"https://api.github.com/users/jasonkarns/orgs","repos_url":"https://api.github.com/users/jasonkarns/repos","events_url":"https://api.github.com/users/jasonkarns/events{/privacy}","received_events_url":"https://api.github.com/users/jasonkarns/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":576922522,"node_id":"MDU6TGFiZWw1NzY5MjI1MjI=","url":"https://api.github.com/repos/Homebrew/brew/labels/stale","name":"stale","color":"964B00","default":false,"description":"No recent activity"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2025-02-12T17:16:35Z","updated_at":"2025-05-14T00:17:10Z","closed_at":"2025-05-14T00:17:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew doctor` output\n\n```shell\n$ brew doctor\nYour system is ready to brew.\n```\n\n### Verification\n\n- [x] My \"`brew doctor` output\" above says `Your system is ready to brew.` and am still able to reproduce my issue.\n- [x] I ran `brew update` twice and am still able to reproduce my issue.\n- [x] This issue's title and/or description do not reference a single formula e.g. `brew install wget`. If they do, open an issue at https://github.com/Homebrew/homebrew-core/issues/new/choose instead.\n\n### `brew config` output\n\n```shell\nHOMEBREW_VERSION: 4.4.20\nORIGIN: https://github.com/Homebrew/brew\nHEAD: 47ef1a3b0b742a78be35c016df6a0279d6035ebb\nLast commit: 9 days ago\nBranch: stable\nCore tap JSON: 12 Feb 17:09 UTC\nCore cask tap JSON: 12 Feb 17:09 UTC\nHOMEBREW_PREFIX: /opt/homebrew\nHOMEBREW_BUNDLE_USER_CACHE: /Users/jason.karns/.cache/bundler\nHOMEBREW_CASK_OPTS: []\nHOMEBREW_EDITOR: vim\nHOMEBREW_GITHUB_API_TOKEN: set\nHOMEBREW_MAKE_JOBS: 12\nHOMEBREW_SORBET_RUNTIME: set\nHOMEBREW_UPDATE_TO_TAG: set\nHomebrew Ruby: 3.3.7 => /opt/homebrew/Library/Homebrew/vendor/portable-ruby/3.3.7/bin/ruby\nCPU: dodeca-core 64-bit arm_blizzard_avalanche\nClang: 16.0.0 build 1600\nGit: 2.48.1 => /opt/homebrew/bin/git\nCurl: 8.7.1 => /usr/bin/curl\nmacOS: 15.3-arm64\nCLT: 16.2.0.0.1.1733547573\nXcode: 16.2\nRosetta 2: false\n```\n\n### What were you trying to do (and why)?\n\nI was trying to find the url for a formula that i have installed in order to share it with colleagues.\n\nThe utility I wanted to share was `git-sync`, but the one I have installed is from a tap, not core. There is a conflicting formula on core titled `git-sync`.\n\n### What happened (include all command output)?\n\nI ran:\n\n```\n$ brew info git-sync\n==> git-sync: stable 4.4.0 (bottled), HEAD\nClones a git repository and keeps it synchronized with the upstream\nhttps://github.com/kubernetes/git-sync\nConflicts with:\n  git-extras (because both install `git-sync` binaries)\nInstalled\n/opt/homebrew/Cellar/git-sync/1.0.0 (7 files, 1.8MB) *\n  Built from source on 2025-02-12 at 12:07:43\nFrom: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/g/git-sync.rb\nLicense: Apache-2.0\n==> Dependencies\nBuild: go ✘\nRequired: coreutils ✔\n==> Options\n--HEAD\n\tInstall HEAD version\n==> Analytics\ninstall: 44 (30 days), 81 (90 days), 331 (365 days)\ninstall-on-request: 44 (30 days), 82 (90 days), 331 (365 days)\nbuild-error: 0 (30 days)\n```\n\nTo get the formula URL. But I know this to be _not_ the formula that I have installed. Despite `brew info` reporting that it _is_ installed.\n\nI eventually found the tap formula and was able to reproduce the bug whereby brew reports a formula as installed that is decidedly not installed.\n\n### What did you expect to happen?\n\nI expected `brew info git-sync` to perhaps include a note that a conflicting formula (from a tap) is already installed. But at the very least, I expected `brew info git-sync` to tell me that it was _not_ installed because the core formula is indeed not installed. In addition to it incorrectly stating it's installed, it even gives installation date/method that are from the _tap's_ formula, not the core formula.\n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\n1. Ensure it's not installed: `brew rm git-sync`\n2. Inspect that brew says it's not installed: `brew info git-sync`\n3. Install from the tap: `brew install jacobwgillespie/tap/git-sync`\n4. See that brew now incorrectly reports git-sync installed: `brew info git-sync`\n```","closed_by":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/19294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/19294/timeline","performed_via_github_app":null,"state_reason":"not_planned"}