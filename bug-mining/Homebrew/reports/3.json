{"url":"https://api.github.com/repos/Homebrew/brew/issues/10906","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/10906/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/10906/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/10906/events","html_url":"https://github.com/Homebrew/brew/issues/10906","id":838125376,"node_id":"MDU6SXNzdWU4MzgxMjUzNzY=","number":10906,"title":"`brew uses --installed` causes error about `appdir`","user":{"login":"wickles","id":4229542,"node_id":"MDQ6VXNlcjQyMjk1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/4229542?v=4","gravatar_id":"","url":"https://api.github.com/users/wickles","html_url":"https://github.com/wickles","followers_url":"https://api.github.com/users/wickles/followers","following_url":"https://api.github.com/users/wickles/following{/other_user}","gists_url":"https://api.github.com/users/wickles/gists{/gist_id}","starred_url":"https://api.github.com/users/wickles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wickles/subscriptions","organizations_url":"https://api.github.com/users/wickles/orgs","repos_url":"https://api.github.com/users/wickles/repos","events_url":"https://api.github.com/users/wickles/events{/privacy}","received_events_url":"https://api.github.com/users/wickles/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-22T21:32:39Z","updated_at":"2021-04-22T00:07:37Z","closed_at":"2021-03-22T22:56:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew config` output\r\n\r\n```shell\r\n> % brew config\r\nHOMEBREW_VERSION: 3.0.8-10-g555e936\r\nORIGIN: https://github.com/Homebrew/brew.git\r\nHEAD: 555e9365f913b4099a036cd889e27a4d28b6a580\r\nLast commit: 5 hours ago\r\nCore tap ORIGIN: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: 29a6d7d9c921dafaf2ff595655df391993ea69c2\r\nCore tap last commit: 2 hours ago\r\nCore tap branch: master\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_DISPLAY: /private/tmp/com.apple.launchd.zonYmET1lo/org.xquartz:0\r\nHOMEBREW_EDITOR: vim\r\nHOMEBREW_GITHUB_API_TOKEN: set\r\nHOMEBREW_MAKE_JOBS: 4\r\nHomebrew Ruby: 2.6.3 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby\r\nCPU: quad-core 64-bit haswell\r\nClang: 12.0 build 1200\r\nGit: 2.31.0 => /usr/local/bin/git\r\nCurl: 7.64.1 => /usr/bin/curl\r\nmacOS: 11.2.3-x86_64\r\nCLT: 12.4.0.0.1.1610135815\r\nXcode: N/A\r\n```\r\n\r\n\r\n### `brew doctor` output\r\n\r\n```shell\r\n> % brew doctor\r\nPlease note that these warnings are just used to help the Homebrew maintainers\r\nwith debugging if you file an issue. If everything you use Homebrew for is\r\nworking fine: please don't worry or file an issue; just ignore this. Thanks!\r\n\r\nWarning: Some installed formulae are deprecated or disabled.\r\nYou should find replacements for the following formulae:\r\n  archivemount\r\n\r\nWarning: \"config\" scripts exist outside your system or Homebrew directories.\r\n`./configure` scripts often look for *-config scripts to determine if\r\nsoftware packages are installed, and which additional flags to use when\r\ncompiling and linking.\r\n\r\nHaving additional scripts in your path can confuse software installed via\r\nHomebrew if the config script overrides a system or Homebrew-provided\r\nscript of the same name. We found the following \"config\" scripts:\r\n  /usr/local/pspdev/bin/psp-config\r\n\r\nWarning: You have unlinked kegs in your Cellar.\r\nLeaving kegs unlinked can lead to build-trouble and cause formulae that depend on\r\nthose kegs to fail to run properly once built. Run `brew link` on these:\r\n  qt\r\n  glew\r\n\r\nWarning: Homebrew's \"sbin\" was not found in your PATH but you have installed\r\nformulae that put executables in /usr/local/sbin.\r\nConsider setting your PATH for example like so:\r\n  echo 'export PATH=\"/usr/local/sbin:$PATH\"' >> ~/.zshrc\r\n```\r\n\r\n\r\n### \r\n\r\n- [X] The `brew doctor` above contains no \"Warning\" lines.\r\n\r\n### What were you trying to do (and why)?\r\n\r\nCheck which installed formulae use a formula, so I can deal with the results. \r\n\r\nA few warnings exist in my `brew doctor` but do not appear to be pertinent. \r\n\r\n### What happened (include all command output)?\r\n\r\n`brew uses <formula>` works as expected. `brew uses --installed <formula>` produces an error. \r\n\r\n```\r\n> % brew uses xmlto\r\nshared-mime-info\r\n> % brew uses --installed xmlto\r\nError: CLI arg for `appdir` is not declared for this command\r\nPlease report this issue:\r\n  https://docs.brew.sh/Troubleshooting\r\n/usr/local/Homebrew/Library/Homebrew/cli/args.rb:147:in `method_missing'\r\n/usr/local/Homebrew/Library/Homebrew/cask/config.rb:45:in `from_args'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/uses.rb:96:in `intersection_of_dependents'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/uses.rb:74:in `uses'\r\n/usr/local/Homebrew/Library/Homebrew/brew.rb:122:in `<main>'\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nIt work; not error. \r\n\r\n### Step-by-step reproduction instructions (by running `brew` commands)\r\n\r\n```shell\r\nbrew uses --installed <formula>\r\n```\r\n","closed_by":{"login":"Bo98","id":1190754,"node_id":"MDQ6VXNlcjExOTA3NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1190754?v=4","gravatar_id":"","url":"https://api.github.com/users/Bo98","html_url":"https://github.com/Bo98","followers_url":"https://api.github.com/users/Bo98/followers","following_url":"https://api.github.com/users/Bo98/following{/other_user}","gists_url":"https://api.github.com/users/Bo98/gists{/gist_id}","starred_url":"https://api.github.com/users/Bo98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bo98/subscriptions","organizations_url":"https://api.github.com/users/Bo98/orgs","repos_url":"https://api.github.com/users/Bo98/repos","events_url":"https://api.github.com/users/Bo98/events{/privacy}","received_events_url":"https://api.github.com/users/Bo98/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/10906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/10906/timeline","performed_via_github_app":null,"state_reason":"completed"}