{"url":"https://api.github.com/repos/Homebrew/brew/issues/13241","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/13241/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/13241/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/13241/events","html_url":"https://github.com/Homebrew/brew/issues/13241","id":1224978950,"node_id":"I_kwDOAyxcHc5JA7IG","number":13241,"title":"brew info --all fails with deprecation notice","user":{"login":"SMillerDev","id":1484494,"node_id":"MDQ6VXNlcjE0ODQ0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1484494?v=4","gravatar_id":"","url":"https://api.github.com/users/SMillerDev","html_url":"https://github.com/SMillerDev","followers_url":"https://api.github.com/users/SMillerDev/followers","following_url":"https://api.github.com/users/SMillerDev/following{/other_user}","gists_url":"https://api.github.com/users/SMillerDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SMillerDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SMillerDev/subscriptions","organizations_url":"https://api.github.com/users/SMillerDev/orgs","repos_url":"https://api.github.com/users/SMillerDev/repos","events_url":"https://api.github.com/users/SMillerDev/events{/privacy}","received_events_url":"https://api.github.com/users/SMillerDev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-05-04T06:41:28Z","updated_at":"2022-06-04T00:06:59Z","closed_at":"2022-05-04T09:06:39Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew config` output\n\n```shell\nHOMEBREW_VERSION: 3.4.10-20-gd379989\r\nORIGIN: https://github.com/Homebrew/brew.git\r\nHEAD: d3799896ae265a68d8a565f71c501e7b848ca026\r\nLast commit: 12 hours ago\r\nCore tap ORIGIN: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: d0bc0dd587066d5683f38f3c462503b09b0217d1\r\nCore tap last commit: 15 hours ago\r\nCore tap branch: feature/plist/socket_keepalive\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_CORE_GIT_REMOTE: https://github.com/Homebrew/homebrew-core\r\nHOMEBREW_DEVELOPER: set\r\nHOMEBREW_EDITOR: nano\r\nHOMEBREW_GITHUB_API_TOKEN: set\r\nHOMEBREW_MAKE_JOBS: 8\r\nHOMEBREW_NO_ENV_HINTS: set\r\nHomebrew Ruby: 2.6.8 => /usr/local/Homebrew/Library/Homebrew/vendor/portable-ruby/2.6.8/bin/ruby\r\nCPU: octa-core 64-bit kabylake\r\nClang: 13.1.6 build 1316\r\nGit: 2.36.0 => /usr/local/bin/git\r\nCurl: 7.79.1 => /usr/bin/curl\r\nmacOS: 12.4-x86_64\r\nCLT: 13.3.1.0.1.1648687083\r\nXcode: 13.3.1 => /Applications/Xcode_13.3.1.app/Contents/Developer\n```\n\n\n### `brew doctor` output\n\n```shell\nï»¿Please note that these warnings are just used to help the Homebrew maintainers\r\nwith debugging if you file an issue. If everything you use Homebrew for is\r\nworking fine: please don't worry or file an issue; just ignore this. Thanks!\r\n\r\nWarning: Some installed formulae are deprecated or disabled.\r\nYou should find replacements for the following formulae:\r\n  docker-machine\r\n  php@7.4\r\n\r\nWarning: Unbrewed dylibs were found in /usr/local/lib.\r\nIf you didn't put them there on purpose they could cause problems when\r\nbuilding Homebrew formulae, and may need to be deleted.\r\n\r\nUnexpected dylibs:\r\n  /usr/local/lib/libclamav.9.dylib\r\n  /usr/local/lib/libclammspack.0.dylib\r\n  /usr/local/lib/libclamunrar.9.dylib\r\n  /usr/local/lib/libfreshclam.2.dylib\r\n\r\nWarning: Unbrewed header files were found in /usr/local/include.\r\nIf you didn't put them there on purpose they could cause problems when\r\nbuilding Homebrew formulae, and may need to be deleted.\r\n\r\nUnexpected header files:\r\n  /usr/local/include/clamav-types.h\r\n  /usr/local/include/clamav-version.h\r\n  /usr/local/include/clamav.h\r\n  /usr/local/include/libfreshclam.h\r\n\r\nWarning: Unbrewed '.la' files were found in /usr/local/lib.\r\nIf you didn't put them there on purpose they could cause problems when\r\nbuilding Homebrew formulae, and may need to be deleted.\r\n\r\nUnexpected '.la' files:\r\n  /usr/local/lib/libclamav.la\r\n  /usr/local/lib/libclammspack.la\r\n  /usr/local/lib/libclamunrar.la\r\n  /usr/local/lib/libclamunrar_iface.la\r\n  /usr/local/lib/libfreshclam.la\r\n\r\nWarning: You have unlinked kegs in your Cellar.\r\nLeaving kegs unlinked can lead to build-trouble and cause formulae that depend on\r\nthose kegs to fail to run properly once built. Run `brew link` on these:\r\n  php\r\n\r\nWarning: Some taps are not on the default git origin branch and may not receive\r\nupdates. If this is a surprise to you, check out the default branch with:\r\n  git -C $(brew --repo homebrew/core) checkout master\n```\n\n\n### Verification\n\n- [X] I ran `brew update` and am still able to reproduce my issue.\n- [X] I have resolved all warnings from `brew doctor` and that did not fix my problem.\n\n### What were you trying to do (and why)?\n\nGet all formula info in JSON format to reproduce https://github.com/orgs/Homebrew/discussions/3235\n\n### What happened (include all command output)?\n\nAn error was shown:\r\n```\r\nbrew info --json=v2 --all\r\nError: Calling `Enumerable` methods on `Formula` is deprecated! Use `Formula.all` (but avoid looping over all formulae, it's slow and insecure) instead.\r\n```\n\n### What did you expect to happen?\n\nNo errors, preferably JSON output\n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\nbrew info --json=v2 --all\n```\n","closed_by":{"login":"carlocab","id":30379873,"node_id":"MDQ6VXNlcjMwMzc5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/30379873?v=4","gravatar_id":"","url":"https://api.github.com/users/carlocab","html_url":"https://github.com/carlocab","followers_url":"https://api.github.com/users/carlocab/followers","following_url":"https://api.github.com/users/carlocab/following{/other_user}","gists_url":"https://api.github.com/users/carlocab/gists{/gist_id}","starred_url":"https://api.github.com/users/carlocab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlocab/subscriptions","organizations_url":"https://api.github.com/users/carlocab/orgs","repos_url":"https://api.github.com/users/carlocab/repos","events_url":"https://api.github.com/users/carlocab/events{/privacy}","received_events_url":"https://api.github.com/users/carlocab/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/13241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/13241/timeline","performed_via_github_app":null,"state_reason":"completed"}