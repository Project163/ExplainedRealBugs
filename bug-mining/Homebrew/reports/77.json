{"url":"https://api.github.com/repos/Homebrew/brew/issues/15965","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/15965/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/15965/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/15965/events","html_url":"https://github.com/Homebrew/brew/issues/15965","id":1882639982,"node_id":"I_kwDOAyxcHc5wNs5u","number":15965,"title":"Error: undefined method `curl_output' for GitHub:Module","user":{"login":"Qyriad","id":1542224,"node_id":"MDQ6VXNlcjE1NDIyMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1542224?v=4","gravatar_id":"","url":"https://api.github.com/users/Qyriad","html_url":"https://github.com/Qyriad","followers_url":"https://api.github.com/users/Qyriad/followers","following_url":"https://api.github.com/users/Qyriad/following{/other_user}","gists_url":"https://api.github.com/users/Qyriad/gists{/gist_id}","starred_url":"https://api.github.com/users/Qyriad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Qyriad/subscriptions","organizations_url":"https://api.github.com/users/Qyriad/orgs","repos_url":"https://api.github.com/users/Qyriad/repos","events_url":"https://api.github.com/users/Qyriad/events{/privacy}","received_events_url":"https://api.github.com/users/Qyriad/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-09-05T20:02:16Z","updated_at":"2023-10-07T00:06:22Z","closed_at":"2023-09-05T21:21:55Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew doctor` output\n\n```shell\nYour system is ready to brew.\n```\n\n\n### Verification\n\n- [X] My \"`brew doctor` output\" above says `Your system is ready to brew.` and am still able to reproduce my issue.\n- [X] I ran `brew update` twice and am still able to reproduce my issue.\n- [X] This issue's title and/or description do not reference a single formula e.g. `brew install wget`. If they do, open an issue at https://github.com/Homebrew/homebrew-core/issues/new/choose instead.\n\n### `brew config` output\n\n```shell\nHOMEBREW_VERSION: 4.1.8-24-ge93d560\r\nORIGIN: https://github.com/Homebrew/brew\r\nHEAD: e93d56008d5a7d5769d78e749726fb011b393f5c\r\nLast commit: 3 hours ago\r\nCore tap origin: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: 47067c42aaa99711f8babbc73bdd7d39c36ae05c\r\nCore tap last commit: 3 hours ago\r\nCore tap branch: master\r\nCore tap JSON: 05 Sep 17:06 UTC\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_BOOTSNAP: set\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_DISPLAY_INSTALL_TIMES: set\r\nHOMEBREW_EDITOR: /usr/local/bin/nvim\r\nHOMEBREW_MAKE_JOBS: 6\r\nHOMEBREW_NO_AUTO_UPDATE: set\r\nHOMEBREW_SORBET_RUNTIME: set\r\nHomebrew Ruby: 2.6.10 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby\r\nCPU: hexa-core 64-bit kabylake\r\nClang: 14.0.3 build 1403\r\nGit: 2.42.0 => /usr/local/bin/git\r\nCurl: 7.88.1 => /usr/bin/curl\r\nmacOS: 13.4.1-x86_64\r\nCLT: 14.3.1.0.1.1683849156\r\nXcode: 14.3.1\n```\n\n\n### What were you trying to do (and why)?\n\nUpgrade `HEAD` formulae, with `brew upgrade --formulae --fetch-HEAD` (non-HEAD upgrades work fine).\n\n### What happened (include all command output)?\n\nHomebrew errored with:\r\n```\r\nError: undefined method `curl_output' for GitHub:Module\r\nDo not report this issue until you've run `brew update` and tried again.\r\n/usr/local/Homebrew/Library/Homebrew/utils/github.rb:731:in `last_commit'\r\n/usr/local/Homebrew/Library/Homebrew/download_strategy.rb:1117:in `commit_outdated?'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:660:in `block in head_version_outdated?'\r\n/usr/local/Homebrew/Library/Homebrew/context.rb:72:in `with_context'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:659:in `head_version_outdated?'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1512:in `outdated_kegs'\r\n/usr/local/Homebrew/Library/Homebrew/formula.rb:1571:in `outdated?'\r\n/usr/local/Homebrew/Library/Homebrew/vendor/bundle/ruby/2.6.0/gems/sorbet-runtime-0.5.10461/lib/types/private/methods/call_validation.rb:157:in `call'\r\n/usr/local/Homebrew/Library/Homebrew/vendor/bundle/ruby/2.6.0/gems/sorbet-runtime-0.5.10461/lib/types/private/methods/call_validation.rb:157:in `validate_call'\r\n/usr/local/Homebrew/Library/Homebrew/vendor/bundle/ruby/2.6.0/gems/sorbet-runtime-0.5.10461/lib/types/private/methods/call_validation.rb:89:in `block in create_validator_slow'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/upgrade.rb:163:in `block in upgrade_outdated_formulae'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/upgrade.rb:162:in `select'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/upgrade.rb:162:in `upgrade_outdated_formulae'\r\n/usr/local/Homebrew/Library/Homebrew/cmd/upgrade.rb:136:in `upgrade'\r\n/usr/local/Homebrew/Library/Homebrew/brew.rb:94:in `<main>'\r\n```\r\nAttached is the same error, but with `--debug`: [homebrew_curl_error.log](https://github.com/Homebrew/brew/files/12527937/homebrew_curl_error.log)\n\n### What did you expect to happen?\n\nFormulae to upgrade correctly, or an error message indicating which formula caused the error.\n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\n$ brew upgrade --formulae --fetch-HEAD\n```\n","closed_by":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/15965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/15965/timeline","performed_via_github_app":null,"state_reason":"completed"}