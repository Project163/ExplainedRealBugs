{"url":"https://api.github.com/repos/Homebrew/brew/issues/12813","repository_url":"https://api.github.com/repos/Homebrew/brew","labels_url":"https://api.github.com/repos/Homebrew/brew/issues/12813/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/brew/issues/12813/comments","events_url":"https://api.github.com/repos/Homebrew/brew/issues/12813/events","html_url":"https://github.com/Homebrew/brew/issues/12813","id":1119714571,"node_id":"I_kwDOAyxcHc5CvX0L","number":12813,"title":"re-install message for cask missing --cask flag","user":{"login":"ChrisOrlando","id":201175,"node_id":"MDQ6VXNlcjIwMTE3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/201175?v=4","gravatar_id":"","url":"https://api.github.com/users/ChrisOrlando","html_url":"https://github.com/ChrisOrlando","followers_url":"https://api.github.com/users/ChrisOrlando/followers","following_url":"https://api.github.com/users/ChrisOrlando/following{/other_user}","gists_url":"https://api.github.com/users/ChrisOrlando/gists{/gist_id}","starred_url":"https://api.github.com/users/ChrisOrlando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChrisOrlando/subscriptions","organizations_url":"https://api.github.com/users/ChrisOrlando/orgs","repos_url":"https://api.github.com/users/ChrisOrlando/repos","events_url":"https://api.github.com/users/ChrisOrlando/events{/privacy}","received_events_url":"https://api.github.com/users/ChrisOrlando/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":922544989,"node_id":"MDU6TGFiZWw5MjI1NDQ5ODk=","url":"https://api.github.com/repos/Homebrew/brew/labels/outdated","name":"outdated","color":"d93f0b","default":false,"description":"PR was locked due to age"}],"state":"closed","locked":true,"assignee":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-01-31T17:20:08Z","updated_at":"2022-03-04T00:06:05Z","closed_at":"2022-02-01T09:06:51Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### `brew config` output\n\n```shell\nHOMEBREW_VERSION: 3.3.13-4-g7c0b8a5\r\nORIGIN: https://github.com/Homebrew/brew\r\nHEAD: 7c0b8a5c61db04a74353afe0127fb26dabe9bc60\r\nLast commit: 5 hours ago\r\nCore tap ORIGIN: https://github.com/Homebrew/homebrew-core\r\nCore tap HEAD: 4ddf7ab726ca4fc4af214625f131abec4067abb5\r\nCore tap last commit: 5 minutes ago\r\nCore tap branch: master\r\nHOMEBREW_PREFIX: /usr/local\r\nHOMEBREW_CASK_OPTS: []\r\nHOMEBREW_CORE_GIT_REMOTE: https://github.com/Homebrew/homebrew-core\r\nHOMEBREW_EDITOR: /usr/bin/vim\r\nHOMEBREW_GITHUB_API_TOKEN: set\r\nHOMEBREW_MAKE_JOBS: 8\r\nHomebrew Ruby: 2.6.8 => /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby\r\nCPU: octa-core 64-bit icelake\r\nClang: 13.0.0 build 1300\r\nGit: 2.35.1 => /usr/local/bin/git\r\nCurl: 7.77.0 => /usr/bin/curl\r\nmacOS: 12.1-x86_64\r\nCLT: 13.2.0.0.1.1638488800\r\nXcode: N/A\n```\n\n\n### `brew doctor` output\n\n```shell\nPlease note that these warnings are just used to help the Homebrew maintainers\r\nwith debugging if you file an issue. If everything you use Homebrew for is\r\nworking fine: please don't worry or file an issue; just ignore this. Thanks!\r\n\r\nWarning: You have unlinked kegs in your Cellar.\r\nLeaving kegs unlinked can lead to build-trouble and cause formulae that depend on\r\nthose kegs to fail to run properly once built. Run `brew link` on these:\r\n  docker\r\n\r\nWarning: Broken symlinks were found. Remove them with `brew cleanup`:\r\n  /usr/local/bin/com.docker.cli\r\n  /usr/local/bin/docker-compose-v1\r\n  /usr/local/bin/docker-credential-ecr-login\r\n  /usr/local/bin/hub-tool\r\n  /usr/local/lib/docker/cli-plugins\n```\n\n\n### Verification\n\n- [X] I ran `brew update` and am still able to reproduce my issue.\n- [X] I have resolved all warnings from `brew doctor` and that did not fix my problem.\n\n### What were you trying to do (and why)?\n\nTrying to remove the 'docker' cask, which failed, then I tried to install it to try to remove it again.\r\n\r\nWithin homebrew, `docker` exists as both a cask and a normal formula. Attemping to install the cask when it's already installed prompts to run `brew reinstall docker` when it should prompt for `brew reinstall --cask docker`\n\n### What happened (include all command output)?\n\nbrew install --cask docker prompts the user to run `brew reinstall docker` when it should say `brew reinstall --cask docker`\r\n\r\n```\r\n[corlando@macbook:~]$ brew install --cask docker\r\nRunning `brew update --preinstall`...\r\n==> Auto-updated Homebrew!\r\nUpdated 1 tap (homebrew/core).\r\n==> Updated Formulae\r\nUpdated 3 formulae.\r\n\r\nWarning: Cask 'docker' is already installed.\r\n\r\nTo re-install docker, run:\r\n  brew reinstall docker\r\n```\r\n\r\nrunning `brew reinstall docker` attempts to reinstall the formula, not the cask:\r\n```\r\n[corlando@macbook:~]$ brew reinstall docker\r\nWarning: Treating docker as a formula. For the cask, use homebrew/cask/docker\r\n```\n\n### What did you expect to happen?\n\nI expected the message to tell me to `brew reinstall --cask docker`\n\n### Step-by-step reproduction instructions (by running `brew` commands)\n\n```shell\n# install the cask\r\nbrew install --cask docker\r\n# try to install it again\r\nbrew install --cask docker\r\n\r\nYou will then be prompted with the error message suggesting `brew reinstall docker`\n```\n","closed_by":{"login":"MikeMcQuaid","id":125011,"node_id":"MDQ6VXNlcjEyNTAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/125011?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeMcQuaid","html_url":"https://github.com/MikeMcQuaid","followers_url":"https://api.github.com/users/MikeMcQuaid/followers","following_url":"https://api.github.com/users/MikeMcQuaid/following{/other_user}","gists_url":"https://api.github.com/users/MikeMcQuaid/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeMcQuaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeMcQuaid/subscriptions","organizations_url":"https://api.github.com/users/MikeMcQuaid/orgs","repos_url":"https://api.github.com/users/MikeMcQuaid/repos","events_url":"https://api.github.com/users/MikeMcQuaid/events{/privacy}","received_events_url":"https://api.github.com/users/MikeMcQuaid/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Homebrew/brew/issues/12813/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/Homebrew/brew/issues/12813/timeline","performed_via_github_app":null,"state_reason":"completed"}