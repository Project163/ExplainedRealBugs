diff --git a/Library/Homebrew/extend/os/linux/diagnostic.rb b/Library/Homebrew/extend/os/linux/diagnostic.rb
index d3d46cd79c..3971c62a65 100644
--- a/Library/Homebrew/extend/os/linux/diagnostic.rb
+++ b/Library/Homebrew/extend/os/linux/diagnostic.rb
@@ -144,6 +144,7 @@ module Homebrew
         gcc_dependents = Formula.installed.select do |formula|
           next false unless formula.tap&.core_tap?
 
+          # FIXME: This includes formulae that have no runtime dependency on GCC.
           formula.recursive_dependencies.map(&:name).include? "gcc"
         rescue TapFormulaUnavailableError
           false
@@ -153,7 +154,7 @@ module Homebrew
         badly_linked = gcc_dependents.select do |dependent|
           keg = Keg.new(dependent.prefix)
           keg.binary_executable_or_library_files.any? do |binary|
-            paths = binary.rpath.split(":")
+            paths = binary.rpaths
             versioned_linkage = paths.any? { |path| path.match?(%r{lib/gcc/\d+$}) }
             unversioned_linkage = paths.any? { |path| path.match?(%r{lib/gcc/current$}) }
 
diff --git a/Library/Homebrew/os/linux/elf.rb b/Library/Homebrew/os/linux/elf.rb
index 73dd1b016e..67589cf6ac 100644
--- a/Library/Homebrew/os/linux/elf.rb
+++ b/Library/Homebrew/os/linux/elf.rb
@@ -97,7 +97,7 @@ module ELFShim
   # An array of runtime search path entries, such as:
   # ["/lib", "/usr/lib", "/usr/local/lib"]
   def rpaths
-    rpath.split(":")
+    rpath&.split(":").to_a
   end
 
   def interpreter
