diff --git a/Library/Homebrew/bundle/go_dumper.rb b/Library/Homebrew/bundle/go_dumper.rb
index 035f3a0454..8c32b934e4 100644
--- a/Library/Homebrew/bundle/go_dumper.rb
+++ b/Library/Homebrew/bundle/go_dumper.rb
@@ -14,6 +14,8 @@ module Homebrew
         @packages ||= T.let(nil, T.nilable(T::Array[String]))
         @packages ||= if Bundle.go_installed?
           go = Bundle.which_go
+          ENV["GOBIN"] = ENV.fetch("HOMEBREW_GOBIN", nil)
+          ENV["GOPATH"] = ENV.fetch("HOMEBREW_GOPATH", nil)
           gobin = `#{go} env GOBIN`.chomp
           gopath = `#{go} env GOPATH`.chomp
           bin_dir = gobin.empty? ? "#{gopath}/bin" : gobin
diff --git a/bin/brew b/bin/brew
index 5a0aed1331..1003190bad 100755
--- a/bin/brew
+++ b/bin/brew
@@ -200,6 +200,8 @@ USED_BY_HOMEBREW_VARS=(
   CODESPACES
   COLORTERM
   DBUS_SESSION_BUS_ADDRESS
+  GOBIN
+  GOPATH
   NODENV_ROOT
   PATH
   PYENV_ROOT
