<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:27:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-775] In the ListPopulation constructor, the check for a negative populationLimit should occur first.</title>
                <link>https://issues.apache.org/jira/browse/MATH-775</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;In the ListPopulation constructor, the check to see whether the populationLimit is positive should occur before the check to see if the number of chromosomes is greater than the populationLimit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12549190">MATH-775</key>
            <summary>In the ListPopulation constructor, the check for a negative populationLimit should occur first.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reidhoch">Reid Hochstedler</reporter>
                        <labels>
                            <label>genetics</label>
                    </labels>
                <created>Mon, 2 Apr 2012 17:09:14 +0000</created>
                <updated>Mon, 4 Mar 2013 18:53:18 +0000</updated>
                            <resolved>Thu, 12 Apr 2012 18:19:25 +0000</resolved>
                                    <version>3.0</version>
                                    <fixVersion>3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13244344" author="reidhoch" created="Mon, 2 Apr 2012 17:11:44 +0000"  >&lt;p&gt;Proposed patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-775&quot; title=&quot;In the ListPopulation constructor, the check for a negative populationLimit should occur first.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-775&quot;&gt;&lt;del&gt;MATH-775&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13246558" author="tn" created="Wed, 4 Apr 2012 18:31:36 +0000"  >&lt;p&gt;Good catch.&lt;br/&gt;
After looking at the class, I see even more problems:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;setPopulationSize allows to change the population size, but does not check the chromosome list for compatible size&lt;/li&gt;
	&lt;li&gt;addChromosome does not check the population size at all&lt;/li&gt;
	&lt;li&gt;the chromosome list given as parameter to the ctor and setChromosomes is assigned directly, allowing the list to be changed from the outside later on&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From my understanding the following should happen:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;setPopulationSize should shrink the existing chromosome list if it is larger than the new size (optionally we could also remove this method)&lt;/li&gt;
	&lt;li&gt;addChromosome should throw an exception if adding a chromosome would exceed the population size&lt;/li&gt;
	&lt;li&gt;when setting an externally provided chromosome list, the entries should be copied to a new internal list&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13247762" author="tn" created="Thu, 5 Apr 2012 22:15:25 +0000"  >&lt;p&gt;The patch has been committed in r1310103, together with other changes that have been outlined before.&lt;/p&gt;

&lt;p&gt;Additionally, I have added two new methods:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;public void addChromosomes(Collection&amp;lt;Chromosome&amp;gt; c)&lt;/li&gt;
	&lt;li&gt;protected List&amp;lt;Chromosome&amp;gt; getChromosomeList()&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and made setChromosomes deprecated.&lt;/p&gt;

&lt;p&gt;Rationale:&lt;/p&gt;

&lt;p&gt;The internal state of ListPopulation shall be protected, and shall not be changeable from the outside as it was possible before. When adding chromosomes, the entries are added to the internal list, instead of setting the internal list reference to the provided list.&lt;/p&gt;

&lt;p&gt;Derived classes can get access to the internal list via getChromosomeList (we could also make the internal list protected, is there a policy in CM?).&lt;/p&gt;

&lt;p&gt;The setters throw appropriate exceptions to keep the internal state consistent, and addChromosome also throws an exception if the population would exceed the population limit.&lt;/p&gt;</comment>
                            <comment id="13249958" author="tn" created="Mon, 9 Apr 2012 16:55:49 +0000"  >&lt;p&gt;I changed the internal list in ListPopulation to a protected member and removed the getChromosomeList again. This way it is cleaner imho.&lt;/p&gt;</comment>
                            <comment id="13250384" author="sebb@apache.org" created="Tue, 10 Apr 2012 01:33:49 +0000"  >&lt;p&gt;Using a getter is better.&lt;br/&gt;
Exposing a field means that it is harder to make changes later, e.g. should there be a need to synch. the field or make it read-only.&lt;/p&gt;

&lt;p&gt;As a general rule, mutable fields should never be exposed.&lt;/p&gt;</comment>
                            <comment id="13250490" author="tn" created="Tue, 10 Apr 2012 07:38:57 +0000"  >&lt;p&gt;hmm, I see your point. My concern was that there is already a public getChromosomes method that I have now changed to return an unmodifiable version of the internal list. As derived classes need access to the internal list (to alter it), I added a protected getChromosomeList method, but somehow this did not feel right.&lt;/p&gt;

&lt;p&gt;Maybe a different name for the method would suffice?&lt;/p&gt;</comment>
                            <comment id="13252690" author="tn" created="Thu, 12 Apr 2012 18:19:13 +0000"  >&lt;p&gt;Fixed in r1325422.&lt;/p&gt;

&lt;p&gt;I kept the name getChromosomeList for the getter.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12520992" name="MATH-775.txt" size="7337" author="reidhoch" created="Mon, 2 Apr 2012 17:11:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rt9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>