<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:26:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-506] The static field ChiSquareTestImpl.distribution serves no purpose</title>
                <link>https://issues.apache.org/jira/browse/MATH-506</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;The static field ChiSquareTestImpl.distribution serves no purpose.&lt;/p&gt;

&lt;p&gt;There is a setter for it, but in every case where the field is used, it is first overwritten with a new value.&lt;/p&gt;

&lt;p&gt;The field and the setter should be removed, and the methods that create a new instance should create a local variable instead.&lt;/p&gt;

&lt;p&gt;For Math 2.1, the field can be removed and the setter deprecated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497371">MATH-506</key>
            <summary>The static field ChiSquareTestImpl.distribution serves no purpose</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="psteitz">Phil Steitz</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Feb 2011 18:38:01 +0000</created>
                <updated>Sat, 24 Mar 2012 16:16:41 +0000</updated>
                            <resolved>Sat, 20 Aug 2011 21:14:57 +0000</resolved>
                                    <version>1.2</version>
                    <version>2.0</version>
                    <version>2.1</version>
                    <version>2.2</version>
                                    <fixVersion>3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12990893" author="psteitz" created="Sat, 5 Feb 2011 02:56:06 +0000"  >&lt;p&gt;Agreed.  Since the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-349&quot; title=&quot;Dangerous code in &amp;quot;PoissonDistributionImpl&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-349&quot;&gt;&lt;del&gt;MATH-349&lt;/del&gt;&lt;/a&gt; this instance field is unnecessary.&lt;/p&gt;</comment>
                            <comment id="12990898" author="psteitz" created="Sat, 5 Feb 2011 03:16:53 +0000"  >&lt;p&gt;See the discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-349&quot; title=&quot;Dangerous code in &amp;quot;PoissonDistributionImpl&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-349&quot;&gt;&lt;del&gt;MATH-349&lt;/del&gt;&lt;/a&gt; where it was decided to remove the distribution pluggability in 3.0.  In 2.x, the distribution is pluggable and the instance field is useful.  The 3.0 code in trunk removes the pluggability and makes the field useless.&lt;/p&gt;</comment>
                            <comment id="12990973" author="sebb@apache.org" created="Sat, 5 Feb 2011 12:42:21 +0000"  >&lt;p&gt;Sorry - I thought I had checked the 2.x implementation as well, but obviously not, as it does use the field.&lt;/p&gt;

&lt;p&gt;However, we should still deprecate the setter in 2.2, as it is removed in 3.0 - OK?&lt;/p&gt;</comment>
                            <comment id="12990981" author="sebb@apache.org" created="Sat, 5 Feb 2011 13:23:45 +0000"  >&lt;p&gt;Just tried removing the field and setter in 3.0, and found that the constructors rely on the setter (which is a separate bug, as the setter is not final - but easily fixable if required).&lt;/p&gt;

&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-349&quot; title=&quot;Dangerous code in &amp;quot;PoissonDistributionImpl&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-349&quot;&gt;&lt;del&gt;MATH-349&lt;/del&gt;&lt;/a&gt; merely removed deprecated code.&lt;/p&gt;

&lt;p&gt;It replaced &quot;distribution.setDegreesOfFreedom(dof)&quot; with &quot;distribution = new ChiSquaredDistributionImpl(dof)&quot; which is how the field became useless.&lt;/p&gt;

&lt;p&gt;There are two constructors which still create values for the distribution field.&lt;/p&gt;

&lt;p&gt;I don&apos;t know enough about the Math to know whether there would be any use cases for having additional methods that used a distribution provided by the class instance, rather than calculated by the individual methods (as at present).&lt;/p&gt;

&lt;p&gt;If there is no need for external provision of the distribution degree of freedom, then the constructor with parameter can be dropped.&lt;/p&gt;

&lt;p&gt;Otherwise, we need to add some methods that can use the provided distribution (which should be a final instance field).&lt;/p&gt;

&lt;p&gt;In any case, I think the setter needs to be dropped from 3.x&lt;/p&gt;</comment>
                            <comment id="12990995" author="psteitz" created="Sat, 5 Feb 2011 14:52:21 +0000"  >&lt;p&gt;The instance field was there originally so that different ChiSquareDistribution implementations could be provided at construction time or via a setter (making the underlying ChiSquareDistribution pluggable).  &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-349&quot; title=&quot;Dangerous code in &amp;quot;PoissonDistributionImpl&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-349&quot;&gt;&lt;del&gt;MATH-349&lt;/del&gt;&lt;/a&gt; pointed to a different problem related to mutability of implementation instances.  The simplest solution to both problems is to eliminate the pluggability, which the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-349&quot; title=&quot;Dangerous code in &amp;quot;PoissonDistributionImpl&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-349&quot;&gt;&lt;del&gt;MATH-349&lt;/del&gt;&lt;/a&gt; does for this class.  The degrees of freedom are always computed from the data, so there is no need for the constructor that takes a distribution instance as argument.  Both the constructor and setter can be deprecated in 2.2 and removed in 3.0 unless we want to keep pluggability, which would require&lt;/p&gt;

&lt;p&gt;1) making the distribution field final (so removing the setter)&lt;br/&gt;
2) copying, rather than referencing the actual parameter provided to the constructor&lt;/p&gt;

&lt;p&gt;I am on the fence on this.  Maybe others can chime in (next week &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12991006" author="sebb@apache.org" created="Sat, 5 Feb 2011 15:30:17 +0000"  >&lt;p&gt;OK, I see now, thanks!&lt;/p&gt;</comment>
                            <comment id="13088272" author="psteitz" created="Sat, 20 Aug 2011 21:14:57 +0000"  >&lt;p&gt;I removed the field (hence eliminating pluggability) in r1159916.  As of 3.0, the distribution classes are immutable, so to support pluggability a factory or class name rather than a distribution instance would have to be provided.  There is only one implementation provided by &lt;span class=&quot;error&quot;&gt;&amp;#91;math&amp;#93;&lt;/span&gt;, so I do not see this as worth the effort and complexity to retain.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ru3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>