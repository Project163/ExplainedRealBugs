<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:26:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-494] FastMath atan2 does not agree with StrictMath for special cases</title>
                <link>https://issues.apache.org/jira/browse/MATH-494</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;FastMath atan2 does not agree with StrictMath for special cases.&lt;/p&gt;

&lt;p&gt;There are two sign problems:&lt;br/&gt;
atan2(double -0.0, double -Infinity) expected -3.141592653589793 actual 3.141592653589793 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -0.0, double Infinity) expected -0.0 actual 0.0 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 5&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;A lot of NaNs where there should be a valid return:&lt;br/&gt;
atan2(double -1.7976931348623157E308, double -1.7976931348623157E308) expected -2.356194490192345 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double 1.7976931348623157E308) expected -0.7853981633974483 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double -1.1102230246251565E-16) expected -1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 8&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double 1.1102230246251565E-16) expected -1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 9&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double -2.2250738585072014E-308) expected -1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 10&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double 2.2250738585072014E-308) expected -1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 11&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double -4.9E-324) expected -1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.7976931348623157E308, double 4.9E-324) expected -1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;6, 13&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double -1.7976931348623157E308) expected 2.356194490192345 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double 1.7976931348623157E308) expected 0.7853981633974483 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double -1.1102230246251565E-16) expected 1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 8&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double 1.1102230246251565E-16) expected 1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 9&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double -2.2250738585072014E-308) expected 1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 10&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double 2.2250738585072014E-308) expected 1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 11&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double -4.9E-324) expected 1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.7976931348623157E308, double 4.9E-324) expected 1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;7, 13&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.1102230246251565E-16, double -1.7976931348623157E308) expected -3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;8, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.1102230246251565E-16, double 1.7976931348623157E308) expected -0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;8, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.1102230246251565E-16, double -4.9E-324) expected -1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;8, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.1102230246251565E-16, double 4.9E-324) expected -1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;8, 13&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.1102230246251565E-16, double -1.7976931348623157E308) expected 3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;9, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.1102230246251565E-16, double 1.7976931348623157E308) expected 0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;9, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.1102230246251565E-16, double -4.9E-324) expected 1.5707963267948968 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;9, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.1102230246251565E-16, double 4.9E-324) expected 1.5707963267948966 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;9, 13&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -2.2250738585072014E-308, double -1.7976931348623157E308) expected -3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;10, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -2.2250738585072014E-308, double 1.7976931348623157E308) expected -0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;10, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 2.2250738585072014E-308, double -1.7976931348623157E308) expected 3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;11, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 2.2250738585072014E-308, double 1.7976931348623157E308) expected 0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;11, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -4.9E-324, double -1.7976931348623157E308) expected -3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;12, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -4.9E-324, double 1.7976931348623157E308) expected -0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;12, 7&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 4.9E-324, double -1.7976931348623157E308) expected 3.141592653589793 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;13, 6&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 4.9E-324, double 1.7976931348623157E308) expected 0.0 actual NaN entries &lt;span class=&quot;error&quot;&gt;&amp;#91;13, 7&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;There are also some spurious errors, which are due to a bug in the test case - expecting the values to be exactly the same as StrictMath&lt;br/&gt;
atan2(double 2.2250738585072014E-308, double -4.9E-324) expected 1.570796326794897 actual 1.5707963267948968 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;11, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -2.2250738585072014E-308, double -4.9E-324) expected -1.570796326794897 actual -1.5707963267948968 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;10, 12&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double 1.1102230246251565E-16, double -2.2250738585072014E-308) expected 1.5707963267948968 actual 1.5707963267948966 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;9, 10&amp;#93;&lt;/span&gt;&lt;br/&gt;
atan2(double -1.1102230246251565E-16, double -2.2250738585072014E-308) expected -1.5707963267948968 actual -1.5707963267948966 entries &lt;span class=&quot;error&quot;&gt;&amp;#91;8, 10&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496341">MATH-494</key>
            <summary>FastMath atan2 does not agree with StrictMath for special cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 21:56:18 +0000</created>
                <updated>Wed, 23 Mar 2011 20:38:08 +0000</updated>
                            <resolved>Sat, 22 Jan 2011 20:21:22 +0000</resolved>
                                    <version>2.2</version>
                    <version>3.0</version>
                                    <fixVersion>2.2</fixVersion>
                    <fixVersion>3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985025" author="sebb@apache.org" created="Sat, 22 Jan 2011 01:22:05 +0000"  >&lt;p&gt;Note: using MathUtils.equals(double, double, 1) instead of Double.equals() allows the last few comparisons to succeed; however this also ignores the differences between +/- 0.0, so a more sensitive test is needed.&lt;/p&gt;</comment>
                            <comment id="13010415" author="luc" created="Wed, 23 Mar 2011 20:38:08 +0000"  >&lt;p&gt;Closing issue as it was included in version 2.2, which has been released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>150614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ru5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>