<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:25:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MATH-221] Result of multiplying and equals for complex numbers is wrong</title>
                <link>https://issues.apache.org/jira/browse/MATH-221</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;Hi.&lt;/p&gt;

&lt;p&gt;The bug relates on complex numbers.&lt;br/&gt;
The methods &quot;multiply&quot; and &quot;equals&quot; of the class Complex are involved.&lt;/p&gt;

&lt;p&gt;mathematic background:  (0,i) * (-1,0i) = (0,-i).&lt;/p&gt;

&lt;p&gt;little java program + output that shows the bug:&lt;br/&gt;
-----------------------------------------------------------------------&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.math.complex.*;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestProg {
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {

                ComplexFormat f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ComplexFormat();
                Complex c1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Complex(0,1);
                Complex c2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Complex(-1,0);

                Complex res = c1.multiply(c2);
                Complex comp = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Complex(0,-1);

                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;res:  &quot;&lt;/span&gt;+f.format(res));
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;comp: &quot;&lt;/span&gt;+f.format(comp));

                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;res=comp: &quot;&lt;/span&gt;+res.equals(comp));
        }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;-----------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;res:  -0 - 1i&lt;br/&gt;
comp: 0 - 1i&lt;br/&gt;
res=comp: false&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;I think the &quot;equals&quot; should return &quot;true&quot;.&lt;br/&gt;
The problem could either be the &quot;multiply&quot; method that gives (-0,-1i) instead of (0,-1i),&lt;br/&gt;
or if you think thats right, the equals method has to be modified.&lt;/p&gt;

&lt;p&gt;Good Luck&lt;br/&gt;
Dieter&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Debian lenny&lt;br/&gt;
IDE: Eclipse; Version: 3.4.0; Build id: I20080617-2000&lt;br/&gt;
java.runtime.version=1.6.0_04-b12&lt;br/&gt;
java.vendor.url=&lt;a href=&quot;http://java.sun.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/&lt;/a&gt;&lt;/p&gt;</environment>
        <key id="12403362">MATH-221</key>
            <summary>Result of multiplying and equals for complex numbers is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="news.dieter">Dieter Roth</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Aug 2008 13:31:56 +0000</created>
                <updated>Thu, 23 Apr 2009 02:26:19 +0000</updated>
                            <resolved>Fri, 29 Aug 2008 15:52:38 +0000</resolved>
                                    <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12627019" author="luc" created="Fri, 29 Aug 2008 15:52:38 +0000"  >&lt;p&gt;According to IEEE-754 (the standard that specifies double number representation), 0 is a signed value, so there are two different representations: +0 and -0, and there is a specific rule that say these two representations should always compare as equal.&lt;/p&gt;

&lt;p&gt;The fact the multiplication returns a real part as -0 is therefore correct behavior. The fact it is not equal to another value where +0 appears was an error in out implementation of the equal method.&lt;/p&gt;

&lt;p&gt;The problem has been fixed in the subversion repository (in branch 2.0) as of r690308.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rvs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>