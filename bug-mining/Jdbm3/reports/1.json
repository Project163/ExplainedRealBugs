{"url":"https://api.github.com/repos/jankotek/JDBM3/issues/22","repository_url":"https://api.github.com/repos/jankotek/JDBM3","labels_url":"https://api.github.com/repos/jankotek/JDBM3/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/jankotek/JDBM3/issues/22/comments","events_url":"https://api.github.com/repos/jankotek/JDBM3/issues/22/events","html_url":"https://github.com/jankotek/JDBM3/issues/22","id":3614350,"node_id":"MDU6SXNzdWUzNjE0MzUw","number":22,"title":"BTreeBench reports IOException: Cannot allocate memory","user":{"login":"peter-lawrey","id":1070321,"node_id":"MDQ6VXNlcjEwNzAzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1070321?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-lawrey","html_url":"https://github.com/peter-lawrey","followers_url":"https://api.github.com/users/peter-lawrey/followers","following_url":"https://api.github.com/users/peter-lawrey/following{/other_user}","gists_url":"https://api.github.com/users/peter-lawrey/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-lawrey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-lawrey/subscriptions","organizations_url":"https://api.github.com/users/peter-lawrey/orgs","repos_url":"https://api.github.com/users/peter-lawrey/repos","events_url":"https://api.github.com/users/peter-lawrey/events{/privacy}","received_events_url":"https://api.github.com/users/peter-lawrey/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2012-03-12T16:39:01Z","updated_at":"2012-03-15T14:10:21Z","closed_at":"2012-03-13T00:43:15Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Iterations=0 Objects=0, elapsed=1ms\nIterations=5000 Objects=4666, elapsed=3049ms\n\njava.io.IOError: java.io.IOException: Cannot allocate memory\n    at net.kotek.jdbm.DBStore.commit(DBStore.java:573)\n    at net.kotek.jdbm.DBCache.commit(DBCache.java:343)\n    at net.kotek.jdbm.BTreeBench.doTest(BTreeBench.java:59)\n    at net.kotek.jdbm.BTreeBench.test_001(BTreeBench.java:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at com.intellij.junit3.JUnit3IdeaTestRunner.doRun(JUnit3IdeaTestRunner.java:139)\n    at com.intellij.junit3.JUnit3IdeaTestRunner.startRunnerWithArgs(JUnit3IdeaTestRunner.java:52)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:202)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nCaused by: java.io.IOException: Cannot allocate memory\n    at java.nio.MappedByteBuffer.force0(Native Method)\n    at java.nio.MappedByteBuffer.force(MappedByteBuffer.java:154)\n    at net.kotek.jdbm.StorageDiskMapped.sync(StorageDiskMapped.java:176)\n    at net.kotek.jdbm.RecordFile.sync(RecordFile.java:376)\n    at net.kotek.jdbm.TransactionManager.synchronizeLogFromMemory(TransactionManager.java:123)\n    at net.kotek.jdbm.TransactionManager.start(TransactionManager.java:221)\n    at net.kotek.jdbm.RecordFile.commit(RecordFile.java:237)\n    at net.kotek.jdbm.PageManager.commit(PageManager.java:203)\n    at net.kotek.jdbm.DBStore.commit(DBStore.java:564)\n    ... 24 more\n\nIf I reduce the test to doTest(db, tree, 601); it passes but doTest(db, tree, 611); does not.  Do you have any suggestions?\n\nThe machine has 16 GB of memory, 14 GB of swap and 180 GB of free disk. Running Centos 6.2.\n","closed_by":{"login":"jankotek","id":359021,"node_id":"MDQ6VXNlcjM1OTAyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/359021?v=4","gravatar_id":"","url":"https://api.github.com/users/jankotek","html_url":"https://github.com/jankotek","followers_url":"https://api.github.com/users/jankotek/followers","following_url":"https://api.github.com/users/jankotek/following{/other_user}","gists_url":"https://api.github.com/users/jankotek/gists{/gist_id}","starred_url":"https://api.github.com/users/jankotek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jankotek/subscriptions","organizations_url":"https://api.github.com/users/jankotek/orgs","repos_url":"https://api.github.com/users/jankotek/repos","events_url":"https://api.github.com/users/jankotek/events{/privacy}","received_events_url":"https://api.github.com/users/jankotek/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/jankotek/JDBM3/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jankotek/JDBM3/issues/22/timeline","performed_via_github_app":null,"state_reason":"completed"}