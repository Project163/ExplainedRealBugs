[{"id":5815647874,"node_id":"CE_lADOAE8G285Avi78zwAAAAFao76C","url":"https://api.github.com/repos/redis/go-redis/issues/events/5815647874","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"333fee1a8fd98a2fbff1ab187c1b03246a7eb01f","commit_url":"https://api.github.com/repos/redis/go-redis/commits/333fee1a8fd98a2fbff1ab187c1b03246a7eb01f","created_at":"2021-12-26T14:42:25Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003202691","html_url":"https://github.com/redis/go-redis/issues/1963#issuecomment-1003202691","issue_url":"https://api.github.com/repos/redis/go-redis/issues/1963","id":1003202691,"node_id":"IC_kwDOAE8G2847y6iD","user":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-30T22:40:37Z","updated_at":"2021-12-30T22:40:55Z","body":"@vmihailenco The fix you pushed adds a timeout which is good, thank you for that. The issue I'm facing still remains though, maybe I'm running the WAIT() command incorrectly. I have 0 replicas for redis, just the master node. When I post a transaction through LPush or HSet, the transaction is run asynchronously which causes my application to crash when I try to query for the rows I added. How do I block the application till the transaction I posted is finished? Wait(0, time.Seconds * 5) doesn't seem to work. (I have 0 replicas - because of that Wait(1, time.Seconds*5) will not work either) ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003202691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5829261907,"node_id":"MEE_lADOAE8G285Avi78zwAAAAFbc3pT","url":"https://api.github.com/repos/redis/go-redis/issues/events/5829261907","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-12-30T22:40:38Z","performed_via_github_app":null},{"id":5829261909,"node_id":"SE_lADOAE8G285Avi78zwAAAAFbc3pV","url":"https://api.github.com/repos/redis/go-redis/issues/events/5829261909","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-12-30T22:40:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003286863","html_url":"https://github.com/redis/go-redis/issues/1963#issuecomment-1003286863","issue_url":"https://api.github.com/repos/redis/go-redis/issues/1963","id":1003286863,"node_id":"IC_kwDOAE8G2847zPFP","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-31T06:43:28Z","updated_at":"2021-12-31T06:43:28Z","body":"Sounds like you are misusing `WAIT`. Hard to say more - it is not clear what you are doing.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003286863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003411102","html_url":"https://github.com/redis/go-redis/issues/1963#issuecomment-1003411102","issue_url":"https://api.github.com/repos/redis/go-redis/issues/1963","id":1003411102,"node_id":"IC_kwDOAE8G2847ztae","user":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-31T16:18:45Z","updated_at":"2021-12-31T16:22:14Z","body":"I basically want to run LPush and HGet commands synchronously. In this case, I have an integration test where I push the data into redis and want to query redis for the inserted data shortly after. Since the redis transactions run asynchronously, the write operations in redis may not finish before the GET operations are made. This leads to the test failing and it is non deterministic. Is there a way to achieve this? I thought if I use WAIT(), that will block the thread till all previous transactions are completed in redis. \r\n\r\n\r\nPlease note that I have no replicas running in my architecture, just the master node for redis. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003411102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003567671","html_url":"https://github.com/redis/go-redis/issues/1963#issuecomment-1003567671","issue_url":"https://api.github.com/repos/redis/go-redis/issues/1963","id":1003567671,"node_id":"IC_kwDOAE8G28470To3","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-01T14:37:11Z","updated_at":"2022-01-01T14:37:11Z","body":"I doubt you can use WAIT for that purpose.\r\n\r\n>this leads to the test failing and it is non deterministic. \r\n\r\nYou can try something like https://pkg.go.dev/github.com/stretchr/testify@v1.7.0/require#Eventually to wait until condition is met.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1003567671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1010231479","html_url":"https://github.com/redis/go-redis/issues/1963#issuecomment-1010231479","issue_url":"https://api.github.com/repos/redis/go-redis/issues/1963","id":1010231479,"node_id":"IC_kwDOAE8G2848Nui3","user":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-11T18:13:01Z","updated_at":"2022-01-11T18:13:01Z","body":"Hmm, alright. Thanks, appreciate the help. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/1010231479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akshatraika","id":36743585,"node_id":"MDQ6VXNlcjM2NzQzNTg1","avatar_url":"https://avatars.githubusercontent.com/u/36743585?v=4","gravatar_id":"","url":"https://api.github.com/users/akshatraika","html_url":"https://github.com/akshatraika","followers_url":"https://api.github.com/users/akshatraika/followers","following_url":"https://api.github.com/users/akshatraika/following{/other_user}","gists_url":"https://api.github.com/users/akshatraika/gists{/gist_id}","starred_url":"https://api.github.com/users/akshatraika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshatraika/subscriptions","organizations_url":"https://api.github.com/users/akshatraika/orgs","repos_url":"https://api.github.com/users/akshatraika/repos","events_url":"https://api.github.com/users/akshatraika/events{/privacy}","received_events_url":"https://api.github.com/users/akshatraika/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6269493830,"node_id":"REFE_lADOAE8G285Avi78zwAAAAF1sOJG","url":"https://api.github.com/repos/redis/go-redis/issues/events/6269493830","actor":{"login":"monkey92t","id":23448594,"node_id":"MDQ6VXNlcjIzNDQ4NTk0","avatar_url":"https://avatars.githubusercontent.com/u/23448594?v=4","gravatar_id":"","url":"https://api.github.com/users/monkey92t","html_url":"https://github.com/monkey92t","followers_url":"https://api.github.com/users/monkey92t/followers","following_url":"https://api.github.com/users/monkey92t/following{/other_user}","gists_url":"https://api.github.com/users/monkey92t/gists{/gist_id}","starred_url":"https://api.github.com/users/monkey92t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkey92t/subscriptions","organizations_url":"https://api.github.com/users/monkey92t/orgs","repos_url":"https://api.github.com/users/monkey92t/repos","events_url":"https://api.github.com/users/monkey92t/events{/privacy}","received_events_url":"https://api.github.com/users/monkey92t/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"335d946cd67daeb38683eb426dcb7b42783e44ef","commit_url":"https://api.github.com/repos/redis/go-redis/commits/335d946cd67daeb38683eb426dcb7b42783e44ef","created_at":"2022-03-19T04:40:33Z","performed_via_github_app":null},{"id":11987105309,"node_id":"REFE_lADOAE8G285Avi78zwAAAALKfLYd","url":"https://api.github.com/repos/redis/go-redis/issues/events/11987105309","actor":{"login":"rise-worlds","id":464270,"node_id":"MDQ6VXNlcjQ2NDI3MA==","avatar_url":"https://avatars.githubusercontent.com/u/464270?v=4","gravatar_id":"","url":"https://api.github.com/users/rise-worlds","html_url":"https://github.com/rise-worlds","followers_url":"https://api.github.com/users/rise-worlds/followers","following_url":"https://api.github.com/users/rise-worlds/following{/other_user}","gists_url":"https://api.github.com/users/rise-worlds/gists{/gist_id}","starred_url":"https://api.github.com/users/rise-worlds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rise-worlds/subscriptions","organizations_url":"https://api.github.com/users/rise-worlds/orgs","repos_url":"https://api.github.com/users/rise-worlds/repos","events_url":"https://api.github.com/users/rise-worlds/events{/privacy}","received_events_url":"https://api.github.com/users/rise-worlds/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"333fee1a8fd98a2fbff1ab187c1b03246a7eb01f","commit_url":"https://api.github.com/repos/rise-worlds/redis/commits/333fee1a8fd98a2fbff1ab187c1b03246a7eb01f","created_at":"2024-03-02T10:24:41Z","performed_via_github_app":null}]