[{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/90394588","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-90394588","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":90394588,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMzk0NTg4","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-07T06:33:32Z","updated_at":"2015-05-10T12:26:10Z","body":"Hi,\n\ngo-redis detects broken connection, removes it from the pool and replaces it with fresh connection. go-redis currently does not auto-retry failed operation, but this is going to be addressed in redis.v3. @dim already added auto-retry to the Redis Cluster client and I will port required changes to the plain client too.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/90394588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":274869876,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc0ODY5ODc2","url":"https://api.github.com/repos/redis/go-redis/issues/events/274869876","actor":{"login":"dim","id":16614,"node_id":"MDQ6VXNlcjE2NjE0","avatar_url":"https://avatars.githubusercontent.com/u/16614?v=4","gravatar_id":"","url":"https://api.github.com/users/dim","html_url":"https://github.com/dim","followers_url":"https://api.github.com/users/dim/followers","following_url":"https://api.github.com/users/dim/following{/other_user}","gists_url":"https://api.github.com/users/dim/gists{/gist_id}","starred_url":"https://api.github.com/users/dim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dim/subscriptions","organizations_url":"https://api.github.com/users/dim/orgs","repos_url":"https://api.github.com/users/dim/repos","events_url":"https://api.github.com/users/dim/events{/privacy}","received_events_url":"https://api.github.com/users/dim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-04-07T06:33:32Z","performed_via_github_app":null},{"id":274869877,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3NDg2OTg3Nw==","url":"https://api.github.com/repos/redis/go-redis/issues/events/274869877","actor":{"login":"dim","id":16614,"node_id":"MDQ6VXNlcjE2NjE0","avatar_url":"https://avatars.githubusercontent.com/u/16614?v=4","gravatar_id":"","url":"https://api.github.com/users/dim","html_url":"https://github.com/dim","followers_url":"https://api.github.com/users/dim/followers","following_url":"https://api.github.com/users/dim/following{/other_user}","gists_url":"https://api.github.com/users/dim/gists{/gist_id}","starred_url":"https://api.github.com/users/dim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dim/subscriptions","organizations_url":"https://api.github.com/users/dim/orgs","repos_url":"https://api.github.com/users/dim/repos","events_url":"https://api.github.com/users/dim/events{/privacy}","received_events_url":"https://api.github.com/users/dim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-04-07T06:33:32Z","performed_via_github_app":null},{"id":301144677,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMTE0NDY3Nw==","url":"https://api.github.com/repos/redis/go-redis/issues/events/301144677","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"82b0ce740ab409d5ac43a381fd787037e6024349","commit_url":"https://api.github.com/repos/redis/go-redis/commits/82b0ce740ab409d5ac43a381fd787037e6024349","created_at":"2015-05-10T12:33:13Z","performed_via_github_app":null},{"id":301151790,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMTE1MTc5MA==","url":"https://api.github.com/repos/redis/go-redis/issues/events/301151790","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b994a6c0d8cf060a888f65668ead3aaf1e512152","commit_url":"https://api.github.com/repos/redis/go-redis/commits/b994a6c0d8cf060a888f65668ead3aaf1e512152","created_at":"2015-05-10T13:12:03Z","performed_via_github_app":null},{"id":301158643,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMTE1ODY0Mw==","url":"https://api.github.com/repos/redis/go-redis/issues/events/301158643","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"913fa635b35d4606dab6d9f006b54a244140b891","commit_url":"https://api.github.com/repos/redis/go-redis/commits/913fa635b35d4606dab6d9f006b54a244140b891","created_at":"2015-05-10T13:38:59Z","performed_via_github_app":null},{"id":301163560,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMTE2MzU2MA==","url":"https://api.github.com/repos/redis/go-redis/issues/events/301163560","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8c67e00efc41fac0745675b2ec90c0ee24a2dbc0","commit_url":"https://api.github.com/repos/redis/go-redis/commits/8c67e00efc41fac0745675b2ec90c0ee24a2dbc0","created_at":"2015-05-10T14:02:59Z","performed_via_github_app":null},{"id":304804360,"node_id":"MDExOkNsb3NlZEV2ZW50MzA0ODA0MzYw","url":"https://api.github.com/repos/redis/go-redis/issues/events/304804360","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8c67e00efc41fac0745675b2ec90c0ee24a2dbc0","commit_url":"https://api.github.com/repos/redis/go-redis/commits/8c67e00efc41fac0745675b2ec90c0ee24a2dbc0","created_at":"2015-05-14T12:11:40Z","state_reason":null,"performed_via_github_app":null},{"id":304804361,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwNDgwNDM2MQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/304804361","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b8b073f3bfd92a61caad8e12ec6c312707fd1528","commit_url":"https://api.github.com/repos/redis/go-redis/commits/b8b073f3bfd92a61caad8e12ec6c312707fd1528","created_at":"2015-05-14T12:11:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125019059","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-125019059","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":125019059,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTAxOTA1OQ==","user":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-26T17:19:45Z","updated_at":"2015-07-26T17:19:45Z","body":"I am using redis.v3 and getting the same EOF error from timed out connections on a non-clustered client. Is there a particular syntax I need to use to get this retry behavior?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125019059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125043773","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-125043773","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":125043773,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTA0Mzc3Mw==","user":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-26T21:58:17Z","updated_at":"2015-07-26T22:00:22Z","body":"Just wanted to follow up on the last comment. Looked through the lib and in the Options struct there was the following comment which specifies that retries to failed commands are not on by default.\n\n``` go\n  // The maximum number of retries before giving up.\n  // Default is to not retry failed commands.\n  MaxRetries int\n```\n\nSo it looks like the solution to this is to make sure you are configuring this something like:\n\n``` go\nclient := redis.NewClient(&redis.Options{\n    Addr:     \"localhost:6379\",\n    Password: \"\",\n    DB:       0, // use default DB\n    MaxRetries: 2,\n})\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125043773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125135809","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-125135809","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":125135809,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTEzNTgwOQ==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-27T09:04:09Z","updated_at":"2015-07-27T09:04:09Z","body":"Do you use non-zero `timeout` setting on your redis-server? Then you should use `IdleTimeout` option smaller than `timeout`, e.g.:\n\n```\nclient := redis.NewClient(&redis.Options{\n    IdleTimeout: 5*time.Minute,\n})\n```\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125135809/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125190697","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-125190697","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":125190697,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTE5MDY5Nw==","user":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-27T12:35:15Z","updated_at":"2015-07-27T12:35:15Z","body":"Thanks @vmihailenco - I am also using a timeout on the server and will adjust the client accordingly.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125190697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dmichael","id":10689,"node_id":"MDQ6VXNlcjEwNjg5","avatar_url":"https://avatars.githubusercontent.com/u/10689?v=4","gravatar_id":"","url":"https://api.github.com/users/dmichael","html_url":"https://github.com/dmichael","followers_url":"https://api.github.com/users/dmichael/followers","following_url":"https://api.github.com/users/dmichael/following{/other_user}","gists_url":"https://api.github.com/users/dmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/dmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmichael/subscriptions","organizations_url":"https://api.github.com/users/dmichael/orgs","repos_url":"https://api.github.com/users/dmichael/repos","events_url":"https://api.github.com/users/dmichael/events{/privacy}","received_events_url":"https://api.github.com/users/dmichael/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":366027849,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzY2MDI3ODQ5","url":"https://api.github.com/repos/redis/go-redis/issues/events/366027849","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-07-27T12:35:15Z","performed_via_github_app":null},{"id":366027850,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM2NjAyNzg1MA==","url":"https://api.github.com/repos/redis/go-redis/issues/events/366027850","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-07-27T12:35:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125198744","html_url":"https://github.com/redis/go-redis/issues/84#issuecomment-125198744","issue_url":"https://api.github.com/repos/redis/go-redis/issues/84","id":125198744,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTE5ODc0NA==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-27T13:04:12Z","updated_at":"2015-07-27T13:04:12Z","body":"Cool, I believe you don't need retries then. E.g. I don't use retries and don't see EOF in production.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/125198744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"tpiron","id":1073270,"node_id":"MDQ6VXNlcjEwNzMyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1073270?v=4","gravatar_id":"","url":"https://api.github.com/users/tpiron","html_url":"https://github.com/tpiron","followers_url":"https://api.github.com/users/tpiron/followers","following_url":"https://api.github.com/users/tpiron/following{/other_user}","gists_url":"https://api.github.com/users/tpiron/gists{/gist_id}","starred_url":"https://api.github.com/users/tpiron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tpiron/subscriptions","organizations_url":"https://api.github.com/users/tpiron/orgs","repos_url":"https://api.github.com/users/tpiron/repos","events_url":"https://api.github.com/users/tpiron/events{/privacy}","received_events_url":"https://api.github.com/users/tpiron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-05T22:04:57Z","updated_at":"2016-04-05T22:04:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/go-redis/issues/292","repository_url":"https://api.github.com/repos/redis/go-redis","labels_url":"https://api.github.com/repos/redis/go-redis/issues/292/labels{/name}","comments_url":"https://api.github.com/repos/redis/go-redis/issues/292/comments","events_url":"https://api.github.com/repos/redis/go-redis/issues/292/events","html_url":"https://github.com/redis/go-redis/issues/292","id":146117731,"node_id":"MDU6SXNzdWUxNDYxMTc3MzE=","number":292,"title":"Write: Broken Pipe using ClusterClient","user":{"login":"tpiron","id":1073270,"node_id":"MDQ6VXNlcjEwNzMyNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1073270?v=4","gravatar_id":"","url":"https://api.github.com/users/tpiron","html_url":"https://github.com/tpiron","followers_url":"https://api.github.com/users/tpiron/followers","following_url":"https://api.github.com/users/tpiron/following{/other_user}","gists_url":"https://api.github.com/users/tpiron/gists{/gist_id}","starred_url":"https://api.github.com/users/tpiron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tpiron/subscriptions","organizations_url":"https://api.github.com/users/tpiron/orgs","repos_url":"https://api.github.com/users/tpiron/repos","events_url":"https://api.github.com/users/tpiron/events{/privacy}","received_events_url":"https://api.github.com/users/tpiron/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-04-05T22:04:57Z","updated_at":"2016-04-06T15:19:07Z","closed_at":"2016-04-06T12:38:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":5179099,"node_id":"MDEwOlJlcG9zaXRvcnk1MTc5MDk5","name":"go-redis","full_name":"redis/go-redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/go-redis","description":"Redis Go client","fork":false,"url":"https://api.github.com/repos/redis/go-redis","forks_url":"https://api.github.com/repos/redis/go-redis/forks","keys_url":"https://api.github.com/repos/redis/go-redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/go-redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/go-redis/teams","hooks_url":"https://api.github.com/repos/redis/go-redis/hooks","issue_events_url":"https://api.github.com/repos/redis/go-redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/go-redis/events","assignees_url":"https://api.github.com/repos/redis/go-redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/go-redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/go-redis/tags","blobs_url":"https://api.github.com/repos/redis/go-redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/go-redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/go-redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/go-redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/go-redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/go-redis/languages","stargazers_url":"https://api.github.com/repos/redis/go-redis/stargazers","contributors_url":"https://api.github.com/repos/redis/go-redis/contributors","subscribers_url":"https://api.github.com/repos/redis/go-redis/subscribers","subscription_url":"https://api.github.com/repos/redis/go-redis/subscription","commits_url":"https://api.github.com/repos/redis/go-redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/go-redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/go-redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/go-redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/go-redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/go-redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/go-redis/merges","archive_url":"https://api.github.com/repos/redis/go-redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/go-redis/downloads","issues_url":"https://api.github.com/repos/redis/go-redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/go-redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/go-redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/go-redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/go-redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/go-redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/go-redis/deployments","created_at":"2012-07-25T13:01:39Z","updated_at":"2025-11-10T11:10:52Z","pushed_at":"2025-11-10T11:29:31Z","git_url":"git://github.com/redis/go-redis.git","ssh_url":"git@github.com:redis/go-redis.git","clone_url":"https://github.com/redis/go-redis.git","svn_url":"https://github.com/redis/go-redis","homepage":"https://redis.io","size":11410,"stargazers_count":21654,"watchers_count":21654,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2521,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":71,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","redis","redis-client","redis-cluster"],"visibility":"public","forks":2521,"open_issues":71,"watchers":21654,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi,\n\nI'm having an issue with ClusterClient and the way it removes bad connections from the pool.\n\nAfter a few seconds (almost a minute), if I query redis with a query that used to work, I'll get a \"write: broken pipe\", and then the query after that will be ok.\n\nI can see that Option{} has a MaxRetries value, but ClusterOptions doesn't, any idea why Options has one and not ClusterOptions ? (https://github.com/go-redis/redis/issues/84#issuecomment-125043773)\n\nOr is there another way to avoid getting broken pipe ? (I guess having a lower timeout in go-redis than in redis-server should probably fix that as well)\n","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/go-redis/issues/292/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"mikhailsizov","id":25508502,"node_id":"MDQ6VXNlcjI1NTA4NTAy","avatar_url":"https://avatars.githubusercontent.com/u/25508502?v=4","gravatar_id":"","url":"https://api.github.com/users/mikhailsizov","html_url":"https://github.com/mikhailsizov","followers_url":"https://api.github.com/users/mikhailsizov/followers","following_url":"https://api.github.com/users/mikhailsizov/following{/other_user}","gists_url":"https://api.github.com/users/mikhailsizov/gists{/gist_id}","starred_url":"https://api.github.com/users/mikhailsizov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikhailsizov/subscriptions","organizations_url":"https://api.github.com/users/mikhailsizov/orgs","repos_url":"https://api.github.com/users/mikhailsizov/repos","events_url":"https://api.github.com/users/mikhailsizov/events{/privacy}","received_events_url":"https://api.github.com/users/mikhailsizov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T13:03:04Z","updated_at":"2018-08-23T13:03:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/redis/go-redis/issues/846","repository_url":"https://api.github.com/repos/redis/go-redis","labels_url":"https://api.github.com/repos/redis/go-redis/issues/846/labels{/name}","comments_url":"https://api.github.com/repos/redis/go-redis/issues/846/comments","events_url":"https://api.github.com/repos/redis/go-redis/issues/846/events","html_url":"https://github.com/redis/go-redis/issues/846","id":353370639,"node_id":"MDU6SXNzdWUzNTMzNzA2Mzk=","number":846,"title":"EOF erorrs from client ","user":{"login":"mikhailsizov","id":25508502,"node_id":"MDQ6VXNlcjI1NTA4NTAy","avatar_url":"https://avatars.githubusercontent.com/u/25508502?v=4","gravatar_id":"","url":"https://api.github.com/users/mikhailsizov","html_url":"https://github.com/mikhailsizov","followers_url":"https://api.github.com/users/mikhailsizov/followers","following_url":"https://api.github.com/users/mikhailsizov/following{/other_user}","gists_url":"https://api.github.com/users/mikhailsizov/gists{/gist_id}","starred_url":"https://api.github.com/users/mikhailsizov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikhailsizov/subscriptions","organizations_url":"https://api.github.com/users/mikhailsizov/orgs","repos_url":"https://api.github.com/users/mikhailsizov/repos","events_url":"https://api.github.com/users/mikhailsizov/events{/privacy}","received_events_url":"https://api.github.com/users/mikhailsizov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-08-23T13:03:04Z","updated_at":"2024-07-31T15:06:51Z","closed_at":"2018-09-02T08:42:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":5179099,"node_id":"MDEwOlJlcG9zaXRvcnk1MTc5MDk5","name":"go-redis","full_name":"redis/go-redis","private":false,"owner":{"login":"redis","id":1529926,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE1Mjk5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1529926?v=4","gravatar_id":"","url":"https://api.github.com/users/redis","html_url":"https://github.com/redis","followers_url":"https://api.github.com/users/redis/followers","following_url":"https://api.github.com/users/redis/following{/other_user}","gists_url":"https://api.github.com/users/redis/gists{/gist_id}","starred_url":"https://api.github.com/users/redis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redis/subscriptions","organizations_url":"https://api.github.com/users/redis/orgs","repos_url":"https://api.github.com/users/redis/repos","events_url":"https://api.github.com/users/redis/events{/privacy}","received_events_url":"https://api.github.com/users/redis/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redis/go-redis","description":"Redis Go client","fork":false,"url":"https://api.github.com/repos/redis/go-redis","forks_url":"https://api.github.com/repos/redis/go-redis/forks","keys_url":"https://api.github.com/repos/redis/go-redis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redis/go-redis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redis/go-redis/teams","hooks_url":"https://api.github.com/repos/redis/go-redis/hooks","issue_events_url":"https://api.github.com/repos/redis/go-redis/issues/events{/number}","events_url":"https://api.github.com/repos/redis/go-redis/events","assignees_url":"https://api.github.com/repos/redis/go-redis/assignees{/user}","branches_url":"https://api.github.com/repos/redis/go-redis/branches{/branch}","tags_url":"https://api.github.com/repos/redis/go-redis/tags","blobs_url":"https://api.github.com/repos/redis/go-redis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redis/go-redis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redis/go-redis/git/refs{/sha}","trees_url":"https://api.github.com/repos/redis/go-redis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redis/go-redis/statuses/{sha}","languages_url":"https://api.github.com/repos/redis/go-redis/languages","stargazers_url":"https://api.github.com/repos/redis/go-redis/stargazers","contributors_url":"https://api.github.com/repos/redis/go-redis/contributors","subscribers_url":"https://api.github.com/repos/redis/go-redis/subscribers","subscription_url":"https://api.github.com/repos/redis/go-redis/subscription","commits_url":"https://api.github.com/repos/redis/go-redis/commits{/sha}","git_commits_url":"https://api.github.com/repos/redis/go-redis/git/commits{/sha}","comments_url":"https://api.github.com/repos/redis/go-redis/comments{/number}","issue_comment_url":"https://api.github.com/repos/redis/go-redis/issues/comments{/number}","contents_url":"https://api.github.com/repos/redis/go-redis/contents/{+path}","compare_url":"https://api.github.com/repos/redis/go-redis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redis/go-redis/merges","archive_url":"https://api.github.com/repos/redis/go-redis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redis/go-redis/downloads","issues_url":"https://api.github.com/repos/redis/go-redis/issues{/number}","pulls_url":"https://api.github.com/repos/redis/go-redis/pulls{/number}","milestones_url":"https://api.github.com/repos/redis/go-redis/milestones{/number}","notifications_url":"https://api.github.com/repos/redis/go-redis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redis/go-redis/labels{/name}","releases_url":"https://api.github.com/repos/redis/go-redis/releases{/id}","deployments_url":"https://api.github.com/repos/redis/go-redis/deployments","created_at":"2012-07-25T13:01:39Z","updated_at":"2025-11-10T11:10:52Z","pushed_at":"2025-11-10T11:29:31Z","git_url":"git://github.com/redis/go-redis.git","ssh_url":"git@github.com:redis/go-redis.git","clone_url":"https://github.com/redis/go-redis.git","svn_url":"https://github.com/redis/go-redis","homepage":"https://redis.io","size":11410,"stargazers_count":21654,"watchers_count":21654,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2521,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":71,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","redis","redis-client","redis-cluster"],"visibility":"public","forks":2521,"open_issues":71,"watchers":21654,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, guys!\r\n\r\nI faced with the fully similar issue with [this topic](https://github.com/go-redis/redis/issues/84) but in my case I'm not using a timeout option on the server (using a default zero value - that mean the server doesn't close a idle connections), and client using a default 5 min timeout. But some times (probably every 20-30 sec) in prod env client returns a EOF error. As I understood EOF appears in case when server has closed a connection, but client is still not OR when connection was closed by network devices between the client and server.\r\nI've tried to set `MaxRetries = 2`, `ReadTimeout = 15 sec` but it was not helpful.\r\n\r\n\r\nSo, my questions is:\r\n- is it safety to store redis client in global variable and simultaneously use it in different request handles? Could it leads to overflow a pool? What would happen then? e.g.\r\n```\r\nvar cacheProviderInstance CacheProvider\r\nvar cacheProviderInstanceOnce sync.Once\r\n\r\nfunc GetCacheProvider() CacheProvider {\r\n         cacheProviderInstanceOnce.Do(func() {\r\n\t\tcacheProviderInstance, _ = newRedisClient()\r\n\t})\r\n        return cacheProviderInstance\r\n}\r\n\r\nfunc newRedisClient() (*redis.Client, error) {\r\n\tclient := redis.NewClient(&redis.Options{\r\n\t\tAddr:       redisHost,\r\n\t\tPassword:   edisPassword,\r\n\t\tDB:         redisDB,\r\n\t\tMaxRetries: 2,\r\n\t})\r\n\r\n\tif _, err := client.Ping().Result(); err != nil {\r\n\t\tclient.Close() // is in necessary? could it leads to increasing of memory usage?\r\n\t\treturn nil, err\r\n\t}\r\n\treturn client, nil\r\n}\r\n```\r\n- what is the reasons of EOF error could be? \r\n- what is the suggested way to re-connect and to avoid fails for the initial request? \r\n\r\nThanks, \r\nMike","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/redis/go-redis/issues/846/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"avelino","id":31996,"node_id":"MDQ6VXNlcjMxOTk2","avatar_url":"https://avatars.githubusercontent.com/u/31996?v=4","gravatar_id":"","url":"https://api.github.com/users/avelino","html_url":"https://github.com/avelino","followers_url":"https://api.github.com/users/avelino/followers","following_url":"https://api.github.com/users/avelino/following{/other_user}","gists_url":"https://api.github.com/users/avelino/gists{/gist_id}","starred_url":"https://api.github.com/users/avelino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avelino/subscriptions","organizations_url":"https://api.github.com/users/avelino/orgs","repos_url":"https://api.github.com/users/avelino/repos","events_url":"https://api.github.com/users/avelino/events{/privacy}","received_events_url":"https://api.github.com/users/avelino/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-25T14:27:37Z","updated_at":"2019-02-25T14:27:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/levpay/surl/issues/2","repository_url":"https://api.github.com/repos/levpay/surl","labels_url":"https://api.github.com/repos/levpay/surl/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/levpay/surl/issues/2/comments","events_url":"https://api.github.com/repos/levpay/surl/issues/2/events","html_url":"https://github.com/levpay/surl/issues/2","id":407408465,"node_id":"MDU6SXNzdWU0MDc0MDg0NjU=","number":2,"title":"get redis client:  EOF","user":{"login":"avelino","id":31996,"node_id":"MDQ6VXNlcjMxOTk2","avatar_url":"https://avatars.githubusercontent.com/u/31996?v=4","gravatar_id":"","url":"https://api.github.com/users/avelino","html_url":"https://github.com/avelino","followers_url":"https://api.github.com/users/avelino/followers","following_url":"https://api.github.com/users/avelino/following{/other_user}","gists_url":"https://api.github.com/users/avelino/gists{/gist_id}","starred_url":"https://api.github.com/users/avelino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avelino/subscriptions","organizations_url":"https://api.github.com/users/avelino/orgs","repos_url":"https://api.github.com/users/avelino/repos","events_url":"https://api.github.com/users/avelino/events{/privacy}","received_events_url":"https://api.github.com/users/avelino/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1211270021,"node_id":"MDU6TGFiZWwxMjExMjcwMDIx","url":"https://api.github.com/repos/levpay/surl/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-02-06T20:07:07Z","updated_at":"2019-02-25T15:45:17Z","closed_at":"2019-02-25T15:45:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":167966309,"node_id":"MDEwOlJlcG9zaXRvcnkxNjc5NjYzMDk=","name":"surl","full_name":"levpay/surl","private":false,"owner":{"login":"levpay","id":27030359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI3MDMwMzU5","avatar_url":"https://avatars.githubusercontent.com/u/27030359?v=4","gravatar_id":"","url":"https://api.github.com/users/levpay","html_url":"https://github.com/levpay","followers_url":"https://api.github.com/users/levpay/followers","following_url":"https://api.github.com/users/levpay/following{/other_user}","gists_url":"https://api.github.com/users/levpay/gists{/gist_id}","starred_url":"https://api.github.com/users/levpay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levpay/subscriptions","organizations_url":"https://api.github.com/users/levpay/orgs","repos_url":"https://api.github.com/users/levpay/repos","events_url":"https://api.github.com/users/levpay/events{/privacy}","received_events_url":"https://api.github.com/users/levpay/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/levpay/surl","description":"URL Shortener","fork":false,"url":"https://api.github.com/repos/levpay/surl","forks_url":"https://api.github.com/repos/levpay/surl/forks","keys_url":"https://api.github.com/repos/levpay/surl/keys{/key_id}","collaborators_url":"https://api.github.com/repos/levpay/surl/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/levpay/surl/teams","hooks_url":"https://api.github.com/repos/levpay/surl/hooks","issue_events_url":"https://api.github.com/repos/levpay/surl/issues/events{/number}","events_url":"https://api.github.com/repos/levpay/surl/events","assignees_url":"https://api.github.com/repos/levpay/surl/assignees{/user}","branches_url":"https://api.github.com/repos/levpay/surl/branches{/branch}","tags_url":"https://api.github.com/repos/levpay/surl/tags","blobs_url":"https://api.github.com/repos/levpay/surl/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/levpay/surl/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/levpay/surl/git/refs{/sha}","trees_url":"https://api.github.com/repos/levpay/surl/git/trees{/sha}","statuses_url":"https://api.github.com/repos/levpay/surl/statuses/{sha}","languages_url":"https://api.github.com/repos/levpay/surl/languages","stargazers_url":"https://api.github.com/repos/levpay/surl/stargazers","contributors_url":"https://api.github.com/repos/levpay/surl/contributors","subscribers_url":"https://api.github.com/repos/levpay/surl/subscribers","subscription_url":"https://api.github.com/repos/levpay/surl/subscription","commits_url":"https://api.github.com/repos/levpay/surl/commits{/sha}","git_commits_url":"https://api.github.com/repos/levpay/surl/git/commits{/sha}","comments_url":"https://api.github.com/repos/levpay/surl/comments{/number}","issue_comment_url":"https://api.github.com/repos/levpay/surl/issues/comments{/number}","contents_url":"https://api.github.com/repos/levpay/surl/contents/{+path}","compare_url":"https://api.github.com/repos/levpay/surl/compare/{base}...{head}","merges_url":"https://api.github.com/repos/levpay/surl/merges","archive_url":"https://api.github.com/repos/levpay/surl/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/levpay/surl/downloads","issues_url":"https://api.github.com/repos/levpay/surl/issues{/number}","pulls_url":"https://api.github.com/repos/levpay/surl/pulls{/number}","milestones_url":"https://api.github.com/repos/levpay/surl/milestones{/number}","notifications_url":"https://api.github.com/repos/levpay/surl/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/levpay/surl/labels{/name}","releases_url":"https://api.github.com/repos/levpay/surl/releases{/id}","deployments_url":"https://api.github.com/repos/levpay/surl/deployments","created_at":"2019-01-28T13:24:31Z","updated_at":"2021-11-25T02:07:16Z","pushed_at":"2021-01-12T03:15:58Z","git_url":"git://github.com/levpay/surl.git","ssh_url":"git@github.com:levpay/surl.git","clone_url":"https://github.com/levpay/surl.git","svn_url":"https://github.com/levpay/surl","homepage":null,"size":15,"stargazers_count":8,"watchers_count":8,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["golang","url-shortener","url-shortener-microservice"],"visibility":"public","forks":1,"open_issues":1,"watchers":8,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"server log:\r\n```\r\n2019-02-06T19:38:36.997830+00:00 heroku[router]: at=info method=POST path=\"/\" host=r.levpay.com request_id=c4c37abf-c292-49e1-9e39-9c4a3221a39f fwd=\"104.131.110.136\" dyno=web.1 connect=1ms service=4ms status=500 bytes=191 protocol=https\r\n2019-02-06T19:38:36.995962+00:00 app[web.1]: 2019/02/06 19:38:36 get redis client:  EOF\r\n2019-02-06T19:38:56+00:00 app[heroku-redis]: source=REDIS addon=redis-graceful-47889 sample#active-connections=1 sample#load-avg-1m=0.03 sample#load-avg-5m=0.02 sample#load-avg-15m=0.035 sample#read-iops=0 sample#write-iops=0.0093483 sample#memory-total=15664272kB sample#memory-free=14656648kB sample#memory-cached=501688kB sample#memory-redis=2965744bytes sample#hit-rate=0.4375 sample#evicted-keys=0\r\n```\r\n\r\nrefs:\r\n- https://github.com/go-redis/redis/issues/846\r\n- https://github.com/go-redis/redis/issues/84","reactions":{"url":"https://api.github.com/repos/levpay/surl/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/levpay/surl/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"wansir","id":8263040,"node_id":"MDQ6VXNlcjgyNjMwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8263040?v=4","gravatar_id":"","url":"https://api.github.com/users/wansir","html_url":"https://github.com/wansir","followers_url":"https://api.github.com/users/wansir/followers","following_url":"https://api.github.com/users/wansir/following{/other_user}","gists_url":"https://api.github.com/users/wansir/gists{/gist_id}","starred_url":"https://api.github.com/users/wansir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wansir/subscriptions","organizations_url":"https://api.github.com/users/wansir/orgs","repos_url":"https://api.github.com/users/wansir/repos","events_url":"https://api.github.com/users/wansir/events{/privacy}","received_events_url":"https://api.github.com/users/wansir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T08:54:32Z","updated_at":"2019-10-25T08:54:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180","repository_url":"https://api.github.com/repos/kubesphere/kubesphere","labels_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180/labels{/name}","comments_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180/comments","events_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180/events","html_url":"https://github.com/kubesphere/kubesphere/pull/1180","id":512079045,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMyMTU4NDk4","number":1180,"title":"support more redis client options","user":{"login":"wansir","id":8263040,"node_id":"MDQ6VXNlcjgyNjMwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8263040?v=4","gravatar_id":"","url":"https://api.github.com/users/wansir","html_url":"https://github.com/wansir","followers_url":"https://api.github.com/users/wansir/followers","following_url":"https://api.github.com/users/wansir/following{/other_user}","gists_url":"https://api.github.com/users/wansir/gists{/gist_id}","starred_url":"https://api.github.com/users/wansir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wansir/subscriptions","organizations_url":"https://api.github.com/users/wansir/orgs","repos_url":"https://api.github.com/users/wansir/repos","events_url":"https://api.github.com/users/wansir/events{/privacy}","received_events_url":"https://api.github.com/users/wansir/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":908983887,"node_id":"MDU6TGFiZWw5MDg5ODM4ODc=","url":"https://api.github.com/repos/kubesphere/kubesphere/labels/kind/feature","name":"kind/feature","color":"c7def8","default":false,"description":"Categorizes issue or PR as related to a new feature."},{"id":1484862074,"node_id":"MDU6TGFiZWwxNDg0ODYyMDc0","url":"https://api.github.com/repos/kubesphere/kubesphere/labels/size/L","name":"size/L","color":"ee9900","default":false,"description":"Denotes a PR that changes 100-499 lines, ignoring generated files."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-10-24T17:26:25Z","updated_at":"2019-12-02T03:19:22Z","closed_at":"2019-10-25T15:20:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":130430977,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA0MzA5Nzc=","name":"kubesphere","full_name":"kubesphere/kubesphere","private":false,"owner":{"login":"kubesphere","id":37326490,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM3MzI2NDkw","avatar_url":"https://avatars.githubusercontent.com/u/37326490?v=4","gravatar_id":"","url":"https://api.github.com/users/kubesphere","html_url":"https://github.com/kubesphere","followers_url":"https://api.github.com/users/kubesphere/followers","following_url":"https://api.github.com/users/kubesphere/following{/other_user}","gists_url":"https://api.github.com/users/kubesphere/gists{/gist_id}","starred_url":"https://api.github.com/users/kubesphere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kubesphere/subscriptions","organizations_url":"https://api.github.com/users/kubesphere/orgs","repos_url":"https://api.github.com/users/kubesphere/repos","events_url":"https://api.github.com/users/kubesphere/events{/privacy}","received_events_url":"https://api.github.com/users/kubesphere/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kubesphere/kubesphere","description":"The container platform tailored for Kubernetes multi-cloud, datacenter, and edge management   ","fork":false,"url":"https://api.github.com/repos/kubesphere/kubesphere","forks_url":"https://api.github.com/repos/kubesphere/kubesphere/forks","keys_url":"https://api.github.com/repos/kubesphere/kubesphere/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kubesphere/kubesphere/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kubesphere/kubesphere/teams","hooks_url":"https://api.github.com/repos/kubesphere/kubesphere/hooks","issue_events_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/events{/number}","events_url":"https://api.github.com/repos/kubesphere/kubesphere/events","assignees_url":"https://api.github.com/repos/kubesphere/kubesphere/assignees{/user}","branches_url":"https://api.github.com/repos/kubesphere/kubesphere/branches{/branch}","tags_url":"https://api.github.com/repos/kubesphere/kubesphere/tags","blobs_url":"https://api.github.com/repos/kubesphere/kubesphere/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kubesphere/kubesphere/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kubesphere/kubesphere/git/refs{/sha}","trees_url":"https://api.github.com/repos/kubesphere/kubesphere/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kubesphere/kubesphere/statuses/{sha}","languages_url":"https://api.github.com/repos/kubesphere/kubesphere/languages","stargazers_url":"https://api.github.com/repos/kubesphere/kubesphere/stargazers","contributors_url":"https://api.github.com/repos/kubesphere/kubesphere/contributors","subscribers_url":"https://api.github.com/repos/kubesphere/kubesphere/subscribers","subscription_url":"https://api.github.com/repos/kubesphere/kubesphere/subscription","commits_url":"https://api.github.com/repos/kubesphere/kubesphere/commits{/sha}","git_commits_url":"https://api.github.com/repos/kubesphere/kubesphere/git/commits{/sha}","comments_url":"https://api.github.com/repos/kubesphere/kubesphere/comments{/number}","issue_comment_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/comments{/number}","contents_url":"https://api.github.com/repos/kubesphere/kubesphere/contents/{+path}","compare_url":"https://api.github.com/repos/kubesphere/kubesphere/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kubesphere/kubesphere/merges","archive_url":"https://api.github.com/repos/kubesphere/kubesphere/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kubesphere/kubesphere/downloads","issues_url":"https://api.github.com/repos/kubesphere/kubesphere/issues{/number}","pulls_url":"https://api.github.com/repos/kubesphere/kubesphere/pulls{/number}","milestones_url":"https://api.github.com/repos/kubesphere/kubesphere/milestones{/number}","notifications_url":"https://api.github.com/repos/kubesphere/kubesphere/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kubesphere/kubesphere/labels{/name}","releases_url":"https://api.github.com/repos/kubesphere/kubesphere/releases{/id}","deployments_url":"https://api.github.com/repos/kubesphere/kubesphere/deployments","created_at":"2018-04-21T02:03:04Z","updated_at":"2025-11-10T06:06:30Z","pushed_at":"2025-11-06T23:46:34Z","git_url":"git://github.com/kubesphere/kubesphere.git","ssh_url":"git@github.com:kubesphere/kubesphere.git","clone_url":"https://github.com/kubesphere/kubesphere.git","svn_url":"https://github.com/kubesphere/kubesphere","homepage":"https://kubesphere.io","size":97886,"stargazers_count":16707,"watchers_count":16707,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":2703,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":325,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["argocd","cloud-native","cncf","container-management","devops","ebpf","hacktoberfest","istio","jenkins","k8s","kubernetes","kubernetes-platform-solution","kubesphere","llm","multi-cluster","observability","servicemesh"],"visibility":"public","forks":2703,"open_issues":325,"watchers":16707,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/kubesphere/kubesphere/pulls/1180","html_url":"https://github.com/kubesphere/kubesphere/pull/1180","diff_url":"https://github.com/kubesphere/kubesphere/pull/1180.diff","patch_url":"https://github.com/kubesphere/kubesphere/pull/1180.patch","merged_at":null},"body":"Signed-off-by: hongming <talonwan@yunify.com>\r\n\r\n**What type of PR is this?**\r\n\r\n/kind feature\r\n\r\n**What this PR does / why we need it**:\r\n\r\nsupport maxRetries options, fix EOF errors when network is unreliable","reactions":{"url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/kubesphere/kubesphere/issues/1180/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"johannesvietze","id":3875324,"node_id":"MDQ6VXNlcjM4NzUzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3875324?v=4","gravatar_id":"","url":"https://api.github.com/users/johannesvietze","html_url":"https://github.com/johannesvietze","followers_url":"https://api.github.com/users/johannesvietze/followers","following_url":"https://api.github.com/users/johannesvietze/following{/other_user}","gists_url":"https://api.github.com/users/johannesvietze/gists{/gist_id}","starred_url":"https://api.github.com/users/johannesvietze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johannesvietze/subscriptions","organizations_url":"https://api.github.com/users/johannesvietze/orgs","repos_url":"https://api.github.com/users/johannesvietze/repos","events_url":"https://api.github.com/users/johannesvietze/events{/privacy}","received_events_url":"https://api.github.com/users/johannesvietze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T14:00:14Z","updated_at":"2020-06-10T14:00:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alicebob/miniredis/issues/36","repository_url":"https://api.github.com/repos/alicebob/miniredis","labels_url":"https://api.github.com/repos/alicebob/miniredis/issues/36/labels{/name}","comments_url":"https://api.github.com/repos/alicebob/miniredis/issues/36/comments","events_url":"https://api.github.com/repos/alicebob/miniredis/issues/36/events","html_url":"https://github.com/alicebob/miniredis/issues/36","id":318253485,"node_id":"MDU6SXNzdWUzMTgyNTM0ODU=","number":36,"title":"Simulate server unavailable?","user":{"login":"elliotchance","id":927418,"node_id":"MDQ6VXNlcjkyNzQxOA==","avatar_url":"https://avatars.githubusercontent.com/u/927418?v=4","gravatar_id":"","url":"https://api.github.com/users/elliotchance","html_url":"https://github.com/elliotchance","followers_url":"https://api.github.com/users/elliotchance/followers","following_url":"https://api.github.com/users/elliotchance/following{/other_user}","gists_url":"https://api.github.com/users/elliotchance/gists{/gist_id}","starred_url":"https://api.github.com/users/elliotchance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elliotchance/subscriptions","organizations_url":"https://api.github.com/users/elliotchance/orgs","repos_url":"https://api.github.com/users/elliotchance/repos","events_url":"https://api.github.com/users/elliotchance/events{/privacy}","received_events_url":"https://api.github.com/users/elliotchance/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2018-04-27T02:05:03Z","updated_at":"2020-09-16T07:44:41Z","closed_at":"2020-09-16T07:44:41Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23625881,"node_id":"MDEwOlJlcG9zaXRvcnkyMzYyNTg4MQ==","name":"miniredis","full_name":"alicebob/miniredis","private":false,"owner":{"login":"alicebob","id":621306,"node_id":"MDQ6VXNlcjYyMTMwNg==","avatar_url":"https://avatars.githubusercontent.com/u/621306?v=4","gravatar_id":"","url":"https://api.github.com/users/alicebob","html_url":"https://github.com/alicebob","followers_url":"https://api.github.com/users/alicebob/followers","following_url":"https://api.github.com/users/alicebob/following{/other_user}","gists_url":"https://api.github.com/users/alicebob/gists{/gist_id}","starred_url":"https://api.github.com/users/alicebob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alicebob/subscriptions","organizations_url":"https://api.github.com/users/alicebob/orgs","repos_url":"https://api.github.com/users/alicebob/repos","events_url":"https://api.github.com/users/alicebob/events{/privacy}","received_events_url":"https://api.github.com/users/alicebob/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alicebob/miniredis","description":"Pure Go Redis server for Go unittests","fork":false,"url":"https://api.github.com/repos/alicebob/miniredis","forks_url":"https://api.github.com/repos/alicebob/miniredis/forks","keys_url":"https://api.github.com/repos/alicebob/miniredis/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alicebob/miniredis/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alicebob/miniredis/teams","hooks_url":"https://api.github.com/repos/alicebob/miniredis/hooks","issue_events_url":"https://api.github.com/repos/alicebob/miniredis/issues/events{/number}","events_url":"https://api.github.com/repos/alicebob/miniredis/events","assignees_url":"https://api.github.com/repos/alicebob/miniredis/assignees{/user}","branches_url":"https://api.github.com/repos/alicebob/miniredis/branches{/branch}","tags_url":"https://api.github.com/repos/alicebob/miniredis/tags","blobs_url":"https://api.github.com/repos/alicebob/miniredis/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alicebob/miniredis/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alicebob/miniredis/git/refs{/sha}","trees_url":"https://api.github.com/repos/alicebob/miniredis/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alicebob/miniredis/statuses/{sha}","languages_url":"https://api.github.com/repos/alicebob/miniredis/languages","stargazers_url":"https://api.github.com/repos/alicebob/miniredis/stargazers","contributors_url":"https://api.github.com/repos/alicebob/miniredis/contributors","subscribers_url":"https://api.github.com/repos/alicebob/miniredis/subscribers","subscription_url":"https://api.github.com/repos/alicebob/miniredis/subscription","commits_url":"https://api.github.com/repos/alicebob/miniredis/commits{/sha}","git_commits_url":"https://api.github.com/repos/alicebob/miniredis/git/commits{/sha}","comments_url":"https://api.github.com/repos/alicebob/miniredis/comments{/number}","issue_comment_url":"https://api.github.com/repos/alicebob/miniredis/issues/comments{/number}","contents_url":"https://api.github.com/repos/alicebob/miniredis/contents/{+path}","compare_url":"https://api.github.com/repos/alicebob/miniredis/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alicebob/miniredis/merges","archive_url":"https://api.github.com/repos/alicebob/miniredis/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alicebob/miniredis/downloads","issues_url":"https://api.github.com/repos/alicebob/miniredis/issues{/number}","pulls_url":"https://api.github.com/repos/alicebob/miniredis/pulls{/number}","milestones_url":"https://api.github.com/repos/alicebob/miniredis/milestones{/number}","notifications_url":"https://api.github.com/repos/alicebob/miniredis/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alicebob/miniredis/labels{/name}","releases_url":"https://api.github.com/repos/alicebob/miniredis/releases{/id}","deployments_url":"https://api.github.com/repos/alicebob/miniredis/deployments","created_at":"2014-09-03T15:24:50Z","updated_at":"2025-11-07T15:23:31Z","pushed_at":"2025-10-15T07:46:51Z","git_url":"git://github.com/alicebob/miniredis.git","ssh_url":"git@github.com:alicebob/miniredis.git","clone_url":"https://github.com/alicebob/miniredis.git","svn_url":"https://github.com/alicebob/miniredis","homepage":"","size":1200,"stargazers_count":3398,"watchers_count":3398,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":237,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":12,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","redis","unittest"],"visibility":"public","forks":237,"open_issues":12,"watchers":3398,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I have a health check that pings redis to make sure it's alive. How do I configure or mock miniredis to pretend that is unavailable/unresponsive? Also specifying a timeout on the request?","reactions":{"url":"https://api.github.com/repos/alicebob/miniredis/issues/36/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alicebob/miniredis/issues/36/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]