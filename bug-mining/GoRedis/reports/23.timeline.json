[{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/189211079","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-189211079","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":189211079,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTIxMTA3OQ==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-26T10:36:17Z","updated_at":"2016-02-26T10:36:17Z","body":"`stickyConnPool` is used with PubSub and Transaction, i.e. where connection has some state and requires special attention. For example, PubSub manually closes connection and resubscribes to channels - https://github.com/go-redis/redis/blob/master/pubsub.go#L235-L249\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/189211079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/189273956","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-189273956","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":189273956,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTI3Mzk1Ng==","user":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-26T13:30:28Z","updated_at":"2016-02-26T13:30:28Z","body":"Thank you!\nI met a problem when I use `Client.Watch`, redis server close the connection after a idle time, I received an error\n\n> Watch err: EOF\n> Unwatch failed: EOF\n\nthis bad connection will not be removed by `stickyConnPool` but return to `connPool` as a good one, and reset it's last use time. So next time when I fetch one for `stickyConnPool`, I still maybe get that bad one. And get the error forever\n\n> 2016/02/26 21:24:28 redis: Unwatch failed: write tcp 10.143.160.159:10583->10.117.81.193:6959: write: broken pipe\n> 2016/02/26 21:24:36 redis: Unwatch failed: write tcp 10.143.160.159:10583->10.117.81.193:6959: write: broken pipe\n> 2016/02/26 21:24:41 redis: Unwatch failed: write tcp 10.143.160.159:10583->10.117.81.193:6959: write: broken pipe\n> 2016/02/26 21:24:53 redis: Unwatch failed: write tcp 10.143.160.159:10583->10.117.81.193:6959: write: broken pipe\n\nBut the connection is over actually. Maybe the only solution is the bad connection idle before coming out from `connPool`.\n\nSo I think maybe stickyConnPool.Remove should remove the bad connection for the Transaction is already failed when Net error occurs.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/189273956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190280233","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190280233","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190280233,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDI4MDIzMw==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-29T16:36:39Z","updated_at":"2016-02-29T16:36:39Z","body":"Sorry, I did not have time to look at this yet. I will try to find time tomorrow.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190280233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190604361","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190604361","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190604361,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYwNDM2MQ==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T08:05:12Z","updated_at":"2016-03-01T08:05:12Z","body":"@dunixd can you please show the code?\n\nTechnically you should not keep `Multi` connection idle for long time. Workflow with `Multi` should be:\n- watch for key\n- exec some commands\n- close multi\n\nSee https://godoc.org/gopkg.in/redis.v3#example-Client-Watch for a good example.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190604361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":572649390,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTcyNjQ5Mzkw","url":"https://api.github.com/repos/redis/go-redis/issues/events/572649390","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-01T08:05:12Z","performed_via_github_app":null},{"id":572649392,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU3MjY0OTM5Mg==","url":"https://api.github.com/repos/redis/go-redis/issues/events/572649392","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-01T08:05:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190618846","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190618846","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190618846,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYxODg0Ng==","user":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T08:54:40Z","updated_at":"2016-03-01T08:54:40Z","body":"The workflow I follow is correct. The connection idle in the `connPool`, before fetched by `stickyConnPool`. It is because my wrong idle time setting. But when redis server close a connection for some reason, maybe an error, the state of the connection become `CLOSE_WAIT`. I am not very sure if this will happen. This is the background.\nSo when the bad connection is used it throw a `Net` error `EOF`. But as I see the bad connection will not be really deleted as the code\n\n```\nfunc (p *stickyConnPool) Remove(cn *conn, _ error) error {\n    defer p.mx.Unlock()\n    p.mx.Lock()\n    if p.closed {\n        return errClosed\n    }\n    if p.cn == nil {\n        panic(\"p.cn == nil\")\n    }\n    if cn != nil && p.cn != cn {\n        panic(\"p.cn != cn\")\n    }\n    return nil\n}\n```\n\nAnd when the `Multi` close the connection will be pushed back to the `connPool` by the `stickyConnPool` as a good one.\n\n```\nfunc (p *stickyConnPool) Close() error {\n    defer p.mx.Unlock()\n    p.mx.Lock()\n    if p.closed {\n        return errClosed\n    }\n    p.closed = true\n    var err error\n    if p.cn != nil {\n        if p.reusable {\n            err = p.put()\n        } else {\n            reason := errors.New(\"redis: sticky not reusable connection\")\n            err = p.remove(reason)\n        }\n    }\n    return err\n}\n```\n\n`p.reusable` is always true as the code\n\n```\nfunc (c *Client) Multi() *Multi {\n    multi := &Multi{\n        base: &baseClient{\n            opt:      c.opt,\n            connPool: newStickyConnPool(c.connPool, true),\n        },\n    }\n    multi.commandable.process = multi.process\n    return multi\n}\n```\n\nThen what I said before will happen.\nI am totally a new bird in github, and english is not my first language. So I am very happy for your response! Thank you!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190618846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190628956","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190628956","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190628956,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYyODk1Ng==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T09:18:29Z","updated_at":"2016-03-01T09:18:29Z","body":"I think bad connection is removed by following code https://github.com/go-redis/redis/blob/master/multi.go#L48-L58. We also have a basic test https://github.com/go-redis/redis/blob/master/multi_test.go#L143-L168\n\nBut overall I agree that code is unnecessary complicated and subtle. I am thinking how to simplify it.\n\nBut if you could provide code to reproduce the issue I can try to dig deeper.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190628956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":572814819,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MjgxNDgxOQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/572814819","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1b0f76a55bfdb132d850ba4adce3ed099eb166b3","commit_url":"https://api.github.com/repos/redis/go-redis/commits/1b0f76a55bfdb132d850ba4adce3ed099eb166b3","created_at":"2016-03-01T10:31:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190674704","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190674704","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190674704,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDY3NDcwNA==","user":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T11:24:08Z","updated_at":"2016-03-01T11:24:08Z","body":"This demo will display what I meet\n\n```\npackage main\n\nimport (\n    \"gopkg.in/redis.v3\"\n    \"time\"\n    \"fmt\"\n)\nvar LOGGER_NAME = \"REDIS_EXECUTOR\"\nfunc DEBUG(format string, args ...interface{}) {\n    fmt.Printf(\"[DEBUG] [\" + LOGGER_NAME + \"] \" + format + \"\\n\", args...)\n}\nfunc INFO(format string, args ...interface{}) {\n    fmt.Printf(\"[INFO ] [\" + LOGGER_NAME + \"] \" + format + \"\\n\", args...)\n}\nfunc WARN(format string, args ...interface{}) {\n    fmt.Printf(\"[WARN ] [\" + LOGGER_NAME + \"] \" + format + \"\\n\", args...)\n}\nfunc ERROR(format string, args ...interface{}) {\n    fmt.Printf(\"[ERROR] [\" + LOGGER_NAME + \"] \" + format + \"\\n\", args...)\n}\n\nfunc main() {\n    INFO(\"Begin!\")\n    master := redis.NewClient(&redis.Options{\n        Addr:        \"127.0.0.1:28000\",\n        DB:          0,\n        PoolTimeout: time.Millisecond * 1,\n        IdleTimeout: time.Second * 120,\n        PoolSize:    5,\n    })\n    pong, err := master.Ping().Result()\n    INFO(\"master pong: %v, err: %v\", pong, err)\n    if err != nil {\n        WARN(\"master.Ping err: %v\", err)\n        return\n    }\n\n    count := 0\n    for {\n        count++\n        INFO(\"count: %d\", count)\n        func () error {\n            tx, err := master.Watch(\"watch-key\")\n            if err != nil {\n                WARN(\"Watch err: %v\", err)\n                return err\n            }\n            defer tx.Close()\n            return nil\n        }()\n        time.Sleep(time.Second * 1)\n    }\n\n    INFO(\"End!\")\n}\n```\n\nFirst. Run it\n\n> [INFO ] [REDIS_EXECUTOR] Begin!\n> [INFO ] [REDIS_EXECUTOR] master pong: PONG, err: <nil>\n> [INFO ] [REDIS_EXECUTOR] count: 1\n> [INFO ] [REDIS_EXECUTOR] count: 2\n> [INFO ] [REDIS_EXECUTOR] count: 3\n> [INFO ] [REDIS_EXECUTOR] count: 4\n> [INFO ] [REDIS_EXECUTOR] count: 5\n> [INFO ] [REDIS_EXECUTOR] count: 6\n> [INFO ] [REDIS_EXECUTOR] count: 7\n> [INFO ] [REDIS_EXECUTOR] count: 8\n> [INFO ] [REDIS_EXECUTOR] count: 9\n> [INFO ] [REDIS_EXECUTOR] count: 10\n> [INFO ] [REDIS_EXECUTOR] count: 11\n> ...\n\nSecond. Restart redis server\nThird. Then the program will display err forever\n\n> 2016/03/01 19:05:29 redis: Unwatch failed: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [WARN ] [REDIS_EXECUTOR] Watch err: read tcp 127.0.0.1:60738->127.0.0.1:28000: read: connection reset by peer\n> [INFO ] [REDIS_EXECUTOR] count: 44\n> 2016/03/01 19:05:30 redis: Unwatch failed: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [WARN ] [REDIS_EXECUTOR] Watch err: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [INFO ] [REDIS_EXECUTOR] count: 45\n> 2016/03/01 19:05:31 redis: Unwatch failed: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [WARN ] [REDIS_EXECUTOR] Watch err: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [INFO ] [REDIS_EXECUTOR] count: 46\n> 2016/03/01 19:05:32 redis: Unwatch failed: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [WARN ] [REDIS_EXECUTOR] Watch err: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [INFO ] [REDIS_EXECUTOR] count: 47\n> 2016/03/01 19:05:33 redis: Unwatch failed: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [WARN ] [REDIS_EXECUTOR] Watch err: write tcp 127.0.0.1:60738->127.0.0.1:28000: write: broken pipe\n> [INFO ] [REDIS_EXECUTOR] count: 48\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190674704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190679157","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190679157","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190679157,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDY3OTE1Nw==","user":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T11:31:37Z","updated_at":"2016-03-01T11:31:37Z","body":"When I call Client.Watch the process will call baseClient.process as this code\n\n```\nfunc (c *Multi) process(cmd Cmder) {\n    if c.cmds == nil {\n        c.base.process(cmd)\n    } else {\n        c.cmds = append(c.cmds, cmd)\n    }\n}\n```\n\nSo when baseClient.process run to [https://github.com/go-redis/redis/blob/master/redis.go#L62-L62](https://github.com/go-redis/redis/blob/master/redis.go#L62-L62), baseClient.putConn will be called after, not Multi.putConn\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190679157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":572902011,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MjkwMjAxMQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/572902011","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"db9fcf15fe5324d3f46311954105d0a538281524","commit_url":"https://api.github.com/repos/redis/go-redis/commits/db9fcf15fe5324d3f46311954105d0a538281524","created_at":"2016-03-01T11:41:57Z","performed_via_github_app":null},{"id":572927836,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MjkyNzgzNg==","url":"https://api.github.com/repos/redis/go-redis/issues/events/572927836","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8404bda03192f34ca71099d59c710968c62544ab","commit_url":"https://api.github.com/repos/redis/go-redis/commits/8404bda03192f34ca71099d59c710968c62544ab","created_at":"2016-03-01T12:08:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190689975","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190689975","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190689975,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDY4OTk3NQ==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T12:09:25Z","updated_at":"2016-03-01T12:09:25Z","body":"Thanks for the reproducer. I verified that it is fixed in https://github.com/go-redis/redis/pull/261 and added a test.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190689975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":572931559,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MjkzMTU1OQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/572931559","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"110e93a8e4e53c2a60d662d414afbdc5b21dff70","commit_url":"https://api.github.com/repos/redis/go-redis/commits/110e93a8e4e53c2a60d662d414afbdc5b21dff70","created_at":"2016-03-01T12:12:46Z","performed_via_github_app":null},{"id":573163469,"node_id":"MDExOkNsb3NlZEV2ZW50NTczMTYzNDY5","url":"https://api.github.com/repos/redis/go-redis/issues/events/573163469","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"110e93a8e4e53c2a60d662d414afbdc5b21dff70","commit_url":"https://api.github.com/repos/redis/go-redis/commits/110e93a8e4e53c2a60d662d414afbdc5b21dff70","created_at":"2016-03-01T15:12:49Z","state_reason":null,"performed_via_github_app":null},{"id":573163471,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3MzE2MzQ3MQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/573163471","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a4e4d1da06952ce90d8ec6604261c8a74432b282","commit_url":"https://api.github.com/repos/redis/go-redis/commits/a4e4d1da06952ce90d8ec6604261c8a74432b282","created_at":"2016-03-01T15:12:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190764497","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-190764497","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":190764497,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDc2NDQ5Nw==","user":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-01T15:14:15Z","updated_at":"2016-03-01T15:14:15Z","body":"@dunixd I just released v3.3.0 with fix. Please try it.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/190764497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vmihailenco","id":290976,"node_id":"MDQ6VXNlcjI5MDk3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/290976?v=4","gravatar_id":"","url":"https://api.github.com/users/vmihailenco","html_url":"https://github.com/vmihailenco","followers_url":"https://api.github.com/users/vmihailenco/followers","following_url":"https://api.github.com/users/vmihailenco/following{/other_user}","gists_url":"https://api.github.com/users/vmihailenco/gists{/gist_id}","starred_url":"https://api.github.com/users/vmihailenco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmihailenco/subscriptions","organizations_url":"https://api.github.com/users/vmihailenco/orgs","repos_url":"https://api.github.com/users/vmihailenco/repos","events_url":"https://api.github.com/users/vmihailenco/events{/privacy}","received_events_url":"https://api.github.com/users/vmihailenco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":573166384,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTczMTY2Mzg0","url":"https://api.github.com/repos/redis/go-redis/issues/events/573166384","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-01T15:14:15Z","performed_via_github_app":null},{"id":573166385,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU3MzE2NjM4NQ==","url":"https://api.github.com/repos/redis/go-redis/issues/events/573166385","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-01T15:14:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/191021564","html_url":"https://github.com/redis/go-redis/issues/260#issuecomment-191021564","issue_url":"https://api.github.com/repos/redis/go-redis/issues/260","id":191021564,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MTAyMTU2NA==","user":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-02T02:27:22Z","updated_at":"2016-03-02T02:27:22Z","body":"OK, I am using it. Thank you very much!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/redis/go-redis/issues/comments/191021564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dunixd","id":17490414,"node_id":"MDQ6VXNlcjE3NDkwNDE0","avatar_url":"https://avatars.githubusercontent.com/u/17490414?v=4","gravatar_id":"","url":"https://api.github.com/users/dunixd","html_url":"https://github.com/dunixd","followers_url":"https://api.github.com/users/dunixd/followers","following_url":"https://api.github.com/users/dunixd/following{/other_user}","gists_url":"https://api.github.com/users/dunixd/gists{/gist_id}","starred_url":"https://api.github.com/users/dunixd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dunixd/subscriptions","organizations_url":"https://api.github.com/users/dunixd/orgs","repos_url":"https://api.github.com/users/dunixd/repos","events_url":"https://api.github.com/users/dunixd/events{/privacy}","received_events_url":"https://api.github.com/users/dunixd/received_events","type":"User","user_view_type":"public","site_admin":false}}]