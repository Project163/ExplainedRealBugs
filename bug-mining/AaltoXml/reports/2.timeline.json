[{"id":8783376,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDg3ODMzNzY=","url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/events/8783376","actor":{"login":"bblfish","id":124506,"node_id":"MDQ6VXNlcjEyNDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/124506?v=4","gravatar_id":"","url":"https://api.github.com/users/bblfish","html_url":"https://github.com/bblfish","followers_url":"https://api.github.com/users/bblfish/followers","following_url":"https://api.github.com/users/bblfish/following{/other_user}","gists_url":"https://api.github.com/users/bblfish/gists{/gist_id}","starred_url":"https://api.github.com/users/bblfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bblfish/subscriptions","organizations_url":"https://api.github.com/users/bblfish/orgs","repos_url":"https://api.github.com/users/bblfish/repos","events_url":"https://api.github.com/users/bblfish/events{/privacy}","received_events_url":"https://api.github.com/users/bblfish/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-02-01T00:30:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/3757416","html_url":"https://github.com/FasterXML/aalto-xml/issues/10#issuecomment-3757416","issue_url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/10","id":3757416,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTc0MTY=","user":{"login":"bblfish","id":124506,"node_id":"MDQ6VXNlcjEyNDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/124506?v=4","gravatar_id":"","url":"https://api.github.com/users/bblfish","html_url":"https://github.com/bblfish","followers_url":"https://api.github.com/users/bblfish/followers","following_url":"https://api.github.com/users/bblfish/following{/other_user}","gists_url":"https://api.github.com/users/bblfish/gists{/gist_id}","starred_url":"https://api.github.com/users/bblfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bblfish/subscriptions","organizations_url":"https://api.github.com/users/bblfish/orgs","repos_url":"https://api.github.com/users/bblfish/repos","events_url":"https://api.github.com/users/bblfish/events{/privacy}","received_events_url":"https://api.github.com/users/bblfish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-02-01T11:33:22Z","updated_at":"2012-02-01T11:33:22Z","body":"Well I  can solve this by capturing the exception and if I keep a reference to the stream reader I get the following code:\n\n```\npublic void parse() throws XMLStreamException, SAXException {\n    // We permit nesting, so keep at track of where we are\n    int level = 0;\n    try {\n        while (eventReader.hasNext()) {\n            XMLEvent e = eventReader.nextEvent();\n            if (e.isStartDocument()) handler.startDocument();\n            else if (e.isEndDocument()) handler.endDocument();\n            else if (e.isStartElement()) {\n                emitSE(e.asStartElement());\n                level++;\n            } else if (e.isEndElement()) {\n                emitEE(e.asEndElement());\n                level--;\n                if (level == 0) break;\n            } else if (e.isProcessingInstruction()) emitPi((ProcessingInstruction) e);\n            else if (e.isCharacters()) emitChars(e.asCharacters());\n            else if (e.isAttribute()) emitAttr((Attribute) e);\n            else if (e.isEntityReference()) emitEnt((EntityDeclaration) e);\n            else if (e.isNamespace()) emitNS((Namespace) e);\n            else if (e instanceof Comment) emitComment((Comment) e);\n            else if (e instanceof DTD) emitDTD((DTD) e);\n            else {\n                //System.err.println(\"Unknown / unhandled event type \" + e);\n                //throw new SAXException(\"Unknown / unhandled event type \" + e);\n            }\n        }\n    } catch (XMLStreamException e) {\n        if (streamReader.getEventType() == AsyncXMLStreamReader.EVENT_INCOMPLETE) {\n            return;\n        } else throw e;\n    }\n}\n```\n\nBut still perhaps something worth keeping in mind...\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/3757416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bblfish","id":124506,"node_id":"MDQ6VXNlcjEyNDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/124506?v=4","gravatar_id":"","url":"https://api.github.com/users/bblfish","html_url":"https://github.com/bblfish","followers_url":"https://api.github.com/users/bblfish/followers","following_url":"https://api.github.com/users/bblfish/following{/other_user}","gists_url":"https://api.github.com/users/bblfish/gists{/gist_id}","starred_url":"https://api.github.com/users/bblfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bblfish/subscriptions","organizations_url":"https://api.github.com/users/bblfish/orgs","repos_url":"https://api.github.com/users/bblfish/repos","events_url":"https://api.github.com/users/bblfish/events{/privacy}","received_events_url":"https://api.github.com/users/bblfish/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/3761477","html_url":"https://github.com/FasterXML/aalto-xml/issues/10#issuecomment-3761477","issue_url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/10","id":3761477,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjE0Nzc=","user":{"login":"bblfish","id":124506,"node_id":"MDQ6VXNlcjEyNDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/124506?v=4","gravatar_id":"","url":"https://api.github.com/users/bblfish","html_url":"https://github.com/bblfish","followers_url":"https://api.github.com/users/bblfish/followers","following_url":"https://api.github.com/users/bblfish/following{/other_user}","gists_url":"https://api.github.com/users/bblfish/gists{/gist_id}","starred_url":"https://api.github.com/users/bblfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bblfish/subscriptions","organizations_url":"https://api.github.com/users/bblfish/orgs","repos_url":"https://api.github.com/users/bblfish/repos","events_url":"https://api.github.com/users/bblfish/events{/privacy}","received_events_url":"https://api.github.com/users/bblfish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-02-01T16:16:22Z","updated_at":"2012-02-01T16:16:22Z","body":"That did not quite work. Sorry I should have tested first.\n\nThe following seems to do the trick (but is it just cheer coincidence?) \nEssentially the problem is that there are EventIncomplete exceptions thrown,\nbut whenever they are, I try one more time, to see if the next attempt gets us out\nof it. I was hoping this would allow me to step over an exception, since I can't do\nit otherwise. I have parsed 12MB xml files with this. So it seems to work.\n\n   public void parse() throws XMLStreamException, SAXException {\n        // We permit nesting, so keep at track of where we are\n        boolean consecutive_incomplete = false;\n        while (eventReader.hasNext()) {\n            try {\n                XMLEvent e = eventReader.nextEvent();\n                if (handleXMLEvent(e)) break;\n                consecutive_incomplete=false;\n            } catch (XMLStreamException e) {\n                if (streamReader.getEventType() == AsyncXMLStreamReader.EVENT_INCOMPLETE) {\n                   System.out.println(\"Event incomplete\");\n                   if (consecutive_incomplete) return;\n                   else consecutive_incomplete=true;\n                } else throw e;\n            }\n        }\n    }\n\nThe code I just checked in for those two is here:\n\nhttps://dvcs.w3.org/hg/read-write-web/file/d9c1f87eee55/src/main/scala/cache/WebFetcher.scala\nhttps://dvcs.w3.org/hg/read-write-web/file/aa9074df0635/src/main/java/patch/AsyncJenaParser.java\n\nI tested it on a 30MB RDF/XML file at it gave the same results as other parsers.\n\nSo one can get this done. But perhaps somewhere a clever library improvement could be useful.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/3761477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bblfish","id":124506,"node_id":"MDQ6VXNlcjEyNDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/124506?v=4","gravatar_id":"","url":"https://api.github.com/users/bblfish","html_url":"https://github.com/bblfish","followers_url":"https://api.github.com/users/bblfish/followers","following_url":"https://api.github.com/users/bblfish/following{/other_user}","gists_url":"https://api.github.com/users/bblfish/gists{/gist_id}","starred_url":"https://api.github.com/users/bblfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bblfish/subscriptions","organizations_url":"https://api.github.com/users/bblfish/orgs","repos_url":"https://api.github.com/users/bblfish/repos","events_url":"https://api.github.com/users/bblfish/events{/privacy}","received_events_url":"https://api.github.com/users/bblfish/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/75879866","html_url":"https://github.com/FasterXML/aalto-xml/issues/10#issuecomment-75879866","issue_url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/10","id":75879866,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODc5ODY2","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-25T00:15:09Z","updated_at":"2015-02-25T00:15:09Z","body":"I know this is an old issue, but I forgot to add the obvious question: why use Event API? It does not really add much value here; and cursor API would just return EVENT_INCOMPLETE without problems.\n\nThat said, I'll look to see if it'd be easy to expose custom additional Event. But in general I would recommend only using Event API if nothing else works. :)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/75879866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":242118134,"node_id":"MDExOkNsb3NlZEV2ZW50MjQyMTE4MTM0","url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/events/242118134","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"f11b1fdd29a2ce1426c45726453bdd49e1a65a78","commit_url":"https://api.github.com/repos/FasterXML/aalto-xml/commits/f11b1fdd29a2ce1426c45726453bdd49e1a65a78","created_at":"2015-02-25T23:05:28Z","state_reason":null,"performed_via_github_app":null},{"id":242118157,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI0MjExODE1Nw==","url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/events/242118157","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-02-25T23:05:33Z","milestone":{"title":"0.9.11"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/76081192","html_url":"https://github.com/FasterXML/aalto-xml/issues/10#issuecomment-76081192","issue_url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/10","id":76081192,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDgxMTky","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-25T23:06:00Z","updated_at":"2015-02-25T23:06:00Z","body":"Good news: this was relatively easy to do. Now there is new event type, `IncompleteEvent`, and I added basic tests.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/aalto-xml/issues/comments/76081192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}}]