{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/22244","id":2276371118,"node_id":"I_kwDOBlCVUc6Hrqqu","number":22244,"title":"[DocDB] XCluster: Support for adding indexes without stopping workload with multi-master active-active","user":{"login":"lingamsandeep","id":99765181,"node_id":"U_kgDOBfJLvQ","avatar_url":"https://avatars.githubusercontent.com/u/99765181?v=4","gravatar_id":"","url":"https://api.github.com/users/lingamsandeep","html_url":"https://github.com/lingamsandeep","followers_url":"https://api.github.com/users/lingamsandeep/followers","following_url":"https://api.github.com/users/lingamsandeep/following{/other_user}","gists_url":"https://api.github.com/users/lingamsandeep/gists{/gist_id}","starred_url":"https://api.github.com/users/lingamsandeep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingamsandeep/subscriptions","organizations_url":"https://api.github.com/users/lingamsandeep/orgs","repos_url":"https://api.github.com/users/lingamsandeep/repos","events_url":"https://api.github.com/users/lingamsandeep/events{/privacy}","received_events_url":"https://api.github.com/users/lingamsandeep/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841624,"node_id":"MDU6TGFiZWw3MTE4NDE2MjQ=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/enhancement","name":"kind/enhancement","color":"c2e0c6","default":false,"description":"This is an enhancement of an existing feature"},{"id":1290759928,"node_id":"MDU6TGFiZWwxMjkwNzU5OTI4","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb","name":"area/docdb","color":"0c4fcc","default":false,"description":"YugabyteDB core features"},{"id":1419821900,"node_id":"MDU6TGFiZWwxNDE5ODIxOTAw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/medium","name":"priority/medium","color":"ffdc5e","default":false,"description":"Medium priority issue"}],"state":"closed","locked":false,"assignee":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-05-02T19:54:17Z","updated_at":"2024-10-15T22:58:00Z","closed_at":"2024-10-15T22:58:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-11162](https://yugabyte.atlassian.net/browse/DB-11162)\r\n### Description\n\nCurrent runbook for Active-Active Multi-Master xCluster customers for creating index without causing any transactional inconsistencies or gaps in the index is as follows\r\n\r\n1. Stop the workload on both sides on the main table\r\n2. Wait for replication to catchup in both directions for the main table\r\n3. Create the index on both sides\r\n4. Add the index to replication\r\n5. Wait for backfill to finish\r\n6. Resume workload.\r\n\r\nThis runbook does require extended downtime which may not be possible for a production app.\n\n### Issue Type\n\nkind/bug\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [X] I confirm this issue does not contain any sensitive information.\n\n[DB-11162]: https://yugabyte.atlassian.net/browse/DB-11162?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/22244/timeline","performed_via_github_app":null,"state_reason":"completed"}