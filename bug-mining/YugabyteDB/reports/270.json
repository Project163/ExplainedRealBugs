{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/26648","id":2967920588,"node_id":"I_kwDOBlCVUc6w5t_M","number":26648,"title":"[YSQL] Recommend read committed when data is not sent for the current query","user":{"login":"pao214","id":16426043,"node_id":"MDQ6VXNlcjE2NDI2MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16426043?v=4","gravatar_id":"","url":"https://api.github.com/users/pao214","html_url":"https://github.com/pao214","followers_url":"https://api.github.com/users/pao214/followers","following_url":"https://api.github.com/users/pao214/following{/other_user}","gists_url":"https://api.github.com/users/pao214/gists{/gist_id}","starred_url":"https://api.github.com/users/pao214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pao214/subscriptions","organizations_url":"https://api.github.com/users/pao214/orgs","repos_url":"https://api.github.com/users/pao214/repos","events_url":"https://api.github.com/users/pao214/events{/privacy}","received_events_url":"https://api.github.com/users/pao214/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841624,"node_id":"MDU6TGFiZWw3MTE4NDE2MjQ=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/enhancement","name":"kind/enhancement","color":"c2e0c6","default":false,"description":"This is an enhancement of an existing feature"},{"id":1280238232,"node_id":"MDU6TGFiZWwxMjgwMjM4MjMy","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/ysql","name":"area/ysql","color":"0c4fcc","default":false,"description":"Yugabyte SQL (YSQL)"},{"id":1419821900,"node_id":"MDU6TGFiZWwxNDE5ODIxOTAw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/medium","name":"priority/medium","color":"ffdc5e","default":false,"description":"Medium priority issue"},{"id":6803481567,"node_id":"LA_kwDOBlCVUc8AAAABlYTj3w","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/2024.2%20Backport%20Required","name":"2024.2 Backport Required","color":"FCF260","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"pao214","id":16426043,"node_id":"MDQ6VXNlcjE2NDI2MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16426043?v=4","gravatar_id":"","url":"https://api.github.com/users/pao214","html_url":"https://github.com/pao214","followers_url":"https://api.github.com/users/pao214/followers","following_url":"https://api.github.com/users/pao214/following{/other_user}","gists_url":"https://api.github.com/users/pao214/gists{/gist_id}","starred_url":"https://api.github.com/users/pao214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pao214/subscriptions","organizations_url":"https://api.github.com/users/pao214/orgs","repos_url":"https://api.github.com/users/pao214/repos","events_url":"https://api.github.com/users/pao214/events{/privacy}","received_events_url":"https://api.github.com/users/pao214/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"pao214","id":16426043,"node_id":"MDQ6VXNlcjE2NDI2MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16426043?v=4","gravatar_id":"","url":"https://api.github.com/users/pao214","html_url":"https://github.com/pao214","followers_url":"https://api.github.com/users/pao214/followers","following_url":"https://api.github.com/users/pao214/following{/other_user}","gists_url":"https://api.github.com/users/pao214/gists{/gist_id}","starred_url":"https://api.github.com/users/pao214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pao214/subscriptions","organizations_url":"https://api.github.com/users/pao214/orgs","repos_url":"https://api.github.com/users/pao214/repos","events_url":"https://api.github.com/users/pao214/events{/privacy}","received_events_url":"https://api.github.com/users/pao214/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2025-04-03T01:19:00Z","updated_at":"2025-04-04T20:10:17Z","closed_at":"2025-04-04T20:10:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-16025](https://yugabyte.atlassian.net/browse/DB-16025)\r\n### Description\n\nConsider the following scenario\n\n```\nBEGIN ISOLATION LEVEL REPEATABLE READ;\nINSERT ...\nINSERT ... <-- kConflict\nCOMMIT <-- could've committed if isolation level is READ COMMITTED\n```\n\nHowever, the current error response has this\n\n```\ncould not serialize access due to concurrent update (query layer retry isn't possible because data was already sent, if this is the read committed isolation (or) the first statement in repeatable read/ serializable isolation transaction, consider increasing the tserver gflag ysql_output_buffer_size)\n```\n\nThe recommendation to increase ysql_output_buffer_size is confusing because it is a tad difficult to understand that the recommendation is only applicable when this is a first statement of repeatable read txn. It is much better to recommend users to change isolation level to read committed.\n\n### Issue Type\n\nkind/enhancement\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [x] I confirm this issue does not contain any sensitive information.\n\n[DB-16025]: https://yugabyte.atlassian.net/browse/DB-16025?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"pao214","id":16426043,"node_id":"MDQ6VXNlcjE2NDI2MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16426043?v=4","gravatar_id":"","url":"https://api.github.com/users/pao214","html_url":"https://github.com/pao214","followers_url":"https://api.github.com/users/pao214/followers","following_url":"https://api.github.com/users/pao214/following{/other_user}","gists_url":"https://api.github.com/users/pao214/gists{/gist_id}","starred_url":"https://api.github.com/users/pao214/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pao214/subscriptions","organizations_url":"https://api.github.com/users/pao214/orgs","repos_url":"https://api.github.com/users/pao214/repos","events_url":"https://api.github.com/users/pao214/events{/privacy}","received_events_url":"https://api.github.com/users/pao214/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/26648/timeline","performed_via_github_app":null,"state_reason":"completed"}