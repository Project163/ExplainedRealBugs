{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/23897","id":2521253918,"node_id":"I_kwDOBlCVUc6WR0ge","number":23897,"title":"[xCluster][DDL Replication] Create table with Partition throws OBJECT_NOT_FOUND","user":{"login":"agsh-yb","id":121818428,"node_id":"U_kgDOB0LNPA","avatar_url":"https://avatars.githubusercontent.com/u/121818428?v=4","gravatar_id":"","url":"https://api.github.com/users/agsh-yb","html_url":"https://github.com/agsh-yb","followers_url":"https://api.github.com/users/agsh-yb/followers","following_url":"https://api.github.com/users/agsh-yb/following{/other_user}","gists_url":"https://api.github.com/users/agsh-yb/gists{/gist_id}","starred_url":"https://api.github.com/users/agsh-yb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agsh-yb/subscriptions","organizations_url":"https://api.github.com/users/agsh-yb/orgs","repos_url":"https://api.github.com/users/agsh-yb/repos","events_url":"https://api.github.com/users/agsh-yb/events{/privacy}","received_events_url":"https://api.github.com/users/agsh-yb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841622,"node_id":"MDU6TGFiZWw3MTE4NDE2MjI=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/bug","name":"kind/bug","color":"c2e0c6","default":false,"description":"This issue is a bug"},{"id":1290759928,"node_id":"MDU6TGFiZWwxMjkwNzU5OTI4","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb","name":"area/docdb","color":"0c4fcc","default":false,"description":"YugabyteDB core features"},{"id":1353907004,"node_id":"MDU6TGFiZWwxMzUzOTA3MDA0","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/high","name":"priority/high","color":"ffdc5e","default":false,"description":"High Priority"},{"id":3248174344,"node_id":"MDU6TGFiZWwzMjQ4MTc0MzQ0","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/QA","name":"QA","color":"A01624","default":false,"description":"QA filed bugs"},{"id":4528410201,"node_id":"LA_kwDOBlCVUc8AAAABDeoOWQ","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/qa_automation","name":"qa_automation","color":"D50043","default":false,"description":"Bugs identified via itest-system, LST, Stress automation or causing automation failures"},{"id":6312492630,"node_id":"LA_kwDOBlCVUc8AAAABeED-Vg","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/qa_itest-system","name":"qa_itest-system","color":"13CBE3","default":false,"description":"Bugs identified in itest-system automation"},{"id":7221621143,"node_id":"LA_kwDOBlCVUc8AAAABrnExlw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/2024.2_blocker","name":"2024.2_blocker","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"hulien22","id":32774836,"node_id":"MDQ6VXNlcjMyNzc0ODM2","avatar_url":"https://avatars.githubusercontent.com/u/32774836?v=4","gravatar_id":"","url":"https://api.github.com/users/hulien22","html_url":"https://github.com/hulien22","followers_url":"https://api.github.com/users/hulien22/followers","following_url":"https://api.github.com/users/hulien22/following{/other_user}","gists_url":"https://api.github.com/users/hulien22/gists{/gist_id}","starred_url":"https://api.github.com/users/hulien22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hulien22/subscriptions","organizations_url":"https://api.github.com/users/hulien22/orgs","repos_url":"https://api.github.com/users/hulien22/repos","events_url":"https://api.github.com/users/hulien22/events{/privacy}","received_events_url":"https://api.github.com/users/hulien22/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hulien22","id":32774836,"node_id":"MDQ6VXNlcjMyNzc0ODM2","avatar_url":"https://avatars.githubusercontent.com/u/32774836?v=4","gravatar_id":"","url":"https://api.github.com/users/hulien22","html_url":"https://github.com/hulien22","followers_url":"https://api.github.com/users/hulien22/followers","following_url":"https://api.github.com/users/hulien22/following{/other_user}","gists_url":"https://api.github.com/users/hulien22/gists{/gist_id}","starred_url":"https://api.github.com/users/hulien22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hulien22/subscriptions","organizations_url":"https://api.github.com/users/hulien22/orgs","repos_url":"https://api.github.com/users/hulien22/repos","events_url":"https://api.github.com/users/hulien22/events{/privacy}","received_events_url":"https://api.github.com/users/hulien22/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-09-12T03:30:41Z","updated_at":"2024-09-19T09:26:25Z","closed_at":"2024-09-16T17:33:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-12801](https://yugabyte.atlassian.net/browse/DB-12801)\r\n### Description\n\nAfter replication setup, if user tries to create table at source\r\n\r\n### Version\r\n 2.23.1.0-b160\r\n\r\n#### Error:\r\n```\r\ndb_ddl_non_col=# create table t1(id int, PRIMARY KEY (id))PARTITION BY RANGE (id);\r\nERROR:  Table with identifier 0000400000003000800000000000410b not found: OBJECT_NOT_FOUND\r\n```\r\n### Steps to reproduce:\r\n```\r\n1. Setup DDL replication\r\n2. At Source:\r\ndb_ddl_non_col=# create table t(id int);\r\nCREATE TABLE\r\ndb_ddl_non_col=# create table t1(id int, PRIMARY KEY (id))PARTITION BY RANGE (id);\r\nERROR:  Table with identifier 0000400000003000800000000000410b not found: OBJECT_NOT_FOUND\r\n\r\ndb_ddl_non_col=# select * from yb_xcluster_ddl_replication.ddl_queue;\r\n    start_time    | query_id  |                                                                               \r\n        yb_data                                                                                       \r\n------------------+-----------+-------------------------------------------------------------------------------\r\n------------------------------------------------------------------------------------------------------\r\n 1726074197549783 | 634315665 | {\"user\": \"yugabyte\", \"query\": \"create table t(id int);\", \"schema\": \"public\", \"\r\nversion\": 1, \"command_tag\": \"CREATE TABLE\", \"new_rel_map\": [{\"rel_name\": \"t\", \"relfile_oid\": 16640}]}\r\n(1 row)\r\n```\r\ncc: @Arjun-yb \n\n### Issue Type\n\nkind/bug\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [X] I confirm this issue does not contain any sensitive information.\n\n[DB-12801]: https://yugabyte.atlassian.net/browse/DB-12801?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"hulien22","id":32774836,"node_id":"MDQ6VXNlcjMyNzc0ODM2","avatar_url":"https://avatars.githubusercontent.com/u/32774836?v=4","gravatar_id":"","url":"https://api.github.com/users/hulien22","html_url":"https://github.com/hulien22","followers_url":"https://api.github.com/users/hulien22/followers","following_url":"https://api.github.com/users/hulien22/following{/other_user}","gists_url":"https://api.github.com/users/hulien22/gists{/gist_id}","starred_url":"https://api.github.com/users/hulien22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hulien22/subscriptions","organizations_url":"https://api.github.com/users/hulien22/orgs","repos_url":"https://api.github.com/users/hulien22/repos","events_url":"https://api.github.com/users/hulien22/events{/privacy}","received_events_url":"https://api.github.com/users/hulien22/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/23897/timeline","performed_via_github_app":null,"state_reason":"completed"}