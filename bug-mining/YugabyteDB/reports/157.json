{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/24114","id":2545784680,"node_id":"I_kwDOBlCVUc6XvZdo","number":24114,"title":"[xCluster][DB-Scope] Adding/dropping a table with the same table name for a db in db scoped replication provides Invalid table definition","user":{"login":"agsh-yb","id":121818428,"node_id":"U_kgDOB0LNPA","avatar_url":"https://avatars.githubusercontent.com/u/121818428?v=4","gravatar_id":"","url":"https://api.github.com/users/agsh-yb","html_url":"https://github.com/agsh-yb","followers_url":"https://api.github.com/users/agsh-yb/followers","following_url":"https://api.github.com/users/agsh-yb/following{/other_user}","gists_url":"https://api.github.com/users/agsh-yb/gists{/gist_id}","starred_url":"https://api.github.com/users/agsh-yb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agsh-yb/subscriptions","organizations_url":"https://api.github.com/users/agsh-yb/orgs","repos_url":"https://api.github.com/users/agsh-yb/repos","events_url":"https://api.github.com/users/agsh-yb/events{/privacy}","received_events_url":"https://api.github.com/users/agsh-yb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841622,"node_id":"MDU6TGFiZWw3MTE4NDE2MjI=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/bug","name":"kind/bug","color":"c2e0c6","default":false,"description":"This issue is a bug"},{"id":1290759928,"node_id":"MDU6TGFiZWwxMjkwNzU5OTI4","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb","name":"area/docdb","color":"0c4fcc","default":false,"description":"YugabyteDB core features"},{"id":1353907004,"node_id":"MDU6TGFiZWwxMzUzOTA3MDA0","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/high","name":"priority/high","color":"ffdc5e","default":false,"description":"High Priority"},{"id":3248174344,"node_id":"MDU6TGFiZWwzMjQ4MTc0MzQ0","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/QA","name":"QA","color":"A01624","default":false,"description":"QA filed bugs"},{"id":3788247489,"node_id":"LA_kwDOBlCVUc7hzBHB","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/xCluster","name":"xCluster","color":"F2BE93","default":false,"description":"Label for xCluster related issues/improvements"},{"id":6312498755,"node_id":"LA_kwDOBlCVUc8AAAABeEEWQw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/qa_stress","name":"qa_stress","color":"03660D","default":false,"description":"Bugs identified via Stress automation"},{"id":7221621143,"node_id":"LA_kwDOBlCVUc8AAAABrnExlw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/2024.2_blocker","name":"2024.2_blocker","color":"ededed","default":false,"description":null},{"id":7367213173,"node_id":"LA_kwDOBlCVUc8AAAABtx7AdQ","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/2024.1.3_blocker","name":"2024.1.3_blocker","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-09-24T15:53:46Z","updated_at":"2024-09-26T03:57:25Z","closed_at":"2024-09-25T03:45:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-13004](https://yugabyte.atlassian.net/browse/DB-13004)\r\n### Description\n\nObserved on version: `2.25.0.0-b23`\r\n\r\n\r\n#### Error:\r\n```\r\nERROR:  Invalid table definition: Failed to bootstrap table on the source universe of xCluster replication group 6232f871-c5a8-48d8-93fa-df69fd78af88_--DR-CONFIG-cwang-db-scoped-0: Not found (yb/master/xcluster/xcluster_outbound_replication_group.cc:609): Table 00004006000030008000000000004005 not found in xClusterOutboundReplicationGroup 6232f871-c5a8-48d8-93fa-df69fd78af88_--DR-CONFIG-cwang-db-scoped-0: INVALID_REQUEST (master error 29)\r\n```\r\n\r\nAnother error observed while re-starting replication by saying `Table does not exist` although it exist at both target and source\r\nthere are a few DROP and recreate of table took place between subsequent re-starts\r\n```\r\nFailed to execute task {\"platformVersion\":\"2.25.0.0-b23\",\"sleepAfterMasterRestartMillis\":180000,\"sleepAfterTServerRestartMillis\":180000,\"nodeExporterUser\":\"prometheus\",\"universeUUID\":\"4c226198-b5e5-4318-9b8f-1f056fbd3d6f\",\"enableYbc\":false,\"installYbc\":false,\"ybcInstalled\":false,\"encryptionAtRestConfig\":{\"encryptionAtRestEnabled\":false,\"opType\":\"UNDEFINED\",\"type\":\"DATA_KEY\"},\"communicationPorts\":{\"masterHttpPort\":7000,\"masterRpcPort\":7100,\"tserverHttpPort\":9000,\"tserverRpcPort\":9100,\"ybControllerHttpPort\":14000,\"yb..., hit error:\r\n\r\n org.yb.client.MasterErrorException: Server[YB Master - 172.151.20.175:7100] INTERNAL_ERROR[code 21]: Failed to checkpoint namespace 00004003000030008000000000000000: Not found (yb/master/xcluster/xcluster_source_manager.cc:476): Table does not exist.\r\n```\r\n\r\nAdded more details in jira\r\n\r\ncc: @Arjun-yb \n\n### Issue Type\n\nkind/bug\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [X] I confirm this issue does not contain any sensitive information.\n\n[DB-13004]: https://yugabyte.atlassian.net/browse/DB-13004?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/24114/timeline","performed_via_github_app":null,"state_reason":"completed"}