{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/20233","id":2031344971,"node_id":"I_kwDOBlCVUc55E91L","number":20233,"title":"[DocDB] Add an endpoint for retrieving the contents of a TServer or master's MetaCache'sÂ ","user":{"login":"mdbridge","id":15827795,"node_id":"MDQ6VXNlcjE1ODI3Nzk1","avatar_url":"https://avatars.githubusercontent.com/u/15827795?v=4","gravatar_id":"","url":"https://api.github.com/users/mdbridge","html_url":"https://github.com/mdbridge","followers_url":"https://api.github.com/users/mdbridge/followers","following_url":"https://api.github.com/users/mdbridge/following{/other_user}","gists_url":"https://api.github.com/users/mdbridge/gists{/gist_id}","starred_url":"https://api.github.com/users/mdbridge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdbridge/subscriptions","organizations_url":"https://api.github.com/users/mdbridge/orgs","repos_url":"https://api.github.com/users/mdbridge/repos","events_url":"https://api.github.com/users/mdbridge/events{/privacy}","received_events_url":"https://api.github.com/users/mdbridge/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841624,"node_id":"MDU6TGFiZWw3MTE4NDE2MjQ=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/enhancement","name":"kind/enhancement","color":"c2e0c6","default":false,"description":"This is an enhancement of an existing feature"},{"id":1290759928,"node_id":"MDU6TGFiZWwxMjkwNzU5OTI4","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb","name":"area/docdb","color":"0c4fcc","default":false,"description":"YugabyteDB core features"},{"id":1419821900,"node_id":"MDU6TGFiZWwxNDE5ODIxOTAw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/medium","name":"priority/medium","color":"ffdc5e","default":false,"description":"Medium priority issue"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-12-07T18:54:16Z","updated_at":"2024-06-05T12:24:04Z","closed_at":"2024-03-14T21:49:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-9193](https://yugabyte.atlassian.net/browse/DB-9193)\r\n### Description\n\nThe TServer and master use MetaCaches to cache the locations of tablet peers so they can find tablet leaders efficiently without having to ask the master every time.\r\n\r\nHowever, these caches can become stale or potentially in the presence of bugs inconsistent with what master knows to be the ground truth.\r\n\r\nTo help debug these occasions, this task is to create an endpoint that allows retrieving the current contents of the MetaCaches -- probably via JSON. \r\n\r\nAs a stretch goal, create a script or other external tool that can tickle this endpoint plus existing endpoints for where master believes tablets peers are and compare to find discrepancies.\r\n\n\n### Issue Type\n\nkind/enhancement\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [X] I confirm this issue does not contain any sensitive information.\n\n[DB-9193]: https://yugabyte.atlassian.net/browse/DB-9193?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"SeanSong25","id":76596926,"node_id":"MDQ6VXNlcjc2NTk2OTI2","avatar_url":"https://avatars.githubusercontent.com/u/76596926?v=4","gravatar_id":"","url":"https://api.github.com/users/SeanSong25","html_url":"https://github.com/SeanSong25","followers_url":"https://api.github.com/users/SeanSong25/followers","following_url":"https://api.github.com/users/SeanSong25/following{/other_user}","gists_url":"https://api.github.com/users/SeanSong25/gists{/gist_id}","starred_url":"https://api.github.com/users/SeanSong25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SeanSong25/subscriptions","organizations_url":"https://api.github.com/users/SeanSong25/orgs","repos_url":"https://api.github.com/users/SeanSong25/repos","events_url":"https://api.github.com/users/SeanSong25/events{/privacy}","received_events_url":"https://api.github.com/users/SeanSong25/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/20233/timeline","performed_via_github_app":null,"state_reason":"completed"}