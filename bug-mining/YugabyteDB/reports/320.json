{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923","repository_url":"https://api.github.com/repos/yugabyte/yugabyte-db","labels_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923/labels{/name}","comments_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923/comments","events_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923/events","html_url":"https://github.com/yugabyte/yugabyte-db/issues/28923","id":3510667271,"node_id":"I_kwDOBlCVUc7RQIgH","number":28923,"title":"[DocDB] Mac test filtering fails if only subset of c++ tests are run","user":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":711841622,"node_id":"MDU6TGFiZWw3MTE4NDE2MjI=","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/kind/bug","name":"kind/bug","color":"c2e0c6","default":false,"description":"This issue is a bug"},{"id":1290759928,"node_id":"MDU6TGFiZWwxMjkwNzU5OTI4","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/area/docdb","name":"area/docdb","color":"0c4fcc","default":false,"description":"YugabyteDB core features"},{"id":1419821900,"node_id":"MDU6TGFiZWwxNDE5ODIxOTAw","url":"https://api.github.com/repos/yugabyte/yugabyte-db/labels/priority/medium","name":"priority/medium","color":"ffdc5e","default":false,"description":"Medium priority issue"}],"state":"closed","locked":false,"assignee":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2025-10-13T16:19:52Z","updated_at":"2025-10-15T03:31:15Z","closed_at":"2025-10-15T03:31:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Jira Link: [DB-18649](https://yugabyte.atlassian.net/browse/DB-18649)\r\n### Description\n\n```\n[2025-10-11T02:27:56.067Z] [dependency_graph.py:819] 2025-10-11 02:27:55,539 INFO: File changes in category 'c++':\n[2025-10-11T02:27:56.067Z] [dependency_graph.py:821] 2025-10-11 02:27:55,539 INFO:     src/yb/integration-tests/pg_cron-test.cc\n[2025-10-11T02:27:56.067Z] [dependency_graph.py:896] 2025-10-11 02:27:55,543 INFO: Will run some C++ tests, some C++ files changed\n[2025-10-11T02:27:56.067Z] [dependency_graph.py:925] 2025-10-11 02:27:55,543 INFO: 1 C++ test programs should be run (out of 567 possible, 0.2%)[2025-10-11T05:09:18.099Z] [run_tests_on_spark.py:1099] 2025-10-11 05:09:17,464 INFO: This is macOS, filtering down to 15 tests\n[2025-10-11T05:09:18.099Z] [run_tests_on_spark.py:914] 2025-10-11 05:09:17,464 INFO: Collecting the list of C++ test programs (locally; not a Spark job)\n[2025-10-11T05:09:31.005Z] [run_tests_on_spark.py:941] 2025-10-11 05:09:29,557 INFO: Collected 566 test programs in 12.09 sec\n[2025-10-11T05:09:31.005Z] [run_tests_on_spark.py:955] 2025-10-11 05:09:29,557 INFO: Filtered down to 1 test programs using the list from test conf file\n[2025-10-11T05:09:31.005Z] [run_tests_on_spark.py:977] 2025-10-11 05:09:29,557 INFO: Found 1 gtest test programs where tests will be run separately, 0 test programs to be run on one shot\n[2025-10-11T05:09:31.005Z] [run_tests_on_spark.py:983] 2025-10-11 05:09:29,557 INFO: Collecting gtest tests for 1 test programs where tests will be run separately\n[2025-10-11T05:09:53.792Z] [run_tests_on_spark.py:1000] 2025-10-11 05:09:52,233 INFO: Collected the list of 12 gtest tests in 22.68 sec wallclock time\n[2025-10-11T05:09:53.792Z] Traceback (most recent call last):\n[2025-10-11T05:09:53.792Z]   File \"/Volumes/share/jenkins/workspace/yugabyte-db-phabricator/yugabyte-db/python/yugabyte/run_tests_on_spark.py\", line 1653, in <module>\n[2025-10-11T05:09:53.792Z]     main()\n[2025-10-11T05:09:53.792Z]   File \"/Volumes/share/jenkins/workspace/yugabyte-db-phabricator/yugabyte-db/python/yugabyte/run_tests_on_spark.py\", line 1388, in main\n[2025-10-11T05:09:53.792Z]     test_descriptors = collect_tests(args)\n[2025-10-11T05:09:53.792Z]                        ^^^^^^^^^^^^^^^^^^^\n[2025-10-11T05:09:53.792Z]   File \"/Volumes/share/jenkins/workspace/yugabyte-db-phabricator/yugabyte-db/python/yugabyte/run_tests_on_spark.py\", line 1104, in collect_tests\n[2025-10-11T05:09:53.792Z]     cpp_test_descriptors = collect_cpp_tests(cpp_test_programs, test_descriptor_filter_list)\n[2025-10-11T05:09:53.792Z]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n[2025-10-11T05:09:53.793Z]   File \"/Volumes/share/jenkins/workspace/yugabyte-db-phabricator/yugabyte-db/python/yugabyte/run_tests_on_spark.py\", line 1022, in collect_cpp_tests\n[2025-10-11T05:09:53.793Z]     raise RuntimeError(f\"Missing tests: {missing_tests}\")\n[2025-10-11T05:09:53.793Z] RuntimeError: Missing tests: ['tests-integration-tests/cql-test:::CqlTest.ConcurrentDeleteRowAndUpdateColumn', 'tests-integration-tests/cql-test:::CqlTest.ManyColumns', 'tests-integration-tests/cql-tablet-split-test:::CqlTabletSplitTest.SecondaryIndex', 'tests-integration-tests/cql-tablet-split-test:::CqlTabletSplitTest.BatchTimeseries', 'tests-pgwrapper/pg_wrapper-test:::PgWrapperTestSecure.TestConnectionTLS', 'tests-pgwrapper/pg_wrapper-test:::PgWrapperTestAuthSecure.TestConnectionAuthTLS', 'tests-integration-tests/xcluster-test:::XClusterTestParams/XClusterTest.SetupUniverseReplicationMultipleTables/0', 'tests-integration-tests/xcluster_ysql-test:::XClusterYsqlTest.ReplicationWithBasicDDL', 'tests-integration-tests/cdcsdk_ysql-test:::CDCSDKYsqlTest.GetChangesWithRF3', 'tests-integration-tests/cdcsdk_ysql-test:::CDCSDKYsqlTest.MultiColumnUpdateFollowedByUpdateSameRow', 'tests-integration-tests/cdcsdk_ysql-test:::CDCSDKYsqlTest.SingleShardDeleteWithAutoCommit']\n```\n\n### Issue Type\n\nkind/bug\n\n### Warning: Please confirm that this issue does not contain any sensitive information\n\n- [x] I confirm this issue does not contain any sensitive information.\n\n[DB-18649]: https://yugabyte.atlassian.net/browse/DB-18649?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ","closed_by":{"login":"hari90","id":12418230,"node_id":"MDQ6VXNlcjEyNDE4MjMw","avatar_url":"https://avatars.githubusercontent.com/u/12418230?v=4","gravatar_id":"","url":"https://api.github.com/users/hari90","html_url":"https://github.com/hari90","followers_url":"https://api.github.com/users/hari90/followers","following_url":"https://api.github.com/users/hari90/following{/other_user}","gists_url":"https://api.github.com/users/hari90/gists{/gist_id}","starred_url":"https://api.github.com/users/hari90/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari90/subscriptions","organizations_url":"https://api.github.com/users/hari90/orgs","repos_url":"https://api.github.com/users/hari90/repos","events_url":"https://api.github.com/users/hari90/events{/privacy}","received_events_url":"https://api.github.com/users/hari90/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yugabyte/yugabyte-db/issues/28923/timeline","performed_via_github_app":null,"state_reason":"completed"}