diff --git a/src/yb/integration-tests/upgrade-tests/ycql_only_upgrade-test.cc b/src/yb/integration-tests/upgrade-tests/ycql_only_upgrade-test.cc
index 553602b945..3d06c606f3 100644
--- a/src/yb/integration-tests/upgrade-tests/ycql_only_upgrade-test.cc
+++ b/src/yb/integration-tests/upgrade-tests/ycql_only_upgrade-test.cc
@@ -100,6 +100,11 @@ class YcqlOnlyUpgradeTest : public UpgradeTestBase {
 
 TEST_F(YcqlOnlyUpgradeTest, TestUpgrade) {
   ASSERT_OK(UpgradeClusterToCurrentVersion());
+
+  // upgrade_ysql should be a no-op.
+  std::string output;
+  ASSERT_OK(cluster_->CallYbAdmin({"upgrade_ysql"}, 10min, &output));
+
   ASSERT_OK(InsertRowsAndValidate());
 
   ASSERT_NOK_STR_CONTAINS(StartYsqlMajorCatalogUpgrade(), "YSQL is not enabled");
diff --git a/src/yb/tserver/tablet_service.cc b/src/yb/tserver/tablet_service.cc
index 16fcc15ef5..e018a1b477 100644
--- a/src/yb/tserver/tablet_service.cc
+++ b/src/yb/tserver/tablet_service.cc
@@ -2298,6 +2298,12 @@ void TabletServiceAdminImpl::UpgradeYsql(
     const UpgradeYsqlRequestPB* req,
     UpgradeYsqlResponsePB* resp,
     rpc::RpcContext context) {
+  if (!FLAGS_enable_ysql) {
+    LOG(INFO) << "YSQL is not enabled. Skipping YSQL upgrade.";
+    context.RespondSuccess();
+    return;
+  }
+
   LOG(INFO) << "Starting YSQL upgrade";
 
   pgwrapper::YsqlUpgradeHelper upgrade_helper(server_->pgsql_proxy_bind_address(),
