diff --git a/src/yb/client/ql-transaction-test.cc b/src/yb/client/ql-transaction-test.cc
index 42d13112ef..cf847a01ca 100644
--- a/src/yb/client/ql-transaction-test.cc
+++ b/src/yb/client/ql-transaction-test.cc
@@ -38,6 +38,7 @@
 #include "yb/tablet/transaction_coordinator.h"
 
 #include "yb/tserver/mini_tablet_server.h"
+#include "yb/tserver/server_main_util.h"
 #include "yb/tserver/tablet_server.h"
 #include "yb/tserver/ts_tablet_manager.h"
 #include "yb/tserver/tserver_service.pb.h"
@@ -889,7 +890,7 @@ class QLTransactionTestWithDisabledCompactions : public QLTransactionTest {
   void SetUp() override {
     ANNOTATE_UNPROTECTED_WRITE(FLAGS_rocksdb_disable_compactions) = true;
     ANNOTATE_UNPROTECTED_WRITE(FLAGS_enable_ondisk_compression) = false;
-    ANNOTATE_UNPROTECTED_WRITE(FLAGS_db_block_cache_size_bytes) = -2; // kDbCacheSizeCacheDisabled;
+    ANNOTATE_UNPROTECTED_WRITE(FLAGS_db_block_cache_size_bytes) = DB_CACHE_SIZE_CACHE_DISABLED;
     QLTransactionTest::SetUp();
   }
 };
diff --git a/src/yb/master/master_main.cc b/src/yb/master/master_main.cc
index 96e314fe42..acc4dbfe65 100644
--- a/src/yb/master/master_main.cc
+++ b/src/yb/master/master_main.cc
@@ -106,7 +106,6 @@ static int MasterMain(int argc, char** argv) {
     LOG(INFO) << "Failed to get master's host name, keeping default metric_node_name";
   }
 
-  FLAGS_default_memory_limit_to_ram_ratio = 0.10;
   // For masters we always want to fsync the WAL files (except in testing).
   FLAGS_durable_wal_write = true;
   // Master has a lot less memory and relatively less data. So by default, let's keep the
@@ -122,7 +121,7 @@ static int MasterMain(int argc, char** argv) {
   FLAGS_log_min_seconds_to_retain = 2 * MonoTime::kSecondsPerHour;
 
   LOG_AND_RETURN_FROM_MAIN_NOT_OK(
-      MasterTServerParseFlagsAndInit(MasterOptions::kServerType, &argc, &argv));
+      MasterTServerParseFlagsAndInit(MasterOptions::kServerType, /*is_master=*/true, &argc, &argv));
 
   auto termination_monitor = TerminationMonitor::Create();
 
diff --git a/src/yb/tserver/server_main_util.cc b/src/yb/tserver/server_main_util.cc
index 1114c7a91f..caf38a7ce7 100644
--- a/src/yb/tserver/server_main_util.cc
+++ b/src/yb/tserver/server_main_util.cc
@@ -19,24 +19,103 @@
 #include "absl/debugging/symbolize.h"
 #endif
 
-#include "yb/util/init.h"
-#include "yb/util/flags.h"
-#include "yb/util/status.h"
-#include "yb/util/debug/trace_event.h"
-#include "yb/util/mem_tracker.h"
-
 #include "yb/common/wire_protocol.h"
 
+#include "yb/consensus/consensus_queue.h"
+#include "yb/consensus/log_util.h"
+
 #include "yb/server/skewed_clock.h"
 
-#include "yb/consensus/log_util.h"
-#include "yb/consensus/consensus_queue.h"
+#include "yb/util/debug/trace_event.h"
+#include "yb/util/flags.h"
+#include "yb/util/init.h"
+#include "yb/util/mem_tracker.h"
+#include "yb/util/size_literals.h"
+#include "yb/util/status.h"
 
-DECLARE_int64(remote_bootstrap_rate_limit_bytes_per_sec);
+DECLARE_double(default_memory_limit_to_ram_ratio);
+DECLARE_int32(db_block_cache_size_percentage);
+DECLARE_int32(tablet_overhead_size_percentage);
+DECLARE_int64(db_block_cache_size_bytes);
+DECLARE_int64(memory_limit_hard_bytes);
 
 namespace yb {
 
-Status MasterTServerParseFlagsAndInit(const std::string& server_type, int* argc, char*** argv) {
+namespace {
+
+struct RecommendedMemoryValues {
+  double default_memory_limit_to_ram_ratio;
+  int32_t db_block_cache_size_percentage;
+  int32_t tablet_overhead_size_percentage;
+};
+
+RecommendedMemoryValues GetLegacyMemoryValues(bool is_master) {
+  RecommendedMemoryValues result;
+  // TServer legacy defaults:
+  result.default_memory_limit_to_ram_ratio = 0.85;
+  // As of 2/2024, DB_CACHE_SIZE_USE_PERCENTAGE specifies:
+  //   kDefaultMasterBlockCacheSizePercentage  = 25 on master
+  //   kDefaultTserverBlockCacheSizePercentage = 50 on TServer
+  result.db_block_cache_size_percentage = DB_CACHE_SIZE_USE_DEFAULT;
+  result.tablet_overhead_size_percentage = 0;
+
+  if (is_master) {
+    result.default_memory_limit_to_ram_ratio = 0.10;
+  }
+  return result;
+}
+
+// Substitute the recommended value for the flag's value if the flag is set to
+// USE_RECOMMENDED_MEMORY_VALUE.
+#define SET_MEMORY_FLAG_IF_NEEDED(flag_name, recommended_value_expression)                       \
+  do {                                                                                           \
+    auto actual_recommendation = (recommended_value_expression);                                 \
+    if (FLAGS_##flag_name == USE_RECOMMENDED_MEMORY_VALUE) {                                     \
+      LOG(INFO) << "Setting flag " #flag_name " to recommended value " << actual_recommendation; \
+      CHECK_OK(SET_FLAG_DEFAULT_AND_CURRENT(flag_name, actual_recommendation));                  \
+    } else {                                                                                     \
+      LOG(INFO) << "Flag " #flag_name " has value " << FLAGS_##flag_name                         \
+                << " (recommended value is " << actual_recommendation << ")";                    \
+    }                                                                                            \
+  } while (false)
+
+void AdjustMemoryLimits(const RecommendedMemoryValues& values) {
+  SET_MEMORY_FLAG_IF_NEEDED(db_block_cache_size_percentage, values.db_block_cache_size_percentage);
+  SET_MEMORY_FLAG_IF_NEEDED(
+      default_memory_limit_to_ram_ratio, values.default_memory_limit_to_ram_ratio);
+  SET_MEMORY_FLAG_IF_NEEDED(
+      tablet_overhead_size_percentage, values.tablet_overhead_size_percentage);
+}
+
+void AdjustMemoryLimitsIfNeeded(bool is_master) {
+  int64_t signed_total_ram;
+  CHECK_OK(Env::Default()->GetTotalRAMBytes(&signed_total_ram));
+  size_t total_ram = signed_total_ram;
+  LOG(INFO) << StringPrintf(
+      "Total available RAM is %.6f GiB",
+      (static_cast<float>(total_ram) / (1024.0 * 1024.0 * 1024.0)));
+
+  auto values = GetLegacyMemoryValues(is_master);
+
+  if (total_ram <= 16_GB) {
+    values.tablet_overhead_size_percentage = is_master ? 0 : 10;
+    values.db_block_cache_size_percentage = is_master ? 25 : 32;
+    if (total_ram <= 4_GB) {
+      values.default_memory_limit_to_ram_ratio = is_master ? 0.20 : 0.45;
+    } else if (total_ram <= 8_GB) {
+      values.default_memory_limit_to_ram_ratio = is_master ? 0.15 : 0.50;
+    } else {
+      values.default_memory_limit_to_ram_ratio = is_master ? 0.10 : 0.57;
+    }
+  }
+
+  AdjustMemoryLimits(values);
+}
+
+}  // anonymous namespace
+
+Status MasterTServerParseFlagsAndInit(
+    const std::string& server_type, bool is_master, int* argc, char*** argv) {
   debug::EnableTraceEvents();
 
   // Do not sync GLOG to disk for INFO, WARNING.
@@ -48,6 +127,13 @@ Status MasterTServerParseFlagsAndInit(const std::string& server_type, int* argc,
 
   server::SkewedClock::Register();
 
+  // These are the actual defaults for these gflags for master and TServer.
+  FLAGS_memory_limit_hard_bytes = 0;
+  FLAGS_default_memory_limit_to_ram_ratio = USE_RECOMMENDED_MEMORY_VALUE;
+  FLAGS_db_block_cache_size_bytes = DB_CACHE_SIZE_USE_PERCENTAGE;
+  FLAGS_db_block_cache_size_percentage = USE_RECOMMENDED_MEMORY_VALUE;
+  FLAGS_tablet_overhead_size_percentage = USE_RECOMMENDED_MEMORY_VALUE;
+
   ParseCommandLineFlags(argc, argv, /* remove_flag= */ true);
   if (*argc != 1) {
     std::cerr << "usage: " << (*argv)[0] << std::endl;
@@ -69,6 +155,8 @@ Status MasterTServerParseFlagsAndInit(const std::string& server_type, int* argc,
 
   DLOG(INFO) << "Process id: " << getpid();
 
+  AdjustMemoryLimitsIfNeeded(is_master);
+
   MemTracker::ConfigureTCMalloc();
   MemTracker::PrintTCMallocConfigs();
 
diff --git a/src/yb/tserver/server_main_util.h b/src/yb/tserver/server_main_util.h
index dc2798612b..11a6f5b5cb 100644
--- a/src/yb/tserver/server_main_util.h
+++ b/src/yb/tserver/server_main_util.h
@@ -21,6 +21,17 @@
 
 namespace yb {
 
-Status MasterTServerParseFlagsAndInit(const std::string& server_type, int* argc, char*** argv);
+// If a memory limit gflag has this value after applying any command line flags then we replace its
+// value at process start with a computed value based on the available memory among other things.
+#define USE_RECOMMENDED_MEMORY_VALUE -1000
+
+// Special values for the db_block_cache_size_bytes and db_block_cache_size_percentage flags.
+// See the flag descriptions for their meaning.
+#define DB_CACHE_SIZE_USE_PERCENTAGE -1
+#define DB_CACHE_SIZE_CACHE_DISABLED -2
+#define DB_CACHE_SIZE_USE_DEFAULT -3
+
+Status MasterTServerParseFlagsAndInit(
+    const std::string& server_type, bool is_master, int* argc, char*** argv);
 
 }  // namespace yb
diff --git a/src/yb/tserver/tablet_memory_manager.cc b/src/yb/tserver/tablet_memory_manager.cc
index 8fba7dc4b3..5654bc4ea4 100644
--- a/src/yb/tserver/tablet_memory_manager.cc
+++ b/src/yb/tserver/tablet_memory_manager.cc
@@ -28,6 +28,8 @@
 #include "yb/tablet/tablet_options.h"
 #include "yb/tablet/tablet_peer.h"
 
+#include "yb/tserver/server_main_util.h"
+
 #include "yb/util/background_task.h"
 #include "yb/util/flags.h"
 #include "yb/util/logging.h"
@@ -52,30 +54,39 @@ DEFINE_UNKNOWN_int64(global_memstore_size_mb_max, 2048,
              "Global memstore size is determined as a percentage of the available "
              "memory. However, this flag limits it in absolute size. Value of 0 "
              "means no limit on the value obtained by the percentage. Default is 2048.");
-DEFINE_NON_RUNTIME_int32(tablet_overhead_size_percentage, 0,
-    "Percentage of total available memory to use for tablet-related overheads. Default is 0, "
-    "meaning no limit. Must be between 0 and 100 inclusive.");
 
-namespace {
-  constexpr int kDbCacheSizeUsePercentage = -1;
-  constexpr int kDbCacheSizeCacheDisabled = -2;
-  constexpr int kDbCacheSizeUseDefault = -3;
-}
+// NOTE: The default here is for tools and tests; the actual defaults
+// for the TServer and master processes are set in server_main_util.cc.
+DEFINE_NON_RUNTIME_int32(tablet_overhead_size_percentage, 0,
+    "Percentage of total available memory to use for tablet-related overheads. A value of 0 means "
+    "no limit. Must be between 0 and 100 inclusive. Exception: "
+    BOOST_PP_STRINGIZE(USE_RECOMMENDED_MEMORY_VALUE) " specifies to instead use a "
+    "recommended value determined in part by the amount of RAM available.");
 
-DEFINE_UNKNOWN_bool(enable_block_based_table_cache_gc, false,
+DEFINE_RUNTIME_bool(enable_block_based_table_cache_gc, false,
             "Set to true to enable block based table garbage collector.");
 
-DEFINE_UNKNOWN_int64(db_block_cache_size_bytes, kDbCacheSizeUsePercentage,
-             "Size of RocksDB block cache (in bytes). "
-             "This defaults to -1 for system auto-generated default, which would use "
-             "FLAGS_db_block_cache_size_percentage to select a percentage of the total "
-             "memory as the default size for the shared block cache. Value of -2 disables "
-             "block cache.");
-
-DEFINE_UNKNOWN_int32(db_block_cache_size_percentage, kDbCacheSizeUseDefault,
-             "Default percentage of total available memory to use as block cache size, if not "
-             "asking for a raw number, through FLAGS_db_block_cache_size_bytes. "
-             "Defaults to -3 (use default percentage as defined by master or tserver).");
+// NOTE: The default here is for tools and tests; the actual defaults
+// for the TServer and master processes are set in server_main_util.cc.
+DEFINE_NON_RUNTIME_int64(db_block_cache_size_bytes, DB_CACHE_SIZE_USE_PERCENTAGE,
+    "Size of the shared RocksDB block cache (in bytes). "
+    "A value of " BOOST_PP_STRINGIZE(DB_CACHE_SIZE_USE_PERCENTAGE)
+    " specifies to instead use a percentage of this daemon's hard memory limit; "
+    "see --db_block_cache_size_percentage for the percentage used. "
+    "A value of " BOOST_PP_STRINGIZE(DB_CACHE_SIZE_CACHE_DISABLED) " disables the block cache.");
+
+// NOTE: The default here is for tools and tests; the actual defaults
+// for the TServer and master processes are set in server_main_util.cc.
+DEFINE_NON_RUNTIME_int32(db_block_cache_size_percentage, DB_CACHE_SIZE_USE_DEFAULT,
+    "Percentage of our hard memory limit to use for the shared RocksDB block cache, if "
+    "--db_block_cache_size_bytes is " BOOST_PP_STRINGIZE(DB_CACHE_SIZE_USE_PERCENTAGE) ". "
+    "The special value " BOOST_PP_STRINGIZE(USE_RECOMMENDED_MEMORY_VALUE)
+    " means to instead use a recommended percentage determined in part by the amount of RAM "
+    "available. "
+    "The special value " BOOST_PP_STRINGIZE(DB_CACHE_SIZE_USE_DEFAULT)
+    " means to use a older default that does not take the amount of RAM into account. "
+    "The percentage used due to the special values may depend on whether this is a "
+    "TServer or master daemon.");
 
 DEFINE_RUNTIME_int32(db_block_cache_num_shard_bits, -1,
              "-1 indicates a dynamic scheme that evaluates to 4 if number of cores is less than "
@@ -93,7 +104,19 @@ using strings::Substitute;
 
 namespace {
 
-DEFINE_validator(tablet_overhead_size_percentage, &::yb::ValidatePercentageFlag);
+bool ValidateTabletOverheadSizePercentage(const char* flag_name, int value) {
+  if (value >= 0 && value <= 100) {
+    return true;
+  }
+  if (value == USE_RECOMMENDED_MEMORY_VALUE) {
+    return true;
+  }
+  LOG(WARNING) << flag_name << " must be a percentage (0 to 100) or the special value "
+               << USE_RECOMMENDED_MEMORY_VALUE << ", value " << value << " is invalid";
+  return false;
+}
+
+DEFINE_validator(tablet_overhead_size_percentage, &ValidateTabletOverheadSizePercentage);
 
 class FunctorGC : public GarbageCollector {
  public:
@@ -130,18 +153,18 @@ class LRUCacheGC : public GarbageCollector {
 // db_block_cache_size_bytes flags, as well as the passed default_block_cache_size_percentage.
 int64_t GetTargetBlockCacheSize(const int32_t default_block_cache_size_percentage) {
   int32_t target_block_cache_size_percentage =
-      (FLAGS_db_block_cache_size_percentage == kDbCacheSizeUseDefault) ?
+      (FLAGS_db_block_cache_size_percentage == DB_CACHE_SIZE_USE_DEFAULT) ?
       default_block_cache_size_percentage : FLAGS_db_block_cache_size_percentage;
 
   // If we aren't assigning block cache sized based on percentage, then the size is determined by
   // db_block_cache_size_bytes.
   int64_t target_block_cache_size_bytes = FLAGS_db_block_cache_size_bytes;
   // Auto-compute size of block cache based on percentage of memory available if asked to.
-  if (target_block_cache_size_bytes == kDbCacheSizeUsePercentage) {
+  if (target_block_cache_size_bytes == DB_CACHE_SIZE_USE_PERCENTAGE) {
     // Check some bounds.
     CHECK(target_block_cache_size_percentage > 0 && target_block_cache_size_percentage <= 100)
         << Substitute(
-               "Flag tablet_block_cache_size_percentage must be between 0 and 100. Current value: "
+               "tablet_block_cache_size_percentage must be between 0 and 100. Current value: "
                "$0",
                target_block_cache_size_percentage);
 
@@ -219,7 +242,7 @@ void TabletMemoryManager::InitBlockCache(
       "BlockBasedTable",
       server_mem_tracker_);
 
-  if (block_cache_size_bytes != kDbCacheSizeCacheDisabled) {
+  if (block_cache_size_bytes != DB_CACHE_SIZE_CACHE_DISABLED) {
     options->block_cache = rocksdb::NewLRUCache(block_cache_size_bytes,
                                                 GetDbBlockCacheNumShardBits());
     options->block_cache->SetMetrics(metrics);
@@ -239,7 +262,7 @@ void TabletMemoryManager::ConfigureBackgroundTask(tablet::TabletOptions* options
   // Calculate memstore_size_bytes based on total RAM available and global percentage.
   CHECK(FLAGS_global_memstore_size_percentage > 0 && FLAGS_global_memstore_size_percentage <= 100)
     << Substitute(
-        "Flag tablet_block_cache_size_percentage must be between 0 and 100. Current value: "
+        "Flag FLAGS_global_memstore_size_percentage must be between 0 and 100. Current value: "
         "$0",
         FLAGS_global_memstore_size_percentage);
   int64_t total_ram_avail = MemTracker::GetRootTracker()->limit();
diff --git a/src/yb/tserver/tablet_server_main_impl.cc b/src/yb/tserver/tablet_server_main_impl.cc
index d6ab37572b..2f13cd3ef6 100644
--- a/src/yb/tserver/tablet_server_main_impl.cc
+++ b/src/yb/tserver/tablet_server_main_impl.cc
@@ -254,7 +254,7 @@ int TabletServerMain(int argc, char** argv) {
   }
 
   LOG_AND_RETURN_FROM_MAIN_NOT_OK(MasterTServerParseFlagsAndInit(
-      TabletServerOptions::kServerType, &argc, &argv));
+      TabletServerOptions::kServerType, /*is_master=*/false, &argc, &argv));
 
   auto termination_monitor = TerminationMonitor::Create();
 
diff --git a/src/yb/util/mem_tracker.cc b/src/yb/util/mem_tracker.cc
index 54aedfa72c..e7c1851be6 100644
--- a/src/yb/util/mem_tracker.cc
+++ b/src/yb/util/mem_tracker.cc
@@ -44,6 +44,8 @@
 #include "yb/gutil/strings/human_readable.h"
 #include "yb/gutil/strings/substitute.h"
 
+#include "yb/tserver/server_main_util.h"
+
 #include "yb/util/debug-util.h"
 #include "yb/util/debug/trace_event.h"
 #include "yb/util/env.h"
@@ -63,15 +65,22 @@
 
 using namespace std::literals;
 
+// NOTE: The default here is for tools and tests; the actual defaults
+// for the TServer and master processes are set in server_main_util.cc.
 DEFINE_NON_RUNTIME_int64(memory_limit_hard_bytes, 0,
-             "Maximum amount of memory this daemon should use, in bytes. "
-             "A value of 0 autosizes based on the total system memory. "
-             "A value of -1 disables all memory limiting.");
+    "Maximum amount of memory this daemon should use in bytes. "
+    "A value of 0 specifies to instead use a percentage of the total system memory; "
+    "see --default_memory_limit_to_ram_ratio for the percentage used. "
+    "A value of -1 disables all memory limiting.");
 TAG_FLAG(memory_limit_hard_bytes, stable);
+
+// NOTE: The default here is for tools and tests; the actual defaults
+// for the TServer and master processes are set in server_main_util.cc.
 DEFINE_NON_RUNTIME_double(default_memory_limit_to_ram_ratio, 0.85,
-              "If memory_limit_hard_bytes is left unspecified, then it is "
-              "set to default_memory_limit_to_ram_ratio * Available RAM.");
-TAG_FLAG(default_memory_limit_to_ram_ratio, advanced);
+    "The percentage of available RAM to use if --memory_limit_hard_bytes is 0. "
+    "The special value " BOOST_PP_STRINGIZE(USE_RECOMMENDED_MEMORY_VALUE)
+    " means to instead use a recommended percentage determined "
+    "in part by the amount of RAM available.");
 
 DEFINE_NON_RUNTIME_int32(memory_limit_soft_percentage, 85,
              "Percentage of the hard memory limit that this daemon may "
@@ -235,6 +244,7 @@ void MemTracker::CreateRootTracker() {
     // - 10% of the RAM for masters.
     int64_t total_ram;
     CHECK_OK(Env::Default()->GetTotalRAMBytes(&total_ram));
+    DCHECK(FLAGS_default_memory_limit_to_ram_ratio != USE_RECOMMENDED_MEMORY_VALUE);
     limit = total_ram * FLAGS_default_memory_limit_to_ram_ratio;
   }
 
