diff --git a/src/yb/docdb/docdb_util.cc b/src/yb/docdb/docdb_util.cc
index 90921a3b95..ea393fb4a1 100644
--- a/src/yb/docdb/docdb_util.cc
+++ b/src/yb/docdb/docdb_util.cc
@@ -43,12 +43,6 @@ namespace docdb {
 
 using dockv::DocPath;
 
-namespace {
-
-const std::string kEmptyLogPrefix;
-
-}
-
 Status SetValueFromQLBinaryWrapper(
     QLValuePB ql_value, const int pg_data_type,
     const std::unordered_map<uint32_t, string>& enum_oid_label_map,
diff --git a/src/yb/util/debug/long_operation_tracker.cc b/src/yb/util/debug/long_operation_tracker.cc
index fe75b5c77e..1380fa0fe1 100644
--- a/src/yb/util/debug/long_operation_tracker.cc
+++ b/src/yb/util/debug/long_operation_tracker.cc
@@ -116,12 +116,12 @@ class LongOperationTrackerHelper {
 
       TrackedOperationPtr operation = queue_.top();
       queue_.pop();
-      if (!operation.unique()) {
+      if (operation.use_count() > 1) {
         lock.unlock();
         auto stack = DumpThreadStack(operation->thread_id);
         // Make sure the task did not complete while we were dumping the stack. Else we could get
         // some other innocent stack.
-        if (!operation.unique()) {
+        if (operation.use_count() > 1) {
           LOG(WARNING) << operation->message << " running for " << MonoDelta(now - operation->start)
                        << " in thread " << operation->thread_id << ":\n"
                        << stack;
diff --git a/src/yb/util/metrics-test.cc b/src/yb/util/metrics-test.cc
index 9bdaf286d7..24175ad3e8 100644
--- a/src/yb/util/metrics-test.cc
+++ b/src/yb/util/metrics-test.cc
@@ -63,8 +63,6 @@ namespace yb {
 
 METRIC_DEFINE_entity(test_entity);
 
-static const string kTableId = "table_id";
-
 class MetricsTest : public YBTest {
  public:
   void SetUp() override {
