diff --git a/src/postgres/third-party-extensions/pg_cron/expected/pg_cron-test.out b/src/postgres/third-party-extensions/pg_cron/expected/pg_cron-test.out
index 9c1878d7c2..6a48f4e3cd 100644
--- a/src/postgres/third-party-extensions/pg_cron/expected/pg_cron-test.out
+++ b/src/postgres/third-party-extensions/pg_cron/expected/pg_cron-test.out
@@ -9,6 +9,9 @@ SELECT extversion FROM pg_extension WHERE extname='pg_cron';
 ALTER EXTENSION pg_cron UPDATE TO '1.4';
 SELECT cron.unschedule(job_name := 'no_such_job');
 ERROR:  could not find valid entry for job 'no_such_job'
+-- Test cache invalidation
+DROP EXTENSION pg_cron;
+CREATE EXTENSION pg_cron VERSION '1.4';
 ALTER EXTENSION pg_cron UPDATE;
 -- Vacuum every day at 10:00am (GMT)
 SELECT cron.schedule('0 10 * * *', 'VACUUM');
diff --git a/src/postgres/third-party-extensions/pg_cron/include/job_metadata.h b/src/postgres/third-party-extensions/pg_cron/include/job_metadata.h
index 16a782ae14..e89b19bf9d 100644
--- a/src/postgres/third-party-extensions/pg_cron/include/job_metadata.h
+++ b/src/postgres/third-party-extensions/pg_cron/include/job_metadata.h
@@ -62,4 +62,6 @@ extern int64 NextRunId(void);
 extern void MarkPendingRunsAsFailed(void);
 extern char *GetCronStatus(CronStatus cronstatus);
 
+extern void InvalidateJobCacheCallback(Datum argument, Oid relationId);
+
 #endif
diff --git a/src/postgres/third-party-extensions/pg_cron/sql/pg_cron-test.sql b/src/postgres/third-party-extensions/pg_cron/sql/pg_cron-test.sql
index 71ab292d2c..3a0f358ce0 100644
--- a/src/postgres/third-party-extensions/pg_cron/sql/pg_cron-test.sql
+++ b/src/postgres/third-party-extensions/pg_cron/sql/pg_cron-test.sql
@@ -3,6 +3,11 @@ SELECT extversion FROM pg_extension WHERE extname='pg_cron';
 -- Test binary compatibility with v1.4 function signature.
 ALTER EXTENSION pg_cron UPDATE TO '1.4';
 SELECT cron.unschedule(job_name := 'no_such_job');
+
+-- Test cache invalidation
+DROP EXTENSION pg_cron;
+CREATE EXTENSION pg_cron VERSION '1.4';
+
 ALTER EXTENSION pg_cron UPDATE;
 
 -- Vacuum every day at 10:00am (GMT)
diff --git a/src/postgres/third-party-extensions/pg_cron/src/job_metadata.c b/src/postgres/third-party-extensions/pg_cron/src/job_metadata.c
index 14ac859446..94b6908d07 100644
--- a/src/postgres/third-party-extensions/pg_cron/src/job_metadata.c
+++ b/src/postgres/third-party-extensions/pg_cron/src/job_metadata.c
@@ -83,7 +83,6 @@ static int64 ScheduleCronJob(text *scheduleText, text *commandText,
 								bool active, text *jobnameText);
 static Oid CronExtensionOwner(void);
 static void EnsureDeletePermission(Relation cronJobsTable, HeapTuple heapTuple);
-static void InvalidateJobCacheCallback(Datum argument, Oid relationId);
 static void InvalidateJobCache(void);
 static Oid CronJobRelationId(void);
 
@@ -125,9 +124,6 @@ bool EnableSuperuserJobs = true;
 void
 InitializeJobMetadataCache(void)
 {
-	/* watch for invalidation events */
-	CacheRegisterRelcacheCallback(InvalidateJobCacheCallback, (Datum) 0);
-
 	CronJobContext = AllocSetContextCreate(CurrentMemoryContext,
 											 "pg_cron job context",
 											 ALLOCSET_DEFAULT_MINSIZE,
@@ -830,7 +826,7 @@ InvalidateJobCache(void)
  * InvalidateJobCacheCallback invalidates the job cache in response to
  * an invalidation event.
  */
-static void
+void
 InvalidateJobCacheCallback(Datum argument, Oid relationId)
 {
 	if (relationId == CachedCronJobRelationId ||
diff --git a/src/postgres/third-party-extensions/pg_cron/src/pg_cron.c b/src/postgres/third-party-extensions/pg_cron/src/pg_cron.c
index c0539e3060..599fe3ca54 100644
--- a/src/postgres/third-party-extensions/pg_cron/src/pg_cron.c
+++ b/src/postgres/third-party-extensions/pg_cron/src/pg_cron.c
@@ -222,6 +222,9 @@ _PG_init(void)
 								"configuration variable in postgresql.conf.")));
 	}
 
+	/* watch for invalidation events */
+	CacheRegisterRelcacheCallback(InvalidateJobCacheCallback, (Datum) 0);
+
 	DefineCustomStringVariable(
 		"cron.database_name",
 		gettext_noop("Database in which pg_cron metadata is kept."),
