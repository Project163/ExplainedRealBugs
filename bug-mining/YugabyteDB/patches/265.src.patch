diff --git a/src/yb/master/ysql/ysql_initdb_major_upgrade_handler.cc b/src/yb/master/ysql/ysql_initdb_major_upgrade_handler.cc
index f467208008..789ca9f922 100644
--- a/src/yb/master/ysql/ysql_initdb_major_upgrade_handler.cc
+++ b/src/yb/master/ysql/ysql_initdb_major_upgrade_handler.cc
@@ -31,6 +31,7 @@
 #include "yb/yql/pgwrapper/pg_wrapper.h"
 
 DECLARE_bool(enable_ysql);
+DECLARE_bool(enable_ysql_conn_mgr);
 DECLARE_string(tmp_dir);
 DECLARE_bool(master_join_existing_universe);
 DECLARE_string(pgsql_proxy_bind_address);
@@ -416,6 +417,10 @@ Status YsqlInitDBAndMajorUpgradeHandler::PerformPgUpgrade(const LeaderEpoch& epo
     if (!FLAGS_pgsql_proxy_bind_address.empty()) {
       closest_ts_hp.set_host(pg_conf.listen_addresses);
     }
+    if (FLAGS_enable_ysql_conn_mgr) {
+      closest_ts_hp.set_port(pgwrapper::PgProcessConf::kDefaultPortWithConnMgr);
+    }
+
     pg_upgrade_params.old_version_socket_dir = PgDeriveSocketDir(closest_ts_hp);
   } else {
     // Remote tserver.
diff --git a/src/yb/tserver/tablet_server_main_impl.cc b/src/yb/tserver/tablet_server_main_impl.cc
index b288000b03..4de9a3cb2b 100644
--- a/src/yb/tserver/tablet_server_main_impl.cc
+++ b/src/yb/tserver/tablet_server_main_impl.cc
@@ -167,8 +167,11 @@ void SetProxyAddresses() {
     LOG_IF(DFATAL, !status.ok())
     << "Bad pgsql_proxy_bind_address " << FLAGS_pgsql_proxy_bind_address << ": " << status;
     for (const auto& addr : bind_addresses) {
-      if (addr.port() == PgProcessConf::kDefaultPort && addr.port() == FLAGS_ysql_conn_mgr_port) {
-        uint16_t preferred_port = 6433;
+      // Flag validator PostgresAndYsqlConnMgrPortValidator ensures that the pg port and conn mgr
+      // port are either both PgProcessConf::kDefaultPort, or are different.
+      // Fixup the pg port so that the ports do not conflict.
+      if (addr.port() == FLAGS_ysql_conn_mgr_port) {
+        const auto preferred_port = PgProcessConf::kDefaultPortWithConnMgr;
         if (addr.port() != preferred_port) {
           LOG(INFO) << "The connection manager and backend db ports are conflicting on "
                 << addr.port() << ". Trying port " << preferred_port << " for backend db.";
diff --git a/src/yb/yql/pgwrapper/pg_wrapper.h b/src/yb/yql/pgwrapper/pg_wrapper.h
index 5be7aeb60c..d2d799c853 100644
--- a/src/yb/yql/pgwrapper/pg_wrapper.h
+++ b/src/yb/yql/pgwrapper/pg_wrapper.h
@@ -39,6 +39,7 @@ std::string GetPostgresInstallRoot();
 // Configuration for an external PostgreSQL server.
 struct PgProcessConf : public ProcessWrapperCommonConfig {
   static constexpr uint16_t kDefaultPort = 5433;
+  static constexpr uint16_t kDefaultPortWithConnMgr = 6433;
 
   static Result<PgProcessConf> CreateValidateAndRunInitDb(
       const std::string& bind_addresses,
