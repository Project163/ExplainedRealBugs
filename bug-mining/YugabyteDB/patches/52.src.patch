diff --git a/src/yb/util/status-test.cc b/src/yb/util/status-test.cc
index 6d5cc65e2e..ea70048c4c 100644
--- a/src/yb/util/status-test.cc
+++ b/src/yb/util/status-test.cc
@@ -307,4 +307,31 @@ TEST(StatusTest, StringVectorError) {
   }
 }
 
+#define CAPTURE_STATUS(expr) \
+  []() -> Status { \
+    expr; \
+    return Status::OK(); \
+  }()
+
+TEST(StatusTest, StatusFormat) {
+  auto status = CAPTURE_STATUS(SCHECK_FORMAT(true, NotFound, "TEST $0", 42));
+  ASSERT_OK(status);
+
+  status = CAPTURE_STATUS(SCHECK_FORMAT(false, IllegalState, "TEST $0", 42));
+  ASSERT_NOK(status);
+  ASSERT_STR_CONTAINS(status.ToString(), "Illegal state");
+  ASSERT_STR_CONTAINS(status.ToString(), "TEST 42");
+
+  status =
+      CAPTURE_STATUS(SCHECK_EC_FORMAT(true || false, NotFound, Errno(ENOTDIR), "ENOTDIR $0", 42));
+  ASSERT_OK(status);
+
+  status = CAPTURE_STATUS(
+      SCHECK_EC_FORMAT(false, NotFound, Errno(ENOTDIR), "ENOTDIR $0 $1 $0", 37, "foo"));
+  ASSERT_NOK(status);
+  ASSERT_EQ(ENOTDIR, Errno(status));
+  ASSERT_STR_CONTAINS(status.ToString(), "Not found");
+  ASSERT_STR_CONTAINS(status.ToString(), "ENOTDIR 37 foo 37");
+}
+
 }  // namespace yb
diff --git a/src/yb/util/status_format.h b/src/yb/util/status_format.h
index fc9ddb3309..52b4f946b4 100644
--- a/src/yb/util/status_format.h
+++ b/src/yb/util/status_format.h
@@ -43,6 +43,12 @@
     if (PREDICT_FALSE(!(expr))) return STATUS_FORMAT(status_type, (msg), __VA_ARGS__); \
   } while (0)
 
+#define SCHECK_EC_FORMAT(expr, status_type, error_code, msg, ...) \
+  do { \
+    if (PREDICT_FALSE(!(expr))) \
+      return STATUS_EC_FORMAT(status_type, error_code, (msg), __VA_ARGS__); \
+  } while (0)
+
 #define SCHECK_OP(var1, op, var2, status_type, msg) \
   do { \
     const auto& v1_tmp = (var1); \
