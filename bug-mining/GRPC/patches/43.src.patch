diff --git a/bazel/grpc_build_system.bzl b/bazel/grpc_build_system.bzl
index 0fc2e1d061..5fda339af9 100644
--- a/bazel/grpc_build_system.bzl
+++ b/bazel/grpc_build_system.bzl
@@ -198,13 +198,15 @@ def grpc_proto_plugin(name, srcs = [], deps = []):
         name = name + "_universal",
         binary = name + "_native",
     )
+
+    # In order to avoid warnings from Bazel, names of the rule and its output file must differ.
     native.genrule(
         name = name,
         srcs = select({
             "@platforms//os:macos": [name + "_universal"],
             "//conditions:default": [name + "_native"],
         }),
-        outs = [name],
+        outs = [name + "_binary"],
         cmd = "cp $< $@",
         executable = True,
     )
@@ -659,7 +661,7 @@ def grpc_generate_objc_one_off_targets():
 def grpc_generate_one_off_internal_targets():
     pass
 
-def grpc_sh_test(name, srcs = [], args = [], data = [], uses_polling = True, size = "medium", timeout = None, tags = [], exec_compatible_with = [], exec_properties = {}, shard_count = None, flaky = None, exclude_pollers = [], uses_event_engine = True):
+def grpc_sh_test(name, srcs = [], args = [], data = [], uses_polling = True, size = "medium", timeout = None, tags = [], env = {}, exec_compatible_with = [], exec_properties = {}, shard_count = None, flaky = None, exclude_pollers = [], uses_event_engine = True):
     """Execute an sh_test for every <poller> x <EventEngine> combination
 
     Args:
@@ -671,6 +673,7 @@ def grpc_sh_test(name, srcs = [], args = [], data = [], uses_polling = True, siz
         size: The size of the test.
         timeout: The test timeout.
         tags: The tags for the test.
+        env: Environment variables to set for the test.
         exec_compatible_with: A list of constraint values that must be
             satisfied for the platform.
         exec_properties: A dictionary of strings that will be added to the
@@ -697,7 +700,7 @@ def grpc_sh_test(name, srcs = [], args = [], data = [], uses_polling = True, siz
             deps = poller_config["deps"],
             tags = poller_config["tags"],
             args = poller_config["args"],
-            env = poller_config["env"],
+            env = poller_config["env"] | env,
             flaky = poller_config["flaky"],
             **test_args
         )
diff --git a/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec b/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec
index 484db2dc26..bc8387391a 100644
--- a/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec
+++ b/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec
@@ -95,7 +95,7 @@ Pod::Spec.new do |s|
 
   repo_root = '../..'
   bazel = "#{repo_root}/tools/bazel"
-  plugin = 'grpc_cpp_plugin'
+  plugin = 'grpc_cpp_plugin_binary'
 
   s.preserve_paths = plugin
 
diff --git a/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec b/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec
index 0e3060fd30..e26f1fb2b0 100644
--- a/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec
+++ b/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec
@@ -97,7 +97,7 @@ Pod::Spec.new do |s|
 
   repo_root = '../..'
   bazel = "#{repo_root}/tools/bazel"
-  plugin = 'grpc_objective_c_plugin'
+  plugin = 'grpc_objective_c_plugin_binary'
 
   s.preserve_paths = plugin
 
diff --git a/src/objective-c/examples/RemoteTestClient/RemoteTest.podspec b/src/objective-c/examples/RemoteTestClient/RemoteTest.podspec
index e0e3d82bfe..3c0dcfc272 100644
--- a/src/objective-c/examples/RemoteTestClient/RemoteTest.podspec
+++ b/src/objective-c/examples/RemoteTestClient/RemoteTest.podspec
@@ -20,7 +20,7 @@ Pod::Spec.new do |s|
 
   protoc = "#{bazel_exec_root}/external/com_google_protobuf/protoc"
   well_known_types_dir = "#{repo_root}/third_party/protobuf/src"
-  plugin = "#{bazel_exec_root}/src/compiler/grpc_objective_c_plugin"
+  plugin = "#{bazel_exec_root}/src/compiler/grpc_objective_c_plugin_binary"
 
   # Since we switched to importing full path, -I needs to be set to the directory
   # from which the imported file can be found, which is the grpc's root here
diff --git a/src/objective-c/tests/BUILD b/src/objective-c/tests/BUILD
index 5bddd2288b..415bf040e9 100644
--- a/src/objective-c/tests/BUILD
+++ b/src/objective-c/tests/BUILD
@@ -303,6 +303,10 @@ grpc_sh_test(
         "@bazel_tools//tools/bash/runfiles",
         "@com_google_protobuf//:protoc",
     ] + glob(["PluginTest/*.proto"]),
+    env = {
+        "RLOCATIONPATH_PROTOC": "$(rlocationpath @com_google_protobuf//:protoc)",
+        "RLOCATIONPATH_PLUGIN": "$(rlocationpath //src/compiler:grpc_objective_c_plugin)",
+    },
     uses_polling = False,
 )
 
@@ -315,5 +319,9 @@ grpc_sh_test(
         "@com_google_protobuf//:protoc",
         "@com_google_protobuf//:well_known_type_protos",
     ] + glob(["RemoteTestClient/*.proto"]),
+    env = {
+        "RLOCATIONPATH_PROTOC": "$(rlocationpath @com_google_protobuf//:protoc)",
+        "RLOCATIONPATH_PLUGIN": "$(rlocationpath //src/compiler:grpc_objective_c_plugin)",
+    },
     uses_polling = False,
 )
diff --git a/src/objective-c/tests/PluginTest/plugin_option_test.sh b/src/objective-c/tests/PluginTest/plugin_option_test.sh
index 574aa0c469..f8b5b77489 100755
--- a/src/objective-c/tests/PluginTest/plugin_option_test.sh
+++ b/src/objective-c/tests/PluginTest/plugin_option_test.sh
@@ -32,8 +32,8 @@ source "${RUNFILES_DIR:-/dev/null}/$f" 2>/dev/null || \
 # --- end runfiles.bash initialization v3 ---
 
 # protoc and grpc_objective_c_plugin binaries are supplied as "data" in bazel
-PROTOC=$(rlocation com_google_protobuf/protoc)
-PLUGIN=$(rlocation com_github_grpc_grpc/src/compiler/grpc_objective_c_plugin)
+PROTOC=$(rlocation "$RLOCATIONPATH_PROTOC")
+PLUGIN=$(rlocation "$RLOCATIONPATH_PLUGIN")
 WELL_KNOWN_PROTOS_PATH=$(rlocation com_google_protobuf/src)
 RUNTIME_IMPORT_PREFIX=prefix/dir/
 
diff --git a/src/objective-c/tests/PluginTest/plugin_test.sh b/src/objective-c/tests/PluginTest/plugin_test.sh
index 94d6f5d1f0..3f0e9f2c33 100755
--- a/src/objective-c/tests/PluginTest/plugin_test.sh
+++ b/src/objective-c/tests/PluginTest/plugin_test.sh
@@ -32,8 +32,8 @@ source "${RUNFILES_DIR:-/dev/null}/$f" 2>/dev/null || \
 # --- end runfiles.bash initialization v3 ---
 
 # protoc and grpc_objective_c_plugin binaries are supplied as "data" in bazel
-PROTOC=$(rlocation com_google_protobuf/protoc)
-PLUGIN=$(rlocation com_github_grpc_grpc/src/compiler/grpc_objective_c_plugin)
+PROTOC=$(rlocation "$RLOCATIONPATH_PROTOC")
+PLUGIN=$(rlocation "$RLOCATIONPATH_PLUGIN")
 
 PROTO_OUT=./proto_out
 rm -rf ${PROTO_OUT}
diff --git a/templates/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec.inja b/templates/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec.inja
index 6da783b3be..b3857b3ced 100644
--- a/templates/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec.inja
+++ b/templates/src/objective-c/!ProtoCompiler-gRPCCppPlugin.podspec.inja
@@ -95,7 +95,7 @@ Pod::Spec.new do |s|
 
   repo_root = '../..'
   bazel = "#{repo_root}/tools/bazel"
-  plugin = 'grpc_cpp_plugin'
+  plugin = 'grpc_cpp_plugin_binary'
 
   s.preserve_paths = plugin
 
diff --git a/templates/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec.inja b/templates/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec.inja
index 413a2c82d8..693a80594d 100644
--- a/templates/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec.inja
+++ b/templates/src/objective-c/!ProtoCompiler-gRPCPlugin.podspec.inja
@@ -97,7 +97,7 @@ Pod::Spec.new do |s|
 
   repo_root = '../..'
   bazel = "#{repo_root}/tools/bazel"
-  plugin = 'grpc_objective_c_plugin'
+  plugin = 'grpc_objective_c_plugin_binary'
 
   s.preserve_paths = plugin
 
diff --git a/test/csharp/codegen/BUILD b/test/csharp/codegen/BUILD
index 0e301731fa..f7ed55030d 100644
--- a/test/csharp/codegen/BUILD
+++ b/test/csharp/codegen/BUILD
@@ -27,6 +27,10 @@ grpc_sh_test(
         "@bazel_tools//tools/bash/runfiles",
         "@com_google_protobuf//:protoc",
     ],
+    env = {
+        "RLOCATIONPATH_PROTOC": "$(rlocationpath @com_google_protobuf//:protoc)",
+        "RLOCATIONPATH_PLUGIN": "$(rlocationpath //src/compiler:grpc_csharp_plugin)",
+    },
     tags = [
         "no_windows",
         "noasan",
@@ -49,6 +53,10 @@ grpc_sh_test(
         "@bazel_tools//tools/bash/runfiles",
         "@com_google_protobuf//:protoc",
     ],
+    env = {
+        "RLOCATIONPATH_PROTOC": "$(rlocationpath @com_google_protobuf//:protoc)",
+        "RLOCATIONPATH_PLUGIN": "$(rlocationpath //src/compiler:grpc_csharp_plugin)",
+    },
     tags = [
         "no_windows",
         "noasan",
@@ -69,6 +77,10 @@ grpc_sh_test(
         "@bazel_tools//tools/bash/runfiles",
         "@com_google_protobuf//:protoc",
     ],
+    env = {
+        "RLOCATIONPATH_PROTOC": "$(rlocationpath @com_google_protobuf//:protoc)",
+        "RLOCATIONPATH_PLUGIN": "$(rlocationpath //src/compiler:grpc_csharp_plugin)",
+    },
     tags = [
         "no_windows",
         "noasan",
diff --git a/test/csharp/codegen/csharp_codegen_base_namespace_test.sh b/test/csharp/codegen/csharp_codegen_base_namespace_test.sh
index d527c7bfab..6527fda91c 100755
--- a/test/csharp/codegen/csharp_codegen_base_namespace_test.sh
+++ b/test/csharp/codegen/csharp_codegen_base_namespace_test.sh
@@ -36,8 +36,8 @@ source "${RUNFILES_DIR:-/dev/null}/$f" 2>/dev/null || \
 # --- end runfiles.bash initialization v3 ---
 
 # protoc and grpc_csharp_plugin binaries are supplied as "data" in bazel
-PROTOC=$(rlocation com_google_protobuf/protoc)
-PLUGIN=$(rlocation com_github_grpc_grpc/src/compiler/grpc_csharp_plugin)
+PROTOC=$(rlocation "$RLOCATIONPATH_PROTOC")
+PLUGIN=$(rlocation "$RLOCATIONPATH_PLUGIN")
 
 # where to find the test data
 DATA_DIR=./test/csharp/codegen/${TESTNAME}
diff --git a/test/csharp/codegen/csharp_codegen_deprecated_test.sh b/test/csharp/codegen/csharp_codegen_deprecated_test.sh
index 21c5c7274d..6e9904680e 100755
--- a/test/csharp/codegen/csharp_codegen_deprecated_test.sh
+++ b/test/csharp/codegen/csharp_codegen_deprecated_test.sh
@@ -36,8 +36,8 @@ source "${RUNFILES_DIR:-/dev/null}/$f" 2>/dev/null || \
 # --- end runfiles.bash initialization v3 ---
 
 # protoc and grpc_csharp_plugin binaries are supplied as "data" in bazel
-PROTOC=$(rlocation com_google_protobuf/protoc)
-PLUGIN=$(rlocation com_github_grpc_grpc/src/compiler/grpc_csharp_plugin)
+PROTOC=$(rlocation "$RLOCATIONPATH_PROTOC")
+PLUGIN=$(rlocation "$RLOCATIONPATH_PLUGIN")
 
 # where to find the test data
 DATA_DIR=./test/csharp/codegen/${TESTNAME}
diff --git a/test/csharp/codegen/csharp_codegen_simple_test.sh b/test/csharp/codegen/csharp_codegen_simple_test.sh
index a784ef3fb0..243aafa0bd 100755
--- a/test/csharp/codegen/csharp_codegen_simple_test.sh
+++ b/test/csharp/codegen/csharp_codegen_simple_test.sh
@@ -36,8 +36,8 @@ source "${RUNFILES_DIR:-/dev/null}/$f" 2>/dev/null || \
 # --- end runfiles.bash initialization v3 ---
 
 # protoc and grpc_csharp_plugin binaries are supplied as "data" in bazel
-PROTOC=$(rlocation com_google_protobuf/protoc)
-PLUGIN=$(rlocation com_github_grpc_grpc/src/compiler/grpc_csharp_plugin)
+PROTOC=$(rlocation "$RLOCATIONPATH_PROTOC")
+PLUGIN=$(rlocation "$RLOCATIONPATH_PLUGIN")
 
 # where to find the test data
 DATA_DIR=./test/csharp/codegen/${TESTNAME}
