{"url":"https://api.github.com/repos/grpc/grpc/issues/32486","repository_url":"https://api.github.com/repos/grpc/grpc","labels_url":"https://api.github.com/repos/grpc/grpc/issues/32486/labels{/name}","comments_url":"https://api.github.com/repos/grpc/grpc/issues/32486/comments","events_url":"https://api.github.com/repos/grpc/grpc/issues/32486/events","html_url":"https://github.com/grpc/grpc/issues/32486","id":1601500556,"node_id":"I_kwDOAacf2M5fdPWM","number":32486,"title":"crash in WeightedTargetLb::WeightedPicker::Pick","user":{"login":"fboranek","id":8427123,"node_id":"MDQ6VXNlcjg0MjcxMjM=","avatar_url":"https://avatars.githubusercontent.com/u/8427123?v=4","gravatar_id":"","url":"https://api.github.com/users/fboranek","html_url":"https://github.com/fboranek","followers_url":"https://api.github.com/users/fboranek/followers","following_url":"https://api.github.com/users/fboranek/following{/other_user}","gists_url":"https://api.github.com/users/fboranek/gists{/gist_id}","starred_url":"https://api.github.com/users/fboranek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fboranek/subscriptions","organizations_url":"https://api.github.com/users/fboranek/orgs","repos_url":"https://api.github.com/users/fboranek/repos","events_url":"https://api.github.com/users/fboranek/events{/privacy}","received_events_url":"https://api.github.com/users/fboranek/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":155504842,"node_id":"MDU6TGFiZWwxNTU1MDQ4NDI=","url":"https://api.github.com/repos/grpc/grpc/labels/kind/bug","name":"kind/bug","color":"93732c","default":false,"description":null},{"id":168275588,"node_id":"MDU6TGFiZWwxNjgyNzU1ODg=","url":"https://api.github.com/repos/grpc/grpc/labels/priority/P1","name":"priority/P1","color":"ff0000","default":false,"description":null},{"id":218696181,"node_id":"MDU6TGFiZWwyMTg2OTYxODE=","url":"https://api.github.com/repos/grpc/grpc/labels/lang/core","name":"lang/core","color":"fad8c7","default":false,"description":""},{"id":3940839694,"node_id":"LA_kwDOAacf2M7q5HEO","url":"https://api.github.com/repos/grpc/grpc/labels/untriaged","name":"untriaged","color":"c2e0c6","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":12,"created_at":"2023-02-27T16:16:11Z","updated_at":"2023-03-10T20:28:36Z","closed_at":"2023-03-10T17:22:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What version of gRPC and what language are you using?\r\nC++ 1.51.1\r\n\r\n### What operating system (Linux, Windows,...) and version?\r\nLinux Debian Bullseye\r\n\r\n### What runtime / compiler are you using (e.g. python version or version of gcc)\r\ngcc (Debian 10.2.1-6) 10.2.1 20210110\r\n\r\n### What did you do?\r\n1) configure gRPC services via XDS\r\n2) run your app in Kubernetes using XDS to connect to gRPC services\r\n3) downscale gRPC service to 0\r\n\r\n### What did you expect to see?\r\nTRANSIENT_FAILURE error in logs\r\n\r\n### What did you see instead?\r\nThe application crash on Segmentation fault.\r\n\r\nstack trace\r\n```\r\n[Thread debugging using libthread_db enabled]\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  0x00007fb4e4b02648 in grpc_core::(anonymous namespace)::WeightedTargetLb::WeightedPicker::Pick (this=0x7fb3d8009840, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/weighted_target/weighted_target.cc:265\r\n265    /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/weighted_target/weighted_target.cc: No such file or directory.\r\n[Current thread is 1 (Thread 0x7fb3f6ffd700 (LWP 71))]\r\n#0  0x00007fb4e4b02648 in grpc_core::(anonymous namespace)::WeightedTargetLb::WeightedPicker::Pick (this=0x7fb3d8009840, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/weighted_target/weighted_target.cc:265\r\n#1  0x00007fb4e4b1a7fb in grpc_core::(anonymous namespace)::XdsClusterImplLb::RefCountedPicker::Pick (args=..., this=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/xds/xds_cluster_impl.cc:218\r\n#2  grpc_core::(anonymous namespace)::XdsClusterImplLb::Picker::Pick (this=0x7fb3e006d430, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/xds/xds_cluster_impl.cc:407\r\n#3  0x00007fb4e4ac616f in grpc_core::(anonymous namespace)::OutlierDetectionLb::RefCountedPicker::Pick (args=..., this=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/outlier_detection/outlier_detection.cc:313\r\n#4  grpc_core::(anonymous namespace)::OutlierDetectionLb::Picker::Pick (this=0x7fb3e057f310, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/outlier_detection/outlier_detection.cc:512\r\n#5  0x00007fb4e4ad4224 in grpc_core::(anonymous namespace)::PriorityLb::ChildPriority::RefCountedPicker::Pick (args=..., this=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/priority/priority.cc:170\r\n#6  grpc_core::(anonymous namespace)::PriorityLb::ChildPriority::RefCountedPickerWrapper::Pick (this=<optimized out>, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/priority/priority.cc:181\r\n#7  0x00007fb4e4b1f588 in grpc_core::(anonymous namespace)::XdsClusterManagerLb::ChildPickerWrapper::Pick (args=..., this=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/xds/xds_cluster_manager.cc:129\r\n#8  grpc_core::(anonymous namespace)::XdsClusterManagerLb::ClusterPicker::Pick (this=0x7fb3d8be55a0, args=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/lb_policy/xds/xds_cluster_manager.cc:257\r\n#9  0x00007fb4e4a8c4d3 in grpc_core::ClientChannel::LoadBalancedCall::PickSubchannelLocked (this=0x7fb3dc0b9ce0, error=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/client_channel.cc:3101\r\n#10 0x00007fb4e4a9547e in grpc_core::ClientChannel::LoadBalancedCall::PickSubchannel (arg=0x7fb3dc0b9ce0, error=...) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/client_channel.cc:3078\r\n#11 0x00007fb4e4a957b1 in grpc_core::ClientChannel::LoadBalancedCall::StartTransportStreamOpBatch (this=0x7fb3dc0b9ce0, batch=0x7fb3dc0b9ee8) at /builds/_w3L8yQE//grpc-src/src/core/ext/filters/client_channel/client_channel.cc:2828\r\n#12 0x00007fb4e4d1b115 in exec_ctx_run (closure=0x7fb3dc0b9f08) at /builds/_w3L8yQE//grpc-src/src/core/lib/iomgr/exec_ctx.cc:42\r\n#13 grpc_core::ExecCtx::Flush (this=this@entry=0x7fb3f6ff15b0) at /builds/_w3L8yQE//grpc-src/src/core/lib/iomgr/exec_ctx.cc:69\r\n#14 0x00007fb4e4df5524 in grpc_core::ExecCtx::~ExecCtx (this=0x7fb3f6ff15b0, __in_chrg=<optimized out>) at /builds/_w3L8yQE//grpc-src/src/core/lib/iomgr/exec_ctx.h:116\r\n#15 grpc_call_start_batch (call=0x7fb3dc0b8450, ops=0x7fb3f6ff1680, nops=6, tag=0x7fb3f6ff1a90, reserved=0x7fb3f6ff15b0) at /builds/_w3L8yQE//grpc-src/src/core/lib/surface/call.cc:2965\r\n#16 0x00005650006d4884 in grpc::internal::CallOpSet<grpc::internal::CallOpSendInitialMetadata, grpc::internal::CallOpSendMessage, grpc::internal::CallOpRecvInitialMetadata, grpc::internal::CallOpRecvMessage<google::protobuf::MessageLite>, grpc::internal::CallOpClientSendClose, grpc::internal::CallOpClientRecvStatus>::ContinueFillOpsAfterInterception (this=0x7fb3f6ff1a90) at /usr/include/grpcpp/impl/call.h:70\r\n#17 0x00005650006d24b6 in grpc::experimental::ClientRpcInfo::RunInterceptor (pos=<optimized out>, interceptor_methods=0x7fb3f6ff1bc8, this=<optimized out>) at /usr/include/grpcpp/support/client_interceptor.h:139\r\n#18 grpc::internal::InterceptorBatchMethodsImpl::RunClientInterceptors (this=0x7fb3f6ff1bc8) at /usr/include/grpcpp/impl/codegen/interceptor_common.h:288\r\n#19 grpc::internal::InterceptorBatchMethodsImpl::RunInterceptors (this=this@entry=0x7fb3f6ff1bc8) at /usr/include/grpcpp/impl/codegen/interceptor_common.h:246\r\n#20 0x00005650006d2b74 in grpc::internal::CallOpSet<grpc::internal::CallOpSendInitialMetadata, grpc::internal::CallOpSendMessage, grpc::internal::CallOpRecvInitialMetadata, grpc::internal::CallOpRecvMessage<google::protobuf::MessageLite>, grpc::internal::CallOpClientSendClose, grpc::internal::CallOpClientRecvStatus>::RunInterceptors (this=0x7fb3f6ff1a90) at /usr/include/grpcpp/impl/call_op_set.h:1013\r\n#21 grpc::internal::CallOpSet<grpc::internal::CallOpSendInitialMetadata, grpc::internal::CallOpSendMessage, grpc::internal::CallOpRecvInitialMetadata, grpc::internal::CallOpRecvMessage<google::protobuf::MessageLite>, grpc::internal::CallOpClientSendClose, grpc::internal::CallOpClientRecvStatus>::FillOps (this=0x7fb3f6ff1a90, call=0x7fb3f6ff19b0) at /usr/include/grpcpp/impl/call_op_set.h:900\r\n#22 0x00005650006db24c in grpc::internal::Call::PerformOps (ops=0x7fb3f6ff1a90, this=0x7fb3f6ff19b0) at /usr/include/grpcpp/impl/call.h:67\r\n#23 grpc::internal::BlockingUnaryCallImpl<google::protobuf::MessageLite, google::protobuf::MessageLite>::BlockingUnaryCallImpl (this=0x7fb3f6ff1d00, channel=0x7fb3f6ff1a90, method=..., context=0x7fb3f6ff1ec0, request=..., result=<optimized out>) at /usr/include/grpcpp/impl/client_unary_call.h:80\r\n#24 0x00005650006dd354 in grpc::internal::BlockingUnaryCall<Request, Response, google::protobuf::MessageLite, google::protobuf::MessageLite> (result=<optimized out>, request=..., context=<optimized out>, method=..., channel=<optimized out>) at /usr/include/grpcpp/impl/client_unary_call.h:50\r\n#25 grpc::Service::Stub::someMethod (this=<optimized out>, context=<optimized out>, request=..., response=<optimized out>) at service.grpc.pb.cc:44\r\n```\r\n\r\nfirst frame\r\n```\r\n#0  0x00007fb4e4b02648 in grpc_core::(anonymous namespace)::WeightedTargetLb::WeightedPicker::Pick (this=0x7fb3d8009840, args=...)\r\n    at /builds/_w3L8yQE/0/sklik-backend/sklik.context/grpc/grpc/obj-x86_64-linux-gnu/shared/_deps/grpc-src/src/core/ext/filters/client_channel/lb_policy/weighted_target/weighted_target.cc:265\r\n265\t/builds/_w3L8yQE/0/sklik-backend/sklik.context/grpc/grpc/obj-x86_64-linux-gnu/shared/_deps/grpc-src/src/core/ext/filters/client_channel/lb_policy/weighted_target/weighted_target.cc: No such file or directory.\r\n[Current thread is 1 (Thread 0x7fb3f6ffd700 (LWP 71))]\r\n(gdb) info locals \r\nkey = <optimized out>\r\nmid = <optimized out>\r\nstart_index = <optimized out>\r\nend_index = <optimized out>\r\nindex = <optimized out>\r\n(gdb) p *this\r\n$1 = {<grpc_core::LoadBalancingPolicy::SubchannelPicker> = {_vptr.SubchannelPicker = 0x7fb4e4f94a10 <vtable for grpc_core::(anonymous namespace)::WeightedTargetLb::WeightedPicker+16>}, pickers_ = std::vector of length 0, capacity 0, bit_gen_ = {urbg_ = {\r\n      static kStateSizeT = <optimized out>, static kCapacityT = <optimized out>, raw_state_ = '\\000' <repeats 32 times>, \"{\\370\\223\\256\\001\\244\\217\\060\\263\\373\\261YN\\266\\255\\\"\", '\\000' <repeats 16 times>, \"\\252\\302%^z\\b\\241Ñ°\\243h)\\340\\354z\\203\", '\\000' <repeats 176 times>..., \r\n      next_ = 32, impl_ = {static kStateBytes = 256, static kCapacityBytes = 16, static kSeedBytes = 240, keys_ = 0x7fb4e1e93000 <absl::lts_20230125::random_internal::kRandenRoundKeys>, has_crypto_ = true}}}}\r\n```\r\n\r\nlog: started\r\n```\r\nD0227 16:38:17.361909187      72 xds_api.cc:215]                       [xds_client 0x7f7eb801ab30] constructed ADS request: node {\r\n  cluster: \"default-cluster\"\r\n  user_agent_name: \"gRPC C-core linux\"\r\n  user_agent_version: \"C-core 29.0.0\"\r\n  client_features: \"envoy.lb.does_not_support_overprovisioning\"\r\n  client_features: \"xds.config.resource-in-sotw\"\r\n}\r\nresource_names: \"adclosingserver\"\r\ntype_url: \"type.googleapis.com/envoy.config.listener.v3.Listener\"\r\n```\r\n\r\nlog: xds send new endpoints\r\n```\r\nD0227 16:32:12.097295013      72 xds_endpoint.cc:144]                  [xds_client 0x7fb3e0197940] ClusterLoadAssignment: cluster_name: \"dummyserver-cluster\"\r\nendpoints {\r\n  locality {\r\n    zone: \"unk\"\r\n  }\r\n  lb_endpoints {\r\n    endpoint {\r\n      address {\r\n        socket_address {\r\n          address: \"10.69.38.185\"\r\n          port_value: 3352\r\n        }\r\n      }\r\n    }\r\n    health_status: HEALTHY\r\n  }\r\n  load_balancing_weight {\r\n    value: 100\r\n  }\r\n}\r\n```\r\n\r\n\r\nlog: I set 0 replicas on dummyserver deployment\r\n```\r\nD0227 16:36:06.651701173      72 xds_endpoint.cc:144]                  [xds_client 0x7fb3e0197940] ClusterLoadAssignment: cluster_name: \"dummyserver-cluster\"\r\nendpoints {\r\n  locality {\r\n    zone: \"unk\"\r\n  }\r\n  load_balancing_weight {\r\n    value: 100\r\n  }\r\n}\r\n\r\n2023/02/27 16:36:06 E3: [13:140410911442688:(72)]: (769277cd-839d-44ef-840c-47d957f5c8aa): .... returned 14 no children in weighted_target policy: EDS resource dummyserver-cluster contains empty localities: [{region=\"\", zone=\"unk\", sub_zone=\"\"}]\r\n\r\n\r\nI0227 16:36:08.927720932      23 child_policy_handler.cc:101]          [child_policy_handler 0x7fb3e03c8920] started name re-resolving\r\nI0227 16:36:08.928073041      23 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e03c52c0] WeightedChild 0x7fb3e03c8340 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=CONNECTING (OK) picker_wrapper=0x7fb4b8001520\r\nI0227 16:36:08.928090055      23 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e03c52c0] scanning children to determine connectivity state\r\nI0227 16:36:08.928101655      23 weighted_target.cc:413]               [weighted_target_lb 0x7fb3e03c52c0]   child={region=\"\", zone=\"unk\", sub_zone=\"\"} state=CONNECTING weight=100 picker=0x7fb4b8001520\r\nI0227 16:36:08.928111367      23 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e03c52c0] connectivity changed to CONNECTING\r\nI0227 16:36:08.928156167      23 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e03c52c0] WeightedChild 0x7fb3e03c8340 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=CONNECTING (OK) picker_wrapper=0x7fb3e0372a90\r\nI0227 16:36:08.928164881      23 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e03c52c0] scanning children to determine connectivity state\r\nI0227 16:36:08.928171250      23 weighted_target.cc:413]               [weighted_target_lb 0x7fb3e03c52c0]   child={region=\"\", zone=\"unk\", sub_zone=\"\"} state=CONNECTING weight=100 picker=0x7fb3e0372a90\r\nI0227 16:36:08.928176964      23 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e03c52c0] connectivity changed to CONNECTING\r\nI0227 16:36:09.708286337      36 subchannel.cc:866]                    subchannel 0x7fb3e058b2a0 {address=ipv4:10.69.38.185:3352, args={grpc.client_channel_factory=0x56500127c630, grpc.default_authority=dummyserver, grpc.internal.channel_credentials=0x5650012e90e0, grpc.internal.event_engine=0x7fb3e05738a0, grpc.internal.security_connector=0x7fb3e0385450, grpc.internal.subchannel_pool=0x56500123c9d0, grpc.internal.xds_client=0x7fb3e0197940, grpc.internal.xds_cluster_name=dummyserver-cluster, grpc.keepalive_time_ms=2000, grpc.keepalive_timeout_ms=1000, grpc.primary_user_agent=grpc-c++/1.51.1, grpc.resource_quota=0x5650012e8bb0, grpc.server_uri=xds:///dummyserver}}: backoff delay elapsed, reporting IDLE\r\nI0227 16:36:09.708353216      36 child_policy_handler.cc:101]          [child_policy_handler 0x7fb3e0430830] started name re-resolving\r\nI0227 16:36:09.708654859      36 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e04563c0] WeightedChild 0x7fb3e056f120 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.38.185:3352: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb47c0025c0\r\nI0227 16:36:09.708678381      36 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e04563c0] scanning children to determine connectivity state\r\nI0227 16:36:09.708690008      36 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e04563c0] connectivity changed to TRANSIENT_FAILURE\r\nI0227 16:36:09.708726860      36 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e04563c0] WeightedChild 0x7fb3e056f120 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.38.185:3352: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb3e0457420\r\nI0227 16:36:09.708737843      36 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e04563c0] scanning children to determine connectivity state\r\nI0227 16:36:09.708743220      36 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e04563c0] connectivity changed to TRANSIENT_FAILURE\r\nI0227 16:36:12.953051744      77 subchannel.cc:908]                    subchannel 0x7fb3e03ca810 {address=ipv4:10.69.0.197:3355, args={grpc.client_channel_factory=0x56500127c630, grpc.default_authority=closingserver, grpc.internal.channel_credentials=0x5650012e90e0, grpc.internal.event_engine=0x7fb3e03c9fd0, grpc.internal.security_connector=0x7fb3e03c75d0, grpc.internal.subchannel_pool=0x56500123c9d0, grpc.internal.xds_client=0x7fb3e0197940, grpc.internal.xds_cluster_name=closingserver-cluster, grpc.keepalive_time_ms=2000, grpc.keepalive_timeout_ms=1000, grpc.primary_user_agent=grpc-c++/1.51.1, grpc.resource_quota=0x5650012e8bb0, grpc.server_uri=xds:///closingserver}}: connect failed (UNKNOWN:Failed to connect to remote host: Connection timed out {created_time:\"2023-02-27T16:36:12.952868211+01:00\", errno:110, os_error:\"Connection timed out\", syscall:\"getsockopt(SO_ERROR)\", target_address:\"ipv4:10.69.0.197:3355\"}), backing off for -3025 ms\r\nI0227 16:36:12.953103198      77 child_policy_handler.cc:101]          [child_policy_handler 0x7fb3e03c8920] started name re-resolving\r\nI0227 16:36:12.953120466      77 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e03c52c0] WeightedChild 0x7fb3e03c8340 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.0.197:3355: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb3d4c278a0\r\nI0227 16:36:12.953125886      77 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e03c52c0] scanning children to determine connectivity state\r\nI0227 16:36:12.953131140      77 weighted_target.cc:413]               [weighted_target_lb 0x7fb3e03c52c0]   child={region=\"\", zone=\"unk\", sub_zone=\"\"} state=TRANSIENT_FAILURE weight=100 picker=0x7fb3d4c278a0\r\nI0227 16:36:12.953135883      77 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e03c52c0] connectivity changed to TRANSIENT_FAILURE\r\nI0227 16:36:12.953282199      77 subchannel.cc:908]                    subchannel 0x7fb3e058b2a0 {address=ipv4:10.69.38.185:3352, args={grpc.client_channel_factory=0x56500127c630, grpc.default_authority=dummyserver, grpc.internal.channel_credentials=0x5650012e90e0, grpc.internal.event_engine=0x7fb3e05738a0, grpc.internal.security_connector=0x7fb3e0385450, grpc.internal.subchannel_pool=0x56500123c9d0, grpc.internal.xds_client=0x7fb3e0197940, grpc.internal.xds_cluster_name=dummyserver-cluster, grpc.keepalive_time_ms=2000, grpc.keepalive_timeout_ms=1000, grpc.primary_user_agent=grpc-c++/1.51.1, grpc.resource_quota=0x5650012e8bb0, grpc.server_uri=xds:///dummyserver}}: connect failed (UNKNOWN:Failed to connect to remote host: Connection timed out {target_address:\"ipv4:10.69.38.185:3352\", created_time:\"2023-02-27T16:36:12.952950687+01:00\", errno:110, os_error:\"Connection timed out\", syscall:\"getsockopt(SO_ERROR)\"}), backing off for 10859 ms\r\nI0227 16:36:12.953303377      77 child_policy_handler.cc:101]          [child_policy_handler 0x7fb3e0430830] started name re-resolving\r\nI0227 16:36:12.953316119      77 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e04563c0] WeightedChild 0x7fb3e056f120 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.38.185:3352: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb3dc13daf0\r\nI0227 16:36:12.953322658      77 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e04563c0] scanning children to determine connectivity state\r\nI0227 16:36:12.953329141      77 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e04563c0] connectivity changed to TRANSIENT_FAILURE\r\nI0227 16:36:12.955244880      37 subchannel.cc:866]                    subchannel 0x7fb3e03ca810 {address=ipv4:10.69.0.197:3355, args={grpc.client_channel_factory=0x56500127c630, grpc.default_authority=closingserver, grpc.internal.channel_credentials=0x5650012e90e0, grpc.internal.event_engine=0x7fb3e03c9fd0, grpc.internal.security_connector=0x7fb3e03c75d0, grpc.internal.subchannel_pool=0x56500123c9d0, grpc.internal.xds_client=0x7fb3e0197940, grpc.internal.xds_cluster_name=closingserver-cluster, grpc.keepalive_time_ms=2000, grpc.keepalive_timeout_ms=1000, grpc.primary_user_agent=grpc-c++/1.51.1, grpc.resource_quota=0x5650012e8bb0, grpc.server_uri=xds:///closingserver}}: backoff delay elapsed, reporting IDLE\r\nI0227 16:36:12.955276129      37 child_policy_handler.cc:101]          [child_policy_handler 0x7fb3e03c8920] started name re-resolving\r\nI0227 16:36:12.955553945      37 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e03c52c0] WeightedChild 0x7fb3e03c8340 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.0.197:3355: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb480002530\r\nI0227 16:36:12.955570332      37 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e03c52c0] scanning children to determine connectivity state\r\nI0227 16:36:12.955580932      37 weighted_target.cc:413]               [weighted_target_lb 0x7fb3e03c52c0]   child={region=\"\", zone=\"unk\", sub_zone=\"\"} state=TRANSIENT_FAILURE weight=100 picker=0x7fb480002530\r\nI0227 16:36:12.955586372      37 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e03c52c0] connectivity changed to TRANSIENT_FAILURE\r\nI0227 16:36:12.955606681      37 weighted_target.cc:642]               [weighted_target_lb 0x7fb3e03c52c0] WeightedChild 0x7fb3e03c8340 {region=\"\", zone=\"unk\", sub_zone=\"\"}: connectivity state update: state=TRANSIENT_FAILURE (UNAVAILABLE: connections to all backends failing; last error: UNKNOWN: ipv4:10.69.0.197:3355: Failed to connect to remote host: Connection timed out) picker_wrapper=0x7fb3e03c8550\r\nI0227 16:36:12.955613250      37 weighted_target.cc:387]               [weighted_target_lb 0x7fb3e03c52c0] scanning children to determine connectivity state\r\nI0227 16:36:12.955618608      37 weighted_target.cc:413]               [weighted_target_lb 0x7fb3e03c52c0]   child={region=\"\", zone=\"unk\", sub_zone=\"\"} state=TRANSIENT_FAILURE weight=100 picker=0x7fb3e03c8550\r\nI0227 16:36:12.955625855      37 weighted_target.cc:456]               [weighted_target_lb 0x7fb3e03c52c0] connectivity changed to TRANSIENT_FAILURE\r\n---\r\ncrash\r\n```\r\n\r\n### Anything else we should know about your project / environment?\r\n","closed_by":{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grpc/grpc/issues/32486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grpc/grpc/issues/32486/timeline","performed_via_github_app":null,"state_reason":"completed"}