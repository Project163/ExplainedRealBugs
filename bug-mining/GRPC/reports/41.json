{"url":"https://api.github.com/repos/grpc/grpc/issues/39217","repository_url":"https://api.github.com/repos/grpc/grpc","labels_url":"https://api.github.com/repos/grpc/grpc/issues/39217/labels{/name}","comments_url":"https://api.github.com/repos/grpc/grpc/issues/39217/comments","events_url":"https://api.github.com/repos/grpc/grpc/issues/39217/events","html_url":"https://github.com/grpc/grpc/issues/39217","id":2987151594,"node_id":"I_kwDOAacf2M6yDFDq","number":39217,"title":"Sigsev Crash in RlsLb::MaybeExportPickCount","user":{"login":"jaystarshot","id":19339828,"node_id":"MDQ6VXNlcjE5MzM5ODI4","avatar_url":"https://avatars.githubusercontent.com/u/19339828?v=4","gravatar_id":"","url":"https://api.github.com/users/jaystarshot","html_url":"https://github.com/jaystarshot","followers_url":"https://api.github.com/users/jaystarshot/followers","following_url":"https://api.github.com/users/jaystarshot/following{/other_user}","gists_url":"https://api.github.com/users/jaystarshot/gists{/gist_id}","starred_url":"https://api.github.com/users/jaystarshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaystarshot/subscriptions","organizations_url":"https://api.github.com/users/jaystarshot/orgs","repos_url":"https://api.github.com/users/jaystarshot/repos","events_url":"https://api.github.com/users/jaystarshot/events{/privacy}","received_events_url":"https://api.github.com/users/jaystarshot/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":155504842,"node_id":"MDU6TGFiZWwxNTU1MDQ4NDI=","url":"https://api.github.com/repos/grpc/grpc/labels/kind/bug","name":"kind/bug","color":"93732c","default":false,"description":null},{"id":168275588,"node_id":"MDU6TGFiZWwxNjgyNzU1ODg=","url":"https://api.github.com/repos/grpc/grpc/labels/priority/P1","name":"priority/P1","color":"ff0000","default":false,"description":null},{"id":218696181,"node_id":"MDU6TGFiZWwyMTg2OTYxODE=","url":"https://api.github.com/repos/grpc/grpc/labels/lang/core","name":"lang/core","color":"fad8c7","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"eugeneo","id":287917,"node_id":"MDQ6VXNlcjI4NzkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/287917?v=4","gravatar_id":"","url":"https://api.github.com/users/eugeneo","html_url":"https://github.com/eugeneo","followers_url":"https://api.github.com/users/eugeneo/followers","following_url":"https://api.github.com/users/eugeneo/following{/other_user}","gists_url":"https://api.github.com/users/eugeneo/gists{/gist_id}","starred_url":"https://api.github.com/users/eugeneo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eugeneo/subscriptions","organizations_url":"https://api.github.com/users/eugeneo/orgs","repos_url":"https://api.github.com/users/eugeneo/repos","events_url":"https://api.github.com/users/eugeneo/events{/privacy}","received_events_url":"https://api.github.com/users/eugeneo/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"eugeneo","id":287917,"node_id":"MDQ6VXNlcjI4NzkxNw==","avatar_url":"https://avatars.githubusercontent.com/u/287917?v=4","gravatar_id":"","url":"https://api.github.com/users/eugeneo","html_url":"https://github.com/eugeneo","followers_url":"https://api.github.com/users/eugeneo/followers","following_url":"https://api.github.com/users/eugeneo/following{/other_user}","gists_url":"https://api.github.com/users/eugeneo/gists{/gist_id}","starred_url":"https://api.github.com/users/eugeneo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eugeneo/subscriptions","organizations_url":"https://api.github.com/users/eugeneo/orgs","repos_url":"https://api.github.com/users/eugeneo/repos","events_url":"https://api.github.com/users/eugeneo/events{/privacy}","received_events_url":"https://api.github.com/users/eugeneo/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":11,"created_at":"2025-04-10T23:23:38Z","updated_at":"2025-04-21T16:31:31Z","closed_at":"2025-04-21T16:31:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\nPLEASE DO NOT POST A QUESTION HERE.\nThis form is for bug reports and feature requests ONLY!\n\nFor general questions and troubleshooting, please ask/look for answers at StackOverflow, with \"grpc\" tag: https://stackoverflow.com/questions/tagged/grpc\n\nFor questions that specifically need to be answered by gRPC team members, please ask/look for answers at grpc.io mailing list: https://groups.google.com/forum/#!forum/grpc-io\n\nIssues specific to *grpc-java*, *grpc-go*, *grpc-node*, *grpc-dart*, *grpc-web* should be created in the repository they belong to (e.g. https://github.com/grpc/grpc-LANGUAGE/issues/new)\n-->\n\n### What version of gRPC and what language are you using?\n1.71 cpp (built from source)\n\nproto version - 30.0\n\nhttps://github.com/googleapis/google-cloud-cpp 2.35\n\n### What operating system (Linux, Windows,...) and version?\nDebian-11\n\n### What runtime / compiler are you using (e.g. python version or version of gcc)\nGCC: (GNU) 11.4.0\n\n### What did you do?\nPlease provide either 1) A unit test for reproducing the bug or 2) Specific steps for us to follow to reproduce the bug. If there’s not enough information to debug the problem, gRPC team may close the issue at their discretion. You’re welcome to re-open the issue once you have a reproduction.\n\nThis seems to happen sporadically when using the google-cloud-cpp-storage client under load.\n\n\nClean stack\n\n\n### What did you expect to see?\n\n\n### What did you see instead?\n```\nE20250409 23:56:47.602574   392 PrestoMain.cpp:41] *** SIGSEGV (@0x50) received by PID 77 (TID 0x7e51397ca700) from PID 80; stack trace: ***\nE20250409 23:56:47.607486   392 PrestoMain.cpp:41]     @     0x7feaeb28e63e google::(anonymous namespace)::FailureSignalHandler()\nE20250409 23:56:47.612336   392 PrestoMain.cpp:41]     @     0x7feaeb344140 (unknown)\nE20250409 23:56:47.624447   392 PrestoMain.cpp:41]     @     0x7feaeaf35144 std::__cxx11::basic_string<>::operator std::basic_string_view<>()\nE20250409 23:56:47.630110   392 PrestoMain.cpp:41]     @          0x5481d52 grpc_core::(anonymous namespace)::RlsLb::MaybeExportPickCount<>()\nE20250409 23:56:47.634784   392 PrestoMain.cpp:41]     @          0x5475080 grpc_core::(anonymous namespace)::RlsLb::Cache::Entry::Pick()\nE20250409 23:56:47.639099   392 PrestoMain.cpp:41]     @          0x5473133 grpc_core::(anonymous namespace)::RlsLb::Picker::Pick()\nE20250409 23:56:47.643537   392 PrestoMain.cpp:41]     @          0x54e4020 grpc_core::(anonymous namespace)::XdsClusterManagerLb::ClusterPicker::Pick()\nE20250409 23:56:47.654898   392 PrestoMain.cpp:41]     @          0x5160d93 grpc_core::ClientChannelFilter::LoadBalancedCall::PickSubchannelImpl()\nE20250409 23:56:47.666740   392 PrestoMain.cpp:41]     @          0x515fb56 grpc_core::ClientChannelFilter::LoadBalancedCall::PickSubchannel()\nE20250409 23:56:47.679466   392 PrestoMain.cpp:41]     @          0x51635b5 grpc_core::ClientChannelFilter::FilterBasedLoadBalancedCall::TryPick()\nE20250409 23:56:47.695374   392 PrestoMain.cpp:41]     @          0x516290d grpc_core::ClientChannelFilter::FilterBasedLoadBalancedCall::StartTransportStreamOpBatch()\nE20250409 23:56:47.699441   392 PrestoMain.cpp:41]     @          0x51a5c39 grpc_core::(anonymous namespace)::StartBatchInCallCombiner()\nE20250409 23:56:47.703526   392 PrestoMain.cpp:41]     @          0x4e0cd60 exec_ctx_run()\nE20250409 23:56:47.713053   392 PrestoMain.cpp:41]     @          0x4e0cfe2 grpc_core::ExecCtx::Flush()\nE20250409 23:56:47.729923   392 PrestoMain.cpp:41]     @          0x4a279f9 grpc_core::ExecCtx::~ExecCtx()\nE20250409 23:56:47.738447   392 PrestoMain.cpp:41]     @          0x4ed5d8d grpc_call_start_batch\nE20250409 23:56:47.750205   392 PrestoMain.cpp:41]     @          0x492631a grpc::internal::CallOpSet<>::ContinueFillOpsAfterInterception()\nE20250409 23:56:47.755054   392 PrestoMain.cpp:41]     @          0x4926102 grpc::internal::CallOpSet<>::FillOps()\nE20250409 23:56:47.767067   392 PrestoMain.cpp:41]     @          0x4a1aa06 grpc::Channel::PerformOpsOnCall()\nE20250409 23:56:47.774220   392 PrestoMain.cpp:41]     @          0x48f1277 grpc::internal::Call::PerformOps()\nE20250409 23:56:47.781400   392 PrestoMain.cpp:41]     @          0x4902b2b grpc::ClientReader<>::ClientReader<>()\nE20250409 23:56:47.788081   392 PrestoMain.cpp:41]     @          0x48fc704 grpc::internal::ClientReaderFactory<>::Create<>()\nE20250409 23:56:47.799330   392 PrestoMain.cpp:41]     @          0x48e5401 google::storage::v2::Storage::Stub::ReadObjectRaw()\nE20250409 23:56:47.814863   392 PrestoMain.cpp:41]     @          0x464dafb google::storage::v2::Storage::StubInterface::ReadObject()\nE20250409 23:56:47.829619   392 PrestoMain.cpp:41]     @          0x4649b2c google::cloud::storage_internal::v2_35::DefaultStorageStub::ReadObject()\nE20250409 23:56:47.839406   392 PrestoMain.cpp:41]     @          0x464771f google::cloud::storage_internal::v2_35::StorageRoundRobin::ReadObject()\nE20250409 23:56:47.843946   392 PrestoMain.cpp:41]     @          0x463eb81 google::cloud::storage_internal::v2_35::StorageMetadata::ReadObject()\nE20250409 23:56:47.858366   392 PrestoMain.cpp:41]     @          0x4469e42 google::cloud::storage_internal::v2_35::GrpcStub::ReadObject()\nE20250409 23:56:47.860792   392 PrestoMain.cpp:41]     @          0x46f0d15 _ZZZN6google5cloud7storage5v2_358internal21StorageConnectionImpl10ReadObjectERKNS3_22ReadObjectRangeRequestEENKUlS7_RNS2_11RetryPolicyERNS0_5v2_358internal13BackoffPolicyEE_clES7_S9_SD_ENKUlRNS0_13rest_internal5v2_3511RestContextERKNSA_7OptionsES7_E_clESI_SL_S7_\nE20250409 23:56:47.863224   392 PrestoMain.cpp:41]     @          0x47037b5 _ZN6google5cloud13rest_internal5v2_3517RestRetryLoopImplIZZNS0_7storage5v2_358internal21StorageConnectionImpl10ReadObjectERKNS6_22ReadObjectRangeRequestEENKUlSA_RNS5_11RetryPolicyERNS0_5v2_358internal13BackoffPolicyEE_clESA_SC_SG_EUlRNS2_11RestContextERKNSD_7OptionsESA_E_S8_St8functionIFvNSt6chrono8durationIlSt5ratioILl1ELl1000EEEEEELi0EEENSE_13invoke_resultIT_JSJ_SM_RKT0_EE4typeERNSD_11RetryPolicyESG_NSD_11IdempotencyEOSX_SM_S10_PKcT1_\nE20250409 23:56:47.865615   392 PrestoMain.cpp:41]     @          0x46fa182 _ZN6google5cloud13rest_internal5v2_3513RestRetryLoopIZZNS0_7storage5v2_358internal21StorageConnectionImpl10ReadObjectERKNS6_22ReadObjectRangeRequestEENKUlSA_RNS5_11RetryPolicyERNS0_5v2_358internal13BackoffPolicyEE_clESA_SC_SG_EUlRNS2_11RestContextERKNSD_7OptionsESA_E_S8_Li0EEENSE_13invoke_resultIT_JSJ_SM_RKT0_EE4typeERNSD_11RetryPolicyESG_NSD_11IdempotencyEOSP_SM_SS_PKc\nE20250409 23:56:47.868016   392 PrestoMain.cpp:41]     @          0x46f0e5d _ZZN6google5cloud7storage5v2_358internal21StorageConnectionImpl10ReadObjectERKNS3_22ReadObjectRangeRequestEENKUlS7_RNS2_11RetryPolicyERNS0_5v2_358internal13BackoffPolicyEE_clES7_S9_SD_\n\n```\n### Anything else we should know about your project / environment?\n","closed_by":{"login":"jaystarshot","id":19339828,"node_id":"MDQ6VXNlcjE5MzM5ODI4","avatar_url":"https://avatars.githubusercontent.com/u/19339828?v=4","gravatar_id":"","url":"https://api.github.com/users/jaystarshot","html_url":"https://github.com/jaystarshot","followers_url":"https://api.github.com/users/jaystarshot/followers","following_url":"https://api.github.com/users/jaystarshot/following{/other_user}","gists_url":"https://api.github.com/users/jaystarshot/gists{/gist_id}","starred_url":"https://api.github.com/users/jaystarshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaystarshot/subscriptions","organizations_url":"https://api.github.com/users/jaystarshot/orgs","repos_url":"https://api.github.com/users/jaystarshot/repos","events_url":"https://api.github.com/users/jaystarshot/events{/privacy}","received_events_url":"https://api.github.com/users/jaystarshot/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grpc/grpc/issues/39217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grpc/grpc/issues/39217/timeline","performed_via_github_app":null,"state_reason":"completed"}