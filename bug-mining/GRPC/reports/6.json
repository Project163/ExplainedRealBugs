{"url":"https://api.github.com/repos/grpc/grpc/issues/32977","repository_url":"https://api.github.com/repos/grpc/grpc","labels_url":"https://api.github.com/repos/grpc/grpc/issues/32977/labels{/name}","comments_url":"https://api.github.com/repos/grpc/grpc/issues/32977/comments","events_url":"https://api.github.com/repos/grpc/grpc/issues/32977/events","html_url":"https://github.com/grpc/grpc/issues/32977","id":1691128668,"node_id":"I_kwDOAacf2M5kzJNc","number":32977,"title":"Add file-based credentials support for on-prem gRPC clients to talk TLS with xDS Server","user":{"login":"gu0keno0","id":73673860,"node_id":"MDQ6VXNlcjczNjczODYw","avatar_url":"https://avatars.githubusercontent.com/u/73673860?v=4","gravatar_id":"","url":"https://api.github.com/users/gu0keno0","html_url":"https://github.com/gu0keno0","followers_url":"https://api.github.com/users/gu0keno0/followers","following_url":"https://api.github.com/users/gu0keno0/following{/other_user}","gists_url":"https://api.github.com/users/gu0keno0/gists{/gist_id}","starred_url":"https://api.github.com/users/gu0keno0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gu0keno0/subscriptions","organizations_url":"https://api.github.com/users/gu0keno0/orgs","repos_url":"https://api.github.com/users/gu0keno0/repos","events_url":"https://api.github.com/users/gu0keno0/events{/privacy}","received_events_url":"https://api.github.com/users/gu0keno0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":155504844,"node_id":"MDU6TGFiZWwxNTU1MDQ4NDQ=","url":"https://api.github.com/repos/grpc/grpc/labels/kind/enhancement","name":"kind/enhancement","color":"93732c","default":false,"description":null},{"id":218696181,"node_id":"MDU6TGFiZWwyMTg2OTYxODE=","url":"https://api.github.com/repos/grpc/grpc/labels/lang/core","name":"lang/core","color":"fad8c7","default":false,"description":""},{"id":360790193,"node_id":"MDU6TGFiZWwzNjA3OTAxOTM=","url":"https://api.github.com/repos/grpc/grpc/labels/priority/P2","name":"priority/P2","color":"dd7172","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":12,"created_at":"2023-05-01T17:59:19Z","updated_at":"2023-06-16T15:08:00Z","closed_at":"2023-06-16T15:08:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is your feature request related to a problem? Please describe.\r\nWe are evaluating gRPC proxyless service mesh, and we have our own xDS server implementation that uses standard file-based m-TLS for Authn.\r\n\r\nOne potential issue is that c-core only allows 3 default credentials when talking with xDS Server: Fake, Insecure, and GoogleDefault  (https://github.com/grpc/grpc/blob/master/src/core/lib/security/credentials/channel_creds_registry_init.cc#L71). Although c-core, Java, Go all provide ways to implement additional ChannelCredsFactory, libraries that use C-binding such as Python doesn't seem to support the API to register additional ChannelCredsFactory. So it seems that only Insecure and GoogleDefault would be supported in these libraries, and therefore, we cannot use the TLS certs in our on-prem datacenter for them.\r\n\r\n### Describe the solution you'd like\r\nAdd a new ChannelCredsFactory in c-core so that file-based TLS certs will be supported by default in c-core, and Python / other language bindings that use c-core can directly use this factory as well by configuring it in the bootstrap.json file.\r\n\r\nI can also try to draft a PR to add it if that's the preferred approach.\r\n\r\n### Describe alternatives you've considered\r\nWe've also considered extending the Cython library to add the hook for registering additional ChannelCredsFactory, yet it would be nicer if c-core can directly support it by default.\r\n\r\n### Additional context\r\nN/A.\r\n","closed_by":{"login":"markdroth","id":18664614,"node_id":"MDQ6VXNlcjE4NjY0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18664614?v=4","gravatar_id":"","url":"https://api.github.com/users/markdroth","html_url":"https://github.com/markdroth","followers_url":"https://api.github.com/users/markdroth/followers","following_url":"https://api.github.com/users/markdroth/following{/other_user}","gists_url":"https://api.github.com/users/markdroth/gists{/gist_id}","starred_url":"https://api.github.com/users/markdroth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markdroth/subscriptions","organizations_url":"https://api.github.com/users/markdroth/orgs","repos_url":"https://api.github.com/users/markdroth/repos","events_url":"https://api.github.com/users/markdroth/events{/privacy}","received_events_url":"https://api.github.com/users/markdroth/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/grpc/grpc/issues/32977/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/grpc/grpc/issues/32977/timeline","performed_via_github_app":null,"state_reason":"completed"}