<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:40:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6735] regression in varargs treatment for static compilation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6735</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following example works fine in 2.2.2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
def extractInfo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s) {
  def squareNums = s.findAll(/\d+/) { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; num -&amp;gt; num.toInteger() }.collect{ &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; num -&amp;gt; num ** 2 }
  def wordSizePlusNum = s.findAll(/\s*(\w+)\s*(\d+)/) { _, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; word, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; num -&amp;gt; word.size() + num.toInteger() }
  [squareNums, wordSizePlusNum]
}

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; extractInfo(&lt;span class=&quot;code-quote&quot;&gt;&quot; ab 12 cdef 34 jhg &quot;&lt;/span&gt;) == [[144, 1156], [14, 38]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but in 2.3.0-rc-2 it gives the following errors:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;4 compilation errors:

Expected parameter of type java.lang.String[] but got java.lang.String
 at line: 5, column: 39

[Static type checking] - Cannot find matching method [Ljava.lang.String;#toInteger(). Please check if the declared type is right and if the method exists.
 at line: 5, column: 53

Expected parameter of type java.lang.Object but got java.lang.Integer
 at line: 5, column: 80

[Static type checking] - Cannot find matching method java.lang.Object#power(int). Please check if the declared type is right and if the method exists.
 at line: 5, column: 95
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12816901">GROOVY-6735</key>
            <summary>regression in varargs treatment for static compilation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2014 15:52:38 +0000</created>
                <updated>Tue, 7 Apr 2015 19:07:07 +0000</updated>
                            <resolved>Tue, 29 Apr 2014 06:44:10 +0000</resolved>
                                                    <fixVersion>2.3.0-rc-4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14480521" author="paulk" created="Mon, 28 Apr 2014 15:55:59 +0000"  >&lt;p&gt;obviously errors 2 through 4 are really noise resulting from the first error&lt;/p&gt;</comment>
                            <comment id="14480507" author="paulk" created="Mon, 28 Apr 2014 17:36:28 +0000"  >&lt;p&gt;For another example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@groovy.transform.CompileStatic
def method() {
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;foobarbaz&quot;&lt;/span&gt;.findAll(&lt;span class=&quot;code-quote&quot;&gt;&apos;b(a)([rz])&apos;&lt;/span&gt;) { full, a, b -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;BA&quot;&lt;/span&gt;==&lt;span class=&quot;code-quote&quot;&gt;&quot;B$a&quot;&lt;/span&gt;.toUpperCase() }.size() == 2
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;foobarbaz&quot;&lt;/span&gt;.findAll(&lt;span class=&quot;code-quote&quot;&gt;&apos;ba&apos;&lt;/span&gt;) { found -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;BA&quot;&lt;/span&gt; == found.toUpperCase() }.size() == 2
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;foobarbaz&quot;&lt;/span&gt;.findAll(&lt;span class=&quot;code-quote&quot;&gt;&apos;ba&apos;&lt;/span&gt;) { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; found -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;BA&quot;&lt;/span&gt; == found.toUpperCase() }.size() == 2
}

method()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Without CompileStatic both pass. With @CS under 2.2.2 it gives the following error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[Static type checking] - Cannot find matching method java.lang.Object#toUpperCase(). Please check if the declared type is right and if the method exists.
 at line: 4, column: 62
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which I believe is to be expected without hints. On rc-2 it currently gives:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[Static type checking] - Cannot find matching method [Ljava.lang.String;#toUpperCase(). Please check if the declared type is right and if the method exists.
 at line: 4, column: 62

Expected parameter of type java.lang.String[] but got java.lang.String
 at line: 5, column: 38

[Static type checking] - Cannot find matching method [Ljava.lang.String;#toUpperCase(). Please check if the declared type is right and if the method exists.
 at line: 5, column: 69
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;whereas I believe line 5 should pass.&lt;/p&gt;

&lt;p&gt;Not sure whether line 4 can be made to pass but if not, I&apos;m unsure whether the error message is ok or should be something like (&quot;Ambiguous prototypes for closure. More than one target method matches. Please use explicit argument types.&quot;) which might involve changing the hint.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cam7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>