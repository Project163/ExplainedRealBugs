<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:15:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4066] Groovy clibuilder doesn&apos;t take the parameter when the longOpt name ends with character &quot;s&quot;</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4066</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When the clibuilder creates a command line option whose longOpt ends with character &quot;s&quot;, such as &quot;seconds&quot;, the parser can&apos;t get the parameter, it is null. &lt;/p&gt;

&lt;p&gt;Here&apos;s a simple groovy script that demonstrates the problem.  Note that the long option ending with an &apos;s&apos; gets enabled when the non-s option is given.&lt;/p&gt;



&lt;p&gt;$&amp;gt; ./cli.groovy -s&lt;br/&gt;
options.s evaluates to true&lt;br/&gt;
options.seconds evaluates to false&lt;br/&gt;
options.e evaluates to false&lt;br/&gt;
options.second evaluates to false&lt;/p&gt;


&lt;p&gt;$&amp;gt; ./cli.groovy -e&lt;br/&gt;
options.s evaluates to false&lt;br/&gt;
options.seconds evaluates to true&lt;br/&gt;
options.e evaluates to true&lt;br/&gt;
options.second evaluates to true&lt;/p&gt;



&lt;p&gt;def cli = new CliBuilder()&lt;br/&gt;
cli.s longOpt:&apos;seconds&apos;, &apos;a long arg that ends with an &quot;s&quot;&apos;&lt;br/&gt;
cli.e longOpt:&apos;second&apos;, &apos;a long arg that does not end with an &quot;s&quot;&apos;&lt;/p&gt;

&lt;p&gt;def options = cli.parse( args )&lt;br/&gt;
if( null == options ) &lt;br/&gt;
{ &lt;br/&gt;
    return&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;if( args.length == 0 || options.h ) &lt;br/&gt;
{&lt;br/&gt;
    cli.usage()&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;println &quot;options.s evaluates to &quot; + (options.s as boolean)&lt;br/&gt;
println &quot;options.seconds evaluates to &quot; + (options.seconds as boolean)&lt;br/&gt;
println &quot;options.e evaluates to &quot; + (options.e as boolean)&lt;br/&gt;
println &quot;options.second evaluates to &quot; + (options.second as boolean)&lt;/p&gt;
</description>
                <environment>Linux, Mac</environment>
        <key id="12815747">GROOVY-4066</key>
            <summary>Groovy clibuilder doesn&apos;t take the parameter when the longOpt name ends with character &quot;s&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="miwang">mingran wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Feb 2010 17:10:27 +0000</created>
                <updated>Wed, 7 Apr 2010 23:45:21 +0000</updated>
                            <resolved>Sat, 20 Feb 2010 03:10:11 +0000</resolved>
                                    <version>1.7.0</version>
                                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14468903" author="roshandawrani" created="Fri, 19 Feb 2010 10:05:40 +0000"  >&lt;p&gt;I don&apos;t think that is a bug (may be a documentation issue, but I haven&apos;t checked it out yet). &lt;/p&gt;

&lt;p&gt;The longOpt(s) is there to support getting multiple option values.&lt;/p&gt;

&lt;p&gt;Say, if you have an option (short name = D, long name = define) that lets you pass multiple values with it, you can retrieve them as getOptionValues(&apos;D&apos;) or options.defines (plural form, that internally maps to getOptionValues(&apos;D&apos;)) - so it removes last &apos;s&apos;, takes the option long name as &apos;define&apos; and then invokes the getOptionValues() to get all associated values.&lt;/p&gt;</comment>
                            <comment id="14478928" author="paulk" created="Fri, 19 Feb 2010 17:33:05 +0000"  >&lt;p&gt;A while back when commons cli looked stalled, I wrote a version of CliBuilder for a different underlying engine. In that, I looked for non-plural forms and only took the &apos;s&apos; off for those cases. It seemed to work well. Perhaps it could be backed ported for our commons cli version.&lt;/p&gt;</comment>
                            <comment id="14468973" author="roshandawrani" created="Fri, 19 Feb 2010 20:22:45 +0000"  >&lt;p&gt;I think that will be an improvement - that options.seconds will become plural of options.second only if option &quot;second&quot; is defined, otherwise, it will try to use it as &quot;seconds&quot; itself. &lt;/p&gt;

&lt;p&gt;It won&apos;t help where both singular and plural options (&quot;second&quot; and &quot;seconds&quot;) are defined, as in this JIRA&apos;s case, but is an improvement over current behavior nonetheless.&lt;/p&gt;</comment>
                            <comment id="14468999" author="miwang" created="Fri, 19 Feb 2010 22:37:32 +0000"  >&lt;p&gt;Roshan, thanks for the reply. If I use the short option name: &quot;options.s&quot;, I still don&apos;t get anything. Effectively, it stops people from adding &quot;s&quot; to the end of any long option name, plus, there is no clear documentation on this.&lt;/p&gt;

&lt;p&gt;For instance, I was trying to use a parameter like &quot;number_of_seconds&quot;, if I can&apos;t add &quot;s&quot; to the longOpt, I have to change the name to &quot;number_of_second&quot; which sounds weird. Also, I took me quite some time to find the trick of trailing &quot;s&quot;, since there was no warning or error in runtime. I searched documentation and couldn&apos;t find any thing about this trick.&lt;/p&gt;

&lt;p&gt;So from a user point of view, this does make people&apos;s life more difficult, especially if they are unaware of this trick. &lt;/p&gt;</comment>
                            <comment id="14468892" author="roshandawrani" created="Fri, 19 Feb 2010 22:46:13 +0000"  >&lt;p&gt;We&apos;ll improve the behavior now (as Paul has suggested) as well as update the documentation to talk about this plural trick.&lt;/p&gt;

&lt;p&gt;After the change, it will allow you to have an option like &quot;number_of_seconds&quot; (unless you also have happen to have &quot;number_of_second&quot; because then it will have a conflict with the plural feature again)&lt;/p&gt;</comment>
                            <comment id="14468962" author="roshandawrani" created="Sat, 20 Feb 2010 03:10:11 +0000"  >&lt;p&gt;Fixed, as discussed here. Here is the test that code goes through after the fix:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder ()
cli.s ( longOpt : &lt;span class=&quot;code-quote&quot;&gt;&apos;number_of_seconds&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;a &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; arg that ends with an &lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt;&apos;&lt;/span&gt; )

def options = cli.parse ([&lt;span class=&quot;code-quote&quot;&gt;&apos;-s&apos;&lt;/span&gt;])

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; options.hasOption ( &lt;span class=&quot;code-quote&quot;&gt;&apos;s&apos;&lt;/span&gt; )
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; options.hasOption ( &lt;span class=&quot;code-quote&quot;&gt;&apos;number_of_seconds&apos;&lt;/span&gt; )
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; options.s
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; options.number_of_seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks for the hint, Paul.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bn8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>