<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:28:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5249] Avoid unnecessary locking in ClassInfo.getMetaClass</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5249</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;We have a Grails application serving hundreds of requests per second and this seems to be the most critical hot spot for us. Under high load, most threads are blocked in the following call stack:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;http-apr-8080&quot;&lt;/span&gt;-exec-144
sun.misc.Unsafe.park(Native Method)
java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)
java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:842)
java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1178)
org.codehaus.groovy.util.LockableObject.lock(LockableObject.java:34)
org.codehaus.groovy.reflection.ClassInfo.lock(ClassInfo.java:268)
org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:193)
org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:214)
org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:747)
org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:780)
org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:772)
org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToBoolean(DefaultTypeTransformation.java:156)
org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.booleanUnbox(DefaultTypeTransformation.java:65)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Grails uses &lt;tt&gt;InvokerHelper&lt;/tt&gt; a lot, which calls &lt;tt&gt;ClassInfo.getMetaClass&lt;/tt&gt; which uses locking. This is stop-the-world lock affecting all threads (they all hit the same &lt;tt&gt;ClassInfo&lt;/tt&gt; instance). Note that 99,999% of time the locking is useless as nothing is modified (typically all metaclasses getting modified on startup). &lt;/p&gt;

&lt;p&gt;There are several related tickets: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3557&quot; title=&quot;Remove synchronization of isModified method in ExpandoMetaClass to improve performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3557&quot;&gt;&lt;del&gt;GROOVY-3557&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5059&quot; title=&quot;Improve DefaultTypeTransformation.booleanUnbox performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5059&quot;&gt;&lt;del&gt;GROOVY-5059&lt;/del&gt;&lt;/a&gt;, not really solving the issue.&lt;/p&gt;

&lt;p&gt;The solution could be to use more fine-grained locks (ReadWriteLock) or Atomics. Should be easy to implement, but need to isolate modification part from read-only parts.&lt;/p&gt;

&lt;p&gt;Doing so can be a good boost to overall Grails performance.&lt;/p&gt;</description>
                <environment>Linux 64-bit, Java 1.6, Tomcat, Grails</environment>
        <key id="12816086">GROOVY-5249</key>
            <summary>Avoid unnecessary locking in ClassInfo.getMetaClass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="snekoval">Serge P. Nekoval</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 15:15:24 +0000</created>
                <updated>Tue, 6 Feb 2018 11:34:39 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 07:31:53 +0000</resolved>
                                                    <fixVersion>2.3.0-beta-1</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>13</votes>
                                    <watches>12</watches>
                                                                                                                <comments>
                            <comment id="14472165" author="blackdrag" created="Fri, 13 Jan 2012 04:09:39 +0000"  >&lt;p&gt;If I look at the locking I see that it is done on a per ClassInfo instance base. That means it is possible to get multiple meta classes at the same time even with this locking. The reason why it is a &quot;stop the world lock&quot; for you is probably that all your threads go the boolean#asType path. That means all many of your threads request one and the same ClassInfo instance to then block each other until they are served one-by-one. &lt;/p&gt;

&lt;p&gt;A meta class change relevant for this locking can happen in two cases. &lt;br/&gt;
(1) the older instance was garbage collected (which cannot happen with a modified meta class) &lt;br/&gt;
(2) you changed the meta class manually&lt;/p&gt;

&lt;p&gt;While you say you do (2) at the beginning we have to try to design the core to enable (2) all the time atm. &lt;/p&gt;

</comment>
                            <comment id="14472298" author="lhotari" created="Fri, 13 Jan 2012 04:10:38 +0000"  >&lt;p&gt;Serge, could you provide a test case that shows the problem? I know it&apos;s easy to reproduce, but it helps getting this one fixed if you can provide a simple test case the shows the problem. You could also write a test case in pure Java that shows the performance difference to the Groovy version.&lt;br/&gt;
I&apos;d prefer a standalone test class instead of a Grails app that shows the problem. In Grails, ExpandoMetaClass.enableGlobally() is used, so your Groovy test case should probably do that too.&lt;/p&gt;</comment>
                            <comment id="14472187" author="blackdrag" created="Fri, 13 Jan 2012 04:28:23 +0000"  >&lt;p&gt;let us think about a Read-WriteLock.... what currently calls lock should do the write lock. Then we can use the internal code to do the read locks.&lt;/p&gt;</comment>
                            <comment id="14472283" author="snekoval" created="Fri, 13 Jan 2012 05:32:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;is probably that all your threads go the boolean#asType path. That means all many of your threads request one and the same ClassInfo instance to then block each other until they are served one-by-one. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s right. We have lots of calls similar to the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;translations.any { it.toLowerCase().contains(text) }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(sometimes even nested). I guess it will request &lt;tt&gt;getClassInfo(Boolean.class)&lt;/tt&gt; inside a long loop.&lt;/p&gt;

&lt;p&gt;From what I see in &lt;tt&gt;ClassInfo&lt;/tt&gt; there are actually two different methods:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;tt&gt;getMetaClass()&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;getMetaClass(Object obj)&lt;/tt&gt; - checks if instance has an instance-level metaclass assigned, then locks.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;tt&gt;InvokerHelper&lt;/tt&gt; goes to the &lt;b&gt;second&lt;/b&gt; one. Since objects &lt;em&gt;rarely&lt;/em&gt; have instance-level metaclasses assigned, there&apos;s a high chance to get blocked here.&lt;/p&gt;</comment>
                            <comment id="14472279" author="blackdrag" created="Fri, 13 Jan 2012 16:15:03 +0000"  >&lt;p&gt;Serge, could you test if this patch makes a difference for you?&lt;/p&gt;</comment>
                            <comment id="14472388" author="snekoval" created="Thu, 26 Jan 2012 07:35:15 +0000"  >&lt;p&gt;Hello. I&apos;ve tried to patch groovy 1.7.10 and got the same problem.&lt;br/&gt;
I see your patch applies to &lt;tt&gt;ClassInfo.getMetaClass()&lt;/tt&gt; while the most critical execution path is &lt;tt&gt;ClassInfo.getMetaClass(obj)&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14472401" author="blackdrag" created="Fri, 27 Jan 2012 05:27:37 +0000"  >&lt;p&gt;Sorry for the mistake, here is the correct version&lt;/p&gt;</comment>
                            <comment id="14472649" author="juanformoso" created="Mon, 26 Mar 2012 11:16:06 +0000"  >&lt;p&gt;Did the fixed patch work? Is it going to be included in a future version?&lt;/p&gt;</comment>
                            <comment id="14472704" author="snekoval" created="Mon, 26 Mar 2012 15:06:58 +0000"  >&lt;p&gt;Hi, we&apos;ve upgraded to Grails 2.0 recently, which resolved some of our issues. I will try to squeeze the patch into Grails 2.0 production (it&apos;s somewhat tricky) and see how it affects our performance graphs. This will take about a week.&lt;/p&gt;</comment>
                            <comment id="14472726" author="jsondow" created="Mon, 9 Apr 2012 15:20:34 +0000"  >&lt;p&gt;FYI, Netflix&apos;s internal Grails-based tooling is running into this bug pretty often now. We&apos;re rewriting the worst bottleneck parts of our code as needed until the fix comes out. Mostly we&apos;re reducing use of find() or any() or findAll() in frequently-called nested closures or nested iterations.&lt;/p&gt;</comment>
                            <comment id="14472728" author="blackdrag" created="Tue, 10 Apr 2012 04:09:54 +0000"  >&lt;p&gt;Joe, Serge seems not to have the time to test it yet. Can you test the patch?&lt;/p&gt;</comment>
                            <comment id="14472723" author="jgritman" created="Fri, 13 Apr 2012 19:17:17 +0000"  >&lt;p&gt;Hi, I work with Joe at Netflix. We&apos;re no longer seeing this problems as frequently after tweaking a few places where we were doing nested find() calls while iterating over a large collection.&lt;/p&gt;

&lt;p&gt;I&apos;ll try to test the patch if I get a chance. Since it&apos;s somewhat tricky to reproduce the problems, it might be a while before I get to it. Prior to those fixes, this problem was causing our Grails app to become unresponsive almost daily.&lt;/p&gt;</comment>
                            <comment id="14472747" author="lhotari" created="Fri, 20 Apr 2012 09:15:21 +0000"  >&lt;p&gt;There is a thread on Grails mailing list that has interesting findings of performance of calling private helper methods in a closure:&lt;br/&gt;
&lt;a href=&quot;http://grails.1312388.n4.nabble.com/Thread-Blocking-at-Groovy-ExpandoMetaclass-method-in-a-Grails-App-tp4572990p4574077.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grails.1312388.n4.nabble.com/Thread-Blocking-at-Groovy-ExpandoMetaclass-method-in-a-Grails-App-tp4572990p4574077.html&lt;/a&gt;&lt;br/&gt;
(the FilterConfig performance problem is a grails problem, but the later introduced StoryDao example is interesting from Groovy performance point of view)&lt;/p&gt;

&lt;p&gt;Surprisingly a workaround is to call the helper method on &quot;thisObject&quot; prefix. Based on the stacktrace this seems to be some problem in ExpandoMetaClass which is enabled globally in Grails. There seems to be a bug in ExpandoMetaClass&apos;s addSuperMethodIfNotOverridden . It only handles ClosureMetaMethod instances. &lt;/p&gt;</comment>
                            <comment id="14472765" author="lhotari" created="Sat, 28 Apr 2012 03:32:12 +0000"  >&lt;p&gt;Joe &amp;amp; Jason, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5428&quot; title=&quot;Performance problem: ClassCastExceptions are created in normal execution flow which kills performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5428&quot;&gt;&lt;del&gt;GROOVY-5428&lt;/del&gt;&lt;/a&gt; explains the bad performance of find(), any() or findAll() in certain cases. Have you monitored if a large number of Exceptions (ClassCastExceptions) are created?&lt;/p&gt;</comment>
                            <comment id="14472920" author="snekoval" created="Tue, 5 Jun 2012 08:05:05 +0000"  >&lt;p&gt;We&apos;ve managed to test a patch, trying it about 2 weeks in production, using Grails 2.0.3 + Groovy 1.8.6 + patch.&lt;br/&gt;
Two things to mention:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Number of busy threads sometimes lowered a bit, but not significantly.&lt;/li&gt;
	&lt;li&gt;No difference in CPU usage looking at graphs...&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;So the patch does, in fact, work. However in our case its effect is fairly minor compared to Grails + Groovy (1.8.x) upgrade.&lt;br/&gt;
I think &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5059&quot; title=&quot;Improve DefaultTypeTransformation.booleanUnbox performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5059&quot;&gt;&lt;del&gt;GROOVY-5059&lt;/del&gt;&lt;/a&gt; actually had more impact considering how our code is written.&lt;/p&gt;</comment>
                            <comment id="14473174" author="tty" created="Fri, 24 Aug 2012 05:19:19 +0000"  >&lt;p&gt;I encountered performance issue caused by locking in ClassInfo.getMetaClass with groovy 1.8.7 when using following construction concurrently:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (node.name()) {
                &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; [&lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;s&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;p&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;para&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;sect&apos;&lt;/span&gt;]:
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Stacktrace is following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	  at sun.misc.Unsafe.park(Unsafe.java:-1)
	  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:156)
	  at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811)
	  at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:842)
	  at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1178)
	  at org.codehaus.groovy.util.LockableObject.lock(LockableObject.java:34)
	  at org.codehaus.groovy.reflection.ClassInfo.lock(ClassInfo.java:268)
	  at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:193)
	  at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:231)
	  at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:747)
	  at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:780)
	  at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:772)
	  at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:164)
	  at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.isCase(ScriptBytecodeAdapter.java:667)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;invokeMethodN(caseExpression.getClass(), caseExpression, &lt;span class=&quot;code-quote&quot;&gt;&quot;isCase&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]{switchValue})
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is locked on ClassInfo for ArrayList, because it uses invokePojoMethod which calls ClassInfo.getMetaClass(obj).&lt;/p&gt;</comment>
                            <comment id="14473181" author="blackdrag" created="Fri, 24 Aug 2012 05:47:24 +0000"  >&lt;p&gt;What I get out of this thread is that we have a general problem with the performance of Groovy-truth from Java code. As a method call from Groovy it would be not such a big problem, since the method would be cached, and not every call will go through getMetaClass in ClassInfo. But in this last trace for example isCase does this, since it is an uncached dynamic call&lt;/p&gt;

&lt;p&gt;has someone reading in this thread any idea how to prevent that? I could apply some logic from the primitive optimizations, but EMC is disabling that. I could try hand made call site caching in the Java code... that would help in some cases maybe... in JDK 1.7 I could leverage ClassValue and avoid the locking probably... But that doesn&apos;t help in Groovy 1.8 and not on pre jdk7 vms&lt;/p&gt;</comment>
                            <comment id="14473303" author="blackdrag" created="Thu, 6 Sep 2012 08:56:55 +0000"  >&lt;p&gt;I added several changes that should help with the usage of Groovy Truth in internal iterating methods such as any, find and grep. The changes I did will not help with the switch-case Timur reported. What I did was adding a caching for the meta methods involved, especially Closure#call and asBoolean. The logic for Groovy-Truth is unchanged, only faster I hope &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I guess for the switch-case we need to think a bit more about what to do. But for example Serge should see an inprovement.&lt;/p&gt;</comment>
                            <comment id="14474231" author="lhotari" created="Tue, 5 Mar 2013 05:18:39 +0000"  >&lt;p&gt;This is also a problem in Grails 2.2.0 / Groovy 2.0.5 . See Grails mailing list thread for more details: &lt;a href=&quot;http://grails.1312388.n4.nabble.com/Grails-performance-restriction-tt4642061.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grails.1312388.n4.nabble.com/Grails-performance-restriction-tt4642061.html&lt;/a&gt; . It looks like &lt;a href=&quot;https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/runtime/InvokerHelper.java#L173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;InvokerHelper.getProperty&lt;/a&gt; triggers this problem when POJOs are used. Making POJOs extend GroovyObjectSupport (or implement GroovyObject) is one workaround for this problem before this issue gets fixed.&lt;/p&gt;</comment>
                            <comment id="14474245" author="lhotari" created="Tue, 5 Mar 2013 07:24:23 +0000"  >&lt;p&gt;Graeme suggested another workaround in the &lt;a href=&quot;http://grails.1312388.n4.nabble.com/Grails-performance-restriction-tp4642061p4642080.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Grails mailing list thread&lt;/a&gt;: &quot;GroovySystem.keepJavaMetaClasses = true&quot; setting might help. @CompileStatic does too.&lt;/p&gt;</comment>
                            <comment id="14475483" author="lhotari" created="Thu, 6 Mar 2014 09:10:26 +0000"  >&lt;p&gt;PR &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/342&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14475533" author="lhotari" created="Thu, 6 Mar 2014 12:18:16 +0000"  >&lt;p&gt;PR updated, patch available at url &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/342.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/342.patch&lt;/a&gt; if someone wants to test the patch with other groovy version branches.&lt;/p&gt;</comment>
                            <comment id="14475593" author="lhotari" created="Fri, 7 Mar 2014 02:09:18 +0000"  >&lt;p&gt;patch backported to Groovy 2.0.8 : &lt;a href=&quot;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport.patch&lt;/a&gt; , commits: &lt;a href=&quot;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14475620" author="fedotxxl" created="Wed, 2 Apr 2014 06:09:28 +0000"  >&lt;p&gt;Hi. We have applied this patch on our production server and it works much, much better&lt;/p&gt;</comment>
                            <comment id="14475642" author="blackdrag" created="Wed, 2 Apr 2014 06:12:06 +0000"  >&lt;p&gt;you mean the change from github?&lt;/p&gt;</comment>
                            <comment id="14475514" author="fedotxxl" created="Wed, 2 Apr 2014 06:16:29 +0000"  >&lt;p&gt;this one -&amp;gt; &lt;a href=&quot;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lhotari/groovy-core/compare/GROOVY_2_0_8...GROOVY-5249-backport.patch&lt;/a&gt;&lt;br/&gt;
but it doesn&apos;t really differ from unofficial one - &lt;a href=&quot;https://jira.codehaus.org/secure/attachment/58665/mc.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/secure/attachment/58665/mc.patch&lt;/a&gt; - it also works. Just it breaks 1 of 6000 groovy tests&lt;/p&gt;</comment>
                            <comment id="14475657" author="blackdrag" created="Wed, 2 Apr 2014 07:31:53 +0000"  >&lt;p&gt;I applied the patch in a slightly modified version&lt;/p&gt;</comment>
                            <comment id="16352124" author="mtg.ken.lam" created="Mon, 5 Feb 2018 08:15:18 +0000"  >&lt;p&gt;&#160;Is it possible to back port the following 5 revisions to Groovy 1.7.5?&lt;/p&gt;

&lt;p&gt;SHA-1: 3893a91dd3cdd4fdbcb873d1359f6479ef570e1a&lt;/p&gt;

&lt;p&gt;SHA-1: f78a90de0512c37ff09d417a549723596a862288&lt;/p&gt;

&lt;p&gt;SHA-1: 937cd2d9c0bc537e1b16614cae42a416c6ae8f31&lt;/p&gt;

&lt;p&gt;SHA-1: 0938de11c6b2661d891f6bb9c8d67cd372f9b869&lt;/p&gt;

&lt;p&gt;SHA-1: c7c7ed6784a349f1e6180c97c0658a40141763b3&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;All these revisions only modify this file:&lt;/p&gt;

&lt;p&gt;src\main\org\codehaus\groovy\reflection\ClassInfo.java&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can I do it safely and rebuild the jar for use in Grails 1.3.5?&lt;/p&gt;</comment>
                            <comment id="16353751" author="blackdrag" created="Tue, 6 Feb 2018 11:34:39 +0000"  >&lt;p&gt;I think just cherry-picking them and not having conflicts will not work. If it is save or not... well.. 1.7.5 is 8 years old. I can understand that you are maybe stuck with Grails 1.3.5, but if applying those commits will solve your issue and not produce new ones is something nobody here can really answer I think. Did you every try using a new Groovy with that Grails version? It may just work (once you rename the jar). But even in the 1.7 line we have a lot of fixes newer than 1.7.5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12723019" name="mc.patch" size="1904" author="blackdrag" created="Fri, 27 Jan 2012 05:27:37 +0000"/>
                            <attachment id="12721724" name="mc.patch" size="1467" author="blackdrag" created="Fri, 13 Jan 2012 16:15:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cm0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>