<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:16:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4241] Problems with the &apos;as&apos; operator</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4241</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code reproduce the error:&lt;/p&gt;

&lt;p&gt;class Foo {}&lt;/p&gt;

&lt;p&gt;Foo.metaClass.invokeMethod = { String name, args -&amp;gt;&lt;br/&gt;
    for (arg in args) &lt;/p&gt;
{
        arg.getClass()
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;def f = new Foo()&lt;/p&gt;

&lt;p&gt;f.echo(f as Foo)&lt;/p&gt;</description>
                <environment>Mac OSX 10.6 with Java 1.6</environment>
        <key id="12815164">GROOVY-4241</key>
            <summary>Problems with the &apos;as&apos; operator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="poiati">Paulo Poiati</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jun 2010 19:03:34 +0000</created>
                <updated>Wed, 16 Jun 2010 03:50:25 +0000</updated>
                            <resolved>Sun, 6 Jun 2010 11:08:19 +0000</resolved>
                                    <version>1.7.2</version>
                                    <fixVersion>1.7.3</fixVersion>
                    <fixVersion>1.6.9</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14469483" author="roshandawrani" created="Sat, 5 Jun 2010 19:48:54 +0000"  >&lt;p&gt;Recording here the issue originally raised by Paulo on the mailing list&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    def echo() { println 10 }
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {}

Foo.metaClass.invokeMethod = { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, args -&amp;gt;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (arg in args) {
        println arg.getClass()
    }
}

def f = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo()

&lt;span class=&quot;code-comment&quot;&gt;// This works
&lt;/span&gt;def bar = [key: &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;] as Bar
f.echo(bar)

&lt;span class=&quot;code-comment&quot;&gt;// This &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; a NullPointerException
&lt;/span&gt;f.echo([key: &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;] as Bar)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The example raised in the JIRA is the shortened version of the original issue but I think it&apos;s not the same because in my shortened example &quot;asType&quot; call also goes through overridden invokeMethod and since that does not delegate any further to do the actual asType, the shortened version is a little contrived.&lt;/p&gt;

&lt;p&gt;So, the real issue to solve is the one here in the comment (raised originally on the mailing list by Paulo).&lt;/p&gt;</comment>
                            <comment id="14469561" author="roshandawrani" created="Sat, 5 Jun 2010 21:45:11 +0000"  >&lt;p&gt;Attaching a patch for review.&lt;/p&gt;</comment>
                            <comment id="14479174" author="paulk" created="Sat, 5 Jun 2010 23:16:27 +0000"  >&lt;p&gt;Alternative patch - should be run against Roshan&apos;s test.&lt;/p&gt;

&lt;p&gt;Looks to me like Wrapper could do with some cleanup. Remove all the commented out code which is effectively in the subclasses now and probably remove the protected field too (I suspect no one is using it but to be sure, I would deprecate in 1.7.3 first then remove in 1.8.0).&lt;/p&gt;</comment>
                            <comment id="14469579" author="roshandawrani" created="Sun, 6 Jun 2010 04:32:15 +0000"  >&lt;p&gt;I have tested the other patch as well and that with the test is again attached for review.&lt;/p&gt;

&lt;p&gt;Clean-up not touched yet just to quickly get the fix reviewed and have the issue reported out of the way.&lt;/p&gt;</comment>
                            <comment id="14479171" author="paulk" created="Sun, 6 Jun 2010 07:41:07 +0000"  >&lt;p&gt;I did the trivial cleanup items but not the change on the protected field nor anything related this patch of course. We can do any remaining cleanup after the patch if needed.&lt;/p&gt;</comment>
                            <comment id="14469523" author="roshandawrani" created="Sun, 6 Jun 2010 11:08:20 +0000"  >&lt;p&gt;Done.&lt;/p&gt;

&lt;p&gt;It&apos;s also fixed on 1.6.9 as it seemed to me like a small bug fix - if anyone thinks otherwise, please let me know.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722434" name="v18x_4241B.patch" size="525" author="paulk" created="Sat, 5 Jun 2010 23:16:27 +0000"/>
                            <attachment id="12722513" name="v18x_4241_Patch.txt" size="1554" author="roshandawrani" created="Sat, 5 Jun 2010 21:45:11 +0000"/>
                            <attachment id="12722561" name="v2_v18x_4241_Patch.txt" size="1367" author="roshandawrani" created="Sun, 6 Jun 2010 04:32:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ckrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>