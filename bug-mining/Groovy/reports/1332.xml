<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:17:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4348] Cannot get a closure&apos;s resolve strategy with property syntax</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4348</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Closure.getProperty() gives no special treatment to &quot;resolveStrategy&quot;, hence &quot;closure.resolveStrategy&quot; is simply forwarded to delegate/owner.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815270">GROOVY-4348</key>
            <summary>Cannot get a closure&apos;s resolve strategy with property syntax</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pniederw">Peter Niederwieser</assignee>
                                    <reporter username="pniederw">Peter Niederwieser</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Aug 2010 10:08:48 +0000</created>
                <updated>Wed, 15 Dec 2010 22:19:44 +0000</updated>
                            <resolved>Tue, 3 Aug 2010 17:35:03 +0000</resolved>
                                    <version>1.7.4</version>
                    <version>1.8-beta-1</version>
                                    <fixVersion>1.8-beta-2</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14469962" author="pniederw" created="Mon, 2 Aug 2010 18:17:01 +0000"  >&lt;p&gt;Is it safe to add the missing properties to Closure.getProperty() and Closure.setProperty()? It&apos;s &quot;resolveStrategy&quot; and &quot;thisObject&quot; for the former, and &quot;directive&quot; for the latter.&lt;/p&gt;</comment>
                            <comment id="14479295" author="paulk" created="Tue, 3 Aug 2010 08:53:16 +0000"  >&lt;p&gt;I would probably like to see &quot;directive&quot; removed from getProperty(). In some sense &quot;directive&quot; is internal (and can be accessed using .@ if needed). Removing it from getProperty() would remove that part of the inconsistency.&lt;/p&gt;</comment>
                            <comment id="14469904" author="pniederw" created="Tue, 3 Aug 2010 09:23:59 +0000"  >&lt;p&gt;Don&apos;t you think a property should either be accessible both with property and method syntax, or with neither of them? Everything else will be very hard to understand.&lt;/p&gt;</comment>
                            <comment id="14479277" author="paulk" created="Tue, 3 Aug 2010 16:24:07 +0000"  >&lt;p&gt;Perhaps fixing the inconsistency is the better short-term strategy. And if we later &quot;fix&quot; it to be deprecated or totally internal it shouldn&apos;t be visible with either property or method syntax from normal code.&lt;/p&gt;</comment>
                            <comment id="14469978" author="pniederw" created="Tue, 3 Aug 2010 17:35:03 +0000"  >&lt;p&gt;Added handling for &quot;resolveStrategy&quot; and &quot;thisObject&quot; to Closure.getProperty(), and handling for &quot;directive&quot; to Closure.setProperty(). Only applied to trunk because it constitutes a breaking change.&lt;/p&gt;</comment>
                            <comment id="14469982" author="blackdrag" created="Tue, 3 Aug 2010 18:00:19 +0000"  >&lt;p&gt;use closure.@resolveStrategy instead? Also thisObject is not supposed to be accessed  from outside the closure, it is an implementation detail only. &lt;/p&gt;</comment>
                            <comment id="14469948" author="pniederw" created="Tue, 3 Aug 2010 18:06:59 +0000"  >&lt;p&gt;It doesn&apos;t make sense to me that closure.getResolveStrategy() works, but closure.resolveStrategy doesn&apos;t. I assume Closure.getProperty()/setProperty() simply got out of sync when new properties where added to class Closure.&lt;/p&gt;

&lt;p&gt;If these properties shouldn&apos;t be publicly accessible, they shouldn&apos;t have a public getter/setter method in the first place. Also, this not only affects what&apos;s accessible from outside the closure, but also what&apos;s accessible from inside the closure.&lt;/p&gt;</comment>
                            <comment id="14469874" author="blackdrag" created="Tue, 3 Aug 2010 18:25:40 +0000"  >&lt;p&gt;That inside and outside a closure are the same is part of the problem. Another problem is that every setter used is decreasing the availability of that name in builders. That might be the reason why there is a getter, but no setter. Another take on the  problem is that internal API and external API are not separated here, which I not see how it should be done atm.&lt;/p&gt;

&lt;p&gt;Anyway.. thisObject is different from resolveStrategy and we should discuss it different from the others. There will be for example no setter, thus no need for the special handling in Closure. Actually, if we don&apos;t want any special handling of properties from the Groovy side, then there is no need for a getProperty on Closure at all. It could like all others simply delegate to the meta class. Most of the logic is in there anyway&lt;/p&gt;</comment>
                            <comment id="14469890" author="pniederw" created="Tue, 3 Aug 2010 18:32:30 +0000"  >&lt;p&gt;&amp;gt; Another problem is that every setter used is decreasing the availability of that name in builders.&lt;br/&gt;
That&apos;s why I called it a breaking change. &lt;/p&gt;

&lt;p&gt;&amp;gt; Anyway.. thisObject is different from resolveStrategy and we should discuss it different from the others.&lt;br/&gt;
OK, so how should I proceed? Revert the thisObject change, or revert the whole thing?&lt;/p&gt;

&lt;p&gt;&amp;gt; There will be for example no setter, thus no need for the special handling in Closure.&lt;br/&gt;
I only added it to getProperty() to align it with public getThisObject().&lt;/p&gt;</comment>
                            <comment id="14469907" author="blackdrag" created="Wed, 4 Aug 2010 07:12:27 +0000"  >&lt;p&gt;maybe the getter for thisObject should be deprecated. &lt;/p&gt;

&lt;p&gt;Before I say revert or not, may I ask what the use case was, that made you filling this issue? Do you &lt;b&gt;need&lt;/b&gt; any of those changes?&lt;/p&gt;</comment>
                            <comment id="14469928" author="pniederw" created="Wed, 4 Aug 2010 18:20:25 +0000"  >&lt;p&gt;I needed a decorator for closures that acts as a two-way interceptor, i.e. intercepts both calls to the closure and calls to the closure&apos;s delegate. Therefore I created a subclass of groovy.lang.Closure and added a few properties to it (only meant to be used from the &quot;outside&quot;). When I tried to set these properties from Groovy code, I noticed it didn&apos;t work. Experimenting further, I noticed that I could get/set most of the properties declared in groovy.lang.Closure, but not all of them. At this point I was close to give up and rewrite everything in Java. It just looked like a big mess. But then I discovered Closure.getProperty()/setProperty() and understood why I could get/set some properties but not others. While I couldn&apos;t do anything to make the properties on my own subclass work, it seemed like an oversight that some groovy.lang.Closure properties weren&apos;t gettable/settable with property syntax, so I went ahead and fixed this.&lt;/p&gt;

&lt;p&gt;Having property syntax not aligned with method syntax will cause problems because it&apos;s against the general rule and people won&apos;t understand what&apos;s going on (nor should they have to). In summary, I&apos;d expect closures to behave like regular objects from the outside, and have an inside view that&apos;s separated from the outside view.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>