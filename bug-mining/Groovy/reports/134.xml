<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:56:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-267] url(label: &apos;test&apos;) { CDATA(body) }</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-267</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Groovy Markup with both content data and attribute doesn&apos;t work. I have testet both with MarkupBuilder and DOMBuilder.&lt;/p&gt;

&lt;p&gt;I have tested the following which doesn&apos;t work:&lt;br/&gt;
url(label: &apos;test&apos;) &lt;/p&gt;
{ [&apos;some text content&apos;] }
&lt;p&gt;url(label: &apos;test&apos;) &lt;/p&gt;
{ &apos;some text content&apos; }
&lt;p&gt;url(label: &apos;test&apos;) &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;some text content&amp;#39;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This work, only attribute:&lt;br/&gt;
url(label: &apos;test&apos;)&lt;/p&gt;

&lt;p&gt;This work, only content:&lt;br/&gt;
url(&apos;some text content&apos;)&lt;/p&gt;


&lt;p&gt;What should the correct syntax be?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12812393">GROOVY-267</key>
            <summary>url(label: &apos;test&apos;) { CDATA(body) }</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="senikk">Terje Pedersen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Mar 2004 13:22:07 +0000</created>
                <updated>Thu, 9 Dec 2004 17:34:29 +0000</updated>
                            <resolved>Thu, 9 Dec 2004 17:34:29 +0000</resolved>
                                    <version>1.0-beta-2</version>
                    <version>1.0-beta-3</version>
                    <version>1.0-beta-4</version>
                                    <fixVersion>1.0-beta-8</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14459806" author="tug" created="Sun, 14 Mar 2004 04:09:02 +0000"  >&lt;p&gt;Streaming markup has a special element called yield. This causes the text to be added to the document with no tags so:&lt;/p&gt;

&lt;p&gt;td(width:&apos;30%&apos;) {&lt;br/&gt;
    yield getReturnType(meth)&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;emits &amp;lt;td width=&apos;30%&apos;&amp;gt;int&amp;lt;/td&amp;gt;&lt;/p&gt;

&lt;p&gt;it is also used to produce mixed content:&lt;/p&gt;

&lt;p&gt;li {&lt;br/&gt;
    b &quot;returns&quot;&lt;br/&gt;
    yield &quot;: ${returnType}&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;emits: &amp;lt;li&amp;gt;&amp;lt;b&amp;gt;returns&amp;lt;/b&amp;gt;: int&amp;lt;/li&amp;gt;&lt;/p&gt;

&lt;p&gt;perhaps MarkupBuilder could use the same mechanism?&lt;/p&gt;</comment>
                            <comment id="14459881" author="senikk" created="Sun, 14 Mar 2004 06:25:24 +0000"  >&lt;p&gt;Is it possible in straming markup to override it getting an element named yield?&lt;/p&gt;

&lt;p&gt;But its ok for me if the builders also gets this special yield element. Just now I need it atleast working with DOMBuilder.&lt;/p&gt;</comment>
                            <comment id="14459877" author="senikk" created="Wed, 17 Mar 2004 16:08:09 +0000"  >&lt;p&gt;Instead of just complaining about this issue I decided to do something about it myself and in the same time getting some knowledge about Groovy internals &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Since this closure &lt;/p&gt;
{ &apos;Some text&apos; }
&lt;p&gt; is allowed syntax in Groovy I think it should also be allowed to use it with the Groovy Markup builders like this: &lt;/p&gt;

&lt;p&gt;builder.url(label: &apos;test&apos;) &lt;/p&gt;
{ &apos;Some text content&apos; }

&lt;p&gt;Since the node in BuilderSupport needs to be created before calling the closure since you doesn&apos;t know if its only text or not I had to add a new method setNodeValue(Object node, Object value)&lt;/p&gt;

&lt;p&gt;But is wasn&apos;t so easy as I first thought because some of the markup I also get a closure which returns a node name and thus I can&apos;t just check if the closure.call() returned an instanceof String and call the setNodeValue. I haven&apos;t figured out yet what to check.&lt;/p&gt;

&lt;p&gt;Any suggestions?&lt;/p&gt;</comment>
                            <comment id="14460383" author="spullara" created="Sun, 23 May 2004 15:51:41 +0000"  >&lt;p&gt;The following does work:&lt;/p&gt;

&lt;p&gt;url(label:&quot;blah&quot;, &quot;foo&quot;)&lt;/p&gt;

&lt;p&gt;will yield&lt;/p&gt;

&lt;p&gt;&amp;lt;url label=&quot;blah&quot;&amp;gt;foo&amp;lt;/url&amp;gt;&lt;/p&gt;

&lt;p&gt;And I am fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-459&quot; title=&quot;DomBuilder can&amp;#39;t create elements with just text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-459&quot;&gt;&lt;del&gt;GROOVY-459&lt;/del&gt;&lt;/a&gt; which is related.  Can this be closed?&lt;/p&gt;</comment>
                            <comment id="14460698" author="sstirling" created="Tue, 23 Nov 2004 11:51:49 +0000"  >&lt;p&gt;I am submitting a patch to MarkupBuilder to allow this syntax to work:&lt;br/&gt;
xhtml = new MarkupBuilder()&lt;/p&gt;

&lt;p&gt;html = xhtml.html() {&lt;br/&gt;
  head &lt;/p&gt;
{
    title(&apos;My Title&apos;)
  }
&lt;p&gt;  body(bgcolor:&quot;#FFFFFF&quot;) {&lt;br/&gt;
    p &lt;/p&gt;
{
      a(href:&quot;http://groovy.codehaus.org&quot;, &quot;Groovy&quot;)
      a(href:&quot;http://groovy.codehaus.org&quot;, &quot;\&quot;Groovy\&quot;&quot;)
    }
&lt;p&gt;    table {&lt;br/&gt;
      tr &lt;/p&gt;
{
        td(class:&quot;special&quot;, &quot;cell value&quot;)
        td(class:&quot;special2&quot;, &quot;another cell value&quot;)
      }
&lt;p&gt;    }&lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Which will output:&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
  &amp;lt;head&amp;gt;&lt;br/&gt;
    &amp;lt;title&amp;gt;My Title&amp;lt;/title&amp;gt;&lt;br/&gt;
  &amp;lt;/head&amp;gt;&lt;br/&gt;
  &amp;lt;body bgcolor=&apos;#FFFFFF&apos;&amp;gt;&lt;br/&gt;
    &amp;lt;p&amp;gt;&lt;br/&gt;
      &amp;lt;a href=&apos;http://groovy.codehaus.org&apos;&amp;gt;Groovy&amp;lt;/a&amp;gt;&lt;br/&gt;
      &amp;lt;a href=&apos;http://groovy.codehaus.org&apos;&amp;gt;&quot;Groovy&quot;&amp;lt;/a&amp;gt;&lt;br/&gt;
    &amp;lt;/p&amp;gt;&lt;br/&gt;
    &amp;lt;table&amp;gt;&lt;br/&gt;
      &amp;lt;tr&amp;gt;&lt;br/&gt;
        &amp;lt;td class=&apos;special&apos;&amp;gt;cell value&amp;lt;/td&amp;gt;&lt;br/&gt;
        &amp;lt;td class=&apos;special2&apos;&amp;gt;another cell value&amp;lt;/td&amp;gt;&lt;br/&gt;
      &amp;lt;/tr&amp;gt;&lt;br/&gt;
    &amp;lt;/table&amp;gt;&lt;br/&gt;
  &amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;Which is pretty much what everyone seems to be asking for and fixes MarkupBuilder rather than diverting the issue to a new API.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-312&quot; title=&quot;Improve Groovy markup to support all XML constructs.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-312&quot;&gt;&lt;del&gt;GROOVY-312&lt;/del&gt;&lt;/a&gt;, which seems to be a dup of this issue.&lt;/p&gt;</comment>
                            <comment id="14460631" author="sstirling" created="Tue, 23 Nov 2004 11:56:58 +0000"  >&lt;p&gt;I have tried to fix this problem with just a few lines of code change. I am attaching a patchfile with the changes.  It&apos;s not the most elegant solution, perhaps, but the case statements in that code have painted the XML builder into corners that would take more brain power to undo than I could apply to it tonight.&lt;/p&gt;


&lt;p&gt;With the following groovy code it outputs the following HTML:&lt;br/&gt;
import groovy.xml.MarkupBuilder;&lt;/p&gt;

&lt;p&gt;xhtml = new MarkupBuilder()&lt;/p&gt;

&lt;p&gt;html = xhtml.html() {&lt;br/&gt;
  head &lt;/p&gt;
{
    title(&apos;My Title&apos;)
  }
&lt;p&gt;  body(bgcolor:&quot;#FFFFFF&quot;) {&lt;br/&gt;
    p &lt;/p&gt;
{
      a(href:&quot;http://groovy.codehaus.org&quot;, &quot;Groovy&quot;)
      a(href:&quot;http://groovy.codehaus.org&quot;, &quot;\&quot;Groovy\&quot;&quot;)
    }
&lt;p&gt;    table {&lt;br/&gt;
      tr &lt;/p&gt;
{
        td(class:&quot;special&quot;, &quot;cell value&quot;)
        td(class:&quot;special2&quot;, &quot;another cell value&quot;)
      }
&lt;p&gt;    }&lt;br/&gt;
  }&lt;br/&gt;
}&lt;br/&gt;
html&lt;br/&gt;
println &quot;&quot;&lt;/p&gt;

&lt;p&gt;HTML ouput:&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
  &amp;lt;head&amp;gt;&lt;br/&gt;
    &amp;lt;title&amp;gt;My Title&amp;lt;/title&amp;gt;&lt;br/&gt;
  &amp;lt;/head&amp;gt;&lt;br/&gt;
  &amp;lt;body bgcolor=&apos;#FFFFFF&apos;&amp;gt;&lt;br/&gt;
    &amp;lt;p&amp;gt;&lt;br/&gt;
      &amp;lt;a href=&apos;http://groovy.codehaus.org&apos;&amp;gt;Groovy&amp;lt;/a&amp;gt;&lt;br/&gt;
      &amp;lt;a href=&apos;http://groovy.codehaus.org&apos;&amp;gt;&quot;Groovy&quot;&amp;lt;/a&amp;gt;&lt;br/&gt;
    &amp;lt;/p&amp;gt;&lt;br/&gt;
    &amp;lt;table&amp;gt;&lt;br/&gt;
      &amp;lt;tr&amp;gt;&lt;br/&gt;
        &amp;lt;td class=&apos;special&apos;&amp;gt;cell value&amp;lt;/td&amp;gt;&lt;br/&gt;
        &amp;lt;td class=&apos;special2&apos;&amp;gt;another cell value&amp;lt;/td&amp;gt;&lt;br/&gt;
      &amp;lt;/tr&amp;gt;&lt;br/&gt;
    &amp;lt;/table&amp;gt;&lt;br/&gt;
  &amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14460686" author="guillaume" created="Thu, 9 Dec 2004 17:34:29 +0000"  >&lt;p&gt;Perhaps a better fix should be found, like a specific keyword like yield to include some un-markup-ed content.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721060" name="MarkupBuilder.patchfile.txt" size="917" author="sstirling" created="Tue, 23 Nov 2004 11:56:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cgpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>