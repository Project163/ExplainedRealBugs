<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:46:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7127] Dates.isJsonDate only recognizes Javascript Date&apos;s toJSON() Format</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7127</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;groovy.json.internal.Dates#isJsonDate is always returns false for valid JSON date. This causes INDEX_OVERLAY parser to not parse dates even if checkDates was set to true&lt;/p&gt;

&lt;p&gt;See the implementation code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isJsonDate(&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;[] charArray, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; start, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; to) {
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; valid = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length = to - start;

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (length != JSON_TIME_LENGTH) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }

        valid &amp;amp;= (charArray[start + 19] == &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!valid) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However valid JSON date looks like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-10-21T15:15:56+0000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so there is no dots in this string so this method will always return false. This consequently leads to groovy.json.internal.CharSequenceValue#doToValue returns string instead of date so parser will never actually parse dates properly&lt;/p&gt;


&lt;p&gt;Test example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;  groovy.json.*
def o = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().
    setType(JsonParserType.INDEX_OVERLAY).
        setCheckDates(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;).
            parseText(JsonOutput.toJson([a : &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date()]))

assertEquals(Date.class, o.a)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12817865">GROOVY-7127</key>
            <summary>Dates.isJsonDate only recognizes Javascript Date&apos;s toJSON() Format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pascalschumacher">Pascal Schumacher</assignee>
                                    <reporter username="cy6ergn0m">Sergey Mashkov</reporter>
                        <labels>
                            <label>contrib</label>
                    </labels>
                <created>Tue, 21 Oct 2014 10:30:38 +0000</created>
                <updated>Mon, 19 Oct 2015 16:12:01 +0000</updated>
                            <resolved>Fri, 26 Jun 2015 15:20:53 +0000</resolved>
                                    <version>2.3.3</version>
                    <version>2.3.7</version>
                                    <fixVersion>2.4.4</fixVersion>
                                    <component>JSON</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14476589" author="pschumacher" created="Tue, 21 Oct 2014 12:58:08 +0000"  >&lt;p&gt;I&apos;m no Json expert, but &lt;a href=&quot;http://www.json.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.json.org/&lt;/a&gt; does not define a date type.&lt;/p&gt;

&lt;p&gt;According to &lt;a href=&quot;https://stackoverflow.com/questions/10286204/the-right-json-date-format&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/10286204/the-right-json-date-format&lt;/a&gt; it is a suggested practice to use the format emitted by Javascript Date&apos;s toJSON method, e.g. 2012-04-23T18:25:43.511Z&lt;/p&gt;

&lt;p&gt;It looks like this is the format the groovy Json parser expects.&lt;/p&gt;

&lt;p&gt;Why JsonSlurper emits a different format is another question.&lt;/p&gt;

&lt;p&gt;I agree that the Json parser should (also) be able to parse the date format generated by JsonSlurper.&lt;/p&gt;</comment>
                            <comment id="14476505" author="cy6ergn0m" created="Tue, 21 Oct 2014 14:51:13 +0000"  >&lt;p&gt;My point is that there is functionality provided by &lt;a href=&quot;http://beta.groovy-lang.org/docs/groovy-2.3.0/html/gapi/groovy/json/JsonSlurper.html#setCheckDates%28boolean%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;setCheckDates&lt;/a&gt; that doesn&apos;t work because of bug&lt;/p&gt;

&lt;p&gt;So if JsonOutput generates date in some format then why JsonSlurper can&apos;t parse it then even if documented feature enabled?&lt;/p&gt;</comment>
                            <comment id="14602314" author="githubbot" created="Fri, 26 Jun 2015 02:49:43 +0000"  >&lt;p&gt;GitHub user bobpaulin opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/45&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Groovy 7127&lt;/p&gt;

&lt;p&gt;    Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-7127&lt;/a&gt;  With love from CJUG with help from Cosmin Stroe and Steven Hicks.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cjug/incubator-groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cjug/incubator-groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7127&quot; title=&quot;Dates.isJsonDate only recognizes Javascript Date&amp;#39;s toJSON() Format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7127&quot;&gt;&lt;del&gt;GROOVY-7127&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/45.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/45.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #45&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2381ccea27233994f4a336d489c1aceea65e5210&lt;br/&gt;
Author: bpaulin &amp;lt;bpaulin@bob_paulin&amp;gt;&lt;br/&gt;
Date:   2015-06-26T01:01:35Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7127&quot; title=&quot;Dates.isJsonDate only recognizes Javascript Date&amp;#39;s toJSON() Format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7127&quot;&gt;&lt;del&gt;GROOVY-7127&lt;/del&gt;&lt;/a&gt; - Added Date Tests&lt;/p&gt;

&lt;p&gt;commit b5ed3bf7610c9663a09252f8f821b672a0a8761f&lt;br/&gt;
Author: bpaulin &amp;lt;bpaulin@bob_paulin&amp;gt;&lt;br/&gt;
Date:   2015-06-26T02:36:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7127&quot; title=&quot;Dates.isJsonDate only recognizes Javascript Date&amp;#39;s toJSON() Format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7127&quot;&gt;&lt;del&gt;GROOVY-7127&lt;/del&gt;&lt;/a&gt; Allow isJsonDate to accept a date in format&lt;br/&gt;
    yyyy-MM-ddThh:mm:ss+0000 since this is how the JsonOutput.toJson method&lt;br/&gt;
    formats a date in Groovy.  JSON does not have a standard string output&lt;br/&gt;
    per the ECMA spec so both may be accepted.&lt;/p&gt;

&lt;p&gt;commit 7e9270b965a2735d87bcc7246cd087d86a27e90e&lt;br/&gt;
Author: bpaulin &amp;lt;bpaulin@bob_paulin&amp;gt;&lt;br/&gt;
Date:   2015-06-26T02:44:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7127&quot; title=&quot;Dates.isJsonDate only recognizes Javascript Date&amp;#39;s toJSON() Format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7127&quot;&gt;&lt;del&gt;GROOVY-7127&lt;/del&gt;&lt;/a&gt; - Fixed tabs to spaces.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14603019" author="githubbot" created="Fri, 26 Jun 2015 15:13:35 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/45&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bmd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>