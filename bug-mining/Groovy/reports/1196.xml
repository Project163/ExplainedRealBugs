<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:15:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2037] Can&apos;t use Java 6 classpath wildcards</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2037</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;m using wildcards in my Java classpath, as is supported (finally!) by Java 6. I&apos;d like to have Groovy honor that kind of classpath, and not fail to resolve items that Java can resolve.&lt;br/&gt;
See, e.g., &lt;a href=&quot;http://blogs.sun.com/mr/entry/class_path_wildcards_in_mustang&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blogs.sun.com/mr/entry/class_path_wildcards_in_mustang&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Java 6</environment>
        <key id="12813718">GROOVY-2037</key>
            <summary>Can&apos;t use Java 6 classpath wildcards</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Aug 2007 13:47:37 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:49 +0000</updated>
                            <resolved>Fri, 19 Feb 2010 06:09:13 +0000</resolved>
                                    <version>1.1-beta-2</version>
                                    <fixVersion>1.7.1</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>4</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14466395" author="fepede" created="Thu, 12 Feb 2009 06:51:20 +0000"  >&lt;p&gt;It seems to me that this issue is still present in groovy 1.6-RC3. &lt;br/&gt;
Is it supposed to be  this way?&lt;/p&gt;</comment>
                            <comment id="14478578" author="paulk" created="Thu, 18 Jun 2009 08:23:28 +0000"  >&lt;p&gt;Yes, there is no support for this currently though it would be good to add.&lt;/p&gt;</comment>
                            <comment id="14468301" author="pmonks" created="Tue, 8 Dec 2009 16:25:43 +0000"  >&lt;p&gt;Any update on when this might be available?  It&apos;s quite painful having to manually build classpath strings before invoking Groovy.&lt;/p&gt;</comment>
                            <comment id="14468302" author="blackdrag" created="Wed, 9 Dec 2009 02:26:01 +0000"  >&lt;p&gt;I made it a blocker for 1.8-beta-1, which means it will be in there unless something strange happens.&lt;/p&gt;</comment>
                            <comment id="14468340" author="pmonks" created="Mon, 21 Dec 2009 21:26:15 +0000"  >&lt;p&gt;Thanks Jochen.  Could &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3781&quot; title=&quot;JAVA_OPTS is not affecting groovy runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3781&quot;&gt;&lt;del&gt;GROOVY-3781&lt;/del&gt;&lt;/a&gt; be considered as part of this?  It seems like JVM command line parameter handling in general needs a bit of TLC.&lt;/p&gt;</comment>
                            <comment id="14478864" author="paulk" created="Wed, 27 Jan 2010 18:52:42 +0000"  >&lt;p&gt;Patch presented on user mailing list from saltnlight5@gmail.com:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;D:/source/groovy/GROOVY_1_7_0
$ svn diff &quot;src\main\org\codehaus\groovy\tools\LoaderConfiguration.java&quot;
Index: src/main/org/codehaus/groovy/tools/LoaderConfiguration.java
===================================================================
--- src/main/org/codehaus/groovy/tools/LoaderConfiguration.java (revision
19114)
+++ src/main/org/codehaus/groovy/tools/LoaderConfiguration.java (working
copy)
@@ -304,9 +304,21 @@
      * @see java.io.File#pathSeparator
      */
     public void addClassPath(String path) {
-        String[] paths = path.split(File.pathSeparator);
+       String[] paths = path.split(File.pathSeparator);
         for (int i = 0; i &amp;lt; paths.length; i++) {
-            addFile(new File(paths[i]));
+               String cpPath = paths[i];
+               // Check to support wild card classpath
+               if (cpPath.endsWith(&quot;*&quot;)) {
+                       File dir = new File(cpPath.substring(0,
cpPath.length() - 1));
+                       File[] files = dir.listFiles();
+                       if (files != null) {
+                               for (int j = 0; j &amp;lt; files.length; j++) {
+                               addFile(files[j]);
+                               }
+                       }
+               } else {
+                       addFile(new File(cpPath));
+               }
         }
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468870" author="blackdrag" created="Wed, 17 Feb 2010 10:15:34 +0000"  >&lt;p&gt;Paul, has this patch been applied and tested?&lt;/p&gt;</comment>
                            <comment id="14478918" author="paulk" created="Wed, 17 Feb 2010 16:03:19 +0000"  >&lt;p&gt;Not tested or added yet. I wanted to check whether there was some code hidden in core Java somewhere that did this or whether we were forced to do it by hand as per patch.&lt;/p&gt;</comment>
                            <comment id="14478911" author="paulk" created="Wed, 17 Feb 2010 19:38:42 +0000"  >&lt;p&gt;Of course the flip side is that the patch would work on Java 1.5 too.&lt;/p&gt;</comment>
                            <comment id="14478890" author="paulk" created="Wed, 17 Feb 2010 19:48:12 +0000"  >&lt;p&gt;I think also, we need to check only for files ending in &apos;.jar&apos; (probably case insensitive) not all files as per current state of patch. Java also does this earlier than proposed patch. In its case, the &lt;tt&gt;java.class.path&lt;/tt&gt; system property will contain the found jar files - no wildcard anymore.&lt;/p&gt;</comment>
                            <comment id="14478912" author="paulk" created="Fri, 19 Feb 2010 06:09:13 +0000"  >&lt;p&gt;Patch applied to trunk and 1_7_X branch (modified from saltnlight5 - thanks!)&lt;/p&gt;</comment>
                            <comment id="14468934" author="saltnlight5" created="Fri, 19 Feb 2010 07:40:07 +0000"  >&lt;p&gt;This is saltnlight5, and I am glad I can help. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14469930" author="spidie" created="Wed, 21 Jul 2010 16:32:55 +0000"  >&lt;p&gt;I still have this issue on 1.7.3 on Linux (Ubuntu Lucid).&lt;/p&gt;

&lt;p&gt;I went back to 1.7.0 and it was still the same... the error message is really misleading - wasted a lot of time on it last night, glad I know what it is now so can at least work around it - have just put something like this&lt;/p&gt;

&lt;p&gt;for x in `ls lib/*.jar` &lt;br/&gt;
do&lt;br/&gt;
        libpath=$x:$libpath&lt;br/&gt;
done&lt;/p&gt;

&lt;p&gt;in shellscript that starts groovy (using $libpath instead of wildcard after -cp in call to groovy)&lt;/p&gt;</comment>
                            <comment id="14469807" author="spidie" created="Wed, 21 Jul 2010 16:37:28 +0000"  >&lt;p&gt;btw - the error I get if I try and use wildcard is something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
/home/dalts/tmp/archiver/scripts/lib/bcprov-jdk14-138.jar: 1: unexpected &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;: 0x3 @ line 1, column 3.
   PK�%Ug7�META-INF/MANIFEST.MF&amp;amp;#65533;&amp;amp;#65533;Y&amp;amp;#65533;&amp;amp;#65533;Z&amp;amp;#65533;.|
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Failing on the 2nd jar in the directory I believe.&lt;/p&gt;</comment>
                            <comment id="14471316" author="novoj" created="Thu, 9 Jun 2011 06:42:18 +0000"  >&lt;p&gt;Still having this issue on Groovy 1.8.0 with JDK 1.6 ... Groovy complaints on second JAR in directory:&lt;/p&gt;

&lt;p&gt;groovy -cp /home/novoj/Prototypes/groovyScripts/lib/* cz/novoj/infrastructure/groovy/InfrastructureScriptInvoker.groovy&lt;/p&gt;

&lt;p&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:&lt;br/&gt;
/home/novoj/Prototypes/groovyScripts/lib/spring-beans-3.0.5.RELEASE.jar: 1: unexpected char: 0x3 @ line 1, column 3.&lt;br/&gt;
   PK��&lt;br/&gt;
     ^&lt;/p&gt;

&lt;p&gt;1 error&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c1vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>