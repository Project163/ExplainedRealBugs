<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:19:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6871] Running :show all command throws StackOverflowError</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6871</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;blockquote&gt;
&lt;p&gt;E:\Downloads\groovy-2.4.0-beta-1&amp;gt;bin\groovysh&lt;br/&gt;
Groovy Shell (2.4.0-beta-1, JVM: 1.7.0_25)&lt;br/&gt;
Type &apos;:help&apos; or &apos;:h&apos; for help.&lt;br/&gt;
-----------------------------------------------------------&lt;br/&gt;
groovy:000&amp;gt; :show all&lt;br/&gt;
No variables defined&lt;br/&gt;
No classes have been loaded&lt;br/&gt;
No custom imports have been defined&lt;br/&gt;
No preferences are set&lt;br/&gt;
===&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;null, null, null, null&amp;#93;&lt;/span&gt;&lt;br/&gt;
groovy:000&amp;gt; :show all&lt;br/&gt;
Variables:&lt;br/&gt;
  _ = &lt;span class=&quot;error&quot;&gt;&amp;#91;null, null, null, null&amp;#93;&lt;/span&gt;&lt;br/&gt;
No classes have been loaded&lt;br/&gt;
No custom imports have been defined&lt;br/&gt;
No preferences are set&lt;br/&gt;
===&amp;gt; [[_:&lt;span class=&quot;error&quot;&gt;&amp;#91;null, null, null, null&amp;#93;&lt;/span&gt;], null, null, null]&lt;br/&gt;
groovy:000&amp;gt; :show all&lt;br/&gt;
Variables:&lt;br/&gt;
ERROR java.lang.StackOverflowError:&lt;br/&gt;
null&lt;br/&gt;
groovy:000&amp;gt; :show all&lt;br/&gt;
Variables:&lt;br/&gt;
ERROR java.lang.StackOverflowError:&lt;br/&gt;
null&lt;br/&gt;
groovy:000&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can also be triggered faster by starting a recording session.&lt;/p&gt;</description>
                <environment>Windows 7</environment>
        <key id="12817628">GROOVY-6871</key>
            <summary>Running :show all command throws StackOverflowError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="arafalov">Alexandre Rafalovitch</reporter>
                        <labels>
                            <label>StackOverflowError</label>
                    </labels>
                <created>Wed, 18 Jun 2014 02:37:29 +0000</created>
                <updated>Sat, 23 Jul 2022 21:05:49 +0000</updated>
                            <resolved>Mon, 4 Jul 2022 04:12:50 +0000</resolved>
                                    <version>2.3.2</version>
                    <version>2.4.0-beta-1</version>
                                    <fixVersion>4.0.4</fixVersion>
                                    <component>Groovysh</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14476966" author="tkruse" created="Sun, 22 Feb 2015 04:34:27 +0000"  >&lt;p&gt;Thank for the report. i can reproduce it. Will work on a fix now.&lt;/p&gt;</comment>
                            <comment id="14477072" author="tkruse" created="Sun, 22 Feb 2015 08:02:32 +0000"  >&lt;p&gt;Fundamentally this is caused by the variable &apos;_&apos; (the last return value in the sell), eventually containing itself, and being formatted by InvokerHelper.&lt;/p&gt;

&lt;p&gt;This can be reproduced with any variable:&lt;/p&gt;

&lt;p&gt;groovy:000&amp;gt; d = &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;br/&gt;
===&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;br/&gt;
groovy:000&amp;gt; d.put(1, &lt;span class=&quot;error&quot;&gt;&amp;#91;d&amp;#93;&lt;/span&gt;)&lt;br/&gt;
===&amp;gt; null&lt;br/&gt;
groovy:000&amp;gt; d&lt;br/&gt;
null // or StackOverflowError displayed, depending on Groovy Version&lt;/p&gt;


&lt;p&gt;While the InvokerHelper is capable of preventing cycles of length 1 (map containing itself as an immediate value), it is not able to handle cycles of greater lengths. Fixing the InvokerHelper should therefore solve this issue.&lt;/p&gt;

&lt;p&gt;Asking on dev mailing list for how to proceed.&lt;/p&gt;</comment>
                            <comment id="17561996" author="paulk" created="Mon, 4 Jul 2022 04:12:50 +0000"  >&lt;p&gt;We haven&apos;t progressed detecting printing mutually recursive structures yet. I implemented a workaround for this case in the meantime. It simply avoids including the &apos;&amp;#95;&apos; value in the variables returned by &lt;tt&gt;:show all&lt;/tt&gt; and substitutes a &apos;&amp;#95;&apos; placeholder instead as shown here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Groovy Shell (5.0.0-SNAPSHOT, JVM: 17.0.2)
Type &apos;:help&apos; or &apos;:h&apos; for help.
-------------------------------------------------------------------------------
groovy:000&amp;gt; :show all
No variables defined
No classes have been loaded
No custom imports have been defined
No preferences are set
===&amp;gt; [null, null, null, null]
groovy:000&amp;gt; :show all
Variables:
  _ = [null, null, null, null]
No classes have been loaded
No custom imports have been defined
No preferences are set
===&amp;gt; [[_:_], null, null, null]
groovy:000&amp;gt; :show all
Variables:
  _ = [[_:_], null, null, null]
No classes have been loaded
No custom imports have been defined
No preferences are set
===&amp;gt; [[_:_], null, null, null]
groovy:000&amp;gt; :show all
Variables:
  _ = [[_:_], null, null, null]
No classes have been loaded
No custom imports have been defined
No preferences are set
===&amp;gt; [[_:_], null, null, null]
groovy:000&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c9pr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>