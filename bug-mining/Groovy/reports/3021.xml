<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:49:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6454] Can&apos;t delegate (with the @Delegate annotation) to a method whose name contains a dollar ($) character</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6454</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;As of 2.2.0 it&apos;s no longer possible to delegate (via the @Delegate annotation) to a method whose name contains a dollar ($) character. The attached test case compiles and runs without error under Groovy 2.1.3 and 2.1.6, but fails to compile with the following error under 2.2.0:&lt;/p&gt;

&lt;p&gt;&amp;gt; Caught: groovy.lang.MissingMethodException: No signature of method: Delegating.te$t() is applicable for argument types: (java.lang.Integer) values: &lt;span class=&quot;error&quot;&gt;&amp;#91;42&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; Possible solutions: test(java.lang.Integer), wait(), getAt(java.lang.String), wait(long), wait(long, int), dump()&lt;/p&gt;</description>
                <environment>Linux (Ubuntu 12.04), Java SE (Oracle) 1.7.0_45-b18, Groovy 2.2.0</environment>
        <key id="12817079">GROOVY-6454</key>
            <summary>Can&apos;t delegate (with the @Delegate annotation) to a method whose name contains a dollar ($) character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="chocolateboy">chocolateboy</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Mon, 25 Nov 2013 11:27:39 +0000</created>
                <updated>Tue, 2 May 2017 02:03:37 +0000</updated>
                            <resolved>Wed, 13 Apr 2016 07:47:39 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.5.0-alpha-1</fixVersion>
                                    <component>Compiler</component>
                    <component>xforms</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14475297" author="blackdrag" created="Mon, 25 Nov 2013 13:07:03 +0000"  >&lt;p&gt;I did not check for GROOVY_2_1_X, but in groovy 2.1.9 it works and in 2.2.0 not&lt;/p&gt;</comment>
                            <comment id="14475202" author="melix" created="Tue, 26 Nov 2013 04:33:38 +0000"  >&lt;p&gt;The change was introduced by 54360738ab13ce86381cb7e59840e33d8962ec93. It includes a refactor to use `shouldSkip` method in common with various AST transformations (ToString, EqualsAndHashCode, ...). This method explicitely excludes methods whose name include a dollar (probably considered as internal or generated methods).&lt;/p&gt;</comment>
                            <comment id="14476034" author="pschumacher" created="Mon, 26 May 2014 10:43:15 +0000"  >&lt;p&gt;So what are we going to do about this?&lt;/p&gt;

&lt;p&gt;@Paul: As &lt;a href=&quot;https://github.com/groovy/groovy-core/commit/54360738ab13ce86381cb7e59840e33d8962ec93&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/commit/54360738ab13ce86381cb7e59840e33d8962ec93&lt;/a&gt; was done by you, maybe you can comment on this issue?&lt;/p&gt;</comment>
                            <comment id="14476383" author="pschumacher" created="Sun, 14 Sep 2014 01:54:18 +0000"  >&lt;p&gt;Marcin Erdmann (from the closed duplicate of this issue): &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This is a blocking issue for Geb. It&apos;s impossible to compile it using latest Groovy which prevents us from updating the version used to build it - it&apos;s still using 1.8.9.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14476510" author="erdi" created="Sun, 14 Sep 2014 02:15:26 +0000"  >&lt;p&gt;Saying that it is blocking was a bit of an exaggeration maybe... We can always generate these methods by hand/using IDE where we need it but it would be more convenient if we could use that annotation. Looks like the simplest fix would be to allow forcing inclusion of methods having $ in their name by specifying it in includes().&lt;/p&gt;

&lt;p&gt;I would be happy to provide a pull request with such change if you are happy with that solution.&lt;/p&gt;</comment>
                            <comment id="14480725" author="paulk" created="Tue, 16 Sep 2014 19:14:44 +0000"  >&lt;p&gt;@EqualsAndHashCode, @ToString, @TupleConstructor, @Builder and @Delegate all skip over properties, fields and/or methods containing &apos;$&apos;. One solution might be to add an allNames boolean which could be set to true to avoid this default behavior. It could be made available for @Delegate to start with and potentially some of the others if there is a real need. Would this be suitable?&lt;/p&gt;</comment>
                            <comment id="15155738" author="erdi" created="Sat, 20 Feb 2016 19:52:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; Adding such &lt;tt&gt;allNames&lt;/tt&gt; boolean to &lt;tt&gt;@Delagate&lt;/tt&gt; would be beneficial and allow removal of a significant number of manually written delegating methods in Geb. I&apos;d be happy to contribute such improvement if you&apos;d be interested in accepting it.&lt;/p&gt;</comment>
                            <comment id="15156292" author="paulk" created="Sun, 21 Feb 2016 23:30:35 +0000"  >&lt;p&gt;I think such a change would be interesting (for 2.5+ only) as long as it was consistent, i.e. it would apply to not just @Delegate but the other impacted transforms that make use of &lt;tt&gt;AbstractASTTransformation#shouldSkip&lt;/tt&gt; or &lt;tt&gt;AbstractASTTransformation#shouldSkipUndefinedAware&lt;/tt&gt;, namely: @EqualsAndHashCode, @ToString, @TupleConstructor and @Builder (all strategies). The existing method calls within AbstractASTTransformation would need to remain and an overloaded version with an &lt;tt&gt;allNames&lt;/tt&gt; boolean added. We need to wire the new method into those transforms and update the doco and tests.&lt;/p&gt;</comment>
                            <comment id="15157670" author="erdi" created="Mon, 22 Feb 2016 20:48:51 +0000"  >&lt;p&gt;Awesome, I will look into it when I have some spare cycles. Looks like I finally found something that I can contribute to Groovy. I will write to the dev mailing list if I have questions or problems. Thanks for outlining in detail what will need to be done for the contribution to be accepted.&lt;/p&gt;</comment>
                            <comment id="15157785" author="paulk" created="Mon, 22 Feb 2016 22:01:07 +0000"  >&lt;p&gt;Cool. Good luck. And do shout if you have any further questions.&lt;/p&gt;</comment>
                            <comment id="15218568" author="githubbot" created="Wed, 30 Mar 2016 18:44:47 +0000"  >&lt;p&gt;GitHub user erdi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6454&quot; title=&quot;Can&amp;#39;t delegate (with the @Delegate annotation) to a method whose name contains a dollar ($) character&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6454&quot;&gt;&lt;del&gt;GROOVY-6454&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Add allNames option which allows to include fields/properties/methods with internal names in code generated by Builder, Delegate, EqualsAndHashCode, MapConstructor, ToString and TupleConstructor AST transformations.&lt;/p&gt;

&lt;p&gt;    I&apos;ve added tests and updated javadocs and the guide around these new options.&lt;/p&gt;

&lt;p&gt;    Please let me know if there is anything that needs to be changed, especially in the area of documentation, I&apos;m happy to rework it.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/erdi/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/erdi/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6454&quot; title=&quot;Can&amp;#39;t delegate (with the @Delegate annotation) to a method whose name contains a dollar ($) character&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6454&quot;&gt;&lt;del&gt;GROOVY-6454&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/299.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/299.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #299&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;</comment>
                            <comment id="15218569" author="githubbot" created="Wed, 30 Mar 2016 18:45:31 +0000"  >&lt;p&gt;Github user erdi commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/299#discussion_r57941783&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/299#discussion_r57941783&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/spec/test/ClassDesignASTTransformsTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -189,14 +189,14 @@ class NumberBooleanBuilder {&lt;br/&gt;
         StringBuilder nums = new StringBuilder()&lt;br/&gt;
         @Delegate(includeTypes=&lt;span class=&quot;error&quot;&gt;&amp;#91;AppendFloatSelector&amp;#93;&lt;/span&gt;, interfaces=false)&lt;br/&gt;
         StringBuilder bools = new StringBuilder()&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;String result() { &quot;${nums.toString()} | ${bools.toString()}&quot; }&lt;br/&gt;
    +    String result() { &quot;${nums.toString()} ~ ${bools.toString()}&quot; }
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This had to be changed because using a pipe here broke the formatting of asciidoc table this snippet was used in.&lt;/p&gt;</comment>
                            <comment id="15218580" author="erdi" created="Wed, 30 Mar 2016 18:49:49 +0000"  >&lt;p&gt;Hopefully the submitted pull request is what you are after, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;. Let me know if anything in there needs more work.&lt;/p&gt;</comment>
                            <comment id="15238640" author="githubbot" created="Wed, 13 Apr 2016 05:42:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15238781" author="paulk" created="Wed, 13 Apr 2016 07:47:40 +0000"  >&lt;p&gt;PR applied, thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12817745">GROOVY-7073</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12722666" name="dollar_delegate.groovy" size="849" author="chocolateboy" created="Mon, 25 Nov 2013 11:27:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bt5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>