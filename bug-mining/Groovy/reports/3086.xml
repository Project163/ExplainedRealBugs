<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:52:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7884] GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7884</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;In the constructor of GroovyScriptEngineImpl the CompilerConfiguration is created each time, while it should use CompilerConfiguration.DEFAULT.&lt;/p&gt;

&lt;p&gt;This can lead to memory leaks in environments where there is an high usage of GroovyScriptEngineImpl because CompilerConfiguration creates a PrintWriter on System.err (i.e. under the hood it creates a BufferedWriter with a default buffer of 8192 elements) when setting the field &quot;output&quot;.&lt;br/&gt;
I have observed this behaviour using Apache Camel.&lt;br/&gt;
I don&apos;t know if all the GroovyScriptEngineImpl instances are legit or are themselves a leak: I will investigate on this later and report to the Apache Camel team.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12989076">GROOVY-7884</key>
            <summary>GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="rste79">Stefano Rocca</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jul 2016 09:59:50 +0000</created>
                <updated>Wed, 1 Feb 2017 23:18:46 +0000</updated>
                            <resolved>Sun, 7 Aug 2016 03:14:03 +0000</resolved>
                                    <version>2.4.5</version>
                                    <fixVersion>2.4.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15375017" author="blackdrag" created="Wed, 13 Jul 2016 13:47:44 +0000"  >&lt;p&gt;you are right, using CompilerConfiguration() is not really right, we should use new CompilerConfiguration(CompilerConfiguration.DEFAULT). This will also not create yet another print writer.&lt;/p&gt;</comment>
                            <comment id="15375186" author="rste79" created="Wed, 13 Jul 2016 15:09:14 +0000"  >&lt;p&gt;Thanks Jochen. I agree, using the copy constructor is the right solution.&lt;/p&gt;</comment>
                            <comment id="15408732" author="githubbot" created="Fri, 5 Aug 2016 01:12:35 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/377&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/377&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7884&quot; title=&quot;GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7884&quot;&gt;&lt;del&gt;GROOVY-7884&lt;/del&gt;&lt;/a&gt;: GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks&lt;/p&gt;

&lt;p&gt;    Also includes some minor refactoring/cleanup as separate commits.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7884&quot; title=&quot;GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7884&quot;&gt;&lt;del&gt;GROOVY-7884&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/377.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/377.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #377&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f6ea716311bbc3d5952d475665b6bf0a6e3089b8&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-04T23:27:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7884&quot; title=&quot;GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7884&quot;&gt;&lt;del&gt;GROOVY-7884&lt;/del&gt;&lt;/a&gt;: GroovyScriptEngineImpl usage of CompilerConfiguration can lead to memory leaks&lt;/p&gt;

&lt;p&gt;commit ac9197f50b7f7a4601d497858fcd9ce91522b528&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-04T23:46:26Z&lt;/p&gt;

&lt;p&gt;    minor refactor: use enhanced for loop&lt;/p&gt;

&lt;p&gt;commit f6019be6190e6f799dc14944e98d6d76830201c4&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-04T23:58:40Z&lt;/p&gt;

&lt;p&gt;    minor cleanup: no need to import classes from java.lang&lt;/p&gt;

&lt;p&gt;commit 76c7941b5d449603ef2a03f988ad6975173af4cb&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-08-05T00:49:24Z&lt;/p&gt;

&lt;p&gt;    minor refactor: remove use of raw types&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15410805" author="githubbot" created="Sun, 7 Aug 2016 02:59:40 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/377&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/377&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15410810" author="jwagenleitner" created="Sun, 7 Aug 2016 03:14:03 +0000"  >&lt;p&gt;I applied the change &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt; recommended.&lt;/p&gt;

&lt;p&gt;Thanks for reporting the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30wsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>