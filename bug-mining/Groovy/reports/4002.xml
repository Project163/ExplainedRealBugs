<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:10:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9938] VerifyError when instantiating class with @CompileStatic that implements a method with @DelegatesTo annotation.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9938</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Please see the script in the attachment for a minimal code sample to reproduce this issue.&lt;/p&gt;

&lt;p&gt;This issue occurs both when implementing a trait, or when implementing an interface and using @Delegate to provide the implementation of the interface. Writing the implementation directly in the class works fine.&lt;/p&gt;

&lt;p&gt;When I take out either @CompileStatic or @DelegatesTo the issue disappears.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;stacktrace (groovy 3.0.7, using a trait (first example in script)):&lt;/p&gt;

&lt;p&gt;ERROR java.lang.VerifyError:&lt;br/&gt;
Bad type on operand stack&lt;br/&gt;
Exception Details:&lt;br/&gt;
 Location:&lt;br/&gt;
 P$C.P$Ttrait$super$stuff(Lgroovy/lang/Closure;)V @8: invokevirtual&lt;br/&gt;
 Reason:&lt;br/&gt;
 Type &apos;P$C&apos; (current frame, stack&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) is not assignable to &apos;groovy/lang/Closure&apos;&lt;br/&gt;
 Current Frame:&lt;br/&gt;
 bci: @8&lt;br/&gt;
 flags: { }&lt;br/&gt;
 locals: { &apos;P$C&apos;, &apos;groovy/lang/Closure&apos; }&lt;br/&gt;
 stack: { &apos;P$C&apos; }&lt;br/&gt;
 Bytecode:&lt;br/&gt;
 0000000: 2ac1 003c 9900 232a b600 42c0 000d b900&lt;br/&gt;
 0000010: 4501 0012 4604 bd00 0459 032b 53b8 004c&lt;br/&gt;
 0000020: c000 4e57 a700 1712 042a 1246 c000 5004&lt;br/&gt;
 0000030: bd00 0459 032b 53b8 0056 57b1&lt;br/&gt;
 Stackmap Table:&lt;br/&gt;
 same_frame(@39)&lt;br/&gt;
 same_frame(@59)&lt;/p&gt;

&lt;p&gt;at P.run (groovysh_evaluate:13)&lt;br/&gt;
 at P$run.call (Unknown Source)&lt;/p&gt;



&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;stacktrace (groovy 3.0.7, using @Delegate (second example in script)):&lt;/p&gt;

&lt;p&gt;ERROR java.lang.VerifyError:&lt;br/&gt;
Bad type on operand stack&lt;br/&gt;
Exception Details:&lt;br/&gt;
 Location:&lt;br/&gt;
 P2$C.stuff(Lgroovy/lang/Closure;)V @1: invokevirtual&lt;br/&gt;
 Reason:&lt;br/&gt;
 Type &apos;P2$C&apos; (current frame, stack&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) is not assignable to &apos;groovy/lang/Closure&apos;&lt;br/&gt;
 Current Frame:&lt;br/&gt;
 bci: @1&lt;br/&gt;
 flags: { }&lt;br/&gt;
 locals: { &apos;P2$C&apos;, &apos;groovy/lang/Closure&apos; }&lt;br/&gt;
 stack: { &apos;P2$C&apos; }&lt;br/&gt;
 Bytecode:&lt;br/&gt;
 0000000: 2ab6 002f c000 0b2b b600 3101 57b1&lt;/p&gt;

&lt;p&gt;at P2.run (groovysh_evaluate:19)&lt;br/&gt;
 at P2$run.call (Unknown Source)&lt;/p&gt;</description>
                <environment>Windows 10, Java 11</environment>
        <key id="13358380">GROOVY-9938</key>
            <summary>VerifyError when instantiating class with @CompileStatic that implements a method with @DelegatesTo annotation.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="GroovyUser">Felix ter Beek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Feb 2021 17:24:46 +0000</created>
                <updated>Mon, 31 Jan 2022 21:09:44 +0000</updated>
                            <resolved>Tue, 2 Mar 2021 15:01:39 +0000</resolved>
                                    <version>2.5.6</version>
                    <version>3.0.7</version>
                                    <fixVersion>3.0.8</fixVersion>
                    <fixVersion>4.0.0-alpha-3</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                        <attachments>
                            <attachment id="13020408" name="script.groovy" size="1481" author="GroovyUser" created="Fri, 12 Feb 2021 17:16:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nmww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>