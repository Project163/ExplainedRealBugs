<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:07:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2803] annotations definition in groovy</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2803</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;the following code can not execute properly, exceptions:&lt;br/&gt;
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, Script12: 2: Constructor not permitted within an interface. at line: 2 column: 5. File: Script12 @ line 2, column 5.&lt;br/&gt;
1 error&lt;/p&gt;

&lt;p&gt;it seems that the method hello has the same name with annotation hello and groovy mistake method hello as a constructor &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; hello {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; hello()
}

println &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12814223">GROOVY-2803</key>
            <summary>annotations definition in groovy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="daniel_sun">Daniel Sun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 23:21:48 +0000</created>
                <updated>Sun, 12 Oct 2008 08:49:45 +0000</updated>
                            <resolved>Sat, 5 Jul 2008 06:49:31 +0000</resolved>
                                    <version>1.6-beta-1</version>
                                    <fixVersion>1.6-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14464783" author="blackdrag" created="Sat, 3 May 2008 11:20:58 +0000"  >&lt;p&gt;when you try this in Java, does it compile? I doubt it.&lt;/p&gt;</comment>
                            <comment id="14464782" author="daniel_sun" created="Sun, 4 May 2008 02:49:23 +0000"  >&lt;p&gt;Hi Jochen,&lt;/p&gt;

&lt;p&gt;I tried the code in the groovy console &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Daniel.Sun&lt;/p&gt;</comment>
                            <comment id="14464844" author="blackdrag" created="Thu, 8 May 2008 11:40:55 +0000"  >&lt;p&gt;the problem happens also for normal interfaces. The code around AntlrParserPlugin.java:558 does not check if the return type is used. In that case it is of course no constructor. Probably &quot;def&quot; has no representation, I need to check that, but if it has, then the check should be move to the return type processing. Or maybe removing the test altogether is best? I need to check the grammar to see if the return type is really optional... I think it should not be that way. If it is not optional, then the grammar part would fail already, no need for this test then.&lt;/p&gt;</comment>
                            <comment id="14478200" author="paulk" created="Fri, 20 Jun 2008 22:50:52 +0000"  >&lt;p&gt;I removed the check as per Jochen&apos;s suggestion. The grammar doesn&apos;t allow for instance:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; hello {
    def hello()
}
@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; hello2 {
    hello2()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;so it wasn&apos;t needed here, but this change does mean that the following is now allowed for normal interfaces:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; hello {
    def hello()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and this was disallowed before. Aso if this is now allowed, perhaps this should be too:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; hello {
    def hello()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which means we would add that back into the grammar.&lt;/p&gt;</comment>
                            <comment id="14478246" author="paulk" created="Mon, 23 Jun 2008 06:11:35 +0000"  >&lt;p&gt;Just a note, this issue still needs more work. Now for instance, if we have both a constructor (no def) and a method with the same name as the class (i.e. the same name as the constructor), we end up with a duplicate method in the generated bytecode. I need to stop that happening which might require putting the check back in but making it more selective. And of course some nice test cases to fully document the behavior.&lt;/p&gt;</comment>
                            <comment id="14478232" author="paulk" created="Mon, 23 Jun 2008 06:13:29 +0000"  >&lt;p&gt;Marking as a blocker simply because the current behavior shouldn&apos;t go out as a release. Once I at least fix the previously commented behavior it can be downgraded (or closed if appropriate).&lt;/p&gt;</comment>
                            <comment id="14465131" author="paulk" created="Sat, 5 Jul 2008 06:49:31 +0000"  >&lt;p&gt;Tightened back up the check but not checked for annotation definitions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ckb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>