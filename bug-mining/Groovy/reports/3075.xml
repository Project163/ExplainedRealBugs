<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:51:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7774] Collection addAll fails CompileStatic type checking when adding a collection of subtypes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7774</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Suppose X is an interface and Y an interface such that Y extends X&lt;br/&gt;
The following code throws a compilation error (the outer class is annotated as @CompileStatic).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Set&amp;lt;X&amp;gt; set = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;X&amp;gt;()
Set&amp;lt;Y&amp;gt; toAdd = ......
set.addAll(toAdd)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, the following works, which to me is inconsistent:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Set&amp;lt;X&amp;gt; set = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;X&amp;gt;()
Set&amp;lt;Y&amp;gt; toAdd = ......
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(Y y in toAdd) {
  set.add(y)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment>Windows, Java 8.</environment>
        <key id="12946520">GROOVY-7774</key>
            <summary>Collection addAll fails CompileStatic type checking when adding a collection of subtypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="darren.hurt@gmail.com">Darren Hurt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 11:29:21 +0000</created>
                <updated>Wed, 1 Feb 2017 23:19:06 +0000</updated>
                            <resolved>Mon, 1 Aug 2016 23:16:10 +0000</resolved>
                                    <version>2.4.3</version>
                                    <fixVersion>2.4.8</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15193509" author="shils" created="Mon, 14 Mar 2016 15:45:50 +0000"  >&lt;p&gt;The compiler determines the target method for &lt;tt&gt;set.addAll(toAdd)&lt;/tt&gt; to be &lt;tt&gt;DefaultGroovyMethods#addAll(Collection&amp;lt;T&amp;gt;, Iterable&amp;lt;T&amp;gt;)&lt;/tt&gt; rather than &lt;tt&gt;Collection&amp;lt;E&amp;gt;#addAll(Collection&amp;lt;? extends E&amp;gt;)&lt;/tt&gt;, resulting in the error you described due to the lack of wildcard on the iterable parameter of the DGM addAll method.&lt;/p&gt;</comment>
                            <comment id="15400470" author="githubbot" created="Sat, 30 Jul 2016 05:33:13 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7774&quot; title=&quot;Collection addAll fails CompileStatic type checking when adding a collection of subtypes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7774&quot;&gt;&lt;del&gt;GROOVY-7774&lt;/del&gt;&lt;/a&gt;: Collection addAll fails CompileStatic type checking when&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; adding a collection of subtypes&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy7774&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #376&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 456fe6f089901668fd2e98f005da7240ca778827&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2016-07-30T05:31:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7774&quot; title=&quot;Collection addAll fails CompileStatic type checking when adding a collection of subtypes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7774&quot;&gt;&lt;del&gt;GROOVY-7774&lt;/del&gt;&lt;/a&gt;: Collection addAll fails CompileStatic type checking when adding a collection of subtypes&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15401165" author="githubbot" created="Sun, 31 Jul 2016 14:31:57 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r72905143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r72905143&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5169,12 +5170,13 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@return a new Map grouped by keys&lt;/li&gt;
	&lt;li&gt;@since 1.0&lt;br/&gt;
          */&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; groupBy(Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; initial = groupEntriesBy(self, closure);&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; answer = new LinkedHashMap&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;for (Map.Entry&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; outer : initial.entrySet()) {&lt;br/&gt;
    +    public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;? extends  K, ? extends V&amp;gt;&amp;gt; groupBy(&lt;br/&gt;
    +            Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Should the wildcards be on the self parameter instead?  Just not used to seeing them on return types, but nested wildcards often confuse me :smile:&lt;/p&gt;

&lt;p&gt;    Would the closure parameter benefit from having `? extends G`?&lt;/p&gt;</comment>
                            <comment id="15401505" author="githubbot" created="Mon, 1 Aug 2016 04:03:09 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r72922015&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r72922015&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5169,12 +5170,13 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@return a new Map grouped by keys&lt;/li&gt;
	&lt;li&gt;@since 1.0&lt;br/&gt;
          */&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; groupBy(Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; initial = groupEntriesBy(self, closure);&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; answer = new LinkedHashMap&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;for (Map.Entry&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; outer : initial.entrySet()) {&lt;br/&gt;
    +    public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;? extends  K, ? extends V&amp;gt;&amp;gt; groupBy(&lt;br/&gt;
    +            Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Nevermind my comments on wildcards on self param, the more I think about it that doesn&apos;t make sense.&lt;/p&gt;

&lt;p&gt;    However, wont changing the return type to have wildcards extends mean that nothing can be put in the map that is mapped to the groupBy key which some may rely on being able to do?&lt;/p&gt;</comment>
                            <comment id="15401517" author="githubbot" created="Mon, 1 Aug 2016 04:35:41 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r72923109&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r72923109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5169,12 +5170,13 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@return a new Map grouped by keys&lt;/li&gt;
	&lt;li&gt;@since 1.0&lt;br/&gt;
          */&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; groupBy(Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; initial = groupEntriesBy(self, closure);&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; answer = new LinkedHashMap&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;for (Map.Entry&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; outer : initial.entrySet()) {&lt;br/&gt;
    +    public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;? extends  K, ? extends V&amp;gt;&amp;gt; groupBy(&lt;br/&gt;
    +            Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    It isn&apos;t exactly what I would like but groupBy calls putAll and the other changes are to make Java happy. We might have to do some casting and suppress some warnings instead.&lt;/p&gt;</comment>
                            <comment id="15401687" author="githubbot" created="Mon, 1 Aug 2016 08:09:32 +0000"  >&lt;p&gt;Github user blackdrag commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r72938131&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r72938131&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5169,12 +5170,13 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@return a new Map grouped by keys&lt;/li&gt;
	&lt;li&gt;@since 1.0&lt;br/&gt;
          */&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; groupBy(Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; initial = groupEntriesBy(self, closure);&lt;/li&gt;
	&lt;li&gt;final Map&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt; answer = new LinkedHashMap&amp;lt;G, Map&amp;lt;K, V&amp;gt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;for (Map.Entry&amp;lt;G, List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt;&amp;gt; outer : initial.entrySet()) {&lt;br/&gt;
    +    public static &amp;lt;G, K, V&amp;gt; Map&amp;lt;G, Map&amp;lt;? extends  K, ? extends V&amp;gt;&amp;gt; groupBy(&lt;br/&gt;
    +            Map&amp;lt;K, V&amp;gt; self, @ClosureParams(MapEntryOrKeyValue.class) Closure&amp;lt;G&amp;gt; closure) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    we should use the following guideline: no wildcards on self or returns, only on parameters we use as input. In mutating calls, even the (in/)out parameters should not have wildcards. Because wildcards make it very very difficult to use the container for any adding.&lt;/p&gt;</comment>
                            <comment id="15402271" author="githubbot" created="Mon, 1 Aug 2016 15:42:31 +0000"  >&lt;p&gt;Github user blackdrag commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r73000754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r73000754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5176,7 +5176,9 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;br/&gt;
                 G key = outer.getKey();&lt;br/&gt;
                 List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt; entries = outer.getValue();&lt;br/&gt;
                 Map&amp;lt;K, V&amp;gt; target = createSimilarMap(self);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;putAll(target, entries);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    you removed the putAll here because of generics?&lt;/p&gt;</comment>
                            <comment id="15403008" author="githubbot" created="Mon, 1 Aug 2016 23:11:15 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r73069688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r73069688&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5176,7 +5176,9 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;br/&gt;
                 G key = outer.getKey();&lt;br/&gt;
                 List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt; entries = outer.getValue();&lt;br/&gt;
                 Map&amp;lt;K, V&amp;gt; target = createSimilarMap(self);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;putAll(target, entries);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Yes, but feel free to play around with other options if you have a strong preference.&lt;/p&gt;</comment>
                            <comment id="15403015" author="githubbot" created="Mon, 1 Aug 2016 23:14:38 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15403018" author="paulk" created="Mon, 1 Aug 2016 23:16:10 +0000"  >&lt;p&gt;Proposed PR merged.&lt;/p&gt;</comment>
                            <comment id="15403569" author="githubbot" created="Tue, 2 Aug 2016 07:59:55 +0000"  >&lt;p&gt;Github user blackdrag commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r73109779&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r73109779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5176,7 +5176,9 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;br/&gt;
                 G key = outer.getKey();&lt;br/&gt;
                 List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt; entries = outer.getValue();&lt;br/&gt;
                 Map&amp;lt;K, V&amp;gt; target = createSimilarMap(self);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;putAll(target, entries);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    my suggestion would be to change putAll to `public static &amp;lt;K, V&amp;gt; Map&amp;lt;K, V&amp;gt; putAll(Map&amp;lt;K, V&amp;gt; self, Collection&amp;lt;? extends Map.Entry&amp;lt;? extends K, ? extends V&amp;gt;&amp;gt; entries) `&lt;br/&gt;
    which more or less adds `? extends` before the Map.Entry part and to change back to use the putAll instead of the loop&lt;/p&gt;</comment>
                            <comment id="15403834" author="githubbot" created="Tue, 2 Aug 2016 11:53:32 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/376#discussion_r73140995&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/376#discussion_r73140995&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java &amp;#8212;&lt;br/&gt;
    @@ -5176,7 +5176,9 @@ public static Map groupBy(Object[] self, List&amp;lt;Closure&amp;gt; closures) {&lt;br/&gt;
                 G key = outer.getKey();&lt;br/&gt;
                 List&amp;lt;Map.Entry&amp;lt;K, V&amp;gt;&amp;gt; entries = outer.getValue();&lt;br/&gt;
                 Map&amp;lt;K, V&amp;gt; target = createSimilarMap(self);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;putAll(target, entries);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Nice suggestion. Done.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>