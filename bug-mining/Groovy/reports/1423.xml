<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:18:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4386] static import does not work in Groovy 1.7.4</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4386</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Static import does not work from Groovy scripts.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;foo/Constants.groovy:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;package foo

class Constants {
    static final PI = 3.14
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;foo/Test.groovy&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;package foo
import static foo.Constants.PI

class Test {
    static main(args) {
        println(&quot;pi=&quot; + PI)
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When you try to run this (without compling with groovyc first), you get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;groovy -cp . foo\Test.groovy
Caught: groovy.lang.MissingPropertyException: No such property: PI for class: foo.Test
        at foo.Test.main(Test.groovy:6)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you first run &quot;groovyc foo\Constants.groovy&quot; the above command succeeds.&lt;/p&gt;



</description>
                <environment>Windows, Groovy Version: 1.7.4 JVM: 1.6.0_21&lt;br/&gt;
</environment>
        <key id="12812172">GROOVY-4386</key>
            <summary>static import does not work in Groovy 1.7.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="frodesto">Frode Stokke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Sep 2010 01:21:01 +0000</created>
                <updated>Tue, 7 Apr 2015 19:13:01 +0000</updated>
                            <resolved>Mon, 13 Dec 2010 16:59:53 +0000</resolved>
                                    <version>1.7.4</version>
                                    <fixVersion>1.7.6</fixVersion>
                    <fixVersion>1.8-beta-3</fixVersion>
                                        <due></due>
                            <votes>15</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14470147" author="frodesto" created="Mon, 11 Oct 2010 06:13:07 +0000"  >&lt;p&gt;Same problem with Groovy 1.7.5&lt;/p&gt;</comment>
                            <comment id="14470408" author="gjoseph" created="Tue, 23 Nov 2010 08:26:39 +0000"  >&lt;p&gt;Any feedback on this ?&lt;/p&gt;</comment>
                            <comment id="14470362" author="blackdrag" created="Tue, 23 Nov 2010 09:02:44 +0000"  >&lt;p&gt;I am assigning this to Paul as static imports are his baby...&lt;/p&gt;</comment>
                            <comment id="14470499" author="blackdrag" created="Tue, 23 Nov 2010 09:03:59 +0000"  >&lt;p&gt;unless Roshan wants to take care of this... I am sure Paul is not intending on keeping this one&lt;/p&gt;</comment>
                            <comment id="14470517" author="alexeysergeev" created="Tue, 7 Dec 2010 09:22:01 +0000"  >&lt;p&gt;This is very serious bug and the main reason why I can&apos;t migrate my applications to latest Groovy &amp;amp; Grails. Could anybody from Groovy team cope with the this?&lt;/p&gt;</comment>
                            <comment id="14470508" author="hamletdrc" created="Tue, 7 Dec 2010 10:31:08 +0000"  >&lt;p&gt;Is this really a bug? PI is defined in a class named Constants. if you run &quot;groovy Test.groovy&quot; without first compiling COnstants.groovy into  Constants.class then the class is not available and it is not found. If you compile Constants.groovy then Constants.class exists on the classpath and it is found. This used to work in a past version? That surprises me. &lt;/p&gt;</comment>
                            <comment id="14470553" author="achernyakevich" created="Wed, 8 Dec 2010 06:40:57 +0000"  >&lt;p&gt;This is serious backward compatibility issue. Because, for example, for me the same as for Mr. Sergeev this completely prevent from migration to newer version of Grails 1.3.5 that use Groovy 1.7.5 because huge number of customer specific scripts will need to be manually updated to avoid this issue as soon as in older version of Groovy 1.7.2 that Grails 1.3.1 is based on there was not this bug.&lt;/p&gt;

&lt;p&gt;And there was only minor version number changes but so radical influence.&lt;/p&gt;</comment>
                            <comment id="14470470" author="blackdrag" created="Wed, 8 Dec 2010 07:19:06 +0000"  >&lt;p&gt;when compiling Test.groovy, the compiler should recognize, that there is a class foo.Constants and enqueue it for compiling. But in the end that is not even important. The compiler should recognize the static import and see that PI is imported that way. In theory the compiler could, without compiling  Constants, issue the needed bytecode for this. The Groovy compiler does normally not inline, so that would be a PropertyExpression with foo.Constants as ClassExpression in the object part and PI as property string. There is one problem though with this. from the static import alone and without looking at the class the compiler cannot easily know if we import a method or an constant/static property. Also the problem is on what to do should the name PI reappear in the class... which is not the case here, but it is a potential problem.&lt;/p&gt;


&lt;p&gt;Maybe we should make our lifes here more easy than we did in the past. Maybe we should simply say that if you static import, that you cannot declare a property or method of that name and that if you use the name as property or method, that then we will do the redirection. &lt;/p&gt;

&lt;p&gt;@Alexander, that radical influence was surely not intended and was by accident. Actually it is not easy to write test cases for this kind of thing.&lt;/p&gt;</comment>
                            <comment id="14479382" author="paulk" created="Sun, 12 Dec 2010 16:21:38 +0000"  >&lt;p&gt;Just confirming that it is a regression between 1.7.3 and 1.7.4.&lt;/p&gt;</comment>
                            <comment id="14470456" author="blackdrag" created="Mon, 13 Dec 2010 12:11:56 +0000"  >&lt;p&gt;I attached two possible patches. Both try somehow to give ResolveVisitor its own phase, without disturbing too muhc of the overall infrastructure. Both are quite a hack. While p1 makes a more fundamental change in that every SourceUnitOperation might be run again, p2 is very specific to ResolveVisitor. I am not sure yet they really fix the issue at hand though, would be nice if that could be confirmed. If p2 fixes the problem I would vote for having p2 in 1.8 and 1.7. p1 is maybe good only for 1.8&lt;/p&gt;</comment>
                            <comment id="14470598" author="paulk" created="Mon, 13 Dec 2010 16:59:53 +0000"  >&lt;p&gt;Applied Jochen&apos;s patch (p2).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722759" name="p1.patch" size="1452" author="blackdrag" created="Mon, 13 Dec 2010 12:08:46 +0000"/>
                            <attachment id="12722710" name="p2.patch" size="1229" author="blackdrag" created="Mon, 13 Dec 2010 12:09:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bmuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>