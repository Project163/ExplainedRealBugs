<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:21:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10996] Compilation issue in Groovy 4</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10996</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;We migrate the application to Groovy 4 and got an issue:&lt;/p&gt;

&lt;p&gt;1) We use&#160;GroovyClassLoader to load *.groovy written classes to a classloader&lt;/p&gt;

&lt;p&gt;2) Before the migration we used Groovy 3.0.15.&lt;/p&gt;

&lt;p&gt;3) After the migration to 4.0.10 I&apos;ve got the following error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Only classes and closures can be used &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt; in @org.openl.rules.ruleservice.core.annotations.ServiceExtraMethod
&#160;@ line 18, column 30.
&#160; &#160; &#160; &#160;@ServiceExtraMethod(value = org.openl.generated.services.ServiceExtraMethodHandler2Impl.class)
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ^ &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;4) If the annotation definition changed from @ServiceExtraMethod(value = org.openl.generated.services.ServiceExtraMethodHandler2Impl.class) to @ServiceExtraMethod(value = org.openl.generated.services.ServiceExtraMethodHandler2Impl) then the code is compiled successfully.&lt;/p&gt;

&lt;p&gt;Why does the compilation start to fail with .class? I can&apos;t reproduce the same issue on IntelliJ IDEA.&lt;/p&gt;

&lt;p&gt;Can you suggest what to try? Is it expected for Groovy to stop supporting .class in Groovy 4?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13530645">GROOVY-10996</key>
            <summary>Compilation issue in Groovy 4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="mkamalov">Marat Kamalov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Mar 2023 15:28:00 +0000</created>
                <updated>Wed, 23 Aug 2023 09:07:56 +0000</updated>
                            <resolved>Tue, 18 Apr 2023 16:29:41 +0000</resolved>
                                                    <fixVersion>3.0.18</fixVersion>
                    <fixVersion>4.0.12</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17711103" author="emilles" created="Tue, 11 Apr 2023 20:22:00 +0000"  >&lt;p&gt;Can you provide a small script that demonstrates the issue?&#160; I think it is resolving &quot;foo.bar.Baz.class&quot; to a PropertyExpression instead of a ClassExpression.&lt;/p&gt;</comment>
                            <comment id="17712814" author="emilles" created="Sun, 16 Apr 2023 16:48:46 +0000"  >&lt;p&gt;I get no error for this script under Groovy 4.0.11.  We need a simple recreation script or project.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; gcl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyClassLoader()
gcl.parseClass &apos;&apos;&apos;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.annotation.*
@Retention(RetentionPolicy.CLASS)
@Target(ElementType.TYPE)
@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Tag {
  &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; value()
}
&apos;&apos;&apos;
gcl.parseClass &apos;&apos;&apos;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Baz {
}
&apos;&apos;&apos;
gcl.parseClass &apos;&apos;&apos;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar
@Tag(value = foo.bar.Baz.class)
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Pogo {
}
&apos;&apos;&apos;
print gcl.loadClass(&lt;span class=&quot;code-quote&quot;&gt;&apos;foo.bar.Pogo&apos;&lt;/span&gt;).newInstance()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17712835" author="mkamalov" created="Sun, 16 Apr 2023 19:33:05 +0000"  >&lt;p&gt;I hope this message finds you well. I wanted to share some information about a Maven project I created for you that includes JUnit tests, specifically regarding the Groovy classes Service1, Service2, Service3, and Service4. See attached file: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13057303/13057303_groovy_bug.zip&quot; title=&quot;groovy_bug.zip attached to GROOVY-10996&quot;&gt;groovy_bug.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;It appears that there might be a bug related to the import of classes with different package names. For instance, you mentioned that while a class with a simple name and import (Service4) works, a class with the same type but with a full package name defined does not work. This discrepancy could indicate a potential issue with the import statement or package declaration in your code.&lt;/p&gt;

&lt;p&gt;I hope this information is helpful in troubleshooting the bug you encountered. If you need further assistance or have any other questions, please feel free to ask.&lt;/p&gt;

&lt;p&gt;Apologies for any inconvenience caused by the formatting of my code. Due to time constraints, I was unable to thoroughly format it.&lt;/p&gt;</comment>
                            <comment id="17712837" author="mkamalov" created="Sun, 16 Apr 2023 19:42:35 +0000"  >&lt;p&gt;Additional information:&lt;/p&gt;

&lt;p&gt;If you try to change&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.groovy&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;groovy&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;4.0.11&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt; &#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.codehaus.groovy&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;groovy&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;3.0.17&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;All tests have successfully passed with Groovy 3.0.17, which indicates that there might be a bug present.&lt;/p&gt;</comment>
                            <comment id="17713652" author="emilles" created="Tue, 18 Apr 2023 16:29:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/1aa62736c71be08a75581a451805a3e7f5514589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/1aa62736c71be08a75581a451805a3e7f5514589&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13070383">GROOVY-8184</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13438011">GROOVY-10571</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13057303" name="groovy_bug.zip" size="22402" author="mkamalov" created="Sun, 16 Apr 2023 19:24:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gy60:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>