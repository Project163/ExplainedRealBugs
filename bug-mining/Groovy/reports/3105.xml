<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:52:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5396] Groovy classes can&apos;t see package-local properties from a super class</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5396</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;If I have a standard gradle project setup (attached):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;build.gradle
src/
  main/
    java/
      test/
        AbstractBase.java
        SamePackageJavaBase.java
    groovy/
      test/
        GroovyBase.groovy
        GroovyBaseWithSuper.groovy
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have a single Abstract base class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;AbstractBase.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test ;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractBase {
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; base ;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; AbstractBase( &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; base ) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.base = base ;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; mult( &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n ) ;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And a class &lt;tt&gt;GroovyBase&lt;/tt&gt; that extends this class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;GroovyBase.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GroovyBase &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractBase {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; GroovyBase( &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n ) {
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;( n )
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; mult( &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n ) {
    n * base
  }

  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main( args ) {
    println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyBase( 10 ).mult( 3 )
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When running this (using the Gradle script in the attachment), I get the exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; groovy.lang.MissingPropertyException: No such property: base &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; class: test.GroovyBase
Possible solutions: class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Changing the line&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    n * base
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    n * &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.base
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or making the &lt;tt&gt;base&lt;/tt&gt; field public in the &lt;tt&gt;AbstractBase&lt;/tt&gt; class makes it work.&lt;/p&gt;

&lt;p&gt;It&apos;s as if the classes are considered to be in different packages for some things, but not for others.&lt;/p&gt;

&lt;p&gt;Thinking about it, not sure if this is a Gradle bug or a Groovy cross compiler one.&lt;/p&gt;

&lt;p&gt;To run the tests, unpack the attachment, and run:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Test the above failing example
gradle -Pmain=test.GroovyBase
# Test the addition of &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.base
gradle -Pmain=test.GroovyBaseWithSuper
# Test the Java extension of the Abstract &lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;gradle -Pmain=test.SamePackageJavaBase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can change the groovy version from 1.8.6 by passing (for example) &lt;tt&gt;-Pgroovy=groovy=2.0.0-beta-2&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818157">GROOVY-5396</key>
            <summary>Groovy classes can&apos;t see package-local properties from a super class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="tim_yates">Tim Yates</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Apr 2012 04:54:41 +0000</created>
                <updated>Wed, 1 Feb 2017 23:18:59 +0000</updated>
                            <resolved>Fri, 26 Aug 2016 00:09:38 +0000</resolved>
                                    <version>2.0-beta-1</version>
                    <version>1.8.6</version>
                                    <fixVersion>2.4.8</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15429669" author="paulk" created="Sun, 21 Aug 2016 10:30:30 +0000"  >&lt;p&gt;Not gradle related. Creating the java class file by hand leads to the same problem as does creating an equivalent groovy class file using @PackageScope for the field. And even in the same source unit as per below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GroovyBase &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractBase {
  GroovyBase(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n) { &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(n) }
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; mult(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n) { n * base }
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main(args) { println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyBase(10).mult(3) }
}

&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractBase {
  @groovy.transform.PackageScope &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; base
  AbstractBase(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; base) { &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.base = base }
  &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; mult(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15436760" author="githubbot" created="Thu, 25 Aug 2016 12:33:52 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/396&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5396&quot; title=&quot;Groovy classes can&amp;#39;t see package-local properties from a super class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5396&quot;&gt;&lt;del&gt;GROOVY-5396&lt;/del&gt;&lt;/a&gt;: Groovy classes can&apos;t see package-local properties from a&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; super class&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy5396&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/396.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/396.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #396&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ef76efce7aa71f1e4c01cbaaa37a2f62a2fb0f3a&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2016-08-25T12:32:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5396&quot; title=&quot;Groovy classes can&amp;#39;t see package-local properties from a super class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5396&quot;&gt;&lt;del&gt;GROOVY-5396&lt;/del&gt;&lt;/a&gt;: Groovy classes can&apos;t see package-local properties from a super class&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15438176" author="githubbot" created="Fri, 26 Aug 2016 00:08:57 +0000"  >&lt;p&gt;Github user paulk-asert closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/396&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15438178" author="paulk" created="Fri, 26 Aug 2016 00:09:38 +0000"  >&lt;p&gt;Finally fixed! Thanks for spotting the issue!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722991" name="FailingAbstractSuper.tgz" size="913" author="tim_yates" created="Thu, 5 Apr 2012 04:54:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cm67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>