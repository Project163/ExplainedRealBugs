<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:16:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7890] Lack of compilation error while statically compiled the closure.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7890</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Expecting compile time error that cannot reference non-static variable from static context but stacktrace presents runtime MissingPropertyException. @CompileStatic is enabled on the class level. The code block to reproduce the issue can be found in the attached link. It also includes the output of running the sample code.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/dwarszawski/41aed2cf53486a5603447f54a44b4ac3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/dwarszawski/41aed2cf53486a5603447f54a44b4ac3&lt;/a&gt; &lt;/p&gt;</description>
                <environment>Linux version 3.13.0-24-generic (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) )</environment>
        <key id="12991582">GROOVY-7890</key>
            <summary>Lack of compilation error while statically compiled the closure.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="dwarszawski">Damian Warszawski</reporter>
                        <labels>
                            <label>features</label>
                    </labels>
                <created>Thu, 21 Jul 2016 19:25:14 +0000</created>
                <updated>Mon, 29 Aug 2022 21:05:25 +0000</updated>
                            <resolved>Wed, 22 Dec 2021 15:25:17 +0000</resolved>
                                    <version>2.4.5</version>
                    <version>2.4.7</version>
                                    <fixVersion>4.0.0-rc-2</fixVersion>
                    <fixVersion>2.5.19</fixVersion>
                    <fixVersion>3.0.13</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15389304" author="blackdrag" created="Fri, 22 Jul 2016 10:47:09 +0000"  >&lt;p&gt;confirmed and independent of @CompileStatic&lt;/p&gt;</comment>
                            <comment id="15389353" author="paulk" created="Fri, 22 Jul 2016 11:34:12 +0000"  >&lt;p&gt;Agreed on the @CompileStatic case.&lt;/p&gt;

&lt;p&gt;For me, the dynamic case is worthy of debate. One might expect that for a dynamic language the following would work. And it does now.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; foo
  Foo(List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; foo) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.foo = foo
  }
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; bar() {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; foobar = &lt;span class=&quot;code-quote&quot;&gt;&quot;foobar&quot;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; foobar.collectReplacements {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ((it as &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) in foo) ? &lt;span class=&quot;code-quote&quot;&gt;&apos;o&apos;&lt;/span&gt; : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    }
  }
}
Foo.metaClass.&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;.getFoo &amp;lt;&amp;lt; { [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;] }
Foo o1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;])
println(o1.bar()) &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; foobor&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think it is ugly style and I would highly discourage it, but it worries me that existing code might be relying on this behavior.&lt;/p&gt;</comment>
                            <comment id="15390570" author="blackdrag" created="Sat, 23 Jul 2016 06:27:57 +0000"  >&lt;p&gt;ok, let us go a bit more into detail&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;X {
  def b
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; a=b
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;that one fails, As does this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;X {
  def b
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; foo(){b}
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which shows, it is not per se legal in Groovy to have access to a &quot;static dynamic&quot; variable. Now in the case at hand a closure is involved, which automatically opens a dynamic context. Which also means the access to foo is not done in a static context.  So for the dynamic case I would not make this an error. &lt;/p&gt;

&lt;p&gt;For the comile static case I think this should be a compilation error though.&lt;/p&gt;</comment>
                            <comment id="15395460" author="paulk" created="Wed, 27 Jul 2016 11:09:12 +0000"  >&lt;p&gt;It looks like in &lt;tt&gt;StaticTypeCheckingVisitor#visitVariableExpression&lt;/tt&gt; we call &lt;tt&gt;tryVariableExpressionAsProperty&lt;/tt&gt; which at first glance seems to be looking for an instance property. I would have though it should take into account that when the closure is in a static context the class will end up being the delegate. I haven&apos;t had time to properly investigate yet though.&lt;/p&gt;</comment>
                            <comment id="17463894" author="emilles" created="Wed, 22 Dec 2021 15:25:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/c2a6c4b2fc0ff2c43c61425900725c78165d2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/c2a6c4b2fc0ff2c43c61425900725c78165d2672&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://gist.github.com/dwarszawski/41aed2cf53486a5603447f54a44b4ac3]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31c9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>