<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:14:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3878] Can&apos;t call Java varargs method when it&apos;s mixed in to toplevel</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3878</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Take this Java class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Dsl.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Dsl {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void novarargs(java.util.List s) {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;novarargs ok&quot;&lt;/span&gt;);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void varargs(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;... s) {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;varargs ok&quot;&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run it with Groovy:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;UseDsl.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metaClass.mixin(Dsl)

Dsl.novarargs([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;])
novarargs([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;])

Dsl.varargs(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;)
varargs(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;)    &lt;span class=&quot;code-comment&quot;&gt;// fails here&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The last one fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javac Dsl.java &amp;amp;&amp;amp; groovy UseDsl.groovy 

Caught: java.lang.IllegalArgumentException: wrong number of arguments
	at UseDsl.run(UseDsl.groovy:7)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Java 1.5, OS X Leopard.</environment>
        <key id="12818040">GROOVY-3878</key>
            <summary>Can&apos;t call Java varargs method when it&apos;s mixed in to toplevel</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="rinkrank">Aslak Hellesoy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Nov 2009 21:30:35 +0000</created>
                <updated>Tue, 7 Apr 2015 19:13:08 +0000</updated>
                            <resolved>Fri, 13 Nov 2009 07:20:09 +0000</resolved>
                                    <version>1.6.5</version>
                    <version>1.7-beta-2</version>
                                    <fixVersion>1.6.6</fixVersion>
                    <fixVersion>1.7-rc-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14478734" author="paulk" created="Thu, 12 Nov 2009 00:44:13 +0000"  >&lt;p&gt;One ugly workaround until fixed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;varargs([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;] as &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also noted that normal category usage appears to work fine:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;use(Dsl) {
    varargs(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478742" author="paulk" created="Thu, 12 Nov 2009 01:02:55 +0000"  >&lt;p&gt;Just debugging what is happening (using the above script):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;println &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metaClass.methods.grep(~&lt;span class=&quot;code-quote&quot;&gt;&apos;.*vararg.*&apos;&lt;/span&gt;).join(&lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;yields:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.codehaus.groovy.runtime.metaclass.MixinInstanceMetaMethod@1cd2d49[name: varargs params: [class [Ljava.lang.Object;] returns: void owner: class ConsoleScript9]
org.codehaus.groovy.runtime.metaclass.MixinInstanceMetaMethod@12a09d5[name: novarargs params: [interface java.util.List] returns: void owner: class ConsoleScript9]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468159" author="paulk" created="Thu, 12 Nov 2009 02:27:03 +0000"  >&lt;p&gt;In fact, once this is run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;varargs([&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;] as &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;then this works from that point on:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;varargs(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468052" author="paulk" created="Thu, 12 Nov 2009 04:23:22 +0000"  >&lt;p&gt;Planning on applying the attached patch in a day or two unless someone can think of a better way to fix this.&lt;/p&gt;</comment>
                            <comment id="14468065" author="blackdrag" created="Thu, 12 Nov 2009 06:37:29 +0000"  >&lt;p&gt;Paul, that might fix varargs(Object... s), but it does not fix varargs(String... s) or varargs(Object a, Object... s) or most other cases. So I am for not applying that patch, it leads to the false assumption the bug has been fixed and will later cause problems again&lt;/p&gt;</comment>
                            <comment id="14478745" author="paulk" created="Thu, 12 Nov 2009 06:47:05 +0000"  >&lt;p&gt;Yes, I found the first case you mentioned straight after posting the previous patch. I assumed the second case was not broken but it too is broken. Looks better to hook into some existing code if we can.&lt;/p&gt;</comment>
                            <comment id="14468047" author="roshandawrani" created="Thu, 12 Nov 2009 21:13:08 +0000"  >&lt;p&gt;Attaching an alternative patch for review and its test files.&lt;/p&gt;

&lt;p&gt;Test can be run as:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;javac NewDsl.java &amp;amp;&amp;amp; groovy TestNewDsl.groovy
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468166" author="roshandawrani" created="Thu, 12 Nov 2009 22:22:17 +0000"  >&lt;p&gt;Attaching a slightly easier version of TestNewDsl.groovy for review.&lt;/p&gt;</comment>
                            <comment id="14468066" author="blackdrag" created="Thu, 12 Nov 2009 22:48:32 +0000"  >&lt;p&gt;looks good to me&lt;/p&gt;</comment>
                            <comment id="14478741" author="paulk" created="Fri, 13 Nov 2009 07:20:09 +0000"  >&lt;p&gt;I had a similar solution to Roshan&apos;s though I had to do a pre-emptive call to method.getParameterTypes() in order for the testcase that I added to pass. The only difference is that my testcase uses a Groovy mixin class and is located in the same script. It would be nice to push that logic somewhere else but I haven&apos;t had time yet to investigate.&lt;/p&gt;</comment>
                            <comment id="14468068" author="rinkrank" created="Mon, 16 Nov 2009 23:19:45 +0000"  >&lt;p&gt;Thanks for fixing this guys!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722411" name="3678_v17x.txt" size="633" author="roshandawrani" created="Thu, 12 Nov 2009 21:13:08 +0000"/>
                            <attachment id="12722477" name="NewDsl.java" size="712" author="roshandawrani" created="Thu, 12 Nov 2009 21:13:08 +0000"/>
                            <attachment id="12722410" name="TestNewDsl.groovy" size="816" author="roshandawrani" created="Thu, 12 Nov 2009 22:22:17 +0000"/>
                            <attachment id="12722237" name="groovy3878_mixin_varargs.patch" size="1025" author="paulk_asert" created="Thu, 12 Nov 2009 04:23:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c6mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>