<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:28:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5668] Input stream not closed</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5668</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I am using groovy as a language for jasper reports in an enterprise application. When undeploying the application after having created one or more reports, I get a lot of warnings like the ones that follow (the stack traces are with Groovy 2.0.1; I get similar ones with Groovy 1.8.7).&lt;/p&gt;

&lt;p&gt;[#|2012-08-20T12:20:36.250+0300|WARNING|glassfish3.1.2|javax.enterprise.system.core.classloading.com.sun.enterprise.loader|_ThreadID=78;_ThreadName=Thread-7;|Input stream has been finalized or forced closed without being explicitly closed; stream instantiation reported in following stack trace&lt;br/&gt;
java.lang.Throwable&lt;br/&gt;
	at com.sun.enterprise.loader.ASURLClassLoader$SentinelInputStream.&amp;lt;init&amp;gt;(ASURLClassLoader.java:1230)&lt;br/&gt;
	at com.sun.enterprise.loader.ASURLClassLoader$InternalJarURLConnection.getInputStream(ASURLClassLoader.java:1338)&lt;br/&gt;
	at java.net.URL.openStream(URL.java:1035)&lt;br/&gt;
	at org.codehaus.groovy.control.SourceExtensionHandler.getRegisteredExtensions(SourceExtensionHandler.java:44)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilerConfiguration.getScriptExtensions(CompilerConfiguration.java:636)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader$1$1.run(GroovyClassLoader.java:76)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader$1$1.run(GroovyClassLoader.java:74)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader$1.loadGroovySource(GroovyClassLoader.java:74)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveToScript(ResolveVisitor.java:385)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveToClass(ResolveVisitor.java:712)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:275)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveFromModule(ResolveVisitor.java:648)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:275)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:243)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveOrFail(ResolveVisitor.java:227)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveOrFail(ResolveVisitor.java:239)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.resolveOrFail(ResolveVisitor.java:235)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.visitClass(ResolveVisitor.java:1276)&lt;br/&gt;
	at org.codehaus.groovy.control.ResolveVisitor.startResolving(ResolveVisitor.java:148)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit$9.call(CompilationUnit.java:621)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:900)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:564)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:513)&lt;br/&gt;
	at net.sf.jasperreports.compilers.JRGroovyCompiler.compileUnits(JRGroovyCompiler.java:96)&lt;br/&gt;
	at net.sf.jasperreports.engine.design.JRAbstractCompiler.compileReport(JRAbstractCompiler.java:188)&lt;br/&gt;
	at net.sf.jasperreports.engine.JasperCompileManager.compileReport(JasperCompileManager.java:212)&lt;br/&gt;
	at net.sf.jasperreports.engine.JasperCompileManager.compileReport(JasperCompileManager.java:198)&lt;br/&gt;
...&lt;/p&gt;



&lt;p&gt;[#|2012-08-20T11:05:34.432+0300|WARNING|glassfish3.1.2|javax.enterprise.system.core.classloading.com.sun.enterprise.loader|_ThreadID=73;_ThreadName=Thread-7;|Input stream has been finalized or forced closed without being explicitly closed; stream instantiation reported in following stack trace&lt;br/&gt;
java.lang.Throwable&lt;br/&gt;
	at com.sun.enterprise.loader.ASURLClassLoader$SentinelInputStream.&amp;lt;init&amp;gt;(ASURLClassLoader.java:1230)&lt;br/&gt;
	at com.sun.enterprise.loader.ASURLClassLoader$InternalJarURLConnection.getInputStream(ASURLClassLoader.java:1338)&lt;br/&gt;
	at java.net.URL.openStream(URL.java:1035)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.registerExtensionModuleFromMetaInf(MetaClassRegistryImpl.java:163)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.registerClasspathModules(MetaClassRegistryImpl.java:153)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&amp;lt;init&amp;gt;(MetaClassRegistryImpl.java:108)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&amp;lt;init&amp;gt;(MetaClassRegistryImpl.java:70)&lt;br/&gt;
	at groovy.lang.GroovySystem.&amp;lt;clinit&amp;gt;(GroovySystem.java:33)&lt;br/&gt;
	at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:162)&lt;br/&gt;
	at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:192)&lt;br/&gt;
	at Blank32A4_1345449884504_251660.$getStaticMetaClass(calculator_Blank32A4_1345449884504_251660)&lt;br/&gt;
	at Blank32A4_1345449884504_251660.&amp;lt;init&amp;gt;(calculator_Blank32A4_1345449884504_251660)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:525)&lt;br/&gt;
	at java.lang.Class.newInstance0(Class.java:372)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:325)&lt;br/&gt;
	at net.sf.jasperreports.engine.design.JRAbstractJavaCompiler.loadEvaluator(JRAbstractJavaCompiler.java:98)&lt;br/&gt;
	at net.sf.jasperreports.engine.design.JRAbstractCompiler.loadEvaluator(JRAbstractCompiler.java:320)&lt;br/&gt;
	at net.sf.jasperreports.engine.JasperCompileManager.loadEvaluator(JasperCompileManager.java:237)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRFillDataset.createCalculator(JRFillDataset.java:428)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRBaseFiller.&amp;lt;init&amp;gt;(JRBaseFiller.java:363)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRVerticalFiller.&amp;lt;init&amp;gt;(JRVerticalFiller.java:77)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRVerticalFiller.&amp;lt;init&amp;gt;(JRVerticalFiller.java:87)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRVerticalFiller.&amp;lt;init&amp;gt;(JRVerticalFiller.java:57)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRFiller.createFiller(JRFiller.java:142)&lt;br/&gt;
	at net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:52)&lt;br/&gt;
	at net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:417)&lt;br/&gt;
....&lt;/p&gt;</description>
                <environment>Windows 7, GlassFish 3.1.2, Java 1.7.0_03</environment>
        <key id="12818186">GROOVY-5668</key>
            <summary>Input stream not closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="chrisie">Christina Kaskoura</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Aug 2012 04:28:18 +0000</created>
                <updated>Tue, 11 Sep 2012 01:15:14 +0000</updated>
                            <resolved>Wed, 22 Aug 2012 16:48:01 +0000</resolved>
                                    <version>1.8.7</version>
                    <version>2.0.1</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.2</fixVersion>
                    <fixVersion>2.1.0-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14479982" author="paulk" created="Tue, 21 Aug 2012 05:32:53 +0000"  >&lt;p&gt;As a workaround, if you are not using Groovy++ or supplying a user modified set of extensions, you can probably just hack/remove the &quot;META-INF/services/org.codehaus.groovy.source.Extensions&quot; file from the groovy jar. It contains the &quot;groovy&quot; extension but that is the default anyway.&lt;/p&gt;</comment>
                            <comment id="14473023" author="chrisie" created="Tue, 21 Aug 2012 06:02:31 +0000"  >&lt;p&gt;Thank you for the suggestion. Unfortunately this is not very practical in my case since we&apos;re using Maven to manage all the project&apos;s dependencies so this would mean having to manually install the &quot;patched&quot; jar on every machine where we need to build to project, which is a bit of a hassle...&lt;/p&gt;</comment>
                            <comment id="14480000" author="paulk" created="Tue, 21 Aug 2012 06:46:40 +0000"  >&lt;p&gt;Sure, the suggestion wasn&apos;t meant as a long-term approach - more as added feedback that if we fixed the stream closing that the problem would go away for you. In any case, I have applied a fix which should be in the snapshots repos shortly once the CI server gets to do its thing - so perhaps that is more worthy of testing if temporarily pointing to the codehaus snapshots repo is viable for you. Otherwise, it will hopefully be there when we next do a release (no finalised schedule at this point).&lt;/p&gt;</comment>
                            <comment id="14473146" author="chrisie" created="Tue, 21 Aug 2012 07:59:29 +0000"  >&lt;p&gt;Thanks a lot for your feedback. I tried the workaround you proposed and I no longer get the first stack trace above, but I am still getting the second one. I might also give the snapshot a try later on if we don&apos;t manage to find any other alternative.&lt;/p&gt;</comment>
                            <comment id="14479999" author="paulk" created="Tue, 21 Aug 2012 23:06:12 +0000"  >&lt;p&gt;Yes, I couldn&apos;t think of a quick workaround for the second case but it shouldn&apos;t occur for the 1.8.7 jar. In any case, if you get a chance to try the 2.0.2 or 2.1.0 snapshot jars (as of a few hours ago) they should have both problems fixed.&lt;/p&gt;</comment>
                            <comment id="14473224" author="paulk" created="Wed, 22 Aug 2012 16:48:01 +0000"  >&lt;p&gt;I think it should be fixed now but please provide feedback if you find any issues. Thanks for reporting the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bzyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>