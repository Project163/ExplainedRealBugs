<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:54:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8065] Map created as org.springframework.http.HttpHeaders is empty in 2.4.8, works fine in 2.4.7</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8065</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;There appears to be a regression in Groovy 2.4.8 that causes it to silently create an empty map when it&apos;s asked to create it as an instance of Spring Framework&apos;s &lt;tt&gt;HttpHeaders&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Here&apos;s a minimal reproduction:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Grab(&quot;org.springframework:spring-web:4.3.5.RELEASE&quot;)
import org.springframework.http.HttpHeaders

def headers = [&apos;Content-Type&apos;       : &apos;application.json&apos;,
               &apos;Content-Disposition&apos;: &apos;test.zip&apos;] as HttpHeaders

println headers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It works as expected with 2.4.7:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ sdk use groovy 2.4.7 &amp;amp;&amp;amp; groovy asHttpHeaders.groovy

Using groovy version 2.4.7 in this shell.
[Content-Type:[application.json], Content-Disposition:[test.zip]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With 2.4.8 the map is empty:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ sdk use groovy 2.4.8 &amp;amp;&amp;amp; groovy asHttpHeaders.groovy

Using groovy version 2.4.8 in this shell.
[:]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Java 1.8.0_102&lt;br/&gt;
OS X 10.10.5</environment>
        <key id="13037700">GROOVY-8065</key>
            <summary>Map created as org.springframework.http.HttpHeaders is empty in 2.4.8, works fine in 2.4.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="awilkinson">Andy Wilkinson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2017 13:47:25 +0000</created>
                <updated>Fri, 7 Jan 2022 18:07:10 +0000</updated>
                            <resolved>Sat, 28 Jan 2017 05:17:58 +0000</resolved>
                                    <version>2.4.8</version>
                                    <fixVersion>2.4.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15839652" author="paulk" created="Thu, 26 Jan 2017 13:13:35 +0000"  >&lt;p&gt;It looks like this commit:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/2c226838ed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/2c226838ed&lt;/a&gt;&lt;br/&gt;
for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5985&quot; title=&quot;Invalid hash key &amp;quot;serialVersionUID&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5985&quot;&gt;&lt;del&gt;GROOVY-5985&lt;/del&gt;&lt;/a&gt; caused this change.&lt;/p&gt;</comment>
                            <comment id="15839658" author="paulk" created="Thu, 26 Jan 2017 13:19:23 +0000"  >&lt;p&gt;Link possible cause - the idea was to make normal map semantics for put come into play when an attempt is made to &quot;set&quot; a read-only property for a map - the priority for the normal semantics path should have been lower than when a custom set method is encountered. I am just testing a fix the re-adjusts the priority.&lt;/p&gt;</comment>
                            <comment id="15839697" author="githubbot" created="Thu, 26 Jan 2017 13:52:41 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/480&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/480&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8065&quot; title=&quot;Map created as org.springframework.http.HttpHeaders is empty in 2.4.8, works fine in 2.4.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8065&quot;&gt;&lt;del&gt;GROOVY-8065&lt;/del&gt;&lt;/a&gt;: Map created as org.springframework.http.HttpHeaders is e&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;mpty in 2.4.8, works fine in 2.4.7&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy8065&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/480.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/480.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #480&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6ff8ae172dc7f67fe23911970115f27f0db42106&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2017-01-26T13:51:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8065&quot; title=&quot;Map created as org.springframework.http.HttpHeaders is empty in 2.4.8, works fine in 2.4.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8065&quot;&gt;&lt;del&gt;GROOVY-8065&lt;/del&gt;&lt;/a&gt;: Map created as org.springframework.http.HttpHeaders is empty in 2.4.8, works fine in 2.4.7&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15843797" author="githubbot" created="Sat, 28 Jan 2017 03:23:24 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/480&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/480&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15843868" author="paulk" created="Sat, 28 Jan 2017 05:17:58 +0000"  >&lt;p&gt;Proposed PR merged&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12817165">GROOVY-5001</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12816743">GROOVY-5985</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i396rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>