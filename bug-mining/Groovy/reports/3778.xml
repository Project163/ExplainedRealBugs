<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:06:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9432] ClassNotFoundException when attempting to use Picocli via Grapes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9432</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;(Issue originally raised as: &lt;a href=&quot;https://github.com/remkop/picocli/issues/970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/remkop/picocli/issues/970&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Consider the following minimal script:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Grab(&apos;info.picocli:picocli:4.2.0&apos;)
import groovy.cli.picocli.CliBuilder

def cli = new CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Under Groovy 2.5.9, this runs without error; with 3.0.1, however, I see:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ groovy cli.groovy 
Caught: java.lang.NoClassDefFoundError: picocli/CommandLine$ParameterException
java.lang.NoClassDefFoundError: picocli/CommandLine$ParameterException
at cli.run(cli.groovy:4)
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
Caused by: java.lang.ClassNotFoundException: picocli.CommandLine$ParameterException
... 4 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The jar is definitely downloaded to &lt;tt&gt;~/.groovy/grapes&lt;/tt&gt; and both versions of Groovy output&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Resolving dependency: info.picocli#picocli;4.2.0 {default=[default]}
Preparing to download artifact info.picocli#picocli;4.2.0!picocli.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;when &lt;tt&gt;-Dgroovy.grape.report.downloads=true&lt;/tt&gt; is supplied.&lt;/p&gt;</description>
                <environment>Reproduced under both macOS (Groovy 3.0.1 installed manually and via MacPorts) and Debian (Groovy installed via SDKMAN).</environment>
        <key id="13289089">GROOVY-9432</key>
            <summary>ClassNotFoundException when attempting to use Picocli via Grapes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rpopma">Remko Popma</assignee>
                                    <reporter username="marcs">Marc</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Mar 2020 02:08:14 +0000</created>
                <updated>Fri, 22 May 2020 04:03:54 +0000</updated>
                            <resolved>Thu, 30 Apr 2020 22:47:56 +0000</resolved>
                                    <version>3.0.0</version>
                    <version>3.0.1</version>
                                    <fixVersion>3.0.4</fixVersion>
                                    <component>Grape</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17049889" author="paulk" created="Tue, 3 Mar 2020 04:23:58 +0000"  >&lt;p&gt;It should work if you add the following line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In 2.5.9 you think it works but it is actually using the bundled version of picocli. So we decided not to include a bundled version since grabbed artifacts are always (at least currently) placed at the end of the classpath.&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12995391/12995391_image-2020-03-03-14-30-10-210.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17049942" author="marcs" created="Tue, 3 Mar 2020 06:37:00 +0000"  >&lt;p&gt;Thanks Paul; that resolves my problem in 3.0.x (though 2.5.9 still favours the bundled version with &lt;tt&gt;systemClassLoader=true&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;There seem to be at least two issues here from a user perspective:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The undocumented &lt;tt&gt;@GrabConfig(systemClassLoader=true)&lt;/tt&gt; requirement&lt;/li&gt;
	&lt;li&gt;Fallback to a bundled version, not the requested one, in Groovy &amp;lt;3.0.0&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;(1) could be addressed in the &lt;tt&gt;picocli&lt;/tt&gt; documentation but (2) seems more problematic (namely, documenting &lt;tt&gt;@Grab&lt;/tt&gt; in the first place is misleading as Groovy is ignoring the requested version).&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="17051575" author="emilles" created="Wed, 4 Mar 2020 19:59:33 +0000"  >&lt;p&gt;This works without system class loader:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;info.picocli:picocli:4.2.0&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; picocli.CommandLine
println CommandLine.VERSION
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should also work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-cli-picocli:3.0.1&apos;&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;info.picocli:picocli:4.2.0&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In your case, groovy-cli-picocli is being supplied some other way.  So when it references picocli, you need pico&apos;s classes available to the class loader of CliBuilder.  &lt;tt&gt;@GrabConfig(systemClassLoader=true)&lt;/tt&gt; is trying to make the grabbed jars available to the root class loader.&lt;/p&gt;</comment>
                            <comment id="17051582" author="marcs" created="Wed, 4 Mar 2020 20:09:12 +0000"  >&lt;p&gt;Thanks Eric.&lt;/p&gt;

&lt;p&gt;My concern here is that I&apos;m testing officially documented functionality (&lt;a href=&quot;https://groovy-lang.org/dsls.html#_clibuilder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groovy-lang.org/dsls.html#_clibuilder&lt;/a&gt;) which&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Doesn&apos;t work out of the box with Groovy 3.0.1&lt;/li&gt;
	&lt;li&gt;Doesn&apos;t work with the (&lt;tt&gt;picocli&lt;/tt&gt;) documented annotation&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;While your first example is useful, it doesn&apos;t address the problem as such.&lt;/p&gt;

&lt;p&gt;Am I incorrect in thinking that both the official Groovy site/docs as well as Picocli&apos;s ought to be updated to reflect new Grapes requirements (and to differentiate the behaviour of Groovy 2.x and 3.x)?&lt;/p&gt;


&lt;p&gt;&lt;em&gt;Edit&lt;/em&gt;: There&apos;s also the supplementary concern over the &lt;tt&gt;picocli&lt;/tt&gt; documented &lt;tt&gt;@Grab&lt;/tt&gt; having no effect, as mentioned above.&lt;/p&gt;</comment>
                            <comment id="17051599" author="emilles" created="Wed, 4 Mar 2020 20:34:41 +0000"  >&lt;p&gt;I&apos;m not saying that the Groovy documentation is misleading.  As with any launched JVM, the classpath needs to include referenced classes or you will net ClassNotFounds.  I&apos;m not sure how you are starting Groovy Console in your example.  If it is from the Groovy distribution, then there may be a bug in the groovy-starter.conf in that it is loading up groovy-cli-picocli but not the transitive requirement picocli.&lt;/p&gt;

&lt;p&gt;When trying to add in a missing requirement using Grab, there are different scenarios.  In your case, you are trying to provide a transitive dependency; I gave some additional examples for direct dependencies to illustrate what the system class loader stuff is about.&lt;/p&gt;</comment>
                            <comment id="17051618" author="marcs" created="Wed, 4 Mar 2020 20:49:48 +0000"  >&lt;p&gt;I&apos;m starting Groovy via both the official distribution and &lt;a href=&quot;https://sdkman.io&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SDKman&lt;/a&gt;, as mentioned above. The problem occurs on both macOS and Debian.&lt;/p&gt;

&lt;p&gt;To be clear: All I&apos;m saying is that as a user, the official documentation doesn&apos;t reflect observed behaviour in Groovy 3.0.x. Furthermore, the &lt;tt&gt;picocli&lt;/tt&gt; documentation implies that adding &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Grab(&apos;info.picocli:picocli:4.2.0&apos;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will give me version 4.2.0 but this isn&apos;t necessarily the case when using &lt;tt&gt;CliBuilder&lt;/tt&gt; (see Paul&apos;s comment above on 2.5.9).&lt;/p&gt;

&lt;p&gt;Regarding,&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In your case, you are trying to provide a transitive dependency&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&#8212;this may well be the case but I&apos;m just trying to test the documented functionality, not do anything special. Out of the box, &lt;tt&gt;CliBuilder&lt;/tt&gt; doesn&apos;t work at all in Groovy 3.0.x (surprise #1); adding the documented &lt;tt&gt;@Grab&lt;/tt&gt; doesn&apos;t work (surprise #2).&lt;/p&gt;

&lt;p&gt;I&apos;d suggest that documentation updates are necessary; in terms of what those changes ought to be, I defer to the experts.&lt;/p&gt;

&lt;p&gt;(&lt;em&gt;Edit&lt;/em&gt;: formatting.)&lt;/p&gt;</comment>
                            <comment id="17054257" author="remkop@yahoo.com" created="Sun, 8 Mar 2020 01:57:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcs&quot; class=&quot;user-hover&quot; rel=&quot;marcs&quot;&gt;marcs&lt;/a&gt;&#160;has a point. How should users use &lt;tt&gt;CliBuilder&lt;/tt&gt; in groovy scripts from Groovy 3.0.1+?&lt;/p&gt;

&lt;p&gt;The below does not work: (&lt;tt&gt;NoClassDefFoundError: picocli/CommandLine$ParameterException&lt;/tt&gt; in the &lt;tt&gt;CliBuilder constructor&lt;/tt&gt;)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-cli-picocli:3.0.1&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I tried a few variations, the below is the only one I got to work... Is the below the recommended way?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)

@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-cli-picocli:3.0.1&apos;&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;info.picocli:picocli:4.2.0&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
println picocli.CommandLine.VERSION
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If that is true, should we update the documentation for CliBuilder to clarify this?&lt;/p&gt;

&lt;p&gt;Note that I find &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcs&quot; class=&quot;user-hover&quot; rel=&quot;marcs&quot;&gt;marcs&lt;/a&gt;&apos;s point on the picocli documentation a bit confusing. At no point does the picocli user manual mention &lt;tt&gt;CliBuilder&lt;/tt&gt;, there is no intention that &lt;tt&gt;@Grab(&apos;info.picocli:picocli:4.2.0&apos;)&lt;/tt&gt; would work with &lt;tt&gt;CliBuilder&lt;/tt&gt;. So while I am happy to improve the picocli documentation as well, I am not sure if/how.&lt;/p&gt;</comment>
                            <comment id="17054267" author="paulk" created="Sun, 8 Mar 2020 02:36:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rpopma&quot; class=&quot;user-hover&quot; rel=&quot;rpopma&quot;&gt;rpopma&lt;/a&gt; We had a bug in our build files in 3.0.1. From 3.0.2 you can use either of the variations shown below.&lt;br/&gt;
You can use (for picocli 4.1.4):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-cli-picocli:3.0.2&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;or (for any version you specify):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;info.picocli:picocli:4.2.0&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17054268" author="marcs" created="Sun, 8 Mar 2020 02:40:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rpopma&quot; class=&quot;user-hover&quot; rel=&quot;rpopma&quot;&gt;rpopma&lt;/a&gt;&#160;wrote:&lt;/p&gt;

&lt;p&gt;&#160;&lt;blockquote&gt;
&lt;p&gt;Note that I find Marc Simpson&apos;s point on the picocli documentation a bit confusing. At no point does the picocli user manual mention CliBuilder, there is no intention that @Grab(&apos;info.picocli:picocli:4.2.0&apos;) would work with CliBuilder. So while I am happy to improve the picocli documentation as well, I am not sure if/how.&lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;Agreed, and apologies for the confusion. I didn&apos;t realise that &lt;tt&gt;CliBuilder&lt;/tt&gt; was absent from the picocli documentation (though it&apos;s mentioned &lt;a href=&quot;https://picocli.info/groovy-2.5-clibuilder-renewal.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;elsewhere&lt;/a&gt; on the site).&lt;/p&gt;

&lt;p&gt;So, the principal issue here is that &lt;tt&gt;CliBuilder&lt;/tt&gt; doesn&apos;t work out of the box as documented on the Groovy site; a recommended grape solution would be useful for Groovy &#8805;3.0.0 to address this.&lt;/p&gt;</comment>
                            <comment id="17054284" author="paulk" created="Sun, 8 Mar 2020 04:26:35 +0000"  >&lt;p&gt;Agreed, the documentation reflects usage if using Gradle/Maven to obtain &lt;tt&gt;CliBuilder&lt;/tt&gt; through a dependency like &lt;tt&gt;org.codehaus.groovy:groovy-cli-picocli:version&lt;/tt&gt; but not the various other scenarios including using a distribution.&lt;/p&gt;</comment>
                            <comment id="17097004" author="remkop@yahoo.com" created="Thu, 30 Apr 2020 21:45:01 +0000"  >&lt;p&gt;I am adding the following to the (bottom of the) &lt;tt&gt;CliBuilder&lt;/tt&gt; section of the &lt;a href=&quot;http://groovy-lang.org/dsls.html#_clibuilder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Domain Specific Languages page&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;h4&gt;&lt;a name=&quot;ControllingthePicocliversion&quot;&gt;&lt;/a&gt;Controlling the Picocli version&lt;/h4&gt;

&lt;p&gt;If necessary, you can use the &lt;tt&gt;@Grab&lt;/tt&gt; annotation to control the version of picocli to use in &lt;tt&gt;CliBuilder&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;info.picocli:picocli:4.2.0&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.cli.picocli.CliBuilder

def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcs&quot; class=&quot;user-hover&quot; rel=&quot;marcs&quot;&gt;marcs&lt;/a&gt;: do you think this is sufficient?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;: I committed this to the master and 3_0_x branches. Should I also add it to 2_5_x ?&lt;/p&gt;</comment>
                            <comment id="17097016" author="paulk" created="Thu, 30 Apr 2020 22:12:21 +0000"  >&lt;p&gt;I would consider changing the intro wording. Instead of:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;If necessary, you can use the @Grab annotation to control the version of picocli to use in CliBuilder.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Perhaps:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;To use a specific version of picocli, add a dependency to that version in your build configuration. If running scripts using a pre-installed version of Groovy, use the @Grab annotation to control the version of picocli to use in CliBuilder.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would skip GROOVY_2_5_X since we removed the picocli jar only in Groovy 3 (as per &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9165&quot; title=&quot;Grape cannot pull in picocli&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9165&quot;&gt;&lt;del&gt;GROOVY-9165&lt;/del&gt;&lt;/a&gt;). In 2_5_X, it comes with a picocli jar, hence no need for the @Grab, and you&apos;d need to first manually remove the pre-installed version before you could swap versions.&lt;/p&gt;</comment>
                            <comment id="17097018" author="marcs" created="Thu, 30 Apr 2020 22:16:43 +0000"  >&lt;p&gt;This looks good to me. One question: Should the documentation explain why &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@GrabConfig(systemClassLoader=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is necessary?&lt;/p&gt;</comment>
                            <comment id="17097038" author="remkop@yahoo.com" created="Thu, 30 Apr 2020 22:49:08 +0000"  >&lt;p&gt;Reworded as per Paul&apos;s suggestion.&lt;br/&gt;
I am not sure why &lt;tt&gt;@GrabConfig(systemClassLoader=true)&lt;/tt&gt; is needed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; so I will leave that question to Paul.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12995391" name="image-2020-03-03-14-30-10-210.png" size="28689" author="paulk" created="Tue, 3 Mar 2020 04:30:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/remkop/picocli/issues/970]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c3mg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>