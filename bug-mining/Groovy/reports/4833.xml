<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:24:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11402] STC: inferred type of this.name within closure</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11402</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Consider the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; {
  private &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; f = &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;
  private static &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; g = &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;
  @groovy.transform.TypeChecked
  void test() {
    {-&amp;gt;
      println      f &lt;span class=&quot;code-comment&quot;&gt;// entry
&lt;/span&gt;      println      g &lt;span class=&quot;code-comment&quot;&gt;// field
&lt;/span&gt;      println &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.f &lt;span class=&quot;code-comment&quot;&gt;// entry or field (&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; SC)
&lt;/span&gt;      println &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.g &lt;span class=&quot;code-comment&quot;&gt;// field
&lt;/span&gt;    }()
  }
}
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; C().test()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Fixes in Groovy 3 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; and 4 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; have made it so that &quot;g&quot; and &quot;this.g&quot; resolve to the static field (even from outer class). Groovy 5 has dropped this special case and should go through the closure&apos;s &lt;tt&gt;getProperty&lt;/tt&gt; protocol (see &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10985&quot; title=&quot;Precedence of self property over outer class field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10985&quot;&gt;&lt;del&gt;GROOVY-10985&lt;/del&gt;&lt;/a&gt;). This is at least consistent with &quot;g&quot; and &quot;this.g&quot; appearing outside of a closure.&lt;/p&gt;

&lt;p&gt;However, &quot;f&quot; and &quot;this.f&quot; have some inconsistencies. &quot;f&quot; resolves to entry for STC and SC. &quot;this.f&quot; resolves to field at compile time for STC and SC. But to entry for STC and field for SC at run time.  In Groovy 5, both &quot;this.f&quot; and &quot;this.g&quot; exhibit this difference.&lt;/p&gt;

&lt;p&gt;Should &quot;this.f&quot; be entry within closure as &quot;f&quot; is for all cases? Or should only the STC inferred type be fixed to match the run time behavior, leaving SC unchanged?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5001&quot; title=&quot;Map access is given higher precedence when trying to access fields/properties in classes which implement java.util.Map or extend java.util.HashMap or java.util.Properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5001&quot;&gt;&lt;del&gt;GROOVY-5001&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5491&quot; title=&quot;HashMap subclass property access inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5491&quot;&gt;&lt;del&gt;GROOVY-5491&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8555&quot; title=&quot;The private keyword of an instance variable is causing a behavior change in a map class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8555&quot;&gt;&lt;del&gt;GROOVY-8555&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11367&quot; title=&quot;property semantics of map-based types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11367&quot;&gt;&lt;del&gt;GROOVY-11367&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11387&quot; title=&quot;STC: entry vs field for map-based types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11387&quot;&gt;&lt;del&gt;GROOVY-11387&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11401&quot; title=&quot;STC: inferred type of name within closure (delegate property versus owner field)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11401&quot;&gt;&lt;del&gt;GROOVY-11401&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/groovy/commit/419ce2f91754f101d8e65977da4dc7e8e6b6265f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/419ce2f91754f101d8e65977da4dc7e8e6b6265f&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/groovy/commit/3c2266e053c4a9a9127be43921afb0c5135725f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/3c2266e053c4a9a9127be43921afb0c5135725f6&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/groovy/commit/da99cd99e4fd3f4c8084622a07cb93dd4e388653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/da99cd99e4fd3f4c8084622a07cb93dd4e388653&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13582289">GROOVY-11402</key>
            <summary>STC: inferred type of this.name within closure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jun 2024 16:09:56 +0000</created>
                <updated>Tue, 12 Nov 2024 11:40:56 +0000</updated>
                            <resolved>Mon, 17 Jun 2024 18:02:58 +0000</resolved>
                                    <version>3.0.21</version>
                    <version>5.0.0-alpha-8</version>
                    <version>4.0.21</version>
                                    <fixVersion>5.0.0-alpha-9</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17855685" author="emilles" created="Mon, 17 Jun 2024 18:02:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/771b04fcb7e6765b02a4762c70b0efcf7cbd7516&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/771b04fcb7e6765b02a4762c70b0efcf7cbd7516&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>groovy</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pqlc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>