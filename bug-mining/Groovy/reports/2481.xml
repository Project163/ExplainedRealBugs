<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:39:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6561] Implementation for running a script from a URL in GroovyMain is flawed.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6561</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;There are two significant problems with the way handling of URLs as scripts are implemented in GroovyMain.  I put them both here since I think any relevant changes will be done together.&lt;/p&gt;

&lt;p&gt;The first (and simplest to fix) is a buggy URL checker (GroovyMain.isScriptUrl(String urlOrFilename)) that has a hardcoded (and case-sensitive?) list of URI schemes that it tests for (http, https, file, and jar).  This checking should be done by URI&apos;s parser and support any scheme that the platform implements.&lt;/p&gt;

&lt;p&gt;The second and more substantial issue is that when a script source is specified by URL a correct URL-based SourceUnit does not get used for compilation.  Instead the text is simply grabbed from the URL and parsed as a string.  This is inconsistent with the way URL-sourced code is handled everywhere else.  &lt;/p&gt;

&lt;p&gt;This is loosely connected to the long-standing &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1642&quot; title=&quot;Script needs to be able to retrieve the full path of &amp;quot;its&amp;quot; file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1642&quot;&gt;&lt;del&gt;GROOVY-1642&lt;/del&gt;&lt;/a&gt; issue and also needs fixing so that &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6451&quot; title=&quot;Support repository roots in @GrabResolver should work correctly for relative hrefs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6451&quot;&gt;&lt;del&gt;GROOVY-6451&lt;/del&gt;&lt;/a&gt; can work as intended.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817384">GROOVY-6561</key>
            <summary>Implementation for running a script from a URL in GroovyMain is flawed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimwhite">James P. White</assignee>
                                    <reporter username="jimwhite">James P. White</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Feb 2014 03:39:51 +0000</created>
                <updated>Sun, 6 Apr 2014 05:26:42 +0000</updated>
                            <resolved>Sun, 6 Apr 2014 05:26:42 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.2.1</version>
                                    <fixVersion>2.3.0-beta-1</fixVersion>
                                    <component>command line processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14475557" author="blackdrag" created="Mon, 24 Feb 2014 03:18:02 +0000"  >&lt;p&gt;I agree the about the first part, the code afaik predates URI and needs an update.&lt;/p&gt;

&lt;p&gt;As for the second one... I guess the text is grabbed, because GroovyShell doesn&apos;t support URL sources. The compiler internally does, but afaik also not before 2.x. So a fix would have either to bypass GroovyShell or GroovyShell would need extensions&lt;/p&gt;</comment>
                            <comment id="14475459" author="jimwhite" created="Mon, 24 Feb 2014 10:14:57 +0000"  >&lt;p&gt;GroovyShell does support GroovyCodeSource which does support URL.  I&apos;d be inclined to add an evaluate(URI) to GroovyShell (for GroovyMain and other folks to do the right thing by using URI over URL) which is a little wrapper using GroovyCodeSource.&lt;/p&gt;</comment>
                            <comment id="14475383" author="jimwhite" created="Mon, 24 Feb 2014 18:55:52 +0000"  >&lt;p&gt;PR #337 has a fix for this and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1642&quot; title=&quot;Script needs to be able to retrieve the full path of &amp;quot;its&amp;quot; file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1642&quot;&gt;&lt;del&gt;GROOVY-1642&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14475647" author="pschumacher" created="Sun, 6 Apr 2014 05:25:20 +0000"  >&lt;p&gt;Pull request was merged by Paul.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bqxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>