<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:10:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7996] Using with method with a closure that references a protected property produces ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7996</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; propertyMissing(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;stuff&quot;&lt;/span&gt;
    }
    
    void build(Closure callable) {
         &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.with(callable)
    }
}

@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; List bar = []
    
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; doStuff() {
        Foo foo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo()
        foo.build {
           &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bar.isEmpty() 
        }
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Bar().doStuff()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Produces &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.ClassCastException: java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.util.List
	at Bar$_doStuff_closure1.doCall(ConsoleScript3:19)
	at Bar$_doStuff_closure1.call(ConsoleScript3)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.with(DefaultGroovyMethods.java:242)
	at Bar.doStuff(ConsoleScript3:18)
	at Ba
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The equivalent code without CompileStatic prints:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Result: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The behaviour of both should be he same IMO&lt;/p&gt;</description>
                <environment></environment>
        <key id="13019806">GROOVY-7996</key>
            <summary>Using with method with a closure that references a protected property produces ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="graemerocher1">Graeme Rocher</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2016 11:40:17 +0000</created>
                <updated>Mon, 10 Aug 2020 15:03:13 +0000</updated>
                            <resolved>Thu, 21 Nov 2019 15:16:06 +0000</resolved>
                                    <version>2.4.7</version>
                                    <fixVersion>2.5.9</fixVersion>
                    <fixVersion>3.0.0-rc-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="15653877" author="paulk" created="Thu, 10 Nov 2016 11:58:48 +0000"  >&lt;p&gt;I haven&apos;t looked into why yet but if the bar field is protected or public you get the error. Workarounds are to make it a normal property (no visibility modifier) or private. Obviously, might not be ideal or work for you depending on your scenario.&lt;/p&gt;</comment>
                            <comment id="16748379" author="paulk" created="Tue, 22 Jan 2019 04:44:52 +0000"  >&lt;p&gt;Proposed PR merged. Workaround is to use `owner.bar.isEmpty()` or&#160;`this.bar.isEmpty()`&lt;/p&gt;</comment>
                            <comment id="16821431" author="emilles" created="Thu, 18 Apr 2019 19:29:18 +0000"  >&lt;p&gt;Since &lt;tt&gt;void build(Closure callable)&lt;/tt&gt; does not have a &lt;tt&gt;@DelegatesTo&lt;/tt&gt; annotation, it is indicating that the resolve strategy of the closure will be &lt;tt&gt;OWNER_FIRST&lt;/tt&gt; (the default value).  However, you have called the closure using &lt;tt&gt;DefaultGroovyMethods.with&lt;/tt&gt;, which has a closure resolve strategy of &lt;tt&gt;DELEGATE_FIRST&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I believe that the compiler expects a &lt;tt&gt;List&lt;/tt&gt; because that is what the owner provides for &quot;bar&quot;, however &lt;tt&gt;with&lt;/tt&gt; is trying to resolve &quot;bar&quot; against the delegate which is a &lt;tt&gt;Foo&lt;/tt&gt;.  As part of this, looks like &lt;tt&gt;propertyMissing&lt;/tt&gt; is getting invoked.&lt;/p&gt;</comment>
                            <comment id="16821458" author="emilles" created="Thu, 18 Apr 2019 20:03:33 +0000"  >&lt;p&gt;If written this way, no error occurs on Groovy 2.4:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
  def propertyMissing(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;stuff&apos;&lt;/span&gt;
  }
  def build(@DelegatesTo(value=Foo, strategy=Closure.OWNER_FIRST) Closure block) {
    block.delegate = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; block.call()
  }
}

@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; List bars = []
  &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; doStuff() {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo().build {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bars.isEmpty()
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This should return &lt;tt&gt;true&lt;/tt&gt; for &lt;tt&gt;new Bar().doStuff()&lt;/tt&gt; since &lt;tt&gt;build&lt;/tt&gt; now returns the value returned from the closure.&lt;/p&gt;</comment>
                            <comment id="16821493" author="emilles" created="Thu, 18 Apr 2019 21:12:55 +0000"  >&lt;p&gt;&lt;tt&gt;VariableScopeVisitor.checkVariableNameForDeclaration&lt;/tt&gt; thinks &quot;bars&quot; refers to a field and that never gets changed.  Any variable expression within a closure that does not resolve to a local variable should be assumed to be dynamic, correct?&lt;/p&gt;</comment>
                            <comment id="16960631" author="emilles" created="Sun, 27 Oct 2019 15:46:13 +0000"  >&lt;p&gt;Rolling back initial changes for this issue.  There were a number of other issues created by this and I think the case of a delegate having the same property name as an owner field is a bit less likely of a use case than the others.  Also, there are at east 2 workarounds available for this issue: 1) specify the closure as OWNER_FIRST and 2) use &quot;owner&quot; or &quot;thisObject&quot; or &quot;this&quot; qualifier on field access.&lt;/p&gt;

&lt;p&gt;A number of test cases have been added so if a fix is approached for this again, there will be less chance of breaking other closure variable expression access scenarios.&lt;/p&gt;</comment>
                            <comment id="16961409" author="emilles" created="Mon, 28 Oct 2019 19:46:21 +0000"  >&lt;p&gt;This is a bit of an experiment.  If the initial issue is re-written this way (cut from unit test) and if I add to &lt;tt&gt;StaticTypeCheckingVisitor#existsProperty&lt;/tt&gt; checks for dynamic property resolution (see below), then the test case will indeed run through &lt;tt&gt;Foo#propertyMissing&lt;/tt&gt; and there will be no &lt;tt&gt;ClassCastException&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Foo.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  def build(@DelegatesTo(value=Foo, strategy=Closure.DELEGATE_FIRST) Closure&amp;lt;?&amp;gt; block) {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.with(block)\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  def propertyMissing(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;stuff&apos;&lt;/span&gt;\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;}\n&quot;&lt;/span&gt;,

            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bar.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;@groovy.transform.CompileStatic\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; List&amp;lt;?&amp;gt; bars = []\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  def doStuff() {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo().build {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bars.toString()\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;}\n&quot;&lt;/span&gt;,

            &lt;span class=&quot;code-quote&quot;&gt;&quot;Main.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Bar().doStuff() == &lt;span class=&quot;code-quote&quot;&gt;&apos;stuff&apos;&lt;/span&gt;\n&quot;&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;StaticTypeCheckingVisitor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// TODO: What &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; receiver &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)/set(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;), getProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)/setProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;) or propertyMissing(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)?
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isPrimitiveType(getUnwrapper(testClass)) &amp;amp;&amp;amp; objectExpression &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; VariableExpression &amp;amp;&amp;amp; typeCheckingContext.getEnclosingClosure() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    MethodNode mopMethod;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (readMode) {
        mopMethod = testClass.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;getProperty&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(STRING_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;)});
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mopMethod == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) mopMethod = testClass.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;get&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(STRING_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;)});
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        mopMethod = testClass.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;setProperty&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(STRING_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(OBJECT_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;)});
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mopMethod == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) mopMethod = testClass.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;set&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(STRING_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(OBJECT_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;)});
    }
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mopMethod == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) mopMethod = testClass.getMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;propertyMissing&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter[]{&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Parameter(STRING_TYPE, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;)});

    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mopMethod != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        pexp.putNodeMetaData(DYNAMIC_RESOLUTION, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.TRUE);
        pexp.removeNodeMetaData(DECLARATION_INFERRED_TYPE);
        pexp.removeNodeMetaData(INFERRED_TYPE);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17173632" author="paulk" created="Sat, 8 Aug 2020 10:44:56 +0000"  >&lt;p&gt;I know this was a while ago, but in hindsight, I probably would have placed the methodMissing/get/set part of the fix into its own type checker extension, perhaps &lt;tt&gt;MopAwareChecker&lt;/tt&gt;. That part of the current &quot;fix&quot; doesn&apos;t work for instance outside closures, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; a = 40
    def main() {
        a + (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)b
    }
    def propertyMissing(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
        2
    }
}
def foo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo()
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; foo.main() == 42
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Nor for method calls.&lt;/p&gt;</comment>
                            <comment id="17174337" author="emilles" created="Mon, 10 Aug 2020 13:44:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; Could you open a new ticket that references this one and describes the idea a bit more?  I&apos;m familiar with &lt;tt&gt;StaticTypeCheckingVisitor&lt;/tt&gt;, but not &lt;tt&gt;MopAwareChecker&lt;/tt&gt;.  Is that something that is registered by default or would the user be expected to add the checking extension?  If available by default, are there other checks made by STCV that could be spun off to separate checker class?&lt;/p&gt;</comment>
                            <comment id="17174369" author="paulk" created="Mon, 10 Aug 2020 14:50:19 +0000"  >&lt;p&gt;&lt;tt&gt;MopAwareChecker&lt;/tt&gt; is just an idea - we&apos;d need to work through the details. If we fix all of the type checker to be consistent with the &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7996&quot; title=&quot;Using with method with a closure that references a protected property produces ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7996&quot;&gt;&lt;del&gt;GROOVY-7996&lt;/del&gt;&lt;/a&gt; property handling, then any class with propertyMissing or methodMissing suddenly has a huge whole in its checking - basically any property or any method would be permitted. Some folks might not want to forgo that much checking. A type checking extension would allow it to be opt in - yes, currently it would need to be explicitly added in, e.g. &lt;tt&gt;@TypeChecked(extensions=&apos;MopAwareChecker&apos;)&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17174375" author="emilles" created="Mon, 10 Aug 2020 15:03:13 +0000"  >&lt;p&gt;Oh, I see.  So an enhancement that moves the checks to an optional component.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13225695">GROOVY-9063</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3665r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>