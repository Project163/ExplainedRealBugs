<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:54:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7966] Change in source order changes output in Java+Groovy joint compilation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7966</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When compiling these three classes&lt;/p&gt;

&lt;p&gt;AbstractThing.groovy:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AbstractThing {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thing.groovy:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Thing &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractThing {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JavaThing.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JavaThing {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Two different results are produced for &lt;tt&gt;Thing.class&lt;/tt&gt; based on the order of the source files provided to the Groovy compiler:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ groovyc -d output -j AbstrctThing.groovy Thing.groovy JavaThing.java
$ javap output/Thing.&lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;Compiled from &lt;span class=&quot;code-quote&quot;&gt;&quot;Thing.groovy&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Thing &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractThing {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; __$stMC;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Thing();
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; groovy.lang.MetaClass $getStaticMetaClass();
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; groovy.lang.MetaClass &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$$getStaticMetaClass();
}
$ groovyc -d output -j Thing.groovy AbstrctThing.groovy JavaThing.java
$ javap output/Thing.&lt;span class=&quot;code-keyword&quot;&gt;class
&lt;/span&gt;Compiled from &lt;span class=&quot;code-quote&quot;&gt;&quot;Thing.groovy&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Thing &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractThing &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; groovy.lang.GroovyObject {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; __$stMC;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Thing();
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; groovy.lang.MetaClass $getStaticMetaClass();
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; groovy.lang.MetaClass &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$$getStaticMetaClass();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice that when the source for the abstract superclass follows the source of the concrete class, the concrete class ends up implementing &lt;tt&gt;GroovyObject&lt;/tt&gt;, but not if the order of the two source files is reversed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13011189">GROOVY-7966</key>
            <summary>Change in source order changes output in Java+Groovy joint compilation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="lptr">L&#243;r&#225;nt Pint&#233;r</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Oct 2016 22:44:33 +0000</created>
                <updated>Wed, 1 Feb 2017 23:19:00 +0000</updated>
                            <resolved>Fri, 9 Dec 2016 12:13:55 +0000</resolved>
                                    <version>2.4.7</version>
                                    <fixVersion>2.4.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15563908" author="blackdrag" created="Mon, 10 Oct 2016 23:40:14 +0000"  >&lt;p&gt;I assume AbstractThing does in both cases implement GroovyObject. The probable reason is that in your first case the super class information for AbstractThing in Thing got proper resolving information, while in case 2 joint compilation prevented this. Maybe it is the joint compilation resolve visitor marking the super class as resolved, even though it is not. What is supposed to happen is that resolving fails but the error is ignored. A later second resolving will set the proper information for the Groovy side. Ah yes, from the compiler output  version 1 should be the only output.&lt;/p&gt;</comment>
                            <comment id="15731350" author="githubbot" created="Thu, 8 Dec 2016 07:01:11 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/471&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/471&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7966&quot; title=&quot;Change in source order changes output in Java+Groovy joint compilation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7966&quot;&gt;&lt;del&gt;GROOVY-7966&lt;/del&gt;&lt;/a&gt;: Change in source order changes output in Java+Groovy joi&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;nt compilation&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy7966&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/471.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/471.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #471&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 69ac3b69edacd644fde626a1c7015c7f3ecbec13&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2016-12-08T06:59:42Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7966&quot; title=&quot;Change in source order changes output in Java+Groovy joint compilation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7966&quot;&gt;&lt;del&gt;GROOVY-7966&lt;/del&gt;&lt;/a&gt;: Change in source order changes output in Java+Groovy joint compilation&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15734869" author="githubbot" created="Fri, 9 Dec 2016 10:03:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/471&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/471&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15735172" author="paulk" created="Fri, 9 Dec 2016 12:13:55 +0000"  >&lt;p&gt;Proposed PR merged. This doesn&apos;t alter what is in the Java stub which is still impacted by ordering (i.e. different ordering can produce an equivalent but slightly differently defined class) but any final Groovy class is no longer impacted. I am assuming this meets the original intent for this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34p53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>