<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:39:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6582] Script.invokeMethod bypasses getProperty when looking for closure-valued properties.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6582</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The implementation of Script.invokeMethod calls binding.getVariable(name) rather than getProperty(name) when checking to see if there is a property with that name that has a value that implements Closure.  This is significantly bugged because if Script is subclassed (such as when using the @BaseScript annotation) and getProperty is overridden to supply Closure values then they are seen as property values as variables but not as functions.&lt;/p&gt;

&lt;p&gt;Fixing this by having Script.invokeMethod call getProperty rather than binding.getVariable will make the behavior consistent with Expando.invokeMethod.  See also &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6586&quot; title=&quot;Read vs Write to members of base script supplied by @BaseScript is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6586&quot;&gt;&lt;del&gt;GROOVY-6586&lt;/del&gt;&lt;/a&gt; where I&apos;m assembling information on the big picture so that we can eventually have a logically consistent (and documented) system for these class-like dynamic properties in Groovy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817303">GROOVY-6582</key>
            <summary>Script.invokeMethod bypasses getProperty when looking for closure-valued properties.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimwhite">James P. White</assignee>
                                    <reporter username="jimwhite">James P. White</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Feb 2014 14:28:10 +0000</created>
                <updated>Thu, 15 Oct 2015 18:19:36 +0000</updated>
                            <resolved>Fri, 7 Mar 2014 05:14:34 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.2.1</version>
                                    <fixVersion>2.3.0-beta-1</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14475525" author="jimwhite" created="Sun, 16 Feb 2014 15:22:12 +0000"  >&lt;p&gt;Issued pull request #326 with a fix.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/groovy/groovy-core/pull/326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/326&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14475503" author="blackdrag" created="Mon, 17 Feb 2014 02:14:59 +0000"  >&lt;p&gt;First of all, you are right. I guess it was not important so far. But I am wondering if this qualifies as a breaking change. If yes, then it should go only to 2.3.0. But regardless of it being such a breaking change or not I think the change is too much for 1.8.10&lt;/p&gt;</comment>
                            <comment id="14475386" author="jimwhite" created="Mon, 17 Feb 2014 08:19:08 +0000"  >&lt;p&gt;Breaking change?!?!  Please describe the scenario in which this borked code&apos;s behavior is not surprising.  Should we randomly choose some of the other methods in Script that get property values like &quot;print&quot; and such to also bypass getProperty?&lt;/p&gt;</comment>
                            <comment id="14475526" author="blackdrag" created="Mon, 17 Feb 2014 08:48:16 +0000"  >&lt;p&gt;Jim, when I say breaking, then I mean that users can depend on the false behavior and after the change their code would break. Or do you think that is unlikely/impossible?&lt;/p&gt;</comment>
                            <comment id="14475363" author="jimwhite" created="Mon, 17 Feb 2014 11:45:41 +0000"  >&lt;p&gt;I think it is basically impossible.  Anyone who found this behavior would know it is a bug (it wouldn&apos;t have stood any code review either but we lack such a process here).  So either no one has seen it or they did and simply worked around it (such as by implementing the property in Binding which will work either way) and didn&apos;t report it.&lt;/p&gt;

&lt;p&gt;Oh, there&apos;s another workaround (the one I will be using) which is to override invokeMethod so that the MissingProperty -&amp;gt; check -&amp;gt; MissingMethod logic gets run twice.  Quite annoying.&lt;/p&gt;

&lt;p&gt;There is change in behavior for a particular failure scenario.  If getProperty is overridden in a Script subclass and it handles MissingPropertyException by doing an invokeMethod on the property name then now it will fail by blowing the stack rather MissingMethodException.  I think the new behavior is correct (and either one terminates the script in any ordinary circumstance).&lt;/p&gt;</comment>
                            <comment id="14475504" author="jimwhite" created="Mon, 17 Feb 2014 11:48:20 +0000"  >&lt;p&gt;And yes, all bug fixes will break code that depends on the bugged behavior and yet we still produce bug fix releases.  So what is the point of the 1.8.x releases?  &lt;/p&gt;</comment>
                            <comment id="14475554" author="paulk" created="Fri, 7 Mar 2014 05:14:34 +0000"  >&lt;p&gt;Pull request applied and merged to legacy branches. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c5lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>