<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:03:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8507] groovyc hangs when compiling nested enum</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8507</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This&#160;problem was discovered in a Jenkins pipeline, but then nailed down and found it failed with &lt;b&gt;groovyc&lt;/b&gt; compiler too.&lt;/p&gt;

&lt;p&gt;Creating a script with&#160;two nested enums, like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestClass {
    &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; OuterEnum {
        VALUE,
        &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; InnerEnum {
            A
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And compiling with groovyc script.groovy makes the compiler freeze with 100% CPU usage.&lt;/p&gt;

&lt;p&gt;In Jenkins, this results in the Job and executor being freezed and zombie (need to kill the&#160;job and executor thread), but I am reporting this to Jenkins as an independent issue.&lt;/p&gt;

&lt;p&gt;As the problem seems to happen in a stripped down groovy script, I&#160;am reporting it here too.&lt;/p&gt;</description>
                <environment>Linux ubuntu-xenial 4.4.0-116-generic #140-Ubuntu SMP Mon Feb 12 21:23:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</environment>
        <key id="13144666">GROOVY-8507</key>
            <summary>groovyc hangs when compiling nested enum</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="airadier">&#193;lvaro Iradier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Mar 2018 09:04:50 +0000</created>
                <updated>Mon, 28 Oct 2024 21:36:47 +0000</updated>
                            <resolved>Tue, 29 Oct 2019 23:43:24 +0000</resolved>
                                    <version>2.4.5</version>
                                    <fixVersion>3.0.0-beta-3</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16396826" author="daniel_sun" created="Tue, 13 Mar 2018 10:56:49 +0000"  >&lt;p&gt;The issue is fixed in the Parrot parser. Please try 2.6.0+ and 3.0.0+. If you try 2.6.0, &lt;tt&gt;-Dgroovy.antlr4=true&lt;/tt&gt; is required to enable the Parrot parser.&lt;/p&gt;</comment>
                            <comment id="16397955" author="abayer" created="Wed, 14 Mar 2018 01:31:00 +0000"  >&lt;p&gt;We&#8217;re on 2.4.x in Jenkins and can&#8217;t move to those.&lt;/p&gt;</comment>
                            <comment id="16965683" author="emilles" created="Sun, 3 Nov 2019 15:40:42 +0000"  >&lt;p&gt;The antlr2 grammar was fixed for nested enums in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4438&quot; title=&quot;Use of an inner enum causes compilation to go into infinite loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4438&quot;&gt;&lt;del&gt;GROOVY-4438&lt;/del&gt;&lt;/a&gt;.  The addition of the trailing comma after &lt;tt&gt;VALUE&lt;/tt&gt; above is still causes a loop in the antlr2 parser.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>groovy</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3r82f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>