<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:41:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6840] inconsistency in JsonSlurper return type</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6840</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().parseText(&lt;span class=&quot;code-quote&quot;&gt;&quot;[]&quot;&lt;/span&gt;) == Collections.EMPTY_LIST
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().parseText(&lt;span class=&quot;code-quote&quot;&gt;&quot;[1]&quot;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ArrayList
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Specifically, I parse some JSON to an object, then I add stuff to it, then serialise back to JSON. Since upgrading from 2.2.1 to 2.3.1 I&apos;ve been tripped up by (what I assume is a change in) this behaviour.&lt;/p&gt;

&lt;p&gt;Why would it not return an empty ArrayList, instead of an immutable empty set, so the calling code does not need to think about whether it&apos;s empty or not?&lt;/p&gt;

&lt;p&gt;Guillaume Laforge said:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The behavior isn&apos;t really specified, but it makes sense to be able to update the returned data structure for later serialization or other purposes, so I think it&apos;s worth using an empty array list instead of the empty collection&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12813427">GROOVY-6840</key>
            <summary>inconsistency in JsonSlurper return type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="jechlin">JAMIE ECHLIN</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 May 2014 15:53:04 +0000</created>
                <updated>Tue, 8 Jul 2014 15:28:39 +0000</updated>
                            <resolved>Mon, 16 Jun 2014 03:09:07 +0000</resolved>
                                    <version>2.3.1</version>
                                    <fixVersion>2.3.4</fixVersion>
                    <fixVersion>2.4.0-beta-2</fixVersion>
                                    <component>JSON</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14475984" author="kaendfinger" created="Sun, 1 Jun 2014 19:31:07 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/434&lt;/a&gt; for fix&lt;/p&gt;</comment>
                            <comment id="14476085" author="guillaume" created="Mon, 16 Jun 2014 03:09:07 +0000"  >&lt;p&gt;Thanks Kenneth for the fix!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cn8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>