<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:25:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5087] Variables from a static import scope used in GStrings resolve to null under certain conditions</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5087</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I would expect &quot;$logDir/foo.txt&quot; to be &quot;foo/foo.txt&quot;, since I just assigned logDir; however, this doesn&apos;t happen. I do not understand why this happens.&lt;/p&gt;

&lt;p&gt;Currently, the 2nd and 3rd assertions fail (comment out the 2nd to see the third fail)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815924">GROOVY-5087</key>
            <summary>Variables from a static import scope used in GStrings resolve to null under certain conditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="dgrnbrg">David Greenberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Oct 2011 10:51:58 +0000</created>
                <updated>Sun, 13 May 2012 03:30:04 +0000</updated>
                            <resolved>Mon, 13 Feb 2012 05:08:50 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>2.0-beta-3</fixVersion>
                    <fixVersion>1.8.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14472026" author="roshandawrani" created="Fri, 21 Oct 2011 00:44:24 +0000"  >&lt;p&gt;Just to de-link the issue from GString - the following version of &lt;tt&gt;MinCase.groovy&lt;/tt&gt; also fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; StaticContainer.*
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FooTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
    void test1() {
        logDir = &lt;span class=&quot;code-quote&quot;&gt;&apos;initial&apos;&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; logDir == &lt;span class=&quot;code-quote&quot;&gt;&apos;initial&apos;&lt;/span&gt;

        def map = [:]
        map[logDir] = &apos;&apos;
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; map.containsKey(&lt;span class=&quot;code-quote&quot;&gt;&apos;initial&apos;&lt;/span&gt;)
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically anything with the following form will fail:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;any allowed expression containing statically imported variable&amp;gt; = &amp;lt;whatever&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s because StaticImportVisitor wrongly concludes just by the presence of static property on the left side that it needs to call the setter for it, instead of getter. &lt;/p&gt;

&lt;p&gt;It does not see on the left side of &quot;equals&quot; expression, where exactly does the statically imported variable figure. It&apos;s not always {{ logDir = &apos;&apos;}}. It can also be &lt;tt&gt;map&lt;span class=&quot;error&quot;&gt;&amp;#91;logDir&amp;#93;&lt;/span&gt; = &apos;&apos;&lt;/tt&gt;, where it should not make it &lt;tt&gt;map&lt;span class=&quot;error&quot;&gt;&amp;#91;setLogDir()&amp;#93;&lt;/span&gt; = &apos;&apos;&lt;/tt&gt;, but make it &lt;tt&gt;map&lt;span class=&quot;error&quot;&gt;&amp;#91;getLogDir()&amp;#93;&lt;/span&gt; = &apos;&apos;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="14479780" author="paulk" created="Mon, 13 Feb 2012 05:08:50 +0000"  >&lt;p&gt;hopefully should be fixed now, thanks for reporting the issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722981" name="MinCase.groovy" size="343" author="dgrnbrg" created="Tue, 18 Oct 2011 10:51:59 +0000"/>
                            <attachment id="12722527" name="StaticContainer.groovy" size="42" author="dgrnbrg" created="Tue, 18 Oct 2011 10:51:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>