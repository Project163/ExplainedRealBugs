<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:55:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8251] Implement withCloseable on AutoCloseable</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8251</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The Groovy implementation of try-with-resource is through &lt;tt&gt;withCloseable()&lt;/tt&gt;. The problem is that &lt;tt&gt;withCloseable&lt;/tt&gt; only exists for classes implementing the &lt;tt&gt;Closeable&lt;/tt&gt; interface.&lt;/p&gt;

&lt;p&gt;But a try-with-resource works with the &lt;tt&gt;AutoCloseable&lt;/tt&gt; interface. So &lt;tt&gt;withCloseable&lt;/tt&gt; should probably be moved on step below to &lt;tt&gt;AutoCloseable&lt;/tt&gt; (that &lt;tt&gt;Closeable&lt;/tt&gt; extends).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13085251">GROOVY-8251</key>
            <summary>Implement withCloseable on AutoCloseable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="henri">Henri Tremblay</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jul 2017 14:50:39 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:43 +0000</updated>
                            <resolved>Tue, 18 Jul 2017 02:00:23 +0000</resolved>
                                    <version>2.5.0-beta-1</version>
                                    <fixVersion>2.5.0-beta-2</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16076827" author="jwagenleitner" created="Thu, 6 Jul 2017 16:24:22 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7572&quot; title=&quot;Add withAutoClosable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7572&quot;&gt;&lt;del&gt;GROOVY-7572&lt;/del&gt;&lt;/a&gt; added a &lt;tt&gt;withAutoCloseable&lt;/tt&gt; method in the NIO submodule and it&apos;s in 2.5.  Since 2.5 is Java 7+ it may make more sense to move the new method into core rather than NIO.&lt;/p&gt;</comment>
                            <comment id="16076865" author="henri" created="Thu, 6 Jul 2017 16:42:58 +0000"  >&lt;p&gt;Ok. That&apos;s the explanation. I saw &lt;tt&gt;withAutoCloseable&lt;/tt&gt; but it was not available indeed. I thought. Moving it to core would make sense. But in fact I&apos;m not sure it&apos;s really useful to have two methods for the same thing unless there is a technical limitation forcing it.&lt;/p&gt;</comment>
                            <comment id="16077004" author="jwagenleitner" created="Thu, 6 Jul 2017 18:19:25 +0000"  >&lt;p&gt;My initial thought was sort of the same, just add a &lt;tt&gt;withCloseable(AutoCloseable..) throws Exception&lt;/tt&gt; method.  I don&apos;t think there is any limitation, other than the old &lt;tt&gt;withCloseable(Closeable..) throws IOException&lt;/tt&gt; method would probably need to be kept for binary compatibility.  The &lt;tt&gt;throws&lt;/tt&gt; clause of the old method would probably need to change but don&apos;t think that is a problem.&lt;/p&gt;

&lt;p&gt;There may be some confusion with the name &lt;tt&gt;withCloseable&lt;/tt&gt; taking either a &lt;tt&gt;Closeable&lt;/tt&gt; or &lt;tt&gt;AutoCloseable&lt;/tt&gt;, given that &lt;tt&gt;AutoCloseable&lt;/tt&gt; is the more general type.  But I like the concise name &lt;tt&gt;withCloseable&lt;/tt&gt; more.&lt;/p&gt;</comment>
                            <comment id="16077025" author="henri" created="Thu, 6 Jul 2017 18:26:58 +0000"  >&lt;p&gt;Yes. Because let&apos;s be fair, the only reason we have &lt;tt&gt;AutoCloseable&lt;/tt&gt; today is because &lt;tt&gt;Closeable&lt;/tt&gt; was typed &lt;tt&gt;IOException&lt;/tt&gt;. Starting from scratch, we would only have &lt;tt&gt;Closeable&lt;/tt&gt; throwing an exception.&lt;/p&gt;</comment>
                            <comment id="16079406" author="githubbot" created="Sun, 9 Jul 2017 01:27:02 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/572&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8251&quot; title=&quot;Implement withCloseable on AutoCloseable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8251&quot;&gt;&lt;del&gt;GROOVY-8251&lt;/del&gt;&lt;/a&gt;: Implement withCloseable on AutoCloseable&lt;/p&gt;

&lt;p&gt;    `NioGroovyMethods.withAutoCloseable` was added for 2.5.0 as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7572&quot; title=&quot;Add withAutoClosable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7572&quot;&gt;&lt;del&gt;GROOVY-7572&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-7572&lt;/a&gt;).  It appears it was originally placed here because at the time Java 6 was still used, but now 2.5.0 is 7+.&lt;/p&gt;

&lt;p&gt;    First commit proposes moving the method (as-is) into the core `IOGroovyMethods` class.  This is where the `withCloseable(java.io.Closeable...)` method is, so also part of this change is moving the tests for it from NIO to core.  Since 2.5.0 is not been officially released I don&apos;t think there is a need to deprecate or worry about binary compatibility for the `withAutoCloseable` method.&lt;/p&gt;

&lt;p&gt;    Second commit proposes to rename the new but unreleased method from `withAutoCloseable` to `withCloseable` to match the existing method on `java.io.Closeable`.  See discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8251&quot; title=&quot;Implement withCloseable on AutoCloseable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8251&quot;&gt;&lt;del&gt;GROOVY-8251&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8251&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-8251&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; 8251-AutoCloseable&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/572.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/572.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #572&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 912200153193849fc35a09a053898d46c7f1dacd&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-09T00:22:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8251&quot; title=&quot;Implement withCloseable on AutoCloseable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8251&quot;&gt;&lt;del&gt;GROOVY-8251&lt;/del&gt;&lt;/a&gt;: Implement withCloseable on AutoCloseable&lt;/p&gt;

&lt;p&gt;    Relocate withAutoCloseable from NIO subproject to core. Since&lt;br/&gt;
    AutoCloseable is not an NIO related class and release 2.5.0&lt;br/&gt;
    will target Java 7, the method should be available as part&lt;br/&gt;
    of core.&lt;/p&gt;

&lt;p&gt;    Relocated withCloseable tests to core since that method&lt;br/&gt;
    is deprecated in the NIO module.&lt;/p&gt;

&lt;p&gt;commit 261bc174980da8d6b6f4cdb54b8f0ab98c64c4fd&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-09T01:13:48Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8251&quot; title=&quot;Implement withCloseable on AutoCloseable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8251&quot;&gt;&lt;del&gt;GROOVY-8251&lt;/del&gt;&lt;/a&gt;: rename withAutoCloseable to withCloseable&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16090961" author="githubbot" created="Tue, 18 Jul 2017 01:49:14 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/572&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16090975" author="jwagenleitner" created="Tue, 18 Jul 2017 02:00:23 +0000"  >&lt;p&gt;Thanks for reporting the issue.  The &lt;tt&gt;withAutoCloseable&lt;/tt&gt; method has been moved from the NIO subproject to core and renamed &lt;tt&gt;withCloseable&lt;/tt&gt; to be consistent with the existing method for &lt;tt&gt;java.io.Closeable&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12860892">GROOVY-7572</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3h78v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>