<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2689] Strange coersion bug in Groovy shell</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2689</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This expression works properly in Groovy console, but it does not work&lt;br/&gt;
in groovysh:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1,2,3&amp;#93;&lt;/span&gt; as Object[]&lt;/p&gt;

&lt;p&gt;In groovysh it throws exception:&lt;br/&gt;
ERROR groovy.lang.MissingMethodException: No signature of method:&lt;br/&gt;
org.codehaus.groovy.tools.shell.Groovysh$_cl&lt;br/&gt;
osure1.call() is applicable for argument types: (java.lang.Integer,&lt;br/&gt;
java.lang.Integer, java.lang.Integer) valu&lt;br/&gt;
es: &lt;/p&gt;
{1, 2, 3}

&lt;p&gt;However,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1,2,3&amp;#93;&lt;/span&gt; as int[]&lt;br/&gt;
works as expected.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1,2,3&amp;#93;&lt;/span&gt; as Integer[]&lt;br/&gt;
throws similar exception.&lt;/p&gt;

&lt;p&gt;All these expressions work properly in Groovy console.&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="12814138">GROOVY-2689</key>
            <summary>Strange coersion bug in Groovy shell</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="enterit">Sergey Bondarenko</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 08:15:36 +0000</created>
                <updated>Thu, 17 Apr 2008 07:26:30 +0000</updated>
                            <resolved>Fri, 21 Mar 2008 04:19:02 +0000</resolved>
                                    <version>1.5.4</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>Groovysh</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14478025" author="jason@planet57.com" created="Fri, 14 Mar 2008 10:51:22 +0000"  >&lt;p&gt;I&apos;m sure this is because groovysh has some magic in it to try and allow for line by line parsing, where groovyConsole parses full/complete source buffers... not sure how to fix really, we can add more hacks to allow groovysh to behave better, but its just a bandaid.&lt;/p&gt;</comment>
                            <comment id="14464459" author="enterit" created="Mon, 17 Mar 2008 19:34:02 +0000"  >&lt;p&gt;Please look at the following code snippet.&lt;br/&gt;
The same thing is happening in Groovysh.&lt;br/&gt;
As I understand, there is the problem in Groovy itself (not in Groovysh).&lt;/p&gt;

&lt;p&gt;def show = &lt;/p&gt;
{var -&amp;gt; println var}

&lt;p&gt;def x = &lt;span class=&quot;error&quot;&gt;&amp;#91;1,2&amp;#93;&lt;/span&gt; as Object[]&lt;/p&gt;

&lt;p&gt;show( &lt;span class=&quot;error&quot;&gt;&amp;#91;1,2&amp;#93;&lt;/span&gt; as Object[] )      //prints &lt;/p&gt;
{1, 2}&lt;br/&gt;
show.call( &lt;span class=&quot;error&quot;&gt;&amp;#91;1,2&amp;#93;&lt;/span&gt; as Object[] ) //prints {1, 2}

&lt;p&gt;show( x )        //prints &lt;/p&gt;
{1, 2}
&lt;p&gt;show.call( x )   //throws MissingMethodException !!!&lt;/p&gt;

&lt;p&gt;I think all these calls should do the same thing. But the last one throws MissingMethodException.&lt;/p&gt;</comment>
                            <comment id="14464443" author="enterit" created="Tue, 18 Mar 2008 04:31:58 +0000"  >&lt;p&gt;Could anyone please look at this test case and patch?&lt;/p&gt;


&lt;p&gt;Test case for this issue:&lt;/p&gt;


&lt;p&gt;package org.codehaus.groovy.tools.shell&lt;/p&gt;

&lt;p&gt;import org.codehaus.groovy.tools.shell.Groovysh&lt;/p&gt;

&lt;p&gt;def shell = new Groovysh()&lt;br/&gt;
shell.execute &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;1,2&amp;#93;&lt;/span&gt; as Object[]&quot;&lt;br/&gt;
assert (&lt;span class=&quot;error&quot;&gt;&amp;#91;1,2&amp;#93;&lt;/span&gt; as Object) == shell.lastResult&lt;/p&gt;


&lt;p&gt;Patch (of file Groovysh.groovy):&lt;/p&gt;

&lt;p&gt;405c405&lt;br/&gt;
&amp;lt;         resultHook.call(result)&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         resultHook.call((Object)result)&lt;/p&gt;</comment>
                            <comment id="14464531" author="paulk" created="Fri, 21 Mar 2008 04:19:02 +0000"  >&lt;p&gt;Your suggested patch seems to work for me.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2csyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>