<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:57:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-866] negative number can be used as key for map</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-866</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;e:\temp\demo.groovy: 1: unexpected token: : @ line 1, column 28.&lt;br/&gt;
   m =&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;quot;a&amp;quot;, 2:&amp;quot;B&amp;quot;, 0:&amp;quot;c&amp;quot;, -2:&amp;quot;d&amp;quot;&amp;#93;&lt;/span&gt;;&lt;br/&gt;
                              ^1 Errors&lt;br/&gt;
for my groovy file:&lt;/p&gt;


&lt;p&gt;m =&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;quot;a&amp;quot;, 2:&amp;quot;B&amp;quot;, 0:&amp;quot;c&amp;quot;, -2:&amp;quot;d&amp;quot;&amp;#93;&lt;/span&gt;;&lt;br/&gt;
println m;&lt;/p&gt;</description>
                <environment>WindowsXP cvs-head 2005.06.06</environment>
        <key id="12812884">GROOVY-866</key>
            <summary>negative number can be used as key for map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jrose">Jon Rose</assignee>
                                    <reporter username="wangbin">wangbin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2005 02:58:06 +0000</created>
                <updated>Wed, 26 Sep 2007 20:37:02 +0000</updated>
                            <resolved>Sat, 1 Oct 2005 19:48:11 +0000</resolved>
                                    <version>1.0-JSR-1</version>
                                    <fixVersion>1.0-JSR-4</fixVersion>
                                    <component>parser-antlr2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14460887" author="guillaume" created="Tue, 7 Jun 2005 06:36:35 +0000"  >&lt;p&gt;There&apos;s no reason why we shouldn&apos;t put negative numbers as keys for a Map!&lt;/p&gt;</comment>
                            <comment id="14461003" author="wangbin" created="Wed, 8 Jun 2005 20:01:23 +0000"  >&lt;p&gt;Why negative number can&apos;t be the key of a map, I think it&apos;s a basic feature for map. I really can&apos;t accept this decision. Is it difficult to implement this feature?&lt;/p&gt;</comment>
                            <comment id="14461114" author="russel" created="Wed, 8 Jun 2005 20:11:39 +0000"  >&lt;p&gt;Everyone is agreeing here not disagreeing, negative numbers should be allowed and indeed Guillaume and I thought they were but they are not.  The issue is why not and how to fix it.&lt;/p&gt;</comment>
                            <comment id="14461133" author="guillaume" created="Thu, 9 Jun 2005 07:52:42 +0000"  >&lt;p&gt;If not a fix, I have at least a workaround: you can use parenthesized expressions for keys:&lt;/p&gt;

&lt;p&gt;def m = &lt;span class=&quot;error&quot;&gt;&amp;#91;(-1): &amp;quot;foo&amp;quot;, (-2): &amp;quot;bar&amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14461418" author="phkim" created="Tue, 16 Aug 2005 03:35:17 +0000"  >&lt;p&gt;For expression keys, use parentheses like as:&lt;br/&gt;
    def m = &lt;span class=&quot;error&quot;&gt;&amp;#91;(-1): &amp;quot;foo&amp;quot;, (-2): &amp;quot;bar&amp;quot;&amp;#93;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;For string keys, use quotation marks like as:&lt;br/&gt;
    def m = &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-1&amp;#39;: &amp;quot;foo&amp;quot;, &amp;#39;-2&amp;#39;: &amp;quot;bar&amp;quot;&amp;#93;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;IMO, expression keys or string keys are features.&lt;/p&gt;

&lt;p&gt;So I propose to reclose this issue.&lt;/p&gt;
</comment>
                            <comment id="14461516" author="jrose" created="Mon, 19 Sep 2005 21:02:58 +0000"  >&lt;p&gt;This is not a bug in the implementation; it is a feature of the design.&lt;br/&gt;
Even though &apos;-2&apos; seems like a simple numeric literal, it is not; it is an expression.&lt;br/&gt;
Items before label-colon must be simple identifiers or literals.&lt;br/&gt;
If you mean to have a complex expression, use parentheses.&lt;/p&gt;

&lt;p&gt;To address the problem of user surprise, I&apos;ve put a diagnostic in the&lt;br/&gt;
parser which will guide users around this issue.&lt;/p&gt;

&lt;p&gt;I thought about making a special case for &lt;span class=&quot;error&quot;&gt;&amp;#91;-1:foo&amp;#93;&lt;/span&gt;.&lt;br/&gt;
But that just moves the surprises around on a slippery slope.&lt;br/&gt;
(What about foo(!x: y), what about &lt;/p&gt;
{println -2}
&lt;p&gt;.)&lt;br/&gt;
It&apos;s better to diganose the problem in the parser, and&lt;br/&gt;
require the user to be a little more explicit.&lt;/p&gt;</comment>
                            <comment id="14461539" author="jrose" created="Sat, 1 Oct 2005 19:48:11 +0000"  >&lt;p&gt;This is a reasonable user error with an unreasonable parser diagnostic.&lt;/p&gt;

&lt;p&gt;The fix is &lt;a href=&quot;http://cvs.codehaus.org/changelog/groovy?cs=MAIN:jrose:20050920020258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cvs.codehaus.org/changelog/groovy?cs=MAIN:jrose:20050920020258&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See update comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-769&quot; title=&quot;Parser error when Map key contains period in JSR mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-769&quot;&gt;&lt;del&gt;GROOVY-769&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12812834">GROOVY-769</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721542" name="demo.groovy" size="45" author="wangbin" created="Tue, 7 Jun 2005 02:58:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2boov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>