<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:12:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3437] Line / column issues in the AST</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3437</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;While integrating and extending Hamlet&apos;s AST browser in the Groovy swing console, I noticed that some AST nodes still not had the right line / column information.&lt;/p&gt;

&lt;p&gt;A few examples:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Binary expressions
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; annotationsOfIdField[0]    &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Id
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The binary expression between the assert and instanceof: the end of the line / col info is right before instance of, instead of being after the last closing square bracket&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Statements&lt;br/&gt;
If there are spaces at the end of a line statement, the space is also accounted in the lin / col info, instead of being the last character of the statement&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Annotations&lt;br/&gt;
Perhaps it&apos;s as designed, but I was wondering what should be the start / end of an annotation.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Target([ElementType.TYPE])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here, the annotation node has a start after the @ and the end before the open parentheses.&lt;br/&gt;
Should the whole expression be highlighted, or just the class name of the annotation?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;GStrings&lt;br/&gt;
GStrings have problems with their various sub parts: the constant strings and the variables interpolated.&lt;br/&gt;
With this example:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def gs1 = &lt;span class=&quot;code-quote&quot;&gt;&quot;-$a-${b}-${-&amp;gt;c}-&quot;&lt;/span&gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The first constant string represents &quot;-$ instead of just the minus sign.&lt;br/&gt;
The second and third constant are -$ instead of just the minus sign again.&lt;br/&gt;
And the last constant is -&quot;, instead of just the minus sign, it&apos;s going one character too far.&lt;br/&gt;
Now on to the variables.&lt;br/&gt;
Variable a is okay.&lt;br/&gt;
Varible b is actually &lt;/p&gt;
{b}
&lt;p&gt; and I think it should be just b&lt;br/&gt;
And the closure expression is jut right too.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;MapEntryExpression&lt;br/&gt;
Whenever there&apos;s a map entry, a named parameter, etc, a MapEntryExpression is used, but the line / col of MapEntryExpression is just surrounding the column, instead of the whole key + colon + value.&lt;br/&gt;
Another problem with MEE is that the value goes up to the next comma or closing square bracket (including all potential whitespace), instead of just stopping at the end of the expression or constant.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;SpreadMapExpression
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def m = [a  :1  , b: 2 ]
def map = [abc: 1, bcd: 2, *:m , cde: 3]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The SME highlights just the star *, and the m variable is highlighted till the comma, instead of just the m character.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12818034">GROOVY-3437</key>
            <summary>Line / column issues in the AST</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="guillaume">Guillaume Sauthier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2009 06:15:16 +0000</created>
                <updated>Sun, 13 May 2012 03:30:03 +0000</updated>
                            <resolved>Thu, 16 Feb 2012 04:40:56 +0000</resolved>
                                                                    <component>ast builder</component>
                    <component>parser-antlr2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14467308" author="guillaume" created="Sat, 11 Jul 2009 06:32:12 +0000"  >&lt;p&gt;The case for the annotations is fixed in trunk and 1.6.&lt;br/&gt;
The other ones are probably related to the Antlr grammar (not APP).&lt;/p&gt;</comment>
                            <comment id="14472536" author="guillaume" created="Thu, 16 Feb 2012 04:40:56 +0000"  >&lt;p&gt;This issue is split into the following issues:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5313&quot; title=&quot;Wrong line/col info for SpreadMapExpressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5313&quot;&gt;&lt;del&gt;GROOVY-5313&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5312&quot; title=&quot;Wrong line/col info for MapEntryExpressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5312&quot;&gt;&lt;del&gt;GROOVY-5312&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5311&quot; title=&quot;Wrong line/col info for GStrings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5311&quot;&gt;&lt;del&gt;GROOVY-5311&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5310&quot; title=&quot;Wrong line/col info for statements with whitespace before EOL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5310&quot;&gt;&lt;del&gt;GROOVY-5310&lt;/del&gt;&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5309&quot; title=&quot;Wrong line/col info for binary expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5309&quot;&gt;&lt;del&gt;GROOVY-5309&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12816114">GROOVY-5309</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12816037">GROOVY-5310</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12816117">GROOVY-5311</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12815988">GROOVY-5312</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12816124">GROOVY-5313</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cto7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>