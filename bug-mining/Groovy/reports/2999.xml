<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:48:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7378] Spaces in JAVA_OPTS env var  prevent launching of groovy</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7378</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Set environment variable JAVA_OPTS to have a system property including spaces/quotes/double-quotes.&lt;/p&gt;

&lt;p&gt;$ export JAVA_OPTS=&quot;-Dfoo=&apos;bar\&quot; baz\&quot;&apos;&quot;&lt;br/&gt;
$ groovy -e &apos;println System.getProperty(&quot;foo&quot;); println args&apos; &apos;arg space&apos; &quot;space quote&apos; &quot; &quot;\&quot;&quot;&lt;/p&gt;

&lt;p&gt;Expected output would be:&lt;br/&gt;
&apos;bar&quot; baz&quot;&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;arg space, space quote&amp;#39; , &amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Actual output is:&lt;br/&gt;
Error: Could not find or load main class baz&quot;&apos;&lt;/p&gt;


&lt;p&gt;I can not comment on proper way to fix startGroovy.bat (assuming it suffers similarly), but included is diff that fixes startGroovy unix script to handle JAVA_OPTS such that quoted arguments are preserved as expected.&lt;/p&gt;

&lt;p&gt;I modeled the attached change which seems to resolve the issue for *nix on the tomcat `catalina.sh run` script block. &lt;/p&gt;

&lt;p&gt;p.s. A concrete use case that bit me was trying to pass java.io.tmpdir to a groovy script to a path that included a space. There are outside reasons that modifying the script to read the desired value and set the system property is not a practical solution.&lt;/p&gt;</description>
                <environment>Linux</environment>
        <key id="12814578">GROOVY-7378</key>
            <summary>Spaces in JAVA_OPTS env var  prevent launching of groovy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pascalschumacher">Pascal Schumacher</assignee>
                                    <reporter username="jwadamson">Jeffrey Adamson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Apr 2015 10:11:52 +0000</created>
                <updated>Mon, 22 Feb 2016 20:48:43 +0000</updated>
                            <resolved>Sat, 16 Jan 2016 12:33:33 +0000</resolved>
                                    <version>2.4.3</version>
                                    <fixVersion>2.4.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14487354" author="jwadamson" created="Thu, 9 Apr 2015 13:42:37 +0000"  >&lt;p&gt;Related in that both concern JAVA_OPTS handling of whitespace&lt;/p&gt;</comment>
                            <comment id="14487355" author="jwadamson" created="Thu, 9 Apr 2015 13:43:41 +0000"  >&lt;p&gt;The JAVA_OPTS handling of whitespace seemed to have been previously fixed for groovy.bat in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4910&quot; title=&quot;groovy.bat fails when the JAVA_OPTS contains space characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4910&quot;&gt;&lt;del&gt;GROOVY-4910&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14507010" author="githubbot" created="Wed, 22 Apr 2015 12:56:12 +0000"  >&lt;p&gt;GitHub user jwadamson opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7378&quot; title=&quot;Spaces in JAVA_OPTS env var  prevent launching of groovy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7378&quot;&gt;&lt;del&gt;GROOVY-7378&lt;/del&gt;&lt;/a&gt;: Support JAVA_OPTS containing quoted arguments on *nix&lt;/p&gt;

&lt;p&gt;    Apply the previously provided patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7378&quot; title=&quot;Spaces in JAVA_OPTS env var  prevent launching of groovy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7378&quot;&gt;&lt;del&gt;GROOVY-7378&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwadamson/incubator-groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwadamson/incubator-groovy&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/5.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b9c907a5a5b453eca6aeea1b73d3d950e20ad3e4&lt;br/&gt;
Author: Jeffrey Adamson &amp;lt;jwadamson@us.ibm.com&amp;gt;&lt;br/&gt;
Date:   2015-04-22T12:44:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7378&quot; title=&quot;Spaces in JAVA_OPTS env var  prevent launching of groovy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7378&quot;&gt;&lt;del&gt;GROOVY-7378&lt;/del&gt;&lt;/a&gt;: Support JAVA_OPTS containing quoted arguments on *nix&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15102306" author="githubbot" created="Fri, 15 Jan 2016 19:00:51 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/5#discussion_r49890958&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/5#discussion_r49890958&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/bin/startGroovy &amp;#8212;&lt;br/&gt;
    @@ -261,18 +261,18 @@ startGroovy ( ) {&lt;br/&gt;
         if $useprofiler ; then&lt;br/&gt;
             runProfiler&lt;br/&gt;
         else&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;exec &quot;$JAVACMD&quot; $JAVA_OPTS \&lt;/li&gt;
	&lt;li&gt;-classpath &quot;$STARTER_CLASSPATH&quot; \&lt;/li&gt;
	&lt;li&gt;-Dscript.name=&quot;$SCRIPT_PATH&quot; \&lt;/li&gt;
	&lt;li&gt;-Dprogram.name=&quot;$PROGNAME&quot; \&lt;/li&gt;
	&lt;li&gt;-Dgroovy.starter.conf=&quot;$GROOVY_CONF&quot; \&lt;/li&gt;
	&lt;li&gt;-Dgroovy.home=&quot;$GROOVY_HOME&quot; \&lt;/li&gt;
	&lt;li&gt;-Dtools.jar=&quot;$TOOLS_JAR&quot; \&lt;br/&gt;
    +        eval exec &quot;\&quot;\$JAVACMD\&quot;&quot; $JAVA_OPTS \&lt;br/&gt;
    +            -classpath &quot;\&quot;\$STARTER_CLASSPATH\&quot;&quot; \&lt;br/&gt;
    +            -Dscript.name=&quot;\&quot;\$SCRIPT_PATH\&quot;&quot; \&lt;br/&gt;
    +            -Dprogram.name=&quot;\&quot;\$PROGNAME\&quot;&quot; \&lt;br/&gt;
    +            -Dgroovy.starter.conf=&quot;\&quot;\$GROOVY_CONF\&quot;&quot; \&lt;br/&gt;
    +            -Dgroovy.home=&quot;\&quot;\$GROOVY_HOME\&quot;&quot; \&lt;br/&gt;
    +            -Dtools.jar=&quot;\&quot;\$TOOLS_JAR\&quot;&quot; \
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Looks like there is an extra backslash before the environment variable that will cause it to not interpolate.  For example, think change should just be:&lt;/p&gt;

&lt;p&gt;    `&quot;\&quot;$VAR\&quot;&quot;` (no slash before `$`)&lt;/p&gt;

&lt;p&gt;    For reference I checked &lt;span class=&quot;error&quot;&gt;&amp;#91;Tomcat&amp;#39;s catalina.sh&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://github.com/apache/tomcat/blob/86b1281a190ec2f17fd1ac5ae3d3889166dcd360/bin/catalina.sh#L325-L339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tomcat/blob/86b1281a190ec2f17fd1ac5ae3d3889166dcd360/bin/catalina.sh#L325-L339&lt;/a&gt;) to see how they handled it.&lt;/p&gt;</comment>
                            <comment id="15103148" author="pascalschumacher" created="Sat, 16 Jan 2016 12:33:33 +0000"  >&lt;p&gt;Pull request merged. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12814465">GROOVY-4910</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12723159" name="startGroovy.patch" size="1150" author="jwadamson" created="Fri, 3 Apr 2015 10:11:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bom7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>