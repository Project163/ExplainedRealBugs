<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8341] GDK: eachDirRecurse and eachFileRecurse are NOT depth-first</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8341</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The documentation for those two methods states: &quot;Sub-directories are recursively searched in a depth-first fashion.&quot; But the result is NOT depth-first, as the following example shows:&lt;/p&gt;

&lt;p&gt;Given a directory tree of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/tmp
|-/foo
| |-/bar
|   |-/foo
|   |-/bar
|   |-/baz
|-/baz&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the following simple code &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#!/usr/bin/groovy

File rootDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(&lt;span class=&quot;code-quote&quot;&gt;&apos;file:/tmp/foo&apos;&lt;/span&gt;))
rootDir.eachDirRecurse {
  println(it)
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;gives this result &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/tmp/foo/bar
/tmp/foo/bar/baz
/tmp/foo/bar/foo
/tmp/foo/bar/bar
/tmp/foo/baz&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% find /tmp/foo -depth -type d&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;correctly gives &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/tmp/foo/bar/baz
/tmp/foo/bar/foo
/tmp/foo/bar/bar
/tmp/foo/bar
/tmp/foo/baz
/tmp/foo&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Windows Linux</environment>
        <key id="13107159">GROOVY-8341</key>
            <summary>GDK: eachDirRecurse and eachFileRecurse are NOT depth-first</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="dheinric">Dirk Heinrichs</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Oct 2017 08:23:07 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:55 +0000</updated>
                            <resolved>Thu, 12 Oct 2017 03:26:50 +0000</resolved>
                                    <version>2.4.11</version>
                                    <fixVersion>2.4.13</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16195651" author="paulk" created="Sat, 7 Oct 2017 10:58:55 +0000"  >&lt;p&gt;I think many people see linux find as always doing depth-first traversal (because it&apos;s definitely not breadth-first) of directories but -depth can be used to ensure children are processed before their parent (which is what we&apos;d expect from a strict depth-first algorithm). Groovy &lt;tt&gt;eachDirRecurse&lt;/tt&gt; is the same as linux find without the -depth option (give or take the difference with processing the root). You can get the strict behavior using &lt;tt&gt;traverse&lt;/tt&gt; and it&apos;s &lt;tt&gt;postDir&lt;/tt&gt; closure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; groovy.io.FileType.*
File rootDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(&lt;span class=&quot;code-quote&quot;&gt;&apos;file:/tmp/foo&apos;&lt;/span&gt;))
rootDir.traverse(type: DIRECTORIES, postRoot: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, postDir: { println it }, {})
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;gives:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/tmp/foo/bar/baz
/tmp/foo/bar/foo
/tmp/foo/bar/bar
/tmp/foo/bar
/tmp/foo/baz
/tmp/foo
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You could argue that a change in behavior is required but given the &lt;tt&gt;traverse&lt;/tt&gt; functionality, I suspect we could perhaps just make the documentation clearer. What do you think?&lt;/p&gt;</comment>
                            <comment id="16196531" author="dheinric" created="Mon, 9 Oct 2017 06:03:59 +0000"  >&lt;p&gt;I don&apos;t care which one is fixed, as long as both match afterwards...&lt;/p&gt;</comment>
                            <comment id="16196829" author="githubbot" created="Mon, 9 Oct 2017 11:24:12 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/614&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/614&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8341&quot; title=&quot;GDK: eachDirRecurse and eachFileRecurse are NOT depth-first&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8341&quot;&gt;&lt;del&gt;GROOVY-8341&lt;/del&gt;&lt;/a&gt;: GDK: eachDirRecurse and eachFileRecurse are NOT depth-fi&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;rst (clarify wording in javadoc)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy8341&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/614.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/614.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #614&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9100c04a8f65b4579ef4aab312190a408be3270d&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2017-10-09T11:21:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8341&quot; title=&quot;GDK: eachDirRecurse and eachFileRecurse are NOT depth-first&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8341&quot;&gt;&lt;del&gt;GROOVY-8341&lt;/del&gt;&lt;/a&gt;: GDK: eachDirRecurse and eachFileRecurse are NOT depth-first (clarify wording in javadoc)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16201385" author="githubbot" created="Thu, 12 Oct 2017 03:16:17 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/614&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/614&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16201393" author="paulk" created="Thu, 12 Oct 2017 03:26:50 +0000"  >&lt;p&gt;Documentation now clarified. Thanks for helping us improve Groovy. If you can think of anyway to improve the wording even further, let us know (or create a PR).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kwjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>