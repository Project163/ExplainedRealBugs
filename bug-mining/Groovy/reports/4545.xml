<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:20:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10717] Map to type coercion not working on abstract classes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10717</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I sometimes use maps as mock objects for test cases. One test case started failing with groovy 3.0.11 and 4.0.2 where a map was being used as a mock for an abstract class. Here is a simplified version of what is now failing. Note that it does not fail if A is &lt;b&gt;not&lt;/b&gt; abstract:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
&#160; &#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; b
}

def a = [getB: { &lt;span class=&quot;code-quote&quot;&gt;&apos;string b&apos;&lt;/span&gt; }] as A
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;string b&apos;&lt;/span&gt; == &#160;a.b&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I also noticed that I don&apos;t get an UnsupportedOperationException when calling functions that were not implemented in the map as described in &lt;a href=&quot;https://groovy-lang.org/semantics.html#_map_to_type_coercion&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groovy-lang.org/semantics.html#_map_to_type_coercion&lt;/a&gt;. MissingPropertyException seems to be working, though I can&apos;t seem to find a way to get MissingMethodException.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
&#160; &#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; b
&#160; &#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; c
}

def a = [getB: { &lt;span class=&quot;code-quote&quot;&gt;&apos;string b&apos;&lt;/span&gt; }, getD: { &lt;span class=&quot;code-quote&quot;&gt;&apos;string d&apos;&lt;/span&gt; }] as A
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != a.c &lt;span class=&quot;code-comment&quot;&gt;// Should get UnsupportedOperationException (doesn&apos;t work)
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != a.d &lt;span class=&quot;code-comment&quot;&gt;// Should get MissingPropertyException (works)
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != a.getD() &lt;span class=&quot;code-comment&quot;&gt;// Should get MissingMethodException (doesn&apos;t work) &lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Possibly related to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8243&quot; title=&quot;SAM trait coercion via middle interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8243&quot;&gt;&lt;del&gt;GROOVY-8243&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13475213">GROOVY-10717</key>
            <summary>Map to type coercion not working on abstract classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chessami92">Josh DeWitt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Aug 2022 18:28:48 +0000</created>
                <updated>Fri, 10 Feb 2023 21:40:06 +0000</updated>
                            <resolved>Wed, 12 Oct 2022 18:16:07 +0000</resolved>
                                    <version>3.0.11</version>
                    <version>4.0.2</version>
                                    <fixVersion>2.5.19</fixVersion>
                    <fixVersion>4.0.6</fixVersion>
                    <fixVersion>3.0.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17576055" author="emilles" created="Fri, 5 Aug 2022 21:29:47 +0000"  >&lt;p&gt;Was this working as you expect for 3.0.10 and 4.0.1?&lt;/p&gt;</comment>
                            <comment id="17576057" author="chessami92" created="Fri, 5 Aug 2022 21:40:59 +0000"  >&lt;p&gt;Yes, my tests pass in 3.0.10 and 4.0.1.&#160;&lt;/p&gt;</comment>
                            <comment id="17576115" author="emilles" created="Sat, 6 Aug 2022 02:42:12 +0000"  >&lt;p&gt;This was changed for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8244&quot; title=&quot;SAM trait coercion with default parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8244&quot;&gt;&lt;del&gt;GROOVY-8244&lt;/del&gt;&lt;/a&gt;: proxy for abstract class/trait/interface only overrides abstract method(s), so that default arguments get applied. &lt;/p&gt;</comment>
                            <comment id="17576150" author="emilles" created="Sat, 6 Aug 2022 07:02:04 +0000"  >&lt;p&gt;In this case, you can set the property after you create a proxy instance.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
abstract &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; b
}

&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; a = [:] &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; A
a.b = &lt;span class=&quot;code-quote&quot;&gt;&apos;string b&apos;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a.b == &lt;span class=&quot;code-quote&quot;&gt;&apos;string b&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17616635" author="emilles" created="Wed, 12 Oct 2022 18:16:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/778124fa25a2a12229eb43fd5cd0fd71e86fb0aa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/778124fa25a2a12229eb43fd5cd0fd71e86fb0aa&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13083839">GROOVY-8244</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12818010">GROOVY-7330</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12826950">GROOVY-7412</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17hg0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>