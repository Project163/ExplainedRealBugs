<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:01:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9043] Access to package-scoped static field is forbidden for inner class in static compilation mode</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9043</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Given:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.PackageScope
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test {
  @PackageScope
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; S = &lt;span class=&quot;code-quote&quot;&gt;&apos;Some constant&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Inner {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; method() {
      S
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;there is a compilation error:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Access to Test#S is forbidden @ line -1, column -1.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No error without @CompileStatic.&lt;/p&gt;



&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Analogous code works&#160;in Java&lt;/p&gt;</description>
                <environment></environment>
        <key id="13222662">GROOVY-9043</key>
            <summary>Access to package-scoped static field is forbidden for inner class in static compilation mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="grv87">Basil Peace</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2019 20:10:57 +0000</created>
                <updated>Sun, 14 Jul 2019 13:12:37 +0000</updated>
                            <resolved>Tue, 23 Apr 2019 10:39:18 +0000</resolved>
                                    <version>3.0.0-alpha-4</version>
                    <version>2.5.6</version>
                                    <fixVersion>3.0.0-beta-1</fixVersion>
                    <fixVersion>2.5.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="16821242" author="emilles" created="Thu, 18 Apr 2019 15:44:34 +0000"  >&lt;p&gt;Looks like that decision is made on the last line of this method in &lt;tt&gt;StaticTypesCallSiteWriter&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDirectAccessAllowed(FieldNode a, ClassNode receiver, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSamePackage) {
        ClassNode declaringClass = a.getDeclaringClass().redirect();
        ClassNode receiverType = receiver.redirect();

        &lt;span class=&quot;code-comment&quot;&gt;// first, direct access from within the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;or &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;nodes
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (declaringClass.equals(receiverType)) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (receiverType &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; InnerClassNode) {
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (receiverType!=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; receiverType &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; InnerClassNode) {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (declaringClass.equals(receiverType)) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                receiverType = receiverType.getOuterClass();
            }
        }

        &lt;span class=&quot;code-comment&quot;&gt;// no getter
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; a.isPublic() || (a.isProtected() &amp;amp;&amp;amp; isSamePackage);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16821262" author="emilles" created="Thu, 18 Apr 2019 16:10:50 +0000"  >&lt;p&gt;Based on how the inner class check is described, I would rewrite the method like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDirectAccessAllowed(FieldNode field, ClassNode receiver, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSamePackage) {
        ClassNode declaringClass = field.getDeclaringClass().redirect();
        ClassNode receiverType = receiver.redirect();

        &lt;span class=&quot;code-comment&quot;&gt;// first, direct access from within the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;or &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;nodes
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (receiverType != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (declaringClass.equals(receiverType)) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-comment&quot;&gt;/*field.isPrivate()*/&lt;/span&gt;(field.getModifiers() &amp;amp; ACC_PRIVATE) != 0) { &lt;span class=&quot;code-comment&quot;&gt;// isPrivate does not exist in Groovy 2.4
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
            }
            receiverType = receiverType.getOuterClass();
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; field.isPublic() || isSamePackage;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This allows inner classes and same-package classes to access an class field of non-private visibility (private fields handled elsewhere).  &lt;del&gt;And any class in the same package to access a field that is public, protected or package-private.  What seems to be missing is subclass access to protected fields.&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="16821301" author="emilles" created="Thu, 18 Apr 2019 16:53:50 +0000"  >&lt;p&gt;The subclass access check appears to be handled somewhere else.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;One additional note:&lt;/b&gt; the line and column of the error is for the implicit-this object expression.&#160; It would be nice to have line and column of the field name.&lt;/p&gt;</comment>
                            <comment id="16821333" author="emilles" created="Thu, 18 Apr 2019 17:27:37 +0000"  >&lt;p&gt;If access to private fields is allowed from inner classes, an&#160;IllegalAccessError is thrown at run-time.&#160; Java allows this, so there must be some bridge or something going on there.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Java9043 {
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONST = &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Java9043().&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Inner().meth();
  }

  &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Inner {
    void meth() {
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(CONST);
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This prints &quot;value&quot; as expected.&lt;/p&gt;

&lt;p&gt;Update: Sorry, this is not a problem under the current implementation.  Suggested change has been adjusted to account for this case.&lt;/p&gt;</comment>
                            <comment id="16823953" author="paulk" created="Tue, 23 Apr 2019 10:39:19 +0000"  >&lt;p&gt;The proposed fix has been merged with minor tweaks.&lt;/p&gt;</comment>
                            <comment id="16827223" author="emilles" created="Fri, 26 Apr 2019 19:03:14 +0000"  >&lt;p&gt;I think the same package check needs a fix.  Currently it checks for same package of receiver (object expression) and &lt;em&gt;enclosing&lt;/em&gt; class.  But I think it should be &lt;em&gt;declaring&lt;/em&gt; class of the field and enclosing class of the field access.  That should mean no need to pass &lt;tt&gt;samePackages(...)&lt;/tt&gt; result from every call site of &lt;tt&gt;makeGetField&lt;/tt&gt; through to &lt;tt&gt;isDirectAccessAllowed&lt;/tt&gt;.  And &lt;tt&gt;isDirectAccessAllowed&lt;/tt&gt; would replace &quot;|| isSamePackage&quot; with &quot;|| samePackages(receiver.getPackageName(), declaringClass.getPackageName())&quot;.&lt;/p&gt;

&lt;p&gt;Test case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;One {
  @groovy.transform.PackageScope static final &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; VALUE = &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt;
}

&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; q
@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Two &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; p.One {
  static void test() {
    VALUE &lt;span class=&quot;code-comment&quot;&gt;// should be &lt;span class=&quot;code-quote&quot;&gt;&quot;Access to VALUE is forbidden ...&quot;&lt;/span&gt; but samePackage is &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; implicit-&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; q.Two and enclosing &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;q.Two
&lt;/span&gt;  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;as well as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;One {
  @groovy.transform.PackageScope static final &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; VALUE = &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt;
}

&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; q
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Two &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; p.One {}

&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Three {
  static void test() {
    q.Two.VALUE &lt;span class=&quot;code-comment&quot;&gt;// should be okay; Three is &lt;span class=&quot;code-keyword&quot;&gt;in&lt;/span&gt; same &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; the declaration so it gets privileged access
&lt;/span&gt;  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The parameter names of &lt;tt&gt;isDirectAccessAllowed&lt;/tt&gt;.  Field is named &quot;a&quot; instead of &quot;field&quot; &lt;del&gt;and enclosing type is named &quot;receiver&quot; instead of &quot;currentClass&quot; or &quot;enclosingClass&quot;&lt;/del&gt;.&lt;/p&gt;</comment>
                            <comment id="16831431" author="paulk" created="Thu, 2 May 2019 06:38:47 +0000"  >&lt;p&gt;If in your &quot;One-Two&quot; example, you intended to have &lt;tt&gt;CompileStatic&lt;/tt&gt; on &lt;tt&gt;Two&lt;/tt&gt; then yes, I&apos;d expect that to fail at compile time and your suggested change to &lt;tt&gt;isDirectAccessAllowed&lt;/tt&gt; does appear to fix that.&lt;/p&gt;

&lt;p&gt;For the &quot;One-Two-Three&quot; example, it seems to fail with dynamic Groovy and Java, so perhaps the existing error is appropriate - after your change, compilation &quot;succeeds&quot; but we now get an &lt;tt&gt;IllegalAccessError&lt;/tt&gt; from the JDK.&lt;/p&gt;</comment>
                            <comment id="16831664" author="emilles" created="Thu, 2 May 2019 14:43:00 +0000"  >&lt;p&gt;Added the CompileStatic annotations; sorry for missing that the first time around.  I&apos;ll retest the second case.  I thought I had it running successfully.&lt;/p&gt;

&lt;p&gt;Update: Here is my test case that runs to completion and gets expected output &amp;#8211; test fixture runs first class, which is why it has &lt;tt&gt;main&lt;/tt&gt; and whatnot:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCompileStatic9043_peerToPackage2() {
        &lt;span class=&quot;code-comment&quot;&gt;//@formatter:off
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] sources = {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;p/Main.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.*\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  @PackageScope &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; VALUE = &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt;\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main(args) {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Peer().meth()\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;}\n&quot;&lt;/span&gt;,

            &lt;span class=&quot;code-quote&quot;&gt;&quot;q/More.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; q\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;More &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; p.Main {}\n&quot;&lt;/span&gt;,

            &lt;span class=&quot;code-quote&quot;&gt;&quot;p/Peer.groovy&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.*\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;@CompileStatic &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Peer {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  void meth() {\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;    print q.More.VALUE\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;  }\n&quot;&lt;/span&gt; +
            &lt;span class=&quot;code-quote&quot;&gt;&quot;}\n&quot;&lt;/span&gt;,
        };
        &lt;span class=&quot;code-comment&quot;&gt;//@formatter:on
&lt;/span&gt;
        runConformTest(sources, &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16833764" author="paulk" created="Mon, 6 May 2019 12:32:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; The cases that weren&apos;t working for me are labelled &quot;&amp;#95;FIXME&amp;#95;&quot; in:&lt;br/&gt;
 src/test/org/codehaus/groovy/transform/packageScope/DifferentPackageTest.groovy (master and GROOVY_2_5_X)&lt;br/&gt;
If we fix, we should use another issue.&lt;/p&gt;</comment>
                            <comment id="16833883" author="emilles" created="Mon, 6 May 2019 14:48:32 +0000"  >&lt;p&gt;I see the tests: &lt;a href=&quot;https://github.com/apache/groovy/blob/master/src/test/org/codehaus/groovy/transform/packageScope/DifferentPackageTest.groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/master/src/test/org/codehaus/groovy/transform/packageScope/DifferentPackageTest.groovy&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Are you saying you&apos;re expecting the 3 FIXME tests to pass once some kind of change is made?  Or that they fail with the proposed changes here?&lt;/p&gt;

&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9106&quot; title=&quot;@CompileStatic and @PackageScope support for inner classes and package peers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9106&quot;&gt;&lt;del&gt;GROOVY-9106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16833967" author="paulk" created="Mon, 6 May 2019 16:19:46 +0000"  >&lt;p&gt;Yes, these three tests require further work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00vko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>