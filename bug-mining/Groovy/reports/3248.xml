<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:55:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8222] AsmClassGenerator does not set source positions on property expressions</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8222</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;AsmClassGenerator.visitVariableExpression and AsmClassGenerator.processClassVariable can create a new PropertyExpression from a VariableExpression and the source position of the original is not transferred.&lt;/p&gt;

&lt;p&gt;Solution is pretty minimal:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-comment&quot;&gt;// mid way through visitVariableExpression:
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (variable == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE edit
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;//processClassVariable(variableName);
&lt;/span&gt;            processClassVariable(expression);
            &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE end
&lt;/span&gt;        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE edit
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void processClassVariable(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void processClassVariable(VariableExpression expression) {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = expression.getName();
    &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE end&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-comment&quot;&gt;// end of processClassVariable:
&lt;/span&gt;        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE edit
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;//PropertyExpression pexp = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertyExpression(VariableExpression.THIS_EXPRESSION, name);
&lt;/span&gt;            PropertyExpression pexp = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertyExpression(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; VariableExpression(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;&quot;&lt;/span&gt;, ClassHelper.DYNAMIC_TYPE), name);
            pexp.getObjectExpression().setSourcePosition(expression);
            pexp.getProperty().setSourcePosition(expression);
            &lt;span class=&quot;code-comment&quot;&gt;// GRECLIPSE end
&lt;/span&gt;            pexp.setImplicitThis(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            visitPropertyExpression(pexp);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I found this because I had a &lt;tt&gt;with&lt;/tt&gt; expression that produced an error that was attributed to line -1.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.fasterxml.jackson.annotation.JsonInclude
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.fasterxml.jackson.databind.ObjectMapper
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.fasterxml.jackson.datatype.jsonorg.JsonOrgModule
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean
@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CustomObjectMapper &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ObjectMapper
{
    CustomObjectMapper()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(mimicSpring())
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; ObjectMapper mimicSpring()
    {
        /* Formerly in SpringDispatcherContext.xml:
         *  &amp;lt;bean class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;&lt;/span&gt;
         *    p:modulesToInstall=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.datatype.jsonorg.JsonOrgModule&quot;&lt;/span&gt;
         *    p:serializationInclusion=&lt;span class=&quot;code-quote&quot;&gt;&quot;NON_NULL&quot;&lt;/span&gt; p:failOnUnknownProperties=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;
         *    p:autoDetectFields=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; p:autoDetectGettersSetters=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
         *  &amp;lt;/bean&amp;gt;
         */

        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Jackson2ObjectMapperFactoryBean().with {
            modulesToInstall = JsonOrgModule &lt;span class=&quot;code-comment&quot;&gt;// Joda module is auto-discovered
&lt;/span&gt;            serializationInclusion = JsonInclude.Include.NON_NULL
            defaultViewInclusion = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// include w/o view tag
&lt;/span&gt;            failOnUnknownProperties = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
            autoDetectGettersSetters = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            autoDetectFields = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
            afterPropertiesSet()
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; object &lt;span class=&quot;code-comment&quot;&gt;// error on &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.object is the PropertyExpression that is created by AsmClassGenerator
&lt;/span&gt;        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13078641">GROOVY-8222</key>
            <summary>AsmClassGenerator does not set source positions on property expressions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jun 2017 15:15:39 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:42 +0000</updated>
                            <resolved>Sat, 8 Jul 2017 19:48:04 +0000</resolved>
                                                    <fixVersion>2.4.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16045985" author="githubbot" created="Sun, 11 Jun 2017 14:08:06 +0000"  >&lt;p&gt;GitHub user ArsenBabakhanyan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8222&quot; title=&quot;AsmClassGenerator does not set source positions on property expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8222&quot;&gt;&lt;del&gt;GROOVY-8222&lt;/del&gt;&lt;/a&gt;: Setting Source Position in newly created PropertyExpression&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ArsenBabakhanyan/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ArsenBabakhanyan/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8222&quot; title=&quot;AsmClassGenerator does not set source positions on property expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8222&quot;&gt;&lt;del&gt;GROOVY-8222&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #559&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5dcd3aea6710469042b6c7bada86dac28e6d67f8&lt;br/&gt;
Author: Arsen Babakhanyan &amp;lt;arsen.ba@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-11T14:06:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8222&quot; title=&quot;AsmClassGenerator does not set source positions on property expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8222&quot;&gt;&lt;del&gt;GROOVY-8222&lt;/del&gt;&lt;/a&gt;: Setting Source Position in newly created PropertyExpression&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16079242" author="githubbot" created="Sat, 8 Jul 2017 17:39:16 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126286728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126286728&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1251,11 +1251,13 @@ private void processClassVariable(String name) &lt;/p&gt;
{
                 mv.visitInsn(DUP);
     
                 loadThisOrOwner();
    -            mv.visitLdcInsn(name);
    +            mv.visitLdcInsn(expression.getName());
     
                 mv.visitMethodInsn(INVOKESPECIAL, &quot;org/codehaus/groovy/runtime/ScriptReference&quot;, &quot;&amp;lt;init&amp;gt;&quot;, &quot;(Lgroovy/lang/Script;Ljava/lang/String;)V&quot;, false);
             }
&lt;p&gt; else {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), name);&lt;br/&gt;
    +            PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), expression.getName());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    The patch provided in the JIRA creates a new `VariableExpression` (see below), I think that needs to be done so the source position is not set on the constant `VariableExpress.THIS_EXPRESSION` via the `getObjectExpression().setSourcePosition(..)` call.&lt;/p&gt;

&lt;p&gt;    ```java&lt;br/&gt;
    PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;, ClassHelper.DYNAMIC_TYPE), name);&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16079248" author="githubbot" created="Sat, 8 Jul 2017 17:42:50 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126286817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126286817&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1251,11 +1251,13 @@ private void processClassVariable(String name) &lt;/p&gt;
{
                 mv.visitInsn(DUP);
     
                 loadThisOrOwner();
    -            mv.visitLdcInsn(name);
    +            mv.visitLdcInsn(expression.getName());
     
                 mv.visitMethodInsn(INVOKESPECIAL, &quot;org/codehaus/groovy/runtime/ScriptReference&quot;, &quot;&amp;lt;init&amp;gt;&quot;, &quot;(Lgroovy/lang/Script;Ljava/lang/String;)V&quot;, false);
             }
&lt;p&gt; else {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), name);&lt;br/&gt;
    +            PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), expression.getName());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Scratch that comment, I was looking at the wrong source.&lt;/p&gt;</comment>
                            <comment id="16079253" author="githubbot" created="Sat, 8 Jul 2017 17:50:43 +0000"  >&lt;p&gt;Github user ArsenBabakhanyan commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126286972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126286972&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1251,11 +1251,13 @@ private void processClassVariable(String name) &lt;/p&gt;
{
                 mv.visitInsn(DUP);
     
                 loadThisOrOwner();
    -            mv.visitLdcInsn(name);
    +            mv.visitLdcInsn(expression.getName());
     
                 mv.visitMethodInsn(INVOKESPECIAL, &quot;org/codehaus/groovy/runtime/ScriptReference&quot;, &quot;&amp;lt;init&amp;gt;&quot;, &quot;(Lgroovy/lang/Script;Ljava/lang/String;)V&quot;, false);
             }
&lt;p&gt; else {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), name);&lt;br/&gt;
    +            PropertyExpression pexp = new PropertyExpression(new VariableExpression(&quot;this&quot;), expression.getName());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    ok&lt;/p&gt;</comment>
                            <comment id="16079281" author="githubbot" created="Sat, 8 Jul 2017 19:19:07 +0000"  >&lt;p&gt;Github user blackdrag commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126288338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126288338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1218,7 +1218,7 @@ public void visitVariableExpression(VariableExpression expression) {&lt;/p&gt;

&lt;p&gt;             BytecodeVariable variable = controller.getCompileStack().getVariable(variableName, false);&lt;br/&gt;
             if (variable == null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;processClassVariable(variableName);&lt;br/&gt;
    +            processClassVariable(expression);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I am feeling a bit partial about the change from variableName to expression. I know you need it to set the source position later on. But should we start doing some funky stuff where variableName or expression are changed, the this will cause a problem we may not even notice correctly. So I would suggest something I really really do not often... make the two final&lt;/p&gt;</comment>
                            <comment id="16079283" author="githubbot" created="Sat, 8 Jul 2017 19:24:04 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16079286" author="githubbot" created="Sat, 8 Jul 2017 19:32:52 +0000"  >&lt;p&gt;Github user ArsenBabakhanyan commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126288571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126288571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1218,7 +1218,7 @@ public void visitVariableExpression(VariableExpression expression) {&lt;/p&gt;

&lt;p&gt;             BytecodeVariable variable = controller.getCompileStack().getVariable(variableName, false);&lt;br/&gt;
             if (variable == null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;processClassVariable(variableName);&lt;br/&gt;
    +            processClassVariable(expression);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    this PR is closed, as I have mentioned before i am planning to do some refactoring and creating a new PR, I will make expression final there &lt;/p&gt;</comment>
                            <comment id="16079290" author="githubbot" created="Sat, 8 Jul 2017 19:45:07 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/559#discussion_r126288792&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/559#discussion_r126288792&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java &amp;#8212;&lt;br/&gt;
    @@ -1218,7 +1218,7 @@ public void visitVariableExpression(VariableExpression expression) {&lt;/p&gt;

&lt;p&gt;             BytecodeVariable variable = controller.getCompileStack().getVariable(variableName, false);&lt;br/&gt;
             if (variable == null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;processClassVariable(variableName);&lt;br/&gt;
    +            processClassVariable(expression);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Thanks for the PR.  I merged before seeing the comment from @blackdrag, so another refactor PR would be good.&lt;/p&gt;</comment>
                            <comment id="16079291" author="jwagenleitner" created="Sat, 8 Jul 2017 19:48:04 +0000"  >&lt;p&gt;Thanks for reporting the issue and providing a patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g3e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>