<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:30:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5468] Documentation error for ExpandoMetaClass</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5468</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>
&lt;p&gt;The following javadoc has a warning that was true under Grails from way back but I don&apos;t believe applies anymore when this functionality was ported to Groovy 1.1:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://groovy.codehaus.org/api/groovy/lang/ExpandoMetaClass.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.codehaus.org/api/groovy/lang/ExpandoMetaClass.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;WARNING: This MetaClass uses a thread-bound ThreadLocal instance to store and retrieve properties. In addition properties stored use soft references so they are both bound by the life of the Thread and by the soft references. The implication here is you should NEVER use dynamic properties if you want their values to stick around for long periods because as soon as the JVM is running low on memory or the thread dies they will be garbage collected.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is also mentioned here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://groovy.codehaus.org/ExpandoMetaClass+-+Properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.codehaus.org/ExpandoMetaClass+-+Properties&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;However, using this technique the property is stored in a ThreadLocal, WeakHashMap so don&apos;t expect the value to stick around forever!&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;My guess is when Expando was ported into Groovy 1.1 the javadocs weren&apos;t updated appropriately to reflect the changes as discussed here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://groovy.329449.n5.nabble.com/Adding-properties-failed-with-ExpandoMetaClass-td343953.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.329449.n5.nabble.com/Adding-properties-failed-with-ExpandoMetaClass-td343953.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was added here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jira.codehaus.org/browse/GROOVY-1720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GROOVY-1720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Using ThreadLocale wouldn&apos;t be amiable to server side RIA frameworks such as Vaadin where objects live beyond the request/response cycle.&lt;/p&gt;

&lt;p&gt;This test case clearly shows that it isn&apos;t bound to a ThreadLocale or this would fail:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.metaClass.swapCase = {-&amp;gt;
      def sb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;StringBuffer&lt;/span&gt;()
      delegate.each {
           sb &amp;lt;&amp;lt; (&lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.isUpperCase(it as &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) ? &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toLowerCase(it as &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) : 
                   &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toUpperCase(it as &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;))
      }
      sb.toString()
}


println &lt;span class=&quot;code-quote&quot;&gt;&apos;THIS IS A TEST&apos;&lt;/span&gt;.swapCase()

&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
   
    void run() {
        println &lt;span class=&quot;code-quote&quot;&gt;&apos;ANOTHER&apos;&lt;/span&gt;.swapCase()
    }
}).start()

&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(1000L)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12811705">GROOVY-5468</key>
            <summary>Documentation error for ExpandoMetaClass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="krasmussen">Kirk Rasmussen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 May 2012 15:27:49 +0000</created>
                <updated>Sat, 22 Dec 2012 01:10:49 +0000</updated>
                            <resolved>Sat, 15 Dec 2012 00:32:24 +0000</resolved>
                                    <version>1.8.6</version>
                                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>2.1.0-beta-1</fixVersion>
                    <fixVersion>1.8.9</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14473464" author="pschumacher" created="Mon, 5 Nov 2012 14:04:40 +0000"  >&lt;p&gt;Took a look at the code and didn&apos;t find any occurrences of WeakHashMap or ThreadLocal so I created pull request &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/70&lt;/a&gt; which removes the groovy doc comment. I also deleted the warning from the wiki page.&lt;/p&gt;</comment>
                            <comment id="14473598" author="paulk" created="Sat, 15 Dec 2012 00:32:24 +0000"  >&lt;p&gt;Spurious comment removed. Thanks for the issue and analysis Kirk and the pull request Pascal.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c0x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>