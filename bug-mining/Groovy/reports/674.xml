<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:05:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2618] GroovyConsole&apos;s Executing Window doesn&apos;t disappear after script finishes nor if user clicks on Interrupt button</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2618</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Open Groovy  Console and  run the following script:&lt;/p&gt;

&lt;p&gt;assert (&apos;a&apos;..&apos;c&apos;).contains(&apos;b&apos;)&lt;/p&gt;

&lt;p&gt;It may be necessary to run it multiple times until you get the Executing window &quot;frozen&quot; on screen. Hitting the Interrupt button won&apos;t do anything, but if you run the script again, the window disappears at the end of the execution.&lt;/p&gt;</description>
                <environment>Linux/Windows XP&lt;br/&gt;
JDK 1.5 / 1.6&lt;br/&gt;
Groovy 1.5.4</environment>
        <key id="12814108">GROOVY-2618</key>
            <summary>GroovyConsole&apos;s Executing Window doesn&apos;t disappear after script finishes nor if user clicks on Interrupt button</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shemnon">Daniel Ferrin</assignee>
                                    <reporter username="isis">isis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Feb 2008 05:32:43 +0000</created>
                <updated>Mon, 11 Aug 2008 13:07:31 +0000</updated>
                            <resolved>Mon, 11 Aug 2008 13:07:31 +0000</resolved>
                                    <version>1.5.4</version>
                                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>Swing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14478113" author="paulk" created="Tue, 22 Apr 2008 22:45:51 +0000"  >&lt;p&gt;What exact versions of java are you using? I tried invoking the script above a few hundred times and didn&apos;t observe the behavior you describe. If I give it an infinite loop, there are times when I then can&apos;t interrupt but not with the script you gave. I am trying to work out how to replicate your issue.&lt;/p&gt;</comment>
                            <comment id="14464578" author="isis" created="Wed, 23 Apr 2008 12:08:49 +0000"  >&lt;p&gt;Videos on OpenSuse 10.3.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://video.google.com/videoplay?docid=3322060040138143564&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://video.google.com/videoplay?docid=3322060040138143564&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://video.google.com/videoplay?docid=3023163888269498580&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://video.google.com/videoplay?docid=3023163888269498580&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hope you have a clue about this...&lt;/p&gt;</comment>
                            <comment id="14464677" author="shemnon" created="Wed, 23 Apr 2008 14:30:28 +0000"  >&lt;p&gt;To me it looks like a state issue.  The script is actually done while the interrupt window is up, so it is in effect waiting for nothing.  The exceedingly speedy script is key to the issue.  Looks like I need to check the state before I throw up the dialog, in cease it is already done.&lt;/p&gt;</comment>
                            <comment id="14464662" author="paulk" created="Wed, 23 Apr 2008 18:16:03 +0000"  >&lt;p&gt;update fix version&lt;/p&gt;</comment>
                            <comment id="14464603" author="jimwhite" created="Wed, 23 Apr 2008 18:31:01 +0000"  >&lt;p&gt;Your comment in the fixed code indicates you think this is due to an AWT bug.  I&apos;m pretty sure that is not the case.  &lt;/p&gt;

&lt;p&gt;Because showRunWaitDialog is done on the EDT, this behavior is very probably because you&apos;re executing the code and calling hide before the dialog is shown.  So the hide does nothing and then the event finally fires and displays the &quot;wait&quot; dialog (a bit tooo late &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;Your thread fix is OK, although this could also be handled without one with suitable checks.&lt;/p&gt;</comment>
                            <comment id="14478141" author="paulk" created="Wed, 23 Apr 2008 19:01:17 +0000"  >&lt;p&gt;With the patch applied (haven&apos;t tried pre-patch), I get the following (in WinXP, jdk1.6) when trying to run/intercept an infinie loop ({{while(true) &lt;/p&gt;
{ println &apos;forever&apos; }
&lt;p&gt; }}):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception occurred during event dispatching:
org.codehaus.groovy.runtime.InvokerInvocationException: java.lang.ArrayIndexOutOfBoundsException
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:92)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:248)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:756)
        at groovy.lang.Closure.call(Closure.java:292)
        at groovy.lang.Closure.call(Closure.java:287)
        at groovy.lang.Closure.run(Closure.java:368)
        at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:177)
        at java.awt.Dialog$1.run(Dialog.java:1045)
        at java.awt.Dialog$3.run(Dialog.java:1097)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.awt.Dialog.show(Dialog.java:1095)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:912)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:756)
        at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:766)
        at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:754)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:170)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethod0(ScriptBytecodeAdapter.java:198)
        at groovy.ui.Console.showRunWaitDialog(Console.groovy:609)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:333)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrentN(ScriptBytecodeAdapter.java:78)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrent0(ScriptBytecodeAdapter.java:112)
        at groovy.ui.Console$_runScriptImpl_closure4_closure10.doCall(Console.groovy)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:248)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrentN(ScriptBytecodeAdapter.java:78)
        at groovy.ui.Console$_runScriptImpl_closure4_closure10.doCall(Console.groovy)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:248)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:756)
        at groovy.lang.Closure.call(Closure.java:292)
        at groovy.lang.Closure.call(Closure.java:287)
        at groovy.lang.Closure.run(Closure.java:368)
        at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)
Caused by: java.lang.ArrayIndexOutOfBoundsException
        at java.lang.System.arraycopy(Native Method)
        at javax.swing.text.BoxView.updateLayoutArray(BoxView.java:196)
        at javax.swing.text.BoxView.replace(BoxView.java:168)
        at javax.swing.text.View.updateChildren(View.java:1095)
        at javax.swing.text.View.insertUpdate(View.java:679)
        at javax.swing.plaf.basic.BasicTextUI$RootView.insertUpdate(BasicTextUI.java:1589)
        at javax.swing.plaf.basic.BasicTextUI$UpdateHandler.insertUpdate(BasicTextUI.java:1848)
        at javax.swing.text.AbstractDocument.fireInsertUpdate(AbstractDocument.java:185)
        at javax.swing.text.AbstractDocument.handleInsertString(AbstractDocument.java:734)
        at javax.swing.text.AbstractDocument.insertString(AbstractDocument.java:693)
        at sun.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:912)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:756)
        at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:766)
        at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:754)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:170)
        at groovy.ui.Console.appendOutput(Console.groovy:199)
        at sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:333)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrentN(ScriptBytecodeAdapter.java:78)
        at groovy.ui.Console$_notifySystemOut_closure3.doCall(Console.groovy:448)
        at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:230)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:248)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnCurrentN(ScriptBytecodeAdapter.java:78)
        at groovy.ui.Console$_notifySystemOut_closure3.doCall(Console.groovy)
        at sun.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        ... 66 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14464621" author="shemnon" created="Wed, 23 Apr 2008 23:32:21 +0000"  >

&lt;p&gt;@Jim White .&lt;br/&gt;
Hide was /also/ being called in the EDT.  Both were added to the EDT thread via SwingUtilities.invokeLater.  My comment indicates I would assume that calling show in one runnable added to the EDT would result in the dialig being fully shown and stable, and that if I call hide the first thing in the next runnable, it will hide.  however, that is not the case.  either the second runnable added is being executed before the first runnable being added is resolved, or something is going strange in the AWT in that the dialog isn&apos;t done &apos;showing&apos;, perhaps placing it&apos;s own invokeLater to do some processing, and my hide gets called before the further processing gets called,&lt;/p&gt;

&lt;p&gt;@Paul King&lt;br/&gt;
I doubt that my change could cause it, all the stack is in the EDT.  It seems like you are running out of system resources (I got 4GB, I ran out of heap first).  Besides, that script is not interruptable.  Try this one&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;) {wait(100); println &lt;span class=&quot;code-quote&quot;&gt;&quot;Hi&quot;&lt;/span&gt;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It&apos;s more likely bad UI to imply to the user that runaway threads can easily be stopped &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="14478131" author="paulk" created="Thu, 24 Apr 2008 19:08:23 +0000"  >&lt;p&gt;The fix went into the last 1.5.6 RC. Isis, you can try it out here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://snapshots.dist.codehaus.org/groovy/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapshots.dist.codehaus.org/groovy/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The patch seems to work for me on WinXP.&lt;/p&gt;
</comment>
                            <comment id="14464707" author="shemnon" created="Fri, 2 May 2008 09:27:07 +0000"  >&lt;p&gt;It got fixed a while ago, just slow on the bug resolution&lt;/p&gt;</comment>
                            <comment id="14465082" author="isis" created="Mon, 11 Aug 2008 10:09:00 +0000"  >&lt;p&gt;&quot;Sorry&quot; to warn you,guys, but I&apos;ve got the 1.5.6 release and this issue still exists.&lt;/p&gt;

&lt;p&gt;The script:&lt;br/&gt;
def lista = &lt;span class=&quot;error&quot;&gt;&amp;#91;3,45,67,87,23,13,78,08,49&amp;#93;&lt;/span&gt;&lt;br/&gt;
lista.each() &lt;/p&gt;
{ println it }

&lt;p&gt;I executed this about 20 times and then maximized the window.On the first run,the &quot;please wait&quot; screen gets stuck on my video.&lt;/p&gt;

&lt;p&gt;It&apos;s not THAT serious,but it&apos;s pesky. Another thing that you might have the chance to notice is that when running the script, the window is blank: no text and no button. And this time,it only took me about 7 executions in a maximized window.&lt;/p&gt;

&lt;p&gt;Suse 11.0/jdk 1.6&lt;/p&gt;</comment>
                            <comment id="14465164" author="shemnon" created="Mon, 11 Aug 2008 13:07:31 +0000"  >&lt;p&gt;Yes, this issue still exists in 1.5.6 because it won&apos;t be addressed in the 1.5 line.  The architectural changes needed to support it are too much for a dot-dot release.  The issue is resolved in the 1.6 line, as indicated by the Fix Version field.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c4dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>