<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:06:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9522] Throwing NPE when I use ternary operator with something special</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9522</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Hi,&#160; I got NPE instead of empty string when I wrote the following snippet:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; a() {
 &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
}

&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; b() {
 &apos;&apos;
}

def x = a() ? [b(), a()].join(&lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt;) : b() &lt;span class=&quot;code-comment&quot;&gt;// NPE
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//def x = a() ? [b(), a()] : b() // OK
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//def x = a() ? ([b(), a()]).join(&lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt;) : b() // OK
&lt;/span&gt;
x == &apos;&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Win10/MacOS&lt;br/&gt;
Zulu OpenJDK 11&lt;br/&gt;
</environment>
        <key id="13300725">GROOVY-9522</key>
            <summary>Throwing NPE when I use ternary operator with something special</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="digitarts">Huabin Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2020 06:47:25 +0000</created>
                <updated>Fri, 22 May 2020 04:03:43 +0000</updated>
                            <resolved>Tue, 12 May 2020 14:04:33 +0000</resolved>
                                    <version>3.0.3</version>
                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                    <fixVersion>3.0.4</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17091256" author="daniel_sun" created="Fri, 24 Apr 2020 07:16:23 +0000"  >&lt;p&gt;You can avoid ambiguities via parentheses:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def x = a() ? ([b(), a()].join(&lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt;)) : b()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;P.S. &lt;tt&gt;?&lt;span class=&quot;error&quot;&gt;&amp;#91;....&amp;#93;&lt;/span&gt;&lt;/tt&gt;  is introduced since 3.0.0 as safe indexing, which introduces some ambiguities too.&lt;/p&gt;</comment>
                            <comment id="17091257" author="daniel_sun" created="Fri, 24 Apr 2020 07:17:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; How about making &lt;tt&gt;?[&lt;/tt&gt; a real operator?&lt;/p&gt;</comment>
                            <comment id="17091301" author="digitarts" created="Fri, 24 Apr 2020 07:42:06 +0000"  >&lt;p&gt;Oh~~,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
?[...]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is a new feature.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For your suggestion, +1, it&apos;s easier to distinguish Safe Indexing and Ternary Operator.&lt;/p&gt;</comment>
                            <comment id="17091333" author="daniel_sun" created="Fri, 24 Apr 2020 08:31:01 +0000"  >&lt;p&gt;FYI.&lt;br/&gt;
&lt;a href=&quot;http://groovy-lang.org/releasenotes/groovy-3.0.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy-lang.org/releasenotes/groovy-3.0.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] array = [&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;]
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt; == array?[1]      &lt;span class=&quot;code-comment&quot;&gt;// get using normal array index
&lt;/span&gt;array?[1] = &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;              &lt;span class=&quot;code-comment&quot;&gt;// set using normal array index
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt; == array?[1]

array = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == array?[1]     &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all index values
&lt;/span&gt;array?[1] = &lt;span class=&quot;code-quote&quot;&gt;&apos;c&apos;&lt;/span&gt;              &lt;span class=&quot;code-comment&quot;&gt;// quietly ignore attempt to set value
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == array?[1]

def personInfo = [name: &lt;span class=&quot;code-quote&quot;&gt;&apos;Daniel.Sun&apos;&lt;/span&gt;, location: &lt;span class=&quot;code-quote&quot;&gt;&apos;Shanghai&apos;&lt;/span&gt;]
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;Daniel.Sun&apos;&lt;/span&gt; == personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;]      &lt;span class=&quot;code-comment&quot;&gt;// get using normal map index
&lt;/span&gt;personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;] = &lt;span class=&quot;code-quote&quot;&gt;&apos;sunlan&apos;&lt;/span&gt;                  &lt;span class=&quot;code-comment&quot;&gt;// set using normal map index
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;sunlan&apos;&lt;/span&gt; == personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;]

personInfo = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;]              &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all map values
&lt;/span&gt;personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;] = &lt;span class=&quot;code-quote&quot;&gt;&apos;sunlan&apos;&lt;/span&gt;                  &lt;span class=&quot;code-comment&quot;&gt;// quietly ignore attempt to set value
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == personInfo?[&lt;span class=&quot;code-quote&quot;&gt;&apos;name&apos;&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17104071" author="daniel_sun" created="Mon, 11 May 2020 05:03:19 +0000"  >&lt;p&gt;Groovy 3 supports the following argument syntax, which is NOT supported by Groovy 2&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def m(p) { println p }
&lt;span class=&quot;code-comment&quot;&gt;// yield [a:1]
&lt;/span&gt;m(&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;) : 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
We should forbidden the syntax in Groovy 3 too, thus the ambiguities of this issue should be eliminated.&lt;/p&gt;




&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17104985" author="daniel_sun" created="Tue, 12 May 2020 00:33:03 +0000"  >&lt;p&gt;The following PR should be able to fix the issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/pull/1246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1246&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0e0xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>