<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:20:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6939] Calling &quot;each&quot; on an untyped model variable with two arguments causes doCall error</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6939</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;With the following code, the markup builder will recognize a call to the &lt;tt&gt;each&lt;/tt&gt; method, but at runtime, it throws an error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MarkupTemplateEngine engine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MarkupTemplateEngine(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TemplateConfiguration())

        def template = engine.createTemplate &apos;&apos;&apos;
            groups.each { k, v -&amp;gt; li(k) }
        &apos;&apos;&apos;
        def model = [groups:[a:&lt;span class=&quot;code-quote&quot;&gt;&apos;Group a&apos;&lt;/span&gt;,b:&lt;span class=&quot;code-quote&quot;&gt;&apos;Group b&apos;&lt;/span&gt;]]
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; rendered = template.make(model)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;groovy.lang.MissingMethodException: No signature of method: GeneratedMarkupTemplate0$_run_closure1.doCall() is applicable for argument types: (java.util.LinkedHashMap$Entry) values: [a=Group a]
Possible solutions: doCall(java.lang.Object, java.lang.Object), findAll(), findAll(), isCase(java.lang.Object), isCase(java.lang.Object)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:270)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:910)
	at groovy.lang.Closure.call(Closure.java:423)
	at groovy.lang.Closure.call(Closure.java:439)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:1380)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:1311)
	at GeneratedMarkupTemplate0.run(GeneratedMarkupTemplate0:2)
	at groovy.text.markup.BaseTemplate.writeTo(BaseTemplate.java:468)
	at groovy.lang.Writable$writeTo.call(Unknown Source)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12811410">GROOVY-6939</key>
            <summary>Calling &quot;each&quot; on an untyped model variable with two arguments causes doCall error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="melix">C&#233;dric Champeau</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jul 2014 09:46:22 +0000</created>
                <updated>Wed, 23 Aug 2023 09:11:20 +0000</updated>
                            <resolved>Fri, 9 Sep 2022 01:51:37 +0000</resolved>
                                    <version>2.3.4</version>
                    <version>2.4.0-rc-1</version>
                                    <fixVersion>5.0.0-alpha-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14476237" author="melix" created="Tue, 15 Jul 2014 03:54:00 +0000"  >&lt;p&gt;For reference, this is not a problem specific to the template engine. The static compiler would show the same error (but it&apos;s easier to understand in that context) with this code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
void m(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; o) {
    o.each { k,v -&amp;gt; println k }
}

m(a:&lt;span class=&quot;code-quote&quot;&gt;&apos;Value&apos;&lt;/span&gt;,b:&lt;span class=&quot;code-quote&quot;&gt;&apos;Value 2&apos;&lt;/span&gt;)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem here is that the &lt;tt&gt;each&lt;/tt&gt; method which is chosen at compile-time is the version which accepts an &lt;tt&gt;Object&lt;/tt&gt;, and calls &lt;tt&gt;asIterator&lt;/tt&gt; on it. That would return an iterator of map entries in the context of a &lt;tt&gt;Map&lt;/tt&gt;, leading to the error.&lt;/p&gt;</comment>
                            <comment id="17601946" author="emilles" created="Thu, 8 Sep 2022 17:57:06 +0000"  >&lt;p&gt;Looks like the MME is thrown for static and non-static modes.  In addition to a new STC error, should the dynamic case succeed (and supply null) to the excess parameters &amp;#8211; or just stay a runtime exception?&lt;/p&gt;</comment>
                            <comment id="17602062" author="emilles" created="Fri, 9 Sep 2022 01:51:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/ea34146709b5f1afec9d84b00c2311f0bb5c8d89&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/ea34146709b5f1afec9d84b00c2311f0bb5c8d89&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13084502">GROOVY-8247</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13143229">GROOVY-8499</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13478885">GROOVY-10731</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13539336">GROOVY-11089</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13188197">GROOVY-8816</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13344922">GROOVY-9854</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c81r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>