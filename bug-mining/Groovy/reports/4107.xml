<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:12:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9069] assignment in map by named index causes casting error</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9069</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;If I assign a value to a collection via a named index (key name) I get a casting error like so:&lt;/p&gt;

&lt;p&gt;Failed to convert property value of type &lt;tt&gt;java.util.LinkedHashMap&lt;/tt&gt; to required type &lt;tt&gt;java.util.Map&lt;/tt&gt; for property &lt;tt&gt;methodConfigNames&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Here is the code in question. This doesn&apos;t happen in Groovy 2.4.15. Because Grails 4 is running 2.5.6, many plugins are failing with this error.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void setMethodConfigNames(Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; methodConfigNames) {
    methodConfigNames.each { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; value -&amp;gt;
        Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;ConfigAttribute&amp;gt;&amp;gt; configs = [:]
        populateMap configs, value
        methodConfigs[key] = configs &lt;span class=&quot;code-comment&quot;&gt;// fails
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;//methodConfigs.put(key,configs) // works
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If this could get resolved it would save a lot of plugins from having to be re-released with the workaround making less confusion about the error. In some cases this works and some it doesn&apos;t. Even though I have @CompileStatic set, the issue happens at runtime.&lt;/p&gt;</description>
                <environment>Linux Mint 19.1</environment>
        <key id="13226382">GROOVY-9069</key>
            <summary>assignment in map by named index causes casting error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rvanderwerf@gmail.com">Ryan Vanderwerf</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Apr 2019 14:51:21 +0000</created>
                <updated>Wed, 17 Aug 2022 19:38:49 +0000</updated>
                            <resolved>Sun, 2 May 2021 13:26:55 +0000</resolved>
                                    <version>2.5.6</version>
                                                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16811343" author="paulk" created="Fri, 5 Apr 2019 23:10:33 +0000"  >&lt;p&gt;The workaround is probably to remove @CompileStatic. It would be nice to have a self-contained reproducer.&lt;/p&gt;</comment>
                            <comment id="16812479" author="rvanderwerf@gmail.com" created="Mon, 8 Apr 2019 14:41:44 +0000"  >&lt;p&gt;ok I&apos;ll make a standalone example soon that replicats this and put it here. &lt;/p&gt;</comment>
                            <comment id="16812541" author="emilles" created="Mon, 8 Apr 2019 16:06:08 +0000"  >&lt;p&gt;Should &lt;tt&gt;Map&amp;lt;String, List&amp;lt;ConfigAttribute&amp;gt;&amp;gt; configs = &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;/tt&gt; be &lt;tt&gt;Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt; configs = &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;/tt&gt; instead?  You are trying to add to &lt;tt&gt;Map&amp;lt;String, Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17338012" author="emilles" created="Sun, 2 May 2021 13:26:55 +0000"  >&lt;p&gt;I added a test case for your posted scenario.  You are trying to put &quot;Map&amp;lt;String, List&amp;lt;ConfigAttribute&amp;gt;&amp;gt;&quot; into &quot;Map&amp;lt;String, Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;&quot; which is indeed a STC error.&lt;/p&gt;

&lt;p&gt;I also added a test case for put of &quot;Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt;&quot; into Map&amp;lt;String, Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;&quot; and it works as expected for &lt;tt&gt;put&lt;/tt&gt; and &lt;tt&gt;putAt&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13184876">GROOVY-8788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01i4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>