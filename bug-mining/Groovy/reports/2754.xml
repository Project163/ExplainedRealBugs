<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:43:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7132] JsonSlurper throws exception if reader does not fill complete char buffer</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7132</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The method JsonSlurper.parse(Reader) throws the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;groovy.json.JsonException: expecting &lt;span class=&quot;code-quote&quot;&gt;&apos;}&apos;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt; but got current &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; &apos;&apos; with an &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; value of 0

The current character read is &apos;&apos; with an &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; value of 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;if the reader does not always fill the complete char buffer at the method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; read(&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;[] cbuf, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; off, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but returns a &lt;tt&gt;value &amp;lt; len&lt;/tt&gt; on certain points.&lt;/p&gt;

&lt;p&gt;I have provided a test case at &lt;br/&gt;
&lt;a href=&quot;https://github.com/effrafax/jsonslurp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/effrafax/jsonslurp&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; A standard use case where this exception occurs:&lt;br/&gt;
if you use a http-builder with JSON contentType where the server returns the response chunked (Transfer-Encoding: chunked). The InputStreamReader of the apache http client does not fill the complete char buffer at chunk borders.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12812039">GROOVY-7132</key>
            <summary>JsonSlurper throws exception if reader does not fill complete char buffer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="martin_s">Martin Schreier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Oct 2014 17:18:17 +0000</created>
                <updated>Sun, 5 Apr 2015 14:43:58 +0000</updated>
                            <resolved>Wed, 5 Nov 2014 05:42:25 +0000</resolved>
                                    <version>2.3.7</version>
                                    <fixVersion>2.3.8</fixVersion>
                    <fixVersion>2.4.0-beta-4</fixVersion>
                                    <component>JSON</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14476693" author="effrafax" created="Tue, 28 Oct 2014 16:40:04 +0000"  >&lt;p&gt;Test class for groovy.json.internal.IO that reproduces the error.&lt;/p&gt;</comment>
                            <comment id="14476585" author="effrafax" created="Tue, 28 Oct 2014 16:41:22 +0000"  >&lt;p&gt;Fix for the error&lt;/p&gt;</comment>
                            <comment id="14476733" author="effrafax" created="Tue, 28 Oct 2014 16:42:49 +0000"  >&lt;p&gt;This error seems to be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7028&quot; title=&quot;Chunked input stream incorrectly handled in IO.read()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7028&quot;&gt;&lt;del&gt;GROOVY-7028&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14476535" author="effrafax" created="Tue, 28 Oct 2014 16:43:57 +0000"  >&lt;p&gt;I may provide a github pull request if this is more convenient.&lt;/p&gt;</comment>
                            <comment id="14476668" author="effrafax" created="Wed, 29 Oct 2014 02:32:32 +0000"  >&lt;p&gt;Replaced the diff file&lt;/p&gt;</comment>
                            <comment id="14476648" author="pschumacher" created="Wed, 29 Oct 2014 04:47:25 +0000"  >&lt;p&gt;Thanks for reporting this issue and for providing the patch. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;A pull request would be more convenient. If it does not cause you to much bother to create one.  &lt;/p&gt;</comment>
                            <comment id="14476630" author="effrafax" created="Wed, 29 Oct 2014 06:46:02 +0000"  >&lt;p&gt;Pull request submitted. Please verify:&lt;br/&gt;
&lt;a href=&quot;https://github.com/groovy/groovy-core/pull/528&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/528&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14476592" author="melix" created="Wed, 5 Nov 2014 05:42:25 +0000"  >&lt;p&gt;Thank you. The fix has been backported to 2.3.x.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12817785">GROOVY-7028</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12723185" name="IO.diff" size="565" author="martin_s" created="Wed, 29 Oct 2014 02:32:32 +0000"/>
                            <attachment id="12723220" name="IOTest.groovy" size="2294" author="martin_s" created="Tue, 28 Oct 2014 16:40:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c1sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>