<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:29:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5689] ClassCastException Double-&gt;Float with -= += operators and closures</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5689</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The ClassCastException is thrown only in combination of a -= (or +=) operator and a closure.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
void doesNotWork() {
  &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; myFloat = 40f
  myFloat -= 20f
  println &lt;span class=&quot;code-quote&quot;&gt;&quot;doesNotWork() $myFloat&quot;&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// the exception is thrown here, but because of the combination of the -= and the closure
&lt;/span&gt;  (0..1).each { i -&amp;gt; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; can be any closure - doesn&apos;t matter
&lt;/span&gt;    println &lt;span class=&quot;code-quote&quot;&gt;&quot;doesNotWork() in the closure: $myFloat&quot;&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Did not occure with 1.8.3.&lt;/p&gt;</description>
                <environment>Ubuntu 12.04, SunJDK 1.6.0_u33 x64, groovy 1.8.7</environment>
        <key id="12816474">GROOVY-5689</key>
            <summary>ClassCastException Double-&gt;Float with -= += operators and closures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="luukes">Lukas Ruetz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Sep 2012 05:05:42 +0000</created>
                <updated>Tue, 11 Sep 2012 01:15:16 +0000</updated>
                            <resolved>Fri, 7 Sep 2012 11:03:01 +0000</resolved>
                                    <version>1.8.7</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14473232" author="blackdrag" created="Thu, 6 Sep 2012 09:47:27 +0000"  >&lt;p&gt;ok, a first analysis... it is unrelated to primopts directly. In Groovy if you assign a value you have to do a groovy style cast to the target type. This does not happen here. The result of the operation is just stored in the Reference. But since the result is a double and some later code, that does a jvm cast, expects a float. The type transformation is missing, thus the exception.that means a cast that was in 1.8.3 was lost somehow... or the later one was added... that is unclear.&lt;/p&gt;</comment>
                            <comment id="14473261" author="blackdrag" created="Fri, 7 Sep 2012 11:03:02 +0000"  >&lt;p&gt;fixed now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c0yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>