<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:45:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7281] IOGroovyMethods.withStream should use the stream type as the ClosureParam, not simply InputStream</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7281</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;IOGroovyMethods.withStream currently defines the closure parameter as InputStream. If withStream is used on a subclass of InputStream, then that type information isn&apos;t available.&lt;/p&gt;

&lt;p&gt;Here&apos;s an example that should compile, but does not:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[5]) .withStream{ &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ByteArrayInputStream stream  -&amp;gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In IOGroovyMethods, I suggest changing the method declaration from:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; T withStream(InputStream stream, @ClosureParams(value=SimpleType.class, options=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.io.InputStream&quot;&lt;/span&gt;) Closure&amp;lt;T&amp;gt; closure) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T, U &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; InputStream&amp;gt; T withStream(U stream, @ClosureParams(value=FirstParam.class) Closure&amp;lt;T&amp;gt; closure) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12816590">GROOVY-7281</key>
            <summary>IOGroovyMethods.withStream should use the stream type as the ClosureParam, not simply InputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="candrews">Craig</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jan 2015 21:41:15 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:21 +0000</updated>
                            <resolved>Wed, 11 Mar 2015 13:27:43 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.4.2</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14476950" author="candrews" created="Tue, 27 Jan 2015 21:55:16 +0000"  >&lt;p&gt;Submitted pull request: &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/599&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14480777" author="paulk" created="Tue, 27 Jan 2015 22:45:14 +0000"  >&lt;p&gt;We need to do this with a whole bunch of the DGM methods actually.&lt;/p&gt;

&lt;p&gt;Last time we looked at it there were minor bugs with our tooling in terms of how groovydoc and entries in the groovy-jdk displayed DGM methods with such generics information. Have you had a chance to run any of the doc related gradle tasks after your change? I don&apos;t know if improvements have been made since last we checked.&lt;/p&gt;

&lt;p&gt;It might be time to get the DGM methods fixed in any case and have the doc tool fixes follow but it would be interesting to at least know the current situation.&lt;/p&gt;</comment>
                            <comment id="14476941" author="candrews" created="Tue, 27 Jan 2015 23:58:06 +0000"  >&lt;p&gt;I noticed that many of the methods in DefaultGroovyMethods are lacking generics information, and most that take closures are lacking the @ClosureParams annotations. It would be cool to fix that up, too.&lt;/p&gt;

&lt;p&gt;I haven&apos;t run the docs - but there are other methods which do have @ClosureParams which seem to be documented correctly, such as withObjectOutputStream - so shouldn&apos;t the changes to withStream also work?&lt;/p&gt;</comment>
                            <comment id="14476991" author="melix" created="Wed, 28 Jan 2015 01:19:48 +0000"  >&lt;p&gt;I think in this case it is ok, but in general we should be careful with updating methods to add generic type information because it can lead to binary breaking changes.&lt;/p&gt;</comment>
                            <comment id="14476861" author="candrews" created="Wed, 28 Jan 2015 12:12:01 +0000"  >&lt;p&gt;Reported the lack of type information I saw in DefaultGroovyMethods at &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7283&quot; title=&quot;DefaultGroovyMethods methods should include type information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7283&quot;&gt;&lt;del&gt;GROOVY-7283&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14477116" author="melix" created="Wed, 11 Mar 2015 13:27:43 +0000"  >&lt;p&gt;Merged &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/599&lt;/a&gt;, thanks. For other updates, I think creating separate issues is better so that we can easily track them.&lt;/p&gt;</comment>
                            <comment id="14480802" author="paulk" created="Thu, 12 Mar 2015 02:41:36 +0000"  >&lt;p&gt;I created some issues to track the doco tooling short-comings I mentioned above. See here: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7339&quot; title=&quot;DocGenerator doesn&amp;#39;t understand generics placeholders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7339&quot;&gt;&lt;del&gt;GROOVY-7339&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7340&quot; title=&quot;GroovyDoc doesn&amp;#39;t understand method type parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7340&quot;&gt;&lt;del&gt;GROOVY-7340&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(I thought we might have had these covered in an existing issue but a search didn&apos;t reveal one and since it is now live in our doco, we should fix with higher importance in any case.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cktr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>