<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:22:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9933] Exceptions logged on Java 8 </title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9933</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When using Groovy 3.0.7 on a JDK 8, the following exception is logged. This causes problems for other parties scanning logs for exceptions and users trying to find real problems. The exception in question doesn&apos;t seem to be a problem though as it is expected to not find Java 9 classes on Java 8. In&#160; Groovy 2.x, this used to not log errors as it checked the java major version before loading the class.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2021-02-09T10:13:25.639+0100 [DEBUG] [org.codehaus.groovy.vmplugin.VMPluginFactory] Trying to create VM plugin `org.codehaus.groovy.vmplugin.v9.Java9` by checking `java.lang.Module`, but failed:
java.lang.ClassNotFoundException: java.lang.Modulejava.lang.ClassNotFoundException: java.lang.Module at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:419) at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:352) at org.codehaus.groovy.vmplugin.VMPluginFactory.lambda$createPlugin$0(VMPluginFactory.java:61) at java.security.AccessController.doPrivileged(Native Method) at org.codehaus.groovy.vmplugin.VMPluginFactory.createPlugin(VMPluginFactory.java:58) at org.codehaus.groovy.vmplugin.VMPluginFactory.&amp;lt;clinit&amp;gt;(VMPluginFactory.java:45) at org.codehaus.groovy.reflection.ReflectionUtils.&amp;lt;clinit&amp;gt;(ReflectionUtils.java:47) at org.codehaus.groovy.reflection.CachedClass$3.lambda$initValue$1(CachedClass.java:90) at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174) at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:546) at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; &#160;&lt;/p&gt;</description>
                <environment>MacOS</environment>
        <key id="13357720">GROOVY-9933</key>
            <summary>Exceptions logged on Java 8 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10008">Information Provided</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmuskalla">Benjamin Muskalla</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Feb 2021 09:21:44 +0000</created>
                <updated>Tue, 1 Aug 2023 21:18:20 +0000</updated>
                            <resolved>Tue, 1 Aug 2023 21:18:20 +0000</resolved>
                                    <version>3.0.7</version>
                                                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17281708" author="paulk" created="Tue, 9 Feb 2021 10:49:58 +0000"  >&lt;p&gt;I can&apos;t see any check for Java version, we just didn&apos;t seem to log anything in that case which meant there was no way to tell what went wrong in other scenarios:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/2737292fcc9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/2737292fcc9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We&apos;ll have to think about possibilities. One option might be to have special code to not log the ClassNotFoundException case but log a friendly message instead, e.g. &quot;JDK9 class not found, assuming JDK8&quot; or similar, but still log the exception in other cases.&lt;/p&gt;</comment>
                            <comment id="17281715" author="paulk" created="Tue, 9 Feb 2021 11:12:28 +0000"  >&lt;p&gt;Actually, we now check Java spec version after a recent change on master, so this problem should go away after the next release of Groovy 4. We could possibly do a similar check for the GROOVY_3_0_X branch.&lt;/p&gt;</comment>
                            <comment id="17281727" author="blackdrag" created="Tue, 9 Feb 2021 11:50:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; Btw.. accoridng to &lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable&lt;/a&gt; Map.of does not guarantee iteration order. Which means &lt;a href=&quot;https://github.com/apache/groovy/blob/9c7968678336d854dd9e1733503d783db12aece0/src/main/java/org/codehaus/groovy/vmplugin/VMPluginFactory.java#L62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/9c7968678336d854dd9e1733503d783db12aece0/src/main/java/org/codehaus/groovy/vmplugin/VMPluginFactory.java#L62&lt;/a&gt; may not select the right plugin in current master.&lt;/p&gt;</comment>
                            <comment id="17282036" author="paulk" created="Tue, 9 Feb 2021 20:50:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt; Luckily it is our Maps.of which is backed by LinkedHashMap. I didn&apos;t notice that either the first read.&lt;/p&gt;</comment>
                            <comment id="17282180" author="blackdrag" created="Wed, 10 Feb 2021 02:42:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; I see... the problem is that nothing in our documentation suggests from the outside the sorting order. There should be at least a test for this.&lt;/p&gt;</comment>
                            <comment id="17282186" author="paulk" created="Wed, 10 Feb 2021 02:49:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt; Yes, it is kind of an internal class we added to provide that functionality across JDK versions prior to those having similar functionality built in. We used a LinkedHashMap to align with many other places where we retain the ordering for maps. In some sense, we regard it as an implementation detail - but it represents an implicit requirement with ordering implications possibly in many places.&lt;/p&gt;</comment>
                            <comment id="17557688" author="JIRAUSER291455" created="Wed, 22 Jun 2022 20:33:22 +0000"  >&lt;p&gt;I&apos;m facing this exact same issue with a Groovy/Grails application that I&apos;m trying to upgrade.&#160; It is also using GroovyVersion 3.0.7.&#160; Is there any workaround for this?&lt;/p&gt;</comment>
                            <comment id="17557709" author="paulk" created="Wed, 22 Jun 2022 21:19:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JMHaro&quot; class=&quot;user-hover&quot; rel=&quot;JMHaro&quot;&gt;JMHaro&lt;/a&gt;, the exception is at the fine/debug level. Setting the level to something like INFO would be enough to not see it?&lt;/p&gt;</comment>
                            <comment id="17558092" author="JIRAUSER291455" created="Thu, 23 Jun 2022 13:33:21 +0000"  >&lt;p&gt;Thank you, I keep getting an error in the &apos;compileGroovy&apos; build task and viewing the trace I was seeing this so I thought that was the issue.&#160; But after further research I&apos;m now seeing an error of: &amp;gt; String index out of range: -533&lt;/p&gt;

&lt;p&gt;So I&apos;m trying to figure out what is causing that issue.&lt;/p&gt;</comment>
                            <comment id="17749686" author="paulk" created="Tue, 1 Aug 2023 12:24:58 +0000"  >&lt;p&gt;Is this still an issue with recent Groovy versions? Or should we close this issue?&lt;/p&gt;</comment>
                            <comment id="17750020" author="emilles" created="Tue, 1 Aug 2023 21:00:16 +0000"  >&lt;p&gt;&lt;tt&gt;VMPluginFactory&lt;/tt&gt; logs at the &quot;fine&quot; level, which must map to &quot;debug&quot; in the example.  You can config the log level of any logger at or above &quot;org.codehaus.groovy.vmplugin.VMPluginFactory&quot; to hide the messages.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0niug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>