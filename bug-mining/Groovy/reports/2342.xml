<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:35:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6266] &apos;class generation&apos; bug when CompileStatic with HashMap and List</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6266</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The test.groovy code below throws&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caught: BUG! exception in phase &apos;class generation&apos; in source unit &apos;test.groovy&apos; At line 7 column 13
On receiver: AR.key with message: getAt and arguments: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@groovy.transform.CompileStatic 
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyClass{
  HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,List&amp;lt;List&amp;gt;&amp;gt; AR=&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,List&amp;lt;List&amp;gt;&amp;gt;()
  
  MyClass(){
    AR.get(&lt;span class=&quot;code-quote&quot;&gt;&apos;key&apos;&lt;/span&gt;,[[&lt;span class=&quot;code-quote&quot;&gt;&apos;val1&apos;&lt;/span&gt;],[&lt;span class=&quot;code-quote&quot;&gt;&apos;val2&apos;&lt;/span&gt;]])
    println AR.&lt;span class=&quot;code-quote&quot;&gt;&apos;key&apos;&lt;/span&gt;[0]
  }
}

MyClass c=&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyClass()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Windows 2003</environment>
        <key id="12817066">GROOVY-6266</key>
            <summary>&apos;class generation&apos; bug when CompileStatic with HashMap and List</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="radim.vachtl">Radim Vachtl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2013 15:23:11 +0000</created>
                <updated>Mon, 14 Oct 2013 16:53:57 +0000</updated>
                            <resolved>Tue, 20 Aug 2013 08:42:47 +0000</resolved>
                                    <version>2.1.6</version>
                                    <fixVersion>2.1.7</fixVersion>
                    <fixVersion>2.2.0-beta-2</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14474729" author="blackdrag" created="Mon, 22 Jul 2013 07:08:56 +0000"  >&lt;p&gt;looks like the resolving of AR.key goes wrong and no type is stored for that PropertyExpression. What should have happened is that StaticTypeCheckingVisitor recognizes AR as map and handles AR.key as map access which returns a List&amp;lt;List&amp;gt; and then store that type. What seems to happen is that the type is built, but the case falls though everything in existsProperty. In other words the code fails silently&lt;/p&gt;</comment>
                            <comment id="14480326" author="paulk" created="Mon, 22 Jul 2013 15:59:53 +0000"  >&lt;p&gt;add code tags&lt;/p&gt;</comment>
                            <comment id="14474835" author="blackdrag" created="Tue, 20 Aug 2013 08:42:47 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c0gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>