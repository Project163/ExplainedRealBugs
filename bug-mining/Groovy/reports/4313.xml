<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:16:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4266] CLONE -Wrong generation of import statements in stubs</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4266</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;NOTE: Below is fixed, this issue is for tracking additional impots added at end of other imports, e.g. &lt;tt&gt;import java.io.*;&lt;/tt&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Single-type import declarations in Groovy files are collected/converted into type-on-demand import declarations by the stub compiler &amp;#8211; in other words,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; my.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.Type1
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; my.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.Type2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; my.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.*;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This breaks the type shadowing mechanisms described in Section 7.5.1 of the Java Language Specification (3rd edition) and leads to Java compiler errors like &quot;cannot decide which of the classes to use&quot;.&lt;/p&gt;

&lt;p&gt;Moreover, current implementations is based on an unordered set, thus destroying the order of import declarations.&lt;/p&gt;

&lt;p&gt;Attached patch solves these issues by preserving both the form and the order of original import declarations.&lt;/p&gt;</description>
                <environment>Windows XP, Sun JDK 1.6.0_19</environment>
        <key id="12815231">GROOVY-4266</key>
            <summary>CLONE -Wrong generation of import statements in stubs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="rnd">Dmytro Rud</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jun 2010 02:45:51 +0000</created>
                <updated>Thu, 3 Feb 2022 22:35:38 +0000</updated>
                            <resolved>Mon, 10 Jan 2022 15:07:38 +0000</resolved>
                                    <version>1.7.3</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>Stub generator / Joint compiler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="14479247" author="paulk" created="Sun, 27 Jun 2010 02:51:43 +0000"  >&lt;p&gt;I found an example (GroovyServ project) where removing the default imports means their project no longer compiles using the joint compiler. I am keeping the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4225&quot; title=&quot;Wrong generation of import statements in stubs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4225&quot;&gt;&lt;del&gt;GROOVY-4225&lt;/del&gt;&lt;/a&gt; in place so extra &quot;*&quot; imports aren&apos;t added but will temporarily add back in the default imports (java.io, java.net, etc.) - though at the end not at the start where they were before. This will allow them to compile their project using a SNAPSHOT.&lt;/p&gt;

&lt;p&gt;This issue is a placeholder. We need to work out why the classes aren&apos;t being fully resolved, fix it and then remove the default import code.&lt;/p&gt;</comment>
                            <comment id="17467746" author="emilles" created="Mon, 3 Jan 2022 01:55:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;&lt;br/&gt;
The only thing I can think of that would still require the imports is annotation values.  If you have &quot;@Tag(value=Type.NAME)&quot; it does not print out &quot;Type&quot; fully-qualified.&lt;/p&gt;</comment>
                            <comment id="17472094" author="emilles" created="Mon, 10 Jan 2022 15:07:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/36d2c3baccfcd7635806db820f7857c42175d6ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/36d2c3baccfcd7635806db820f7857c42175d6ab&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17474319" author="paulk" created="Wed, 12 Jan 2022 07:34:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; The project which had trouble (quite a few years back now) when we removed the default imports was groovyserv. I couldn&apos;t see any annotation values in that codebase that referenced types. I did however successfully build that project using a local Groovy 3 snapshot with the changes related to this issue applied, so I think this is safe for Groovy 4.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2buvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>