<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7721] Static type checking fails when compiling against a Java8 interface with inherited methods</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7721</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Create classes.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; I {
    R[] method();
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; I2 &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; I {
    R2[] method();
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; R {}
&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; R2 &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; R {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;compile it with JDK 8 javac.&lt;/p&gt;

&lt;p&gt;Then create usage.groovy:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Gr {
    R2[] x(I2 i) {
       &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; i.method();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compile it with groovyc (also run with Java8) with the classes from previous compilation in the classpath. Compilation fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;usage.groovy: 6: [Static type checking] - Reference to method is ambiguous. Cannot choose between [R2[] I2#method(), R[] I2#method()]
 @ line 6, column 15.
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; i.method();
                 ^

1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Originally reported as &lt;a href=&quot;https://youtrack.jetbrains.com/issue/IDEA-148973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://youtrack.jetbrains.com/issue/IDEA-148973&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924506">GROOVY-7721</key>
            <summary>Static type checking fails when compiling against a Java8 interface with inherited methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="gromopetr">Peter Gromov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Dec 2015 14:25:03 +0000</created>
                <updated>Thu, 14 Sep 2017 02:07:26 +0000</updated>
                            <resolved>Wed, 13 Sep 2017 15:09:14 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>3.0.0-alpha-1</fixVersion>
                    <fixVersion>2.5.0-beta-2</fixVersion>
                    <fixVersion>2.4.13</fixVersion>
                    <fixVersion>2.6.0-alpha-2</fixVersion>
                                    <component>Static compilation</component>
                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15073842" author="blackdrag" created="Tue, 29 Dec 2015 12:06:36 +0000"  >&lt;p&gt;This would mean the static compiler does not ignore the synthetic bridge method in I2 (created for the R[] returning method)&lt;/p&gt;</comment>
                            <comment id="16164445" author="githubbot" created="Wed, 13 Sep 2017 10:24:15 +0000"  >&lt;p&gt;GitHub user avafanasiev opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/599&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7721&quot; title=&quot;Static type checking fails when compiling against a Java8 interface with inherited methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7721&quot;&gt;&lt;del&gt;GROOVY-7721&lt;/del&gt;&lt;/a&gt;: Static type checking fails when compiling against a Java interface call&lt;/p&gt;

&lt;p&gt;    Arrays is also covariants in java, so they should be also compared. &lt;br/&gt;
    Can&apos;t find exact documentation, but  JLS 15.12.2.5 says:&lt;br/&gt;
    &#8211; Otherwise, if all the maximally specific methods are abstract or default, and&lt;br/&gt;
    the signatures of all of the maximally specific methods have the same erasure&lt;br/&gt;
    (&#167;4.6), then the most specific method is chosen arbitrarily among the subset&lt;br/&gt;
    of the maximally specific methods that have the most specific return type.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/avafanasiev/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/avafanasiev/groovy&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/599.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/599.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #599&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 98d82aeff501cd996f1a9aebfae793160c8d3cfe&lt;br/&gt;
Author: alexey.afanasiev &amp;lt;alexey.afanasiev@jetbrains.com&amp;gt;&lt;br/&gt;
Date:   2017-09-13T10:14:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7721&quot; title=&quot;Static type checking fails when compiling against a Java8 interface with inherited methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7721&quot;&gt;&lt;del&gt;GROOVY-7721&lt;/del&gt;&lt;/a&gt;: Static type checking fails when compiling against a Java8 interface with inherited methods&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16164564" author="githubbot" created="Wed, 13 Sep 2017 12:20:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/599&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/599&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16164792" author="daniel_sun" created="Wed, 13 Sep 2017 15:09:14 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://github.com/apache/groovy/commit/1c395602ee4929959d451e918015fc7ebf258dec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/1c395602ee4929959d451e918015fc7ebf258dec&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12973409">GROOVY-7849</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qcbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>