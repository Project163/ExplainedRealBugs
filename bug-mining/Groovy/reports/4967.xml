<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:26:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11674] Grails reproducible build</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11674</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The Grails build isn&apos;t reproducible. This issue is to track changes (if needed) on the Groovy side of things. Symptoms are that trait methods are not added deterministically. It would appear that calls to Class#getMethods that TraitComposer makes is not getting methods returned in a deterministic order. The javadoc for that method explicitly states that order is not guaranteed but the Grails build is the first large build where we have spotted this difference.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13618767">GROOVY-11674</key>
            <summary>Grails reproducible build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 May 2025 11:17:33 +0000</created>
                <updated>Wed, 4 Jun 2025 14:45:21 +0000</updated>
                            <resolved>Fri, 23 May 2025 22:12:51 +0000</resolved>
                                                    <fixVersion>5.0.0-beta-1</fixVersion>
                    <fixVersion>4.0.27</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17953120" author="githubbot" created="Wed, 21 May 2025 11:27:04 +0000"  >&lt;p&gt;paulk-asert opened a new pull request, #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   One way to force deterministic behavior is to track the order of definitions in trait source files and propogate those to the interface and helper classes.&lt;/p&gt;

</comment>
                            <comment id="17953459" author="githubbot" created="Thu, 22 May 2025 14:21:27 +0000"  >&lt;p&gt;eric-milles commented on PR #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229#issuecomment-2901416659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229#issuecomment-2901416659&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   What is the source of the non-deterministic order?  Members should be ordered by declaration order from the source.  From there are the helper classes processing in that order?&lt;/p&gt;

</comment>
                            <comment id="17953547" author="githubbot" created="Thu, 22 May 2025 21:48:34 +0000"  >&lt;p&gt;paulk-asert commented on PR #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229#issuecomment-2902649780&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229#issuecomment-2902649780&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   As slightly covered in my email, the order of members using javap on the interface and helper classes is as expected, i.e. in declaration order. The order returned when calling `Class#getMethods()` in `TraitComposer` when processing pre-compiled trait files is non-deterministic which I find unexpected but as per the javadoc for that method is not guaranteed. &lt;/p&gt;

</comment>
                            <comment id="17953548" author="githubbot" created="Thu, 22 May 2025 21:53:55 +0000"  >&lt;p&gt;paulk-asert commented on PR #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229#issuecomment-2902659286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229#issuecomment-2902659286&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   It may be possible to look at a different way to do the ordering. We have some assumptions about ordering in some places, e.g.:&lt;br/&gt;
   ```&lt;br/&gt;
   int z = 0&lt;br/&gt;
   int a = z&lt;br/&gt;
   ```&lt;br/&gt;
   We don&apos;t want the order of those two to be swapped in generated initializer code.&lt;/p&gt;

</comment>
                            <comment id="17953666" author="githubbot" created="Fri, 23 May 2025 09:30:05 +0000"  >&lt;p&gt;paulk-asert commented on PR #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229#issuecomment-2903845851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229#issuecomment-2903845851&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Actually, I redid sorting based on just the descriptor and that seems to be enough. I must have had some other changes in play in my previous testing. So, no need for the additional annotation.&lt;/p&gt;</comment>
                            <comment id="17953784" author="githubbot" created="Sat, 24 May 2025 01:26:24 +0000"  >&lt;p&gt;paulk-asert closed pull request #2229: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11674&quot; title=&quot;Grails reproducible build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11674&quot;&gt;&lt;del&gt;GROOVY-11674&lt;/del&gt;&lt;/a&gt;: Grails reproducible build&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17953785" author="githubbot" created="Sat, 24 May 2025 01:26:25 +0000"  >&lt;p&gt;paulk-asert commented on PR #2229:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2229#issuecomment-2906258221&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2229#issuecomment-2906258221&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Gone with the simpler proposal.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vypk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>