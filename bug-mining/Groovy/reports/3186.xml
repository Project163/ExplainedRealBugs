<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:54:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8068] improper logging in groovy.sql.Sql</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8068</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;In groovy.sql.Sql.newInstance(Map&amp;lt;String, Object&amp;gt;), there are two System.err.println() statements left. One of these prints the password of the connection to be created among other info. Convert these statements to proper log output.&lt;/p&gt;</description>
                <environment>groovy-all-2.4.8-indy.jar</environment>
        <key id="13039509">GROOVY-8068</key>
            <summary>improper logging in groovy.sql.Sql</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="limpus2">Frank Limpert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Feb 2017 16:21:04 +0000</created>
                <updated>Wed, 8 Mar 2017 08:17:19 +0000</updated>
                            <resolved>Tue, 7 Feb 2017 22:47:15 +0000</resolved>
                                    <version>2.4.8</version>
                                    <fixVersion>2.4.9</fixVersion>
                                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15855564" author="githubbot" created="Tue, 7 Feb 2017 08:31:56 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8068&quot; title=&quot;improper logging in groovy.sql.Sql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8068&quot;&gt;&lt;del&gt;GROOVY-8068&lt;/del&gt;&lt;/a&gt;: improper logging in groovy.sql.Sql&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy8068&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #491&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 278e07a9cce53bc031e2ef2a40b96d6a94669bb6&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2017-02-07T08:31:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8068&quot; title=&quot;improper logging in groovy.sql.Sql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8068&quot;&gt;&lt;del&gt;GROOVY-8068&lt;/del&gt;&lt;/a&gt;: improper logging in groovy.sql.Sql&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15856187" author="githubbot" created="Tue, 7 Feb 2017 15:18:25 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491#discussion_r99844410&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491#discussion_r99844410&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java &amp;#8212;&lt;br/&gt;
    @@ -578,17 +578,26 @@ public static Sql newInstance(Map&amp;lt;String, Object&amp;gt; args) throws SQLException, Cla&lt;/p&gt;

&lt;p&gt;             Object url = sqlArgs.remove(&quot;url&quot;);&lt;br/&gt;
             Connection connection;&lt;br/&gt;
    +        LOG.fine(&quot;url = &quot; + url);&lt;br/&gt;
             if (props != null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;System.err.println(&quot;url = &quot; + url);&lt;/li&gt;
	&lt;li&gt;System.err.println(&quot;props = &quot; + props);&lt;/li&gt;
	&lt;li&gt;connection = DriverManager.getConnection(url.toString(), new Properties(props));&lt;br/&gt;
    +            Properties propsCopy = new Properties(props);&lt;br/&gt;
    +            connection = DriverManager.getConnection(url.toString(), propsCopy);&lt;br/&gt;
    +            if (propsCopy.containsKey(&quot;password&quot;)) {&lt;br/&gt;
    +                // don&apos;t log the password&lt;br/&gt;
    +                propsCopy = new Properties(propsCopy);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I don&apos;t think this is needed since it&apos;s already been copied?&lt;/p&gt;</comment>
                            <comment id="15856790" author="githubbot" created="Tue, 7 Feb 2017 21:04:22 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491#discussion_r99928551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491#discussion_r99928551&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java &amp;#8212;&lt;br/&gt;
    @@ -578,17 +578,26 @@ public static Sql newInstance(Map&amp;lt;String, Object&amp;gt; args) throws SQLException, Cla&lt;/p&gt;

&lt;p&gt;             Object url = sqlArgs.remove(&quot;url&quot;);&lt;br/&gt;
             Connection connection;&lt;br/&gt;
    +        LOG.fine(&quot;url = &quot; + url);&lt;br/&gt;
             if (props != null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;System.err.println(&quot;url = &quot; + url);&lt;/li&gt;
	&lt;li&gt;System.err.println(&quot;props = &quot; + props);&lt;/li&gt;
	&lt;li&gt;connection = DriverManager.getConnection(url.toString(), new Properties(props));&lt;br/&gt;
    +            Properties propsCopy = new Properties(props);&lt;br/&gt;
    +            connection = DriverManager.getConnection(url.toString(), propsCopy);&lt;br/&gt;
    +            if (propsCopy.containsKey(&quot;password&quot;)) {&lt;br/&gt;
    +                // don&apos;t log the password&lt;br/&gt;
    +                propsCopy = new Properties(propsCopy);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    It is certainly conservative code. I didn&apos;t want the password appearing in logging and I didn&apos;t know whether any drivers out there might hold onto the properties object and re-use it when e.g. growing a connection pool or something.&lt;/p&gt;</comment>
                            <comment id="15856929" author="githubbot" created="Tue, 7 Feb 2017 22:25:59 +0000"  >&lt;p&gt;Github user jwagenleitner commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491#discussion_r99946115&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491#discussion_r99946115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java &amp;#8212;&lt;br/&gt;
    @@ -578,17 +578,26 @@ public static Sql newInstance(Map&amp;lt;String, Object&amp;gt; args) throws SQLException, Cla&lt;/p&gt;

&lt;p&gt;             Object url = sqlArgs.remove(&quot;url&quot;);&lt;br/&gt;
             Connection connection;&lt;br/&gt;
    +        LOG.fine(&quot;url = &quot; + url);&lt;br/&gt;
             if (props != null) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;System.err.println(&quot;url = &quot; + url);&lt;/li&gt;
	&lt;li&gt;System.err.println(&quot;props = &quot; + props);&lt;/li&gt;
	&lt;li&gt;connection = DriverManager.getConnection(url.toString(), new Properties(props));&lt;br/&gt;
    +            Properties propsCopy = new Properties(props);&lt;br/&gt;
    +            connection = DriverManager.getConnection(url.toString(), propsCopy);&lt;br/&gt;
    +            if (propsCopy.containsKey(&quot;password&quot;)) {&lt;br/&gt;
    +                // don&apos;t log the password&lt;br/&gt;
    +                propsCopy = new Properties(propsCopy);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    That makes sense, I missed that the copy was passed to the DriverManager.  Sorry for the noise.&lt;/p&gt;</comment>
                            <comment id="15856955" author="githubbot" created="Tue, 7 Feb 2017 22:45:58 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/491&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15856956" author="paulk" created="Tue, 7 Feb 2017 22:47:16 +0000"  >&lt;p&gt;Proposed PR merged&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39h1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>