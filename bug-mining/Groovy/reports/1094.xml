<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:13:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3809] Sql.Dataset: Values are converted to string causing errors when inserting dates</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3809</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Testcase:&lt;/p&gt;

&lt;p&gt;myMap =  &lt;span class=&quot;error&quot;&gt;&amp;#91;EMPNO: 10, HIREDATE: Date.parse(&amp;quot;yyyy-MM-dd&amp;quot;, &amp;quot;1982-12-25&amp;quot;)&amp;#93;&lt;/span&gt;&lt;br/&gt;
dbSet.add myMap&lt;/p&gt;

&lt;p&gt;This results in:&lt;br/&gt;
WARNING: Failed to add row for: &lt;/p&gt;
{EMPNO=10, HIREDATE=Sat Dec 25 00:00:00 CET 1982}
&lt;p&gt;java.sql.SQLException: Invalid column type&lt;/p&gt;

&lt;p&gt;The database does not recognize this date format.&lt;br/&gt;
The add() method should use the values as a bind variable without converting them to string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814920">GROOVY-3809</key>
            <summary>Sql.Dataset: Values are converted to string causing errors when inserting dates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="albatross">Albatross</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Oct 2009 14:37:12 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:58 +0000</updated>
                            <resolved>Sun, 18 Oct 2009 05:29:26 +0000</resolved>
                                    <version>1.7-beta-1</version>
                                    <fixVersion>1.7-rc-1</fixVersion>
                                    <component>SQL processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14478717" author="paulk" created="Wed, 14 Oct 2009 21:43:24 +0000"  >&lt;p&gt;The DataSet add method doesn&apos;t convert to a string but many drivers only know how to process java.sql.Date not java.util.Date.&lt;br/&gt;
Out of curiosity, what happens if you change to one of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;myMap = [EMPNO: 10, HIREDATE: &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; java.sql.Date(Date.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1982-12-25&quot;&lt;/span&gt;).time)]
myMap = [EMPNO: 10, HIREDATE: &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; java.sql.Timestamp(Date.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1982-12-25&quot;&lt;/span&gt;).time)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am guessing this is database/driver specific. The trick to convert to java.sql.Date worked for me for hsqldb.&lt;/p&gt;

&lt;p&gt;Perhaps Groovy could auto convert from the util to sql variant - making assumptions about the time along the way.&lt;/p&gt;</comment>
                            <comment id="14478709" author="paulk" created="Thu, 15 Oct 2009 02:05:41 +0000"  >&lt;p&gt;I added an additional DGM method. The above can now look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;myMap = [EMPNO: 10, HIREDATE: Date.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1982-12-25&quot;&lt;/span&gt;).toTimestamp()]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am tempted to close this issue unless there are significant use cases where the above won&apos;t suffice.&lt;/p&gt;

&lt;p&gt;I also thought about some kind of auto util Date to sql Date mechanism but that is likely to interfere with people wanting to store util Date objects directly not into timestamp columns, so I wasn&apos;t convinced it could be made to work in practice.&lt;/p&gt;</comment>
                            <comment id="14467923" author="albatross" created="Sun, 18 Oct 2009 03:49:35 +0000"  >&lt;p&gt;Both of your suggestions work (I&apos;m using an Oracle database). Thanks.&lt;br/&gt;
I&apos;m wondering, can the new suggestion be made more concise as:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;myMap = [EMPNO: 10, HIREDATE: Timestamp.parse(&quot;yyyy-MM-dd&quot;, &quot;1982-12-25&quot;)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="14478708" author="paulk" created="Sun, 18 Oct 2009 05:28:30 +0000"  >&lt;p&gt;We certainly could support a convenience like that but I am inclined to leave it as is for now and see what usage patterns emerge. There are many ways to create java util Dates in Java and Groovy enhances that with a few features of its own including the easy date manipulation facilities. If we had to make timestamp equivalents for each one, the API would become cumbersome. Certainly, if we observe over time that 99% of people are just using the parse method, then a convenience method would be very useful. There is nothing stopping you from adding your own helper method in the meantime.&lt;/p&gt;</comment>
                            <comment id="14478725" author="paulk" created="Sun, 18 Oct 2009 05:29:26 +0000"  >&lt;p&gt;Thanks for the feedback.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cnhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>