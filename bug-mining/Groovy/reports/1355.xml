<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:17:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4410] ClassFormatError extending generic interface that has a method with an Array argument returning the generic type</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4410</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Real world example where I run into this... javax.ws.rs.ext.MessageBodyReader&amp;lt;T&amp;gt;&lt;/p&gt;

&lt;p&gt;Basically what happens is that a duplicate method marked &quot;public bridge synthetic&quot; method (according to jclasslib bytecode viewer) is generated after the &amp;lt;clinit&amp;gt; with an few extras in the method signature:&lt;/p&gt;

&lt;p&gt;(L[Ljava/lang/String;;)Ljava/lang/Object;&lt;/p&gt;

&lt;p&gt;The first (correct generated method) has the proper signature:&lt;/p&gt;

&lt;p&gt;([Ljava/lang/String;)Ljava/lang/Object;&lt;/p&gt;

&lt;p&gt;But changing the return type from the overridden generic type, to def or Object eliminates this extra method (and thus the issue disappears as well). hence the minor classification.&lt;/p&gt;

&lt;p&gt;Attached:&lt;br/&gt;
Producer.java (simple interface)&lt;br/&gt;
StringProducer.groovy (bad food)&lt;br/&gt;
HackProducer.groovy (good food)&lt;br/&gt;
MainClass.java (test case)&lt;/p&gt;</description>
                <environment>Groovy 1.7.4 &lt;br/&gt;
Sun JDK 1.6.0_18&lt;br/&gt;
Windows 7</environment>
        <key id="12815328">GROOVY-4410</key>
            <summary>ClassFormatError extending generic interface that has a method with an Array argument returning the generic type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="achuggardlee">Charlie Huggard-Lee</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 18:40:14 +0000</created>
                <updated>Wed, 15 Dec 2010 22:19:56 +0000</updated>
                            <resolved>Tue, 14 Sep 2010 06:40:17 +0000</resolved>
                                    <version>1.7.4</version>
                                    <fixVersion>1.7.5</fixVersion>
                    <fixVersion>1.8-beta-2</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14470102" author="achuggardlee" created="Sat, 11 Sep 2010 09:21:46 +0000"  >&lt;p&gt;Actually figured out it doesn&apos;t have to do with generics, but with returning a subtype in the overriding method implementation. (Generics make it more likely that one would do this though). In the attached file I&apos;ve changed Producer to be non generic and gimme to return Object. Having the implementing interface return String still results in the issue, but Object does not. I&apos;ve also included a .java for comparison. The generated bytecode of the java file has the bridge method, but with the proper signature. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722691" name="ArrayBug.zip" size="1142" author="achuggardlee" created="Fri, 10 Sep 2010 18:40:14 +0000"/>
                            <attachment id="12722579" name="non-generic.zip" size="1413" author="achuggardlee" created="Sat, 11 Sep 2010 09:21:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2coav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>