<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:17:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4391] Groovy build fails test target using Java 1.7.0</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4391</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;These two tests fail and error respectively when running the Ant test target using Java 1.7.0-ea-b108:&lt;/p&gt;

&lt;p&gt;org.codehaus.groovy.ant.GroovycTest.testGroovyc_Joint_NoFork_NestedCompilerArg_WithGroovyClasspath&lt;br/&gt;
org.codehaus.groovy.transform.DelegateTransformTest.testLock&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815295">GROOVY-4391</key>
            <summary>Groovy build fails test target using Java 1.7.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="malbery">malbery</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Sep 2010 23:28:12 +0000</created>
                <updated>Wed, 15 Dec 2010 16:56:54 +0000</updated>
                            <resolved>Fri, 8 Oct 2010 08:41:26 +0000</resolved>
                                                    <fixVersion>1.7.6</fixVersion>
                    <fixVersion>1.8-beta-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14470010" author="malbery" created="Sat, 4 Sep 2010 23:49:52 +0000"  >&lt;p&gt;Regarding DelegateTransformTest.testLock:&lt;/p&gt;

&lt;p&gt;This will work:&lt;br/&gt;
$ groovy -e &apos;class MyList &lt;/p&gt;
{ private List list }
&lt;p&gt; ; new MyList()&apos;&lt;/p&gt;

&lt;p&gt;and this will NPE:&lt;br/&gt;
$ groovy -e &apos;class MyList &lt;/p&gt;
{ @Delegate private List list }
&lt;p&gt; ; new MyList()&apos;&lt;/p&gt;</comment>
                            <comment id="14479332" author="malbery" created="Sun, 5 Sep 2010 00:07:39 +0000"  >&lt;p&gt;The code that&apos;s failing in MetaClassImpl does work in isolation:&lt;/p&gt;

&lt;p&gt;$ groovy -e &apos;class MyList &lt;/p&gt;
{ private List list }
&lt;p&gt; ; java.security.AccessController.doPrivileged(&lt;/p&gt;
{ println java.beans.Introspector.getBeanInfo(MyList) }
&lt;p&gt; as java.security.PrivilegedExceptionAction)&apos;&lt;/p&gt;</comment>
                            <comment id="14479322" author="malbery" created="Sun, 5 Sep 2010 00:17:52 +0000"  >&lt;p&gt;From looking at com.sun.beans.TypeResolver I&apos;m guessing it&apos;s trying to inspect a List method parameter type that&apos;s badly formed (an array with no type):&lt;/p&gt;

&lt;p&gt;        if (formal instanceof GenericArrayType) {&lt;br/&gt;
            Type comp = ((GenericArrayType)formal).getGenericComponentType();&lt;br/&gt;
            comp = resolve(comp);&lt;/p&gt;
</comment>
                            <comment id="14479333" author="malbery" created="Sun, 5 Sep 2010 00:18:48 +0000"  >&lt;p&gt;This is the stack trace generated by the erroring test:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
at com.sun.beans.TypeResolver.resolve(TypeResolver.java:321)&lt;br/&gt;
at com.sun.beans.TypeResolver.resolve(TypeResolver.java:303)&lt;br/&gt;
at com.sun.beans.TypeResolver.resolve(TypeResolver.java:351)&lt;br/&gt;
at com.sun.beans.TypeResolver.resolve(TypeResolver.java:172)&lt;br/&gt;
at com.sun.beans.TypeResolver.resolveInClass(TypeResolver.java:93)&lt;br/&gt;
at java.beans.FeatureDescriptor.getParameterTypes(FeatureDescriptor.java:387)&lt;br/&gt;
at java.beans.MethodDescriptor.setMethod(MethodDescriptor.java:114)&lt;br/&gt;
at java.beans.MethodDescriptor.&amp;lt;init&amp;gt;(MethodDescriptor.java:72)&lt;br/&gt;
at java.beans.MethodDescriptor.&amp;lt;init&amp;gt;(MethodDescriptor.java:56)&lt;br/&gt;
at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1148)&lt;br/&gt;
at java.beans.Introspector.getBeanInfo(Introspector.java:431)&lt;br/&gt;
at java.beans.Introspector.getBeanInfo(Introspector.java:172)&lt;br/&gt;
at groovy.lang.MetaClassImpl$15.run(MetaClassImpl.java:2931)&lt;br/&gt;
at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
at groovy.lang.MetaClassImpl.addProperties(MetaClassImpl.java:2929)&lt;br/&gt;
at groovy.lang.MetaClassImpl.initialize(MetaClassImpl.java:2912)&lt;br/&gt;
at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:166)&lt;br/&gt;
at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:182)&lt;br/&gt;
at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:214)&lt;br/&gt;
at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:741)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallConstructorSite(CallSiteArray.java:69)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:52)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:190)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:194)&lt;br/&gt;
at Script1.run(Script1.groovy:12)&lt;br/&gt;
at groovy.lang.GroovyShell.evaluate(GroovyShell.java:576)&lt;br/&gt;
at groovy.lang.GroovyShell.evaluate(GroovyShell.java:614)&lt;br/&gt;
at groovy.lang.GroovyShell.evaluate(GroovyShell.java:585)&lt;br/&gt;
at groovy.lang.GroovyShell$evaluate.call(Unknown Source)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:40)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)&lt;br/&gt;
at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)&lt;br/&gt;
at org.codehaus.groovy.transform.DelegateTransformTest.testLock(DelegateTransformTest.groovy:55)&lt;/p&gt;</comment>
                            <comment id="14479325" author="malbery" created="Sun, 5 Sep 2010 00:36:42 +0000"  >&lt;p&gt;The @Delegate issue may be specific to Collection and it&apos;s implementations.&lt;/p&gt;</comment>
                            <comment id="14470207" author="hamletdrc" created="Sat, 25 Sep 2010 03:42:20 +0000"  >&lt;p&gt;this error does not occur on Java 1.7.0-ea-b111 64 bit ubuntu. &lt;/p&gt;

&lt;p&gt;Merlyn, what operating system are you using? &lt;br/&gt;
Which maven target in Groovy did you invoke. &quot;mvn clean install&quot; worked find for me. &lt;/p&gt;</comment>
                            <comment id="14470214" author="roshandawrani" created="Thu, 7 Oct 2010 15:22:15 +0000"  >&lt;p&gt;Merlyn/Hamlet, these issues should be fixed now. I have done the needed changes on 1.7.6 as well as on trunk(1.8-beta-3) and tested them locally with OpenJDK 7.&lt;/p&gt;

&lt;p&gt;Can you confirm from your ends?&lt;/p&gt;</comment>
                            <comment id="14470270" author="roshandawrani" created="Fri, 8 Oct 2010 08:41:27 +0000"  >&lt;p&gt;Locally tested with OpenJDK(7) by me and then also verified by Merlyn.&lt;/p&gt;</comment>
                            <comment id="14479348" author="malbery" created="Fri, 8 Oct 2010 10:41:02 +0000"  >&lt;p&gt;Thanks for fixing this, Roshan.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12815316">GROOVY-4397</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12811693">GROOVY-4390</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bqjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>