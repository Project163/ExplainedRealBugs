<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:57:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8445] Static analysis does not work properly when coercing Closure to FunctionInterface</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8445</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code fails when executing in static compilation mode.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.stream.Collectors
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.stream.Stream
        
        @CompileStatic     &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we comment &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line, the code works in dynamic mode.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test1 {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
                p();
            }
            
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void p() {
                &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; 13 == Stream.of(1, 2, 3).reduce(7, {r, e -&amp;gt; r + e});
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the error message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Static type checking] - Cannot find matching method java.util.stream.Stream#reduce(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, groovy.lang.Closure). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 at line: 12, column: 30

[Static type checking] - Cannot find matching method java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;#plus(java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 at line: 12, column: 68
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similarly, the following code fails in static compilation mode too:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.stream.Collectors
        &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.stream.Stream
        
        @CompileStatic  &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we comment &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line, the code works in dynamic mode.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test1 {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
                p();
            }
            
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void p() {
                def list = [1, 2, 3]
                list.replaceAll { e -&amp;gt; e + 10 }
                &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; [11, 12, 13] == list
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the error message:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Static type checking] - Cannot find matching method java.util.List#replaceAll(groovy.lang.Closure). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 at line: 13, column: 17

[Static type checking] - Cannot find matching method java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;#plus(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 at line: 13, column: 40


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="13130546">GROOVY-8445</key>
            <summary>Static analysis does not work properly when coercing Closure to FunctionInterface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="daniel_sun">Daniel Sun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jan 2018 15:10:43 +0000</created>
                <updated>Fri, 2 Feb 2018 10:08:47 +0000</updated>
                            <resolved>Fri, 2 Feb 2018 10:08:47 +0000</resolved>
                                    <version>3.0.0-alpha-1</version>
                    <version>2.5.0-beta-2</version>
                    <version>2.4.13</version>
                    <version>2.6.0-alpha-2</version>
                                    <fixVersion>2.5.0-beta-3</fixVersion>
                    <fixVersion>2.6.0-alpha-3</fixVersion>
                    <fixVersion>2.4.14</fixVersion>
                    <fixVersion>3.0.0-alpha-2</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16324104" author="daniel_sun" created="Fri, 12 Jan 2018 15:15:55 +0000"  >&lt;p&gt;I found the issue when I tried to implement the native lambda, which is based on static analysis to gain the type information.&lt;/p&gt;

&lt;p&gt;testBinaryOperator and testUnaryOperator are skiped due to the issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/blob/native-lambda/src/test/groovy/transform/stc/LambdaTest.groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/native-lambda/src/test/groovy/transform/stc/LambdaTest.groovy&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="16350094" author="daniel_sun" created="Fri, 2 Feb 2018 10:08:47 +0000"  >&lt;p&gt;Fixed by:&#160;&lt;a href=&quot;https://github.com/apache/groovy/commit/369a42e0e9ea059629554e095c4e6a15871ef215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/369a42e0e9ea059629554e095c4e6a15871ef215&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ouvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>