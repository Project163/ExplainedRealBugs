<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:08:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3156] Within a nested closure, &quot;this.method()&quot; works incorrectly if parent closure and outermost class have closures/methods of the same name</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3156</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This issue is related to issue reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2849&quot; title=&quot;A property name in a nested closure interferes with a class property when refering with &amp;quot;this.prop&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2849&quot;&gt;&lt;del&gt;GROOVY-2849&lt;/del&gt;&lt;/a&gt;, which is reported for same kind of interference for property access inside a nested closure. For easier management of fixes, testing, etc, it was suggsted that for issue with method calls, a separate JIRA bug be created.&lt;/p&gt;

&lt;p&gt;Testcase for the issue:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;NestedClosureMethodCallBug &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
    def void testNestedClosureMethodCall(){
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; m() == &lt;span class=&quot;code-quote&quot;&gt;&quot;method&quot;&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; c1() == &lt;span class=&quot;code-quote&quot;&gt;&quot;method&quot;&lt;/span&gt;
    }

    def m = {&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;method&quot;&lt;/span&gt;}
    def c1 = {
        def m = {&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;c1&quot;&lt;/span&gt;}
        def c2 = {
            /*
            *  If both &lt;span class=&quot;code-quote&quot;&gt;&apos;m()&apos;&lt;/span&gt; and &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.m()&apos;&lt;/span&gt; are used as follows,
            *  &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.m()&apos;&lt;/span&gt; should not resolve to c1 closure&lt;span class=&quot;code-quote&quot;&gt;&apos;s &apos;&lt;/span&gt;m&apos; local variable.
            *  It should resolve to outermost NestedClosureMethodCallBug&lt;span class=&quot;code-quote&quot;&gt;&apos;s &apos;&lt;/span&gt;m()&apos;.
            */
            &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; m() == &lt;span class=&quot;code-quote&quot;&gt;&quot;c1&quot;&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.m()
        }
        c2()
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>java version &amp;quot;1.5.0_04&amp;quot; on Windows XP</environment>
        <key id="12814455">GROOVY-3156</key>
            <summary>Within a nested closure, &quot;this.method()&quot; works incorrectly if parent closure and outermost class have closures/methods of the same name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="roshandawrani">Roshan Dawrani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Nov 2008 11:50:00 +0000</created>
                <updated>Tue, 23 Dec 2008 05:58:07 +0000</updated>
                            <resolved>Wed, 10 Dec 2008 20:18:41 +0000</resolved>
                                    <version>1.6-beta-1</version>
                                    <fixVersion>1.6-rc-1</fixVersion>
                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                    <component>class generator</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14465627" author="roshandawrani" created="Mon, 17 Nov 2008 14:12:13 +0000"  >&lt;p&gt;Attaching fix patches for 1.5.8, 1.6-RC1, 1.7-beta-1 versions for this issue.&lt;/p&gt;

&lt;p&gt;The fix is along the very same lines of the fix provided for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2849&quot; title=&quot;A property name in a nested closure interferes with a class property when refering with &amp;quot;this.prop&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2849&quot;&gt;&lt;del&gt;GROOVY-2849&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The modification has been made to AsmClassGenerator&apos;s visitMethodCallExpression() to correctly deal with this.m() inside a closure if parent closure defines a closure of the same name.&lt;/p&gt;

&lt;p&gt;Hope it helps.&lt;br/&gt;
Roshan&lt;/p&gt;</comment>
                            <comment id="14465851" author="roshandawrani" created="Wed, 10 Dec 2008 20:18:41 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12813973">GROOVY-2621</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12814254">GROOVY-2849</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721494" name="3156Patch.zip" size="1888" author="roshandawrani" created="Mon, 17 Nov 2008 14:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c9v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>