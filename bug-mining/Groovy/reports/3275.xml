<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8220] GroovyCastException with CompileStatic</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8220</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    CharSequence makeEnv( env, StringBuilder result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder() ) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( env &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; File ) {
            env = env.toPath()
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( env &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; &amp;amp;&amp;amp; env.contains(&lt;span class=&quot;code-quote&quot;&gt;&apos;=&apos;&lt;/span&gt;) ) {
            result &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;export &apos;&lt;/span&gt; &amp;lt;&amp;lt; env &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;;&apos;&lt;/span&gt;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result.toString()
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo().makeEnv(&lt;span class=&quot;code-quote&quot;&gt;&apos;X=1&apos;&lt;/span&gt;) == &lt;span class=&quot;code-quote&quot;&gt;&apos;export X=1;&apos;&lt;/span&gt;

Exception thrown

org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; object &lt;span class=&quot;code-quote&quot;&gt;&apos;X=1&apos;&lt;/span&gt; with class &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&apos;&lt;/span&gt; to class &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.Iterable&apos;&lt;/span&gt;
	at Foo.makeEnv(ConsoleScript5:10)
	at Foo.makeEnv(ConsoleScript5:4)
	at Foo$makeEnv.call(Unknown Source)
	at ConsoleScript5.run(ConsoleScript5:20)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without CompileStatic it works as expected. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13077804">GROOVY-8220</key>
            <summary>GroovyCastException with CompileStatic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="pablo72">paolo di tommaso</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Jun 2017 21:26:50 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:46 +0000</updated>
                            <resolved>Wed, 27 Sep 2017 09:36:47 +0000</resolved>
                                    <version>2.5.0-beta-1</version>
                    <version>2.4.12</version>
                                    <fixVersion>2.4.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16062400" author="jwagenleitner" created="Sun, 25 Jun 2017 18:13:47 +0000"  >&lt;p&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8157&quot; title=&quot;Flow typing doesn&amp;#39;t work with assignment to a parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8157&quot;&gt;&lt;del&gt;GROOVY-8157&lt;/del&gt;&lt;/a&gt; seems to be the cause.&lt;/p&gt;</comment>
                            <comment id="16177906" author="githubbot" created="Sat, 23 Sep 2017 17:38:43 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/605&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8220&quot; title=&quot;GroovyCastException with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8220&quot;&gt;&lt;del&gt;GROOVY-8220&lt;/del&gt;&lt;/a&gt;: SC GroovyCastException on parameter flow typing&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8157&quot; title=&quot;Flow typing doesn&amp;#39;t work with assignment to a parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8157&quot;&gt;&lt;del&gt;GROOVY-8157&lt;/del&gt;&lt;/a&gt; introduced flow typing for parameters and this fix is&lt;br/&gt;
    required in order to track their assignments in `if` branches for&lt;br/&gt;
    temporary type assignments.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; 8220-ParameterFlowTyping&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/605.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/605.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #605&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ad5074b4db073ebefd1af21676675671a62f6064&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-09-08T00:27:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8220&quot; title=&quot;GroovyCastException with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8220&quot;&gt;&lt;del&gt;GROOVY-8220&lt;/del&gt;&lt;/a&gt;: SC GroovyCastException on parameter flow typing&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8157&quot; title=&quot;Flow typing doesn&amp;#39;t work with assignment to a parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8157&quot;&gt;&lt;del&gt;GROOVY-8157&lt;/del&gt;&lt;/a&gt; introduced flow typing for parameters and this fix is&lt;br/&gt;
    required in order to track their assignments in `if` branches for&lt;br/&gt;
    temporary type assignments.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16178063" author="githubbot" created="Sun, 24 Sep 2017 03:00:09 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/606&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8220&quot; title=&quot;GroovyCastException with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8220&quot;&gt;&lt;del&gt;GROOVY-8220&lt;/del&gt;&lt;/a&gt;: GroovyCastException with CompileStatic&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy8220b&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/606.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/606.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #606&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9c39935ad5005dddf11816eaf0106227545fdb54&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2017-09-24T02:58:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8220&quot; title=&quot;GroovyCastException with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8220&quot;&gt;&lt;del&gt;GROOVY-8220&lt;/del&gt;&lt;/a&gt;: GroovyCastException with CompileStatic&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16182152" author="githubbot" created="Wed, 27 Sep 2017 07:54:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/605&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/605&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16182153" author="githubbot" created="Wed, 27 Sep 2017 07:58:22 +0000"  >&lt;p&gt;Github user paulk-asert closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/606&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16182242" author="paulk" created="Wed, 27 Sep 2017 09:36:47 +0000"  >&lt;p&gt;Thanks for the PR John (merged). I applied yours instead of mine since it was simpler and I haven&apos;t found any issues yet. Thanks for spotting the issue Paolo.&lt;/p&gt;</comment>
                            <comment id="16183715" author="pablo72" created="Thu, 28 Sep 2017 06:08:57 +0000"  >&lt;p&gt;Yes, now the CI build is &lt;a href=&quot;http://ci.groovy-lang.org/viewLog.html?buildTypeId=JointBuilds_Nextflow_Groovy24xJointBuild&amp;amp;buildId=42830&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;green&lt;/a&gt;! Thanks you all.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13082362">GROOVY-8237</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13063777">GROOVY-8157</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fy87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>