<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:09:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9803] Static type checker forgets nested generic types</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9803</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When using a nested generic type (for example, from Vavr &lt;tt&gt;Try&amp;lt;Option&amp;lt;T&amp;gt;&lt;/tt&gt;), Groovy forgets the value of the nested type parameter, simply tagging &lt;tt&gt;Object&lt;/tt&gt; instead of &lt;tt&gt;T&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.vavr.control.Option;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.vavr.control.Try;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GenericInJava {
&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; Try.success(123)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .map(Option::of)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .map(o -&amp;gt; o.get().intValue()); &lt;span class=&quot;code-comment&quot;&gt;// happy; correctly identifies o as Option&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;
&lt;/span&gt;&#160;&#160;&#160; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.vavr.control.Option
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.vavr.control.Try

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GenericInGroovy {
&#160;&#160;&#160; static void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; Try.success(123)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .map(Option::of)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .map(o -&amp;gt; o.get().intValue()) &lt;span class=&quot;code-comment&quot;&gt;// produces error below
&lt;/span&gt;&#160;&#160;&#160; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Groovy:[Static type checking] - Cannot find matching method java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;#intValue(). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explicitly inserting a type witness &lt;tt&gt;.&amp;lt;Option&amp;lt;Integer&amp;gt;&amp;gt;map(Option::of)&lt;/tt&gt; succeeds. Oddly enough, using &lt;tt&gt;.map({ Option.of(it) })&lt;/tt&gt; also works (maybe it&apos;s an interaction glitch involving method references specifically?).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.javadoc.io/doc/io.vavr/vavr/0.10.4/io/vavr/control/Try.html#map-java.util.function.Function-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.javadoc.io/doc/io.vavr/vavr/0.10.4/io/vavr/control/Try.html#map-java.util.function.Function-&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13338123">GROOVY-9803</key>
            <summary>Static type checker forgets nested generic types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2020 19:30:54 +0000</created>
                <updated>Wed, 3 Jan 2024 18:22:31 +0000</updated>
                            <resolved>Tue, 11 May 2021 21:26:17 +0000</resolved>
                                    <version>3.0.6</version>
                                    <fixVersion>4.0.0-alpha-2</fixVersion>
                    <fixVersion>3.0.8</fixVersion>
                    <fixVersion>2.5.19</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17229323" author="emilles" created="Tue, 10 Nov 2020 16:07:26 +0000"  >&lt;p&gt;I have a change which determines more of the return type generics of &lt;tt&gt;.map(Option::of)&lt;/tt&gt;.  Now that &lt;tt&gt;map&lt;/tt&gt; is seen returning &lt;tt&gt;Option&amp;lt;Integer&amp;gt;&lt;/tt&gt; there is more work to make &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9762&quot; title=&quot;Wrong type resolved if method reference used with typed method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9762&quot;&gt;&lt;del&gt;GROOVY-9762&lt;/del&gt;&lt;/a&gt; work properly.  &lt;a href=&quot;https://github.com/apache/groovy/pull/1414&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1414&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17245480" author="chrylis" created="Mon, 7 Dec 2020 19:49:05 +0000"  >&lt;p&gt;Is there any prospect of a fix for this in the 3.x series, or will this be 4.x-only?&lt;/p&gt;</comment>
                            <comment id="17340888" author="emilles" created="Fri, 7 May 2021 15:18:07 +0000"  >&lt;p&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8409&quot; title=&quot;Static compilation with generic function wrapping BiFunction causes GroovyCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8409&quot;&gt;&lt;del&gt;GROOVY-8409&lt;/del&gt;&lt;/a&gt; required redesign of &lt;tt&gt;inferReturnTypeGenerics&lt;/tt&gt;.  This seems to be the only issue that required a lot of SAM-type (aka functional interface) handling code.  I am working to re-fix before 4.0b1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13563199">GROOVY-11259</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13018709">GROOVY-7992</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0k5ug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>