<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:22:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4984] JsonOutput.toJson(object) does not handle char[] correctly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4984</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Currently &lt;blockquote&gt;&lt;p&gt;println new JsonBuilder(&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;,&amp;#39;d&amp;#39;&amp;#93;&lt;/span&gt; as char[]).toString()&lt;/p&gt;&lt;/blockquote&gt; will output &lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;{},{},{},{}&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt; since the primitive class &lt;tt&gt;char&lt;/tt&gt; has no properties (other than &lt;tt&gt;class&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;My solution is to call &lt;tt&gt;toString&lt;/tt&gt; on the object if there are no properties left. I have attached an updated JsonOutput.groovy and a fixed test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815833">GROOVY-4984</key>
            <summary>JsonOutput.toJson(object) does not handle char[] correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="seth.miller">Seth Miller</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2011 12:30:57 +0000</created>
                <updated>Wed, 7 Sep 2011 14:13:43 +0000</updated>
                            <resolved>Wed, 31 Aug 2011 11:47:47 +0000</resolved>
                                    <version>1.8.0</version>
                    <version>1.8.1</version>
                                    <fixVersion>1.8.2</fixVersion>
                    <fixVersion>1.9-beta-3</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14471593" author="seth.miller" created="Sun, 28 Aug 2011 10:01:23 +0000"  >&lt;p&gt;Here is a patch file with my changes, if that helps.&lt;/p&gt;</comment>
                            <comment id="14471643" author="guillaume" created="Wed, 31 Aug 2011 06:46:54 +0000"  >&lt;p&gt;I&apos;ve got a slightly different view on this issue.&lt;br/&gt;
I think char[] should be represented as a String, ie. &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;,&amp;#39;d&amp;#39;&amp;#93;&lt;/span&gt; as char[] would be &quot;abcd&quot;.&lt;/p&gt;</comment>
                            <comment id="14471675" author="seth.miller" created="Wed, 31 Aug 2011 08:58:55 +0000"  >&lt;p&gt;I&apos;m afraid I would have to disagree. If someone has gone through the trouble of dealing with a char array, it is likely that they wanted to work with the individual chars. At least this was the case for me.&lt;/p&gt;</comment>
                            <comment id="14471731" author="guillaume" created="Wed, 31 Aug 2011 09:49:26 +0000"  >&lt;p&gt;Ok fair enough.&lt;/p&gt;</comment>
                            <comment id="14471716" author="guillaume" created="Wed, 31 Aug 2011 11:47:47 +0000"  >&lt;p&gt;Implemented as a JSON array of single-character strings&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722969" name="GROOVY-4984.patch" size="1148" author="seth.miller" created="Sun, 28 Aug 2011 10:01:22 +0000"/>
                            <attachment id="12722966" name="JsonOutput.groovy" size="5756" author="seth.miller" created="Tue, 23 Aug 2011 12:30:59 +0000"/>
                            <attachment id="12722967" name="JsonOutputTest.groovy" size="8943" author="seth.miller" created="Tue, 23 Aug 2011 12:30:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c587:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>