<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:15:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4134] Closure default values cannot be static constants</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4134</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;d like to use a default value in a closure argument, but at the moment,&lt;br/&gt;
it&apos;s not working, and I was wondering if the thing I&apos;m trying is not&lt;br/&gt;
supported...&lt;/p&gt;

&lt;p&gt;This is my code:&lt;/p&gt;

&lt;p&gt;Sheet.metaClass.dump = &lt;/p&gt;
{ Integer maxRows = Integer.MAX_VALUE -&amp;gt;

}

&lt;p&gt;Code from Tim Yates:&lt;/p&gt;

&lt;p&gt;This works:&lt;/p&gt;

&lt;p&gt;def max = Integer.MAX_VALUE&lt;br/&gt;
String.metaClass.dump = { Integer maxRows = max -&amp;gt;&lt;br/&gt;
  delegate.substring( 0, delegate.length() &amp;lt; maxRows ? delegate.length() : maxRows )&lt;br/&gt;
}&lt;br/&gt;
assert &apos;hello&apos;.dump( 2 ) == &apos;he&apos;&lt;br/&gt;
assert &apos;hello&apos;.dump() == &apos;hello&apos;&lt;/p&gt;

&lt;p&gt;but as you say, putting the Integer.MAX_VALUE in the closure definition throws the MissingPropertyException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815152">GROOVY-4134</key>
            <summary>Closure default values cannot be static constants</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="bodiam">Erik Pragt</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Mar 2010 03:28:17 +0000</created>
                <updated>Wed, 7 Apr 2010 23:45:16 +0000</updated>
                            <resolved>Wed, 31 Mar 2010 06:17:42 +0000</resolved>
                                    <version>1.7.0</version>
                                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.6.9</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14469227" author="tim_yates" created="Wed, 31 Mar 2010 03:57:13 +0000"  >&lt;p&gt;Seems to be similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1347&quot; title=&quot;MissingPropertyException is thrown when calling a method with a default arg set to a static field of another class.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1347&quot;&gt;&lt;del&gt;GROOVY-1347&lt;/del&gt;&lt;/a&gt; but for closures rather than methods&lt;/p&gt;</comment>
                            <comment id="14469140" author="blackdrag" created="Wed, 31 Mar 2010 04:35:30 +0000"  >&lt;p&gt;the example works on trunk... somehow this looks familiar... haven&apos;t we fixed that already?&lt;/p&gt;</comment>
                            <comment id="14469174" author="roshandawrani" created="Wed, 31 Mar 2010 04:37:32 +0000"  >&lt;p&gt;I just fixed it on trunk. Builds on 1.7.x and 1.6.x have not completed yet.&lt;/p&gt;</comment>
                            <comment id="14469162" author="blackdrag" created="Wed, 31 Mar 2010 05:55:16 +0000"  >&lt;p&gt;but it worked here without your fix... strange&lt;/p&gt;</comment>
                            <comment id="14469228" author="roshandawrani" created="Wed, 31 Mar 2010 05:57:56 +0000"  >&lt;p&gt;I hope you are talking about the first part of the JIRA code here. 2nd part is the workaround Tim suggested. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Anyway, I first reproduced the error and then fixed it.&lt;/p&gt;</comment>
                            <comment id="14469211" author="roshandawrani" created="Wed, 31 Mar 2010 06:00:41 +0000"  >&lt;p&gt;Below is what should fail without my current fix (as it does on &lt;a href=&quot;http://groovyconsole.appspot.com/):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovyconsole.appspot.com/):&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Sheet{}

Sheet.metaClass.dump = { &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; maxRows = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE -&amp;gt;  }

&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Sheet().dump()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14469062" author="blackdrag" created="Wed, 31 Mar 2010 06:02:43 +0000"  >&lt;p&gt;ah, sorry for the confusion, I had a bug in my test, that made it work.. lol &lt;/p&gt;</comment>
                            <comment id="14469198" author="roshandawrani" created="Wed, 31 Mar 2010 06:17:43 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                            <comment id="14478995" author="paulk" created="Wed, 31 Mar 2010 07:09:50 +0000"  >&lt;p&gt;I haven&apos;t looked at your fix yet. Does it help with &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3278&quot; title=&quot;Using referenced String constant as value of Annotation causes compile error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3278&quot;&gt;&lt;del&gt;GROOVY-3278&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14469191" author="paulk" created="Wed, 31 Mar 2010 07:14:48 +0000"  >&lt;p&gt;OK, just looking, fix only applies to closures. Feel free to look at &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3278&quot; title=&quot;Using referenced String constant as value of Annotation causes compile error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3278&quot;&gt;&lt;del&gt;GROOVY-3278&lt;/del&gt;&lt;/a&gt; if you have time. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14469220" author="roshandawrani" created="Wed, 31 Mar 2010 07:14:53 +0000"  >&lt;p&gt;I hardly see any overlap between the two issues. So, I guess not - my fix deals just with initial values of closure parameters and has nothing to do with annotations.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c38n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>