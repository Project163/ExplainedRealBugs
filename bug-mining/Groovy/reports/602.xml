<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:03:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2523] compiler complains for loop has  empty body </title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2523</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;compiler complains for loop has  empty body &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; i++) ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;groovy&amp;gt; for (int i = 0; i &amp;lt; 10; i++) ;&lt;/p&gt;

&lt;p&gt;Exception thrown: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, Script1: 1: unexpected token: ; @ line 1, column 30.&lt;br/&gt;
1 error&lt;/p&gt;</description>
                <environment>jdk6u4</environment>
        <key id="12814049">GROOVY-2523</key>
            <summary>compiler complains for loop has  empty body </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="daniel_sun">Daniel Sun</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Jan 2008 02:25:48 +0000</created>
                <updated>Thu, 17 Apr 2008 07:26:27 +0000</updated>
                            <resolved>Fri, 22 Feb 2008 20:28:14 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14464162" author="guillaume" created="Sun, 20 Jan 2008 03:12:34 +0000"  >&lt;p&gt;By the way, what&apos;s the use of a for loop which does nothing at all???&lt;/p&gt;</comment>
                            <comment id="14464153" author="daniel_sun" created="Sun, 20 Jan 2008 03:20:44 +0000"  >&lt;p&gt;For example,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def index(str, substr) {
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; str.length(); i++) {
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (k = 0; k &amp;lt; substr.length() &amp;amp;&amp;amp; substr[k] == str[i + k]; k++) print &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;; &lt;span class=&quot;code-comment&quot;&gt;// Now I have to express &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; nothing&apos;&lt;/span&gt; through print &quot;&lt;/span&gt;&quot;
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (k == substr.length())
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; i;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -1;
}

s1 = &lt;span class=&quot;code-quote&quot;&gt;&quot;abcdef&quot;&lt;/span&gt;
s2 = &lt;span class=&quot;code-quote&quot;&gt;&quot;cde&quot;&lt;/span&gt;

println index(s1, s2)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14464172" author="guillaume" created="Sun, 20 Jan 2008 03:23:45 +0000"  >&lt;p&gt;Just use: for(...) {} &lt;br/&gt;
Or even use a while loop.&lt;br/&gt;
I think it makes the code more readable anyway.&lt;/p&gt;</comment>
                            <comment id="14464105" author="daniel_sun" created="Sun, 20 Jan 2008 03:23:59 +0000"  >&lt;p&gt;By the way,&lt;/p&gt;

&lt;p&gt;If I omit the initialization part in for loop like the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k = 0;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (; k &amp;lt; 10; k++) {
    println k;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;failed too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, Script3: 2: unexpected token: ; @ line 2, column 6.&lt;br/&gt;
1 error&lt;/p&gt;</comment>
                            <comment id="14464154" author="russel" created="Mon, 21 Jan 2008 02:17:16 +0000"  >&lt;p&gt;if we are going to have C/C++/Java style for loops then having ; as the body has to work.  I am not sure it is acceptable to say &quot;you must use {} as the body&quot;.&lt;/p&gt;

&lt;p&gt;An interesting question is whether &quot;for ( . . . ) \n&quot; should be valid since Groovy has optional semicolons.&lt;/p&gt;</comment>
                            <comment id="14477760" author="paulk" created="Mon, 21 Jan 2008 03:39:55 +0000"  >&lt;p&gt;Attached is a patch which fixes these two issues. Not applying until Jochen double checks.&lt;/p&gt;</comment>
                            <comment id="14477818" author="paulk" created="Mon, 21 Jan 2008 03:43:15 +0000"  >&lt;p&gt;Jochen, can you provide feedback on this issue. Let me know if you are opposed to the change but if not, check if the patch looks OK. I am happy if you want to apply, otherwise assign to me and I will apply with appropriate tests.&lt;/p&gt;</comment>
                            <comment id="14477841" author="paulk" created="Mon, 21 Jan 2008 04:21:47 +0000"  >&lt;p&gt;To answer Russel&apos;s question, currently (and with the attached patch) a for without a semicolon &quot;takes the next line&quot; as the statement, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (k=0; k &amp;lt; 3; k++)
    println &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt;&apos;&lt;/span&gt; + k
println &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;outer&lt;/span&gt;&apos;&lt;/span&gt; + k
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;yields:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;inner0
inner1
inner2
outer3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and of course, adding the semicolon on to the for loop will yield:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;inner3
outer3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is a common garden variety bug which would be good to help eliminate. Without the patch we eliminate it by providing a horrible error message. With the patch we let it go but it is most likely to catch people who continue to use semicolons when doing Groovy, i.e. if you don&apos;t normally use semicollons and you do have one at the end of the for loop you are likely to intentionally rather than accidentally want it. I think with the patch is the preferred approach.&lt;/p&gt;

</comment>
                            <comment id="14477893" author="paulk" created="Tue, 22 Jan 2008 08:40:26 +0000"  >&lt;p&gt;Also, just noted that while loops have the same limitation. I&apos;ll extend the patch to also allow empty while statements tomorrow unless I hear that this isn&apos;t desirable. I don&apos;t think it would normally be good style but I don&apos;t think it should be illegal.&lt;/p&gt;</comment>
                            <comment id="14464277" author="paulk" created="Wed, 23 Jan 2008 00:25:21 +0000"  >&lt;p&gt;Added patch inluding empty while fix.&lt;/p&gt;</comment>
                            <comment id="14464291" author="paulk" created="Wed, 23 Jan 2008 16:34:57 +0000"  >&lt;p&gt;Any feedback? Otherwise I will add the patch to HEAD on the weekend. Should I merge to 1_5_x or is the plan to do that all in one go for anything else that needs merging?&lt;/p&gt;</comment>
                            <comment id="14477925" author="paulk" created="Fri, 25 Jan 2008 06:42:43 +0000"  >&lt;p&gt;Patch added to HEAD.&lt;/p&gt;</comment>
                            <comment id="14464184" author="daniel_sun" created="Fri, 25 Jan 2008 06:45:04 +0000"  >&lt;p&gt;Thanks Pual &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14464403" author="paulk" created="Fri, 22 Feb 2008 20:28:14 +0000"  >&lt;p&gt;merged to 1_5_x branch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12814088">GROOVY-2619</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721460" name="GROOVY-2523_Empty_for_and_while_loop_scenarios.patch" size="25653" author="paulk" created="Wed, 23 Jan 2008 00:25:21 +0000"/>
                            <attachment id="12721953" name="GROOVY-2523_Empty_for_loop_scenarios.patch" size="1862" author="paulk" created="Mon, 21 Jan 2008 03:39:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>