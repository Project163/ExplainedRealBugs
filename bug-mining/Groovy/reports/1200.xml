<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:15:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4070] Wrong value returned for &quot;Attribute.name()&quot; when iterating over GPath Attributes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4070</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When iterating over a collection of GPath Attributes I&apos;m seeing the wrong value being returned for the &quot;Attribute.name()&quot; method.  The issue seems to be in the implementation of the &quot;groovy.util.slurpersupport.Attributes.iterator()&quot; method when constructing a new Attribute.  It uses the &quot;attributeName&quot; field which holds the name of the attribute minus the &apos;@&apos; character.  The &quot;Attribute.name()&quot; method is expecting the first character in the name to be &apos;@&apos; as well and throws it away.  This leads to the first character in the attribute name going missing.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a patch which shows one possible fix to the issue in Attributes.java.  It also modifies GpathSyntaxTestSupport.groovy to add some Unit Tests for this issue.&lt;/p&gt;

&lt;p&gt;The following code demonstrates the problem I&apos;m seeing.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def xml = &apos;&apos;&apos;
&amp;lt;people&amp;gt;
  &amp;lt;person age=&lt;span class=&quot;code-quote&quot;&gt;&quot;20&quot;&lt;/span&gt;&amp;gt;John&amp;lt;/person&amp;gt;
  &amp;lt;person age=&lt;span class=&quot;code-quote&quot;&gt;&quot;25&quot;&lt;/span&gt;&amp;gt;Jane&amp;lt;/person&amp;gt;
&amp;lt;/people&amp;gt;
&apos;&apos;&apos;

def p = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlSlurper().parseText(xml)
p.person.each {
  println it.@age.name()
}
p.person.@age.each {
  println it.name()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running the above gives the following output:&lt;br/&gt;
age&lt;br/&gt;
age&lt;br/&gt;
ge&lt;br/&gt;
ge&lt;/p&gt;</description>
                <environment>Mac OS X 10.6.2</environment>
        <key id="12816348">GROOVY-4070</key>
            <summary>Wrong value returned for &quot;Attribute.name()&quot; when iterating over GPath Attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="frayerm">Michael Frayer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Feb 2010 13:18:15 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:57 +0000</updated>
                            <resolved>Tue, 23 Feb 2010 06:10:23 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.6.9</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14478900" author="paulk" created="Tue, 23 Feb 2010 06:00:16 +0000"  >&lt;p&gt;patch looks good&lt;/p&gt;</comment>
                            <comment id="14478920" author="paulk" created="Tue, 23 Feb 2010 06:10:23 +0000"  >&lt;p&gt;Thanks for the patch. Applied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722258" name="patch.txt" size="1790" author="frayerm" created="Sun, 21 Feb 2010 13:18:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2chvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>