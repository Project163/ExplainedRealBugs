<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:27:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5583] Parsing problem of number literal 0x8000000000000000L</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5583</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have the following small part of a java class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GBitMaskTest {
    
        @Test
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void checkFirstBitTest() {
            BitMask bm = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BitMask(0x8000000000000000L);
            assertEquals(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, bm.isBitSet(63));
        }
    
    ...
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which should be compilable in Groovy as well cause it&apos;s valid Java code. But i get the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    Groovy Bug --- exception in phase &lt;span class=&quot;code-quote&quot;&gt;&apos;conversion&apos;&lt;/span&gt; in source unit &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/g-ut-example/src/test/groovy/com/soebes/training/maven/simple/GBitMaskTest.groovy&apos;&lt;/span&gt; For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;8000000000000000&quot;&lt;/span&gt;
    BUG! exception in phase &lt;span class=&quot;code-quote&quot;&gt;&apos;conversion&apos;&lt;/span&gt; in source unit &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/g-ut-example/src/test/groovy/com/soebes/training/maven/simple/GBitMaskTest.groovy&apos;&lt;/span&gt; For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;8000000000000000&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This has happened with Groovy 2.0 in relationship with Maven. It&apos;s this example &lt;a href=&quot;https://github.com/khmarbaise/maui/tree/master/src/main/resources/g-ut-example&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/khmarbaise/maui/tree/master/src/main/resources/g-ut-example&lt;/a&gt; which produces this problem. I&apos;m compiling with the following part:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &amp;lt;build&amp;gt;
        &amp;lt;plugins&amp;gt;
          &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;configuration&amp;gt;
              &amp;lt;compilerId&amp;gt;groovy-eclipse-compiler&amp;lt;/compilerId&amp;gt;
              &amp;lt;compilerArgument&amp;gt;nowarn&amp;lt;/compilerArgument&amp;gt;
              &amp;lt;verbose&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/verbose&amp;gt;
            &amp;lt;/configuration&amp;gt;
            &amp;lt;dependencies&amp;gt;
              &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;org.codehaus.groovy&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;groovy-eclipse-compiler&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;2.7.0-01&amp;lt;/version&amp;gt;
              &amp;lt;/dependency&amp;gt;
              &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;org.codehaus.groovy&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;groovy-eclipse-batch&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;2.0.0-01&amp;lt;/version&amp;gt;
              &amp;lt;/dependency&amp;gt;
            &amp;lt;/dependencies&amp;gt;
          &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
      &amp;lt;/build&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The rest of the error message (EXception):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    GBitMaskTest.groovy&apos; For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;8000000000000000&quot;&lt;/span&gt;
    	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:1001)
    	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:624)
    	at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:600)
    	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:577)
    	at org.codehaus.jdt.groovy.internal.compiler.ast.GroovyCompilationUnitDeclaration.processToPhase(GroovyCompilationUnitDeclaration.java:171)
    	at org.codehaus.jdt.groovy.internal.compiler.ast.GroovyParser.dietParse(GroovyParser.java:455)
    	at org.codehaus.jdt.groovy.integration.internal.MultiplexingParser.dietParse(MultiplexingParser.java:44)
    	at org.eclipse.jdt.internal.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.internalBeginToCompile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:775)
    	at org.eclipse.jdt.internal.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.beginToCompile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:395)
    	at org.eclipse.jdt.internal.compiler.&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.compile(&lt;span class=&quot;code-object&quot;&gt;Compiler&lt;/span&gt;.java:485)
    	at org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:3829)
    	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1682)
    	at org.codehaus.groovy.eclipse.compiler.GroovyEclipseCompiler.compile(GroovyEclipseCompiler.java:243)
    	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:678)
    	at org.apache.maven.plugin.TestCompilerMojo.execute(TestCompilerMojo.java:161)
    	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
    	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
    	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
    	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
    	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
    	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
    	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
    	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
    	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
    	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
    	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
    	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
    	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    	at java.lang.reflect.Method.invoke(Method.java:597)
    	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
    	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
    	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
    	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
    Caused by: java.lang.NumberFormatException: For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;8000000000000000&quot;&lt;/span&gt;
    	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
    	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.java:422)
    	at org.codehaus.groovy.syntax.Numbers.parseInteger(Numbers.java:215)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.integerExpression(AntlrParserPlugin.java:3184)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expressionSwitch(AntlrParserPlugin.java:2153)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2018)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2008)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expressionSwitch(AntlrParserPlugin.java:2046)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2018)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2008)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.addArgumentExpression(AntlrParserPlugin.java:3071)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.arguments(AntlrParserPlugin.java:2994)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.constructorCallExpression(AntlrParserPlugin.java:2932)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expressionSwitch(AntlrParserPlugin.java:2069)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2018)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.expression(AntlrParserPlugin.java:2008)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.declarationExpression(AntlrParserPlugin.java:1776)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.variableDef(AntlrParserPlugin.java:1792)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.statement(AntlrParserPlugin.java:1513)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.statementListNoChild(AntlrParserPlugin.java:1599)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.statementList(AntlrParserPlugin.java:1574)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.methodDef(AntlrParserPlugin.java:1045)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.objectBlock(AntlrParserPlugin.java:800)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.innerClassDef(AntlrParserPlugin.java:783)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.classDef(AntlrParserPlugin.java:677)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.convertGroovy(AntlrParserPlugin.java:361)
    	at org.codehaus.groovy.antlr.AntlrParserPlugin.buildAST(AntlrParserPlugin.java:269)
    	at org.codehaus.groovy.control.SourceUnit.convert(SourceUnit.java:302)
    	at org.codehaus.groovy.control.CompilationUnit$3.call(CompilationUnit.java:706)
    	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:992)
    	... 35 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>All</environment>
        <key id="12816287">GROOVY-5583</key>
            <summary>Parsing problem of number literal 0x8000000000000000L</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="khmarbaise">Karl Heinz Marbaise</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jul 2012 15:34:39 +0000</created>
                <updated>Thu, 26 Jul 2012 16:49:40 +0000</updated>
                            <resolved>Wed, 11 Jul 2012 11:58:05 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.1</fixVersion>
                    <fixVersion>2.1.0-beta-1</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14473121" author="tim_yates" created="Wed, 11 Jul 2012 03:27:50 +0000"  >&lt;p&gt;I guess this could be fixed by replacing&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;:
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;( &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(text, radix) );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;:
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;( &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BigInteger( text, radix ).longValue() );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in &lt;a href=&quot;https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/syntax/Numbers.java#L209&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.codehaus.groovy.syntax.Numbers.parseInteger&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But I always worry I&apos;ve missed some sort of breaking change with low level stuff like this.&lt;/p&gt;

&lt;p&gt;BTW:  &lt;a href=&quot;http://stackoverflow.com/a/11419877/6509&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Andrew Taylor&apos;s answer&lt;/a&gt; to this question on Stackoverflow has links to the relevant part of the Java spec that allows this&lt;/p&gt;</comment>
                            <comment id="14472952" author="guillaume" created="Wed, 11 Jul 2012 04:35:18 +0000"  >&lt;p&gt;Just for further look at the issue, just this simple example fails parsing in Groovy (no need for using Maven and/or the Eclipse compiler as indicated in the stacktrace):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; longNumber = 0x8000000000000000L
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14473054" author="guillaume" created="Wed, 11 Jul 2012 04:48:29 +0000"  >&lt;p&gt;Something that puzzles me... this number can&apos;t be a long, can it?&lt;br/&gt;
It won&apos;t fit in a long, so you&apos;ll get an overflow, and the number you actually get is some negative long number like -9223372036854775808.&lt;br/&gt;
Shouldn&apos;t Java and Groovy disallow that?&lt;/p&gt;</comment>
                            <comment id="14472984" author="tim_yates" created="Wed, 11 Jul 2012 04:53:55 +0000"  >&lt;p&gt;The Java Specification &lt;a href=&quot;http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;specifically allows it though&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The most negative hexadecimal, octal, and binary literals of type long - each of which represents the decimal value -9223372036854775808L (-2^63^) - are respectively:&lt;/p&gt;

&lt;p&gt;0x8000_0000_0000_0000L, and&lt;/p&gt;

&lt;p&gt;010_0000_0000_0000_0000_0000L, and&lt;/p&gt;

&lt;p&gt;0b1000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000L&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14473100" author="guillaume" created="Wed, 11 Jul 2012 04:54:02 +0000"  >&lt;p&gt;Actually Java allows that overflow, so I guess we should just do the same.&lt;/p&gt;</comment>
                            <comment id="14473122" author="guillaume" created="Wed, 11 Jul 2012 04:57:05 +0000"  >&lt;p&gt;I&apos;ll go with your proposed change Tim.&lt;/p&gt;</comment>
                            <comment id="14473034" author="tim_yates" created="Wed, 11 Jul 2012 05:06:21 +0000"  >&lt;p&gt;My proposed change might go too far as won&apos;t it allow:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; longNumber = 9223372036854775808L
&lt;span class=&quot;code-comment&quot;&gt;// -9223372036854775808&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;?&lt;/p&gt;

&lt;p&gt;Wheras Java would give:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; num = 9223372036854775808L ;
&lt;span class=&quot;code-comment&quot;&gt;// EXCEPTION: &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; number too large&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14472951" author="guillaume" created="Wed, 11 Jul 2012 05:10:54 +0000"  >&lt;p&gt;Do you have a better suggestion?&lt;/p&gt;</comment>
                            <comment id="14472934" author="tim_yates" created="Wed, 11 Jul 2012 05:15:49 +0000"  >&lt;p&gt;Not without doing something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; radix == 10 ? 
                  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;( &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(text) ) :
                  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;( &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BigInteger(text, radix).longValue() ) ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or maybe Groovy should just handle overflows more leniently than Java?&lt;/p&gt;</comment>
                            <comment id="14473012" author="guillaume" created="Wed, 11 Jul 2012 05:21:48 +0000"  >&lt;p&gt;Yeah, it should allow at least what Java allows, and if it accepts more, it&apos;s okay I believe.&lt;/p&gt;</comment>
                            <comment id="14473080" author="guillaume" created="Wed, 11 Jul 2012 05:22:28 +0000"  >&lt;p&gt;Is there a similar change we should be doing to the integer case as well btw?&lt;/p&gt;</comment>
                            <comment id="14472972" author="tim_yates" created="Wed, 11 Jul 2012 05:28:58 +0000"  >&lt;p&gt;Yeah, doing this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; a = 0x80000000 &lt;span class=&quot;code-comment&quot;&gt;// -2147483648&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Works, but specifying an int in the number:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; a = 0x80000000i &lt;span class=&quot;code-comment&quot;&gt;// BUG! exception in phase &lt;span class=&quot;code-quote&quot;&gt;&apos;conversion&apos;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same problem...  I guess here we&apos;d need to parse as a Long and then drop it back to an Integer&lt;/p&gt;

&lt;p&gt;My only concern is that I have a history of coming up with &lt;em&gt;&lt;b&gt;solutions&lt;/b&gt;&lt;/em&gt; like this, to later be shown by Paul or Jochen that the solution breaks existing stuff for a reason I didn&apos;t consider &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14472953" author="tim_yates" created="Wed, 11 Jul 2012 05:39:10 +0000"  >&lt;p&gt;Would a neater solution be to change &lt;a href=&quot;https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/syntax/Numbers.java#L209&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the switch at line 209&lt;/a&gt; to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BigInteger value = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BigInteger( text, radix );

&lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (type)
{
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;i&apos;&lt;/span&gt;:
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf( value.intValue() );
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;:
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;( value.longValue() );
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;g&apos;&lt;/span&gt;:
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value ;
    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
        &lt;span class=&quot;code-comment&quot;&gt;// If not specified, we will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the narrowest possible
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// of &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;, and BigInteger.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( value.compareTo(MAX_INTEGER) &amp;lt;= 0 &amp;amp;&amp;amp; value.compareTo(MIN_INTEGER) &amp;gt;= 0 )
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf(value.intValue());
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( value.compareTo(MAX_LONG) &amp;lt;= 0 &amp;amp;&amp;amp; value.compareTo(MIN_LONG) &amp;gt;= 0 )
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;(value.longValue());
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But as I said above, this will make the Groovy numeric specification more lenient with regards overflow than the Java one.&lt;/p&gt;

&lt;p&gt;PS:  Not sure why &lt;tt&gt;Integer.valueOf&lt;/tt&gt; is used for Integers, but &lt;tt&gt;new Long&lt;/tt&gt; for Longs (rather than &lt;tt&gt;Long.valueOf&lt;/tt&gt; in the existing code (I have duplicated this style here as I assume there&apos;s a reason)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cddb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>