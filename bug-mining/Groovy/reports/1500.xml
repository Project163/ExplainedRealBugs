<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:19:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4864] HTML builder for &quot;textarea&quot; creates empty &quot;textarea&quot; element if no text specified, which is not alloed in HTML</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4864</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Groovy&apos;s HTMLBuilder creates an empty &quot;textarea&quot; element (i.e. inserts the string &quot;&amp;lt;textarea /&amp;gt;&quot; instead of &quot;&amp;lt;textarea&amp;gt;&amp;lt;/textarea&amp;gt;&quot;) if no text has been specified for the textarea builder.&lt;/p&gt;

&lt;p&gt; The HTML spec is not fully clear on whether an empty element is allowed for &quot;textarea&quot;:&lt;/p&gt;

&lt;p&gt;      &lt;a href=&quot;http://www.w3.org/TR/html401/interact/forms.html#h-17.7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/html401/interact/forms.html#h-17.7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; But one might want to read this about empty elements in HTML:&lt;/p&gt;

&lt;p&gt;      &lt;a href=&quot;http://www.cs.tut.fi/~jkorpela/html/empty.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cs.tut.fi/~jkorpela/html/empty.html&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Firefox 3.6.17 deals badly with this (all the stuff following &quot;&amp;lt;textarea /&amp;gt;&quot; is interpreted as the text of the textarea)&lt;/p&gt;


&lt;p&gt;Workaround:&lt;/p&gt;

&lt;p&gt;Instead of&lt;/p&gt;

&lt;p&gt;   textarea(cols: 40, rows:5, name:&apos;message&apos;)       --&amp;gt; &amp;lt;textarea /&amp;gt;&lt;/p&gt;

&lt;p&gt;Used&lt;/p&gt;

&lt;p&gt;   textarea(cols: 40, rows:5, name:&apos;message&apos;, &quot;&quot;)   --&amp;gt; &amp;lt;textarea&amp;gt;&amp;lt;/textarea&amp;gt;&lt;/p&gt;

</description>
                <environment>Linux 2.6.35.13-91.fc14.i686&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_22-b04)&lt;br/&gt;
Firefox 3.6.17</environment>
        <key id="12816223">GROOVY-4864</key>
            <summary>HTML builder for &quot;textarea&quot; creates empty &quot;textarea&quot; element if no text specified, which is not alloed in HTML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="yatima">David Tonhofer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jun 2011 07:11:17 +0000</created>
                <updated>Thu, 21 Jul 2011 19:06:43 +0000</updated>
                            <resolved>Fri, 10 Jun 2011 07:18:03 +0000</resolved>
                                    <version>1.7.10</version>
                                    <fixVersion>1.8.1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14479572" author="paulk" created="Thu, 9 Jun 2011 19:41:53 +0000"  >&lt;p&gt;Groovy&apos;s &lt;tt&gt;MarkupBuilder&lt;/tt&gt; and &lt;tt&gt;StreamingMarkupBuilder&lt;/tt&gt; are general purpose builders for any XML not just HTML. It wouldn&apos;t be right to presume that what is sometimes desirable for HTML should be the default. In fact, the &apos;workaround&apos; you mention is indeed the correct way to use the builders to produce the output you want for HTML. I guess one possibility would be to provide an &lt;tt&gt;expandEmptyElement&lt;/tt&gt; flag when creating the builder. Does that sound like it would neet your requirement?&lt;/p&gt;</comment>
                            <comment id="14479563" author="yatima" created="Fri, 10 Jun 2011 04:45:37 +0000"  >&lt;p&gt;Hi Paul,&lt;/p&gt;

&lt;p&gt;&amp;gt;It wouldn&apos;t be right to presume that what is sometimes desirable for HTML should be the default.&lt;/p&gt;

&lt;p&gt;Certainly &amp;#8211; the more so as HTML is not actually XML at all. &lt;/p&gt;

&lt;p&gt;The problem I had basically stems from the fact that I assumed an &quot;HTMLbuilder&quot; would do the Right Thing regarding HTML, while in the end it didn&apos;t actually generate HTML at all. Or in other words: Expectations differ when you are using an &quot;XHTMLBuilder&quot; or an &quot;HTMLBuilder&quot;. Debugging this is difficult, as one has to know about this HTML quirk or (in my case) google and find someone who posted a solution to this problem on a mailing list.&lt;/p&gt;

&lt;p&gt;&amp;gt;I guess one possibility would be to provide an expandEmptyElement flag when creating the builder. &lt;/p&gt;

&lt;p&gt;Or something like &quot;enforceHtml&quot; if &quot;HTMLBuilder&quot; is used for both HTML and XHTML. I don&apos;t know if similar problems exist for other HTML entities &amp;#8211; but I suppose yes. &lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;&amp;#8211; David.&lt;/p&gt;</comment>
                            <comment id="14479559" author="paulk" created="Fri, 10 Jun 2011 05:01:53 +0000"  >&lt;p&gt;Which builder are you actually using?&lt;/p&gt;</comment>
                            <comment id="14479571" author="yatima" created="Fri, 10 Jun 2011 05:11:09 +0000"  >&lt;p&gt;The one which is injected into the Groovlet by GroovyServlet?&lt;/p&gt;

&lt;p&gt;&quot;html.html&quot;&lt;/p&gt;</comment>
                            <comment id="14479596" author="paulk" created="Fri, 10 Jun 2011 07:18:03 +0000"  >&lt;p&gt;The previously discussed &lt;tt&gt;expandEmptyElements&lt;/tt&gt; flag has been added to &lt;tt&gt;StreamingMarkupBuilder&lt;/tt&gt; and &lt;tt&gt;MarkupBuilder&lt;/tt&gt;. The default value for this flag is &lt;tt&gt;false&lt;/tt&gt; but the &lt;tt&gt;MarkupBulder&lt;/tt&gt; instance created for Groovlets has it set to &lt;tt&gt;true&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bmyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>