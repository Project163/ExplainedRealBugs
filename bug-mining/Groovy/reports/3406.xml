<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:58:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8590] STC incorrectly infers type of nested method call used in a return stmt</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8590</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Source {
    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getValue() { &lt;span class=&quot;code-quote&quot;&gt;&apos;32&apos;&lt;/span&gt; }
}
@groovy.transform.CompileStatic
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; m(Source src) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) src.getValue())
}
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fails with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Static type checking] - Inconvertible types: cannot &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Git bisect shows it is related to change for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7753&quot; title=&quot;regression of return type from ternary operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7753&quot;&gt;&lt;del&gt;GROOVY-7753&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://github.com/apache/groovy/commit/9d7c1bf1b07d43c1efd16c9252b209d29d739ced#diff-8f6109b9267c3330807df2c0ce2fab92R3237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 9d7c1bf1b07d43c1efd16c9252b&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13160552">GROOVY-8590</key>
            <summary>STC incorrectly infers type of nested method call used in a return stmt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="jwagenleitner">John Wagenleitner</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 May 2018 04:15:44 +0000</created>
                <updated>Thu, 26 Jul 2018 04:38:55 +0000</updated>
                            <resolved>Wed, 23 May 2018 01:25:05 +0000</resolved>
                                    <version>2.5.0-rc-3</version>
                                    <fixVersion>2.6.0-alpha-4</fixVersion>
                    <fixVersion>3.0.0-alpha-3</fixVersion>
                    <fixVersion>2.5.0</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16481845" author="githubbot" created="Sun, 20 May 2018 06:06:26 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/713&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/713&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8590&quot; title=&quot;STC incorrectly infers type of nested method call used in a return stmt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8590&quot;&gt;&lt;del&gt;GROOVY-8590&lt;/del&gt;&lt;/a&gt;: STC incorrectly infers type of nested method call used i&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;n a return stmt&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; 8590-STC-nested-mc-return&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/713.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/713.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #713&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 69315c3252a77fa325a14c901b5e8edf01bfe2db&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@...&amp;gt;&lt;br/&gt;
Date:   2018-05-20T05:32:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8590&quot; title=&quot;STC incorrectly infers type of nested method call used in a return stmt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8590&quot;&gt;&lt;del&gt;GROOVY-8590&lt;/del&gt;&lt;/a&gt;: STC incorrectly infers type of nested method call used in a return stmt&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16485764" author="githubbot" created="Tue, 22 May 2018 23:50:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/713&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/713&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16486560" author="daniel_sun" created="Wed, 23 May 2018 01:25:05 +0000"  >&lt;p&gt;Fixed by&#160;&lt;a href=&quot;https://github.com/apache/groovy/commit/17067350c4e25a8a97cfcbb86682d904aa7e234e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/17067350c4e25a8a97cfcbb86682d904aa7e234e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16499790" author="msgilligan" created="Mon, 4 Jun 2018 06:23:50 +0000"  >&lt;p&gt;I saw a problem on Groovy 2.5.0-rc-3 that I thought was caused by this bug. When it was NOT fixed by Groovy 2.5.0, I created a new issue:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8629&quot; title=&quot;Groovy STC fails on the nested method call in constructor call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8629&quot;&gt;&lt;del&gt;GROOVY-8629&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16499877" author="daniel_sun" created="Mon, 4 Jun 2018 08:18:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msgilligan&quot; class=&quot;user-hover&quot; rel=&quot;msgilligan&quot;&gt;msgilligan&lt;/a&gt; Here is the PR:&#160;&lt;a href=&quot;https://github.com/apache/groovy/pull/749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/749&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16501022" author="msgilligan" created="Mon, 4 Jun 2018 23:25:00 +0000"  >&lt;p&gt;Nice. I like that my &quot;reduction&quot; (the original code was not as self-contained) mode it into a test case!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13161229">GROOVY-8595</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tx8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>