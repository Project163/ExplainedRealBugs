<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:19:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10648] Compile error during static compilation (missing type derivation?)</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10648</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Hi all!&lt;/p&gt;

&lt;p&gt;The following code doesn&apos;t compile on my machine with Groovy 3.0.11. But it does compile with 3.0.10 and 4.0.2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestClass2 {
    &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; &amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;&amp;gt; Set&amp;lt;T&amp;gt; fill(Iterable&amp;lt;T&amp;gt; a_consumable) {
        Set&amp;lt;T&amp;gt; result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;()
        a_consumable.forEach { result.add(it) }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The compilation fails with the following output:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;9: [Static type checking] - Cannot call java.util.HashSet &amp;lt;T&amp;gt;#add(T) with arguments [java.lang.Object]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected behavior:&lt;br/&gt;
AFAICT, this code should compile, as the type of &lt;tt&gt;it&lt;/tt&gt; can be derived.&lt;/p&gt;

&lt;p&gt;Additional remarks:&lt;br/&gt;
Interestingly, the code compiles if I replace {{ &amp;lt;T extends Number&amp;gt; }} with just {{ &amp;lt;T&amp;gt; }}. An explicit cast also helps. So workaround is easy.&lt;/p&gt;

&lt;p&gt;If you need more info, feel free to ask!&lt;/p&gt;</description>
                <environment>Gradle, Windows</environment>
        <key id="13448385">GROOVY-10648</key>
            <summary>Compile error during static compilation (missing type derivation?)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="ChrisBriem">Chris Briem</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2022 21:05:44 +0000</created>
                <updated>Sat, 11 Mar 2023 19:58:42 +0000</updated>
                            <resolved>Sat, 4 Jun 2022 15:07:07 +0000</resolved>
                                    <version>2.5.17</version>
                    <version>3.0.11</version>
                                    <fixVersion>3.0.12</fixVersion>
                    <fixVersion>2.5.22</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17547960" author="emilles" created="Sat, 4 Jun 2022 12:28:05 +0000"  >&lt;p&gt;Just a quick note, in case this represents your real intent or for anyone that looks at this down the line. You can skip the hashset/forEach/add sequence and use the extension method toSet to produce a set from an iterable:&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13044636/13044636_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17548414" author="emilles" created="Sat, 4 Jun 2022 15:07:07 +0000"  >&lt;p&gt;backport:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/55ba573d7eb3a6b152390f18badd24255a341650&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/55ba573d7eb3a6b152390f18badd24255a341650&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;original:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/442676556de6d0403be5df67f2206cff99a73b68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/442676556de6d0403be5df67f2206cff99a73b68&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17550829" author="chrisbriem" created="Tue, 7 Jun 2022 06:51:42 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;thanks for resolving this issue so quickly! Regarding your note concerning the simplification of the reproducer code: You&apos;re perfectly right. The productive code looks different, I just wanted to reduce the reproducer to a bare minimum, which makes its usefulness questionable, of course, apart from being a reproducer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks again,&lt;br/&gt;
Chris&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13374113">GROOVY-10049</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13420081">GROOVY-10436</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13044636" name="screenshot-1.png" size="28433" author="emilles" created="Sat, 4 Jun 2022 12:26:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12y5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>