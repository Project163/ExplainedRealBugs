<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:59:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1910] Some property names used in the value of a Map cause IncompatibleClassChangeError</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1910</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This is rather bizarre and took a while to track down. The following code can run in groovy console 1.1 and shows 2 classes, identical other than the name of a property used as a map value. The first fails to load, the second works.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test {
	
	&lt;span class=&quot;code-comment&quot;&gt;// The names of the properties are what cause the problem here
&lt;/span&gt;	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; HOL_ISTANBUL = &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;

	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; RECOMMENDATIONS = [
		&lt;span class=&quot;code-quote&quot;&gt;&quot;oops&quot;&lt;/span&gt;: HOL_INSTANBUL
	]

}

&lt;span class=&quot;code-comment&quot;&gt;// Test loading of the class
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
  x = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Test()
  println &lt;span class=&quot;code-quote&quot;&gt;&quot;Test &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loaded fine&quot;&lt;/span&gt;
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
  println &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Test would not load: ${t}&quot;&lt;/span&gt;
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test2 {
	
	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; CONST_B = &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;

	&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; RECOMMENDATIONS = [
		&lt;span class=&quot;code-quote&quot;&gt;&quot;oops&quot;&lt;/span&gt;: CONST_B
	]

}

&lt;span class=&quot;code-comment&quot;&gt;// Test loading of the second class
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
  x = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Test2()
  println &lt;span class=&quot;code-quote&quot;&gt;&quot;Test2 &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loaded fine&quot;&lt;/span&gt;
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
  println &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Test2 would not load: ${t}&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get the output: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Test would not load: java.lang.IncompatibleClassChangeError
Test2 &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;loaded fine
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12817073">GROOVY-1910</key>
            <summary>Some property names used in the value of a Map cause IncompatibleClassChangeError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="marc@anyware.co.uk">Marc Palmer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2007 04:35:33 +0000</created>
                <updated>Mon, 2 Jul 2007 06:26:38 +0000</updated>
                            <resolved>Mon, 2 Jul 2007 06:26:38 +0000</resolved>
                                    <version>1.1-beta-1</version>
                                    <fixVersion>1.1-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14462851" author="blackdrag" created="Tue, 22 May 2007 05:03:20 +0000"  >&lt;p&gt;hmm, yes... HOL_ISTANBUL is not  HOL_INSTANBUL. That should give a different exception... like missing property Exception or maybe even a compile time error.&lt;/p&gt;</comment>
                            <comment id="14477325" author="marc@anyware.co.uk" created="Tue, 22 May 2007 05:37:39 +0000"  >&lt;p&gt;Yes, sorry my typo. I looked so many times and couldn&apos;t see it.&lt;/p&gt;

&lt;p&gt;However the error message was a big part of the reason I didn&apos;t see it. Can we get this fixed?&lt;/p&gt;</comment>
                            <comment id="14477317" author="marc@anyware.co.uk" created="Tue, 22 May 2007 05:38:01 +0000"  >&lt;p&gt;Obviously I don&apos;t think this is a Blocker for 1.1 now, but we need error messages improved as much as possible.&lt;/p&gt;</comment>
                            <comment id="14462798" author="blackdrag" created="Tue, 22 May 2007 05:49:31 +0000"  >&lt;p&gt;the error message is from the VM, that&apos;s why it is so bad. And yes, of course it can be fixed... the compiler should never produce invalid bytecode&lt;/p&gt;</comment>
                            <comment id="14462809" author="paulk" created="Fri, 15 Jun 2007 20:17:56 +0000"  >&lt;p&gt;Still important but no longer blocker as per Marc&apos;s latest comments&lt;/p&gt;</comment>
                            <comment id="14477369" author="paulk" created="Fri, 15 Jun 2007 21:09:38 +0000"  >&lt;p&gt;As a holding pattern, there is now a try/catch around the getProperty() call in ScriptBytecodeAdapter.getGroovyObjectProperty() for LinkageErrors. There is a TODO to remove the workaround once the real bug is fixed.&lt;/p&gt;

&lt;p&gt;For this case, the error message is now Caught: java.lang.ExceptionInInitializerError and if you print the stack trace:&lt;/p&gt;

&lt;p&gt;java.lang.ExceptionInInitializerError&lt;br/&gt;
...&lt;br/&gt;
Caused by: org.codehaus.groovy.GroovyException: Unable to get property &apos;HOL_INSTANBUL&apos;&lt;br/&gt;
...&lt;br/&gt;
Caused by: java.lang.IncompatibleClassChangeError&lt;/p&gt;</comment>
                            <comment id="14462932" author="blackdrag" created="Mon, 2 Jul 2007 06:26:38 +0000"  >&lt;p&gt;The compiler will now throw an error if you mistype a name while initializing a static property/field.  I also removed the workaround Paul added.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cr9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>