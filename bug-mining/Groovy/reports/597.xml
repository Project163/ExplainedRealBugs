<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:03:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2081] Script executes correctly when called with absolute path, but fails when called with relative path</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2081</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following 2-line script will run if called with an absolute path, but fails if called as ../bin/scriptName&lt;/p&gt;

&lt;p&gt;Here&apos;s the script:&lt;/p&gt;

&lt;p&gt;#!/usr/bin/env groovy&lt;br/&gt;
println(&quot;Yo!&quot;);&lt;/p&gt;

&lt;p&gt;This may be an example of &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-569&quot; title=&quot;java.lang.ClassFormatError running groovy script from shell (bash)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-569&quot;&gt;&lt;del&gt;GROOVY-569&lt;/del&gt;&lt;/a&gt;, since renaming the script to have a .gr suffix seems to solve the problem.&lt;/p&gt;

&lt;p&gt;I wasn&apos;t aware until reading &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-569&quot; title=&quot;java.lang.ClassFormatError running groovy script from shell (bash)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-569&quot;&gt;&lt;del&gt;GROOVY-569&lt;/del&gt;&lt;/a&gt; that script names must have a dot!&lt;/p&gt;

&lt;p&gt;This is very confusing: script names actually don&apos;t require a dot except in limited circumstances.&lt;br/&gt;
I&apos;ve been using groovy for a year or so, and this is the first I&apos;ve encountered this requirement.  The &quot;Groovy in Action&quot;&lt;br/&gt;
book doesn&apos;t seem to mention this requirement, although all their examples seem to use .groovy suffix, so maybe it&apos;s in there somewhere.&lt;/p&gt;

&lt;p&gt;I&apos;m a keyboard junkie (100+ words per minute) and would like to be able to create short concise names for all my scripts, not&lt;br/&gt;
just bash / perl / etc.   Scripting languages (at least in unix land).&lt;/p&gt;

&lt;p&gt;For the sake of script developers coming from other languages, it would be preferable to strictly enforce this naming requirement in every case (e.g., &quot;illegal script name: filename suffix is mandatory&quot;), since it&apos;s very difficult to track down the cause of this problem.  A frustrated developer is not likely to be searching for the phrase &quot;script name&quot; if the symptoms are relative to absolute versus relative path used with calling a script.&lt;/p&gt;

&lt;p&gt;BTW, groovy rocks!&lt;/p&gt;



</description>
                <environment>ubuntu linux, sun-java-6;  also duplicated on windows/cygwin java1.5</environment>
        <key id="12817191">GROOVY-2081</key>
            <summary>Script executes correctly when called with absolute path, but fails when called with relative path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="philwalk9">Phil Walker</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Aug 2007 17:24:21 +0000</created>
                <updated>Fri, 8 Feb 2008 01:26:12 +0000</updated>
                            <resolved>Mon, 21 Jan 2008 09:24:29 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.6-rc-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14463311" author="russel" created="Mon, 29 Oct 2007 04:42:54 +0000"  >&lt;p&gt;I created a small hierarchy:&lt;/p&gt;

&lt;p&gt;.&lt;br/&gt;
&amp;#124;-- bin&lt;br/&gt;
&amp;#124;    `-- scriptName&lt;br/&gt;
\`-- location&lt;/p&gt;

&lt;p&gt;and if scriptName is execute from the directory bin or by absolute path then it works fine.  If called using ../bin/scriptName from location then:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;gt; ../bin/scriptName &lt;br/&gt;
Caught: java.lang.NoClassDefFoundError: /&lt;br/&gt;
        at ..class$(scriptName)&lt;br/&gt;
        at ..&amp;lt;clinit&amp;gt;(scriptName)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I think this should be considered a blocker. I will raise the priority on this.  If I have misunderstood or got something wrong, the change can be reverted.&lt;/p&gt;</comment>
                            <comment id="14463318" author="russel" created="Mon, 29 Oct 2007 04:56:09 +0000"  >&lt;p&gt;Is this just another version of &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-569&quot; title=&quot;java.lang.ClassFormatError running groovy script from shell (bash)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-569&quot;&gt;&lt;del&gt;GROOVY-569&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14463419" author="blackdrag" created="Mon, 29 Oct 2007 06:25:47 +0000"  >&lt;p&gt;if it is you can check it easily by giving the script any extension like .groovy&lt;/p&gt;</comment>
                            <comment id="14463363" author="russel" created="Mon, 29 Oct 2007 07:14:50 +0000"  >&lt;p&gt;Looks like it is then.  If I have scriptNameAlt.groovy as a copy then it runs fine with a relative path.&lt;/p&gt;

&lt;p&gt;I will mark this as a replica.&lt;/p&gt;</comment>
                            <comment id="14463293" author="russel" created="Mon, 29 Oct 2007 07:16:13 +0000"  >&lt;p&gt;This is a duplicate and so being closed.&lt;/p&gt;</comment>
                            <comment id="14464161" author="russel" created="Sat, 19 Jan 2008 03:00:24 +0000"  >&lt;p&gt;The script:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#! /usr/bin/env groovy
&lt;span class=&quot;code-comment&quot;&gt;// -*- mode:groovy encoding:UTF-8 -*-
&lt;/span&gt;
println ( &lt;span class=&quot;code-quote&quot;&gt;&apos;Hello World&apos;&lt;/span&gt; )
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;has the execute bit set so can be executed as a command (on a proper operating system anyway &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This script executes fine using the command lines:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;GROOVY_569
./GROOVY_569
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;assuming you are in the directory in which the script is.  Even:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/home/users/russel/Progs/OddsByLanguage/Groovy/GROOVY_569
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;seems to work fine.  However:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;../Groovy/GROOVY_569
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;generates the original error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caught: java.lang.NoClassDefFoundError: /
        at ..class$(GROOVY_569)
        at ..get$class$$(GROOVY_569)
        at ..&amp;lt;clinit&amp;gt;(GROOVY_569)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am therefore reopening this bug.&lt;/p&gt;</comment>
                            <comment id="14477805" author="paulk" created="Mon, 21 Jan 2008 07:39:32 +0000"  >&lt;p&gt;OK, I committed a potential fix for this. It seems to work locally but if others want to give it a try, that would be great.&lt;/p&gt;</comment>
                            <comment id="14464106" author="russel" created="Mon, 21 Jan 2008 09:24:29 +0000"  >&lt;p&gt;Works for me from Subversion r10562.  However this would give a fix relaease of 1.6.0.  I guess more commit magic is needed to get this into 1.5.2.&lt;/p&gt;</comment>
                            <comment id="14477815" author="paulk" created="Mon, 21 Jan 2008 16:07:16 +0000"  >&lt;p&gt;Correct fix version to 1.6 for now, needs 1.5.2 added after merge.&lt;/p&gt;</comment>
                            <comment id="14477974" author="paulk" created="Fri, 8 Feb 2008 01:26:12 +0000"  >&lt;p&gt;close off release 1.5.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12812674">GROOVY-569</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ch47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>