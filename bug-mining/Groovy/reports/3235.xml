<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:55:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7979] JsonSlurper parses a single minus character as a number</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7979</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;A minus sign not followed by some digits should fail parsing but succeeds.  The Character Source parser correctly throws an exception..&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.json.*
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; groovy.json.JsonParserType.*

println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().setType(CHAR_BUFFER).parseText(&lt;span class=&quot;code-quote&quot;&gt;&apos;[-]&apos;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// [-45]
&lt;/span&gt;println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().setType(INDEX_OVERLAY).parseText(&lt;span class=&quot;code-quote&quot;&gt;&apos;[-]&apos;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// [-45]
&lt;/span&gt;println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().setType(LAX).parseText(&lt;span class=&quot;code-quote&quot;&gt;&apos;[-]&apos;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// [-45]
&lt;/span&gt;
println &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().setType(CHARACTER_SOURCE).parseText(&lt;span class=&quot;code-quote&quot;&gt;&apos;[-]&apos;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JsonException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The parsers fail to recognize that no digits are appearing after the minus and end up calculating a value based on the next char value.  For example, the char value of &lt;tt&gt;]&lt;/tt&gt; is 93 and that from the char value of &lt;tt&gt;0&lt;/tt&gt; (48) is 45.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13016273">GROOVY-7979</key>
            <summary>JsonSlurper parses a single minus character as a number</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="jwagenleitner">John Wagenleitner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Oct 2016 21:10:29 +0000</created>
                <updated>Tue, 6 Mar 2018 23:14:46 +0000</updated>
                            <resolved>Sat, 27 May 2017 21:32:12 +0000</resolved>
                                    <version>2.4.7</version>
                                    <fixVersion>2.4.12</fixVersion>
                                    <component>JSON</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16026973" author="githubbot" created="Fri, 26 May 2017 22:40:09 +0000"  >&lt;p&gt;GitHub user JamesLaverack opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/552&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/552&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7979&quot; title=&quot;JsonSlurper parses a single minus character as a number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7979&quot;&gt;&lt;del&gt;GROOVY-7979&lt;/del&gt;&lt;/a&gt;: Prevent JsonSlurper issue on a single minus&lt;/p&gt;

&lt;p&gt;    Add bound checking to JSON parser code to account for a single minus character.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/JamesLaverack/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/JamesLaverack/groovy&lt;/a&gt; groovy7979&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/552.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/552.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #552&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 082535c3e0e0044ed7cb138dde68e296e39ea74c&lt;br/&gt;
Author: James Laverack &amp;lt;james@jameslaverack.com&amp;gt;&lt;br/&gt;
Date:   2017-05-13T12:38:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7979&quot; title=&quot;JsonSlurper parses a single minus character as a number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7979&quot;&gt;&lt;del&gt;GROOVY-7979&lt;/del&gt;&lt;/a&gt;: Add JSONSlurper test case for the string &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt;&quot;.&lt;/p&gt;

&lt;p&gt;commit ac2b8f0584c3cced23fa51690d7c7ab40c2c29d8&lt;br/&gt;
Author: James Laverack &amp;lt;james@jameslaverack.com&amp;gt;&lt;br/&gt;
Date:   2017-05-14T19:21:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7979&quot; title=&quot;JsonSlurper parses a single minus character as a number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7979&quot;&gt;&lt;del&gt;GROOVY-7979&lt;/del&gt;&lt;/a&gt;: Add check for end of negative number&lt;/p&gt;

&lt;p&gt;    The check for the minus sign increments the character index by one. A&lt;br/&gt;
    check is added to ensure that this does not go over the end of the&lt;br/&gt;
    expected character substring.&lt;/p&gt;

&lt;p&gt;commit a550df60a0714898dc9bbbe6512d0da57973a373&lt;br/&gt;
Author: James Laverack &amp;lt;james@jameslaverack.com&amp;gt;&lt;br/&gt;
Date:   2017-05-26T21:10:44Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7979&quot; title=&quot;JsonSlurper parses a single minus character as a number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7979&quot;&gt;&lt;del&gt;GROOVY-7979&lt;/del&gt;&lt;/a&gt;: Check for single minus in NumberValue&lt;/p&gt;

&lt;p&gt;    This check is performed at the time of parsing, rather than while&lt;br/&gt;
    reading the return from `JsonSlurper`. The intent is that the slurper&lt;br/&gt;
    should, to the best of it&apos;s ability, give you a structure which is&lt;br/&gt;
    valid.&lt;/p&gt;

&lt;p&gt;commit f0e65f1765dcebaa4b24f8be0506adcc281c78c7&lt;br/&gt;
Author: James Laverack &amp;lt;james@jameslaverack.com&amp;gt;&lt;br/&gt;
Date:   2017-05-26T21:15:21Z&lt;/p&gt;

&lt;p&gt;    Remove pointless sign handling&lt;/p&gt;

&lt;p&gt;    This code is useless as both of these code paths ultimately call out to&lt;br/&gt;
    `CharScanner#parseIntFromTo` which handles the negative sign.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16027611" author="githubbot" created="Sat, 27 May 2017 21:07:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/552&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/552&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35kdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>