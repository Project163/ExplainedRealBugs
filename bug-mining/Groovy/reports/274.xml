<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:58:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1461] groovy.util.Proxy does not pass each and collect to List</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1461</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When wrapping a List with a groovy.util.Proxy object, each and collect do not get forwarded to the adaptee as most would expect.  Try this code:&lt;/p&gt;

&lt;p&gt;def proxy = new groovy.util.Proxy()&lt;br/&gt;
proxy.adaptee = &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
println &quot;=== output from each:&quot;&lt;br/&gt;
proxy.each &lt;/p&gt;
{ println it }
&lt;p&gt;println &quot;=== output from collect hash codes:&quot;&lt;br/&gt;
println proxy.collect &lt;/p&gt;
{ it.hashCode() }
&lt;p&gt;println &quot;Note: proxy hashCode is ${proxy.hashCode()}&quot;&lt;/p&gt;

&lt;p&gt;Options I see to generally fix this issue for all iterating methods: &lt;br/&gt;
1) implement iterator() on groovy.util.Proxy so that it explicitly passes control to the wrapped Iterator.  &lt;br/&gt;
2) Fix Invoker.asIterator(anObject) with a special case for groovy.util.Proxy to return the iterator on the wrapped object if it implements iterator().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12813271">GROOVY-1461</key>
            <summary>groovy.util.Proxy does not pass each and collect to List</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="joncrlsn">joncrlsn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2006 10:23:06 +0000</created>
                <updated>Thu, 17 Aug 2006 10:31:49 +0000</updated>
                            <resolved>Thu, 17 Aug 2006 10:31:06 +0000</resolved>
                                    <version>1.0-JSR-6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14462200" author="joncrlsn" created="Tue, 15 Aug 2006 10:50:17 +0000"  >&lt;p&gt;Here is a patch that works with all adapted instances of Collection:&lt;/p&gt;

&lt;p&gt;Index: Invoker.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; Invoker.java	(revision 3982)&lt;br/&gt;
+++ Invoker.java	(working copy)&lt;br/&gt;
@@ -339,6 +339,12 @@&lt;br/&gt;
         if (value instanceof Iterator) &lt;/p&gt;
{
             return (Iterator) value;
         }
&lt;p&gt;+        if (value instanceof groovy.util.Proxy) {&lt;br/&gt;
+          groovy.util.Proxy proxy = (groovy.util.Proxy) value;&lt;br/&gt;
+          if (proxy.getAdaptee() instanceof Collection) &lt;/p&gt;
{
+            return ((Collection)proxy.getAdaptee()).iterator();
+          }
&lt;p&gt;+        }&lt;br/&gt;
         if (value instanceof NodeList) {&lt;br/&gt;
             final NodeList nodeList = (NodeList) value;&lt;br/&gt;
             return new Iterator() {&lt;/p&gt;</comment>
                            <comment id="14462252" author="russel" created="Wed, 16 Aug 2006 11:32:03 +0000"  >&lt;p&gt;Various tests have been added based on exchanges on the user list but all of them pass in Revision 3982 so perhaps this problem has resolved itself in some way?&lt;/p&gt;</comment>
                            <comment id="14462070" author="guillaume" created="Wed, 16 Aug 2006 11:37:23 +0000"  >&lt;p&gt;Russel,&lt;br/&gt;
If you take care of applying the patch, then you can close the issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14462131" author="joncrlsn" created="Thu, 17 Aug 2006 10:31:06 +0000"  >&lt;p&gt;Working properly in HEAD.  Russel applied the test cases to the ProxyTest.groovy class.&lt;/p&gt;</comment>
                            <comment id="14462253" author="joncrlsn" created="Thu, 17 Aug 2006 10:31:49 +0000"  >&lt;p&gt;I&apos;m satisfied that it will work properly in the next release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721168" name="org.codehaus.groovy.runtime.Invoker.java.patch" size="669" author="joncrlsn" created="Tue, 15 Aug 2006 10:50:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cctb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>