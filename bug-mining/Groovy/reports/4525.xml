<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:20:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10734] STC doesn&apos;t resolve zero-argument method references in nested generics</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10734</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have a rather mundane Streams pipeline trying to group some items by a particular property.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GroovyExample {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; category
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; title

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; organize(Collection&amp;lt;GroovyExample&amp;gt; examples) {
        examples.stream()
            .collect(groupingBy(GroovyExample::getCategory))
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This produces&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed to find the expected method[getCategory(java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)] in the type[GroovyExample]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This feels similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9803&quot; title=&quot;Static type checker forgets nested generic types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9803&quot;&gt;&lt;del&gt;GROOVY-9803&lt;/del&gt;&lt;/a&gt; in that the apparent problem is a result of a nested generic call that, while unambiguous according to the JLS rules, doesn&apos;t get propagated tightly enough for the STC to correctly recognize that the target type is &lt;tt&gt;GroovyExample&lt;/tt&gt; and thus the zero-argument method is the correct resolution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13479373">GROOVY-10734</key>
            <summary>STC doesn&apos;t resolve zero-argument method references in nested generics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Aug 2022 20:41:18 +0000</created>
                <updated>Fri, 10 Feb 2023 21:40:08 +0000</updated>
                            <resolved>Sat, 3 Sep 2022 16:30:00 +0000</resolved>
                                    <version>4.0.4</version>
                                    <fixVersion>4.0.5</fixVersion>
                    <fixVersion>3.0.13</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17598114" author="emilles" created="Wed, 31 Aug 2022 00:12:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10054&quot; title=&quot;STC: Cannot infer lambda parameter types for a stream collector&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10054&quot;&gt;GROOVY-10054&lt;/a&gt; describes the issue with &lt;tt&gt;groupingBy&lt;/tt&gt;.  The method reference is an additional case that needs to be solved along with the lambdas/closures.&lt;/p&gt;

&lt;p&gt;Update: The first recommended workaround of 10054 does pass type checking but fails under static compilation.  It may not be possible to fix without also addressing the root cause of 10054 and linked tickets.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;Named&amp;gt;&amp;gt; group(Set&amp;lt;Named&amp;gt; set) {
  set.stream().collect(Collectors.groupingBy(Named::getName)) &lt;span class=&quot;code-comment&quot;&gt;// or Named.&amp;amp;getName
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Internally, &lt;tt&gt;Named::getName&lt;/tt&gt; or in this case &lt;tt&gt;GroovyExample::getCategory&lt;/tt&gt; is checked as &lt;tt&gt;it -&amp;gt; it.getName()&lt;/tt&gt; or &lt;tt&gt;it -&amp;gt; it.getCategory()&lt;/tt&gt; respectively, which is noted as a problem for 10054.  It may be possible to identify a static reference to an instance method, aka &lt;tt&gt;Type::getX&lt;/tt&gt; and instead write it as &lt;tt&gt;(Type type) -&amp;gt; type.getX()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17599966" author="emilles" created="Sat, 3 Sep 2022 16:30:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/9bffe17a6831fedd7eeb62ace9b8a920b1451278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/9bffe17a6831fedd7eeb62ace9b8a920b1451278&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13374680">GROOVY-10054</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13479707">GROOVY-10741</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z186yo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>