<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:56:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-76] Broken GroovyMock test case</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-76</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Fixing some other issues I seem to have caused this test case to break. Apologies mock testers! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;src/test/groovy/mock/MockTest.groovy&lt;/p&gt;

&lt;p&gt;search for @todo&lt;/p&gt;</description>
                <environment></environment>
        <key id="12812263">GROOVY-76</key>
            <summary>Broken GroovyMock test case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="codevise">Dierk K&#246;nig</assignee>
                                    <reporter username="jstrachan">James Strachan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Dec 2003 10:21:40 +0000</created>
                <updated>Fri, 14 Jan 2005 13:44:57 +0000</updated>
                            <resolved>Fri, 14 Jan 2005 13:44:57 +0000</resolved>
                                                    <fixVersion>1.0-beta-10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14460737" author="guillaume" created="Fri, 14 Jan 2005 05:46:10 +0000"  >&lt;p&gt;This one is for you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14460753" author="codevise" created="Fri, 14 Jan 2005 13:16:19 +0000"  >&lt;p&gt;Posting on the mailinglist:&lt;br/&gt;
----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
From: Dillman, Brad &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:Brad.Dillman at drdc-rddc.gc.ca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Brad.Dillman at drdc-rddc.gc.ca&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
Sent: Donnerstag, 13. Januar 2005 19:56&lt;br/&gt;
To: &apos;user@groovy.codehaus.org&apos;&lt;br/&gt;
Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;groovy-user&amp;#93;&lt;/span&gt; GroovyMock fix&lt;/p&gt;


&lt;p&gt;OK, I know the problem with GroovyMock and I have a fix.&lt;br/&gt;
GroovyMock.createMatcher(Object args) {&lt;br/&gt;
        if(args instanceof Closure) &lt;/p&gt;
{
// FAILS! args is an array of objects, where args[0] is the Closure.
I&apos;m not sure what is the best way to generate a patch. Only one file is
affected, so here is the result of a diff -ur
&amp;lt;DIFF&amp;gt;
diff -ur fix/groovy-1.0-beta-9/src/main/groovy/mock/GroovyMock.java
orig/groovy-1.0-beta-9/src/main/groovy/mock/GroovyMock.java
--- fix/groovy-1.0-beta-9/src/main/groovy/mock/GroovyMock.java  2005-01-13
14:37:40.703420800 -0400
+++ orig/groovy-1.0-beta-9/src/main/groovy/mock/GroovyMock.java 2005-01-12
16:40:34.000000000 -0400
@@ -54,14 +54,13 @@
     }

&lt;p&gt;     private ConstraintMatcher createMatcher(Object args) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(args.getClass().isArray()) {&lt;/li&gt;
	&lt;li&gt;Object argArray[] = (Object[]) args;&lt;/li&gt;
	&lt;li&gt;if (argArray&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; instanceof Closure) 
{
-                Closure closure = (Closure) argArray[0];
-                return C.args(new ClosureConstraintMatcher(closure));
-            }
&lt;p&gt;+        if (args instanceof Closure) &lt;/p&gt;
{
+            Closure closure = (Closure) args;
+            return C.args(new ClosureConstraintMatcher(closure));
+        }
&lt;p&gt;+        else &lt;/p&gt;
{
+            return C.args(C.eq(args));
         }&lt;/li&gt;
	&lt;li&gt;return C.args(C.eq(args));&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     private Object callMethod(String name, Object args) {&lt;br/&gt;
&amp;lt;/DIFF&amp;gt;&lt;br/&gt;
&quot;That wasn&apos;t such a chore, now was it?&quot; - Dan Akroyd, Ghostbuster, 1984&lt;br/&gt;
Later,&lt;br/&gt;
Brad&lt;/p&gt;</comment>
                            <comment id="14460797" author="codevise" created="Fri, 14 Jan 2005 13:44:57 +0000"  >&lt;p&gt;patch was the wrong way around&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c51b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>