<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:09:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3219] NamespaceBuilder does not create child nodes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3219</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;NamespaceBuilder does not create child nodes&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Test
	void testNamespaceBuilder() {

		def n = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Namespace(&lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//foo/bar&apos;&lt;/span&gt;)
&lt;/span&gt;		
		def builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamespaceBuilder(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NodeBuilder()).namespace(n.uri)
		Node node = builder.crap(id:&lt;span class=&quot;code-quote&quot;&gt;&quot;3&quot;&lt;/span&gt;) {
			bucket(name:&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
		}
		&lt;span class=&quot;code-comment&quot;&gt;// ** &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; prints out only the &lt;span class=&quot;code-quote&quot;&gt;&quot;crap&quot;&lt;/span&gt; element, not its child
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlNodePrinter().print(node)

		&lt;span class=&quot;code-comment&quot;&gt;// *** fails
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; node[n.bucket][0].@name == &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;

	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I&apos;m not missing something here then the bug is in NamespaceBuidlerSupport (it doesn&apos;t do anything with the BuilderSupport instance that you pass into the constructor).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818373">GROOVY-3219</key>
            <summary>NamespaceBuilder does not create child nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="david_syer">Dave Syer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2008 07:08:35 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:47 +0000</updated>
                            <resolved>Wed, 31 Dec 2008 07:33:44 +0000</resolved>
                                    <version>1.5.7</version>
                                    <fixVersion>1.6-rc-2</fixVersion>
                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14478380" author="david_syer" created="Thu, 18 Dec 2008 07:39:45 +0000"  >&lt;p&gt;This worked for me building vanilla XML nodes (maybe it deosn&apos;t work for some other use case that I&apos;m not aware of - otherwise why was NamespaceBuilder* implemented the way it was in Groovy?):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.xml.QName
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.util.NodeBuilder

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;NamespaceBuilder &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; NodeBuilder {

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; prefix;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; NamespaceBuilder(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;(uri, &quot;&quot;);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; NamespaceBuilder(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; prefix) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.uri = uri;
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.prefix = prefix;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getName(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; methodName) {
         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QName(uri, methodName, prefix);
    }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478370" author="paulk" created="Fri, 19 Dec 2008 18:09:47 +0000"  >&lt;p&gt;I think &lt;tt&gt;NamespaceBuilder&lt;/tt&gt; was intended to work for more than just groovy.util.Node objects, e.g. W3C Nodes/Elements, Ant, MBean nodes etc. Though I don&apos;t think it actually covers all of the cases it would need to make that intention a reality. I think a little bit of redesign/refactoring would be a good thing. In your simple proposal above, you only handle the case of a single namespace. It would need to handle a map of namespaces.&lt;/p&gt;</comment>
                            <comment id="14478384" author="paulk" created="Mon, 22 Dec 2008 01:01:18 +0000"  >&lt;p&gt;Initial fix in trunk. Seems OK for MarkupBuilder, AntBuilder, DOMBuilder, NodeBuilder but if you could test it, that would be great.&lt;/p&gt;</comment>
                            <comment id="14478368" author="david_syer" created="Mon, 22 Dec 2008 01:56:37 +0000"  >&lt;p&gt;I copied the code for NamespaceBuilderSupport only and tried it (did I need more?).  Failed my simple tests.  The nodes that are built are not addressable still (child nodes are not added):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Test
	void testDefaultPrefix() {
		def Namespace n = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//foo.com/bar&quot;&lt;/span&gt;)
&lt;/span&gt;		def builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamespaceBuilderSupport(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NodeBuilder(), n.uri)
		Node node = builder.foo {
			bar(name:&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
		}
		&lt;span class=&quot;code-comment&quot;&gt;// Fails because there is no child node &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; node[n.bar][0].@name == &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;
		
		def writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringWriter()
		&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlNodePrinter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrintWriter(writer)).print(node)
		
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; writer.toString().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;bar name=\&quot;&lt;/span&gt;foo\&lt;span class=&quot;code-quote&quot;&gt;&quot;/&amp;gt;&quot;&lt;/span&gt;)
	}
	
	@Test
	void testNonDefaultPrefix() {
		def Namespace n = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Namespace(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//foo.com/bar&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;)
&lt;/span&gt;		def builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamespaceBuilderSupport(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NodeBuilder(), n.uri, n.prefix)
		Node node = builder.foo {
			bar(name:&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
		}
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; node[n.bar][0].@name == &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;

		def writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringWriter()
		&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlNodePrinter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrintWriter(writer)).print(node)
		println writer
		
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; writer.toString().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;f:bar name=\&quot;&lt;/span&gt;foo\&lt;span class=&quot;code-quote&quot;&gt;&quot;/&amp;gt;&quot;&lt;/span&gt;)
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478379" author="paulk" created="Tue, 23 Dec 2008 06:05:10 +0000"  >&lt;p&gt;There was also a minor change to BuilderSupport that you would need.&lt;/p&gt;

&lt;p&gt;Can you try with 1.6-RC-1? For me with 1.6-RC-1 both your tests worked fine.&lt;/p&gt;</comment>
                            <comment id="14466055" author="david_syer" created="Wed, 31 Dec 2008 04:11:14 +0000"  >&lt;p&gt;They both fail for me still (null pointer exception on the line where I try to reference the child node).&lt;/p&gt;</comment>
                            <comment id="14478375" author="paulk" created="Wed, 31 Dec 2008 04:31:33 +0000"  >&lt;p&gt;Was that with 1.6-RC-1?&lt;/p&gt;</comment>
                            <comment id="14478407" author="david_syer" created="Wed, 31 Dec 2008 06:08:48 +0000"  >&lt;p&gt;Yes, sorry.  I thought that&apos;s what you wanted me to try.  I used &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;dependency&amp;gt;
	&amp;lt;groupId&amp;gt;org.codehaus.groovy&amp;lt;/groupId&amp;gt;
	&amp;lt;artifactId&amp;gt;groovy-all&amp;lt;/artifactId&amp;gt;
	&amp;lt;version&amp;gt;1.6-RC-1&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478386" author="david_syer" created="Wed, 31 Dec 2008 06:11:27 +0000"  >&lt;p&gt;Wait, no... there was another groovy on my classpath (groovy-all-minimal-1.5.6).  Why is there no groovy-all-minimal for 1.6?&lt;/p&gt;</comment>
                            <comment id="14478376" author="david_syer" created="Wed, 31 Dec 2008 06:11:58 +0000"  >&lt;p&gt;(So it works for me in 1.6, as promised.)&lt;/p&gt;</comment>
                            <comment id="14478401" author="paulk" created="Wed, 31 Dec 2008 06:31:15 +0000"  >&lt;p&gt;Great. I will do whatever merge is required for the 1_5_x branch and then set this issue to resolved.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Why is there no groovy-all-minimal for 1.6? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We phased that out. Old versions of Maven didn&apos;t handle the &apos;optional&apos; Maven dependency element very well so the minimal artifact was a hack to help people out because it would never download any of the optional artifacts (because they were removed).&lt;/p&gt;</comment>
                            <comment id="14466086" author="paulk" created="Wed, 31 Dec 2008 07:33:44 +0000"  >&lt;p&gt;merged to 1_5_x branch as well now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ce4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>