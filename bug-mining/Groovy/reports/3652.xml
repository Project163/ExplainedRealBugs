<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:03:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9238] Groovy 2.5 AnnotationCollector not generating expected bytecode</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9238</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When using &lt;tt&gt;@AnnotationController&lt;/tt&gt; with meta-annotations ( &lt;tt&gt;@Canonical&lt;/tt&gt;, &lt;tt&gt;@Immutable&lt;/tt&gt; ) compiled classes do not contain the expected bytecode.&#160; As an example I have a &lt;a href=&quot;https://github.com/kod4n/groovy-gradle-issue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;project &lt;/a&gt; that is using a custom annotation with an annotation collector for &lt;tt&gt;@Immutatble&lt;/tt&gt; and &lt;tt&gt;@CompileStatic&lt;/tt&gt;.  The error can be reproduced by running &lt;tt&gt;./gradlew clean test&lt;/tt&gt; against the linked project.&lt;/p&gt;</description>
                <environment>Ubuntu 18.04.3 LTS</environment>
        <key id="13253751">GROOVY-9238</key>
            <summary>Groovy 2.5 AnnotationCollector not generating expected bytecode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="kod4n">Andrew Allen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Aug 2019 16:16:42 +0000</created>
                <updated>Tue, 22 Feb 2022 20:06:41 +0000</updated>
                            <resolved>Thu, 21 Nov 2019 10:37:12 +0000</resolved>
                                    <version>2.5.x</version>
                                    <fixVersion>3.0.0-rc-2</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                                    <component>Compiler</component>
                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16919739" author="emilles" created="Fri, 30 Aug 2019 17:16:15 +0000"  >&lt;p&gt;What is the expectation that is missing from the bytecode?&lt;/p&gt;</comment>
                            <comment id="16919778" author="kod4n" created="Fri, 30 Aug 2019 17:50:36 +0000"  >&lt;p&gt;There are additional constructors that are expected to be available on classes that use &lt;tt&gt;Immutable&lt;/tt&gt; or &lt;tt&gt;Canonical&lt;/tt&gt;.  There is also the expectation that the &lt;tt&gt;copyWith&lt;/tt&gt; method should be available on &lt;tt&gt;Immutable&lt;/tt&gt; classes that enable that option in the annotation, however they are not present.  Other examples include changes to &lt;tt&gt;toString&lt;/tt&gt;, &lt;tt&gt;equals&lt;/tt&gt;, and &lt;tt&gt;hashCode&lt;/tt&gt; which should be updated as both &lt;tt&gt;Immutable&lt;/tt&gt; and &lt;tt&gt;Canonical&lt;/tt&gt; collect the &lt;tt&gt;ToString&lt;/tt&gt; and &lt;tt&gt;EqualsAndHashCode&lt;/tt&gt; annotations&lt;/p&gt;</comment>
                            <comment id="16928694" author="emilles" created="Thu, 12 Sep 2019 16:11:56 +0000"  >&lt;p&gt;It looks like &lt;tt&gt;@CompileStatic&lt;/tt&gt; is being applied, but &lt;tt&gt;@Immutable&lt;/tt&gt; is not because it is also an &lt;tt&gt;AnnotationCollector&lt;/tt&gt;-based annotation.  It does not look like there is support currently implemented for nested collectors.&lt;/p&gt;

&lt;p&gt;You could work around this by looking at Immutable and adding all its annotations to your collector.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z065xs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>