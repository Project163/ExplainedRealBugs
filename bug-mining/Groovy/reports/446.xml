<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2266] closure called by using the call method handles arrays incorrectly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2266</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;simple example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def closure = {x -&amp;gt; x}
def foo = closure.call([1] as &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[])
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; foo == 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while closure has one doCall method, that accepts only one argument, it has two call methods, one of them accepts an array and should be selected here. This method then calls doCall with &quot;this.doCall(*args)&quot; which means the doCall method taking one argument should be choosen and the argument to that method is the conten of the array, the value 1. In stead of this ClosureMetaClass has a bug, which let&apos;s it call doCall with the array, which means the call is &quot;this.doCall(args)&quot; instead of &quot;this.doCall(*args)&quot;. Which is wrong, foo will have the value &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; instead of 1&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12813859">GROOVY-2266</key>
            <summary>closure called by using the call method handles arrays incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="blackdrag">Jochen Theodorou</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Nov 2007 07:44:24 +0000</created>
                <updated>Tue, 4 Aug 2009 14:49:44 +0000</updated>
                            <resolved>Sun, 4 Nov 2007 07:46:08 +0000</resolved>
                                    <version>1.1-rc-1</version>
                    <version>1.1-rc-2</version>
                                    <fixVersion>1.1-rc-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14463544" author="blackdrag" created="Sun, 4 Nov 2007 07:46:08 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                            <comment id="14467429" author="chanwit" created="Tue, 4 Aug 2009 08:29:11 +0000"  >&lt;p&gt;There is another case that is using this similar code after EMC enabled.&lt;/p&gt;

&lt;p&gt;I have tested with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
ExpandoMetaClass.enableGlobally()
def args = [1] as &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]
def closure = {x -&amp;gt; x[0]}
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; closure.call(args) == 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;And it&apos;s still broken.&lt;/p&gt;

&lt;p&gt;Exception thrown: No signature of method: java.lang.Integer.getAt() is applicable for argument types: (java.lang.Integer) values: &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.getAt() is applicable for argument types: (java.lang.Integer) values:&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at ConsoleScript0$_run_closure1.doCall(ConsoleScript0:3)&lt;br/&gt;
	at ConsoleScript0.run(ConsoleScript0:4)&lt;/p&gt;</comment>
                            <comment id="14467349" author="blackdrag" created="Tue, 4 Aug 2009 14:48:18 +0000"  >&lt;p&gt;please open a new issue since your case is EMC related&lt;/p&gt;</comment>
                            <comment id="14467408" author="blackdrag" created="Tue, 4 Aug 2009 14:49:44 +0000"  >&lt;p&gt;It think &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3660&quot; title=&quot;EMC creation handle overrides ClosureMetaClass&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3660&quot;&gt;&lt;del&gt;GROOVY-3660&lt;/del&gt;&lt;/a&gt; can be used as follow up&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cat3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>