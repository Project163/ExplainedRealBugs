<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:27:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11715] Grails reproducible build part 3: @DelegatesTo ordering</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11715</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;We have fixed a few previous issues. This is the last remaining one that we know of. The symptoms are that on subsequent builds of the Grails project, the order in which annotation attributes are written into the bytecode varies, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
public void render(@groovy.lang.DelegatesTo(
    strategy = 1,
    type = &quot;&quot;,
    value = groovy.lang.DelegatesTo.Target.class,
    target = &quot;&quot;,
    genericTypeIndex = -1) groovy.lang.Closure closure) { &lt;span class=&quot;code-comment&quot;&gt;/* compiled code */&lt;/span&gt; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;vs&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
public void render(@groovy.lang.DelegatesTo(
    strategy = 1,
    genericTypeIndex = -1,
    type = &quot;&quot;,
    value = groovy.lang.DelegatesTo.Target.class,
    target = &quot;&quot;) groovy.lang.Closure closure) { &lt;span class=&quot;code-comment&quot;&gt;/* compiled code */&lt;/span&gt; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;While these are logically equivalent, the arbitrary ordering hinders reproducibility.&lt;/p&gt;

&lt;p&gt;Unlike the previous cases where we understood where the non-determinism was probably coming from, here we haven&apos;t tracked down the root cause. Never-the-less, it seems worth tackling the symptoms for now and we can always back out the current changes if we can find a more direct fix. We originally changed HashMap =&amp;gt; LinkedHashMap but that didn&apos;t seem to be enough, hence the change to TreeMap. I&apos;d like to eventually move back to LinkedHashMap.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623755">GROOVY-11715</key>
            <summary>Grails reproducible build part 3: @DelegatesTo ordering</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Jul 2025 12:59:31 +0000</created>
                <updated>Sun, 20 Jul 2025 23:39:52 +0000</updated>
                            <resolved>Fri, 18 Jul 2025 11:58:21 +0000</resolved>
                                                    <fixVersion>4.0.28</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18007821" author="githubbot" created="Thu, 17 Jul 2025 13:17:45 +0000"  >&lt;p&gt;paulk-asert opened a new pull request, #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   (no comment)&lt;/p&gt;

</comment>
                            <comment id="18007829" author="githubbot" created="Thu, 17 Jul 2025 14:06:25 +0000"  >&lt;p&gt;codecov-commenter commented on PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#issuecomment-3084216370&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#issuecomment-3084216370&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Codecov&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2267?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2267?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) Report&lt;br/&gt;
   All modified and coverable lines are covered by tests :white_check_mark:&lt;br/&gt;
   &amp;gt; Project coverage is 68.0860%. Comparing base &lt;span class=&quot;error&quot;&gt;&amp;#91;(`f0112ae`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/commit/f0112aee7bc24977b0895bd31330cbd927b1a917?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/commit/f0112aee7bc24977b0895bd31330cbd927b1a917?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) to head &lt;span class=&quot;error&quot;&gt;&amp;#91;(`e421d87`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/commit/e421d87efe2507432b56754b7c475537b9de2800?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/commit/e421d87efe2507432b56754b7c475537b9de2800?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).&lt;br/&gt;
   &amp;gt; Report is 2 commits behind head on master.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt;Additional details and impacted files&amp;lt;/summary&amp;gt;&lt;/p&gt;


&lt;p&gt;   [!&lt;span class=&quot;error&quot;&gt;&amp;#91;Impacted file tree graph&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2267/graphs/tree.svg?width=650&amp;amp;height=150&amp;amp;src=pr&amp;amp;token=1r45138NfQ&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache)](https://app.codecov.io/gh/apache/groovy/pull/2267?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2267/graphs/tree.svg?width=650&amp;amp;height=150&amp;amp;src=pr&amp;amp;token=1r45138NfQ&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache)](https://app.codecov.io/gh/apache/groovy/pull/2267?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   ```diff&lt;br/&gt;
   @@                Coverage Diff                 @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;master      #2267        +/-   ##&lt;br/&gt;
   ==================================================&lt;br/&gt;
   + Coverage     68.0807%   68.0860%   +0.0053%     &lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Complexity      29188      29191         +3&lt;br/&gt;
   ==================================================&lt;br/&gt;
     Files            1377       1377                &lt;br/&gt;
     Lines          114141     114141                &lt;br/&gt;
     Branches        19796      19796                &lt;br/&gt;
   ==================================================&lt;br/&gt;
   + Hits            77708      77714         +6     &lt;br/&gt;
   + Misses          30096      30092         -4     &lt;br/&gt;
   + Partials         6337       6335         -2     &lt;br/&gt;
   ```&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Files with missing lines&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2267?dropdown=coverage&amp;amp;src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2267?dropdown=coverage&amp;amp;src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Coverage &#916; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...rg/codehaus/groovy/classgen/AsmClassGenerator.java&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2267?src=pr&amp;amp;el=tree&amp;amp;filepath=src%2Fmain%2Fjava%2Forg%2Fcodehaus%2Fgroovy%2Fclassgen%2FAsmClassGenerator.java&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-c3JjL21haW4vamF2YS9vcmcvY29kZWhhdXMvZ3Jvb3Z5L2NsYXNzZ2VuL0FzbUNsYXNzR2VuZXJhdG9yLmphdmE=&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2267?src=pr&amp;amp;el=tree&amp;amp;filepath=src%2Fmain%2Fjava%2Forg%2Fcodehaus%2Fgroovy%2Fclassgen%2FAsmClassGenerator.java&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-c3JjL21haW4vamF2YS9vcmcvY29kZWhhdXMvZ3Jvb3Z5L2NsYXNzZ2VuL0FzbUNsYXNzR2VuZXJhdG9yLmphdmE=&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; `85.1608% &amp;lt;100.0000%&amp;gt; (&#248;)` &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   ... and &lt;span class=&quot;error&quot;&gt;&amp;#91;5 files with indirect coverage changes&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2267/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2267/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   &amp;lt;/details&amp;gt;&lt;br/&gt;
   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt; :rocket: New features to boost your workflow: &amp;lt;/summary&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;:snowflake: &lt;span class=&quot;error&quot;&gt;&amp;#91;Test Analytics&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/test-analytics):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/test-analytics):&lt;/a&gt; Detect flaky tests, report on failures, and find test suite problems.&lt;/li&gt;
	&lt;li&gt;:package: &lt;span class=&quot;error&quot;&gt;&amp;#91;JS Bundle Analysis&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/javascript-bundle-analysis):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/javascript-bundle-analysis):&lt;/a&gt; Save yourself from yourself by tracking and limiting bundle sizes in JS merges.&lt;br/&gt;
   &amp;lt;/details&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="18007848" author="githubbot" created="Thu, 17 Jul 2025 14:52:35 +0000"  >&lt;p&gt;jdaugherty commented on PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#issuecomment-3084381682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#issuecomment-3084381682&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thank you @paulk-asert &lt;/p&gt;

</comment>
                            <comment id="18007946" author="githubbot" created="Fri, 18 Jul 2025 00:12:24 +0000"  >&lt;p&gt;daniellansun commented on PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#issuecomment-3086021765&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#issuecomment-3086021765&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   +1&lt;/p&gt;

</comment>
                            <comment id="18008040" author="githubbot" created="Fri, 18 Jul 2025 11:56:33 +0000"  >&lt;p&gt;daniellansun merged PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="18008041" author="githubbot" created="Fri, 18 Jul 2025 11:56:51 +0000"  >&lt;p&gt;daniellansun commented on PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#issuecomment-3089241974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#issuecomment-3089241974&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Merged. Thanks.&lt;/p&gt;

</comment>
                            <comment id="18008178" author="githubbot" created="Fri, 18 Jul 2025 23:03:56 +0000"  >&lt;p&gt;matrei commented on code in PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#discussion_r2217020381&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#discussion_r2217020381&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/classgen/AsmClassGenerator.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -2221,10 +2222,11 @@ private AnnotationVisitor getAnnotationVisitor(final AnnotatedNode targetNode, f&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param av the visitor to use&lt;br/&gt;
      */&lt;br/&gt;
     public void visitAnnotationAttributes(final AnnotationNode an, final AnnotationVisitor av) {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Map&amp;lt;String, Object&amp;gt; constantAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, PropertyExpression&amp;gt; enumAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, Object&amp;gt; atAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, ListExpression&amp;gt; arrayAttrs = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+        // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11715&quot; title=&quot;Grails reproducible build part 3: @DelegatesTo ordering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11715&quot;&gt;&lt;del&gt;GROOVY-11715&lt;/del&gt;&lt;/a&gt; TODO If we can determine what was causing the issues mentioned on that ticket, we should change these back to LinkedHashMap&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   @paulk-asert Would a plausible explanation to why `LinkedHashMap` isn&apos;t working be that the items are inserted into the maps in different order across different runs? As `LinkedHashMap` maintains insertion order.&lt;/p&gt;


</comment>
                            <comment id="18008180" author="githubbot" created="Fri, 18 Jul 2025 23:10:57 +0000"  >&lt;p&gt;paulk-asert commented on code in PR #2267:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2267#discussion_r2217024543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2267#discussion_r2217024543&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/classgen/AsmClassGenerator.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -2221,10 +2222,11 @@ private AnnotationVisitor getAnnotationVisitor(final AnnotatedNode targetNode, f&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param av the visitor to use&lt;br/&gt;
      */&lt;br/&gt;
     public void visitAnnotationAttributes(final AnnotationNode an, final AnnotationVisitor av) {&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Map&amp;lt;String, Object&amp;gt; constantAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, PropertyExpression&amp;gt; enumAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, Object&amp;gt; atAttrs = new HashMap&amp;lt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;Map&amp;lt;String, ListExpression&amp;gt; arrayAttrs = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+        // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11715&quot; title=&quot;Grails reproducible build part 3: @DelegatesTo ordering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11715&quot;&gt;&lt;del&gt;GROOVY-11715&lt;/del&gt;&lt;/a&gt; TODO If we can determine what was causing the issues mentioned on that ticket, we should change these back to LinkedHashMap&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   @matrei &quot;different order across different runs&quot; is indeed what is being seen but we don&apos;t know how that could be the case.&lt;/p&gt;


</comment>
                            <comment id="18008560" author="paulk" created="Sun, 20 Jul 2025 23:39:26 +0000"  >&lt;p&gt;With the re-roll, I actually backed the change out of 5.0.0-beta-2 (it is in 4.0.28) and tried a different approach of removing the maps altogether and instead tried to process annotation attributes in exactly the order they are encountered. I expect from past experiences that won&apos;t be enough for Grails but may make it easier to track the original source of non-determinism. We might need to do more work on the Groovy 5 branch before Grails swaps to Groovy 5.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wth4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>