<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:53:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7960] IntRange iterator returns null instead of NoSuchElementException</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7960</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Calling &lt;tt&gt;next()&lt;/tt&gt; on an &lt;tt&gt;IntRange&lt;/tt&gt; iterator returns &lt;tt&gt;null&lt;/tt&gt; when &lt;tt&gt;hasNext&lt;/tt&gt; returns false.  As stated in a comment in the class, it should throw &lt;tt&gt;NoSuchElementException&lt;/tt&gt; to adhere to the Iterator contract.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;IntRangeItrTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
    void testItr() {
        def itr = (1..2).iterator()        
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; itr.next() == 1
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; itr.next() == 2
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; !itr.hasNext()        
        shouldFail(NoSuchElementException) {
            itr.next() &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13009955">GROOVY-7960</key>
            <summary>IntRange iterator returns null instead of NoSuchElementException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="jwagenleitner">John Wagenleitner</reporter>
                        <labels>
                            <label>breaking</label>
                    </labels>
                <created>Wed, 5 Oct 2016 18:52:53 +0000</created>
                <updated>Tue, 2 May 2017 02:03:02 +0000</updated>
                            <resolved>Fri, 7 Oct 2016 04:07:33 +0000</resolved>
                                    <version>2.4.7</version>
                                    <fixVersion>2.5.0-alpha-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15550276" author="paulk" created="Wed, 5 Oct 2016 23:26:12 +0000"  >&lt;p&gt;I am happy for this change, but for completeness I think we need to document an edge case that will break after this change. I think it represents a style which we&apos;d discourage but I don&apos;t know if someone intended it at some point or perhaps people might have used it by accident. In any case I don&apos;t think it would be in wide-spread use and I think documenting it here should suffice.&lt;/p&gt;

&lt;p&gt;Before this change the following code works without exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def items = (3..5).iterator()
def x
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (x = items.next()) { println x }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It silently falls out of the loop once the null is returned (existing behavior). This differs from most other similar collection types, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def items = [3, 4, 5].iterator()
def x
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (x = items.next()) { println x }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;would throw the &lt;tt&gt;NoSuchElementException&lt;/tt&gt; as the new behavior will now do.&lt;/p&gt;

&lt;p&gt;Of course the preferred approach would be to use &lt;tt&gt;each&lt;/tt&gt; or if the external iterator approach is really required, something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(items.hasNext()) { println items.next() }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15554056" author="jwagenleitner" created="Fri, 7 Oct 2016 04:07:33 +0000"  >&lt;p&gt;Merged PR from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jt1796&quot; class=&quot;user-hover&quot; rel=&quot;jt1796&quot;&gt;jt1796&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13009957">GROOVY-7961</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34hj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>