<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8332] Packaging issue for Antlr4-related jars</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8332</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The 2.6.0-alpha-1 jars have some incorrect service metadata.&lt;/p&gt;

&lt;p&gt;To reproduce, create a gradle project containing the following files:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Calc.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Calc {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; sum(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; a, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; a + b; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;CalcTest.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CalcTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
    void testSum() { &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; 3 == Calc.sum(1, 2) }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;build.gradle&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;group &lt;span class=&quot;code-quote&quot;&gt;&apos;calc&apos;&lt;/span&gt;
version &lt;span class=&quot;code-quote&quot;&gt;&apos;1.0-SNAPSHOT&apos;&lt;/span&gt;

apply plugin: &lt;span class=&quot;code-quote&quot;&gt;&apos;groovy&apos;&lt;/span&gt;

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile &lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-all:2.6.0-alpha-1&apos;&lt;/span&gt;
    testCompile &lt;span class=&quot;code-quote&quot;&gt;&apos;junit:junit:4.12&apos;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When invoking the &lt;tt&gt;test&lt;/tt&gt; task via gradle, the following error is observed:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;:compileJava
error: Bad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: Provider org.antlr.v4.runtime.misc.RuleDependencyProcessor not found
:compileJava FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I believe we need to reference:&lt;br/&gt;
&lt;tt&gt;groovyjarjarantlr4.v4.runtime.misc.RuleDependencyProcessor&lt;/tt&gt;&lt;br/&gt;
instead of:&lt;br/&gt;
&lt;tt&gt;org.antlr.v4.runtime.misc.RuleDependencyProcessor&lt;/tt&gt;&lt;br/&gt;
in our jarjar&apos;d jar files within this file:&lt;br/&gt;
&lt;tt&gt;META-INF/services/javax.annotation.processing.Processor&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;We might need to roll this by hand since I suspect we won&apos;t be able to configure the antlr gradle plugin to do such a change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13105707">GROOVY-8332</key>
            <summary>Packaging issue for Antlr4-related jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Sep 2017 09:26:26 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:28 +0000</updated>
                            <resolved>Fri, 13 Oct 2017 11:52:52 +0000</resolved>
                                    <version>2.6.0-alpha-1</version>
                                    <fixVersion>2.6.0-alpha-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16185290" author="daniel_sun" created="Fri, 29 Sep 2017 03:11:40 +0000"  >&lt;p&gt;Is it possible to replace org.antlr.v4.runtime.misc.RuleDependencyProcessor with groovyjarjarantlr4.v4.runtime.misc.RuleDependencyProcessor in the jarjar task?&lt;/p&gt;</comment>
                            <comment id="16185330" author="paulk" created="Fri, 29 Sep 2017 04:28:00 +0000"  >&lt;p&gt;jarjar does some reference replacement but obviously doesn&apos;t know about the reference in this file. Actually, I am wondering if we even need a reference to that processor at all or is it only needed during grammar generation. I haven&apos;t looked into that part of antlr4 yet.&lt;/p&gt;</comment>
                            <comment id="16185347" author="daniel_sun" created="Fri, 29 Sep 2017 04:42:49 +0000"  >&lt;p&gt;I guess annotations like @NotNull requires the processor.&lt;/p&gt;</comment>
                            <comment id="16185380" author="paulk" created="Fri, 29 Sep 2017 05:37:17 +0000"  >&lt;p&gt;It&apos;s still not clear to me if it&apos;s required. We&apos;d want @NonNull checking when we compile the grammar but after that?&lt;/p&gt;</comment>
                            <comment id="16185953" author="daniel_sun" created="Fri, 29 Sep 2017 15:08:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/tunnelvisionlabs/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/misc/RuleDependencyProcessor.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tunnelvisionlabs/antlr4/blob/master/runtime/Java/src/org/antlr/v4/runtime/misc/RuleDependencyProcessor.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As the comment shows, it is &quot;A compile-time validator for rule dependencies.&quot;. In other words, we need the RuleDependencyProcessor at compile time.&lt;/p&gt;</comment>
                            <comment id="16196341" author="erdi" created="Sun, 8 Oct 2017 21:44:06 +0000"  >&lt;p&gt;I&apos;m seeing the exact same issue when trying to build Geb using 2.6.0-alpha-1.&lt;/p&gt;</comment>
                            <comment id="16203431" author="paulk" created="Fri, 13 Oct 2017 11:52:52 +0000"  >&lt;p&gt;Just removing the META-INF/services file seems to have fixed the problem without causing any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3knnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>