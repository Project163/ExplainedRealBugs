<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:51:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7044] Cloned NodeBuilder created nodes share values (child nodes) with original node.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7044</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Cloning nodes created by NodeBuilder share child nodes with original node.&lt;br/&gt;
If node is added to original node or child node value is changed, the cloned node will see those changes. Same applies to cloned node, adding node or changing child node value will be seen by original node.&lt;/p&gt;

&lt;p&gt;The problem seem to originate in NodeBuilder methods:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; createNode(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; name)
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; createNode(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; name, Map attributes)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which use ArrayList when creating new Node instead of NodeList.&lt;/p&gt;

&lt;p&gt;Can be easily reproduced by groovysh or use attached junit file.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;groovy:000&amp;gt; x1 = new NodeBuilder().a() { b() }
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=[]]]]
groovy:000&amp;gt; x2 = x1.clone()
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=[]]]]
groovy:000&amp;gt; x1.appendNode(&apos;c&apos;)
===&amp;gt; c[attributes={}; value=[]]
groovy:000&amp;gt; x1
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=[]], c[attributes={}; value=[]]]]
groovy:000&amp;gt; x2
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=[]], c[attributes={}; value=[]]]]
groovy:000&amp;gt; x1.b[0].setValue(1)
===&amp;gt; null
groovy:000&amp;gt; x1
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=1], c[attributes={}; value=[]]]]
groovy:000&amp;gt; x2
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=1], c[attributes={}; value=[]]]]
groovy:000&amp;gt; x2.c[0].setValue(2)
===&amp;gt; null
groovy:000&amp;gt; x1
===&amp;gt; a[attributes={}; value=[b[attributes={}; value=1], c[attributes={}; value=2]]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12817789">GROOVY-7044</key>
            <summary>Cloned NodeBuilder created nodes share values (child nodes) with original node.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shils">Shil Sinha</assignee>
                                    <reporter username="cvrcak">Damir Perovi?</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Aug 2014 11:54:48 +0000</created>
                <updated>Wed, 1 Feb 2017 23:19:03 +0000</updated>
                            <resolved>Sat, 2 Jul 2016 17:45:58 +0000</resolved>
                                    <version>2.3.6</version>
                                    <fixVersion>2.4.8</fixVersion>
                                    <component>groovy-jdk</component>
                    <component>XML Processing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15159688" author="githubbot" created="Tue, 23 Feb 2016 21:35:59 +0000"  >&lt;p&gt;GitHub user daspilker opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/270&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7044&quot; title=&quot;Cloned NodeBuilder created nodes share values (child nodes) with original node.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7044&quot;&gt;&lt;del&gt;GROOVY-7044&lt;/del&gt;&lt;/a&gt;: Fixed deep cloning of nodes generated by NodeBuilder&lt;/p&gt;

&lt;p&gt;    Use default behavior when creating Nodes without value.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/daspilker/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/daspilker/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7044&quot; title=&quot;Cloned NodeBuilder created nodes share values (child nodes) with original node.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7044&quot;&gt;&lt;del&gt;GROOVY-7044&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/270.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/270.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #270&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b99e656e734b14872048354731b01d9d3061af6&lt;br/&gt;
Author: Daniel Spilker &amp;lt;daniel.spilker@coremedia.com&amp;gt;&lt;br/&gt;
Date:   2016-02-23T21:34:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7044&quot; title=&quot;Cloned NodeBuilder created nodes share values (child nodes) with original node.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7044&quot;&gt;&lt;del&gt;GROOVY-7044&lt;/del&gt;&lt;/a&gt;: Fixed deep cloning of nodes generated by NodeBuilder&lt;/p&gt;

&lt;p&gt;    Use default behavior when creating Nodes without value.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15182277" author="pascalschumacher" created="Sun, 6 Mar 2016 19:12:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; What do you think? Is this a bug or a feature? Should we merge the pull request?&lt;/p&gt;</comment>
                            <comment id="15182779" author="blackdrag" created="Mon, 7 Mar 2016 09:08:38 +0000"  >&lt;p&gt;This PR requires a testcase&lt;/p&gt;</comment>
                            <comment id="15182877" author="daniel.spilker@hamburg.de" created="Mon, 7 Mar 2016 11:04:52 +0000"  >&lt;p&gt;I updated the PR to include a testcase.&lt;/p&gt;</comment>
                            <comment id="15360262" author="githubbot" created="Sat, 2 Jul 2016 17:36:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/270&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722205" name="NodeBuilderTest.groovy" size="339" author="cvrcak" created="Wed, 27 Aug 2014 11:54:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2chw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>