<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:56:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-704] Primitive function arguments cause VerifyError</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-704</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code:&lt;/p&gt;

&lt;p&gt;def foo(double x,  y) {&lt;br/&gt;
   println &quot;x: &quot;+x&lt;br/&gt;
   println &quot;y: &quot;+y&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;foo(10.0d, 0)&lt;/p&gt;

&lt;p&gt;causes Groovy to complain that the value passed to y is the wrong type.  Making foo a member function of a class (in another file), and giving it three arguments, the function runs but y is null and the value that should go to y, goes to the third arg.  At one point I had it triggering an internal error in the JVM.&lt;/p&gt;

&lt;p&gt;Changing double to Double fixes the problem.&lt;/p&gt;</description>
                <environment>Windows XP, Java 1.4.2_06</environment>
        <key id="12812803">GROOVY-704</key>
            <summary>Primitive function arguments cause VerifyError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mcspanky">Martin C. Martin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jan 2005 12:30:31 +0000</created>
                <updated>Sat, 5 Feb 2005 11:39:24 +0000</updated>
                            <resolved>Sat, 5 Feb 2005 11:39:24 +0000</resolved>
                                    <version>1.0-beta-9</version>
                                    <fixVersion>1.0-beta-10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14460708" author="mcspanky" created="Mon, 24 Jan 2005 22:52:17 +0000"  >&lt;p&gt;I spent a while on it this evening, and couldn&apos;t find the problem.  But I did discover that you don&apos;t need the function call or the first println, although you do need to access y.  So the shortest code that produces this bug is:&lt;/p&gt;

&lt;p&gt;def foo(double x, y) {&lt;br/&gt;
   y&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Everything looks fine, and the methodType in AsmClassGenerator2.visitMethod() is right:&lt;/p&gt;

&lt;p&gt;(DLjava/lang/Object;)Ljava/lang/Object;&lt;/p&gt;

&lt;p&gt;Maybe it&apos;s a bug in the objectweb ClassWriter?&lt;/p&gt;</comment>
                            <comment id="14460771" author="mcspanky" created="Tue, 25 Jan 2005 00:24:47 +0000"  >&lt;p&gt;After a little more searching, I discovered this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://java.sun.com/docs/books/vmspec/2nd-edition/html/Overview.doc.html#15722&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/docs/books/vmspec/2nd-edition/html/Overview.doc.html#15722&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;A single local variable can hold a value of type boolean, byte, char, short, int, float, reference, or returnAddress. A pair of local variables can hold a value of type long or double.&quot;&lt;/p&gt;

&lt;p&gt;So when an argument is a long or a double, we need to increase the index of all subsequent arguments.&lt;/p&gt;</comment>
                            <comment id="14460585" author="jstrachan" created="Tue, 25 Jan 2005 07:53:48 +0000"  >&lt;p&gt;I think this is resolved now - I&apos;ve added a test case groovy.bugs.DoubleSizeParametersBug to try reproduce it and I think its fixed now?&lt;/p&gt;</comment>
                            <comment id="14460694" author="jstrachan" created="Tue, 25 Jan 2005 09:13:54 +0000"  >&lt;p&gt;fixing resolve comment&lt;/p&gt;</comment>
                            <comment id="14460643" author="jstrachan" created="Tue, 25 Jan 2005 09:15:59 +0000"  >&lt;p&gt;Just to update my previous comment - it was Pilho Kim who provided me with the bug fix on IRC - many thanks Pilho!&lt;/p&gt;</comment>
                            <comment id="14460667" author="mcspanky" created="Tue, 25 Jan 2005 19:53:01 +0000"  >&lt;p&gt;Adding patch for a slightly cleaner solution&lt;/p&gt;</comment>
                            <comment id="14460772" author="mcspanky" created="Tue, 25 Jan 2005 19:54:10 +0000"  >&lt;p&gt;Changes the fix; doesn&apos;t use dummy variables, instead getNextVariableID() takes size of each var into account.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12812751">GROOVY-669</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12812611">GROOVY-564</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721064" name="AsmClassGenerator2.diff" size="796" author="mcspanky" created="Tue, 25 Jan 2005 19:54:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bngv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>