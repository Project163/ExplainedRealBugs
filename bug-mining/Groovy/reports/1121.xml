<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:14:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3876] as Integer doesn&apos;t work with GStringImpl</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3876</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;-1&quot;&lt;/span&gt; as &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;returns -1&lt;/p&gt;

&lt;p&gt;however:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;a = &lt;span class=&quot;code-quote&quot;&gt;&apos;-1&apos;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;$a&quot;&lt;/span&gt; as &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gives&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; object &lt;span class=&quot;code-quote&quot;&gt;&apos;-1&apos;&lt;/span&gt; with class &lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy.runtime.GStringImpl&apos;&lt;/span&gt; to class &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&apos;&lt;/span&gt;
    	at Script1.run(Script1.groovy:2)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But you can do it with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;a = &lt;span class=&quot;code-quote&quot;&gt;&apos;-1&apos;&lt;/span&gt;
( &lt;span class=&quot;code-quote&quot;&gt;&quot;$a&quot;&lt;/span&gt; as &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ) as &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tim&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814967">GROOVY-3876</key>
            <summary>as Integer doesn&apos;t work with GStringImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="tim_yates">Tim Yates</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Nov 2009 10:53:33 +0000</created>
                <updated>Wed, 9 Dec 2009 18:16:41 +0000</updated>
                            <resolved>Fri, 13 Nov 2009 10:49:42 +0000</resolved>
                                    <version>1.6.5</version>
                                    <fixVersion>1.6.6</fixVersion>
                    <fixVersion>1.7-rc-1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14468188" author="roshandawrani" created="Fri, 13 Nov 2009 10:49:42 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                            <comment id="14468109" author="blackdrag" created="Fri, 13 Nov 2009 14:20:46 +0000"  >&lt;p&gt;Roshan, your fix changes DefaultTypeTransformation which is used for casts, that means due to your change  (Integer) &quot;$a&quot; will now behave as &quot;$a&quot; as Integer, but (Integer) &quot;-1&quot; is not supposed to return -1, while &quot;-1&quot; as Integer is. the as-operation is not a normal cast, instead it is mapped to asType. Which means any change to fix GString.asType would be in DefaultGroovyMethods and not in DefaultTypeTransformation&lt;/p&gt;</comment>
                            <comment id="14468129" author="roshandawrani" created="Fri, 13 Nov 2009 20:40:48 +0000"  >&lt;p&gt;Sorry about that. I didn&apos;t know that behavior difference in &apos;(Integer) &quot;$a&quot;&apos; and &apos;&quot;$a&quot; as Integer&apos;. And no test failed too to tell me that I was breaking this normal cast behavior.&lt;/p&gt;

&lt;p&gt;I have fixed it now.&lt;/p&gt;

&lt;p&gt;Can you please tell me why &apos;(Integer) &quot;$a&quot;&apos; and &apos;&quot;$a&quot; as Integer&apos; are supposed to produce different results? I thought it was just a matter of coding style. Do these different styles yield different results often?&lt;/p&gt;</comment>
                            <comment id="14468213" author="paulk" created="Fri, 13 Nov 2009 20:57:12 +0000"  >&lt;p&gt;Casting we try to keep close to Java semantics. &quot;as&quot; gives us an extra hook to do some extra Groovy coercing of like things.&lt;/p&gt;</comment>
                            <comment id="14468110" author="roshandawrani" created="Fri, 13 Nov 2009 21:04:51 +0000"  >&lt;p&gt;Didn&apos;t know that groovy applied different degrees of coercion in ()/as syntaxes. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2byl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>