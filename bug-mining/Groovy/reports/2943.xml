<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:47:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7610] Null safe is call throws VerifyError when used as condition with CompileStatic</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7610</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Here&apos;s an example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
    void ifCondition(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; x, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; y) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (x?.is(y))
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
    }

    void ternaryCondition(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; x, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; y) {
          x?.is(y) ? &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&apos;bar&apos;&lt;/span&gt;
    }
}
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; A()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above code throws the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.VerifyError: (class: A, method: ternaryCondition signature (Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)V) Expecting to find object/array on stack
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This appears to be caused by the ?.is call expression being transformed to a CompareIdentityExpression, which is semantically different.&lt;/p&gt;</description>
                <environment>OS X 10.10, JDK 1.8.0_60&lt;br/&gt;
</environment>
        <key id="12901216">GROOVY-7610</key>
            <summary>Null safe is call throws VerifyError when used as condition with CompileStatic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="shils">Shil Sinha</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Sep 2015 04:31:18 +0000</created>
                <updated>Mon, 22 Feb 2016 20:48:38 +0000</updated>
                            <resolved>Wed, 7 Oct 2015 19:22:47 +0000</resolved>
                                    <version>2.4.4</version>
                    <version>2.4.5</version>
                                    <fixVersion>2.4.6</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14934615" author="githubbot" created="Tue, 29 Sep 2015 04:55:21 +0000"  >&lt;p&gt;GitHub user shils opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/123&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7610&quot; title=&quot;Null safe is call throws VerifyError when used as condition with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7610&quot;&gt;&lt;del&gt;GROOVY-7610&lt;/del&gt;&lt;/a&gt; Null safe is calls throw VerifyError when used as conditi&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;on with CompileStatic&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Null safe .is method call expressions were being transformed to CompareIdentityExpressions&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/shils/incubator-groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shils/incubator-groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7610&quot; title=&quot;Null safe is call throws VerifyError when used as condition with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7610&quot;&gt;&lt;del&gt;GROOVY-7610&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/123.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/123.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #123&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bb2a18b500183999bb3dd9cc57977272d93dc71c&lt;br/&gt;
Author: Shil S &amp;lt;shil.sinha@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-09-29T04:53:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7610&quot; title=&quot;Null safe is call throws VerifyError when used as condition with CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7610&quot;&gt;&lt;del&gt;GROOVY-7610&lt;/del&gt;&lt;/a&gt; Null safe is calls throw VerifyError when used as condition with CompileStatic&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Null safe .is method call expressions were being transformed to CompareIdentityExpressions&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="14935202" author="shils" created="Tue, 29 Sep 2015 13:57:33 +0000"  >&lt;p&gt;The problem is explicit in the bytecode:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; L0
    LINENUMBER 6 L0
    ALOAD 1
    ALOAD 2
    IF_ACMPNE L1
    ICONST_1
    GOTO L2
   L1
    ICONST_0
   L2
    DUP
    IFNONNULL L3
    POP
    ICONST_0
    GOTO L4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The IFNONNULL instruction expects a reference but sees an int. &lt;/p&gt;</comment>
                            <comment id="14947413" author="githubbot" created="Wed, 7 Oct 2015 19:17:09 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/123&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2me1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>