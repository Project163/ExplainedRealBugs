<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:26:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11685] Static type checking fails with groovy 5.x</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11685</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This project can compile and run under groovy-4 but fails static type checking with groovy-5. I could not find what would be wrong with the code.&lt;br/&gt;
&lt;a href=&quot;https://github.com/brown-uk/nlp_uk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/brown-uk/nlp_uk&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:

file:/home/user/nlp_uk/src/main/groovy/ua/net/nlp/tools/TextUtils.groovy: 182: [Static type checking] - Cannot call java.util.function.Consumer#call(capture-o
f ? extends ua.net.nlp.tools.TextUtils.ResultBase) with arguments [ua.net.nlp.tools.TextUtils$ResultBase]

 @ line 182, column 6.
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;postProcessClosure(analyzed)
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;^

file:/home/user/nlp_uk/src/main/groovy/ua/net/nlp/tools/TextUtils.groovy: 200: [Static type checking] - Cannot call java.util.function.Consumer#call(capture-o
f ? extends ua.net.nlp.tools.TextUtils.ResultBase) with arguments [ua.net.nlp.tools.TextUtils$ResultBase]

 @ line 200, column 4.
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;postProcessClosure(analyzed)
 &#160;&#160;&#160;&#160;&#160;^

file:/home/user/nlp_uk/src/main/groovy/ua/net/nlp/tools/tag/TagUnknown.groovy: 97: [Static type checking] - Incompatible generic argument types. Cannot assign
 java.util.List&amp;lt;java.lang.Object&amp;gt; to: java.util.List&amp;lt;ua.net.nlp.tools.tag.TagTextCore.TaggedToken&amp;gt;

 @ line 97, column 25.
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;retTokens = opToTagMap.collect { e -&amp;gt;
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;^

file:/home/user/nlp_uk/src/main/groovy/ua/net/nlp/tools/tag/TagUnknown.groovy: 136: [Static type checking] - Incompatible generic argument types. Cannot assig
n java.util.List&amp;lt;? extends java.lang.Object&amp;gt; to: java.util.List&amp;lt;ua.net.nlp.tools.tag.TagTextCore.TaggedToken&amp;gt;

 @ line 136, column 16.
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return retTokens
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13619684">GROOVY-11685</key>
            <summary>Static type checking fails with groovy 5.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="arysin">Andriy Rysin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 May 2025 14:23:46 +0000</created>
                <updated>Sun, 8 Jun 2025 14:17:09 +0000</updated>
                            <resolved>Sun, 1 Jun 2025 02:10:40 +0000</resolved>
                                    <version>5.0.0-beta-1</version>
                                    <fixVersion>5.0.0-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17955417" author="emilles" created="Sat, 31 May 2025 14:29:26 +0000"  >&lt;p&gt;This fails under STC because postProcessClosure accepts &quot;unknown type that extends ResultBase&quot;.  It should be declared as &quot;Consumer&amp;lt;ResultBase&amp;gt;&quot; or &quot;Consumer&amp;lt;? super ResultBase&amp;gt;&quot;.  I linked the issue detailing the wildcard capture changes.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
Consumer&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ResultBase&amp;gt; postProcessClosure
ResultBase analyzed = closure.apply(str)
postProcessClosure(analyzed)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17955418" author="emilles" created="Sat, 31 May 2025 14:55:06 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://github.com/brown-uk/nlp_uk/blob/f30e69fac5ce739d962d8aa24230655a8912640c/src/main/groovy/ua/net/nlp/tools/tag/TagUnknown.groovy#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this method&lt;/a&gt;, you rely on &quot;def&quot; to do a lot of heavy lifting. You could move the default value (empty array list) to an else block under the check for non-empty opToTagMap.&lt;/p&gt;

&lt;p&gt;Anyways, besides adding some types along the way, I think the main problem is your closure has two return statements. One returns a new TaggedToken and the other just returns. Adding null to the return (with a typecast) should fix it up.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Map&amp;lt;WordReading, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;&amp;gt; lemmaSuffixStatsF = [:].withDefault { [:].withDefault { 0 } }
&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; opToTagMap = lemmaSuffixStatsF[last3] &lt;span class=&quot;code-comment&quot;&gt;// replace &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt;&quot;&lt;/span&gt; with &lt;span class=&quot;code-quote&quot;&gt;&quot;Map&amp;lt;WordReading, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;&quot;&lt;/span&gt;
&lt;/span&gt;opToTagMap = opToTagMap.findAll { e -&amp;gt; getCoeff(e, token, idx, tokens) &amp;gt; 0 }
opToTagMap = opToTagMap.toSorted { e -&amp;gt; - getCoeff(e, token, idx, tokens) }

List&amp;lt;TaggedToken&amp;gt; retTokens = [] &lt;span class=&quot;code-comment&quot;&gt;// move &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; to &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; block
&lt;/span&gt;retTokens = opToTagMap.collect { &lt;span class=&quot;code-comment&quot;&gt;/*Map.Entry&amp;lt;WordReading, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;*/&lt;/span&gt; e -&amp;gt;
  ...
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (...) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// probably need to add &lt;span class=&quot;code-quote&quot;&gt;&quot;(TaggedToken) &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/span&gt;  ...
  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TaggedToken(value: token, lemma: lemma, tags: wr.postag, confidence: q)
}
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; retTokens
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Small nitpick: When you want to collect all non-null things aka &quot;x.collect{...}.findAll{ it != null }&quot;, &lt;a href=&quot;https://github.com/apache/groovy/blob/a095d672630ddab9dfc1b66a52313c1d152f28c5/src/main/java/org/codehaus/groovy/runtime/DefaultGroovyMethods.java#L6346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;findResults&lt;/a&gt; does that without the extra findAll step (and intermediate collection).&lt;/p&gt;</comment>
                            <comment id="17955426" author="githubbot" created="Sat, 31 May 2025 17:12:19 +0000"  >&lt;p&gt;eric-milles opened a new pull request, #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   (no comment)&lt;/p&gt;

</comment>
                            <comment id="17955434" author="githubbot" created="Sat, 31 May 2025 17:36:22 +0000"  >&lt;p&gt;codecov-commenter commented on PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243#issuecomment-2925489543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243#issuecomment-2925489543&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Codecov&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2243?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2243?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) Report&lt;br/&gt;
   All modified and coverable lines are covered by tests :white_check_mark:&lt;br/&gt;
   &amp;gt; Project coverage is 69.0485%. Comparing base &lt;span class=&quot;error&quot;&gt;&amp;#91;(`06de65f`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/commit/06de65fcdf9d558a1df541da64b67f37fd0ec9ac?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/commit/06de65fcdf9d558a1df541da64b67f37fd0ec9ac?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) to head &lt;span class=&quot;error&quot;&gt;&amp;#91;(`67af810`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/commit/67af81026f39e8c27c98b87901bb54e5b2a4fec8?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/commit/67af81026f39e8c27c98b87901bb54e5b2a4fec8?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).&lt;br/&gt;
   &amp;gt; Report is 2 commits behind head on master.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt;Additional details and impacted files&amp;lt;/summary&amp;gt;&lt;/p&gt;


&lt;p&gt;   [!&lt;span class=&quot;error&quot;&gt;&amp;#91;Impacted file tree graph&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2243/graphs/tree.svg?width=650&amp;amp;height=150&amp;amp;src=pr&amp;amp;token=1r45138NfQ&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache)](https://app.codecov.io/gh/apache/groovy/pull/2243?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2243/graphs/tree.svg?width=650&amp;amp;height=150&amp;amp;src=pr&amp;amp;token=1r45138NfQ&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache)](https://app.codecov.io/gh/apache/groovy/pull/2243?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   ```diff&lt;br/&gt;
   @@                Coverage Diff                 @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;master      #2243        +/-   ##&lt;br/&gt;
   ==================================================&lt;br/&gt;
   + Coverage     69.0397%   69.0485%   +0.0087%     &lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Complexity      29709      29714         +5&lt;br/&gt;
   ==================================================&lt;br/&gt;
     Files            1423       1423                &lt;br/&gt;
     Lines          114437     114437                &lt;br/&gt;
     Branches        19857      19858         +1     &lt;br/&gt;
   ==================================================&lt;br/&gt;
   + Hits            79007      79017        +10     &lt;br/&gt;
   + Misses          28791      28784         -7     &lt;br/&gt;
   + Partials         6639       6636         -3     &lt;br/&gt;
   ```&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Files with missing lines&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2243?dropdown=coverage&amp;amp;src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2243?dropdown=coverage&amp;amp;src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Coverage &#916; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...roovy/transform/stc/StaticTypeCheckingVisitor.java&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2243?src=pr&amp;amp;el=tree&amp;amp;filepath=src%2Fmain%2Fjava%2Forg%2Fcodehaus%2Fgroovy%2Ftransform%2Fstc%2FStaticTypeCheckingVisitor.java&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-c3JjL21haW4vamF2YS9vcmcvY29kZWhhdXMvZ3Jvb3Z5L3RyYW5zZm9ybS9zdGMvU3RhdGljVHlwZUNoZWNraW5nVmlzaXRvci5qYXZh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2243?src=pr&amp;amp;el=tree&amp;amp;filepath=src%2Fmain%2Fjava%2Forg%2Fcodehaus%2Fgroovy%2Ftransform%2Fstc%2FStaticTypeCheckingVisitor.java&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-c3JjL21haW4vamF2YS9vcmcvY29kZWhhdXMvZ3Jvb3Z5L3RyYW5zZm9ybS9zdGMvU3RhdGljVHlwZUNoZWNraW5nVmlzaXRvci5qYXZh&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; `87.5493% &amp;lt;100.0000%&amp;gt; (&#248;)` &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   ... and &lt;span class=&quot;error&quot;&gt;&amp;#91;4 files with indirect coverage changes&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/groovy/pull/2243/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/groovy/pull/2243/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   &amp;lt;/details&amp;gt;&lt;br/&gt;
   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt; :rocket: New features to boost your workflow: &amp;lt;/summary&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;:snowflake: &lt;span class=&quot;error&quot;&gt;&amp;#91;Test Analytics&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/test-analytics):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/test-analytics):&lt;/a&gt; Detect flaky tests, report on failures, and find test suite problems.&lt;/li&gt;
	&lt;li&gt;:package: &lt;span class=&quot;error&quot;&gt;&amp;#91;JS Bundle Analysis&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/javascript-bundle-analysis):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/javascript-bundle-analysis):&lt;/a&gt; Save yourself from yourself by tracking and limiting bundle sizes in JS merges.&lt;br/&gt;
   &amp;lt;/details&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="17955443" author="githubbot" created="Sat, 31 May 2025 20:20:37 +0000"  >&lt;p&gt;Copilot commented on code in PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243#discussion_r2118224734&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243#discussion_r2118224734&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -2397,7 +2397,7 @@ public void visitReturnStatement(final ReturnStatement statement) {&lt;/p&gt;

&lt;p&gt;     protected ClassNode checkReturnType(final ReturnStatement statement) {&lt;br/&gt;
         Expression expression = statement.getExpression();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ClassNode type = getType(expression);&lt;br/&gt;
+        var type = statement.isReturningNullOrVoid() ? VOID_TYPE : getType(expression); // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11685&quot; title=&quot;Static type checking fails with groovy 5.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11685&quot;&gt;&lt;del&gt;GROOVY-11685&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;nitpick&amp;#93;&lt;/span&gt; Consider using the explicit `ClassNode` type here instead of `var` to match the existing style and improve readability.&lt;br/&gt;
   ```suggestion&lt;br/&gt;
           ClassNode type = statement.isReturningNullOrVoid() ? VOID_TYPE : getType(expression); // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11685&quot; title=&quot;Static type checking fails with groovy 5.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11685&quot;&gt;&lt;del&gt;GROOVY-11685&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
   ```&lt;/p&gt;



&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -2419,7 +2419,8 @@ protected ClassNode checkReturnType(final ReturnStatement statement) {&lt;br/&gt;
                 } else if (statement.isReturningNullOrVoid() ? !isPrimitiveType(inferredReturnType) // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7713&quot; title=&quot;CompileStatic checking fails with null returns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7713&quot;&gt;&lt;del&gt;GROOVY-7713&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8202&quot; title=&quot;void tail calls in closures break @CompileStatic type inference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8202&quot;&gt;&lt;del&gt;GROOVY-8202&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
                      : GenericsUtils.buildWildcardType(wrapTypeIfNecessary(inferredReturnType)).isCompatibleWith(wrapTypeIfNecessary(type))) &lt;/p&gt;
{
                     type = inferredReturnType; // GROOVY-8310, GROOVY-10082, GROOVY-10091, GROOVY-10128, GROOVY-10306: allow simple covariance
-                }
&lt;p&gt; else if (!isPrimitiveVoid(type) &amp;amp;&amp;amp; !extension.handleIncompatibleReturnType(statement, type)) &lt;/p&gt;
{ // GROOVY-10277: incompatible
+                }
&lt;p&gt; else if ((statement.isReturningNullOrVoid() || !isPrimitiveVoid(type)) &amp;amp;&amp;amp; !extension.handleIncompatibleReturnType(statement, type)) {&lt;br/&gt;
+                    // &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10277&quot; title=&quot;STC fails to catch type error on the return type of lambdas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10277&quot;&gt;&lt;del&gt;GROOVY-10277&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-11490&quot; title=&quot;ClassCastException when assigning a lambda returning null into a SAM expecting a primitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-11490&quot;&gt;&lt;del&gt;GROOVY-11490&lt;/del&gt;&lt;/a&gt;: incompatible return statement (null for primitive or inconvertible type)&lt;br/&gt;
                     String value = (statement.isReturningNullOrVoid() ? &quot;null&quot; : &quot;value of type &quot; + prettyPrintType(type));&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;nitpick&amp;#93;&lt;/span&gt; This compound boolean condition is fairly complex; consider extracting `statement.isReturningNullOrVoid()` into a well-named boolean variable to clarify its intent.&lt;/p&gt;


</comment>
                            <comment id="17955446" author="githubbot" created="Sat, 31 May 2025 20:50:13 +0000"  >&lt;p&gt;daniellansun commented on PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243#issuecomment-2925714533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243#issuecomment-2925714533&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   +1&lt;/p&gt;

</comment>
                            <comment id="17955449" author="githubbot" created="Sat, 31 May 2025 22:29:48 +0000"  >&lt;p&gt;paulk-asert commented on PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243#issuecomment-2925883728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243#issuecomment-2925883728&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   +1&lt;/p&gt;

</comment>
                            <comment id="17955456" author="githubbot" created="Sun, 1 Jun 2025 02:09:10 +0000"  >&lt;p&gt;daniellansun merged PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17955457" author="githubbot" created="Sun, 1 Jun 2025 02:09:27 +0000"  >&lt;p&gt;daniellansun commented on PR #2243:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2243#issuecomment-2926284173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2243#issuecomment-2926284173&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Merged. Thanks.&lt;/p&gt;

</comment>
                            <comment id="17956783" author="arysin" created="Sun, 8 Jun 2025 14:17:09 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt;, I&apos;ve pushed the changes you recommended&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13227263">GROOVY-9074</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w4d4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>