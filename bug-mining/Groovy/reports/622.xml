<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2591] Groovy Ant Task is not executing Groovy Test Cases as the Command Line does</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2591</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Trying to execute a Groovy Test Case using the Groovy Ant Tasks fails because it is complaining about a missing main() method:&lt;/p&gt;

&lt;p&gt;groovy.lang.MissingMethodException: No signature of method: org.guilder.plugin.PluginTest.main() is applicable for argument types: ([Ljava.lang.String&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; values: &lt;/p&gt;
{[]}
&lt;p&gt;	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:54)&lt;br/&gt;
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:59)&lt;br/&gt;
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:169)&lt;br/&gt;
	at org.guilder.plugin.PluginTest.invokeMethod(PluginTest.groovy)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper$2.run(InvokerHelper.java:426)&lt;br/&gt;
	at org.codehaus.groovy.ant.Groovy.execGroovy(Groovy.java:348)&lt;/p&gt;

&lt;p&gt;This happens when I use Ant through the command line as well as using AntBuilder. This is the build.xml script I use:&lt;/p&gt;

&lt;p&gt;project&amp;gt;&lt;br/&gt;
  &amp;lt;path id=&quot;my.classpath&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;fileset dir=&quot;/Java/groovy/lib&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;include name=&quot;*&lt;b&gt;/&lt;/b&gt;.jar&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/fileset&amp;gt;&lt;br/&gt;
    &amp;lt;/path&amp;gt;&lt;br/&gt;
  &amp;lt;target name=&quot;run&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;taskdef name=&quot;groovy&quot;&lt;br/&gt;
             classname=&quot;org.codehaus.groovy.ant.Groovy&quot;&lt;br/&gt;
             classpathref=&quot;my.classpath&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;groovy src=&quot;org/guilder/plugin/PluginTest.groovy&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;/groovy&amp;gt;&lt;br/&gt;
    &amp;lt;/target&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;Executing the Script through: &apos;groovy org/guilder/plugin/PluginTest.groovy&apos; it works fine.&lt;/p&gt;

&lt;p&gt;Unfortunately I could not figure out how the Groovy Command Line tool does handle that otherwise I would created a patch.&lt;/p&gt;

&lt;p&gt;Any ideas?&lt;/p&gt;

&lt;p&gt;-Andy&lt;/p&gt;</description>
                <environment>Mac OS X 10.5, Java 1.5</environment>
        <key id="12817581">GROOVY-2591</key>
            <summary>Groovy Ant Task is not executing Groovy Test Cases as the Command Line does</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="schaefera">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Feb 2008 17:49:26 +0000</created>
                <updated>Thu, 17 Apr 2008 07:26:28 +0000</updated>
                            <resolved>Sun, 9 Mar 2008 23:50:14 +0000</resolved>
                                    <version>1.5.3</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>Ant integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14464297" author="schaefera" created="Sat, 9 Feb 2008 23:27:38 +0000"  >&lt;p&gt;And by the way I ran into another issue with the Groovy jUnit Tests. Using the GroovyTestCase does fail on me because it cannot find the jUnit Test Case class. This is an issue for me because I fire up groovy without jUnit in its class path and then add it dynamically at runtime. Unfortunately the GroovyTestCase is attached to the class loader that stated Groovy and so I cannot add the jUnit archive on the same class loader level. Thus I get a No Class Def Found Error.&lt;/p&gt;

&lt;p&gt;-Andy&lt;/p&gt;</comment>
                            <comment id="14464262" author="jimwhite" created="Sun, 10 Feb 2008 00:50:36 +0000"  >&lt;p&gt;I don&apos;t have the fix for the Groovy Ant task, but I&apos;ll attach an Ant script that shows a way to work around the problem for the moment.&lt;/p&gt;</comment>
                            <comment id="14464247" author="jimwhite" created="Sun, 10 Feb 2008 00:51:15 +0000"  >&lt;p&gt;A sample Ant script that shows a way to call a GroovyTestCase from the Groovy Ant task.&lt;/p&gt;</comment>
                            <comment id="14477839" author="paulk" created="Sun, 10 Feb 2008 02:43:02 +0000"  >&lt;p&gt;Using a slightly modified version of Jim&apos;s script:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;build.xml&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;project name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovytest&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-junit&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;dep-groovy.dir&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;C:/Downloads/groovy.codehaus.org/svntrunk-groovy/groovy-core/target/install&quot;&lt;/span&gt;/&amp;gt;

    &amp;lt;taskdef name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy&quot;&lt;/span&gt;
            classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.codehaus.groovy.ant.Groovy&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;classpath&amp;gt;
            &amp;lt;fileset dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${dep-groovy.dir}/embeddable&quot;&lt;/span&gt;&amp;gt;
                &amp;lt;include name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-all-1.6-beta-1-SNAPSHOT.jar&quot;&lt;/span&gt;/&amp;gt;
            &amp;lt;/fileset&amp;gt;
            &amp;lt;fileset dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${dep-groovy.dir}/lib&quot;&lt;/span&gt;&amp;gt;
                &amp;lt;include name=&lt;span class=&quot;code-quote&quot;&gt;&quot;junit-3.8.2.jar&quot;&lt;/span&gt;/&amp;gt;
            &amp;lt;/fileset&amp;gt;
        &amp;lt;/classpath&amp;gt;
    &amp;lt;/taskdef&amp;gt;

    &amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-junit&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;groovy&amp;gt;
           def loader = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyClassLoader(getClass().getClassLoader())
           def testClass = loader.parseClass(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&apos;TestCase.groovy&apos;&lt;/span&gt;))
           println testClass
           junit.textui.TestRunner.run(testClass)
        &amp;lt;/groovy&amp;gt;
    &amp;lt;/target&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And with this file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;TestCase.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestCase &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
    void testPlus() {
        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; 6 == 3 + 3
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get this result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;&amp;gt; ant
Buildfile: build.xml

groovy-junit:
   [groovy] class TestCase
   [groovy] .
   [groovy] Time: 0.015
   [groovy]
   [groovy] OK (1 test)
   [groovy]

BUILD SUCCESSFUL
Total time: 1 second
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14477871" author="paulk" created="Sun, 10 Feb 2008 03:20:40 +0000"  >&lt;p&gt;Meant to close another issue.&lt;/p&gt;</comment>
                            <comment id="14477998" author="paulk" created="Sun, 9 Mar 2008 23:50:13 +0000"  >&lt;p&gt;Now calls the GroovyShell run method if a script isn&apos;t found. The special ant properties that the normal groovy task passes through via the binding are not available in this case.&lt;/p&gt;</comment>
                            <comment id="14478033" author="paulk" created="Sun, 9 Mar 2008 23:58:45 +0000"  >&lt;p&gt;Some examples of usage until these examples make it into the doco:&lt;/p&gt;

&lt;p&gt;JUnit 3.x:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-junit&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groovy&amp;gt;&lt;/span&gt;
        class TestCase extends GroovyTestCase {
            void testPlus() {
                assert 6 == 3 + 3
            }
            void testMult() {
                assert 6 == 3 * 2
            }
        }
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groovy&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;groovy-junit:
   [groovy] ..
   [groovy] Time: 0.016
   [groovy]
   [groovy] OK (2 tests)
   [groovy]

BUILD SUCCESSFUL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JUnit 4.4:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-junit44&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groovy classpathref=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-junit44.path&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        import org.junit.Test
        import static org.junit.Assert.assertEquals

        class ArithmeticTest {
            @Test
            void additionIsWorking() {
                assertEquals 4, 2+2
            }

            @Test(expected=ArithmeticException)
            void divideByZero() {
                println 1/0
            }
        }
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groovy&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;groovy-junit44:
   [groovy] JUnit 4 Runner, Tests: 2, Failures: 0, Time: 16

BUILD SUCCESSFUL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;TestNG:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-testng&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groovy classpathref=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovy-testng.path&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        import org.testng.annotations.Test
        import org.testng.annotations.ExpectedExceptions
        import static org.testng.Assert.assertEquals

        class ArithmeticTestScriptNG {
            @Test
            void additionIsWorking() {
                assertEquals 4, 2 + 2, &lt;span class=&quot;code-quote&quot;&gt;&quot;plus is broken&quot;&lt;/span&gt;
            }

            @Test
            void subtractionIsWorking() {
                assert 6 == 8 - 2, &lt;span class=&quot;code-quote&quot;&gt;&quot;minus is broken&quot;&lt;/span&gt;
            }

            // will never be called
            @Test(enabled=false)
            void magicHappens() {
                assertEquals 1, 2
            }

            @Test(expectedExceptions=[ArithmeticException])
            void divideByZero() {
                println 1/0
            }
        }
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groovy&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;groovy-testng:
   [groovy] [Parser] Running:
   [groovy]   Command line suite
   [groovy]
   [groovy]
   [groovy] ===============================================
   [groovy] Command line suite
   [groovy] Total tests run: 3, Failures: 0, Skips: 0
   [groovy] ===============================================
   [groovy]

BUILD SUCCESSFUL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12814077">GROOVY-2590</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721828" name="build.xml" size="1213" author="jimwhite" created="Sun, 10 Feb 2008 00:51:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bqtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>