<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2195] ConfigSlurper does not resolve within closures references to outer properties</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2195</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When processing a scoped closure ConfigSlurper does not resolve references to properties defined out of closure scope.&lt;/p&gt;

&lt;p&gt;For example this config file:&lt;br/&gt;
a0 = &quot;Goofy&quot;&lt;br/&gt;
a1 = &quot;$a0&quot;&lt;br/&gt;
a2.&quot;$a0&quot; = &quot;Mickey Mouse and &quot; + &quot;$a0&quot;&lt;br/&gt;
group1 {&lt;br/&gt;
	a0 = &quot;Donald Duck&quot;&lt;br/&gt;
}&lt;br/&gt;
group2 {&lt;br/&gt;
	a0 = &quot;$a0&quot;&lt;br/&gt;
	a1 = &quot;$group1.a0&quot;&lt;br/&gt;
}&lt;br/&gt;
a3 = &quot;$group1.a0&quot;&lt;/p&gt;

&lt;p&gt;produces the following:&lt;/p&gt;

&lt;p&gt;a0=Goofy&lt;br/&gt;
a1=Goofy&lt;br/&gt;
a2.Goofy=Mickey Mouse and Goofy&lt;br/&gt;
group1.a0=Donald Duck&lt;br/&gt;
group2.a0=&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;br/&gt;
group2.a1=&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;br/&gt;
a3=Donald Duck&lt;/p&gt;

&lt;p&gt;Applying this patch to ConfigSlurper&lt;/p&gt;

&lt;p&gt;&amp;#8212; C:/export/java/Groovy/groovy-1.1-beta-3/src/main/groovy/util/ConfigSlurper-save.groovy	Fri Sep 21 00:40:58 2007&lt;br/&gt;
+++ C:/export/java/Groovy/groovy-1.1-beta-3/src/main/groovy/util/ConfigSlurper.groovy	Thu Oct 11 10:10:30 2007&lt;br/&gt;
@@ -159,8 +159,9 @@&lt;/p&gt;

&lt;p&gt;             if(current&lt;span class=&quot;error&quot;&gt;&amp;#91;name&amp;#93;&lt;/span&gt;) &lt;/p&gt;
{
                 result = current[name]
-            }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;else 
{
+            }
&lt;p&gt; else if (config&lt;span class=&quot;error&quot;&gt;&amp;#91;name&amp;#93;&lt;/span&gt;) &lt;/p&gt;
{
+            	result = config[name]
+            }
&lt;p&gt; else &lt;/p&gt;
{
                 result = new ConfigObject()
                 current[name] = result
             }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;makes it correctly resolving &quot;group2&quot; references:&lt;br/&gt;
group2.a0=Goofy&lt;br/&gt;
group2.a1=Donald Duck&lt;/p&gt;
</description>
                <environment>Windows XP sp2&lt;br/&gt;
Java 1.6.0_02-b06</environment>
        <key id="12813848">GROOVY-2195</key>
            <summary>ConfigSlurper does not resolve within closures references to outer properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="garu">Gabriele Garuglieri</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Oct 2007 05:40:58 +0000</created>
                <updated>Fri, 2 Nov 2007 10:12:47 +0000</updated>
                            <resolved>Fri, 2 Nov 2007 10:12:47 +0000</resolved>
                                    <version>1.1-beta-3</version>
                                    <fixVersion>1.1-rc-2</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14463250" author="garu" created="Fri, 12 Oct 2007 06:07:44 +0000"  >&lt;p&gt;Sorry, it looks like the cut and paste somehow mangled the patch.&lt;br/&gt;
I&apos;m attaching it as a file.&lt;/p&gt;</comment>
                            <comment id="14463158" author="guillaume" created="Fri, 12 Oct 2007 08:42:51 +0000"  >&lt;p&gt;Thanks for the patch, Gabriele.&lt;br/&gt;
If you want to add some specific unit test demonstrating this, please feel free to do so.&lt;/p&gt;</comment>
                            <comment id="14463287" author="guillaume" created="Fri, 12 Oct 2007 10:13:04 +0000"  >&lt;p&gt;I reopen the issue cause it seems there&apos;s a regression in one of the tests of ConfigSlurperTest, in the test checking the serialization.&lt;br/&gt;
Gabriele, could you please have a second look at your patch, and the test cases, please?&lt;/p&gt;</comment>
                            <comment id="14463338" author="guillaume" created="Mon, 29 Oct 2007 05:05:42 +0000"  >&lt;p&gt;The suggested change was breaking some tests.&lt;br/&gt;
What shall we do with this issue?&lt;/p&gt;</comment>
                            <comment id="14463405" author="garu" created="Tue, 30 Oct 2007 10:44:44 +0000"  >&lt;p&gt;Ok guys, i didn&apos;t disappear. It&apos;s only that i have my real job to pursue and i&apos;m really on a tight schedule.&lt;br/&gt;
Testing more closely the current behaviour of ConfigSlurper and the side effects the patch is causing, looks that it is so by design and not by mistake.&lt;br/&gt;
This means that the patch i proposed  looks to be changing the design in a way that would require to recode ConfigSlurper in a way that it&apos;s currently beyond my actual knowledge and beyond the time i have available to spend on it, so i think i have to give up.&lt;br/&gt;
So what to say?&lt;br/&gt;
The patch is not applicable, so disregard it and feel free to close the bug as WAD if you like.&lt;br/&gt;
I wish to thank you for your kind attention anyway.&lt;/p&gt;</comment>
                            <comment id="14463491" author="guillaume" created="Tue, 30 Oct 2007 10:52:53 +0000"  >&lt;p&gt;We can keep this issue open till you find some more time to have a deeper look at the issue.&lt;br/&gt;
If you and Graeme think it&apos;s a desirable change to improve ConfigSlurper even more, then it&apos;s certainly worth waiting some more till we all have time to implement that feature properly.&lt;br/&gt;
Thanks a lot Gabriele for your time and this patch.&lt;/p&gt;</comment>
                            <comment id="14463458" author="blackdrag" created="Fri, 2 Nov 2007 10:12:47 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721743" name="ConfigSlurper.patch" size="569" author="garu" created="Fri, 12 Oct 2007 06:07:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2clb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>