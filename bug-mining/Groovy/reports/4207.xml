<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:14:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10261] @NamedVariant: Default parameters on ctor/method are ignored when passing some named parameters</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10261</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;When using named paramters on an @NamedVariant annotated ctor or method, default values for parameters not passed are ignored and the parameters are set to null instead&lt;/li&gt;
	&lt;li&gt;This does not occur when no paramaters are passed, or (trivially) if all named parameters are passed&lt;/li&gt;
	&lt;li&gt;Default parameters are a powerful feature of Groovy, not having them supported requires one to
	&lt;ol&gt;
		&lt;li&gt;Treat parameters who cannot have null as an allowed value who are passed as null as having the default value (leading to a lot of clutter / boiler plate code)&lt;/li&gt;
		&lt;li&gt;Parameters for which null is a valid value, special-meaning e.g. EMPTY instances have to be implemented and given as the default parameter value, to be mapped to the actual value as with the null values above, which evidently is even more cumbersome &amp;amp; inelegant&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;Sample code
	&lt;ul&gt;
		&lt;li&gt;Note: assertEquals is used since at least in IntelliJ it supplies a link to the integrated text diff viewer, allowing to conevniently compare the expected and actual results:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.NamedVariant
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; simple.groovy.helper.Foo
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; simple.groovy.helper.NamedVariantTestClass

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.junit.Assert.assertEquals

&lt;span class=&quot;code-comment&quot;&gt;//@CompileStatic // compile-&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; or not does not matter
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;NamedVariantTest2 {
    @Test void namedVariantCtorBug_DefaultArgumentsAreIgnored() {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; resultList = [
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamedVariantTestClass(),
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamedVariantTestClass(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;),
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamedVariantTestClass(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;, foo:&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;)),
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamedVariantTestClass(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;, foo:&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;),  number:4321),

            &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NamedVariantTestClass(&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;, foo:&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(321,&lt;span class=&quot;code-quote&quot;&gt;&apos;foot&apos;&lt;/span&gt;),  number:7777)
&lt;/span&gt;        ]

        &lt;span class=&quot;code-comment&quot;&gt;// Fails: all non-given ctor arguments are incorrectly set to &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; instead of being given their &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value, unless all or no arguments are passed.
&lt;/span&gt;        assertEquals resultList.join(&lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;),
        &quot;&quot;&quot;
NVTC(number=1234, text=abc, foo=Foo(5678,&lt;span class=&quot;code-quote&quot;&gt;&apos;Foo&apos;&lt;/span&gt;))
NVTC(number=1234, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
NVTC(number=1234, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
NVTC(number=4321, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
        &quot;&quot;&quot;.trim()
    }

    @Test void namedVariantMethodBug_DefaultArgumentsAreIgnored() {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; resultList = [
            namedVariantTestMethod(),
            namedVariantTestMethod(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;),
            namedVariantTestMethod(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;, foo:&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;)),
            namedVariantTestMethod(text:&lt;span class=&quot;code-quote&quot;&gt;&quot;cba&quot;&lt;/span&gt;, foo:&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;),  number:4321)
        ]

        resultList.each { println it }

        &lt;span class=&quot;code-comment&quot;&gt;// Fails: all non-given method arguments are incorrectly set to &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; instead of being given their &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value, unless all or no arguments are passed.
&lt;/span&gt;        assertEquals resultList.join(&lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;),
        &quot;&quot;&quot;
nvtm(number=1234, text=abc, foo=Foo(5678,&lt;span class=&quot;code-quote&quot;&gt;&apos;Foo&apos;&lt;/span&gt;))
nvtm(number=1234, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
nvtm(number=1234, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
nvtm(number=4321, text=cba, foo=Foo(8765,&lt;span class=&quot;code-quote&quot;&gt;&apos;Oof&apos;&lt;/span&gt;))
        &quot;&quot;&quot;.trim()
    }

    @NamedVariant &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; namedVariantTestMethod(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; number = 1234, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; text = &lt;span class=&quot;code-quote&quot;&gt;&quot;abc&quot;&lt;/span&gt;, Foo foo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(5678, &lt;span class=&quot;code-quote&quot;&gt;&apos;Foo&apos;&lt;/span&gt;)) {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;nvtm(number=$number, text=$text, foo=$foo)&quot;&lt;/span&gt;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;NamedVariantTestClass {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; number; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; text; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Foo foo

    @NamedVariant NamedVariantTestClass(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; number = 1234, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; text = &lt;span class=&quot;code-quote&quot;&gt;&quot;abc&quot;&lt;/span&gt;, Foo foo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo(5678, &lt;span class=&quot;code-quote&quot;&gt;&apos;Foo&apos;&lt;/span&gt;)) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.number = number; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.text = text; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.foo = foo
    }

    @Override &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() { &lt;span class=&quot;code-quote&quot;&gt;&quot;NVTC(number=$number, text=$text, foo=$foo)&quot;&lt;/span&gt; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; x; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s
    Foo(&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; x, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s) { &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.x = x; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.s = s }
    @Override &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() { &lt;span class=&quot;code-quote&quot;&gt;&quot;Foo($x,&lt;span class=&quot;code-quote&quot;&gt;&apos;$s&apos;&lt;/span&gt;)&quot;&lt;/span&gt; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>IntelliJ 2021.1.1 x64&lt;br/&gt;
AdoptOpenJDK-11.0.11+9&lt;br/&gt;
WIN 10</environment>
        <key id="13403298">GROOVY-10261</key>
            <summary>@NamedVariant: Default parameters on ctor/method are ignored when passing some named parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="emge">mgroovy</reporter>
                        <labels>
                            <label>named-parameters</label>
                    </labels>
                <created>Sat, 25 Sep 2021 19:05:39 +0000</created>
                <updated>Wed, 16 Feb 2022 22:58:53 +0000</updated>
                            <resolved>Sun, 26 Sep 2021 10:06:29 +0000</resolved>
                                    <version>3.0.9</version>
                                    <fixVersion>4.0.0-beta-2</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                    <fixVersion>3.0.10</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17420253" author="paulk" created="Sun, 26 Sep 2021 10:07:04 +0000"  >&lt;p&gt;Should be fixed in the next releases. Thanks for spotting the issue.&lt;/p&gt;</comment>
                            <comment id="17420300" author="emge" created="Sun, 26 Sep 2021 13:39:49 +0000"  >&lt;ul&gt;
	&lt;li&gt;That is awesome, thank you man!&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13390651">GROOVY-10176</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0vac8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>