<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:11:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3315] Calling a vararg method with no varargs causes IllegalArgumentException</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3315</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;trim&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;causes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalArgumentException: wrong number of arguments
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apparently MetaMethod#invoke is used where it should be MetaMethod#doMethodInvoke.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Change-to-varargs-in-1.6.-tt21698048.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Change-to-varargs-in-1.6.-tt21698048.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814541">GROOVY-3315</key>
            <summary>Calling a vararg method with no varargs causes IllegalArgumentException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="ldaley">Luke Daley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jan 2009 20:09:53 +0000</created>
                <updated>Tue, 10 Feb 2009 06:24:13 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 06:24:13 +0000</resolved>
                                    <version>1.6-rc-1</version>
                    <version>1.6-rc-2</version>
                                    <fixVersion>1.6.1</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14466450" author="roshandawrani" created="Sat, 31 Jan 2009 11:21:09 +0000"  >&lt;p&gt;Even on 1.5.6,  I see this issue present. The call &quot;&quot;.metaClass.hasMetaMethod(&quot;trim&quot;) does not go through on that version too.&lt;br/&gt;
Another thing I am not sure is how it is related to varargs. Even on the mailing list thread, I didn&apos;t see any example of that.&lt;/p&gt;</comment>
                            <comment id="14466383" author="blackdrag" created="Sat, 31 Jan 2009 12:45:23 +0000"  >&lt;p&gt;I don&apos;t remember to 100% what I tested, but getting the method did work, invoking it did lead to the exception. The problem was that the arguments given to the method are not in the format reflection expects them. For a varargs method something has to be present for the array. In the version above a String is given for the first argument, but the second vargs argument is a Class[] and nothing is given to there. So as soon as you invoke the method without transforming the arguments array before you get an exception. doMethodInvoke is doing that transformation for you&lt;/p&gt;</comment>
                            <comment id="14466439" author="ldaley" created="Sat, 31 Jan 2009 17:20:20 +0000"  >&lt;p&gt;@Roshan&lt;/p&gt;

&lt;p&gt;The signature is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hasMetaMethod(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;[] args)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;doesn&apos;t that mean I &lt;em&gt;should&lt;/em&gt; be able to do...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;trim&quot;)
&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;endsWith&quot;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;replaceAll, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On my first look (I didn&apos;t go under the covers) the error seemed to be that &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;trim&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;was not correctly being interpreted as &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;.metaClass.hasMetaMethod(&quot;&lt;/span&gt;trim&quot;, [] as &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;[])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which I thought was a vararg related issue.&lt;/p&gt;</comment>
                            <comment id="14466359" author="blackdrag" created="Sat, 31 Jan 2009 20:44:28 +0000"  >&lt;p&gt;the fix is really simple, I have it fixed locally already, I will check it in tomorrow&lt;/p&gt;

&lt;p&gt;As an explanation for the exception, there is a method executed and that method is hasMethod itself. It is called from invokeMethod, because the meta class on String is HandleMetaclass. There a MetaMethod is get and then invokes with invoke(...) instead of doMethodInvoke(...). As a result the args array is not converted as it should, leading to the exception. &lt;/p&gt;</comment>
                            <comment id="14466377" author="guillaume" created="Tue, 10 Feb 2009 03:40:01 +0000"  >&lt;p&gt;The fix will have to be ported to 1.6.X as well.&lt;/p&gt;</comment>
                            <comment id="14466481" author="blackdrag" created="Tue, 10 Feb 2009 06:24:13 +0000"  >&lt;p&gt;I forgot to add the other fix version... anyway, this fix got into 1.6.x with revision 15212, and 15211 was for 1.7.x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bsr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>