<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:01:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9115] General error during class generation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9115</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Upgrading to Groovy 2.5.7 from 2.5.6 I&apos;m getting the following compiler crash &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
General error during &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;generation: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; nextflow.k8s.client.K8sClient#podCreate with signature nextflow.k8s.client.K8sResponseJson podCreate(java.util.Map, java.nio.file.Path) in K8sClient.groovy:149. /Users/pditommaso/Projects/nextflow/modules/nextflow/src/main/groovy/nextflow/k8s/client/K8sClient.groovy

groovy.lang.GroovyRuntimeException: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; nextflow.k8s.client.K8sClient#podCreate with signature nextflow.k8s.client.K8sResponseJson podCreate(java.util.Map, java.nio.file.Path) in K8sClient.groovy:149. /Users/pditommaso/Projects/nextflow/modules/nextflow/src/main/groovy/nextflow/k8s/client/K8sClient.groovy
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitConstructorOrMethod(AsmClassGenerator.java:455)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:132)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitMethod(AsmClassGenerator.java:576)
        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1103)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:54)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitClass(AsmClassGenerator.java:269)
        at org.codehaus.groovy.control.CompilationUnit$18.call(CompilationUnit.java:854)
        at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1084)
        at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:645)
        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:623)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:600)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:579)
        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:179)
        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:57)
        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:77)
        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:65)
        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerCallable.call(AbstractDaemonCompiler.java:88)
        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerCallable.call(AbstractDaemonCompiler.java:76)
        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:42)
        at org.gradle.workers.internal.WorkerDaemonServer.execute(WorkerDaemonServer.java:46)
        at org.gradle.workers.internal.WorkerDaemonServer.execute(WorkerDaemonServer.java:30)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:101)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
Caused by: java.lang.ArrayIndexOutOfBoundsException: 0
        at groovyjarjarasm.asm.Frame.merge(Frame.java:1268)
        at groovyjarjarasm.asm.Frame.merge(Frame.java:1233)
        at groovyjarjarasm.asm.MethodWriter.computeAllFrames(MethodWriter.java:1607)
        at groovyjarjarasm.asm.MethodWriter.visitMaxs(MethodWriter.java:1543)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitConstructorOrMethod(AsmClassGenerator.java:436)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Unfortunately, I was unable to isolate the issue. The code raising the error is at &lt;a href=&quot;https://github.com/nextflow-io/nextflow/blob/b49e6d74dae782def6be2b087d06fdd8fa6b9291/modules/nextflow/src/main/groovy/nextflow/k8s/client/K8sClient.groovy#L149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this link&lt;/a&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13232725">GROOVY-9115</key>
            <summary>General error during class generation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="pablo72">paolo di tommaso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 May 2019 18:33:05 +0000</created>
                <updated>Mon, 22 Jul 2019 04:21:52 +0000</updated>
                            <resolved>Sat, 11 May 2019 13:31:45 +0000</resolved>
                                    <version>3.0.0-beta-1</version>
                    <version>2.5.7</version>
                                    <fixVersion>2.5.8</fixVersion>
                    <fixVersion>3.0.0-beta-2</fixVersion>
                                    <component>Compiler</component>
                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16837754" author="daniel_sun" created="Sat, 11 May 2019 04:48:12 +0000"  >&lt;p&gt;Here is the simplified code, falied to compile with 3.0.0-beta-1 too:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Base {
    File f() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    }
}

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Derived &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Base {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; content

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; m() {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
            File file = f()
            file.text = content
        }
        
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    }
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16837760" author="daniel_sun" created="Sat, 11 May 2019 05:23:12 +0000"  >&lt;p&gt;The bytecode of method  &lt;tt&gt;m&lt;/tt&gt; generated by 3.0.0-alpha-4&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-comment&quot;&gt;// access flags 0x2
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; m()Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;
   L0
   L1
    LINENUMBER 15 L1
    ICONST_1
    IFEQ L2
   L3
    LINENUMBER 16 L3
    ALOAD 0
    CHECKCAST Derived
    INVOKEVIRTUAL Derived.f ()Ljava/io/File;
    ASTORE 1
   L4
    ALOAD 1
    POP
   L5
    LINENUMBER 17 L5
    ALOAD 0
    GETFIELD Derived.content : Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;
    ASTORE 2
    ALOAD 2
    ACONST_NULL
    ALOAD 1
    LDC &lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;
    CHECKCAST java/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
    INVOKESTATIC org/codehaus/groovy/runtime/ScriptBytecodeAdapter.setProperty (Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;;Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;)V
    ALOAD 2
    POP
   L6
   L7
    LINENUMBER 18 L7
   L8
   L2
   L9
    LINENUMBER 20 L9
    ACONST_NULL
    ARETURN
   L10
   L11
    LINENUMBER 21 L11
    LOCALVARIABLE &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; LDerived; L0 L10 0
    LOCALVARIABLE file Ljava/io/File; L4 L6 1
   L12
    ACONST_NULL
    ARETURN
    MAXSTACK = 0
    MAXLOCALS = 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The bytecode of method  &lt;tt&gt;m&lt;/tt&gt; generated by 3.0.0-beta-1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-comment&quot;&gt;// access flags 0x1
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &amp;lt;init&amp;gt;()V
  @Lgroovy/transform/Generated;()
   L0
    ALOAD 0
    INVOKESPECIAL Base.&amp;lt;init&amp;gt; ()V
   L1
   L2
    LINENUMBER 22 L2
    LOCALVARIABLE &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; LDerived; L0 L1 0
   L3
    RETURN
    MAXSTACK = 0
    MAXLOCALS = 0

  &lt;span class=&quot;code-comment&quot;&gt;// access flags 0x2
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; m()Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;
   L0
   L1
    LINENUMBER 15 L1
    ICONST_1
    IFEQ L2
   L3
    LINENUMBER 16 L3
    ALOAD 0
    CHECKCAST Derived
    INVOKEVIRTUAL Derived.f ()Ljava/io/File;
    ASTORE 1
   L4
    ALOAD 1
    POP
   L5
    LINENUMBER 17 L5
    ALOAD 0
    GETFIELD Derived.content : Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;
    DUP
    ASTORE 2
    ALOAD 1
    INVOKESTATIC org/codehaus/groovy/runtime/ResourceGroovyMethods.getText (Ljava/io/File;)Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;
    POP
   L6
   L7
    LINENUMBER 18 L7
   L8
   L2
   L9
    LINENUMBER 20 L9
    ACONST_NULL
    ARETURN
   L10
   L11
    LINENUMBER 21 L11
    LOCALVARIABLE &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; LDerived; L0 L10 0
    LOCALVARIABLE file Ljava/io/File; L4 L6 1
   L12
    ACONST_NULL
    ARETURN
    MAXSTACK = 0
    MAXLOCALS = 0

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16837761" author="daniel_sun" created="Sat, 11 May 2019 05:25:21 +0000"  >&lt;p&gt;The difference of two bytecode&#160;can be found(left: 3.0.0-alpha-4, right: 3.0.0-beta-1&lt;span class=&quot;error&quot;&gt;&amp;#91;&lt;font color=&quot;#d04437&quot;&gt;WRONG&lt;/font&gt;&amp;#93;&lt;/span&gt;):&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12968470/12968470_bytecode.diff.PNG&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16837763" author="daniel_sun" created="Sat, 11 May 2019 05:44:28 +0000"  >&lt;p&gt;if &lt;tt&gt;@CompileStatic&lt;/tt&gt; is removed, bytecode can be generated as usual.&lt;/p&gt;

&lt;p&gt;This is a bug related to STC.&lt;/p&gt;</comment>
                            <comment id="16837776" author="daniel_sun" created="Sat, 11 May 2019 07:17:33 +0000"  >&lt;p&gt;The code can be simplified further:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Derived {
    def m() {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
            File file = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
            file.text = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        }
        
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16837860" author="daniel_sun" created="Sat, 11 May 2019 13:31:45 +0000"  >&lt;p&gt;Fixed by&#160;&lt;a href=&quot;https://github.com/apache/groovy/commit/c614d0f29b30488a0429d51b41627c3f77b83abd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/c614d0f29b30488a0429d51b41627c3f77b83abd&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13233910">GROOVY-9123</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12968470" name="bytecode.diff.PNG" size="77861" author="daniel_sun" created="Sat, 11 May 2019 05:23:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z02l3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>