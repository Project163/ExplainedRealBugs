<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:11:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3274] Classloader does not find resources properly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3274</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The problem appeared in beta 2, and is deeply described at the following post : &lt;a href=&quot;http://www.nabble.com/1.6-RC-1-and-ResourceBundle-%28classloading-issue--%29-td21146272.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/1.6-RC-1-and-ResourceBundle-%28classloading-issue--%29-td21146272.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems that the classloader is not able to resolve some resources. The following line of code works :&lt;/p&gt;

&lt;p&gt;ResourceBundle.getBundle(&quot;i18n.xtirp&quot;, Locale.getDefault(), this.class.classLoader)&lt;/p&gt;

&lt;p&gt;while this does not :&lt;/p&gt;

&lt;p&gt;ResourceBundle.getBundle(&quot;i18n.xtirp&quot;)&lt;/p&gt;

&lt;p&gt;The latter should work properly, but throws a missing resource exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815608">GROOVY-3274</key>
            <summary>Classloader does not find resources properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="melix">C&#233;dric Champeau</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jan 2009 11:54:43 +0000</created>
                <updated>Thu, 12 Feb 2009 03:35:32 +0000</updated>
                            <resolved>Mon, 2 Feb 2009 12:49:26 +0000</resolved>
                                    <version>1.6-beta-2</version>
                    <version>1.6-rc-1</version>
                                    <fixVersion>1.6-rc-3</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14466174" author="shemnon" created="Thu, 15 Jan 2009 19:52:18 +0000"  >&lt;p&gt;Here&apos;s a possible solution: create a DGM method that overrides the ResourceBundle.getBundle(String) method, snoop the stack ourselves, and call ResourceBundle.getBundle(String,Classloader) explicitly.&lt;/p&gt;</comment>
                            <comment id="14466257" author="shemnon" created="Thu, 15 Jan 2009 23:17:29 +0000"  >&lt;p&gt;Overrides in DefaultGroovyStaticMethods seemed to do the trick.  First two auto-builds down, will check the rest in the morning.&lt;/p&gt;</comment>
                            <comment id="14466332" author="melix" created="Fri, 23 Jan 2009 03:19:12 +0000"  >&lt;p&gt;I&apos;ve tried the fix with 1.6.0-RC2, but I&apos;m getting an NPE :&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError&lt;br/&gt;
	at java.lang.Class.forName0(Native Method)&lt;br/&gt;
	at java.lang.Class.forName(Class.java:169)&lt;br/&gt;
	at com.lingway.xtirp.BatchLauncher.class$(BatchLauncher.groovy)&lt;br/&gt;
	at com.lingway.xtirp.BatchLauncher.$get$$class$com$lingway$xtirp$RuleManager(BatchLauncher.groovy)&lt;br/&gt;
	at com.lingway.xtirp.BatchLauncher.main(BatchLauncher.groovy:46)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:90)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at java.util.ResourceBundle.getBundle(ResourceBundle.java:960)&lt;br/&gt;
	at org.codehaus.groovy.runtime.DefaultGroovyStaticMethods.getBundle(DefaultGroovyStaticMethods.java:195)&lt;/p&gt;

&lt;p&gt;Having a look at DefaultGroovyStaticMethods.getBundle, it looks like ReflectionUtils.getCallingClass().getClassLoader() may return null. I guess in such a case we should use the DefaultGroovyStaticMethods classloader itself.&lt;/p&gt;</comment>
                            <comment id="14466414" author="blackdrag" created="Fri, 23 Jan 2009 07:47:10 +0000"  >&lt;p&gt;if it is null, then it is the system loader I would say. So the correct usage would be to use the system loader.  DefaultGroovyStaticMethods.class.classLoader might be loaded by a different loader or not. But if it is a different loader, then I see no reason to use that loader. Especially since that  loader my come from a whole different branch in the class loader tree&lt;/p&gt;</comment>
                            <comment id="14466384" author="melix" created="Sat, 31 Jan 2009 06:13:52 +0000"  >&lt;p&gt;Patch against the trunk&lt;/p&gt;</comment>
                            <comment id="14466371" author="blackdrag" created="Mon, 2 Feb 2009 12:49:26 +0000"  >&lt;p&gt;should be fixed now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722028" name="resourcebundle.patch" size="1354" author="melix" created="Sat, 31 Jan 2009 06:13:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ca7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>