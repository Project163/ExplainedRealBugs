<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:27:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5571] Missing or wrong osgi headers since 2.0-rc1</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5571</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Since 2.0-rc1 osgi import-package and export-package headers are not correct anymore so groovy-all.jar is not really usable in osgi environment anymore.&lt;br/&gt;
Previous version were fine.&lt;br/&gt;
Those headers are extracted in attached file, beta3 version seems the correct one, and some are missing in release.&lt;/p&gt;

&lt;p&gt;Also groovy.jar is osgified, but none of modules groovy-xxx.jar are, so they probably should in order to be able to use them in osgi environment&lt;/p&gt;</description>
                <environment></environment>
        <key id="12816252">GROOVY-5571</key>
            <summary>Missing or wrong osgi headers since 2.0-rc1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="amergey">Arnaud MERGEY</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2012 03:24:26 +0000</created>
                <updated>Thu, 20 Mar 2025 20:44:24 +0000</updated>
                            <resolved>Thu, 26 Jul 2012 09:58:50 +0000</resolved>
                                    <version>2.0-rc-1</version>
                    <version>2.0-rc-2</version>
                    <version>2.0-rc-3</version>
                    <version>2.0-rc-4</version>
                    <version>2.0.0</version>
                                    <fixVersion>2.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14479974" author="paulk" created="Fri, 6 Jul 2012 19:20:15 +0000"  >&lt;p&gt;Is there any chance you can test out the 2.1.0-SNAPSHOT artifacts from here: &lt;a href=&quot;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy-xxx/2.1.0-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy-xxx/2.1.0-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
The modules should now have OSGi information. The all jar still doesn&apos;t have groovy.text - so there is still some work to do before we can close the issue - but having some early feedback can only help.&lt;/p&gt;</comment>
                            <comment id="14479978" author="paulk" created="Sat, 7 Jul 2012 01:55:02 +0000"  >&lt;p&gt;Just for historical interest, beta3 was deployed using the now defunct ant build. Subsequent builds have used gradle. The gradle OSGi support doesn&apos;t support creation of an uber jar in a straight-forward way when both jarjar and OSGi are in play.&lt;/p&gt;

&lt;p&gt;To fix the all jar perhaps we need to use (or follow the ideas in): &lt;a href=&quot;https://bitbucket.org/vayana/gradle-bnd-plugin/overview&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bitbucket.org/vayana/gradle-bnd-plugin/overview&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14472949" author="amergey" created="Mon, 9 Jul 2012 04:08:16 +0000"  >&lt;p&gt;osgi headers from module are still not correct because of invalid char in version.&lt;/p&gt;

&lt;p&gt;For example for groovy-template, following headers:&lt;/p&gt;

&lt;p&gt;Export-Package: groovy.text;version=&quot;2.1.0-SNAPSHOT&quot;&lt;br/&gt;
Bundle-Version: 2.1.0-SNAPSHOT&lt;/p&gt;

&lt;p&gt;should be replaced with&lt;/p&gt;

&lt;p&gt;Export-Package: groovy.text;version=&quot;2.1.0&quot;&lt;br/&gt;
Bundle-Version: 2.1.0.qualifier&lt;/p&gt;</comment>
                            <comment id="14473024" author="paulk" created="Mon, 9 Jul 2012 20:03:19 +0000"  >&lt;p&gt;The version number should be well-formatted now.&lt;/p&gt;</comment>
                            <comment id="14472950" author="bbrooks" created="Tue, 10 Jul 2012 09:34:12 +0000"  >&lt;p&gt;Will this ticket also address &lt;a href=&quot;http://jira.codehaus.org/browse/GROOVY-5474?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GROOVY-5474?&lt;/a&gt;  The MANIFEST.MF in groovy-all-2.0.0-indy.jar final release still lacks OSGi entries (e.g. Import-Package , Export-Package, etc.).&lt;/p&gt;</comment>
                            <comment id="14473077" author="melix" created="Tue, 10 Jul 2012 09:38:11 +0000"  >&lt;p&gt;@Brian: Those are separate issues. The lack of support of osgi in the indy jar is related to the bnd tool, which isn&apos;t out yet in a JDK 7 compatible version.&lt;/p&gt;</comment>
                            <comment id="14472970" author="amergey" created="Wed, 11 Jul 2012 04:03:52 +0000"  >&lt;p&gt;Just a detail but &quot;Eclipse-LazyStart: true&quot; header is deprectated and should be replaced wit:&lt;br/&gt;
Bundle-ActivationPolicy: lazy&lt;/p&gt;</comment>
                            <comment id="14473078" author="guillaume" created="Wed, 11 Jul 2012 04:20:05 +0000"  >&lt;p&gt;Arnaud, this one is an easy fix, I&apos;m gonna apply the change.&lt;br/&gt;
I noticed there&apos;s another &quot;eclipse&quot; attribute: &quot;Eclipse-BuddyPolicy&quot;.&lt;br/&gt;
It&apos;s again specific to Eclipse somehow, has it been deprecated too?&lt;/p&gt;

&lt;p&gt;Currently, the fixed attributes we set in our Gradle build file looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ext.allManifest = manifest {
    attributes(&lt;span class=&quot;code-quote&quot;&gt;&quot;Built-By&quot;&lt;/span&gt;: &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.properties[&lt;span class=&quot;code-quote&quot;&gt;&apos;user.name&apos;&lt;/span&gt;],
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Extension-Name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;groovy&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Specification-Title&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;Groovy: a powerful, dynamic language &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the JVM&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Specification-Version&quot;&lt;/span&gt;: project.version,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Specification-Vendor&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;The Codehaus&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Implementation-Title&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;Groovy: a powerful, dynamic language &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the JVM&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Implementation-Version&quot;&lt;/span&gt;: project.version,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Implementation-Vendor&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;The Codehaus&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-ManifestVersion&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;2&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-Name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;Groovy &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-Description&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;Groovy &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-Version&quot;&lt;/span&gt;: groovyBundleVersion,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-Vendor&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;The Codehaus&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-ClassPath&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-RequiredExecutionEnvironment&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;J2SE-1.5&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Eclipse-BuddyPolicy&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;dependent&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Bundle-ActivationPolicy&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;DynamicImport-Package&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;*&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;Main-class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&apos;groovy.ui.GroovyMain&apos;&lt;/span&gt;)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14472933" author="amergey" created="Wed, 11 Jul 2012 04:40:48 +0000"  >&lt;p&gt;The Eclipse-LazyStart is deprecated and it is better to replace it with Bundle-ActivationPolicy, because it will be understood across various OSGI Framework implementation.&lt;/p&gt;

&lt;p&gt;Eclipse-BuddyPolicy is not deprecated,  it is used to specify the buddy classloading policies for a bundle, it is Eclipse specific and OSGi does not know anything about this (It will be ignored for other implementation than equinox)&lt;/p&gt;

&lt;p&gt;Also I just noticed something strange in groovy.jar manifest, there are a bunch of compiler.xxx packages in Export-Package and I am not sure it should be here.&lt;/p&gt;</comment>
                            <comment id="14473010" author="amergey" created="Wed, 11 Jul 2012 04:44:09 +0000"  >&lt;p&gt;In your gradle it should be &quot;Bundle-ActivationPolicy&quot;: &apos;lazy&apos; not &quot;Bundle-ActivationPolicy&quot;: &apos;true&apos;&lt;/p&gt;</comment>
                            <comment id="14472969" author="guillaume" created="Wed, 11 Jul 2012 04:52:26 +0000"  >&lt;p&gt;Ok, I made that change as well.&lt;/p&gt;</comment>
                            <comment id="14479986" author="paulk" created="Fri, 13 Jul 2012 17:08:19 +0000"  >&lt;p&gt;The &quot;compiler.xxx&quot; packages should be gone now too&lt;/p&gt;</comment>
                            <comment id="14479984" author="paulk" created="Wed, 25 Jul 2012 06:40:31 +0000"  >&lt;p&gt;It would be great if you could try out 2.0.1 - it should be in the maven repo in the next couple of hours. It should have all of the above fixes and hopefully a fixed groovy-all jar too.&lt;/p&gt;</comment>
                            <comment id="14473017" author="amergey" created="Thu, 26 Jul 2012 09:55:41 +0000"  >&lt;p&gt;2.0.1 seems to be good now, thanks&lt;/p&gt;</comment>
                            <comment id="14473106" author="guillaume" created="Thu, 26 Jul 2012 09:59:07 +0000"  >&lt;p&gt;Glad it works for you!&lt;br/&gt;
Thanks for reporting back to us.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13612057">GROOVY-11582</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721723" name="export-package_2.0.0.txt" size="2709" author="amergey" created="Tue, 3 Jul 2012 03:26:26 +0000"/>
                            <attachment id="12722538" name="export-package_beta3.txt" size="5644" author="amergey" created="Tue, 3 Jul 2012 03:27:46 +0000"/>
                            <attachment id="12722361" name="import-package_2.0.0.txt" size="1541" author="amergey" created="Tue, 3 Jul 2012 03:28:43 +0000"/>
                            <attachment id="12722607" name="import-package_beta3.txt" size="9897" author="amergey" created="Tue, 3 Jul 2012 03:30:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bxrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>