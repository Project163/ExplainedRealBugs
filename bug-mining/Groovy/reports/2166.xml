<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:32:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6070] concatenation with NodeChildren object fails</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6070</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When I run the attached script (slurperFail.groovy) I get the following output:&lt;/p&gt;

&lt;p&gt;class groovy.util.slurpersupport.NodeChildren&lt;br/&gt;
471 U.S. 462&lt;br/&gt;
&lt;a href=&quot;http://laws.findlaw.com/us/471/462.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://laws.findlaw.com/us/471/462.html&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;However, I believe that the citation (471 U.S. 462) should appear on the 3rd line as well.  I have tried many variations (e.g. with toString()) but could not get it to concatenate the 2nd element.  &lt;/p&gt;

&lt;p&gt;It&apos;s confusing also that &quot;NodeChildren&quot; is not available in the API docs, so I&apos;m not sure what methods it has to offer, but if it would just concatenate the string I would be happy, i.e. if &lt;/p&gt;

&lt;p&gt;  println( it.website +&apos; &apos;+it.citation )&lt;/p&gt;

&lt;p&gt;would work the way it looks like it should.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
  &lt;del&gt;= miles =&lt;/del&gt;&lt;/p&gt;</description>
                <environment>windows, linux</environment>
        <key id="12816791">GROOVY-6070</key>
            <summary>concatenation with NodeChildren object fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="mlzarathustra">miles zarathustra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Mar 2013 19:39:59 +0000</created>
                <updated>Fri, 29 Mar 2013 18:53:20 +0000</updated>
                            <resolved>Fri, 29 Mar 2013 18:53:20 +0000</resolved>
                                    <version>2.1.1</version>
                                                    <component>XML Processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14480246" author="paulk" created="Thu, 28 Mar 2013 22:13:17 +0000"  >&lt;p&gt;Weird, for some strange reason NodeChildren and Attributes were package protected not public. They are now public and should turn up next time we generate the javadocs.&lt;/p&gt;</comment>
                            <comment id="14480258" author="paulk" created="Thu, 28 Mar 2013 22:17:43 +0000"  >&lt;p&gt;NodeChildren has a &quot;plus&quot; method which allows you to concatenate nodes. They are added lazily however and won&apos;t be visible until you stream the node back out. What you really want for your scenario is to use text() which is the sanctioned way to retrieve content. I.e.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;println it.website.text() + &lt;span class=&quot;code-quote&quot;&gt;&apos; &apos;&lt;/span&gt; + it.citation.text()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14474248" author="mlzarathustra" created="Fri, 29 Mar 2013 14:58:56 +0000"  >&lt;p&gt;Adding .text() made it work, sort of.&lt;/p&gt;

&lt;p&gt;Oddly: adding it to the one that already displays fixes the one that didn&apos;t display, but adding it to the one that didn&apos;t display doesn&apos;t help anything (I had tried that before).&lt;/p&gt;

&lt;p&gt;Puzzling.  &lt;/p&gt;

&lt;p&gt;i.e.&lt;/p&gt;

&lt;p&gt;WORKS: println it.website.text() + &apos; &apos; = it.citation&lt;br/&gt;
FAILS: println it.website + &apos; &apos; + it.citation.text()&lt;/p&gt;


&lt;p&gt;I was under the impression that it would work for the Slurper result (groovy.util.slurpersupport.GPathResult) without needing to add .text(), but I guess that&apos;s false.  I seem to remember that the XmlParser result (groovy.util.Node) is stickier about it.&lt;/p&gt;

&lt;p&gt;It seems cumbersome (and un-groovy) to need to add .text() all over the place.  Sometimes it&apos;s needed and sometimes it&apos;s not, but the rules don&apos;t seem very straightforward to me.&lt;/p&gt;

&lt;p&gt;Anyway, thanks for the help.  I guess it wasn&apos;t a bug after all.&lt;/p&gt;

</comment>
                            <comment id="14480259" author="paulk" created="Fri, 29 Mar 2013 18:53:20 +0000"  >&lt;p&gt;OK, I will close the issue. The preferred approach is to use &quot;.text()&quot;. You can get by without it any context that would automatically call &quot;.toString()&quot; which will yield the same result simple elements using &lt;tt&gt;XmlSlurper&lt;/tt&gt;. E.g. this will work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;println &lt;span class=&quot;code-quote&quot;&gt;&apos;&apos; + it.website + &apos;&lt;/span&gt; &apos; + it.citation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;because the &lt;tt&gt;plus()&lt;/tt&gt; method for String will call &lt;tt&gt;toString()&lt;/tt&gt; on its argument if it isn&apos;t a String. Also, &lt;tt&gt;XmlParser&lt;/tt&gt; and &lt;tt&gt;XmlSlurper&lt;/tt&gt; might give different results for &lt;tt&gt;toString()&lt;/tt&gt; but should give the same for &lt;tt&gt;text()&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722938" name="slurperFail.groovy" size="443" author="mlzarathustra" created="Thu, 28 Mar 2013 19:39:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ctrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>