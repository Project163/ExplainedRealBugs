<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:14:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10166] Cannot call T#method(arg) with arguments &lt;arg&gt;</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10166</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;m unable to compile &lt;a href=&quot;https://gitlab.com/intellisrc/common&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my OSS project&lt;/a&gt; under 3.0.8, it is throwing this error:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;startup failed:&lt;br/&gt;
 &lt;a href=&quot;https://gitlab.com/intellisrc/common/-/blob/master/modules/db/src/main/groovy/com/intellisrc/db/Model.groovy#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;modules/db/src/main/groovy/com/intellisrc/db/Model.groovy&lt;/a&gt;:76: &lt;span class=&quot;error&quot;&gt;&amp;#91;Static type checking&amp;#93;&lt;/span&gt; - Cannot call T#getMap(T) with arguments &lt;span class=&quot;error&quot;&gt;&amp;#91;com.intellisrc.db.Model &amp;lt;T extends com.intellisrc.db.Table&amp;gt;&amp;#93;&lt;/span&gt; &lt;br/&gt;
 @ line 76, column 16.&lt;br/&gt;
 return table.getMap(this)&lt;br/&gt;
 ^&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitlab.com/intellisrc/common/-/blob/master/modules/db/src/main/groovy/com/intellisrc/db/Table.groovy#L261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;modules/db/src/main/groovy/com/intellisrc/db/Table.groovy&lt;/a&gt;:261: &lt;span class=&quot;error&quot;&gt;&amp;#91;Static type checking&amp;#93;&lt;/span&gt; - Cannot call T#get(int) with arguments &lt;span class=&quot;error&quot;&gt;&amp;#91;int&amp;#93;&lt;/span&gt; &lt;br/&gt;
 @ line 261, column 42.&lt;br/&gt;
 type&lt;span class=&quot;error&quot;&gt;&amp;#91;origName&amp;#93;&lt;/span&gt; =&#160;refType.table.get(it.value as int)&lt;/p&gt;

&lt;p&gt;^&lt;/p&gt;

&lt;p&gt;2 errors&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;(clicking on the links above will take you to the source code)&lt;/p&gt;

&lt;p&gt;I prepared a (mutilated) simplified project to replicate the issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gitlab.com/intellisrc/groovy-compile-error&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitlab.com/intellisrc/groovy-compile-error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is the relevant code:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Model.groovy&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// code placeholder
&lt;/span&gt;@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Model&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Table&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Instanciable&amp;lt;T&amp;gt; {
    T getTable() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getParametrizedInstance()
    }

    Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; toMap() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; table.getMap(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)
    }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;em&gt;Table.groovy&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Table&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Model&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Instanciable&amp;lt;T&amp;gt; {
    Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; getMap(T type) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; [:]
    }

    T setMap(Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; map) {
        T type = parametrizedInstance
        map.each {
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; origName = it.key
            Field field = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// some field
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(field) {
                &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (field.type) {
                    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; Model:
                        Constructor&amp;lt;?&amp;gt; c = field.type.getConstructor()
                        Model refType = (c.newInstance() as Model)
                        type[origName] = refType.table.get(it.value as &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;
                }
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type
    }

    T get(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; id) {
        T type = setMap([:])
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Instanciable.groovy&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CompileStatic
trait Instanciable&amp;lt;T&amp;gt; {
    T getParametrizedInstance(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = 0) {
        T obj = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            ParameterizedType parameterizedType = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;genericSuperclass as ParameterizedType
            &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; type = (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;) parameterizedType.actualTypeArguments[index]
            obj = (T) type.getDeclaredConstructor().newInstance()
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception ignore) {}
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; obj
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;NOTES:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;There are no issues when compiled in a lower version : 2.5.6 to 2.5.14, 3.0.0 to 3.0.7.&lt;/li&gt;
	&lt;li&gt;Using `@CompileStatic` in all classes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Perhaps there is an error in my code which other versions didn&apos;t catch? However the code runs as expected when compiled.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Linux (Ubuntu 20.04)&lt;br/&gt;
Java 11&lt;br/&gt;
Gradle 7.1.1</environment>
        <key id="13389305">GROOVY-10166</key>
            <summary>Cannot call T#method(arg) with arguments &lt;arg&gt;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="lepe">A. Lepe</reporter>
                        <labels>
                            <label>compile-error</label>
                    </labels>
                <created>Tue, 13 Jul 2021 03:52:46 +0000</created>
                <updated>Tue, 19 Jul 2022 22:49:40 +0000</updated>
                            <resolved>Wed, 8 Sep 2021 19:05:42 +0000</resolved>
                                    <version>2.5.15</version>
                    <version>4.0.0-beta-1</version>
                    <version>3.0.9</version>
                                    <fixVersion>4.0.0-beta-2</fixVersion>
                    <fixVersion>3.0.11</fixVersion>
                    <fixVersion>2.5.18</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17411978" author="emilles" created="Wed, 8 Sep 2021 14:43:57 +0000"  >&lt;p&gt;You can work around the type confusion in the compiler by using a different type parameter name in &lt;tt&gt;Table&lt;/tt&gt;, like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Table&amp;lt;M &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Model&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Instanciable&amp;lt;M&amp;gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Groovy 2.5.15 is getting &lt;tt&gt;T&lt;/tt&gt; from &lt;tt&gt;Model&lt;/tt&gt; and &lt;tt&gt;T&lt;/tt&gt; from &lt;tt&gt;Table&lt;/tt&gt; confused.  I am checking on Groovy 3.0.9 and 4.0b1 next.&lt;/p&gt;</comment>
                            <comment id="17411997" author="emilles" created="Wed, 8 Sep 2021 15:11:09 +0000"  >&lt;p&gt;Both STC errors are reproduced in this smaller example (Groovy 2.5.15, 3.0.9 and 4.0b1):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.TypeChecked

@TypeChecked
abstract &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; C&amp;gt; {
  T getC() {
  }
  Map toMap() {
    c.getMap(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)
  }
}

@TypeChecked
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; A&amp;gt; {
  Map getMap(T a) {
  }
  T setMap(Map m) {
    A a = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    a.c.get(1)
  }
  T get(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i) {
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17412259" author="lepe" created="Thu, 9 Sep 2021 01:18:58 +0000"  >&lt;p&gt;I tried to change the type parameter:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Table&amp;lt;M &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Model&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Instanciable&amp;lt;M&amp;gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Compiling with 3.0.8 stills throws an error:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Model.groovy: 19: [Static type checking] - Cannot call T#getMap(M) with arguments [Model &amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Table&amp;gt;] 
 @ line 19, column 16.
           &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; table.getMap(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)
                  ^

Table.groovy: 33: [Static type checking] - Cannot call T#get(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) with arguments [&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;] 
 @ line 33, column 42.
                type[origName] = refType.ta
                                 ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will try with 4.0.0-beta2. Thanks!&lt;/p&gt;</comment>
                            <comment id="17412668" author="emilles" created="Thu, 9 Sep 2021 16:14:43 +0000"  >&lt;p&gt;Did you try changing the type parameter name and compiling with 3.0.9 or 4.0b1?&lt;/p&gt;</comment>
                            <comment id="17413102" author="lepe" created="Fri, 10 Sep 2021 10:40:37 +0000"  >&lt;p&gt;I tried with 3.0.9 and the error persists. &lt;/p&gt;</comment>
                            <comment id="17413825" author="lepe" created="Mon, 13 Sep 2021 01:06:35 +0000"  >&lt;p&gt;Tried with `org.apache.groovy` `4.0.0-beta-1` and it is throwing 1 error:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
startup failed:
intellisrc/groovy3-compile-error/app/src/main/groovy/com/intellisrc/g3/db/Model.groovy: 19: [Static type checking] - Cannot find matching method com.intellisrc.g3.db.Table#getMap(com.intellisrc.g3.db.Model&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; com.intellisrc.g3.db.Table&amp;gt;). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 @ line 19, column 16.
           &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; table.getMap(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)
                  ^

1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see the changes I did to the code here: &lt;br/&gt;
&lt;a href=&quot;https://gitlab.com/intellisrc/groovy-compile-error/-/commit/dd27338e0cf57077bc0c86ca37293f7d534c64f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitlab.com/intellisrc/groovy-compile-error/-/commit/dd27338e0cf57077bc0c86ca37293f7d534c64f0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17430115" author="emilles" created="Mon, 18 Oct 2021 17:42:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lepe&quot; class=&quot;user-hover&quot; rel=&quot;lepe&quot;&gt;lepe&lt;/a&gt; This last case &quot;table.getMap(this)&quot; or &quot;a.c.get(1)&quot; in my example will be resolved in 4.0b2.  &lt;/p&gt;</comment>
                            <comment id="17568754" author="emilles" created="Tue, 19 Jul 2022 21:53:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/9a988c4f9b9946872f5912cc9c4de3fa2df983ca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/9a988c4f9b9946872f5912cc9c4de3fa2df983ca&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/d08e9d69dca43bc0afe1dfa87c63750eb690e482&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/d08e9d69dca43bc0afe1dfa87c63750eb690e482&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/e23480c2927083c042abe75921316a6203b6fe0c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/e23480c2927083c042abe75921316a6203b6fe0c&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0sw1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>