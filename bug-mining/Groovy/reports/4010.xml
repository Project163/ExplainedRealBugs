<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:10:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9951] @CompileStatic @POJO annotation on static inner class with @Immutable annotation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9951</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cc7832&quot;&gt;import &lt;/font&gt;groovy.transform.&lt;font color=&quot;#bbb529&quot;&gt;CompileStatic&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cc7832&quot;&gt;import &lt;/font&gt;groovy.transform.&lt;font color=&quot;#bbb529&quot;&gt;Immutable&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cc7832&quot;&gt;import &lt;/font&gt;groovy.transform.stc.&lt;font color=&quot;#bbb529&quot;&gt;POJO&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;class X &lt;font color=&quot;#9876aa&quot;&gt;{&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#bbb529&quot;&gt;&#160; @Immutable @CompileStatic @POJO&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#cc7832&quot;&gt;&#160; static class &lt;/font&gt;Id &lt;font color=&quot;#9876aa&quot;&gt;{&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160;&#160; String &lt;font color=&quot;#9876aa&quot;&gt;value&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#9876aa&quot;&gt;&#160; }&lt;br/&gt;
 }&lt;br/&gt;
 &lt;br/&gt;
 &#160;&lt;br/&gt;
 &lt;br/&gt;
 Then call contructor:&lt;br/&gt;
 &lt;br/&gt;
 var x = new &lt;/font&gt;X.Id&lt;font color=&quot;#9876aa&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#6a8759&quot;&gt;&quot;1&quot;&lt;/font&gt;&lt;font color=&quot;#9876aa&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;&#160;&#160; No error at runtime.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Actual:&lt;/p&gt;

&lt;p&gt;Bad type on operand stack&lt;br/&gt;
 Exception Details:&lt;br/&gt;
 Location:&lt;br/&gt;
 dev/X$Id.&amp;lt;init&amp;gt;(Ljava/util/Map;)V @44: invokevirtual&lt;br/&gt;
 Reason:&lt;br/&gt;
 Type &apos;dev/$Id&apos; (current frame, stack&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) is not assignable to &apos;groovy/lang/Closure&apos;&lt;br/&gt;
 Current Frame:&lt;br/&gt;
 bci: @44&lt;br/&gt;
 flags: { }&lt;br/&gt;
 locals: { &apos;dev/X$Id&apos;, &apos;java/util/Map&apos;, top, &apos;java/util/List&apos; }&lt;br/&gt;
 stack: { &apos;dev/X$Id&apos; }&lt;br/&gt;
 Bytecode:&lt;br/&gt;
 0000000: 2ab7 0019 2bc7 0007 04a7 0004 0399 000f&lt;br/&gt;
 0000010: 03bd 0004 b800 264d 2c4c 2c57 04bd 0004&lt;br/&gt;
 0000020: 5903 1227 53b8 002b 4e2d 572a b600 31c0&lt;br/&gt;
 0000030: 0007 b600 37b9 003d 0100 013a 043a 0519&lt;br/&gt;
 0000040: 05b9 0043 0100 9900 4019 05b9 0046 0100&lt;br/&gt;
 0000050: b800 4cc0 001b 3a04 2ab6 0031 c000 0719&lt;br/&gt;
 0000060: 04b9 0052 0200 9a00 0704 a700 0403 9900&lt;br/&gt;
 0000070: 15bb 0054 5912 5619 04b8 005c b700 5ec0&lt;br/&gt;
 0000080: 0060 bfa7 ffbc 2b12 27b9 0065 0200 9900&lt;br/&gt;
 0000090: 202b 1227 b900 6902 00b8 004c c000 1b3a&lt;br/&gt;
 00000a0: 0619 062a 5fb5 001d 1906 57a7 0016 013a&lt;br/&gt;
 00000b0: 0719 07b8 004c c000 1b2a 5fb5 001d 1907&lt;br/&gt;
 00000c0: 57b1 &lt;br/&gt;
 Stackmap Table:&lt;br/&gt;
 full_frame(@12,&lt;/p&gt;

{Object[#2],Object[#98]}

&lt;p&gt; ,{})&lt;br/&gt;
 same_locals_1_stack_item_frame(@13,Integer)&lt;br/&gt;
 same_frame(@28)&lt;br/&gt;
 full_frame(@63,{Object&lt;a href=&quot;#2&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;2&lt;/a&gt;,Object&lt;a href=&quot;#98&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;98&lt;/a&gt;,Top,Object&lt;a href=&quot;#78&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;78&lt;/a&gt;,Object&lt;a href=&quot;#27&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;27&lt;/a&gt;,Object&lt;a href=&quot;#63&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;63&lt;/a&gt;},{})&lt;br/&gt;
 same_frame(@109)&lt;br/&gt;
 same_locals_1_stack_item_frame(@110,Integer)&lt;br/&gt;
 same_frame(@131)&lt;br/&gt;
 same_frame(@134)&lt;br/&gt;
 same_frame(@174)&lt;br/&gt;
 same_frame(@193)&lt;/p&gt;

&lt;p&gt; java.lang.VerifyError: Bad type on operand stack&lt;br/&gt;
 Exception Details:&lt;br/&gt;
 Location:&lt;br/&gt;
 dev/X$Id.&amp;lt;init&amp;gt;(Ljava/util/Map;)V @44: invokevirtual&lt;br/&gt;
 Reason:&lt;br/&gt;
 Type &apos;dev/X$Id&apos; (current frame, stack&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) is not assignable to &apos;groovy/lang/Closure&apos;&lt;br/&gt;
 Current Frame:&lt;br/&gt;
 bci: @44&lt;br/&gt;
 flags: { }&lt;br/&gt;
 locals: { &apos;dev/X$Id&apos;, &apos;java/util/Map&apos;, top, &apos;java/util/List&apos; }&lt;br/&gt;
 stack: { &apos;dev/sX$Id&apos; }&lt;br/&gt;
 Bytecode:&lt;br/&gt;
 0000000: 2ab7 0019 2bc7 0007 04a7 0004 0399 000f&lt;br/&gt;
 0000010: 03bd 0004 b800 264d 2c4c 2c57 04bd 0004&lt;br/&gt;
 0000020: 5903 1227 53b8 002b 4e2d 572a b600 31c0&lt;br/&gt;
 0000030: 0007 b600 37b9 003d 0100 013a 043a 0519&lt;br/&gt;
 0000040: 05b9 0043 0100 9900 4019 05b9 0046 0100&lt;br/&gt;
 0000050: b800 4cc0 001b 3a04 2ab6 0031 c000 0719&lt;br/&gt;
 0000060: 04b9 0052 0200 9a00 0704 a700 0403 9900&lt;br/&gt;
 0000070: 15bb 0054 5912 5619 04b8 005c b700 5ec0&lt;br/&gt;
 0000080: 0060 bfa7 ffbc 2b12 27b9 0065 0200 9900&lt;br/&gt;
 0000090: 202b 1227 b900 6902 00b8 004c c000 1b3a&lt;br/&gt;
 00000a0: 0619 062a 5fb5 001d 1906 57a7 0016 013a&lt;br/&gt;
 00000b0: 0719 07b8 004c c000 1b2a 5fb5 001d 1907&lt;br/&gt;
 00000c0: 57b1 &lt;br/&gt;
 Stackmap Table:&lt;br/&gt;
 full_frame(@12,{Object&lt;a href=&quot;#2&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;2&lt;/a&gt;,Object&lt;a href=&quot;#98&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;98&lt;/a&gt;}&lt;/p&gt;

&lt;p&gt;,{})&lt;br/&gt;
 same_locals_1_stack_item_frame(@13,Integer)&lt;br/&gt;
 same_frame(@28)&lt;br/&gt;
 full_frame(@63,&lt;/p&gt;

{Object[#2],Object[#98],Top,Object[#78],Object[#27],Object[#63]}

&lt;p&gt;,{})&lt;br/&gt;
 same_frame(@109)&lt;br/&gt;
 same_locals_1_stack_item_frame(@110,Integer)&lt;br/&gt;
 same_frame(@131)&lt;br/&gt;
 same_frame(@134)&lt;br/&gt;
 same_frame(@174)&lt;br/&gt;
 same_frame(@193)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Ubuntu</environment>
        <key id="13359956">GROOVY-9951</key>
            <summary>@CompileStatic @POJO annotation on static inner class with @Immutable annotation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="marciodel">Marcio</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Feb 2021 01:35:06 +0000</created>
                <updated>Sun, 2 May 2021 09:16:44 +0000</updated>
                            <resolved>Tue, 2 Mar 2021 14:59:12 +0000</resolved>
                                    <version>4.0.0-alpha-2</version>
                                    <fixVersion>3.0.8</fixVersion>
                    <fixVersion>4.0.0-alpha-3</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17288124" author="marciodel" created="Mon, 22 Feb 2021 01:42:00 +0000"  >&lt;p&gt;It works if I remove the @POJO annotation.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nwn4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>