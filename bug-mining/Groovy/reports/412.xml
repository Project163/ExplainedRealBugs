<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1503] SimpleTemplateEngine drops Windows new-line character (\r)</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1503</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;My template files have \r\n at the end of lines, but the generated file comes out with just \n. &lt;/p&gt;

&lt;p&gt;This can be a real pain in the behind for Windows tools that show the whole file in one line.&lt;/p&gt;

&lt;p&gt;Thanks in advance for fixing this!&lt;/p&gt;</description>
                <environment>Windows XP, JSR-6</environment>
        <key id="12813370">GROOVY-1503</key>
            <summary>SimpleTemplateEngine drops Windows new-line character (\r)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="joncrlsn">joncrlsn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Sep 2006 15:29:29 +0000</created>
                <updated>Thu, 22 Nov 2007 05:29:59 +0000</updated>
                            <resolved>Wed, 10 Oct 2007 05:49:47 +0000</resolved>
                                    <version>1.0-JSR-6</version>
                                    <fixVersion>1.1-rc-1</fixVersion>
                                    <component>XML Processing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14462189" author="joncrlsn" created="Tue, 19 Sep 2006 15:50:42 +0000"  >&lt;p&gt;Come to think of it, the problem may be in the File.write(aString) method.  I&apos;m not sure where to find that, though.&lt;/p&gt;</comment>
                            <comment id="14462137" author="joncrlsn" created="Tue, 19 Sep 2006 16:16:54 +0000"  >&lt;p&gt;SimpleTemplateEngine was not the problem.  I&apos;ll open a new issue for File.write(string)&lt;/p&gt;</comment>
                            <comment id="14462294" author="joncrlsn" created="Tue, 19 Sep 2006 16:36:59 +0000"  >&lt;p&gt;I&apos;m sorry I didn&apos;t get this straight before, but File.write(string) is working just like Java println does so that is not the problem.    The problem still remains that a Windows template file (with \r\n) generates output with just \n&lt;/p&gt;

&lt;p&gt;Thanks in advance!&lt;/p&gt;</comment>
                            <comment id="14462229" author="joncrlsn" created="Wed, 20 Sep 2006 11:29:00 +0000"  >&lt;p&gt;The template script generates a lot of out.print &quot;whatever \n&quot; commands (notice the \n at the end of the line).  If, instead, these types of lines could be converted to  out.println &quot;whatever&quot; (use println with no \n at the end of the line) then it would always behave as it should.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14477398" author="paulk" created="Wed, 4 Jul 2007 08:19:25 +0000"  >&lt;p&gt;Do you have a test or a template file which illustrates this problem?&lt;/p&gt;</comment>
                            <comment id="14462916" author="joncrlsn" created="Thu, 5 Jul 2007 08:56:09 +0000"  >&lt;p&gt;I&apos;m sorry, it&apos;s been a long time since I&apos;ve worked on this on Windows. Now I&apos;m using a Mac and I haven&apos;t used the Template Engine since then, although I hope to use it again!&lt;/p&gt;</comment>
                            <comment id="14462967" author="joncrlsn" created="Thu, 5 Jul 2007 09:04:13 +0000"  >&lt;p&gt;Here&apos;s a very basic template test script I found in my scripting archive if it would help you!  It seems to break the lines fine on Mac.&lt;/p&gt;

&lt;p&gt;// This script is an example for generating code or e-mails or HTML or whatever&lt;br/&gt;
// from a template file using Groovy markup.  &lt;/p&gt;

&lt;p&gt;import groovy.text.Template&lt;br/&gt;
import groovy.text.SimpleTemplateEngine&lt;/p&gt;

&lt;p&gt;// ===== Define the Template =====&lt;br/&gt;
//def text = &apos;Dear \&quot;${firstname} ${lastname}\&quot;,\nSo nice to meet you in &amp;lt;% print city %&amp;gt;.\nSee you in ${month},\n${signed}&apos;&lt;br/&gt;
def templateFile = new File(&quot;TemplateFile.txt&quot;)&lt;br/&gt;
def verbose&lt;br/&gt;
def engine = new SimpleTemplateEngine(verbose = true) // prints out the template text&lt;br/&gt;
// You could also replace the file below with the text string above&lt;br/&gt;
def template = engine.createTemplate(templateFile)&lt;/p&gt;

&lt;p&gt;println &quot;\n=========== Generated Text 1 ===========&quot;&lt;br/&gt;
def binding = &lt;span class=&quot;error&quot;&gt;&amp;#91;firstname:&amp;quot;Jim&amp;quot;, lastname:&amp;quot;Slim&amp;quot;, city:&amp;quot;Minneapolis&amp;quot;, month:&amp;quot;December&amp;quot;, signed:&amp;quot;Prince&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
println template.make(binding).toString()&lt;/p&gt;

&lt;p&gt;println &quot;\n=========== Generated Text 2 ===========&quot;&lt;br/&gt;
binding.firstname = &quot;Jonathan&quot;&lt;br/&gt;
binding.lastname = &quot;Carlson&quot;&lt;br/&gt;
binding.city = &quot;Minneapolis&quot;&lt;br/&gt;
binding.month = &quot;January&quot;&lt;br/&gt;
binding.signed = &quot;Jesse Ventura&quot;&lt;br/&gt;
println template.make(binding).toString()&lt;/p&gt;
</comment>
                            <comment id="14462797" author="vrelits" created="Thu, 5 Jul 2007 09:04:57 +0000"  >&lt;p&gt;Made the following little patch to SimpleTemplateEngine (partial code):&lt;br/&gt;
/* Handle raw new line characters.&lt;br/&gt;
                 */&lt;br/&gt;
                if (c == &apos;\n&apos; || c == &apos;\r&apos;) {&lt;br/&gt;
                    if (c == &apos;\r&apos;) { // on Windows, &quot;\r\n&quot; is a new line.&lt;br/&gt;
                        reader.mark(1);&lt;br/&gt;
                        c = reader.read();&lt;br/&gt;
                        if (c != &apos;\n&apos;) &lt;/p&gt;
{
                            reader.reset();
                        }
&lt;p&gt;                    }&lt;br/&gt;
                    sw.write(&quot;&lt;b&gt;\\r&lt;/b&gt;\\n\&quot;);\nout.print(\&quot;&quot;);&lt;br/&gt;
                    continue;&lt;br/&gt;
                }&lt;br/&gt;
                sw.write(c);&lt;br/&gt;
Works as we are windows only. &lt;br/&gt;
Better solution: Should use println&apos;s to get platform dependent lf.&lt;/p&gt;</comment>
                            <comment id="14462822" author="joncrlsn" created="Thu, 5 Jul 2007 09:51:46 +0000"  >&lt;p&gt;Oh, here&apos;s the TemplateFile.txt content that the script uses:&lt;/p&gt;

&lt;p&gt;Dear ${firstname} ${lastname},&lt;br/&gt;
So nice to meet you in &amp;lt;% print city %&amp;gt;.&lt;br/&gt;
See you in ${month},&lt;br/&gt;
${signed}&lt;/p&gt;</comment>
                            <comment id="14477471" author="paulk" created="Wed, 10 Oct 2007 05:49:47 +0000"  >&lt;p&gt;There is now a &lt;b&gt;PlatformLineWriter&lt;/b&gt; which you can use to convert Groovy normalised strings/streams into &lt;em&gt;platform-friendly&lt;/em&gt; strings/streams.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c2sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>