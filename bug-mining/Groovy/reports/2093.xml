<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:31:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5366] unable to add assertions via compile time transform</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5366</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;See: &lt;a href=&quot;http://groovy.329449.n5.nabble.com/Problem-with-implicit-assertion-transform-td5568080.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.329449.n5.nabble.com/Problem-with-implicit-assertion-transform-td5568080.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12816121">GROOVY-5366</key>
            <summary>unable to add assertions via compile time transform</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="ldaley">Luke Daley</reporter>
                        <labels>
                            <label>contrib</label>
                    </labels>
                <created>Thu, 15 Mar 2012 09:46:55 +0000</created>
                <updated>Fri, 18 Jan 2013 16:06:53 +0000</updated>
                            <resolved>Thu, 17 Jan 2013 15:32:02 +0000</resolved>
                                    <version>1.8.6</version>
                                    <fixVersion>2.1.0-rc-2</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                    <fixVersion>2.0.7</fixVersion>
                                    <component>ast builder</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14472504" author="andre.steingress" created="Fri, 16 Mar 2012 02:38:33 +0000"  >&lt;p&gt;AssertionWriter breaks whenever assertStatement.messageExpression != ConstantExpression.NULL and no sourcePosition has been set via assertStatement.sourcePosition.&lt;/p&gt;

&lt;p&gt;Without a sourcePosition this line&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;assertionTracker.sourceText = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SourceText(statement, controller.getSourceUnit(), janitor);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in AssertionWriter fails, thus sourceText stays null. Although AssertionWriter failed to get the sourceText it seems its still called at further compilation points with AssertionWriter.record =&amp;gt; this leads to the NP Luke described.&lt;/p&gt;
</comment>
                            <comment id="14472586" author="melix" created="Fri, 16 Mar 2012 07:17:36 +0000"  >&lt;p&gt;Andr&#233;, since you&apos;re working on this issue, it would be great if you could take a look at the tutorial I wrote here: &lt;a href=&quot;http://groovy.329449.n5.nabble.com/The-Canonical-Groovy-Way-td5468968.html#a5469607&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.329449.n5.nabble.com/The-Canonical-Groovy-Way-td5468968.html#a5469607&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There&apos;s a problem if you use a power assert and I suspect this is the same issue. If your fix could be tested against that too, it would be perfect!&lt;/p&gt;</comment>
                            <comment id="14473954" author="andre.steingress" created="Thu, 17 Jan 2013 07:16:15 +0000"  >&lt;p&gt;Sorry for the late reply, totally forgot about this issue.&lt;/p&gt;

&lt;p&gt;I reproduced this issue. Whenever an AssertStatement without a source position is added via an AST transform, the exception mentioned above appears if the Boolean expression has variable references (triggering AssertionWriter#record() which fails with a NP).&lt;/p&gt;

&lt;p&gt;Here is the pull request: &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/112&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14480122" author="paulk" created="Thu, 17 Jan 2013 15:32:02 +0000"  >&lt;p&gt;pull request merged, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ce7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>