<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:08:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9618] Property reference resolves to field, not getter when property name is single upper-case letter</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9618</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Consider the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
  private static X = 1
  static getX() { 2 }
  static &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;B {
  }
}
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; A.B {
  void test() {
    print X
  }
}
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; C().test()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Execution of this script prints &quot;1&quot; when &quot;2&quot; is expected.  If static property name is changed to &quot;XY&quot; or &quot;x&quot; the resolution works as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13314897">GROOVY-9618</key>
            <summary>Property reference resolves to field, not getter when property name is single upper-case letter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                            <label>breaking</label>
                    </labels>
                <created>Fri, 3 Jul 2020 13:57:46 +0000</created>
                <updated>Thu, 23 Jul 2020 14:16:33 +0000</updated>
                            <resolved>Sat, 18 Jul 2020 03:48:28 +0000</resolved>
                                    <version>2.4.19</version>
                    <version>3.0.4</version>
                    <version>2.5.12</version>
                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                    <fixVersion>3.0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17151032" author="emilles" created="Fri, 3 Jul 2020 15:25:06 +0000"  >&lt;p&gt;Same situation exists for non-static fields and methods.  It&apos;s just unconventional to name instance fields with an uppercase letter.&lt;/p&gt;</comment>
                            <comment id="17151571" author="paulk" created="Sun, 5 Jul 2020 12:46:35 +0000"  >&lt;p&gt;It is probably worth clarifying Groovy behavior for property accessor method name generation and access shortcuts without duplicate backing fields clouding the issue in the first instance. I will probably write an email for the dev list about this, but I&apos;ll start here first.&lt;/p&gt;

&lt;p&gt;Consider this class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyJavaBean {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; A = &lt;span class=&quot;code-quote&quot;&gt;&apos;A&apos;&lt;/span&gt;
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; a // prohibited
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; b = &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getC() { &lt;span class=&quot;code-quote&quot;&gt;&apos;C&apos;&lt;/span&gt; }
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getDD() { &lt;span class=&quot;code-quote&quot;&gt;&apos;DD&apos;&lt;/span&gt; }
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getEEe() { &lt;span class=&quot;code-quote&quot;&gt;&apos;EEe&apos;&lt;/span&gt; }
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getFFF() { &lt;span class=&quot;code-quote&quot;&gt;&apos;GGG&apos;&lt;/span&gt; }
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getGgg() { &lt;span class=&quot;code-quote&quot;&gt;&apos;Ggg&apos;&lt;/span&gt; }
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; HH = &lt;span class=&quot;code-quote&quot;&gt;&apos;HH&apos;&lt;/span&gt;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; aProp = &lt;span class=&quot;code-quote&quot;&gt;&apos;aProp&apos;&lt;/span&gt;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; AProp = &lt;span class=&quot;code-quote&quot;&gt;&apos;AProp&apos;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The normal convention is that properties are camel case and getters/setters are the property name capitalized with get, is (for boolean), or set prefix on the front. You would think it is simple to derive the accessor method name from the property names and vice versa but there are a few special rules which make the process non-symmetric.&lt;/p&gt;

&lt;p&gt;When deriving property names from the getter/setter names, you normally remove the prefix and uncapitalize the remainder. There is a special rule that if the first two letters of the remainder are capitals, then no uncapitalization is done. This means that URL is the property name for a getURL getter.&lt;/p&gt;

&lt;p&gt;When deriving getter/setter names from property names, you normally capitalize and add the appropriate prefix. For uppercase property names like URL, there is nothing needed to be done. An implication of these rules is that you can&apos;t have both a property &apos;a&apos; and &apos;A&apos; nor both of &apos;foo&apos; and &apos;Foo&apos;.&lt;/p&gt;

&lt;p&gt;Because of the special two or more capitals rule, there is a tiny bit of wiggle room in the JavaBeans spec which historically (see &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3211&quot; title=&quot;Groovy doesn&amp;#39;t follow JavaBeans Specification on method name to property name decapitialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3211&quot;&gt;&lt;del&gt;GROOVY-3211&lt;/del&gt;&lt;/a&gt;) Groovy&apos;s properties have allowed for. If you have properties &apos;aProp&apos; and &apos;AProp&apos;, the getters generated are &apos;getaProp&apos; and &apos;getAProp&apos; respectively. In general, it is recommended that the first two letters of your property be lowercase unless they are all capitals (like the URL example).&lt;/p&gt;

&lt;p&gt;Normal property usage follows the above rules. Currently there are a few exceptions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Dynamic Groovy allows &lt;tt&gt;bean.a&lt;/tt&gt; to access the &apos;A&apos; property in addition to &lt;tt&gt;bean.A&lt;/tt&gt;. I presume the reasoning was that for a &lt;tt&gt;getA()&lt;/tt&gt; method, folks would be used to using &lt;tt&gt;bean.a&lt;/tt&gt; (recall you can&apos;t have both &apos;a&apos; and &apos;A&apos;). But &lt;tt&gt;bean.B&lt;/tt&gt; isn&apos;t allowed when accessing the &apos;b&apos; property. Static Groovy gives a STC error for &lt;tt&gt;bean.a&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Static Groovy allows &lt;tt&gt;bean.C&lt;/tt&gt; to access the &apos;c&apos; pseudo-property (but that is a MPE in dynamic Groovy). Similarly it allows &lt;tt&gt;bean.Ggg&lt;/tt&gt; for the &apos;ggg&apos; pseudo-property.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="17159753" author="paulk" created="Fri, 17 Jul 2020 07:51:34 +0000"  >&lt;p&gt;I created a separate issue to address the inconsistencies with normal property access. We really need to resolve that before then looking at priorities between properties and fields.&lt;/p&gt;</comment>
                            <comment id="17159877" author="paulk" created="Fri, 17 Jul 2020 11:40:20 +0000"  >&lt;p&gt;The second commit in &lt;a href=&quot;https://github.com/apache/groovy/pull/1316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR#1316&lt;/a&gt; should fix this issue.&lt;/p&gt;</comment>
                            <comment id="17160325" author="paulk" created="Sat, 18 Jul 2020 03:48:28 +0000"  >&lt;p&gt;Proposed PR#1316 merged. Notes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Special handling is done for the upper and lowercase variants rather than trying to represent both variants as meta bean properties, otherwise when serialising or calling &lt;tt&gt;getProperties()&lt;/tt&gt;, you get two copies of things.&lt;/li&gt;
	&lt;li&gt;There is some special handling of an upper case &quot;Class&quot; field vs &lt;tt&gt;getClass()&lt;/tt&gt; (see &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1018&quot; title=&quot;cannot access public static attributes called &amp;quot;Class&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1018&quot;&gt;&lt;del&gt;GROOVY-1018&lt;/del&gt;&lt;/a&gt;) but other cases e.g. &lt;tt&gt;getMetaClass()&lt;/tt&gt; aren&apos;t covered. We might want to extend &quot;Class&quot; support to static imports/categories. It is a breaking change in cases like &quot;MetaClass&quot; and &quot;Properties&quot; but you can access the field using attribute notation in those cases. Lowercase properties are unaffected.&lt;/li&gt;
	&lt;li&gt;If you have a field with a name like &lt;tt&gt;Foo&lt;/tt&gt; and an explicit getter &lt;tt&gt;getFoo()&lt;/tt&gt;, then the priority of access will now be different but you can use the &lt;tt&gt;.@Foo&lt;/tt&gt; notation to get directly to the field.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12816672">GROOVY-5852</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="13317349">GROOVY-9645</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0gfrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>