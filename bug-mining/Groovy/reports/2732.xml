<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:43:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7056] AnnotationCollector unusable in external jar when used in stub generation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7056</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;In the attached test case (cd mod; gradle clean build), I have a parent module with two child modules.  The first module simply defines a simple AnnotationCollector.  The second module is structured so that it will generate a java stub for a groovy file that uses the &apos;external&apos; annotation collector.  When the generated java stub for ParentG is compiled, it throws the following exception:&lt;br/&gt;
:mod2:compileGroovyC:\sand\nca\javacommons\nca\harmonytest\mod\mod2\build\tmp\groovy-java-stubs\mod2\ParentG.java:10: error: incompatible types: ExternalAnnotationCollector cannot be converted to Annotation&lt;br/&gt;
@mod1.ExternalAnnotationCollector() public class ParentG&lt;/p&gt;

&lt;p&gt;It appears that the java compilation of the groovy stub does not have the external AnnotationCollector &apos;in scope&apos; of the compiler, and thus barfs.  However, if the AnnocationCollector is in the same module as where it used, the compilation works (uncomment the obvious line in ParentG and rebuild).&lt;/p&gt;

&lt;p&gt;This seems related to &lt;a href=&quot;https://jira.codehaus.org/browse/GRECLIPSE-1679&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/browse/GRECLIPSE-1679&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Added Sept. 4th:&lt;br/&gt;
Also related to &lt;a href=&quot;http://jira.codehaus.org/browse/GROOVY-6635&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GROOVY-6635&lt;/a&gt; which was closed as &apos;not reproducible&apos; - believe the test case with this issue effectively reproduces the issue (and 6635&apos;s as well)&lt;/p&gt;</description>
                <environment>windows, java 8</environment>
        <key id="12811951">GROOVY-7056</key>
            <summary>AnnotationCollector unusable in external jar when used in stub generation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="ilbmiller">Brad Miller</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Sep 2014 18:00:57 +0000</created>
                <updated>Wed, 5 Sep 2018 11:33:37 +0000</updated>
                            <resolved>Mon, 8 Sep 2014 13:44:46 +0000</resolved>
                                    <version>2.3.4</version>
                                    <fixVersion>2.3.7</fixVersion>
                    <fixVersion>2.4.0-beta-4</fixVersion>
                                    <component>Stub generator / Joint compiler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14476476" author="blackdrag" created="Thu, 4 Sep 2014 10:18:52 +0000"  >&lt;p&gt;So far I can tell as much as that your test makes the problem reproducible. The meta annotation seems to be generated correctly. So the problem might be that in joint compilation mode the precompiled meta annotation is not correctly recognized as such.&lt;/p&gt;</comment>
                            <comment id="14476428" author="blackdrag" created="Mon, 8 Sep 2014 13:44:46 +0000"  >&lt;p&gt;should be fixed now, at least I could execute your build without error. Of course that does not mean that transforms suddenly become visible in joint compiled code, but at least the collector will be replaced with the real annotations&lt;/p&gt;</comment>
                            <comment id="16604301" author="chrylis" created="Wed, 5 Sep 2018 11:33:37 +0000"  >&lt;p&gt;I seem to be having this same issue with 2.5.2 (and formerly with the 2.4 series after this fix); is there a test in the main Groovy tree for this? I think this underlies the bug I filed against GMavenPlus, with behavior that&apos;s identical as far as I can tell. &lt;a href=&quot;https://github.com/groovy/GMavenPlus/issues/74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/GMavenPlus/issues/74&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12817914">GROOVY-7148</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12723250" name="mod.zip" size="4600" author="" created="Tue, 2 Sep 2014 18:00:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bymv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>