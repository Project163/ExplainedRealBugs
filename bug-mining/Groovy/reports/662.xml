<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2697] line/column information for parenthesised expression</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2697</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;One way to find out if an expression like  x = 3 * (2 + 1) has parenthesis is to have a look in the original file.&lt;br/&gt;
(2 + 1) represents a BinaryExpression in the AST but the line information does not include the parenthesis.&lt;br/&gt;
There were several problem with that:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Need of search back the opening parenthesis from the beginning of the BinaryExpression to find out if parenthesis were used.&lt;/li&gt;
	&lt;li&gt;in &quot;for (i = 0; i &amp;lt; 10; i++)&quot; i = 0 represents a BinaryExpression too. Applying the solution above would cause parenthesis around the&lt;br/&gt;
expression i = 0 because an opening parenthesis would be found. But its the parenthesis of the for-statement.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With the patch the line information of every parenthised expression (e.g. BinaryExpression) contains the parenthesis if there are any.&lt;br/&gt;
This is reached by wrapping the EXPR node for the parenthised expression with a new EXPR node that has line information including the parenthesis.&lt;br/&gt;
During the conversion from the CST to the AST the new added EXPR node is used to set the line information for the BinaryExpression. (have a look at the screenshots)&lt;/p&gt;

&lt;p&gt;Well, it&apos;s nowhere documented how the line information must be in situation like that. But it simplifies to find out whether parenthesis are used or not. &lt;/p&gt;

&lt;p&gt;The tests provided depend on the test environment in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-259&quot; title=&quot;unit test case to ensure that we always set line number information on all AST nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-259&quot;&gt;&lt;del&gt;GROOVY-259&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment>WinXP</environment>
        <key id="12817651">GROOVY-2697</key>
            <summary>line/column information for parenthesised expression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="mkempf">Martin Kempf</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Mar 2008 09:12:53 +0000</created>
                <updated>Sun, 5 Apr 2015 14:43:53 +0000</updated>
                            <resolved>Tue, 22 Apr 2008 08:03:35 +0000</resolved>
                                    <version>1.6-beta-1</version>
                                    <fixVersion>1.5.6</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14464398" author="mkempf" created="Wed, 19 Mar 2008 09:17:54 +0000"  >&lt;p&gt;CST of x = 3 * (2 + 1) before patch&lt;/p&gt;</comment>
                            <comment id="14464506" author="mkempf" created="Wed, 19 Mar 2008 09:19:09 +0000"  >&lt;p&gt;CST of x = 3 * (2 + 1) after patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721788" name="AST after patch.jpg" size="21488" author="mkempf" created="Wed, 19 Mar 2008 09:19:09 +0000"/>
                            <attachment id="12721831" name="AST before patch.jpg" size="19057" author="mkempf" created="Wed, 19 Mar 2008 09:17:54 +0000"/>
                            <attachment id="12721887" name="parenthesisPatch.patch" size="1567" author="mkempf" created="Wed, 19 Mar 2008 09:12:54 +0000"/>
                            <attachment id="12721333" name="testParenthisedExpression.patch" size="757" author="mkempf" created="Wed, 19 Mar 2008 09:12:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c4xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>