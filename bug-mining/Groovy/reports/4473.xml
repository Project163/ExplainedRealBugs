<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:19:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8965] instanceof with || inserts wrong cast</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8965</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@groovy.transform.CompileStatic
def foo(a) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; || a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;) {
        a.floatValue() &lt;span class=&quot;code-comment&quot;&gt;// expected: &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;; actual: &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;
&lt;/span&gt;    }
}

println foo(1d).class &lt;span class=&quot;code-comment&quot;&gt;// CCE: java.lang.&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13210965">GROOVY-8965</key>
            <summary>instanceof with || inserts wrong cast</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="daniilo">Daniil Ovchinnikov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jan 2019 12:12:05 +0000</created>
                <updated>Sun, 17 Dec 2023 15:22:54 +0000</updated>
                            <resolved>Tue, 12 Jul 2022 21:52:07 +0000</resolved>
                                    <version>2.5.5</version>
                                    <fixVersion>4.0.5</fixVersion>
                    <fixVersion>2.5.19</fixVersion>
                    <fixVersion>3.0.13</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17563935" author="emilles" created="Thu, 7 Jul 2022 19:54:42 +0000"  >&lt;p&gt;I have a solution that supports the case where the method (&quot;floatValue&quot; here, &quot;toString&quot; in 10668) is available via the LUB.  The duck-typing case (example below) needs handling in method selection and probably dynamic handling in classgen.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@groovy.transform.CompileStatic
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; cardinality(obj) {
  (obj &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; List || obj &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Map) ? obj.size() : 1
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17564276" author="paulk" created="Fri, 8 Jul 2022 12:50:17 +0000"  >&lt;p&gt;I think the general idea for the &quot;full&quot; solution was that even when we fully supported Union/Intersection types, that if the LUB was available, we could happily use that as an efficiency shortcut. However, if there was no LUB or the LUB was inaccessible, e.g. the LUB for StringBuilder || StringBuffer is package private, then we&apos;d retain that knowledge and use Union/Intersection types. You are right - that needs handling further down the line. If your solution to handle the simple case, leaves open the extension to handle the more complex case later, then it seems reasonable to at least move ourselves forward on that part.&lt;/p&gt;</comment>
                            <comment id="17564321" author="emilles" created="Fri, 8 Jul 2022 15:06:39 +0000"  >&lt;p&gt;What I have &amp;#8211; I can push my branch if you&apos;d like to look it over &amp;#8211; adds LUB (which is just &lt;tt&gt;instanceof&lt;/tt&gt; type in case of single) to receivers list, then declared/inferred type, then bound types and self types and so on as before.  This means Number will be checked for floatValue in this example and will succeed.&lt;/p&gt;

&lt;p&gt;When you have &quot;a instanceof Integer || a instanceof Double&quot; the inferred type is UnionType:Integer+Double and this gets added as the second receiver to check.  I did think about adding the original declared type (Object in this case) by itself but that is mixed into the inferred type in the current implementation.  For example: &quot;def m(CharSequence cs) { if (cs instanceof Serializable) cs.something(); }&quot; Would check for &quot;something()&quot; against UnionType:CharSequence+Serializable.  (This is probably supposed to be the other kind of type since it is both CharSequence &lt;b&gt;and&lt;/b&gt; Serializable, but I lack test cases for this kind of thing.)&lt;/p&gt;

&lt;p&gt;The duck-typing case &amp;#8211; &quot;(obj instanceof List || obj instanceof Map) ? obj.size() : 1&quot; &amp;#8211; will now produce an ambiguous method error.  Old code added List and Map separately before UnionType:List+Map, so only one of the two needed to have &quot;size()&quot; for type-checking to pass.  I think it would still pass if only one has &quot;size()&quot;; I need to set up a test case for this.  I am exploring adding something in &lt;tt&gt;disambiguateMethods&lt;/tt&gt; to switch to a dynamic call for the duck-typing case.  But I could push with what I have since before you got a runtime exception under @CS when you pass one of the two types.  So the ambiguous method error at least gives you a chance at compile time to make a change.  Duck-typing works under @TypeChecked but as I noted can miss the case where not all of the types can answer the call.&lt;/p&gt;</comment>
                            <comment id="17564403" author="githubbot" created="Fri, 8 Jul 2022 19:05:31 +0000"  >&lt;p&gt;eric-milles opened a new pull request, #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   As discussed under 8965 and 10668, check LUB type first for common method (fixes `testMultipleInstanceOf4`).  Duck-typing (`testMultipleInstanceOf1` and `testMultipleInstanceOf5`) is incomplete; currently reported as ambiguous method error.&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-8965&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10180&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-10180&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10668&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-10668&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17565066" author="githubbot" created="Mon, 11 Jul 2022 15:49:36 +0000"  >&lt;p&gt;eric-milles commented on PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#issuecomment-1180578513&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#issuecomment-1180578513&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Updated to support duck-typing scenario.  I&apos;m still trying to figure how to support 6790, 8142 and `(x instanceof Map || x instanceof List) ? x.size() : 1` at the same time.&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6790&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-6790&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8142&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-8142&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17565097" author="githubbot" created="Mon, 11 Jul 2022 16:46:24 +0000"  >&lt;p&gt;sonatype-lift&lt;span class=&quot;error&quot;&gt;&amp;#91;bot&amp;#93;&lt;/span&gt; commented on code in PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#discussion_r918148023&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#discussion_r918148023&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -4702,37 +4703,36 @@ protected MethodNode findMethodOrFail(final Expression expr, final ClassNode rec&lt;br/&gt;
         return null;&lt;br/&gt;
     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] argTypes, final Expression call) {&lt;/li&gt;
	&lt;li&gt;if (methods.size() &amp;gt; 1 &amp;amp;&amp;amp; receiver != null &amp;amp;&amp;amp; argTypes != null) {&lt;br/&gt;
+    private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] arguments, final Expression call) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   *&lt;span class=&quot;error&quot;&gt;&amp;#91;MixedMutabilityReturnType&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://errorprone.info/bugpattern/MixedMutabilityReturnType):*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://errorprone.info/bugpattern/MixedMutabilityReturnType):*&lt;/a&gt;  This method returns both mutable and immutable collections or maps from different paths. This may be confusing for users of the method.&lt;/p&gt;


&lt;p&gt;   ```suggestion&lt;br/&gt;
       private ImmutableList&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] arguments, final Expression call) {&lt;br/&gt;
   ```&lt;/p&gt;



&lt;p&gt;   Reply with &lt;b&gt;&quot;&lt;/b&gt;&lt;b&gt;@sonatype-lift help&lt;/b&gt;&lt;b&gt;&quot;&lt;/b&gt; for info about LiftBot commands.&lt;br/&gt;
   Reply with &lt;b&gt;&quot;&lt;/b&gt;&lt;b&gt;@sonatype-lift ignore&lt;/b&gt;&lt;b&gt;&quot;&lt;/b&gt; to tell LiftBot to leave out the above finding from this PR.&lt;br/&gt;
   Reply with &lt;b&gt;&quot;&lt;/b&gt;&lt;b&gt;@sonatype-lift ignoreall&lt;/b&gt;&lt;b&gt;&quot;&lt;/b&gt; to tell LiftBot to leave out all the findings from this PR and from the status bar in Github.&lt;/p&gt;

&lt;p&gt;   When talking to LiftBot, you need to *&lt;b&gt;refresh&lt;/b&gt;* the page to see its response. &lt;span class=&quot;error&quot;&gt;&amp;#91;Click here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://help.sonatype.com/lift/talking-to-lift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://help.sonatype.com/lift/talking-to-lift&lt;/a&gt;) to get to know more about LiftBot commands.&lt;/p&gt;

&lt;p&gt;   &amp;#8212;&lt;/p&gt;

&lt;p&gt;   Was this a good recommendation?&lt;br/&gt;
   [ &lt;span class=&quot;error&quot;&gt;&amp;#91;&#128577; Not relevant&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=1&lt;/a&gt;) ] - [ &lt;span class=&quot;error&quot;&gt;&amp;#91;&#128533; Won&amp;#39;t fix&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=2&lt;/a&gt;) ] - [ &lt;span class=&quot;error&quot;&gt;&amp;#91;&#128529; Not critical, will fix&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=3&lt;/a&gt;) ] - [ &lt;span class=&quot;error&quot;&gt;&amp;#91;&#128578; Critical, will fix&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=4&lt;/a&gt;) ] - [ &lt;span class=&quot;error&quot;&gt;&amp;#91;&#128522; Critical, fixing now&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.sonatype.com/lift-comment-rating?comment=295433288&amp;amp;lift_comment_rating=5&lt;/a&gt;) ]&lt;/p&gt;


</comment>
                            <comment id="17565129" author="githubbot" created="Mon, 11 Jul 2022 18:07:38 +0000"  >&lt;p&gt;eric-milles commented on code in PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#discussion_r918218290&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#discussion_r918218290&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -4702,37 +4703,36 @@ protected MethodNode findMethodOrFail(final Expression expr, final ClassNode rec&lt;br/&gt;
         return null;&lt;br/&gt;
     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] argTypes, final Expression call) {&lt;/li&gt;
	&lt;li&gt;if (methods.size() &amp;gt; 1 &amp;amp;&amp;amp; receiver != null &amp;amp;&amp;amp; argTypes != null) {&lt;br/&gt;
+    private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] arguments, final Expression call) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   @sonatype-lift ignore&lt;/p&gt;


</comment>
                            <comment id="17565130" author="githubbot" created="Mon, 11 Jul 2022 18:07:44 +0000"  >&lt;p&gt;sonatype-lift&lt;span class=&quot;error&quot;&gt;&amp;#91;bot&amp;#93;&lt;/span&gt; commented on code in PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#discussion_r918218361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#discussion_r918218361&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -4702,37 +4703,36 @@ protected MethodNode findMethodOrFail(final Expression expr, final ClassNode rec&lt;br/&gt;
         return null;&lt;br/&gt;
     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] argTypes, final Expression call) {&lt;/li&gt;
	&lt;li&gt;if (methods.size() &amp;gt; 1 &amp;amp;&amp;amp; receiver != null &amp;amp;&amp;amp; argTypes != null) {&lt;br/&gt;
+    private List&amp;lt;MethodNode&amp;gt; disambiguateMethods(List&amp;lt;MethodNode&amp;gt; methods, final ClassNode receiver, final ClassNode[] arguments, final Expression call) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   I&apos;ve recorded this as ignored for this pull request. If you change your mind, just comment `@sonatype-lift unignore`.&lt;/p&gt;


</comment>
                            <comment id="17565134" author="githubbot" created="Mon, 11 Jul 2022 18:13:29 +0000"  >&lt;p&gt;eric-milles commented on PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#issuecomment-1180716117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#issuecomment-1180716117&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   STC still does not produce an error for `o instanceof Map || o instanceof List ? o.entrySet() : null` &lt;/p&gt;</comment>
                            <comment id="17565141" author="githubbot" created="Mon, 11 Jul 2022 18:34:20 +0000"  >&lt;p&gt;eric-milles commented on PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#issuecomment-1180735207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#issuecomment-1180735207&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Another thing that surprised me is that LUB(Integer,Double) is Double, not Number.  I&apos;m not sure why this is the case: &lt;a href=&quot;https://github.com/apache/groovy/blob/master/src/main/java/org/codehaus/groovy/ast/tools/WideningCategories.java#L349&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/master/src/main/java/org/codehaus/groovy/ast/tools/WideningCategories.java#L349&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17565424" author="githubbot" created="Tue, 12 Jul 2022 11:07:44 +0000"  >&lt;p&gt;blackdrag commented on PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742#issuecomment-1181626022&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742#issuecomment-1181626022&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; Another thing that surprised me is that LUB(Integer,Double) is Double, not Number. I&apos;m not sure why this is the case: &lt;a href=&quot;https://github.com/apache/groovy/blob/master/src/main/java/org/codehaus/groovy/ast/tools/WideningCategories.java#L349&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/master/src/main/java/org/codehaus/groovy/ast/tools/WideningCategories.java#L349&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   WideningCategories was initially for assignment and in some cases compares. Like: you can assign an Integer to a Double, but you cannot assign a Double to an Integer. I highly doubt this will give you the right results for the instanceof|| problem&lt;/p&gt;

</comment>
                            <comment id="17566028" author="githubbot" created="Tue, 12 Jul 2022 21:50:59 +0000"  >&lt;p&gt;eric-milles merged PR #1742:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1742&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1742&lt;/a&gt;&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13468523">GROOVY-10668</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13472903">GROOVY-10702</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13562092">GROOVY-11250</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13532092">GROOVY-11008</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13532704">GROOVY-11014</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13545385">GROOVY-11137</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13012278">GROOVY-7971</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi060w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>