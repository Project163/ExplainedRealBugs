<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:07:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9607] Class generation regression in 3.0.5-ss: This method should not have been called</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9607</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Compiling grails-core master branch on 3.0.5-SNAPSHOT I noticed a regression since 3.0.4 -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Execution failed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task &lt;span class=&quot;code-quote&quot;&gt;&apos;:grails-web-databinding:compileGroovy&apos;&lt;/span&gt;. &amp;gt; BUG! exception in phase &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;generation&apos;&lt;/span&gt; in source unit &lt;span class=&quot;code-quote&quot;&gt;&apos;/Users/erichelgeson/source/grails-core/grails-web-databinding/src/main/groovy/grails/web/databinding/GrailsWebDataBinder.groovy&apos;&lt;/span&gt; At line 541 column 33 On receiver: obj with message: getAt and arguments: propName This method should not have been called. Please &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; to create a simple example reproducing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; error and file a bug report at https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/browse/GROOVY &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Offending line in grails-core here: &lt;a href=&quot;https://github.com/grails/grails-core/blob/master/grails-web-databinding/src/main/groovy/grails/web/databinding/GrailsWebDataBinder.groovy#L541&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/grails/grails-core/blob/master/grails-web-databinding/src/main/groovy/grails/web/databinding/GrailsWebDataBinder.groovy#L541&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am unsure how to recreate a concise reproducible bug from this so I ran a git bisect and found this to be the commit that introduced the error: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-9344&lt;/a&gt; / &lt;a href=&quot;https://github.com/apache/groovy/commit/fafa3c60f3beaec71298e1e95bc27f83ccea5e1e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/fafa3c60f3beaec71298e1e95bc27f83ccea5e1e&lt;/a&gt; - I also validated it by reverting the commit and re-testing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13313776">GROOVY-9607</key>
            <summary>Class generation regression in 3.0.5-ss: This method should not have been called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="erichelgeson">Eric Helgeson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jun 2020 16:03:35 +0000</created>
                <updated>Wed, 23 Feb 2022 20:40:42 +0000</updated>
                            <resolved>Sat, 4 Jul 2020 16:28:10 +0000</resolved>
                                    <version>3.0.5</version>
                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                    <fixVersion>3.0.5</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17151095" author="emilles" created="Fri, 3 Jul 2020 18:37:26 +0000"  >&lt;p&gt;Here is a much smaller test case that produces the same compiler exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void helper(&lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; runner) {}
@groovy.transform.CompileStatic
void test(item, MetaProperty prop) {
  def name = prop.name
  helper(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
    void run() {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (item[name] != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;      }
    }
  })
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17151136" author="emilles" created="Fri, 3 Jul 2020 23:24:49 +0000"  >&lt;p&gt;I tried this variation where a parameter instead of a variable is what gets updated.  This fails with the same error even before the &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9344&quot; title=&quot;CCE in closure shared variable assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9344&quot;&gt;&lt;del&gt;GROOVY-9344&lt;/del&gt;&lt;/a&gt; changes went in.  In this case, the String type is saved on the &quot;name&quot; variable expression in the INFERRED_RETURN_TYPE metadata.  Not sure why it&apos;s that instead of INFERRED_TYPE.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void helper(&lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; runner) {}
@groovy.transform.CompileStatic
void test(item, name, MetaProperty prop) {
  name = prop.name
  helper(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
    void run() {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (item[name] != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;      }
    }
  })
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, I don&apos;t think that StaticTypesCallSiteWriter.makeSingleArgumentCall should fail with a GroovyBugError when there is a subscript expression that cannot be resolved to a getAt method.  Adding getAt(Object,Object) to DefaultGroovyMethods is one possible solution.  Or a STC error at the &quot;obj&lt;span class=&quot;error&quot;&gt;&amp;#91;key&amp;#93;&lt;/span&gt;&quot; site would be good too.&lt;/p&gt;</comment>
                            <comment id="17151194" author="paulk" created="Sat, 4 Jul 2020 06:52:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; Git bisect says the following commit broke your second example:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/7f43c0a36cf3a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/7f43c0a36cf3a&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0g8zk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>