<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:46:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7433] API inconsistency between takeWhile, dropWhile and collectReplacements for CharSequences</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7433</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When treating Strings as an iterable collection of characters, Groovy provides each character as a String of size 1, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;.toList() == [&lt;span class=&quot;code-quote&quot;&gt;&apos;h&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;o&apos;&lt;/span&gt;]
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;.toList()[0].&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;name == &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&apos;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;.each {
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; it &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There are just 3 methods where this isn&apos;t the case:&lt;br/&gt;
takeWhile, dropWhile and collectReplacements.&lt;br/&gt;
These methods supply a Character instead, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;he&quot;&lt;/span&gt; == &lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;.takeWhile {
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; it &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;
  it != &lt;span class=&quot;code-quote&quot;&gt;&apos;l&apos;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This issue is to fix this inconsistency. This is a breaking change but of low impact:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Most expressions within the closure such as &lt;tt&gt;it != &apos;A&apos;&lt;/tt&gt; or &lt;tt&gt;it &amp;lt; &apos;B&apos;&lt;/tt&gt; will produce the same results regardless of whether a String or character is passed in.&lt;/li&gt;
	&lt;li&gt;Expressions using methods from the String class would have needed an &quot;as String&quot; or &quot;.toString()&quot; coercion/conversion. These will still work unchanged but the coercion will no longer be required.(Which aligns them with the expressions for all other String iteration methods.)&lt;/li&gt;
	&lt;li&gt;Closures with an explicit String arg currently don&apos;t work but would work after the change.&lt;/li&gt;
	&lt;li&gt;Closures making use of instance methods from the Character class are breaking but those methods are &quot;charValue()&quot; and &quot;compareTo(Character anotherCharacter)&quot; and are likely rarely used (there use would be non-idiomatic Groovy).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In any case, I propose supporting the detection of supplied Closures having a char or Character argument in which case the char would be passed in as now. This would make fixing the break trivial for those cases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12832401">GROOVY-7433</key>
            <summary>API inconsistency between takeWhile, dropWhile and collectReplacements for CharSequences</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                            <label>breaking</label>
                    </labels>
                <created>Sun, 24 May 2015 07:22:04 +0000</created>
                <updated>Tue, 2 May 2017 02:03:15 +0000</updated>
                            <resolved>Tue, 26 May 2015 12:11:38 +0000</resolved>
                                                    <fixVersion>2.5.0-alpha-1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12832332">GROOVY-7432</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12832491">GROOVY-7434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f5an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>