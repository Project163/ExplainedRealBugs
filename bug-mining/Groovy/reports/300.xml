<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:58:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1749] java.lang.VerifyError with nested closures</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1749</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;m having problems with multiple nested closures. The code looks like something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; #! /bin/groovysh&lt;br/&gt;
 def values = &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;&lt;br/&gt;
 def format = &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;:true, &amp;quot;b&amp;quot;:false&amp;#93;&lt;/span&gt;&lt;br/&gt;
 def input  = &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;, &amp;quot;ok&amp;quot;, &amp;quot;b&amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt; format.each () {&lt;br/&gt;
    def id = it.key&lt;br/&gt;
    if ( it.value )&lt;br/&gt;
      input.each () { values.put(id, it) }&lt;br/&gt;
    else&lt;br/&gt;
      input.each () { values.put(id, it) }&lt;br/&gt;
} &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;When the sript run all I get is a VerifyError exception:&lt;br/&gt;
Caught: java.lang.VerifyError: (class: issue_example$_run_closure1, method: doCall signature: (Ljava/lang/Object;)Ljava/lang/Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Accessing value from uninitialized register 5&lt;br/&gt;
        at issue_example.run(issue_example.groovy:6)&lt;br/&gt;
        at issue_example.main(issue_example.groovy)&lt;/p&gt;

&lt;p&gt;Surprisinly, if I change the else instruction to any non closure sentence, the script runs as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12813524">GROOVY-1749</key>
            <summary>java.lang.VerifyError with nested closures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="runoverdog">runoverdog</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Feb 2007 11:54:21 +0000</created>
                <updated>Thu, 12 Apr 2007 13:53:16 +0000</updated>
                            <resolved>Thu, 12 Apr 2007 13:53:16 +0000</resolved>
                                    <version>1.0-JSR-6</version>
                                    <fixVersion>1.1-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14462687" author="blackdrag" created="Thu, 12 Apr 2007 13:22:19 +0000"  >&lt;p&gt;adding &lt;/p&gt;
{ and }
&lt;p&gt; to the if-else fixes the problem.. strange&lt;/p&gt;</comment>
                            <comment id="14462731" author="blackdrag" created="Thu, 12 Apr 2007 13:53:16 +0000"  >&lt;p&gt;ok, looks like the compiler thought he can reuse a register that was initialized in the if-part in the else-part. Which is of course nonsense. The problem is fixed now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c4sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>