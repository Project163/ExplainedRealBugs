<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:03:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2569] the equals operator(==) error</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2569</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt; the example is :&lt;/p&gt;


&lt;p&gt;def CAR_RECORDS = &apos;&apos;&apos;&lt;br/&gt;
    &amp;lt;records&amp;gt;&lt;br/&gt;
      &amp;lt;car name=&apos;HSV Maloo&apos; make=&apos;Holden&apos; year=&apos;2006&apos;&amp;gt;&lt;br/&gt;
        &amp;lt;country&amp;gt;Australia&amp;lt;/country&amp;gt;&lt;br/&gt;
        &amp;lt;record type=&apos;speed&apos;&amp;gt;Production Pickup Truck with speed of 271kph&amp;lt;/record&amp;gt;&lt;br/&gt;
      &amp;lt;/car&amp;gt;&lt;br/&gt;
      &amp;lt;car name=&apos;P50&apos; make=&apos;Peel&apos; year=&apos;1962&apos;&amp;gt;&lt;br/&gt;
        &amp;lt;country&amp;gt;Isle of Man&amp;lt;/country&amp;gt;&lt;br/&gt;
        &amp;lt;record type=&apos;size&apos;&amp;gt;Smallest Street-Legal Car at 99cm wide and 59 kg in weight&amp;lt;/record&amp;gt;&lt;br/&gt;
      &amp;lt;/car&amp;gt;&lt;br/&gt;
      &amp;lt;car name=&apos;Royale&apos; make=&apos;Bugatti&apos; year=&apos;1931&apos;&amp;gt;&lt;br/&gt;
        &amp;lt;country&amp;gt;France&amp;lt;/country&amp;gt;&lt;br/&gt;
        &amp;lt;record type=&apos;price&apos;&amp;gt;Most Valuable Car at $15 million&amp;lt;/record&amp;gt;&lt;br/&gt;
      &amp;lt;/car&amp;gt;&lt;br/&gt;
    &amp;lt;/records&amp;gt;&lt;br/&gt;
  &apos;&apos;&apos;&lt;br/&gt;
def slurperRoot = new XmlSlurper().parseText(CAR_RECORDS)&lt;br/&gt;
assert slurperRoot.car&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.@name==&apos;P50&apos;//OK&lt;br/&gt;
assert &apos;P50&apos;==slurperRoot.car&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.@name//ERROR(cast error)&lt;/p&gt;
</description>
                <environment>groovy 1.5.3</environment>
        <key id="12814084">GROOVY-2569</key>
            <summary>the equals operator(==) error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="agile">Agile Quemuel</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Feb 2008 22:11:58 +0000</created>
                <updated>Thu, 17 Apr 2008 07:26:27 +0000</updated>
                            <resolved>Sat, 23 Feb 2008 16:19:51 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>XML Processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14477941" author="paulk" created="Sun, 3 Feb 2008 05:29:07 +0000"  >&lt;p&gt;Possibly not what you are after but these variations work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;P50&apos;&lt;/span&gt; == slurperRoot.car[1].@name.text()
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;P50&apos;&lt;/span&gt; == slurperRoot.car[1].@name.toString()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14464220" author="agile" created="Sun, 3 Feb 2008 20:02:09 +0000"  >&lt;p&gt;Thanks Paul,you code works and the XmlSurper document&apos;s example code use the &apos;.text()&apos; method .&lt;br/&gt;
But I think it is a little strange that &quot;.@name==&apos;P50&apos;&quot; is ok but the &quot;&apos;P50&apos;==&quot; is error.&lt;/p&gt;</comment>
                            <comment id="14477879" author="paulk" created="Sun, 3 Feb 2008 21:03:21 +0000"  >&lt;p&gt;The &lt;tt&gt;equals()&lt;/tt&gt; method in &lt;tt&gt;GPathResult&lt;/tt&gt; (parent of &lt;tt&gt;Attribute&lt;/tt&gt;) contains a &lt;tt&gt;.toString()&lt;/tt&gt;. I&apos;ll have to dive into the code to see why the other way around throws a cast error. The &lt;tt&gt;equals()&lt;/tt&gt; method in &lt;tt&gt;String&lt;/tt&gt; returns &lt;tt&gt;false&lt;/tt&gt; when given a non string.&lt;/p&gt;</comment>
                            <comment id="14464235" author="agile" created="Sun, 3 Feb 2008 21:21:33 +0000"  >&lt;p&gt;good idea &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;,Thanks and good luck&lt;/p&gt;</comment>
                            <comment id="14477959" author="paulk" created="Mon, 4 Feb 2008 21:57:00 +0000"  >&lt;p&gt;Groovy now returns false for &lt;tt&gt;assert &apos;P50&apos;==slurperRoot.car&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.@name&lt;/tt&gt;. Given that String and Attributes are unrelated, Groovy just tries the Java equals method for String which returns false for non-String arguments. This isn&apos;t quite what you wanted but is now consistent with Java. Arguably we might want to make the String equals method smarter to do a toString() on its argument if not given a String but I guess that belongs in a separate feature enhancement request rather than a bug.&lt;/p&gt;</comment>
                            <comment id="14477870" author="paulk" created="Fri, 8 Feb 2008 01:26:21 +0000"  >&lt;p&gt;close off release 1.5.4&lt;/p&gt;</comment>
                            <comment id="14477984" author="paulk" created="Sat, 23 Feb 2008 16:19:51 +0000"  >&lt;p&gt;update fix version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cbcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>