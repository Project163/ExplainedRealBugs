<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:42:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7016] AutoClone does not check for existing copy constructor</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7016</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;@AutoClone with COPY_CONSTRUCTOR style does not check if a copy constructor already exists. There are times when the author may want to write their own copy constructor.&lt;/p&gt;

&lt;p&gt;Please see example below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.AutoClone
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.AutoCloneStyle

@AutoClone(style = AutoCloneStyle.COPY_CONSTRUCTOR)
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyClass {
  MyClass(MyClass other) {
    println &lt;span class=&quot;code-quote&quot;&gt;&apos;custom copy constructor&apos;&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If we compile and examine the generated code, we see duplication:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; groovyc MyClass.groovy 
&amp;gt; javap -c MyClass | grep &quot;MyClass(&quot;
  protected MyClass(MyClass);
  protected MyClass(MyClass);
&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This leads to compilation error later when MyClass.class is used in another code, like so,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caught: java.lang.ClassFormatError: Duplicate method name&amp;amp;signature in class file MyClass
java.lang.ClassFormatError: Duplicate method name&amp;amp;signature in class file MyClass
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12811426">GROOVY-7016</key>
            <summary>AutoClone does not check for existing copy constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="venkats">Venkat Srinivasan</reporter>
                        <labels>
                            <label>ClassFormatError</label>
                    </labels>
                <created>Fri, 8 Aug 2014 13:09:16 +0000</created>
                <updated>Sun, 22 May 2022 16:05:50 +0000</updated>
                            <resolved>Sat, 9 Aug 2014 05:58:18 +0000</resolved>
                                    <version>2.4.0-beta-2</version>
                                    <fixVersion>2.3.7</fixVersion>
                    <fixVersion>2.4.0-beta-3</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14480703" author="paulk" created="Fri, 8 Aug 2014 17:28:48 +0000"  >&lt;p&gt;Yes, producing the duplicate signature is a bug. The two options to fix would be to produce an error if an existing one is found or allow the custom version. I see no harm in allowing the custom version. In that case, the &lt;tt&gt;@AutoClone&lt;/tt&gt; would simply add the clone method which would call the already provided this constructor. Is that your expectation too?&lt;/p&gt;</comment>
                            <comment id="14476261" author="venkats" created="Fri, 8 Aug 2014 17:43:27 +0000"  >&lt;p&gt;Yes, allowing the custom version is important as there are times when the generated copy constructor is not suitable or sufficient.&lt;/p&gt;</comment>
                            <comment id="14476379" author="paulk" created="Sat, 9 Aug 2014 05:58:18 +0000"  >&lt;p&gt;Should be in the next release. Thanks for the suggestion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>