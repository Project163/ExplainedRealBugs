<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:16:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10433] &quot;sealed&quot; not usable as a restricted identifier</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10433</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The restricted identifier &quot;sealed&quot; is not usable for a variable or member name any longer.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; sealed = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// fails to parse
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; record = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// okay
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; permits = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// okay
&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C {
  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; sealed = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// fails to parse
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; record = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// okay
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; permits = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// okay
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And this should still work as minus: &quot;{ non, sealed -&amp;gt; return non-sealed }&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13419767">GROOVY-10433</key>
            <summary>&quot;sealed&quot; not usable as a restricted identifier</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Dec 2021 20:36:17 +0000</created>
                <updated>Thu, 3 Feb 2022 22:35:37 +0000</updated>
                            <resolved>Sat, 1 Jan 2022 22:18:58 +0000</resolved>
                                    <version>4.0.0-rc-2</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>parser-antlr4</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17466258" author="paulk" created="Tue, 28 Dec 2021 23:43:34 +0000"  >&lt;p&gt;I am still pondering options here but just to add some additional info.&lt;/p&gt;

&lt;p&gt;The following two examples work in 3.0.9 but not 4.0.0-rc-2:&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def sealed() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
sealed()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def sealed = { -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
sealed()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following examples fail in both:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; = { -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt;() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt;()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
def class = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
def &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
def def = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following example runs fine in both:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def &lt;span class=&quot;code-quote&quot;&gt;&quot;non-sealed&quot;&lt;/span&gt;() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
def &lt;span class=&quot;code-quote&quot;&gt;&quot;sealed&quot;&lt;/span&gt;() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
def &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;&quot;&lt;/span&gt;() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;()
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sealed()
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;non-sealed&quot;&lt;/span&gt;()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17466572" author="emilles" created="Wed, 29 Dec 2021 18:53:17 +0000"  >&lt;p&gt;I wouldn&apos;t expect &quot;def private = ...&quot; to work.  It has been a keyword / reserved word from the very start of Java (and Groovy).  I think only &quot;var&quot;, &quot;record&quot;, &quot;sealed&quot;, &quot;permits&quot; and soon &quot;_&quot; are so-called restricted identifiers.  They can be used as identifiers but serve as keywords in specific circumstances.&lt;/p&gt;</comment>
                            <comment id="17466849" author="paulk" created="Thu, 30 Dec 2021 12:32:17 +0000"  >&lt;p&gt;Groovy is a little more nuanced than Java.&lt;/p&gt;

&lt;p&gt;Groovy allows keywords to be used for named parameters and map keys, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; = [def: 1, as: 2, in: 3, trait: 4,
           &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;: 5, &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;: 6, class: 7,
           trait: 8, &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt;: 9, sealed: 10,
           permits: 11, &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;: 12, &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt;: 13,
           &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt;: 14, it: 15, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;: 16, &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;: 17]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Groovy has a similar concept to &quot;restricted identifier&quot;. Currently only &quot;var&quot;, &quot;in&quot;, &quot;trait&quot;, &quot;as&quot;, &quot;yield&quot;, &quot;permits&quot;, and &quot;record&quot; are in this list.&lt;br/&gt;
These can be used for variable/field declarations and method names. Method calls to these names must be qualified with &quot;this.&quot; otherwise a &quot;Modifiers or return type is required&quot; occurs during parsing. I don&apos;t know if it is possible to remove this last error somehow. We should check whether &quot;sealed&quot; can be in this list. (The purpose of this issue.) We also have &quot;def&quot; excluded from this list, I presume for some known issue.&lt;/p&gt;

&lt;p&gt;Groovy also allows the remaining keywords to be used as method names when quoted and prefixed with &quot;this.&quot; when calling, like the previous &quot;private&quot; example and another, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt;&quot;&lt;/span&gt;() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt;()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For these keywords, there is normally a corresponding &quot;Unexpected input&quot; error message during parsing if the &quot;this.&quot; qualifier is left out or the quotes left out of the method definition. Strangely, for this last example, &quot;assert&quot;, it has a slightly different error message: Unexpected input: &apos;&amp;lt;EOF&amp;gt;&apos; but possibly that is okay.&lt;/p&gt;

&lt;p&gt;As to the &quot;{ non, sealed -&amp;gt; return non-sealed }&quot; example, I think will be fixed if we can make &quot;sealed&quot; a restricted identifier.&lt;/p&gt;
</comment>
                            <comment id="17466853" author="paulk" created="Thu, 30 Dec 2021 12:45:22 +0000"  >&lt;p&gt;Adding &quot;sealed&quot; into the list of identifiers in the grammar makes the compiler behave in the same was as the other restricted identifiers:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def sealed() { &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; }
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sealed()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So, you can define the method but still need the qualifier when calling it.&lt;/p&gt;

&lt;p&gt;For your other example, &quot;non-sealed&quot; is then still flagged as a keyword but adding some whitespace is a workaround:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def clos = { non, sealed -&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; non - sealed }
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; 6 == clos(10, 4)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17466968" author="emilles" created="Thu, 30 Dec 2021 19:25:14 +0000"  >&lt;p&gt;Is there any hope for &quot;non-sealed&quot;?  That is a valid binary expression under Groovy 3 (either parser).&lt;/p&gt;

&lt;p&gt;I am not able to define variables named &quot;as&quot;, &quot;in&quot; or &quot;trait&quot;.  But the others like &quot;var&quot; and &quot;yield&quot; do work, except for &quot;def var; var = null&quot; (&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9630&quot; title=&quot;Parrot Parser: split declaration and initialization of &amp;quot;def var&amp;quot; sets incorrect modifier &amp;quot;var&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9630&quot;&gt;GROOVY-9630&lt;/a&gt;).  Should it be a separate bug to allow &quot;as&quot;, &quot;in&quot; and &quot;trait&quot; as variable names?&lt;/p&gt;</comment>
                            <comment id="17467036" author="paulk" created="Thu, 30 Dec 2021 22:39:19 +0000"  >&lt;p&gt;Can you give me more info on where it fails. The following seems to work fine in the groovyConsole:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
&#160; def as = 1
&#160; def in = 2
&#160; def trait = 3
&#160; def sum = as + in + trait
}
def as = 10
def in = 20
def trait = 30
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; 66 == &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo().sum + as + in + trait
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17467037" author="paulk" created="Thu, 30 Dec 2021 22:40:57 +0000"  >&lt;p&gt;For &quot;non-sealed&quot;, it might be possible. We&apos;ll have to try to see if it causes issues like ambiguities or performance degradation.&lt;/p&gt;</comment>
                            <comment id="17467188" author="paulk" created="Fri, 31 Dec 2021 10:33:22 +0000"  >&lt;p&gt;I have a PR for &quot;sealed&quot; here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/pull/1668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1668&lt;/a&gt;&lt;br/&gt;
I&apos;d be inclined to clone the issue for the &quot;non-sealed&quot; case.&lt;/p&gt;</comment>
                            <comment id="17467490" author="paulk" created="Sat, 1 Jan 2022 22:18:44 +0000"  >&lt;p&gt;I created a clone for the &quot;non-sealed&quot; case.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13420231">GROOVY-10437</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0y38o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>