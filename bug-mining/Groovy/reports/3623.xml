<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:03:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6996] Anonymous class field initialized with an enclosing argument results in MissingPropertyException</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6996</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Since Groovy 2.3.3 initializing a field of an anonymous class with an enclosing argument results in a MissingPropertyException:&lt;/p&gt;

&lt;p&gt;Code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MissingPropertyExceptionBug {

    &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; SomeType {
    }

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main(args) {
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SomeType() {
            def arguments = args
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...results in:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; groovy.lang.MissingPropertyException: No such property: args &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; class: MissingPropertyExceptionBug
	at groovy.lang.MetaClassImpl.invokeStaticMissingProperty(MetaClassImpl.java:996)
	at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:1851)
	at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:1827)
	at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:3690)
	at org.codehaus.groovy.runtime.InvokerHelper.getProperty(InvokerHelper.java:171)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.getProperty(ScriptBytecodeAdapter.java:452)
	at MissingPropertyExceptionBug$1.propertyMissing(MissingPropertyExceptionBug.groovy)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)
	at groovy.lang.MetaClassImpl.invokeMissingProperty(MetaClassImpl.java:874)
	at groovy.lang.MetaClassImpl$12.getProperty(MetaClassImpl.java:2018)
	at org.codehaus.groovy.runtime.callsite.GetEffectivePogoPropertySite.getProperty(GetEffectivePogoPropertySite.java:82)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:231)
	at MissingPropertyExceptionBug$1.&amp;lt;init&amp;gt;(MissingPropertyExceptionBug.groovy)
	at MissingPropertyExceptionBug.main(MissingPropertyExceptionBug.groovy:7)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Workaround:&lt;br/&gt;
Use a top-level class instead.&lt;/p&gt;</description>
                <environment>Oracle JDK 1.7.0_60 @ Mavericks</environment>
        <key id="12811428">GROOVY-6996</key>
            <summary>Anonymous class field initialized with an enclosing argument results in MissingPropertyException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="bhelfert">Bastian Helfert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Aug 2014 04:10:53 +0000</created>
                <updated>Sun, 24 Nov 2019 02:45:00 +0000</updated>
                            <resolved>Fri, 18 Oct 2019 14:08:26 +0000</resolved>
                                    <version>2.3.3</version>
                    <version>2.3.4</version>
                    <version>2.3.5</version>
                    <version>2.3.6</version>
                    <version>2.4.1</version>
                                    <fixVersion>2.5.9</fixVersion>
                    <fixVersion>3.0.0-rc-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="15855974" author="aalmiray" created="Tue, 7 Feb 2017 13:25:29 +0000"  >&lt;p&gt;It appears the problem is related to scoping of method arguments. The following script works as expected&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Outer {
    &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Inner {
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; with_default_args(args = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; args&apos;&lt;/span&gt;) {
        def my_args = args
        def &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; =  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Inner() {
            def arguments = my_args
        }
        println &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt;.arguments
    }

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main(args) {
        with_default_args()
        with_default_args(&lt;span class=&quot;code-quote&quot;&gt;&apos;jfokus&apos;&lt;/span&gt;)
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;prints the following&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; args
jfokus
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice the usage of a local variable to grab a reference to the method args. If the variable is removed and the method arguments are accessed directly then we get an MPE&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;groovy&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Outer { 
groovy&amp;gt;     &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Inner { 
groovy&amp;gt;     } 
groovy&amp;gt;      
groovy&amp;gt;     &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; with_default_args(args = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; args&apos;&lt;/span&gt;) { 
groovy&amp;gt;         def &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt; =  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Inner() { 
groovy&amp;gt;             def arguments = args 
groovy&amp;gt;         } 
groovy&amp;gt;         println &lt;span class=&quot;code-keyword&quot;&gt;inner&lt;/span&gt;.arguments 
groovy&amp;gt;     } 
groovy&amp;gt;     &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; main(args) { 
groovy&amp;gt;         with_default_args() 
groovy&amp;gt;         with_default_args(&lt;span class=&quot;code-quote&quot;&gt;&apos;jfokus&apos;&lt;/span&gt;) 
groovy&amp;gt;     } 
groovy&amp;gt; } 
 
Exception thrown

groovy.lang.MissingPropertyException: No such property: args &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; class: Outer
	at Outer$1.propertyMissing(ConsoleScript26)
	at Outer$1.&amp;lt;init&amp;gt;(ConsoleScript26)
	at Outer.with_default_args(ConsoleScript26:6)
	at Outer.with_default_args(ConsoleScript26)
	at Outer.main(ConsoleScript26:13)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tested with Groovy 2.4.8&lt;/p&gt;</comment>
                            <comment id="16952134" author="emilles" created="Tue, 15 Oct 2019 17:19:32 +0000"  >&lt;p&gt;&lt;tt&gt;VariableScopeVisitor&lt;/tt&gt; records references to local variable and parameters. It has a check added for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6834&quot; title=&quot;False positive variable scoping error when using AIC in combination with logging AST transform&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6834&quot;&gt;&lt;del&gt;GROOVY-6834&lt;/del&gt;&lt;/a&gt; that when removed causes this case to succeed.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void visitConstructorCallExpression(ConstructorCallExpression call) {
        ...
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (FieldNode field : innerClass.getFields()) {
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Expression expression = field.getInitialExpression();
            pushState(field.isStatic());
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (expression != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;span class=&quot;code-comment&quot;&gt;// from here
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (expression &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; VariableExpression) {
                    VariableExpression vexp = (VariableExpression) expression;
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (vexp.getAccessedVariable() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Parameter) {
                        &lt;span class=&quot;code-comment&quot;&gt;// workaround &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; GROOVY-6834: accessing a parameter which is not yet seen in scope
&lt;/span&gt;                        popState();
                        &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
                    }
                }
&lt;span class=&quot;code-comment&quot;&gt;// to here
&lt;/span&gt;                expression.visit(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
            }
            popState();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16954644" author="daniel_sun" created="Fri, 18 Oct 2019 14:08:26 +0000"  >&lt;p&gt;The proposed PR was merged. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722203" name="MissingPropertyExceptionBug.groovy" size="168" author="bhelfert" created="Fri, 1 Aug 2014 04:10:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bs9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>