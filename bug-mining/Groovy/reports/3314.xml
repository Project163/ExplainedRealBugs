<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:57:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8835] AstNodeToScriptVisitor - no token needed for EmptyStatement initialization</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8835</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Consider the following example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; groovy

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.inspect.swingui.AstNodeToScriptVisitor
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.ast.expr.EmptyExpression
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.ast.tools.GeneralUtils

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SandBox {

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SandBox().someMethod()
    }

    void someMethod() {
        StringWriter stringWriter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringWriter()
        GeneralUtils.declS(GeneralUtils.varX(&lt;span class=&quot;code-quote&quot;&gt;&quot;someVariableName&quot;&lt;/span&gt;), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EmptyExpression()).visit(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AstNodeToScriptVisitor(stringWriter))
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Output: &quot;&lt;/span&gt;+stringWriter.getBuffer().toString().replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;\$&quot;&lt;/span&gt;, &quot;&quot;))
    }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Actual result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Output: java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; someVariableName = 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Expected result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Output: java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; someVariableName
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When DeclarationExpression (or possibly other BinaryExpression) is initialized with EmptyExpression as &quot;right&quot; expression, &lt;b&gt;AstNodeToScriptVisitor&lt;/b&gt; should not output the token (&quot;=&quot; in this example), as there is no corresponding expression printed after the token.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13190340">GROOVY-8835</key>
            <summary>AstNodeToScriptVisitor - no token needed for EmptyStatement initialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="anton.pryamostanov">Anton Pryamostanov</reporter>
                        <labels>
                            <label>inspect</label>
                    </labels>
                <created>Tue, 9 Oct 2018 11:09:19 +0000</created>
                <updated>Thu, 11 Oct 2018 12:57:30 +0000</updated>
                            <resolved>Thu, 11 Oct 2018 05:26:24 +0000</resolved>
                                    <version>2.5.2</version>
                                    <fixVersion>3.0.0-alpha-4</fixVersion>
                    <fixVersion>2.5.3</fixVersion>
                                    <component>Groovy Console</component>
                    <component>Swing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16645991" author="paulk" created="Thu, 11 Oct 2018 05:26:24 +0000"  >&lt;p&gt;Thanks for the suggestion. I agree it makes sense to elide the operation token for the EmptyExpression case. At the moment I have done it only for ASSIGN.&lt;/p&gt;</comment>
                            <comment id="16646393" author="anton.pryamostanov" created="Thu, 11 Oct 2018 12:57:30 +0000"  >&lt;p&gt;Many thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;, I retested the above example on snapshots (3.0.0 and 2.5.3), it works ok now.&lt;br/&gt;
Closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3yzhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>