<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:58:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8059] STC overloaded generic method selection not using resolved types</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8059</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6804&quot; title=&quot;[Static type checking] - Reference to method is ambiguous. Cannot choose between&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6804&quot;&gt;&lt;del&gt;GROOVY-6804&lt;/del&gt;&lt;/a&gt; only works for primitive arguments because the &lt;a href=&quot;https://github.com/apache/groovy/blob/048b6586b741009f5497c6bfdb7fb1aad6c607be/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java#L859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;distance calc doesn&apos;t wrap and compare against reference param types&lt;/a&gt;.  I believe it should wrap before doing the compare (which would fix &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8055&quot; title=&quot;@CompileStatic improperly orders parameter types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8055&quot;&gt;&lt;del&gt;GROOVY-8055&lt;/del&gt;&lt;/a&gt;) and believe the current test is only passing because of this anomaly with primitives.&lt;/p&gt;

&lt;p&gt;The following test is the same from &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6804&quot; title=&quot;[Static type checking] - Reference to method is ambiguous. Cannot choose between&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6804&quot;&gt;&lt;del&gt;GROOVY-6804&lt;/del&gt;&lt;/a&gt; but instead uses the wrapper type and fails to compile:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Base&amp;lt;K &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Serializable, V&amp;gt; {
    void delete(K key) {}
    void delete(V value) {}
}

@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Base&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt; {}

@groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Class1 {
    Class1() {
        Foo foo = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo()        
        foo.delete(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.valueOf(1))
    }
}
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Class1()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[Static type checking] - Cannot call Foo#delete(K) with arguments [java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the case of a primitive both &lt;tt&gt;K-Serializable&lt;/tt&gt; and &lt;tt&gt;V-Object&lt;/tt&gt; (as seen by the &lt;tt&gt;getDistance()&lt;/tt&gt;) method have the same distance so both are promoted as possible choices.  The &lt;a href=&quot;https://github.com/apache/groovy/blob/048b6586b741009f5497c6bfdb7fb1aad6c607be/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java#L3720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;generic type information is not evaluated until later&lt;/a&gt; and when generics are applied the correct method is chosen.  However, in the case of the reference type &lt;tt&gt;K-Serializable&lt;/tt&gt; is the only method because it has the lowest distance calc and generics are not evaluated.&lt;/p&gt;

&lt;p&gt;It seems that the fix would be to resolve the types prior to making the distance calculation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13036854">GROOVY-8059</key>
            <summary>STC overloaded generic method selection not using resolved types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="jwagenleitner">John Wagenleitner</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jan 2017 06:39:51 +0000</created>
                <updated>Thu, 26 Jul 2018 04:38:39 +0000</updated>
                            <resolved>Fri, 11 May 2018 06:47:20 +0000</resolved>
                                    <version>2.4.8</version>
                                    <fixVersion>2.6.0-alpha-4</fixVersion>
                    <fixVersion>3.0.0-alpha-3</fixVersion>
                    <fixVersion>2.5.0-rc-3</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16471540" author="daniel_sun" created="Fri, 11 May 2018 06:47:20 +0000"  >&lt;p&gt;it is fixed&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/commit/c321ec989b495c2fd9261c23cfacdb2a23b879fe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/c321ec989b495c2fd9261c23cfacdb2a23b879fe&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12817479">GROOVY-6804</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i391jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>