<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:03:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9237] GContracts and Groovy3</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9237</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following runs fine in 2.5.8 (needs gcontracts and asm jars on classpath):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.gcontracts.annotations.Invariant
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.*

@Invariant({ month &amp;gt;= 1 &amp;amp;&amp;amp; month &amp;lt;= 12 &amp;amp;&amp;amp; day &amp;gt;= 1 &amp;amp;&amp;amp; day &amp;lt;= lastDay[month-1] })
@MapConstructor
@ToString(includeNames=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Calendar {
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] lastDay = [31,29,31,30,31,30,31,31,30,31,30,31]
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; month
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; day
    
    def mutateByOneMonth() {
        month++
    }
}

&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Calendar(month: 2, day: 2).mutateByOneMonth() &lt;span class=&quot;code-comment&quot;&gt;// Okay
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Calendar(month: 12, day: 2).mutateByOneMonth() &lt;span class=&quot;code-comment&quot;&gt;// ClassInvariantViolation
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Calendar(month: 1, day: 31).mutateByOneMonth() &lt;span class=&quot;code-comment&quot;&gt;// ClassInvariantViolation&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but with 3.0.0-beta-3 I get:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalAccessError: tried to access method org.codehaus.groovy.ast.stmt.EmptyStatement.&amp;lt;init&amp;gt;()V from class org.gcontracts.generation.TryCatchBlockGenerator
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We should check whether we have made an unneeded breaking change or whether a gcontracts upgrade might be needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13253662">GROOVY-9237</key>
            <summary>GContracts and Groovy3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Aug 2019 09:40:18 +0000</created>
                <updated>Sun, 24 Nov 2019 02:44:50 +0000</updated>
                            <resolved>Fri, 11 Oct 2019 13:56:59 +0000</resolved>
                                                    <fixVersion>3.0.0-rc-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="16918452" author="paulk" created="Thu, 29 Aug 2019 09:44:20 +0000"  >&lt;p&gt;Just quickly looking at our code, it looks like we are trying to make EmptyStatement a singleton and deprecate the constructor. We changed it from public to private - that was a binary breaking change. I wonder whether we can think of an alternative evolution path that doesn&apos;t break binary compatibility. GContracts can be changed but I wonder how many other frameworks are doing  similar things.&lt;/p&gt;</comment>
                            <comment id="16919740" author="emilles" created="Fri, 30 Aug 2019 17:19:24 +0000"  >&lt;p&gt;I have had to patch back the constructor and replace checks for &quot;x == EmptyStatement.INSTANCE&quot; with &quot;x instanceof EmptyStatement&quot; within Eclipse tooling.&#160;&#160;&lt;a href=&quot;https://github.com/groovy/groovy-eclipse/blob/master/base/org.codehaus.groovy30/src/org/codehaus/groovy/ast/stmt/EmptyStatement.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-eclipse/blob/master/base/org.codehaus.groovy30/src/org/codehaus/groovy/ast/stmt/EmptyStatement.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16944133" author="paulk" created="Fri, 4 Oct 2019 00:02:54 +0000"  >&lt;p&gt;Can you  elaborate on the reason? Are you actually using node metadata? I am wondering whether we should disable setting that for the singleton? Also, just for my own understanding, what&apos;s an example of where source range is needed for a statement that is conceptually kind of not supposed to be there?&lt;/p&gt;</comment>
                            <comment id="16944971" author="emilles" created="Sat, 5 Oct 2019 03:51:18 +0000"  >&lt;p&gt;Empty statements do exist in the source (bare &quot;;&quot;).  The IDE uses empty expression for a number of cases where the source is incomplete.  For example &quot;String.&quot; is translated to PropertyExpression(ClassExpression(String), EmptyExpression).  Thus there is a placeholder for the source position after the dot in case the user tries to ask for content assist proposals.&lt;/p&gt;</comment>
                            <comment id="16949472" author="daniel_sun" created="Fri, 11 Oct 2019 13:56:59 +0000"  >&lt;p&gt;The proposed PR was merged. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z065e8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>