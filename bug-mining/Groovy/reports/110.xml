<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:55:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-480] num.times fails in specific situation (incorrectly removed)</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-480</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This code still fails, as reported in issue &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-451&quot; title=&quot;num.times fails in specific situation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-451&quot;&gt;&lt;del&gt;GROOVY-451&lt;/del&gt;&lt;/a&gt;.  This is tested with snapshot dated 14 May.  Replacing any of the commented out code with its neighbor removes the crash.  Crash report follows code.&lt;/p&gt;

&lt;p&gt;#!/usr/bin/env groovy&lt;br/&gt;
import java.awt.Color&lt;br/&gt;
import java.util.ArrayList&lt;br/&gt;
public class Test {&lt;br/&gt;
	ArrayList agents&lt;br/&gt;
    int numAgents = 4&lt;br/&gt;
	int spaceSize = 50&lt;br/&gt;
//	spaceSize = 50 // removing int avoids crash&lt;/p&gt;

&lt;p&gt;	public void setup() &lt;/p&gt;
{
		Random.createUniform()
		agents = new ArrayList()
	}
&lt;p&gt;    public void begin() {		&lt;br/&gt;
//		for (i in 1..numAgents) { // using for avoids crash&lt;br/&gt;
		this.numAgents.times &lt;/p&gt;
{
			btn = new TinyAgent()
//			btn.move(0,0) // removing use or Random avoids crash
//			btn.move( // using &quot;50&quot; rather than spaceSize avoids crash
//				Random.uniform.nextIntFromTo(0, 50),
//				Random.uniform.nextIntFromTo(0, 50))
			btn.move( // removing spaceSize and using literal removes crash
				Random.uniform.nextIntFromTo(0, spaceSize),
				Random.uniform.nextIntFromTo(0, spaceSize))
			btn.setColor(
				new Color(Random.uniform.nextIntFromTo(0, Integer.MAX_VALUE)))
			agents.add(btn)
		}
&lt;p&gt;		println agents.size()&lt;br/&gt;
    }&lt;br/&gt;
}&lt;br/&gt;
public class Random {&lt;br/&gt;
	static Random uniform&lt;br/&gt;
	static void createUniform() &lt;/p&gt;
{uniform = new Random()}
&lt;p&gt;	int nextIntFromTo (int from, int to) &lt;/p&gt;
{(from + to / 2).intValue()}
&lt;p&gt;}&lt;br/&gt;
public class TinyAgent {&lt;br/&gt;
	int x; int y; Color color&lt;br/&gt;
	public void move(int nextX, int nextY) &lt;/p&gt;
{
		x = nextX
		y = nextY
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Test t = new Test()&lt;br/&gt;
t.setup(); t.begin()&lt;/p&gt;


&lt;p&gt;owen|~/src/groovy/tiny&lt;span class=&quot;error&quot;&gt;&amp;#91;784&amp;#93;&lt;/span&gt;&lt;br/&gt;
: ./test.groovy &lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.VerifyError: (class: Test$_begin_closure1, method: doCall signature: (Ljava/lang/Object;)Ljava/lang/Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Expecting to find object/array on stack&lt;br/&gt;
        at Test.begin(test.groovy:18)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:324)&lt;br/&gt;
        at org.codehaus.groovy.runtime.ReflectionMetaMethod.invoke(ReflectionMetaMethod.java:63)&lt;br/&gt;
        at groovy.lang.MetaClass.doMethodInvoke(MetaClass.java:1020)&lt;br/&gt;
        at groovy.lang.MetaClass.invokeMethod(MetaClass.java:314)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;/p&gt;</description>
                <environment>Version: 1.0-beta-6-SNAPSHOT JVM: 1.4.1_01-27; Mac OS X Panther</environment>
        <key id="12816092">GROOVY-480</key>
            <summary>num.times fails in specific situation (incorrectly removed)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bingran">Bing Ran</assignee>
                                    <reporter username="backspaces">Owen Densmore</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 May 2004 15:45:56 +0000</created>
                <updated>Sat, 22 May 2004 12:18:54 +0000</updated>
                            <resolved>Sat, 22 May 2004 06:17:56 +0000</resolved>
                                    <version>1.0-beta-5</version>
                                    <fixVersion>1.0-beta-6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14460213" author="spullara" created="Mon, 17 May 2004 23:32:25 +0000"  >&lt;p&gt;Can you reduce the size of the reproduction case?&lt;/p&gt;</comment>
                            <comment id="14460402" author="backspaces" created="Tue, 18 May 2004 01:02:34 +0000"  >&lt;p&gt;Hi Sam.  This also fails and is considerably simpler:&lt;/p&gt;

&lt;p&gt;import java.util.ArrayList&lt;br/&gt;
public class Test {&lt;br/&gt;
	ArrayList agents&lt;br/&gt;
    int numAgents = 4&lt;/p&gt;

&lt;p&gt;    public void begin() {		&lt;br/&gt;
		agents = new ArrayList()&lt;br/&gt;
		numAgents.times &lt;/p&gt;
{
			btn = new TinyAgent()
			btn.setX(numAgents.intValue())
			agents.add(btn)
		}
&lt;p&gt;		println agents.size()&lt;br/&gt;
    }&lt;br/&gt;
}&lt;br/&gt;
public class TinyAgent {&lt;br/&gt;
	int x&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Test t = new Test()&lt;br/&gt;
t.begin()&lt;/p&gt;


&lt;p&gt;Error:&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.VerifyError: (class: Test$_begin_closure1, method: doCall signature: (Ljava/lang/Object;)Ljava/lang/Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Expecting to find object/array on stack&lt;br/&gt;
        at Test.begin(test.groovy:9)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:324)&lt;br/&gt;
        at org.codehaus.groovy.runtime.ReflectionMetaMethod.invoke(ReflectionMetaMethod.java:63)&lt;br/&gt;
        at groovy.lang.MetaClass.doMethodInvoke(MetaClass.java:1020)&lt;br/&gt;
                ...&lt;/p&gt;</comment>
                            <comment id="14460286" author="bingran" created="Sat, 22 May 2004 06:17:56 +0000"  >&lt;p&gt;changed AsmClassGenerator and updated ClosureTest.groovy&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bvvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>