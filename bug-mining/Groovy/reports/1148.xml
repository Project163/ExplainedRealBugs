<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:14:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3953] Static import with missed package qualifer</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3953</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Assume you have a class Class in package p1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p1
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; {
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; foo(){}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Consider two scripts:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p2
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; p1.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.foo

foo()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p2
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; p1.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.*

foo()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;IMHO these scripts are equivalent but the first one is compiled fine while another one is not.&lt;br/&gt;
I am not sure that they are correct but the script &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p1
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.* (or &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.foo)

foo()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works well. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12814961">GROOVY-3953</key>
            <summary>Static import with missed package qualifer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mxm-groovy">Maxim Medvedev</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2009 06:37:24 +0000</created>
                <updated>Wed, 17 Jun 2015 20:09:47 +0000</updated>
                            <resolved>Wed, 9 Nov 2011 05:18:17 +0000</resolved>
                                    <version>1.7-rc-2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14468435" author="mxm-groovy" created="Mon, 21 Dec 2009 06:52:41 +0000"  >&lt;p&gt;Besides a code from your documentation (&lt;a href=&quot;http://groovy.codehaus.org/Static+Import+Usage&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.codehaus.org/Static+Import+Usage&lt;/a&gt;) is not compiled.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
println sin(123.456) * cos(456.789)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468395" author="roshandawrani" created="Mon, 28 Dec 2009 03:51:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3538&quot; title=&quot;failed to import static on default classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3538&quot;&gt;&lt;del&gt;GROOVY-3538&lt;/del&gt;&lt;/a&gt; talks about why groovy decided to not allow &quot;import static Math.*&quot;&lt;/p&gt;

&lt;p&gt;Looks like the documentation at &lt;a href=&quot;http://groovy.codehaus.org/Static+Import+Usage&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.codehaus.org/Static+Import+Usage&lt;/a&gt; has been updated now to correctly use &quot;import static java.lang.Math.*&quot;&lt;/p&gt;</comment>
                            <comment id="14468544" author="mxm-groovy" created="Mon, 28 Dec 2009 04:34:25 +0000"  >&lt;p&gt;So, only full-qualified imports are allowed, right?&lt;/p&gt;</comment>
                            <comment id="14468495" author="roshandawrani" created="Mon, 28 Dec 2009 04:54:02 +0000"  >&lt;p&gt;Yes, the static * imports have to be fully-qualified - so import static java.lang.Math.* will do but import static Math.* won&apos;t.&lt;/p&gt;</comment>
                            <comment id="14468530" author="roshandawrani" created="Mon, 28 Dec 2009 06:54:39 +0000"  >&lt;p&gt;Attaching a patch for review. &lt;/p&gt;

&lt;p&gt;Let me know if anyone sees any issues with it. Thanks.&lt;/p&gt;</comment>
                            <comment id="14468514" author="blackdrag" created="Mon, 28 Dec 2009 07:57:16 +0000"  >&lt;p&gt;looks good to me&lt;/p&gt;</comment>
                            <comment id="14468451" author="roshandawrani" created="Mon, 28 Dec 2009 13:47:33 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                            <comment id="14478812" author="paulk" created="Mon, 28 Dec 2009 16:08:40 +0000"  >&lt;p&gt;I have no major problem with this change. But just wanted to check that we are intentionally supporting something that Java doesn&apos;t allow. I.e. Java won&apos;t allow:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nor&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.PI;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which this fix now supports.&lt;/p&gt;

&lt;p&gt;The thing which seems a little odd to me is that in the case above we say that java.lang.Math is an automatic import for Groovy but now you have to import it explicitly for this edge case. This seems a little inconsistent to me.&lt;/p&gt;

&lt;p&gt;So I am wondering if the better fix would be to disallow the first example given in the issue rather than make the second one work.&lt;/p&gt;</comment>
                            <comment id="14468496" author="blackdrag" created="Mon, 28 Dec 2009 18:14:36 +0000"  >&lt;p&gt;I makes sense with a certain name resolution  order in which defaults are checked last and that is luckily exactly what Groovy is doing. First thing is named imports, second should be (which currently is maybe not) the current package, then all star imports and last defaults.&lt;/p&gt;

&lt;p&gt;The automatic import is not java.lang.Math, it is java.lang.&lt;b&gt;, so &quot;import static Math.&lt;/b&gt;&quot; as well as &quot;import static Math.PI&quot; should work without an explicit &quot;import java.lang.Math&quot;. If one of those does not, then IMHO further fixing is needed.&lt;/p&gt;

&lt;p&gt;Paul, I did not fully understand your comment about what is not working, can you explain a little bit more?&lt;/p&gt;</comment>
                            <comment id="14468452" author="roshandawrani" created="Mon, 28 Dec 2009 19:24:26 +0000"  >&lt;p&gt;Paul, yes, my fix was really based on the assumption that the first example is working and is working as designed, and then in the code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; p1.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.foo

foo()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I didn&apos;t see why it shouldn&apos;t work(you know about the type imported and then you are statically importing its members), even though, in doing that, it was already different from Java.&lt;/p&gt;

&lt;p&gt;Disallowing both the cases is another way of removing the inconsistency that existed earlier(that Math.PI worked but Math.* didn&apos;t).&lt;/p&gt;

&lt;p&gt;Regarding, how closely we want to mirror Java in this, you guys are the better judges of that.&lt;/p&gt;</comment>
                            <comment id="14478824" author="paulk" created="Mon, 28 Dec 2009 20:18:19 +0000"  >&lt;p&gt;It&apos;s not a case of &quot;what is not working&quot; per se. It is just about getting our explanations about the behavior as consistent and simple as possible.&lt;/p&gt;

&lt;p&gt;Java has the rule that all imports are standalone. Earlier ones can&apos;t be used to resolve later ones. E.g.&lt;br/&gt;
you can&apos;t have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; Map.Entry;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Groovy follows this rule for normal imports, e.g. we don&apos;t allow this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.metaclass.MemoryAwareConcurrentReadMap
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; MemoryAwareConcurrentReadMap.Entry
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apart from the first example given in the issue I think Groovy follows this rule for static imports too. My suggestion was to make the first example also follow this rule.&lt;/p&gt;

&lt;p&gt;This would be in keeping with the discussions we had when I originally made changes to support:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
println sin(123.456) * cos(456.789)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but after some discussion we rolled that change back.&lt;/p&gt;</comment>
                            <comment id="14468560" author="blackdrag" created="Tue, 29 Dec 2009 15:01:41 +0000"  >&lt;p&gt;didn&apos;t we originally allow imports like the one with MemoryAwareConcurrentReadMap?&lt;/p&gt;</comment>
                            <comment id="14468476" author="paulk" created="Tue, 29 Dec 2009 17:11:39 +0000"  >&lt;p&gt;Not that I am aware of but I haven&apos;t been following this area closely until the last 12 months or so. May have been allowed before that. Fisheye should help track it down.&lt;/p&gt;</comment>
                            <comment id="14478813" author="paulk" created="Wed, 30 Dec 2009 02:59:38 +0000"  >&lt;p&gt;Just checked with 1.5.6 and it wasn&apos;t supported then. I also tried with 1.0 but I think there was another bug in Groovy at that point that was stopping any import of inner classes.&lt;/p&gt;</comment>
                            <comment id="14478804" author="paulk" created="Wed, 30 Dec 2009 07:04:27 +0000"  >&lt;p&gt;Re-opening until we decide on desired behavior. We can just close if we end up liking the current behavior - though we need to fix non-static imports if we leave static ones the way they are.&lt;/p&gt;</comment>
                            <comment id="14468517" author="roshandawrani" created="Wed, 30 Dec 2009 12:16:13 +0000"  >&lt;p&gt;Should I make the change for non-static imports also so that MemoryAwareConcurrentReadMap example here is allowed? That way it will be consistent across static and non-static in the behavior, and not just half way be there.&lt;/p&gt;

&lt;p&gt;If we end up not liking it, we can rollback all - static (.* / .foo) and non-static, and be fully consistent on the other side.&lt;/p&gt;</comment>
                            <comment id="14468441" author="blackdrag" created="Wed, 30 Dec 2009 16:54:02 +0000"  >&lt;p&gt;I think it should be the same rules for both versions. So either allow it for both or do not. But I think we should allow it.&lt;/p&gt;</comment>
                            <comment id="14468547" author="roshandawrani" created="Thu, 31 Dec 2009 04:20:39 +0000"  >&lt;p&gt;Non-static imports are now consistent with static imports - in that they also now support resolving an import using an earlier import.&lt;/p&gt;

&lt;p&gt;Depending on the liking we take to this behavior - we can leave the behavior as is or reverse it across the board. Hope that call is taken sooner than later. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14478805" author="paulk" created="Fri, 1 Jan 2010 06:01:37 +0000"  >&lt;p&gt;I think it would be worthwhile for us to write down the current expected behavior for imports.&lt;/p&gt;

&lt;p&gt;I wasn&apos;t expecting this to work but it did:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;println sin(123.456) * cos(456.789)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// fails with &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line missing&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14468549" author="roshandawrani" created="Fri, 1 Jan 2010 06:10:20 +0000"  >&lt;p&gt;This JIRA has not introduced any changes in resolution of star-imports implicitly against default imports - as it was mentioned in this JIRA as well as in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3538&quot; title=&quot;failed to import static on default classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3538&quot;&gt;&lt;del&gt;GROOVY-3538&lt;/del&gt;&lt;/a&gt; that it was explicitly rolled-back.&lt;/p&gt;

&lt;p&gt;The only change that JIRA has introduced is resolution of import static Foo.* / import static Foo.bar / import MemoryAwareConcurrentReadMap.Entry using another explicit import in the same module.&lt;/p&gt;</comment>
                            <comment id="14478814" author="paulk" created="Fri, 1 Jan 2010 08:00:12 +0000"  >&lt;p&gt;Understood that we haven&apos;t (re)discussed star-imports yet in light of other changes. It was the ordering which surprised me. I was expecting to need to place the last line before the second one which obviously I don&apos;t at the moment. In terms of coming up with a simple mental model for explaining the behavior, I was placing the implicit star imports at the end of the imports list which was why in my mind they never affected resolution. But if order doesn&apos;t matter, perhaps the star imports should be allowed. I guess my suggestion for writing down the rules would help us make sure we have everything captured and are happy with the simplicity/complexity of the behavior. I&apos;ll have a go at writing the rules tomorrow if no-one else goes first.&lt;/p&gt;</comment>
                            <comment id="14468457" author="roshandawrani" created="Fri, 1 Jan 2010 09:07:00 +0000"  >&lt;p&gt;I think you are going by the lexical ordering in your last example. The ordering that matters here is the ordering in which ResolveVisitor resolves imports, and that is &lt;a href=&quot;#visitClass()&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ResolveVisitor#visitClass()&lt;/a&gt;: first imports and then static star/static imports.&lt;/p&gt;

&lt;p&gt;So, it does not matter whether &quot;import java.lang.Math&quot; lexically comes before or after &apos;import static Math.&lt;b&gt;&apos;. Because ResolveVisitor first resolves normal imports, it will know about java.lang.Math by the time it reaches resolve of &apos;import static Math.&lt;/b&gt;&apos;.&lt;/p&gt;</comment>
                            <comment id="14478822" author="paulk" created="Fri, 1 Jan 2010 22:32:44 +0000"  >&lt;p&gt;That&apos;s correct but is what worries me. I understand why it is happening but can&apos;t think of a nice way to explain the behavior to new users of Groovy. If I have to mention ResolveVisitor, I have failed in finding a simple explanation. Maybe it is good enough to say normal imports then static ones but it gets complicated by the fact that implicit normal imports come after static imports.&lt;/p&gt;</comment>
                            <comment id="14468656" author="roshandawrani" created="Thu, 7 Jan 2010 00:05:44 +0000"  >&lt;p&gt;Any calls on this? Whether the behavior is desired or not? &lt;/p&gt;

&lt;p&gt;I am afraid that it may become more difficult to recollect all the involved details and take a call as time passes. Isn&apos;t the best time now? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14468509" author="blackdrag" created="Thu, 7 Jan 2010 06:57:38 +0000"  >&lt;p&gt;I think it is now ok&lt;/p&gt;</comment>
                            <comment id="14468616" author="paulk" created="Thu, 7 Jan 2010 08:59:19 +0000"  >&lt;p&gt;For completeness, here is part of the original discussion:&lt;br/&gt;
&lt;a href=&quot;http://markmail.org/thread/vcnyeh462xgck42q&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/vcnyeh462xgck42q&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14478842" author="paulk" created="Fri, 8 Jan 2010 05:22:05 +0000"  >&lt;p&gt;I am happy with the improvement but wonder whether we need to take it further. E.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.*
&lt;/span&gt;println cos(12.34) * sin(56.78)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We say that java.lang.* is automatically added but here when I add it manually, it makes the example work.&lt;/p&gt;

&lt;p&gt;I know why this happens and am sure we can find a complicated explanation to help explain it but I can see on-going questions about such examples being raised in the user mailing list.&lt;/p&gt;</comment>
                            <comment id="14468659" author="roshandawrani" created="Fri, 8 Jan 2010 05:42:03 +0000"  >&lt;p&gt;If we go just by that (that java.lang.* classes are always known by default), then shouldn&apos;t the following have worked already?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
println cos(12.34) * sin(56.78)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should have never required explicit java.lang.Math.*&lt;/p&gt;

&lt;p&gt;I think it is unrelated to this issue and I don&apos;t particularly have an opinion on whether it should be supported or not. Happy either way.&lt;/p&gt;</comment>
                            <comment id="14478840" author="paulk" created="Fri, 8 Jan 2010 05:57:18 +0000"  >&lt;p&gt;Up until now we have followed Java&apos;s lead and always required imports to be fully qualified. So &quot;java.lang.*&quot; was just added to the end of the list of imports. Now we are making normal imports available for the purposes of resolving other imports I think it is best to also include the * imports in that list too. So, in the example above, yes I think we should make the 2-line version work.&lt;/p&gt;</comment>
                            <comment id="14468583" author="roshandawrani" created="Fri, 8 Jan 2010 06:07:37 +0000"  >&lt;p&gt;If I remember correctly, supporting the lookup of non-qualified imports into default imports is a change as small as switching a boolean flag.&lt;/p&gt;

&lt;p&gt;it is just a question of taking a call on whether it should now be supported. As soon as a call is taken on that, we can move on.&lt;/p&gt;</comment>
                            <comment id="14468617" author="paulk" created="Fri, 8 Jan 2010 06:29:41 +0000"  >&lt;p&gt;Yes, I believe that is correct. Flip a boolean and write a test should be enough.&lt;/p&gt;</comment>
                            <comment id="14469245" author="blackdrag" created="Mon, 5 Apr 2010 08:40:11 +0000"  >&lt;p&gt;I think we should enable the short form. It will cause more class lookups, but the user can easily avoid them by using the long form. But for me this is a new feature and as such I don&apos;t think it should go to 1.6. If the wiki is stating this exists for two years already, then the wiki should be corrected.&lt;/p&gt;</comment>
                            <comment id="14469253" author="roshandawrani" created="Mon, 5 Apr 2010 08:45:56 +0000"  >&lt;p&gt;This behavior has been out in 1.6.8 for months now. I am not sure if removing it from 1.6.9 will be a good idea.&lt;/p&gt;</comment>
                            <comment id="14479060" author="paulk" created="Mon, 5 Apr 2010 09:04:31 +0000"  >&lt;p&gt;I think this is a breaking change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; baz = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date()
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; baz = 123
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Bar
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Bar.*
println baz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Up until the recent change, this output the date regardless of whether the first line of the third class was commented out or not. Now it prints out different things.&lt;/p&gt;</comment>
                            <comment id="14479009" author="paulk" created="Mon, 5 Apr 2010 09:11:06 +0000"  >&lt;p&gt;Just checking, we did 1.7.1 and 1.6.8 on 19-Feb-2010, so breaking but only partial change has been released.&lt;br/&gt;
It still seems inconsistent to me that this doesn&apos;t work given other change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.*
println cos(12.34) * sin(56.78)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14479020" author="paulk" created="Mon, 5 Apr 2010 09:41:33 +0000"  >&lt;p&gt;Workaround for above breaking change is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Bar as Bar2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;has to be done manually for each file and requires further changes in the file to rename Bar to Bar2.&lt;/p&gt;</comment>
                            <comment id="14469223" author="roshandawrani" created="Mon, 5 Apr 2010 09:58:34 +0000"  >&lt;p&gt;import static Math.* not working is where we left the issue last it was discussed. So, it&apos;s not not-working accidentally.&lt;/p&gt;

&lt;p&gt;Reproducing here here the last 2 comments prior to today:&lt;br/&gt;
1)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;If I remember correctly, supporting the lookup of non-qualified imports into default imports is a change as small as switching a boolean flag.

it is just a question of taking a call on whether it should now be supported. As soon as a call is taken on that, we can move on.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Yes, I believe that is correct. Flip a boolean and write a test should be enough.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14469243" author="roshandawrani" created="Mon, 5 Apr 2010 10:03:53 +0000"  >&lt;p&gt;And regarding the other example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Bar
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Bar.*
println baz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Isn&apos;t the new behavior the whole point of this JIRA (the original issue raised itself)? That imports are not standalone and dependent on one another - as you also noted previously? Even in MemoryAwareConcurrentReadMap example above? It&apos;s going in circles.&lt;/p&gt;</comment>
                            <comment id="14479049" author="paulk" created="Tue, 6 Apr 2010 10:35:04 +0000"  >&lt;p&gt;Hi Roshan, apologies for my current change in thinking. I originally was keen for this change on all branches but was thinking that no existing code would break. I was mistakenly thinking that it would just allow new shorthands without potentially breaking existing running code. In hindsight (a luxury we didn&apos;t have at the time) I would have argued against putting such a change into 1_6_X. Thinking more about the static case and default imports, that is also potentially a breaking change if we assume default non-static imports are done before static ones (just replace Bar with Math in previous example), so I am no longer keen on that for 1_6_X either.&lt;/p&gt;</comment>
                            <comment id="14469231" author="roshandawrani" created="Tue, 6 Apr 2010 10:58:18 +0000"  >&lt;p&gt;Hi Paul. So, you are saying the change is a breaking one in certain scenarios but is ok for branches other than 1.6.x, is that right?&lt;/p&gt;

&lt;p&gt;But because of this peculiar situation we are in - that the comments on this issue stretched over a number of months and in between 1.6.8 got released with the change, I am not sure how good an idea it is to roll it back from 1.6.9. If we do, then we will have something that worked in 1.6.8, stops working in 1.6.9, and works again in 1.7.1+ - roller coaster behavior in versions that are not so far apart (even if the major version series changes in between).&lt;/p&gt;

&lt;p&gt;If it is worthwhile rolling back, personally, I would be in favor of rolling it back both from 1.6.x and 1.7.x and let the changed behavior be there only in 1.8.x.&lt;/p&gt;</comment>
                            <comment id="14469166" author="blackdrag" created="Tue, 6 Apr 2010 11:15:06 +0000"  >&lt;p&gt;Paul, Guillaume and myself discussed quite a while about the issue and we decided it might be best to roll it back. We found the change is breaking one and that if people &quot;fix&quot; it, then after rolling back the change, the corrected code would still work, so it would not break again. Of course it is a bit bad, that it got into 1.6.8 and 1.7.1, but I think for the future it is better to have it rolled back.&lt;/p&gt;</comment>
                            <comment id="14479037" author="paulk" created="Wed, 7 Apr 2010 09:38:44 +0000"  >&lt;p&gt;Reverted for all versions for now. We can decide whether 1.8 or 2.0 is a suitable place for this change given that it is a breaking change and would require suitable doco explaining the workarounds. Roshan, sorry for stuffing you around and not getting feedback to you earlier.&lt;/p&gt;

&lt;p&gt;For historical purposes, the change was only in 1.6.8 and 1.7.1 but no other versions of Groovy prior to 1.8 (at least if we re-introduce later).&lt;/p&gt;</comment>
                            <comment id="14469268" author="roshandawrani" created="Wed, 7 Apr 2010 10:59:54 +0000"  >&lt;p&gt;Paul, it&apos;s like seeing &quot;The End&quot; sign at the end of a long &amp;amp; ... movie, so I am happy. Not to worry. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14469290" author="blackdrag" created="Thu, 8 Apr 2010 03:32:07 +0000"  >&lt;p&gt;You mean like one of those indian movies with lots of singing and dancing, where you can sleep for a while and it is still running and you can still follow the story?&lt;/p&gt;</comment>
                            <comment id="14479425" author="paulk" created="Mon, 20 Dec 2010 06:24:06 +0000"  >&lt;p&gt;Closing for now. We can re-open a fresh issue if there is strong support for such a feature in 2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722305" name="3953_v18x_Patch.txt" size="2110" author="roshandawrani" created="Mon, 28 Dec 2009 06:54:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c6kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>