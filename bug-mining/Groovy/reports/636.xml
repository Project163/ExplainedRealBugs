<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2637] Enums error</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2637</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Test {
}

def Test

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;This empty enum gives the error:&lt;br/&gt;
Exception thrown: BUG! exception in phase &apos;semantic analysis&apos; in source unit &apos;Script86&apos; null&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12814041">GROOVY-2637</key>
            <summary>Enums error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="ccadete">ccadete</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2008 05:42:18 +0000</created>
                <updated>Thu, 10 Apr 2008 10:00:11 +0000</updated>
                            <resolved>Thu, 10 Apr 2008 10:00:11 +0000</resolved>
                                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14464397" author="standtrooper" created="Tue, 18 Mar 2008 15:28:31 +0000"  >&lt;p&gt;I have tested this in IDEA and via command line and can not replicate any exception or an issue with an empty enum.&lt;/p&gt;

&lt;p&gt;Do you have any other code that will reproduce this exception?&lt;br/&gt;
or&lt;br/&gt;
Is this fixed with the latest build?&lt;/p&gt;

&lt;p&gt;I&apos;m running against Groovy 1.5.4 &lt;/p&gt;</comment>
                            <comment id="14464460" author="musachy" created="Thu, 20 Mar 2008 21:59:56 +0000"  >&lt;p&gt;I can replicate this on trunk, the problem is in EnumVisitor lines 294, and 295, because the enum is empty tempMax and tempMin are null.&lt;/p&gt;

&lt;p&gt;here is an stack trace:&lt;/p&gt;

&lt;p&gt;BUG! exception in phase &apos;semantic analysis&apos; in source unit &apos;C:\src\groovy\groovy-core\src\test\groovy\SampleMain.groovy&apos; null&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:788)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:449)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:277)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:248)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:188)&lt;br/&gt;
	at groovy.lang.GroovyShell$2.run(GroovyShell.java:204)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at groovy.lang.GroovyShell.run(GroovyShell.java:202)&lt;br/&gt;
	at org.codehaus.groovy.classgen.MainTest.testMainMethod(MainTest.java:61)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:164)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:130)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.codehaus.groovy.ast.expr.FieldExpression.getFieldName(FieldExpression.java:45)&lt;br/&gt;
	at org.codehaus.groovy.classgen.VariableScopeVisitor.visitFieldExpression(VariableScopeVisitor.java:428)&lt;br/&gt;
	at org.codehaus.groovy.ast.expr.FieldExpression.visit(FieldExpression.java:37)&lt;br/&gt;
	at org.codehaus.groovy.ast.CodeVisitorSupport.visitBinaryExpression(CodeVisitorSupport.java:132)&lt;br/&gt;
	at org.codehaus.groovy.ast.expr.BinaryExpression.visit(BinaryExpression.java:49)&lt;br/&gt;
	at org.codehaus.groovy.ast.CodeVisitorSupport.visitExpressionStatement(CodeVisitorSupport.java:64)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitExpressionStatement(ClassCodeVisitorSupport.java:159)&lt;br/&gt;
	at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)&lt;br/&gt;
	at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:38)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:129)&lt;br/&gt;
	at org.codehaus.groovy.classgen.VariableScopeVisitor.visitBlockStatement(VariableScopeVisitor.java:347)&lt;br/&gt;
	at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:52)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:73)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:80)&lt;br/&gt;
	at org.codehaus.groovy.classgen.VariableScopeVisitor.visitConstructorOrMethod(VariableScopeVisitor.java:464)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:88)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:880)&lt;br/&gt;
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:48)&lt;br/&gt;
	at org.codehaus.groovy.classgen.VariableScopeVisitor.visitClass(VariableScopeVisitor.java:446)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit$1.call(CompilationUnit.java:536)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:784)&lt;br/&gt;
	... 26 more&lt;/p&gt;
</comment>
                            <comment id="14464444" author="musachy" created="Thu, 20 Mar 2008 22:01:12 +0000"  >&lt;p&gt;my bad, lines 294 and 303&lt;/p&gt;</comment>
                            <comment id="14464538" author="standtrooper" created="Wed, 26 Mar 2008 20:30:03 +0000"  >&lt;p&gt;my bad, I didn&apos;t update my IDE with 1.5.4 and I still had several groovy jars on my classpath.&lt;/p&gt;

&lt;p&gt;I was able to reproduce it, and locally (command and IDEA) was able to workaround the issue with&lt;br/&gt;
enum Test {&lt;br/&gt;
   Bob&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;the def Test had nothing to do with the bug issue I saw.&lt;/p&gt;

&lt;p&gt;the following will not work tho because Test is nothing, and it doesn&apos;t know that Test.Bob exists... however, I don&apos;t consider this a bug, just natural selection of Duck Typing&lt;/p&gt;

&lt;p&gt;enum Test {&lt;br/&gt;
    Bob&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;def Test&lt;br/&gt;
println Test.Bob&lt;/p&gt;</comment>
                            <comment id="14464366" author="blackdrag" created="Fri, 28 Mar 2008 06:30:23 +0000"  >&lt;p&gt;the bug is fixed in 1.6 for now. Thanks for identifying the issue, a merge to 1.5.5 will follow soon&lt;/p&gt;</comment>
                            <comment id="14464564" author="paulk" created="Sat, 29 Mar 2008 23:31:38 +0000"  >&lt;p&gt;Just tweaked the test. This fix still needs to be merged to 1.5.5 and then removed from the list of merge exclusions in CHANGESET-INFO.txt&lt;/p&gt;</comment>
                            <comment id="14464544" author="blackdrag" created="Thu, 10 Apr 2008 10:00:11 +0000"  >&lt;p&gt;the enum problem itself is fixed, but the stub generator fails to create a stub for it... another issue is filled, the stub problem is not in 1.6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ccs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>