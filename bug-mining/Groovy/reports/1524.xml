<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:21:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4732] Java5 configureClassNode does not take care of parameter annotations</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4732</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;whenever annotation parameters are specified in byte-code, the Java5 vm-plugin does not include those annotations as AnnotationNode instances when configuring a ClassNode for that particular class.&lt;/p&gt;

&lt;p&gt;the following code is from a local test-case: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;void testParameterAnnotation() { 

        GroovyClassLoader gcl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyClassLoader() 

        gcl.parseClass &quot;&quot;&quot; 
            &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.lang.annotation.* 

            @Target(ElementType.METHOD) 
            @Retention(RetentionPolicy.RUNTIME) 
            @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MethodAnnotation {} 

            @Target(ElementType.PARAMETER) 
            @Retention(RetentionPolicy.RUNTIME) 
            @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; ParameterAnnotation {} 

            &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MyInterface { 
                @MethodAnnotation 
                def method(@ParameterAnnotation def param) 
            } 
        &quot;&quot;&quot; 

        GroovyCodeSource codeSource = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyCodeSource(&quot;&quot;&quot; 
            &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyInterfaceImpl &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; MyInterface { 
                def method(def param) {} 
            } 
        &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;&quot;, &quot;&lt;/span&gt;script&lt;span class=&quot;code-quote&quot;&gt;&quot; + &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() + &quot;&lt;/span&gt;.groovy&lt;span class=&quot;code-quote&quot;&gt;&quot;, &quot;&lt;/span&gt;/groovy/script&quot;) 

        CompilationUnit cu = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CompilationUnit(CompilerConfiguration.DEFAULT, codeSource.codeSource, gcl) 
        cu.addSource(codeSource.getName(), codeSource.scriptText); 
        cu.compile(CompilePhase.FINALIZATION.phaseNumber) 

        def classNode = cu.getClassNode(&lt;span class=&quot;code-quote&quot;&gt;&quot;MyInterfaceImpl&quot;&lt;/span&gt;) 
        def interfaceClassNode = classNode.getInterfaces().find { it.nameWithoutPackage == &lt;span class=&quot;code-quote&quot;&gt;&apos;MyInterface&apos;&lt;/span&gt; } 

        def methodNode = interfaceClassNode.getDeclaredMethods(&lt;span class=&quot;code-quote&quot;&gt;&quot;method&quot;&lt;/span&gt;)[0] 

        &lt;span class=&quot;code-comment&quot;&gt;// check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the AnnotationNode &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;MethodAnnotation&apos;&lt;/span&gt; has been created 
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; methodNode.getAnnotations().any { AnnotationNode an -&amp;gt; an.classNode.nameWithoutPackage == &lt;span class=&quot;code-quote&quot;&gt;&apos;MethodAnnotation&apos;&lt;/span&gt; } 
        
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; one will fail, since parameter annotations are ignored by Java5Plugin (and above) 
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; methodNode.getParameters()[0].getAnnotations().any { AnnotationNode an -&amp;gt; an.classNode.nameWithoutPackage == &lt;span class=&quot;code-quote&quot;&gt;&apos;ParameterAnnotation&apos;&lt;/span&gt; } 
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
</description>
                <environment></environment>
        <key id="12817905">GROOVY-4732</key>
            <summary>Java5 configureClassNode does not take care of parameter annotations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="andre.steingress">Andre Steingress</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Mar 2011 10:26:09 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:00 +0000</updated>
                            <resolved>Thu, 14 Jul 2011 10:34:56 +0000</resolved>
                                                    <fixVersion>1.8.1</fixVersion>
                    <fixVersion>1.7.11</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14471093" author="blackdrag" created="Thu, 14 Apr 2011 08:02:57 +0000"  >&lt;p&gt;I make this blocker only because I want to ensure it gets in the next release, not because the issue is fatal&lt;/p&gt;</comment>
                            <comment id="14471407" author="blackdrag" created="Thu, 14 Jul 2011 10:34:56 +0000"  >&lt;p&gt;patch applied, thanks for providing it&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722739" name="java5_param_annos.patch" size="3345" author="andre.steingress" created="Thu, 17 Mar 2011 10:26:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cgfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>