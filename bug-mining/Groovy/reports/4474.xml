<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:19:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10681] Groovysh doesn&apos;t handle multiline strings with &quot;&quot;&quot; or &apos;&apos;&apos; correctly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10681</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;ve embedded a GroovySh console inside a server and using it works fine except when i try to parse multiline strings like:&lt;br/&gt;
a=&apos;&apos;&apos;Hello&lt;br/&gt;
World&apos;&apos;&apos;&lt;br/&gt;
in the console it will fail as soon as i hit enter&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
console:000&amp;gt; a=&apos;&apos;&apos;Hello
ERROR org.apache.groovy.parser.antlr4.GroovySyntaxError:
Unexpected character: &lt;span class=&quot;code-quote&quot;&gt;&apos;\&apos;&lt;/span&gt;&apos; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and it will point to the third quote on line 1&lt;br/&gt;
&#160;&lt;br/&gt;
On the server side i get this exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DEBUG [org.apache.groovy.groovysh.CommandsMultiCompleter] Refreshing the completer list
DEBUG [org.apache.groovy.groovysh.InteractiveShellRunner] Running
DEBUG [org.apache.groovy.groovysh.InteractiveShellRunner] Read line: a=&apos;&apos;&apos;Hello
DEBUG [org.apache.groovy.groovysh.antlr4.RelaxedParser] Parsing:
a=&apos;&apos;&apos;Hello
DEBUG [org.apache.groovy.groovysh.InteractiveShellRunner] Work failed: org.apache.groovy.parser.antlr4.GroovySyntaxError: Unexpected character: &lt;span class=&quot;code-quote&quot;&gt;&apos;\&apos;&lt;/span&gt;&apos;
org.apache.groovy.parser.antlr4.GroovySyntaxError: Unexpected character: &lt;span class=&quot;code-quote&quot;&gt;&apos;\&apos;&lt;/span&gt;&apos;
&#160; &#160; at org.apache.groovy.parser.antlr4.SyntaxErrorReportable.throwSyntaxError(SyntaxErrorReportable.java:64)
&#160; &#160; at org.apache.groovy.parser.antlr4.SyntaxErrorReportable.require(SyntaxErrorReportable.java:38)
&#160; &#160; at org.apache.groovy.parser.antlr4.SyntaxErrorReportable.require(SyntaxErrorReportable.java:31)
&#160; &#160; at org.apache.groovy.parser.antlr4.GroovyLexer.UNEXPECTED_CHAR_action(GroovyLexer.java:589)
&#160; &#160; at org.apache.groovy.parser.antlr4.GroovyLexer.action(GroovyLexer.java:468)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerCustomAction.execute(LexerCustomAction.java:98)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerActionExecutor.execute(LexerActionExecutor.java:172)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerATNSimulator.accept(LexerATNSimulator.java:361)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:294)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:229)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:116)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.Lexer.nextToken(Lexer.java:142)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:170)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.BufferedTokenStream.fill(BufferedTokenStream.java:488)
&#160; &#160; at groovyjarjarantlr4.v4.runtime.BufferedTokenStream$fill.call(Unknown Source)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)
&#160; &#160; at org.apache.groovy.groovysh.antlr4.RelaxedParser.parse(RelaxedParser.groovy:50)
&#160; &#160; at org.apache.groovy.groovysh.Parsing$parse.call(Unknown Source)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
&#160; &#160; at org.apache.groovy.groovysh.Parser.parse(Parser.groovy:67)
&#160; &#160; at org.apache.groovy.groovysh.Parser$parse.call(Unknown Source)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
&#160; &#160; at org.apache.groovy.groovysh.Groovysh.execute(Groovysh.groovy:190)
&#160; &#160; at org.apache.groovy.groovysh.Shell.leftShift(Shell.groovy:121)
&#160; &#160; at org.apache.groovy.groovysh.Shell$leftShift$0.call(Unknown Source)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
&#160; &#160; at org.apache.groovy.groovysh.ShellRunner.work(ShellRunner.groovy:93)
&#160; &#160; at org.apache.groovy.groovysh.InteractiveShellRunner.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$work(InteractiveShellRunner.groovy)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:568)
&#160; &#160; at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
&#160; &#160; at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
&#160; &#160; at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)
&#160; &#160; at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:144)
&#160; &#160; at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:164)
&#160; &#160; at org.apache.groovy.groovysh.InteractiveShellRunner.work(InteractiveShellRunner.groovy:157)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:568)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:193)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:61)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:176)
&#160; &#160; at org.apache.groovy.groovysh.ShellRunner.run(ShellRunner.groovy:57)
&#160; &#160; at org.apache.groovy.groovysh.InteractiveShellRunner.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$run(InteractiveShellRunner.groovy)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:568)
&#160; &#160; at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
&#160; &#160; at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
&#160; &#160; at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)
&#160; &#160; at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:144)
&#160; &#160; at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:164)
&#160; &#160; at org.apache.groovy.groovysh.InteractiveShellRunner.run(InteractiveShellRunner.groovy:116)
&#160; &#160; at java_lang_Runnable$run.call(Unknown Source)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
&#160; &#160; at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)
&#160; &#160; at org.apache.groovy.groovysh.Groovysh.run(Groovysh.groovy:658)
&#160; &#160; at pilot.server.console.GroovyShellCommand.lambda$start$0(GroovyShellCommand.java:112) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
I have discussed this over Slack with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; and he was able to reproduce this error. He commented that slashy strings works (and they do)&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a=/Hello
World/ &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and that the issue may be related to this fix: &lt;a href=&quot;https://github.com/apache/groovy/commit/c28da4be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/c28da4be&lt;/a&gt;&lt;br/&gt;
not been updated in GroovySh.&lt;br/&gt;
&#160;&lt;br/&gt;
You can check the whole conversation over slack (thread) here:&lt;br/&gt;
&lt;a href=&quot;https://groovy-community.slack.com/archives/C2NEFCM55/p1657102392749539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://groovy-community.slack.com/archives/C2NEFCM55/p1657102392749539&lt;/a&gt;&#160;&lt;/p&gt;</description>
                <environment>Mac M1&lt;br/&gt;
JVM: GraalVM CE 22.1.0 (17.0.3)&lt;br/&gt;
Groovy 3.0.9 / 3.0.10 / 3.0.11</environment>
        <key id="13470543">GROOVY-10681</key>
            <summary>Groovysh doesn&apos;t handle multiline strings with &quot;&quot;&quot; or &apos;&apos;&apos; correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="gato">Marcelo Javier Glezer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2022 13:15:18 +0000</created>
                <updated>Sat, 23 Jul 2022 21:05:47 +0000</updated>
                            <resolved>Wed, 13 Jul 2022 04:27:12 +0000</resolved>
                                    <version>3.0.9</version>
                    <version>4.0.0</version>
                    <version>3.0.11</version>
                    <version>4.0.3</version>
                                    <fixVersion>3.0.12</fixVersion>
                    <fixVersion>4.0.4</fixVersion>
                                    <component>Groovysh</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17564962" author="githubbot" created="Mon, 11 Jul 2022 11:54:59 +0000"  >&lt;p&gt;paulk-asert opened a new pull request, #1744:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1744&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &#8230;&apos;&apos; correctly&lt;/p&gt;

</comment>
                            <comment id="17566032" author="githubbot" created="Tue, 12 Jul 2022 22:09:40 +0000"  >&lt;p&gt;paulk-asert merged PR #1744:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/1744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1744&lt;/a&gt;&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16ooo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>