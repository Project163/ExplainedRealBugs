<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2205] Multiline text selection not handled correctly in GroovyConsole on execution (Windows only bug)</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2205</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Internally, java.text.Document stores text per *nix style (i.e. &apos;\n&apos; only line separator), but the getText() method returns the text using the operating systems line separator (&apos;\r\n&apos; on windows).  The console stores whatever text is in the buffer for each execution, and instead of storing the selected text it stores the indexes of the start and end of the current selection.  Unfortunately, those latter values are lost in translation.  The solution I used was to replace the OS line separator with a standard &apos;\n&apos; for the purpose of history tracking, and this cleared up the problem.&lt;/p&gt;

&lt;p&gt;Old code in Console.groovy:&lt;br/&gt;
    void runScript(EventObject evt = null) {&lt;br/&gt;
        def record = new HistoryRecord( allText: inputArea.getText(), selectionStart: textSelectionStart, selectionEnd: textSelectionEnd)&lt;br/&gt;
        addToHistory(record)&lt;br/&gt;
        // ... executes script after this&lt;/p&gt;


&lt;p&gt;Proposed new code:&lt;/p&gt;

&lt;p&gt;    void runScript(EventObject evt = null) {&lt;br/&gt;
        def endLine = System.getProperty(&apos;line.separator&apos;)&lt;br/&gt;
        def record = new HistoryRecord( allText: inputArea.getText().replace(endLine, &apos;\n&apos;),&lt;br/&gt;
                                        selectionStart: textSelectionStart,&lt;br/&gt;
                                        selectionEnd: textSelectionEnd)&lt;br/&gt;
        addToHistory(record)&lt;br/&gt;
        // ... executes script after this&lt;/p&gt;</description>
                <environment>Windows bug only</environment>
        <key id="12817253">GROOVY-2205</key>
            <summary>Multiline text selection not handled correctly in GroovyConsole on execution (Windows only bug)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="hippyod">Evan Slatis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Oct 2007 19:51:45 +0000</created>
                <updated>Sun, 5 Apr 2015 14:43:57 +0000</updated>
                            <resolved>Sat, 13 Oct 2007 22:43:34 +0000</resolved>
                                    <version>1.1-rc-1</version>
                                    <fixVersion>1.1-rc-2</fixVersion>
                                    <component>Groovysh</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14477473" author="paulk" created="Sat, 13 Oct 2007 22:43:34 +0000"  >&lt;p&gt;Fixed in HEAD&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721812" name="Console.groovy" size="28888" author="hippyod" created="Sat, 13 Oct 2007 19:51:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2btjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>