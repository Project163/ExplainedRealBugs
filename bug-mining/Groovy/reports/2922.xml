<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:46:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7523] TupleConstructor with empty includes includes all</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7523</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I know this is a bit of an edge case, but I find the behavior doesn&apos;t follow what one would expect&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; Cat.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;declaredConstructors.size() == 1  &lt;span class=&quot;code-comment&quot;&gt;// fails
&lt;/span&gt;
@groovy.transform.TupleConstructor(includes=[])
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Cat {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; age
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12848735">GROOVY-7523</key>
            <summary>TupleConstructor with empty includes includes all</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="keegan">Keegan Witt</reporter>
                        <labels>
                            <label>breaking_change</label>
                    </labels>
                <created>Thu, 23 Jul 2015 23:26:17 +0000</created>
                <updated>Tue, 2 May 2017 02:03:42 +0000</updated>
                            <resolved>Thu, 6 Aug 2015 03:17:51 +0000</resolved>
                                                    <fixVersion>2.5.0-alpha-1</fixVersion>
                                    <component>xforms</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14639692" author="keegan" created="Thu, 23 Jul 2015 23:57:24 +0000"  >&lt;p&gt;It&apos;s probably not terribly likely, but it&apos;s worth mentioning this change could theoretically break existing code.&lt;/p&gt;</comment>
                            <comment id="14639795" author="keegan" created="Fri, 24 Jul 2015 01:33:17 +0000"  >&lt;p&gt;Actually, as I&apos;m reading this more, it might be fairly involved to change (even if only we only changed &lt;tt&gt;TupleConstructorASTTransformation&lt;/tt&gt; and not &lt;tt&gt;AbstractASTTransformation.shouldSkip()&lt;/tt&gt;) because &lt;tt&gt;AbstractASTTransformation.tokenize()&lt;/tt&gt; defaults to an empty list, there&apos;s no way to tell the difference between passing an empty list and not passing anything by just inspecting the &lt;tt&gt;includes&lt;/tt&gt; list alone.&lt;/p&gt;</comment>
                            <comment id="14641561" author="paulk" created="Sat, 25 Jul 2015 11:55:01 +0000"  >&lt;p&gt;This slightly weird behavior reflects Java&apos;s slightly weird default annotation attribute behavior. In our case, we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] includes() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; {};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So you are kind of forced to handle the empty list in the way we do. But we have improved the approach in more recent transforms, e.g. in &lt;tt&gt;Builder&lt;/tt&gt; we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; builderMethodName() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Undefined.STRING;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We could introduce an undefined list and then make our code a bit cleaner and handle the empty case more appropriately.&lt;/p&gt;</comment>
                            <comment id="14641889" author="githubbot" created="Sun, 26 Jul 2015 08:39:08 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/72&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7523&quot; title=&quot;TupleConstructor with empty includes includes all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7523&quot;&gt;&lt;del&gt;GROOVY-7523&lt;/del&gt;&lt;/a&gt;: TupleConstructor with empty includes includes all&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/incubator-groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/incubator-groovy&lt;/a&gt; groovy7523&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/72.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/72.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #72&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 03c99e456245c5d1866cae8c8b7b89b2d20a6d4a&lt;br/&gt;
Author: paulk &amp;lt;paulk@asert.com.au&amp;gt;&lt;br/&gt;
Date:   2015-07-26T08:37:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7523&quot; title=&quot;TupleConstructor with empty includes includes all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7523&quot;&gt;&lt;del&gt;GROOVY-7523&lt;/del&gt;&lt;/a&gt;: TupleConstructor with empty includes includes all&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14641891" author="paulk" created="Sun, 26 Jul 2015 08:52:07 +0000"  >&lt;p&gt;PR#72 outlines what I meant by using the undefined list approach. We&apos;d ultimately want to extend that approach to all of the affected transforms (just under 10 of them I think).&lt;/p&gt;</comment>
                            <comment id="14647256" author="githubbot" created="Thu, 30 Jul 2015 06:35:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-groovy/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-groovy/pull/72&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14659407" author="paulk" created="Thu, 6 Aug 2015 03:18:43 +0000"  >&lt;p&gt;This is a breaking change for the specific edge case of explicitly providing an empty includes. If affected by this change, remove the explicit includes or use the marker value as per the respective annotation definitions.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12850204">GROOVY-7529</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hvaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>