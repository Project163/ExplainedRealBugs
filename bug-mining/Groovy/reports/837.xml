<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:09:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3205] Cannot override toString() in a &quot;mapOfClosures as AClass&quot; implementation</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3205</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I am unable to override toString() when I coerce a map-of-closures as a class. This works on 1.5.8 but not on 1.6-rc-1 and 1.7-beta-1 branches. The code below highlights the issue:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GroovyXXXXBug &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyTestCase {
	def void testOverrideToStringInMapOfClosuresAsClass() {
		def subObj = [ toString: { &lt;span class=&quot;code-quote&quot;&gt;&quot;Sub toString()&quot;&lt;/span&gt; } ] as GroovyXXXXBugBase
		&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; subObj.toString() == &lt;span class=&quot;code-quote&quot;&gt;&quot;Sub toString()&quot;&lt;/span&gt;
	}
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GroovyXXXXBugBase {
   &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() { &lt;span class=&quot;code-quote&quot;&gt;&quot;Base toString()&quot;&lt;/span&gt; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The code generated by ProxyGenerator for the overridden toString() method looks as below, which is not correct because of the extra args parameter and because of it the toString() gets overloaded and not overridden:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def toString(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] args) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.@closureMap[&lt;span class=&quot;code-quote&quot;&gt;&apos;toString&apos;&lt;/span&gt;] (*args)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12814458">GROOVY-3205</key>
            <summary>Cannot override toString() in a &quot;mapOfClosures as AClass&quot; implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="roshandawrani">Roshan Dawrani</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Dec 2008 22:12:52 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:59 +0000</updated>
                            <resolved>Fri, 19 Dec 2008 06:02:08 +0000</resolved>
                                    <version>1.6-beta-2</version>
                                    <fixVersion>1.6-rc-1</fixVersion>
                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14465975" author="paulk" created="Tue, 16 Dec 2008 05:35:09 +0000"  >&lt;p&gt;Spotted the issue. We specifically exclude java.lang.Object methods. It is easy to handle direct case where such methods are overriden. I&apos;ll add a change for that. I&apos;ll think a little further about such methods further up the inheritance hierarchy.&lt;/p&gt;</comment>
                            <comment id="14465858" author="paulk" created="Tue, 16 Dec 2008 05:53:37 +0000"  >&lt;p&gt;Roshan, want to try trunk? See if you think it behaves OK.&lt;/p&gt;</comment>
                            <comment id="14465811" author="roshandawrani" created="Tue, 16 Dec 2008 11:28:18 +0000"  >&lt;p&gt;Tried the changes done to trunk for this issue and it seems to be working fine now. Can override toString() again.&lt;/p&gt;</comment>
                            <comment id="14465948" author="guillaume" created="Tue, 16 Dec 2008 11:34:02 +0000"  >&lt;p&gt;So the issue should be closed now?&lt;/p&gt;</comment>
                            <comment id="14465887" author="roshandawrani" created="Tue, 16 Dec 2008 11:42:36 +0000"  >&lt;p&gt;The implementation on the trunk fixes the issue but:&lt;/p&gt;

&lt;p&gt;1) It has not been implemented on 1.6-rc-1 branch yet.&lt;/p&gt;

&lt;p&gt;2) Paul&apos;s comments on trunk say &quot;initial fix - perhaps a more elaborate fix and test to come&quot;. If he wants to fix it more elaborately, you may want to leave it open for that.&lt;/p&gt;

&lt;p&gt;From my side, I see it fixed. As soon as it is marked fixed (indicating that from Paul&apos;s side it is done), I can close it from my side.&lt;/p&gt;</comment>
                            <comment id="14465857" author="guillaume" created="Tue, 16 Dec 2008 11:45:39 +0000"  >&lt;p&gt;Okie dokie, thanks Roshan for the clarifications.&lt;/p&gt;</comment>
                            <comment id="14478363" author="paulk" created="Tue, 16 Dec 2008 17:55:34 +0000"  >&lt;p&gt;There is still a case not covered. If you have &lt;tt&gt;Parent extends Child&lt;/tt&gt; and &lt;tt&gt;Child&lt;/tt&gt; has an explicit &lt;tt&gt;Object&lt;/tt&gt; method, e.g. &lt;tt&gt;toString()&lt;/tt&gt;, it won&apos;t be overridden. I plan to have a look at that tonight.&lt;/p&gt;</comment>
                            <comment id="14478369" author="paulk" created="Fri, 19 Dec 2008 06:02:07 +0000"  >&lt;p&gt;Aligned behavior to be the same as for ConvertedMap behavior. Added test. Ported most of the behavior to the 1.5 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bxpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>