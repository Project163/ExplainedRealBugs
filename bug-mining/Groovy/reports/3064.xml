<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:51:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7697] GroovyScriptEngine.loadScriptByName doesn&apos;t support environment variable &quot;groovy.ast&quot;</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7697</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When setting the environment variable &quot;groovy.ast&quot; to &quot;xml&quot; and calling GroovyScriptEngine.loadScriptByName  a FileNotFoundException is thrown (which is caught internally), because a FileWriter is created from a String representation of an URI.&lt;/p&gt;

&lt;p&gt;In class SourceUnit method saveAsXML there should be some code added like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileWriter writer;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (name.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&quot;&lt;/span&gt;)) {
  writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileWriter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(name + &lt;span class=&quot;code-quote&quot;&gt;&quot;.xml&quot;&lt;/span&gt;)));
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
  writer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileWriter(name + &lt;span class=&quot;code-quote&quot;&gt;&quot;.xml&quot;&lt;/span&gt;)
}
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or however URIs are handled in Groovy. Exception handling still has to be added.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12917260">GROOVY-7697</key>
            <summary>GroovyScriptEngine.loadScriptByName doesn&apos;t support environment variable &quot;groovy.ast&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="m.ewert">Marc Ewert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Dec 2015 14:35:40 +0000</created>
                <updated>Wed, 1 Feb 2017 23:18:47 +0000</updated>
                            <resolved>Thu, 7 Jul 2016 20:34:02 +0000</resolved>
                                                    <fixVersion>2.4.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15275316" author="githubbot" created="Sat, 7 May 2016 17:23:44 +0000"  >&lt;p&gt;GitHub user andresteingress opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/330&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7697&quot; title=&quot;GroovyScriptEngine.loadScriptByName doesn&amp;#39;t support environment variable &amp;quot;groovy.ast&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7697&quot;&gt;&lt;del&gt;GROOVY-7697&lt;/del&gt;&lt;/a&gt;: GroovyScriptEngine.loadScriptByName doesn&apos;t support envi&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;ronment variable &quot;groovy.ast&quot;&lt;/p&gt;

&lt;p&gt;    This PR fixes an issue where the &quot;groovy.ast&quot; dump (only god, its author and the ticket author knew this existed) would not be saved when a script was loaded by name via the GSE. In that case, the `XStreamUtils` instance was given an URI (String) instead of an absolute path and the code there broke.&lt;/p&gt;

&lt;p&gt;    Regarding error handling in `XStreamUtils` (as this was also mentioned in the ticket): I did not change anything into that direction as I am not convinced that such a secondary &quot;add-on&quot; feature should in any way influence behaviour in `SourceUnit#convert`.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andresteingress/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/andresteingress/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7697&quot; title=&quot;GroovyScriptEngine.loadScriptByName doesn&amp;#39;t support environment variable &amp;quot;groovy.ast&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7697&quot;&gt;&lt;del&gt;GROOVY-7697&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/330.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/330.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #330&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 70fee35eef16dd68128410a5f51e1ed94742b47a&lt;br/&gt;
Author: Andre Steingress &amp;lt;me@andresteingress.com&amp;gt;&lt;br/&gt;
Date:   2016-05-07T16:58:39Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7697&quot; title=&quot;GroovyScriptEngine.loadScriptByName doesn&amp;#39;t support environment variable &amp;quot;groovy.ast&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7697&quot;&gt;&lt;del&gt;GROOVY-7697&lt;/del&gt;&lt;/a&gt;: GroovyScriptEngine.loadScriptByName doesn&apos;t support environment variable &quot;groovy.ast&quot;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15366653" author="githubbot" created="Thu, 7 Jul 2016 19:38:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/330&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15366718" author="jwagenleitner" created="Thu, 7 Jul 2016 20:34:02 +0000"  >&lt;p&gt;Merged PR from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andresteingress&quot; class=&quot;user-hover&quot; rel=&quot;andresteingress&quot;&gt;andresteingress&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for reporting the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2p493:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>