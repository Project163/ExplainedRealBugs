<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8360] Enums that are nested classes do not have the static modifier set</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8360</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;In java, enums that are nested classes have the static modifier set i.e. if Bar is an enum defined within a class Foo, &lt;tt&gt;assert Modifier.isStatic(Foo.Bar.modifiers)&lt;/tt&gt; passes. The assertion does not hold if Foo and Bar are defined in groovy:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {
    &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Bar {
        X
    }
}
            
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; java.lang.reflect.Modifier.isStatic(Foo.Bar.modifiers)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This can be problematic in cases like &lt;a href=&quot;https://mongodb.github.io/morphia/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mongodb.github.io/morphia/&lt;/a&gt;, where the type of a mapped field cannot be a non-static inner class. Of course that library could also be more enum-aware when validating mapped fields, but that&apos;s a separate issue. &lt;/p&gt;

&lt;p&gt;A simple workaround for this issue is to explicitly declare the enum as static, so it&apos;s not critical that a patch for this be in 2.4.X if it&apos;s considered a breaking change (though no tests fail with the change.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13110841">GROOVY-8360</key>
            <summary>Enums that are nested classes do not have the static modifier set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shils">Shil Sinha</assignee>
                                    <reporter username="shils">Shil Sinha</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Oct 2017 00:11:31 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:51 +0000</updated>
                            <resolved>Mon, 13 Nov 2017 03:47:08 +0000</resolved>
                                    <version>3.x</version>
                    <version>2.6.0-alpha-1</version>
                    <version>2.4.12</version>
                    <version>2.5.0-beta-2</version>
                                    <fixVersion>2.5.0-beta-3</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16211972" author="githubbot" created="Fri, 20 Oct 2017 00:20:27 +0000"  >&lt;p&gt;GitHub user shils opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/619&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/619&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8360&quot; title=&quot;Enums that are nested classes do not have the static modifier set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8360&quot;&gt;&lt;del&gt;GROOVY-8360&lt;/del&gt;&lt;/a&gt;: Enums that are inner classes should have the static clas&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;s modifier&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/shils/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shils/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8360&quot; title=&quot;Enums that are nested classes do not have the static modifier set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8360&quot;&gt;&lt;del&gt;GROOVY-8360&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/619.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/619.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #619&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8a0d193ba392d5a5e3ec417d1e708d4cee856627&lt;br/&gt;
Author: Shil Sinha &amp;lt;shil.sinha@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-10-19T22:37:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8360&quot; title=&quot;Enums that are nested classes do not have the static modifier set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8360&quot;&gt;&lt;del&gt;GROOVY-8360&lt;/del&gt;&lt;/a&gt;: Enums that are inner classes should have the static class modifier&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16216167" author="githubbot" created="Tue, 24 Oct 2017 01:18:10 +0000"  >&lt;p&gt;Github user shils commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/619#discussion_r146433436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/619#discussion_r146433436&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/test/gls/enums/EnumTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -592,6 +592,80 @@ class EnumTest extends CompilableTestSupport &lt;/p&gt;
{
                 assert UsState.ID.toString() == &apos;Idaho&apos;
             &apos;&apos;&apos;
         }
&lt;p&gt;    +&lt;br/&gt;
    +    void testNestedEnumHasStaticModifier_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                enum Bar {&lt;br/&gt;
    +                    X(&apos;x&apos;), Y&lt;br/&gt;
    +                    String s&lt;br/&gt;
    +                    Bar(String s) &lt;/p&gt;
{ this.s = s }&lt;br/&gt;
    +                    Bar() {}&lt;br/&gt;
    +                }&lt;br/&gt;
    +            }            &lt;br/&gt;
    +            assert java.lang.reflect.Modifier.isStatic(Foo.Bar.modifiers)&lt;br/&gt;
    +            assert Foo.Bar.X.s == &apos;x&apos;&lt;br/&gt;
    +        &apos;&apos;&apos;&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    void testEnumWithinInnerClassHasStaticModifier_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                class Baz {&lt;br/&gt;
    +                    enum Bar {&lt;br/&gt;
    +                        X(&apos;x&apos;), Y                                                                        &lt;br/&gt;
    +                        String s                                                                                                &lt;br/&gt;
    +                        Bar(String s) { this.s = s }
&lt;p&gt;    +                        Bar() {}                                                &lt;br/&gt;
    +                    }                &lt;br/&gt;
    +                }&lt;br/&gt;
    +            }            &lt;br/&gt;
    +            assert java.lang.reflect.Modifier.isStatic(Foo.Baz.Bar.modifiers)&lt;br/&gt;
    +            assert Foo.Baz.Bar.X.s == &apos;x&apos;&lt;br/&gt;
    +        &apos;&apos;&apos;&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    void testNestedEnumHasStaticModifierSC_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            @groovy.transform.CompileStatic&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                enum Bar {&lt;br/&gt;
    +                    X(&apos;x&apos;), Y&lt;br/&gt;
    +                    String s&lt;br/&gt;
    +                    Bar(String s) &lt;/p&gt;
{ this.s = s }
&lt;p&gt;    +                    Bar() {}&lt;br/&gt;
    +                }&lt;br/&gt;
    +            }          &lt;br/&gt;
    +            @groovy.transform.CompileStatic&lt;br/&gt;
    +            void test() {&lt;br/&gt;
    +                assert java.lang.reflect.Modifier.isStatic(Foo.Bar.getModifiers())&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Unrelated to this issue - property style getter calls on Enum classes throw NoSuchFieldErrors at runtime when statically compiled.&lt;/p&gt;</comment>
                            <comment id="16226714" author="githubbot" created="Tue, 31 Oct 2017 12:46:55 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/619#discussion_r147980977&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/619#discussion_r147980977&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/test/gls/enums/EnumTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -592,6 +592,80 @@ class EnumTest extends CompilableTestSupport &lt;/p&gt;
{
                 assert UsState.ID.toString() == &apos;Idaho&apos;
             &apos;&apos;&apos;
         }
&lt;p&gt;    +&lt;br/&gt;
    +    void testNestedEnumHasStaticModifier_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                enum Bar {&lt;br/&gt;
    +                    X(&apos;x&apos;), Y&lt;br/&gt;
    +                    String s&lt;br/&gt;
    +                    Bar(String s) &lt;/p&gt;
{ this.s = s }&lt;br/&gt;
    +                    Bar() {}&lt;br/&gt;
    +                }&lt;br/&gt;
    +            }            &lt;br/&gt;
    +            assert java.lang.reflect.Modifier.isStatic(Foo.Bar.modifiers)&lt;br/&gt;
    +            assert Foo.Bar.X.s == &apos;x&apos;&lt;br/&gt;
    +        &apos;&apos;&apos;&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    void testEnumWithinInnerClassHasStaticModifier_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                class Baz {&lt;br/&gt;
    +                    enum Bar {&lt;br/&gt;
    +                        X(&apos;x&apos;), Y                                                                        &lt;br/&gt;
    +                        String s                                                                                                &lt;br/&gt;
    +                        Bar(String s) { this.s = s }
&lt;p&gt;    +                        Bar() {}                                                &lt;br/&gt;
    +                    }                &lt;br/&gt;
    +                }&lt;br/&gt;
    +            }            &lt;br/&gt;
    +            assert java.lang.reflect.Modifier.isStatic(Foo.Baz.Bar.modifiers)&lt;br/&gt;
    +            assert Foo.Baz.Bar.X.s == &apos;x&apos;&lt;br/&gt;
    +        &apos;&apos;&apos;&lt;br/&gt;
    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    void testNestedEnumHasStaticModifierSC_GROOVY_8360() {&lt;br/&gt;
    +        assertScript &apos;&apos;&apos;&lt;br/&gt;
    +            @groovy.transform.CompileStatic&lt;br/&gt;
    +            class Foo {&lt;br/&gt;
    +                enum Bar {&lt;br/&gt;
    +                    X(&apos;x&apos;), Y&lt;br/&gt;
    +                    String s&lt;br/&gt;
    +                    Bar(String s) &lt;/p&gt;
{ this.s = s }
&lt;p&gt;    +                    Bar() {}&lt;br/&gt;
    +                }&lt;br/&gt;
    +            }          &lt;br/&gt;
    +            @groovy.transform.CompileStatic&lt;br/&gt;
    +            void test() {&lt;br/&gt;
    +                assert java.lang.reflect.Modifier.isStatic(Foo.Bar.getModifiers())&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I created &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt; for this. I can&apos;t at first glance see a reason why we&apos;d not support this with @CS.&lt;/p&gt;</comment>
                            <comment id="16239107" author="githubbot" created="Sat, 4 Nov 2017 17:13:02 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/619&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/619&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lhs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>