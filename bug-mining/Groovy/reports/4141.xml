<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:13:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3015] Seems like ClosureMetaClass#invokeMethod does not respect the interceptable nature of the owner/delegate</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3015</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Sample program and output. The closure and the method both call &apos;outer&apos;&lt;br/&gt;
which calls &apos;inner&apos;, but the closure does NOT trace the call to &apos;outer&apos;&lt;/p&gt;

&lt;p&gt;See comments, including Jochen &quot;blackdrag&quot; Theodorou&apos;s  at&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/implementing-GroovyInterceptable-behaves-differently-in-closures-and-methods-td19072057.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/implementing-GroovyInterceptable-behaves-differently-in-closures-and-methods-td19072057.html&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;************program output&lt;/p&gt;

&lt;p&gt;  Entering shouldTraceOuterAndInnerClosure&lt;br/&gt;
    Entering inner&lt;br/&gt;
    Leaving inner&lt;br/&gt;
  Leaving shouldTraceOuterAndInnerClosure&lt;/p&gt;

&lt;p&gt;  Entering shouldTraceOuterAndInnerMethod&lt;br/&gt;
    Entering outer&lt;br/&gt;
      Entering inner&lt;br/&gt;
      Leaving inner&lt;br/&gt;
    Leaving outer&lt;br/&gt;
  Leaving shouldTraceOuterAndInnerMethod&lt;/p&gt;

&lt;p&gt;*************end program output&lt;/p&gt;

&lt;p&gt;****************code starts&lt;br/&gt;
import org.codehaus.groovy.runtime.StringBufferWriter&lt;br/&gt;
import org.codehaus.groovy.runtime.InvokerHelper&lt;/p&gt;

&lt;p&gt;class Traceable implements GroovyInterceptable {&lt;br/&gt;
    private static int indent = 1&lt;br/&gt;
    Writer writer = new PrintWriter(System.out)&lt;br/&gt;
    Object invokeMethod(String name, Object args) &lt;/p&gt;
{
        def result
        def metaClass = InvokerHelper.getMetaClass(this)
        writer.write(&quot;\n&quot; + &apos;  &apos; * indent + &quot;Entering $name&quot;)
        ++indent
        result = metaClass.invokeMethod(this, name, args)
        --indent
        writer.write(&quot;\n&quot; + &apos;  &apos; * indent + &quot;Leaving $name&quot;)
        return result
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;class Whatever extends Traceable {&lt;br/&gt;
    int outer() &lt;/p&gt;
{
        return inner()
    }

&lt;p&gt;    int inner() &lt;/p&gt;
{
        return 1
    }

&lt;p&gt;    def shouldTraceOuterAndInnerClosure = &lt;/p&gt;
{
        return outer()
    }&lt;br/&gt;
   &lt;br/&gt;
    int shouldTraceOuterAndInnerMethod() {        return outer()    }

&lt;p&gt;}&lt;/p&gt;


&lt;p&gt;def log = new StringBuffer()&lt;br/&gt;
def traceMe = new Whatever(writer : new StringBufferWriter(log))&lt;/p&gt;

&lt;p&gt;traceMe.shouldTraceOuterAndInnerClosure()&lt;/p&gt;

&lt;p&gt;traceMe.shouldTraceOuterAndInnerMethod()&lt;/p&gt;

&lt;p&gt;println log.toString()&lt;/p&gt;

&lt;p&gt;****************&lt;b&gt;program ends&lt;/b&gt;*************&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="12817862">GROOVY-3015</key>
            <summary>Seems like ClosureMetaClass#invokeMethod does not respect the interceptable nature of the owner/delegate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="erickerickson">Erick Erickson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Aug 2008 10:32:52 +0000</created>
                <updated>Thu, 3 Feb 2022 22:34:40 +0000</updated>
                            <resolved>Tue, 18 May 2021 13:41:20 +0000</resolved>
                                    <version>1.5.6</version>
                                    <fixVersion>4.0.0-beta-1</fixVersion>
                    <fixVersion>3.0.9</fixVersion>
                                    <component>groovy-runtime</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12814004">GROOVY-2503</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c5i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>