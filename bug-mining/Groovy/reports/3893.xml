<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:09:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9704] The &apos;~&apos; negate operator causes an ASM processing error when static compiled</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9704</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.my_example
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestNegate { 
 &#160; &#160;void xxx() {
          &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; yyy
     &#160; &#160; &#160; yyy = ~yyy
     }
}
def testNegate = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TestNegate()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Cause the following error in the compiler:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;groovy.lang.GroovyRuntimeException: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; com.my_example.TestNegate#xxx with signature void xxx() in Script_ca3a8a63b69e01cd97876825de2f258e.groovy:8. Script_ca3a8a63b69e01cd97876825de2f258e.groovy
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
Caused by: java.lang.NegativeArraySizeException: -1
at groovyjarjarasm.asm.Frame.merge(Frame.java:1222)
at groovyjarjarasm.asm.MethodWriter.computeAllFrames(MethodWriter.java:1610)
at groovyjarjarasm.asm.MethodWriter.visitMaxs(MethodWriter.java:1546)
... 3 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Window 10, Groovy 3.05, Java 13.0.2 2020-01-14. Ran from GroovyConsole, but problem occurs when building from Gradle as well.</environment>
        <key id="13325087">GROOVY-9704</key>
            <summary>The &apos;~&apos; negate operator causes an ASM processing error when static compiled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="holley256">Eric Holley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Aug 2020 22:24:09 +0000</created>
                <updated>Thu, 11 Mar 2021 13:41:18 +0000</updated>
                            <resolved>Tue, 1 Sep 2020 08:52:38 +0000</resolved>
                                    <version>2.4.20</version>
                    <version>3.0.5</version>
                    <version>2.5.13</version>
                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                    <fixVersion>2.4.21</fixVersion>
                    <fixVersion>2.5.14</fixVersion>
                    <fixVersion>3.0.6</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17188275" author="paulk" created="Tue, 1 Sep 2020 08:52:38 +0000"  >&lt;p&gt;Merged on all the branches. At this stage we weren&apos;t planning on another 2.4 release but it&apos;s there in case we do.&lt;/p&gt;</comment>
                            <comment id="17297972" author="space2man" created="Tue, 9 Mar 2021 09:48:40 +0000"  >&lt;p&gt;Starting with Groovy 3.0.6 I see the following error on one of my projects. My guess is that it&apos;s related to this fix.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
General error during instruction selection: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; com.dxc.eis.SSDConnector.SSDConnector$_processQueue_closure1#doCall with signature java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;) in SSDConnector.groovy:184. /home/jogi/IdeaProjects/SSDConnector/src/main/groovy/com/dxc/eis/SSDConnector/SSDConnector.groovyGeneral error during instruction selection: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; com.dxc.eis.SSDConnector.SSDConnector$_processQueue_closure1#doCall with signature java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;) in SSDConnector.groovy:184. /home/jogi/IdeaProjects/SSDConnector/src/main/groovy/com/dxc/eis/SSDConnector/SSDConnector.groovygroovy.lang.GroovyRuntimeException: ASM reporting processing error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; com.dxc.eis.SSDConnector.SSDConnector$_processQueue_closure1#doCall with signature java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;) in SSDConnector.groovy:184. /home/jogi/IdeaProjects/SSDConnector/src/main/groovy/com/dxc/eis/SSDConnector/SSDConnector.groovy at org.codehaus.groovy.classgen.AsmClassGenerator.visitConstructorOrMethod(AsmClassGenerator.java:431) at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:106) at org.codehaus.groovy.classgen.AsmClassGenerator.visitMethod(AsmClassGenerator.java:537) at org.codehaus.groovy.ast.ClassNode.visitMethods(ClassNode.java:1099) at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1092) at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:52) at org.codehaus.groovy.classgen.AsmClassGenerator.visitClass(AsmClassGenerator.java:270) at org.codehaus.groovy.control.CompilationUnit$3.call(CompilationUnit.java:797) at org.codehaus.groovy.control.CompilationUnit$3.call(CompilationUnit.java:813) at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:942) at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:671) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:635) at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:610) at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:277) at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:67) at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:98) at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:77) at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135) at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63) at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49) at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43) at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97) at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43) at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49) at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30) at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:85) at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:55) at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138) at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41) at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182) at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164) at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414) at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64) at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56) at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; length 0 at groovyjarjarasm.asm.Frame.merge(Frame.java:1268) at groovyjarjarasm.asm.Frame.merge(Frame.java:1244) at groovyjarjarasm.asm.MethodWriter.computeAllFrames(MethodWriter.java:1610) at groovyjarjarasm.asm.MethodWriter.visitMaxs(MethodWriter.java:1546) at org.codehaus.groovy.classgen.AsmClassGenerator.visitConstructorOrMethod(AsmClassGenerator.java:412) ... 44 more1 error&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt&gt;Shall I open a new issue for that?&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17298100" author="emilles" created="Tue, 9 Mar 2021 14:45:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Space2Man&quot; class=&quot;user-hover&quot; rel=&quot;Space2Man&quot;&gt;Space2Man&lt;/a&gt; Yes, can you open a new issue with a minimal recreation script or project?&lt;/p&gt;</comment>
                            <comment id="17299473" author="britter" created="Thu, 11 Mar 2021 10:24:41 +0000"  >&lt;p&gt;I&apos;m also seeing this with Groovy 3 for a line that looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; value = someVar++
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I currently don&apos;t have a simple reproducer for that but may be able to create one.&lt;/p&gt;</comment>
                            <comment id="17299568" author="space2man" created="Thu, 11 Mar 2021 13:41:18 +0000"  >&lt;p&gt;I openend issue &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9978&quot; title=&quot;ASM reporting processing error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9978&quot;&gt;&lt;del&gt;GROOVY-9978&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0i6fk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>