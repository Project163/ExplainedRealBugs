<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:27:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5543] Grab a Module Extension fails to match Map objects</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5543</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;There seems to be an issue with Modular Extensions not selecting the correct classes to decorate when @Grabbed&lt;/p&gt;

&lt;p&gt;In my groovy-stream project, I define my extension class as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; groovy.stream ;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.lang.Closure ;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.* ;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;StreamExtension {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Stream toStream( Closure delegate ) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Stream.from( delegate ) ;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Stream toStream( Iterator delegate ) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Stream.from( delegate ) ;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Stream toStream( Iterable delegate ) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Stream.from( delegate ) ;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Stream toStream( Map delegate ) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Stream.from( delegate ) ;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you then run a test class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def m = [ x:1..3, y:5..7 ].toStream().where { x + 4 == y }
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; [[x:1,y:5],[x:2,y:6],[x:3,y:7]] == m.collect()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;tt&gt;groovy -cp groovy-stream-0.3-map.jar testscript.groovy&lt;/tt&gt;, it all works fine, however if you push the jar to a maven repo, and change the test script to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@GrabResolver( name=&lt;span class=&quot;code-quote&quot;&gt;&apos;bloidonia&apos;&lt;/span&gt;, root=&lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//raw.github.com/timyates/bloidonia-repo/master&apos;&lt;/span&gt; )
&lt;/span&gt;@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;com.bloidonia:groovy-stream:0.3-map&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.stream.Stream 

def m = [ x:1..3, y:5..7 ].toStream().where { x + 4 == y }
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; [[x:1,y:5],[x:2,y:6],[x:3,y:7]] == m.collect()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then running &lt;tt&gt;groovy testscript.groovy&lt;/tt&gt;, you get the exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caught: groovy.lang.MissingMethodException: No signature of method: java.util.LinkedHashMap.toStream() is applicable &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; argument types: () values: []
Possible solutions: toString(), toString(), toString(), toString(), toSpreadMap(), spread()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I change the extension class so that the Map function is replaced with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Stream toStream( LinkedHashMap delegate ) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Stream.from( delegate ) ;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then running:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@GrabResolver( name=&lt;span class=&quot;code-quote&quot;&gt;&apos;bloidonia&apos;&lt;/span&gt;, root=&lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//raw.github.com/timyates/bloidonia-repo/master&apos;&lt;/span&gt; )
&lt;/span&gt;@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;com.bloidonia:groovy-stream:0.3&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.stream.Stream 

def m = [ x:1..3, y:5..7 ].toStream().where { x + 4 == y }
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; [[x:1,y:5],[x:2,y:6],[x:3,y:7]] == m.collect()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Works.&lt;/p&gt;</description>
                <environment>Snow Leopard OS X with Java 1.6</environment>
        <key id="12816337">GROOVY-5543</key>
            <summary>Grab a Module Extension fails to match Map objects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="tim_yates">Tim Yates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jun 2012 04:53:41 +0000</created>
                <updated>Thu, 26 Jul 2012 16:49:41 +0000</updated>
                            <resolved>Mon, 25 Jun 2012 09:35:20 +0000</resolved>
                                    <version>2.0-rc-4</version>
                                    <fixVersion>2.0.1</fixVersion>
                                    <component>Grape</component>
                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14472928" author="tim_yates" created="Fri, 22 Jun 2012 04:55:19 +0000"  >&lt;p&gt;Original user list mails are here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://groovy.329449.n5.nabble.com/Strange-Bug-With-2-0-Module-Extension-and-Grab-td5710306.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.329449.n5.nabble.com/Strange-Bug-With-2-0-Module-Extension-and-Grab-td5710306.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14472895" author="tim_yates" created="Fri, 22 Jun 2012 08:38:15 +0000"  >&lt;p&gt;Had to add ArrayList to my extension methods (I believe for the same issue)&lt;/p&gt;</comment>
                            <comment id="14472914" author="melix" created="Mon, 25 Jun 2012 09:35:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/groovy/groovy-core/commit/47200caea23b4b53a190c2213a6a755d375019b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/commit/47200caea23b4b53a190c2213a6a755d375019b9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cj5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>