<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:27:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11770] StackOverflowError processing generics for kubernetes-client library</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11770</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When processing a file using the kubernetes-client library, the Groovy compiler recurses endlessly parsing the generics.&lt;/p&gt;

&lt;p&gt;Repo:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/paulk-asert/kubernetes_client_stackoverflow&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/kubernetes_client_stackoverflow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is just a reproducer which excludes Grails from this Grails issue/repo:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/grails-core/issues/15082&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/grails-core/issues/15082&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/jdaugherty/grails-issue-stackoverflow-on-compile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jdaugherty/grails-issue-stackoverflow-on-compile&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13630594">GROOVY-11770</key>
            <summary>StackOverflowError processing generics for kubernetes-client library</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Oct 2025 08:04:36 +0000</created>
                <updated>Wed, 8 Oct 2025 04:59:07 +0000</updated>
                            <resolved>Wed, 8 Oct 2025 04:57:25 +0000</resolved>
                                                    <fixVersion>4.0.29</fixVersion>
                    <fixVersion>5.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="18024421" author="paulk" created="Fri, 3 Oct 2025 08:06:48 +0000"  >&lt;p&gt;Repeating some of the info in the source file and README.md file.&lt;/p&gt;

&lt;p&gt;Code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.fabric8.kubernetes.api.model.Pod
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; io.fabric8.kubernetes.api.model.batch.v1.Job

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JobController {
    &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; show(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; jobNamespace, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; jobName) {
        Job job = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        Pod lastPod = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        [name: jobName, job: job, lastPod: lastPod]
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  ...
  at org.codehaus.groovy.ast.tools.WideningCategories.lowestUpperBound(WideningCategories.java:232)
  at org.codehaus.groovy.ast.tools.WideningCategories.parameterizeLowestUpperBound(WideningCategories.java:276)

  at org.codehaus.groovy.ast.tools.WideningCategories.lowestUpperBound(WideningCategories.java:232)
  at org.codehaus.groovy.ast.tools.WideningCategories.parameterizeLowestUpperBound(WideningCategories.java:276)
  ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Variables:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;icn[0/1] = io.fabric8.kubernetes.api.builder.VisitableBuilder&amp;lt;io.fabric8.kubernetes.api.model.batch.v1.Job, io.fabric8.kubernetes.api.model.batch.v1.JobBuilder&amp;gt;
    -&amp;gt; io.fabric8.kubernetes.api.builder.VisitableBuilder&amp;lt;T, V extends io.fabric8.kubernetes.api.builder.VisitableBuilder&amp;lt;T, V&amp;gt;&amp;gt;
a = io.fabric8.kubernetes.api.model.batch.v1.JobBuilder
b = io.fabric8.kubernetes.api.model.PodBuilder
lub = (io.fabric8.kubernetes.api.builder.BaseFluent
    or io.fabric8.kubernetes.api.builder.VisitableBuilder)

icn[0/3] = io.fabric8.kubernetes.api.builder.Editable&amp;lt;io.fabric8.kubernetes.api.model.batch.v1.JobBuilder&amp;gt;
    -&amp;gt; io.fabric8.kubernetes.api.builder.Editable&amp;lt;T&amp;gt;
a = io.fabric8.kubernetes.api.model.batch.v1.Job
b = io.fabric8.kubernetes.api.model.Pod
lub = (io.fabric8.kubernetes.api.builder.Editable
    or io.fabric8.kubernetes.api.model.HasMetadata
    or io.fabric8.kubernetes.api.model.Namespaced)

... repeats ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18024422" author="paulk" created="Fri, 3 Oct 2025 08:11:25 +0000"  >&lt;p&gt;Relevant class definitions:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.model.batch.v1;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Job &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Editable&amp;lt;JobBuilder&amp;gt;, HasMetadata, Namespaced { ... }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.model;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Pod &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Editable&amp;lt;PodBuilder&amp;gt;, HasMetadata, Namespaced { ... }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.builder;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Editable&amp;lt;T&amp;gt;{ T edit(); }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.model;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PodBuilder &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; PodFluent&amp;lt;PodBuilder&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; VisitableBuilder&amp;lt;Pod,PodBuilder&amp;gt;{ ... }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.model.batch.v1;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;JobBuilder &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; JobFluent&amp;lt;JobBuilder&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; VisitableBuilder&amp;lt;Job,JobBuilder&amp;gt;{ ... }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; io.fabric8.kubernetes.api.builder;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; VisitableBuilder&amp;lt;T,V &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; VisitableBuilder&amp;lt;T,V&amp;gt;&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Builder&amp;lt;T&amp;gt;,Visitable&amp;lt;V&amp;gt;{ }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18024678" author="emilles" created="Sat, 4 Oct 2025 13:52:44 +0000"  >&lt;p&gt;In order to determine &lt;tt&gt;LowestUpperBound(Job,Pod)&lt;/tt&gt; it is trying to fill in the type args for &lt;tt&gt;Editable&lt;/tt&gt; which requires &lt;tt&gt;LUB(JobBuilder,PodBuilder)&lt;/tt&gt;.  This in turn is trying to fill in &lt;tt&gt;VisitableBuilder&lt;/tt&gt; and requires &lt;tt&gt;LUB(Job,Pod)&lt;/tt&gt; to do so.&lt;/p&gt;

&lt;p&gt;The loop prevention is not deep.  It describes the case for &lt;tt&gt;Comparable&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            ClassNode t1 = upperBound(agt[i]);
            ClassNode t2 = upperBound(bgt[i]);
            ClassNode basicType;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (areEqualWithGenerics(t1, isPrimitiveType(a)?getWrapper(a):a) &amp;amp;&amp;amp; areEqualWithGenerics(t2, isPrimitiveType(b)?getWrapper(b):b)) {
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Comparable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&quot;&lt;/span&gt; and &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;StringBuffer&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Comparable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;StringBuffer&lt;/span&gt;&amp;gt;&quot;&lt;/span&gt;
&lt;/span&gt;                basicType = fallback; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not loop
&lt;/span&gt;            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                basicType = lowestUpperBound(t1, t2);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18024710" author="githubbot" created="Sat, 4 Oct 2025 22:35:28 +0000"  >&lt;p&gt;paulk-asert opened a new pull request, #2312:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2312&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &#8230;lient library&lt;/p&gt;

</comment>
                            <comment id="18024711" author="paulk" created="Sat, 4 Oct 2025 23:02:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; What do you think of having a fallback as per PR#2312. It isn&apos;t as nice as solving more of the cases, but at least stops compilation from failing. It seems to work for the Grails example.&lt;/p&gt;</comment>
                            <comment id="18027905" author="githubbot" created="Mon, 6 Oct 2025 19:55:20 +0000"  >&lt;p&gt;eric-milles commented on PR #2312:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2312#issuecomment-3373743883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2312#issuecomment-3373743883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   seems okay as a stopgap measure&lt;/p&gt;

</comment>
                            <comment id="18027964" author="githubbot" created="Tue, 7 Oct 2025 02:24:01 +0000"  >&lt;p&gt;paulk-asert merged PR #2312:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/groovy/pull/2312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2312&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="18028262" author="paulk" created="Wed, 8 Oct 2025 04:59:07 +0000"  >&lt;p&gt;I&apos;ve kept this issue for the stop-gap fix. We can create new issues if we make further progress in handling particular recursive cases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xzc0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>