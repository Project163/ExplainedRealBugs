<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:21:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10887] groovyc STC loses generic information in extension methods</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10887</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;N.B.: This code compiles as expected under GRECLIPSE (both the 2022-12-06 and 2022-12-26 nightlies) but fails under groovyc.&lt;/p&gt;

&lt;p&gt;I have extension methods that are intended to be applied to Spring Integration DSLs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SpringIntegrationDefaultMethods {
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &amp;lt;C &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractMessageChannel, S &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MessageChannelSpec&amp;lt;S, C&amp;gt;&amp;gt;
    S markMessagesAsJumpered(S self) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; self.interceptor(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JumperInterceptor()); &lt;span class=&quot;code-comment&quot;&gt;// returns S
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
moduleName = example-util-spring-integration
moduleVersion = 0.0.1
extensionClasses = com.example.util.spring.integration.groovy.SpringIntegrationDefaultMethods
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From a Groovy configuration class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Bean(CHANNEL_DISPATCH_MESSAGE)
    MessageChannel dispatchQueueOutgoing() {
        &lt;span class=&quot;code-comment&quot;&gt;// org.springframework.integration.dsl.MessageChannels.
&lt;/span&gt;        publishSubscribe(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// line 49
&lt;/span&gt;            .minSubscribers(2)
            .markMessagesAsJumpered()
            .get()
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Eclipse, this compiles as expected. In groovyc 4.0.6 and 4.0.7, I get&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /home/christopher/git/.../DispatchHandlingIntegration.groovy: 49: [Static type checking] - Cannot find matching method S#get(). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
[ERROR]  @ line 49, column 9.
[ERROR]            publishSubscribe(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding an explicit type witness&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.&amp;lt;PublishSubscribeChannel, PublishSubscribeChannelSpec&amp;lt;?&amp;gt;&amp;gt; markMessagesAsJumpered()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;resolves the error in groovyc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13515761">GROOVY-10887</key>
            <summary>groovyc STC loses generic information in extension methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Dec 2022 19:38:55 +0000</created>
                <updated>Fri, 19 Jan 2024 18:19:43 +0000</updated>
                                            <version>4.0.6</version>
                    <version>4.0.7</version>
                                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17654617" author="emilles" created="Wed, 4 Jan 2023 20:07:46 +0000"  >&lt;p&gt;I have this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
            @Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework.integration:spring-integration-groovy:5.5.15&apos;&lt;/span&gt;)
            &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.integration.channel.AbstractMessageChannel
            &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.integration.dsl.MessageChannelSpec
            &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.integration.dsl.MessageChannels
            @Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework:spring-messaging:5.3.24&apos;&lt;/span&gt;)
            &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.messaging.MessageChannel

            &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; &amp;lt;AMC &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractMessageChannel, MCS &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MessageChannelSpec&amp;lt;MCS,AMC&amp;gt;&amp;gt; MCS mark(MCS self) {
                self.interceptor(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// returns self
&lt;/span&gt;            }
            MessageChannel make() {
                mark(MessageChannels.publishSubscribe(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;).minSubscribers(2)).get()
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But it does not reproduce and I cannot move to &quot;use&quot; under STC or to an extension module without infrastructure.  Can you provide a sample project?&lt;/p&gt;</comment>
                            <comment id="17808769" author="emilles" created="Fri, 19 Jan 2024 18:19:43 +0000"  >&lt;p&gt;Is this still an issue under 4.0.18?&#160; If so, could you provide a sample project?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1eeo0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>