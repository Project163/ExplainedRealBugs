<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:26:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11627] Compile Error when private and public functions use same name in compile static mode</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11627</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When I define a class in Groovy with 2 methods with the same name, one private and one public, I get this error during static compilation&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Mixing private and public/protected methods of the same name causes multimethods to be disabled and is forbidden to avoid surprising behaviour. Renaming the private methods will solve the problem.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I understand the need for multi methods and dispatching with runtime types, but how can I disable this behaviour? I am using @CompileStatic and it still hits this error&lt;/p&gt;

&lt;p&gt;Per Jochen&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;CompileStatic does not support multi methods, so I totally agree that&lt;br/&gt;
this message should not appear for static compiled classes.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13615815">GROOVY-11627</key>
            <summary>Compile Error when private and public functions use same name in compile static mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chavan77">Saravanan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Apr 2025 14:12:02 +0000</created>
                <updated>Wed, 4 Jun 2025 14:45:19 +0000</updated>
                            <resolved>Fri, 16 May 2025 13:27:42 +0000</resolved>
                                    <version>5.0.0-alpha-12</version>
                                    <fixVersion>5.0.0-beta-1</fixVersion>
                                    <component>Compiler</component>
                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17945879" author="emilles" created="Sat, 19 Apr 2025 17:08:50 +0000"  >&lt;p&gt;Can you supply a self-contained example that demonstrates this?  I have seen similar when select methods are statically compiled but an inner class is not. I&#8217;m not sure if this is a problem for callers of such a class. &lt;/p&gt;</comment>
                            <comment id="17949218" author="chavan77" created="Sun, 4 May 2025 00:06:29 +0000"  >&lt;p&gt;Sorry took a while to get to this.&lt;/p&gt;

&lt;p&gt;When this class is compiled with @CompileStatic&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyClass {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void doSomething(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; blah) {}

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void doSomething(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doh, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; blah) {}
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get the error&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Mixing &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; and &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;/&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; methods of the same name causes multimethods to be disabled and is forbidden to avoid surprising behaviour. Renaming the &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; methods will solve the problem.
&#160;@ line 11, column 9.
&#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void doSomething(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; blah) {}
  &#160; &#160; &#160; &#160; &#160;^&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17949471" author="emilles" created="Mon, 5 May 2025 15:19:11 +0000"  >&lt;p&gt;This is checked here: &lt;a href=&quot;https://github.com/apache/groovy/blob/8577625deca323abe6d9fc0853519cfa59eeb5fd/src/main/java/org/codehaus/groovy/classgen/ClassCompletionVerifier.java#L485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/8577625deca323abe6d9fc0853519cfa59eeb5fd/src/main/java/org/codehaus/groovy/classgen/ClassCompletionVerifier.java#L485&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was first added here: &lt;a href=&quot;https://github.com/apache/groovy/commit/766af2728c59d2e4047644d9334495227a68ff49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/766af2728c59d2e4047644d9334495227a68ff49&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems tied to this:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/blob/e17e3be3a2ccc0c6bffef32ac23facaa3f3c7dad/src/main/java/groovy/lang/MetaClassImpl.java#L454&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/e17e3be3a2ccc0c6bffef32ac23facaa3f3c7dad/src/main/java/groovy/lang/MetaClassImpl.java#L454&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17949517" author="emilles" created="Mon, 5 May 2025 17:37:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt;  Do you have any recollection of the types of situations this check is meant to protect from?  I see the various checks, but no scenarios that don&apos;t work as expected or anything like that.&lt;/p&gt;</comment>
                            <comment id="17951052" author="blackdrag" created="Mon, 12 May 2025 20:23:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt;&lt;br/&gt;
Long explanation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
  def foo() {bar()}
}
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;B &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; A {
  def bar(){1}
}

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; B().foo() ==  1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This means bar becomes callable if we work on an instance that implements bar(). The problem now comes from bar() not only being valid for a method bar that takes no arguments. It could be with varargs. But imagine bar would have an argument, then there are many many more possible matches. Let&apos;s say we have bar(&quot;m&quot;) and in B we have the public method bar(Object) and bar(String). Well, it is easy, we then call bar(String) as per &quot;normal&quot; method dispatch. But what if bar(String) is private and bar(Object) is not? If private methods are implementation detail, then this means they should not be visible to calls made from A, right? But to calls from B they must. But then again any class was supposed to be able to call a private method on B like a public method as long as the instance is exactly B. This would say it must be possible to call the private method from A. &lt;/p&gt;

&lt;p&gt;The whole thing looks maybe a bit strange, but think of this without public and private. Then the way Groovy does method dispatch means, any subclass can provide a more specific method causing that method been used instead. Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
  def dispatch(x){m(x)}
  def m(x) {&lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;}
}
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;B &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; A {
  def m(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; x) {&lt;span class=&quot;code-quote&quot;&gt;&quot;string &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;}
}

def a = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; A()
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a.dispatch(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) == &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a.m(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)  == &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a.dispatch(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;)== &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a.m(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;)  == &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;

def b = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; B()
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; b.dispatch(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) == &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; b.m(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)  == &lt;span class=&quot;code-quote&quot;&gt;&quot;object &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; b.dispatch(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;) == &lt;span class=&quot;code-quote&quot;&gt;&quot;string &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; b.m(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;)  == &lt;span class=&quot;code-quote&quot;&gt;&quot;string &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I hope that explains use and problem a bit. It should be clear that this is no feature for static compilation.&lt;/p&gt;</comment>
                            <comment id="17951454" author="emilles" created="Wed, 14 May 2025 18:41:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt;  When I run the sample, with a couple small typo fixes, it does demonstrate the use of new overload from &lt;tt&gt;B&lt;/tt&gt;, namely &lt;tt&gt;B#m(String)&lt;/tt&gt;.  When I change this method to private, &lt;tt&gt;b.m(&quot;string&quot;)&lt;/tt&gt; still works the same, however &lt;tt&gt;b.dispatch(&quot;string&quot;)&lt;/tt&gt; changes behavior.  I&apos;m not 100% if that tracks with your explanation.  It is a case of implementation detail not being active for calls located in super class.&lt;/p&gt;

&lt;p&gt;However, I get no warning when doing this, so I don&apos;t know if it fits with &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5193&quot; title=&quot;Compilation should always fail when two methods exist in the same class with the same name but differing access levels&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5193&quot;&gt;&lt;del&gt;GROOVY-5193&lt;/del&gt;&lt;/a&gt; scenarios.  If I lift the check in MetaClassImpl, are we expecting that the behavior will change and thus it is a situation that should be flagged?&lt;/p&gt;</comment>
                            <comment id="17951687" author="blackdrag" created="Thu, 15 May 2025 10:58:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; &lt;br/&gt;
&quot;&quot;&quot;&lt;br/&gt;
 When I change this method to private, b.m(&quot;string&quot;) still works the same, however b.dispatch(&quot;string&quot;) changes behaviour. &lt;br/&gt;
&quot;&quot;&quot;&lt;br/&gt;
yes, that is exactly what I am talking about. Dispatching methods from A must not see private methods in B, but everything else will. If you now have an overload in B of public m(String) and private m(Integer),  then dispatch in A sees only the non-private one and a call dispatch(1) should trigger the object case. In Java none of the two would be available  in A of course. If you add the overload with the public and private method you should also get the warning.  &lt;/p&gt;

&lt;p&gt;If you simply lift the check I do not know if the private method in B can be called from A or not. We may do &quot;the right thing&quot; here and it is not possible. Just didn&apos;t want to open that can of worms back then.&lt;/p&gt;</comment>
                            <comment id="17951762" author="emilles" created="Thu, 15 May 2025 14:06:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/pull/2223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/2223&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12812066">GROOVY-5193</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vghc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>