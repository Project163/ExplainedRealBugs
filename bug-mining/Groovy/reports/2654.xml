<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:41:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6855] Groovy annotations that support closures don&apos;t get stubs generated correctly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6855</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Get {
	&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; value() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; {&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Generates:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@java.lang.annotation.Target(value=java.lang.annotation.ElementType.TYPE) @java.lang.annotation.Retention(value=java.lang.annotation.RetentionPolicy.RUNTIME) &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Get
 {
 java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; value() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; { -&amp;gt; ... }.class;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12817340">GROOVY-6855</key>
            <summary>Groovy annotations that support closures don&apos;t get stubs generated correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="rvowles">Richard Vowles</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Jun 2014 20:12:08 +0000</created>
                <updated>Tue, 8 Jul 2014 15:28:42 +0000</updated>
                            <resolved>Fri, 13 Jun 2014 03:52:31 +0000</resolved>
                                                    <fixVersion>2.3.4</fixVersion>
                    <fixVersion>2.4.0-beta-2</fixVersion>
                                    <component>Stub generator / Joint compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14480587" author="keegan" created="Mon, 9 Jun 2014 00:36:13 +0000"  >&lt;p&gt;Thanks for reporting this.  I&apos;m not sure why yet, but when I give Groovy a target bytecode when generating stubs, this problem manifests.  The fix seems to be to just not do that.  I&apos;ve checked in that change and will release this week.&lt;/p&gt;</comment>
                            <comment id="14476058" author="rvowles" created="Mon, 9 Jun 2014 01:29:43 +0000"  >&lt;p&gt;Thanks for the quick update &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Really appreciate the effort you are putting into this!&lt;/p&gt;</comment>
                            <comment id="14476098" author="keegan" created="Mon, 9 Jun 2014 12:15:54 +0000"  >&lt;p&gt;My pleasure.  I&apos;m continuing to research exactly what is going on here.  It might be that my initial fix isn&apos;t always the right thing to do.  Something appears to have changed in 2.1.2.  Versions previous to this work fine.  If using 2.1.1 is an option for you, you might consider using it until I get this sorted out.  I&apos;m still shooting for this week for a fix though.&lt;/p&gt;</comment>
                            <comment id="14480574" author="keegan" created="Mon, 9 Jun 2014 14:37:01 +0000"  >&lt;p&gt;Actually, ignore last comment.  It compiles fine, but the stub is still wrong with older version.&lt;/p&gt;</comment>
                            <comment id="14480547" author="keegan" created="Mon, 9 Jun 2014 20:22:24 +0000"  >&lt;p&gt;OK.  I finally got Gradle to keep the stubs and have confirmed that this issue happens there as well.  I&apos;ll roll back out my change since this is not a GMaven issue, but a Groovy issue.  Which is somewhat a relief as I was really banging my head about what could be different.  I&apos;ve seen examples of closures being used in annotations, but not in conjunction with default.  It looks like that doesn&apos;t work.  I&apos;m not sure whether that&apos;s by design or a mistake.&lt;/p&gt;</comment>
                            <comment id="14476065" author="paulk" created="Mon, 9 Jun 2014 21:00:04 +0000"  >&lt;p&gt;add code tags&lt;/p&gt;</comment>
                            <comment id="14476051" author="rvowles" created="Mon, 9 Jun 2014 21:17:08 +0000"  >&lt;p&gt;I feel I just got teleported &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks guys!&lt;/p&gt;</comment>
                            <comment id="14476032" author="paulk" created="Fri, 13 Jun 2014 03:52:31 +0000"  >&lt;p&gt;Should be fixed. Thanks for spotting the issue.&lt;/p&gt;</comment>
                            <comment id="14480582" author="paulk" created="Fri, 13 Jun 2014 04:45:18 +0000"  >&lt;p&gt;The stub now has &lt;tt&gt;Closure.class&lt;/tt&gt; as the constant for &lt;tt&gt;Class&lt;/tt&gt; members which have closures as their default value. Obviously, the stub is just an interim artifact so the real closure will still be available in the final class file from the Groovy artifact.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2crkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>