<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:20:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10767] Cannot find matching method when trait that implements another trait is compiled statically</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10767</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have a trait that implements another trait, and when i try to statically compile it with groovy 3.0.12, it throws the following error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
B.groovy: 12: [Static type checking] - Cannot find matching method &amp;lt;UnionType:test.T+test.B&amp;gt;#methodA(). Please check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the declared type is correct and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the method exists.
 @ line 12, column 3.
                methodA()
     ^

1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;test case files attached. compilation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
JAVA_HOME=/groovy-test/jdk8u275-b01 /groovy-test/groovy-3.0.12/bin/groovyc -classpath /groovy-test/src B.groovy
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;all works good with 2.5.14&lt;/p&gt;

&lt;p&gt;when I add A into SelfType in B (so that it looks like @SelfType(&lt;span class=&quot;error&quot;&gt;&amp;#91;T,A&amp;#93;&lt;/span&gt;), all compiles ok with 3.0.12 too.&lt;/p&gt;

&lt;p&gt;question: can adding A into SelfType be considered a safe workaround, provided that no class implementing B ever directly implements A?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
@groovy.transform.TypeChecked
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Groovy10767 {
  &lt;span class=&quot;code-keyword&quot;&gt;trait&lt;/span&gt; A {
    void methodA() {
    }
  }
  @groovy.transform.SelfType(T)
  &lt;span class=&quot;code-keyword&quot;&gt;trait&lt;/span&gt; B &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; A {
    void methodB() {
      methodA() &lt;span class=&quot;code-comment&quot;&gt;// Cannot find matching method &amp;lt;UnionType:T+B&amp;gt;#methodA()
&lt;/span&gt;    }
  }
  static &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; B {
    void method() {
      methodA()
      methodB()
    }
  }
  static &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;T {
    void methodT() {
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13482800">GROOVY-10767</key>
            <summary>Cannot find matching method when trait that implements another trait is compiled statically</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="Kachanovskiy">Sergey Kachanovskiy</reporter>
                        <labels>
                            <label>traits</label>
                    </labels>
                <created>Thu, 22 Sep 2022 15:03:01 +0000</created>
                <updated>Fri, 10 Feb 2023 21:40:07 +0000</updated>
                            <resolved>Thu, 22 Sep 2022 18:38:20 +0000</resolved>
                                    <version>3.0.12</version>
                                    <fixVersion>2.5.19</fixVersion>
                    <fixVersion>3.0.14</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17608340" author="emilles" created="Thu, 22 Sep 2022 16:20:51 +0000"  >&lt;p&gt;A couple notes up front:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;B implements A, so it does not need to mention A in the SelfType list &amp;#8211; oh, okay that&apos;s the subject of the issue (usually the recreation script is such that it demonstrates the error)&lt;/li&gt;
	&lt;li&gt;C implements B but does not extend T, which is a violation of the self-type metadata&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17608343" author="emilles" created="Thu, 22 Sep 2022 16:26:42 +0000"  >&lt;p&gt;There are self-type collection issues that were fixed for Groovy 4.  Let me take a look if one of them fixes this and I can backport it to Groovy 3.&lt;/p&gt;</comment>
                            <comment id="17608367" author="kachanovskiy" created="Thu, 22 Sep 2022 17:40:54 +0000"  >&lt;p&gt;I think C can be excluded - it is left after a larger test case and likely is not relevant here&lt;/p&gt;</comment>
                            <comment id="17608368" author="emilles" created="Thu, 22 Sep 2022 17:50:21 +0000"  >&lt;p&gt;I&apos;m verifying that the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10700&quot; title=&quot;STC cannot locate method specified by interface but supplied by AST transform&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10700&quot;&gt;&lt;del&gt;GROOVY-10700&lt;/del&gt;&lt;/a&gt; can be safely backported.  It is a bit more involved than most STC changes.&lt;/p&gt;</comment>
                            <comment id="17608381" author="emilles" created="Thu, 22 Sep 2022 18:38:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/a4b35c3fe27abd32a347eac49e77333fcdb35176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/a4b35c3fe27abd32a347eac49e77333fcdb35176&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17608388" author="kachanovskiy" created="Thu, 22 Sep 2022 19:05:37 +0000"  >&lt;p&gt;just to clarify: upgrade to 3.0.14 is not an option for me (in foreseeable future), therefore - can mentioning A in SelfType list be considered a safe workaround?&lt;/p&gt;</comment>
                            <comment id="17632550" author="kachanovskiy" created="Fri, 11 Nov 2022 20:43:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; could you please clarify the following: can adding A into SelfType of B be considered a safe workaround, provided that no class implementing B ever directly implements A?&lt;/p&gt;

&lt;p&gt;thank you.&lt;/p&gt;</comment>
                            <comment id="17632556" author="emilles" created="Fri, 11 Nov 2022 21:06:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Kachanovskiy&quot; class=&quot;user-hover&quot; rel=&quot;Kachanovskiy&quot;&gt;Kachanovskiy&lt;/a&gt; If the code compiles and behaves as you expect, then I guess you could consider it a safe workaround.  You may also consider &lt;tt&gt;@TypeChecked(TypeCheckingMode.SKIP)&lt;/tt&gt; for &lt;tt&gt;methodB()&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                                                <inwardlinks description="is fixed by">
                                        <issuelink>
            <issuekey id="13472768">GROOVY-10700</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13049622" name="GROOVY-10767.tar.gz" size="396" author="Kachanovskiy" created="Thu, 22 Sep 2022 15:04:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18rw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>