<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:12:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3223] Nested javac Ant task does not do property substitution on its attributes</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3223</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;If using groovyc with an embedded javac it is no longer possible to use Ant property substitution on the javac attributes.&lt;/p&gt;

&lt;p&gt;For example having a call to groovyc like this:&lt;/p&gt;

&lt;p&gt;      &amp;lt;groovyc destdir=&quot;build&quot; srcdir=&quot;src&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;javac source=&quot;${javac.source}&quot; target=&quot;${javac.target}&quot; debug=&quot;${javac.debug}&quot; encoding=&quot;UTF-8&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/groovyc&amp;gt;&lt;/p&gt;

&lt;p&gt;will lead to this error:&lt;/p&gt;

&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;groovyc&amp;#93;&lt;/span&gt; javac: invalid source release: ${javac.source}&lt;/p&gt;

&lt;p&gt;This works fine with Groovy 1.5.7&lt;/p&gt;

&lt;p&gt;I have attached a simple test case with a build.xml file which loads an external build.properties and then attempts to compile a single Java file.&lt;br/&gt;
To test simply edit the build.properties file to point groovy.home at a relevant Groovy installation.&lt;br/&gt;
Pointing it a my 1.6 b2 fails but 1.5.7 works.&lt;/p&gt;

&lt;p&gt;I wasn&apos;t sure how to turn this into a Junit test easily though.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12814473">GROOVY-3223</key>
            <summary>Nested javac Ant task does not do property substitution on its attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="ssowerby">Steve Sowerby</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Dec 2008 09:34:48 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:51 +0000</updated>
                            <resolved>Sun, 31 May 2009 06:17:49 +0000</resolved>
                                    <version>1.6-beta-2</version>
                                    <fixVersion>1.6.4</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                    <component>Ant integration</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14465935" author="blackdrag" created="Fri, 19 Dec 2008 10:47:47 +0000"  >&lt;p&gt;I must say this sounds quite strange. the nested javac task is the normal javac as you know it from ant. We did not add something to the task Also when you say this works in 1.5.7... isn&apos;t it the same there? But I can reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="14466147" author="dcate" created="Wed, 14 Jan 2009 14:15:21 +0000"  >&lt;p&gt;I arrived at the exact same problem inside my build but dumped out my environment properties. My IDE was presetting my ant.version and my java.version. Once i reset my properties, everything appears to work fine in 1.5.6 and above.&lt;/p&gt;</comment>
                            <comment id="14478485" author="usul" created="Sat, 28 Feb 2009 21:53:05 +0000"  >&lt;p&gt;This issue is also present in the 1.6.0 release.&lt;br/&gt;
The Groovyc task uses RuntimeConfigurable object for getting the javac attributes. Those attributes do not have project properties substituted. They are used to populate the Javac object with the proper values. So to fix that, we can either use the values from the Javac object or substitute the properties in the RuntimeConfigurable attributes map.&lt;/p&gt;

&lt;p&gt;The suggested patch has been attached to this issue.&lt;/p&gt;</comment>
                            <comment id="14467172" author="paulk" created="Sun, 31 May 2009 06:17:49 +0000"  >&lt;p&gt;Thanks very much for the patch. Applied to 1_6 branch and trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12814679">GROOVY-3450</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721369" name="GROOVY-3223_groovyc_parameter_substitution.patch" size="888" author="" created="Sat, 28 Feb 2009 21:53:23 +0000"/>
                            <attachment id="12721984" name="embedded_javac_bug.zip" size="1272" author="ssowerby" created="Fri, 19 Dec 2008 09:34:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c2t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>