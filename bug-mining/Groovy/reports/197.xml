<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:56:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-584] Exception passing array into Closure</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-584</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;(from the mailing list):&lt;/p&gt;

&lt;p&gt;I wrote:&lt;/p&gt;

&lt;p&gt;&amp;#8211; script &amp;#8211;&lt;br/&gt;
c1 = new Class[] &lt;/p&gt;
{ Exception.class, Throwable.class }
&lt;p&gt;c2 = new Class[] &lt;/p&gt;
{ IllegalStateException.class }
&lt;p&gt;println (c1)&lt;br/&gt;
println (c2)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;c1, c2&amp;#93;&lt;/span&gt;.each &lt;/p&gt;
{println(it)}

&lt;p&gt;&amp;#8211; output &amp;#8211;&lt;br/&gt;
[Ljava.lang.Class;@14da8f4&lt;br/&gt;
[Ljava.lang.Class;@fd68b1&lt;br/&gt;
Incorrect arguments to closure: CommandLine4$_run_closure1@10a2d64.&lt;br/&gt;
Expected: &lt;span class=&quot;error&quot;&gt;&amp;#91;class java.lang.Object&amp;#93;&lt;/span&gt;, actual: [class java.lang.Exception,&lt;br/&gt;
class java.lang.Throwable]&lt;/p&gt;


&lt;p&gt;John Wilson responded:&lt;/p&gt;

&lt;p&gt;It&apos;s a bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The closure code is getting confused into thinking that you are calling it with Exception.class, Throwable.class as parameters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12812695">GROOVY-584</key>
            <summary>Exception passing array into Closure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                                <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tug">John Wilson</assignee>
                                    <reporter username="davisond">Darren Davison</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2004 19:07:00 +0000</created>
                <updated>Sat, 16 Jul 2005 15:20:58 +0000</updated>
                            <resolved>Sat, 16 Jul 2005 15:20:59 +0000</resolved>
                                                    <fixVersion>1.0-JSR-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14460419" author="bingran" created="Fri, 23 Jul 2004 05:53:37 +0000"  >&lt;p&gt;The bytecode is fine. It has something to do arg processing in the Closure.call() I guess. &lt;/p&gt;</comment>
                            <comment id="14461100" author="blackdrag" created="Tue, 14 Jun 2005 06:14:44 +0000"  >&lt;p&gt;the reason for both problems is the same... the strange array handling in closures&lt;/p&gt;</comment>
                            <comment id="14461051" author="phkim" created="Tue, 14 Jun 2005 09:20:04 +0000"  >&lt;p&gt;Array handling in closure is not strange.&lt;br/&gt;
If we should get arrays or lists as parameters in closure, then&lt;br/&gt;
we should use typed parameters in closures.&lt;/p&gt;

&lt;p&gt;So here is a workaround for Groovy 1.0 JSR-02 above..&lt;/p&gt;

&lt;p&gt;def c1 = [ Exception.class, Throwable.class ] as Class[]&lt;br/&gt;
def c2 = [ IllegalStateException.class ] as Class[]&lt;br/&gt;
println (c1)&lt;br/&gt;
println (c2)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;c1, c2&amp;#93;&lt;/span&gt;.each &lt;/p&gt;
{ Object[] x -&amp;gt; println(x) }
</comment>
                            <comment id="14461275" author="phkim" created="Sat, 16 Jul 2005 09:27:48 +0000"  >&lt;p&gt;def c1 = [ Exception.class, Throwable.class ] as Class[]&lt;br/&gt;
def c2 = [ IllegalStateException.class ] as Class[]&lt;br/&gt;
println (c1)&lt;br/&gt;
println (c2)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;c1, c2&amp;#93;&lt;/span&gt;.each &lt;/p&gt;
{println(it)}


&lt;p&gt;Applying my new patches about &quot;closure and arrays&quot;, this works good.&lt;br/&gt;
I would like to commit my new patches soon.&lt;/p&gt;</comment>
                            <comment id="14461309" author="phkim" created="Sat, 16 Jul 2005 15:20:58 +0000"  >&lt;p&gt;This has been fixed in 1.0-JSR-3.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12812900">GROOVY-886</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12812789">GROOVY-764</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cobz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>