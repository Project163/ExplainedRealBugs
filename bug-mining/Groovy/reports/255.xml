<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:57:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1228] Scoping/variable resolving problem when static final field with same name declared in class</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1228</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The code below gets a ClassCastException:java.lang.Integer in the first line of goAhead() method. The reason is that the &apos;res&apos; has already been reserved for static field of the class, and 1 is casted to this field instead of the variable &apos;res&apos;.&lt;br/&gt;
class StaticTest {&lt;br/&gt;
       private static final Date res = new Date()&lt;/p&gt;

&lt;p&gt;       def goAhead () &lt;/p&gt;
{ def res = 1}

&lt;p&gt;       public static void main (args) &lt;/p&gt;
{ new StaticTest().goAhead() }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;For goAhead the bytecode of following java code is created:&lt;br/&gt;
public Object goAhead() {&lt;br/&gt;
       Date date = (Date)ScriptBytecodeAdapter.asType(new Integer(1), java.util.Date.class);&lt;br/&gt;
       date;&lt;br/&gt;
       res = (Date) date;&lt;br/&gt;
       return res;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;instead of:&lt;br/&gt;
public Object goAhead() {&lt;br/&gt;
       Integer integer = new Integer(1);&lt;br/&gt;
       return integer;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12816516">GROOVY-1228</key>
            <summary>Scoping/variable resolving problem when static final field with same name declared in class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="lipinski">Pawel Lipinski</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Feb 2006 09:50:02 +0000</created>
                <updated>Fri, 10 Feb 2006 09:06:47 +0000</updated>
                            <resolved>Fri, 10 Feb 2006 09:06:47 +0000</resolved>
                                                    <fixVersion>1.0-JSR-5</fixVersion>
                                    <component>class generator</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14461651" author="tug" created="Sat, 4 Feb 2006 10:09:31 +0000"  >&lt;p&gt;I don&apos;t think it&apos;s a scoping problem I thing it&apos;s the fact that the innder definition of &quot;res&quot; is untyped which causes the compiler to get confused. Changing def res to int res makes the problem go away:&lt;/p&gt;

&lt;p&gt;class StaticTest {&lt;br/&gt;
    private static final Date res = new Date()&lt;/p&gt;

&lt;p&gt;    def goAhead () &lt;/p&gt;
{
        int res = 1     
    }

&lt;p&gt;    public static void main (args) &lt;/p&gt;
{
        new StaticTest().goAhead()
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="14461679" author="blackdrag" created="Sat, 4 Feb 2006 16:11:13 +0000"  >&lt;p&gt;this is indeed no real scoping problem. Maybe I should remove getLHS in ACG generally. Anyway, it should be fixed in CVS&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cs87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>