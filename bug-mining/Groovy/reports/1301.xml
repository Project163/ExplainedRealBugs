<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:16:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4118] JavaStubGenerator doesn&apos;t generate annotations available in Groovy code</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4118</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Looking at org.codehaus.groovy.tools.javac.JavaStubGenerator (&lt;a href=&quot;http://goo.gl/ob23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://goo.gl/ob23&lt;/a&gt;) I see it doesn&apos;t generate annotations that are originally available in Groovy sources.&lt;/p&gt;

&lt;p&gt;I think it causes those issues later:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://jira.codehaus.org/browse/GMAVEN-68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GMAVEN-68&lt;/a&gt; - &quot;GMaven: generateStubs generates stubs without original Javadocs or annotations&quot;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://jira.codehaus.org/browse/GMAVEN-4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GMAVEN-4&lt;/a&gt;  - &quot;GMaven: Stub generation should generate annotations&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m trying to use AnnoMojo annotations (&lt;a href=&quot;http://goo.gl/rbRw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://goo.gl/rbRw&lt;/a&gt;) when developing my MOJOs in Groovy.&lt;br/&gt;
GMaven&apos;s &quot;generateStubs&quot; goal doesn&apos;t produce Java sources with original AnnoMojo annotations&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818392">GROOVY-4118</key>
            <summary>JavaStubGenerator doesn&apos;t generate annotations available in Groovy code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="genie">Evgeny Goldin</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Mar 2010 15:48:10 +0000</created>
                <updated>Mon, 6 Sep 2010 08:49:17 +0000</updated>
                            <resolved>Wed, 16 Jun 2010 09:31:22 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.7.3</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                    <component>class generator</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14469583" author="paulk" created="Sun, 6 Jun 2010 23:36:22 +0000"  >&lt;p&gt;Potential patch&lt;/p&gt;</comment>
                            <comment id="14469604" author="paulk" created="Sun, 6 Jun 2010 23:38:04 +0000"  >&lt;p&gt;Jochen, let me know if there are any issues with patch otherwise I will apply in a few days.&lt;/p&gt;</comment>
                            <comment id="14469622" author="blackdrag" created="Mon, 7 Jun 2010 02:10:11 +0000"  >&lt;p&gt;the patch seems to be only allowing for numbers and constants that are ten interpreted as String. Missing are classes and enums (both clear name, the same as for numbers)&lt;/p&gt;</comment>
                            <comment id="14469563" author="blackdrag" created="Mon, 7 Jun 2010 02:11:33 +0000"  >&lt;p&gt;ah yes... another part would be to print the annotations only if the &quot;java5&quot; field is true.&lt;/p&gt;</comment>
                            <comment id="14479178" author="paulk" created="Mon, 7 Jun 2010 05:36:21 +0000"  >&lt;p&gt;Yes, both very good points. I might have to leave those changes and some kind of test to someone else unless I get a good Internet connection in San Fran and get time to look again.&lt;/p&gt;</comment>
                            <comment id="14479185" author="paulk" created="Wed, 9 Jun 2010 00:05:09 +0000"  >&lt;p&gt;revised patch addressing Jochen&apos;s raised points&lt;/p&gt;</comment>
                            <comment id="14479205" author="paulk" created="Thu, 10 Jun 2010 13:44:04 +0000"  >&lt;p&gt;So the one thing that I am still unsure of is whether we need to add back in the default imports which I commented out in genImports a few weeks back - everything else is fully qualified but I don&apos;t that is the case with Annotation constants.&lt;/p&gt;</comment>
                            <comment id="14469551" author="blackdrag" created="Fri, 11 Jun 2010 03:21:35 +0000"  >&lt;p&gt;If the fully qualified class name would be used, then there is no need for an annotaton. Since there seems to be a class resolving phase I think that it is not needed&lt;/p&gt;</comment>
                            <comment id="14479186" author="paulk" created="Mon, 14 Jun 2010 01:45:48 +0000"  >&lt;p&gt;For the Resolving Phase to occur before we print out the Java stub annotation info, I moved the stubGenerator visitor from CONVERSION to SEMANTIC_ANALYSIS phase. I still need to create a bunch of tests covering all of the cases.&lt;/p&gt;</comment>
                            <comment id="14479197" author="paulk" created="Mon, 14 Jun 2010 01:52:21 +0000"  >&lt;p&gt;A quick check for import aliasing was also added. Again tests pending but works locally for me for the testcase given in GMAVEN-75.&lt;/p&gt;</comment>
                            <comment id="14469640" author="guillaume" created="Mon, 14 Jun 2010 11:34:56 +0000"  >&lt;p&gt;Paul made some changes in this area, please reopen the issue if it&apos;s still not working as expected.&lt;/p&gt;</comment>
                            <comment id="14479206" author="genie" created="Wed, 16 Jun 2010 06:22:58 +0000"  >&lt;p&gt;Just tried it with Groovy 1.7.3.&lt;br/&gt;
Annotations put on properties are not generated.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&lt;tt&gt;&quot;src/main/scripts/com/clearforest/plugins/springbatch/SpringBatchMojo.groovy&quot;&lt;/tt&gt;&lt;/b&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.clearforest.plugins.springbatch

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoPhase
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoGoal
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.gmaven.mojo.GroovyMojo
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoParameter

/**
 * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * Spring Batch invoker
 * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 */
@MojoGoal( &lt;span class=&quot;code-quote&quot;&gt;&quot;run&quot;&lt;/span&gt; )
@MojoPhase( &lt;span class=&quot;code-quote&quot;&gt;&quot;install&quot;&lt;/span&gt; )
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SpringBatchMojo &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GroovyMojo
{

    @MojoParameter ( required = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; )
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sth

    void execute ()
    {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println( &lt;span class=&quot;code-quote&quot;&gt;&quot;[[[[[[[[$sth]]]]]]]]]]]&quot;&lt;/span&gt; );
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;generates the following code at &lt;b&gt;&lt;tt&gt;&quot;target/generated-sources/groovy-stubs/main/com/clearforest/plugins/springbatch/SpringBatchMojo.java&quot;&lt;/tt&gt;&lt;/b&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.clearforest.plugins.springbatch;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoGoal;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.gmaven.mojo.GroovyMojo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoParameter;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.jfrog.maven.annomojo.annotations.MojoPhase;

@MojoGoal(value=&lt;span class=&quot;code-quote&quot;&gt;&quot;run&quot;&lt;/span&gt;) @MojoPhase(value=&lt;span class=&quot;code-quote&quot;&gt;&quot;install&quot;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SpringBatchMojo
  &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.codehaus.gmaven.mojo.GroovyMojo  &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt;
    groovy.lang.GroovyObject {
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SpringBatchMojo
() {}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  groovy.lang.MetaClass getMetaClass() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (groovy.lang.MetaClass)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  void setMetaClass(groovy.lang.MetaClass mc) { }
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; invokeMethod(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; method, java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; arguments) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getProperty(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; property) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  void setProperty(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; property, java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value) { }
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getSth() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;}
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  void setSth(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value) { }
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  void execute() { }
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt;  groovy.lang.MetaClass $getStaticMetaClass() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (groovy.lang.MetaClass)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;&lt;tt&gt;@MojoParameter&lt;/tt&gt;&lt;/b&gt; annotation isn&apos;t generated&lt;/p&gt;</comment>
                            <comment id="14469552" author="guillaume" created="Wed, 16 Jun 2010 06:27:42 +0000"  >&lt;p&gt;By the way, note that sth is not a field, but a property.&lt;/p&gt;</comment>
                            <comment id="14479201" author="genie" created="Wed, 16 Jun 2010 06:40:17 +0000"  >&lt;p&gt;Yeah, right, I mean properties, sorry&lt;/p&gt;</comment>
                            <comment id="14469587" author="roshandawrani" created="Wed, 16 Jun 2010 07:34:50 +0000"  >&lt;p&gt;So, how do we handle properties here? Normally the stub generator doesn&apos;t print-out the private fields. A property becomes (a private field + getter/setter methods).&lt;/p&gt;

&lt;p&gt;In properties case, do we start printing out the code for wrapped private fields also?&lt;/p&gt;

&lt;p&gt;Not sure if it will make sense to print the annotation provided on the property on the getter/setter methods.&lt;/p&gt;</comment>
                            <comment id="14479184" author="genie" created="Wed, 16 Jun 2010 07:49:48 +0000"  >&lt;p&gt;My use case are Groovy MOJOs and I try to use AnnoMojo (&lt;a href=&quot;http://goo.gl/rbRw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://goo.gl/rbRw&lt;/a&gt;) for Java5 annotations. &lt;br/&gt;
That&apos;s the reason for annotation properties, they become plugin configurations later&lt;/p&gt;</comment>
                            <comment id="14469653" author="roshandawrani" created="Wed, 16 Jun 2010 07:59:30 +0000"  >&lt;p&gt;Don&apos;t know about MOJOs. So, a question.&lt;/p&gt;

&lt;p&gt;From your use case point of view, if &quot;String sth&quot; internally becomes &quot;private String sth + public getSth()/setSth()&quot; - will it help for the plugin configuration later if the annotation remained on the private field or moved on to accessor methods?&lt;/p&gt;</comment>
                            <comment id="14469514" author="roshandawrani" created="Wed, 16 Jun 2010 08:06:06 +0000"  >&lt;p&gt;Not sure whether it&apos;s an option for you or not, but a change from&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@MojoParameter ( required = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; )
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@MojoParameter ( required = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; )
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will make sure that you get the following in the output&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@org.jfrog.maven.annomojo.annotations.MojoParameter(required=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sth;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14469605" author="genie" created="Wed, 16 Jun 2010 09:08:25 +0000"  >&lt;p&gt;Yeap! It worked. Thanks a lot &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="14479207" author="genie" created="Wed, 16 Jun 2010 09:10:35 +0000"  >&lt;p&gt;Is this requirement for &quot;public&quot; modifier is something that I&apos;ll always need to use or it may be relaxed in the following versions?&lt;/p&gt;</comment>
                            <comment id="14469553" author="roshandawrani" created="Wed, 16 Jun 2010 09:10:38 +0000"  >&lt;p&gt;So, shall we close it back? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14469527" author="roshandawrani" created="Wed, 16 Jun 2010 09:18:28 +0000"  >&lt;p&gt;Instead of a direct answer, there are a few indirect things there to be told:&lt;/p&gt;

&lt;p&gt;1) &quot;String sth&quot; is a property in groovy code that gets changed internally to &quot;private String sth + getSth()/setSth()&quot;&lt;/p&gt;

&lt;p&gt;2) &quot;public String sth&quot; is a field in groovy code and it remains unchanged as a field.&lt;/p&gt;

&lt;p&gt;3) Stub generators currently generates annotations only for non-private fields and not for properties.&lt;/p&gt;

&lt;p&gt;Going forward:&lt;/p&gt;

&lt;p&gt;4) The stub generator may start doing something for properties as well - not sure at this point what that will be - whether the annotation will go on to stick to private field or accessors.&lt;/p&gt;

&lt;p&gt;5) It is highly unlikely that property &quot;String sth&quot; will later translate to &quot;public String sth&quot; field instead of (private field + accessors).&lt;/p&gt;</comment>
                            <comment id="14479203" author="genie" created="Wed, 16 Jun 2010 09:25:14 +0000"  >&lt;p&gt;Ok, I see, thanks for the explanation. In this case the issue can be closed again, I suppose. &lt;br/&gt;
I&apos;ve just updated 3 of our Maven plugins to use AnnoMojo annotations instead of Javadoc ones, we&apos;ll see in a couple of days if everything is Ok.&lt;br/&gt;
But from what I saw, the generation works Ok now .. &lt;/p&gt;

&lt;p&gt;Many thanks again. We were waiting for a long time to make this switch.&lt;/p&gt;</comment>
                            <comment id="14469626" author="roshandawrani" created="Wed, 16 Jun 2010 09:31:22 +0000"  >&lt;p&gt;You are welcome. Forwarding &quot;many thanks&quot; to Paul for the original implementation &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14479313" author="gfouquet" created="Mon, 23 Aug 2010 10:33:02 +0000"  >&lt;p&gt;It seems to me annotation properties of array type are still not handled correctly. For example, with Groovy 1.7.3 and 1.7.4 :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// ArrayAnnotation.java
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; ArrayAnnotation {
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] value() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; {};
}

&lt;span class=&quot;code-comment&quot;&gt;// AnnotatedClass.groovy
&lt;/span&gt;@ArrayAnnotation([&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;])
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AnnotatedClass { }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;generates the stub : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@ArrayAnnotation(value=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AnnotatedClass &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; groovy.lang.GroovyObject {
&lt;span class=&quot;code-comment&quot;&gt;// irrelevent stuff removed
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14479318" author="paulk" created="Mon, 23 Aug 2010 16:59:57 +0000"  >&lt;p&gt;Yes, there are a few known limitations of the current stub generator - one of them being that we can&apos;t easily resolve constant expressions for the general case (at least not without significant overheads) and we handle constant-looking things as best we can by hand-coded &quot;sniffing&quot; of such expressions - and arrays/lists are not in the list of what we currently look for - but could be.&lt;/p&gt;

&lt;p&gt;Does the above cause you particular problems? Obviously the real constants will be in the Groovy byte code just not in the stubs which are only short-lived.&lt;/p&gt;

&lt;p&gt;In any case, probably worth a new issue to handle arrays/lists as that may not be too hard.&lt;/p&gt;</comment>
                            <comment id="14470031" author="gfouquet" created="Tue, 24 Aug 2010 07:48:00 +0000"  >&lt;p&gt;You are right, it turns out I can successfully deactivate stub generation for the offending classes (they are unit tests). Thanks for your insight.&lt;/p&gt;

&lt;p&gt;Shall I file a new issue anyway ?&lt;/p&gt;</comment>
                            <comment id="14479296" author="paulk" created="Tue, 24 Aug 2010 16:48:16 +0000"  >&lt;p&gt;Might be good to add. We can always close it if there is no interest or problems arise in solving it easily.&lt;/p&gt;</comment>
                            <comment id="14479319" author="gfouquet" created="Mon, 6 Sep 2010 08:49:17 +0000"  >&lt;p&gt;With some delay, I opened issue &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4394&quot; title=&quot;JavaStubGenerator doesn&amp;#39;t properly generate annotations with properties of array type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4394&quot;&gt;&lt;del&gt;GROOVY-4394&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722514" name="groovy4118_JavaStubGenerator_annotations.patch" size="3248" author="paulk" created="Sun, 6 Jun 2010 23:36:22 +0000"/>
                            <attachment id="12722562" name="groovy4118_JavaStubGenerator_annotations_B.patch" size="3979" author="paulk" created="Wed, 9 Jun 2010 00:05:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c6sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>