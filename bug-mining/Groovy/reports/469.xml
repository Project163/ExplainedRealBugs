<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2309] MockFor does not work properly with zero ranges</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2309</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I want to use MockFor for testing that, in the case of certain start up parameter combination, a certain point in a startup script of my application is not reached, . This point is defined by a call to a method of a particular class. To check this I do:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MockFor mockForX = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MockFor(X)
mockForX.demand.myMethod(0..0)
mockForX.use {
   Main.main(args)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This works, i.e. an AssertionFailedException is thrown, if during the processing of the main method, X.myMethod is called. The problem is, that an AssertionFailedException is also thrown, if X.myMethod is &lt;em&gt;not&lt;/em&gt; called. It say the following:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;junit.framework.AssertionFailedError: verify&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: expected 0..0 call(s) to &apos;myMethod&apos; but was never called.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;A work around I see is to make use of the fact that in Groovy the main method might return an argument.&lt;/p&gt;

&lt;p&gt;I might be able and have time to submit a patch tomorrow.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12813886">GROOVY-2309</key>
            <summary>MockFor does not work properly with zero ranges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ait">Alex Tkachman</assignee>
                                    <reporter username="hans_d">Hans Dockter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2007 11:11:36 +0000</created>
                <updated>Sun, 23 Dec 2007 12:25:28 +0000</updated>
                            <resolved>Sat, 17 Nov 2007 04:21:06 +0000</resolved>
                                    <version>1.1-rc-2</version>
                                    <fixVersion>1.1-rc-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14463614" author="hans_d" created="Thu, 15 Nov 2007 13:03:03 +0000"  >&lt;p&gt;I just had a look at the code. The bug applies to all ranges that start with zero and it affects StubFor as well as MockFor. &lt;/p&gt;

&lt;p&gt;It looks like a trivial patch. I gonna submit it tomorrow. &lt;/p&gt;</comment>
                            <comment id="14463643" author="hans_d" created="Fri, 16 Nov 2007 03:50:32 +0000"  >&lt;p&gt;I have attached a patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721638" name="MockForWithZeroRangeTest.groovy" size="776" author="hans_d" created="Thu, 15 Nov 2007 11:11:36 +0000"/>
                            <attachment id="12721943" name="ZeroRange.patch" size="4949" author="hans_d" created="Fri, 16 Nov 2007 03:50:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c5rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>