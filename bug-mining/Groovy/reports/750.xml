<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:08:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3019] Groovy calls wrong method if they are the same name and an Array attribut</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3019</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This is an example :&lt;/p&gt;


&lt;p&gt;public class Test{&lt;br/&gt;
	public Object getReturnValue(Object a, int b)&lt;/p&gt;
	{
		return &quot;h&quot;;
	}
&lt;p&gt;	private Object getReturnValue(Integer a, int b,&lt;br/&gt;
			Object[] arr)  &lt;/p&gt;
{
		return &quot;i&quot;;
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;if in the script we call the first method, groovy calls directly the second...&lt;/p&gt;

&lt;p&gt;x = new Test();&lt;br/&gt;
x.getReturnValue(new Integer(1),1)&lt;/p&gt;

&lt;p&gt;returns &quot;i&quot;.&lt;/p&gt;

&lt;p&gt;If the last arg is not an array it&apos;s ok.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814343">GROOVY-3019</key>
            <summary>Groovy calls wrong method if they are the same name and an Array attribut</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="diabolick">Martin Andre</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Aug 2008 10:03:01 +0000</created>
                <updated>Tue, 26 Aug 2008 10:39:38 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 10:39:38 +0000</resolved>
                                    <version>1.5.6</version>
                                    <fixVersion>1.5.7</fixVersion>
                    <fixVersion>1.6-beta-2</fixVersion>
                                    <component>syntax</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14465251" author="blackdrag" created="Mon, 25 Aug 2008 13:08:10 +0000"  >&lt;p&gt;Assuming both methods would be public, the Java would call exactly the same method. As for selecting a method that should not have been visible... this is tracked by other bugs already. So I am closing this as &quot;not a bug&quot;, because the method selection does the right thing, based on the assumption both methods are visible.&lt;/p&gt;</comment>
                            <comment id="14465311" author="diabolick" created="Tue, 26 Aug 2008 04:28:24 +0000"  >&lt;p&gt;Even if the both methods are public Groovy calls the second.&lt;/p&gt;

&lt;p&gt;For example :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test{
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getReturnValue(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; a, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b)
	{
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;) {
			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] c= {1};
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getReturnValue((&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;)a, b, c);
		}
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; BigDecimal) {
			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] c= {2};
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getReturnValue((BigDecimal)a, b, c);
		}
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getReturnValue(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; a, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b,
			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] arr)  {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; arr[0];
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getReturnValue(BigDecimal a, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b,
			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] arr)  {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; arr[0];
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;With this we get a Stack because groovy call directly the second method and not initialize the int array. It&apos;s lot logic.&lt;/p&gt;

&lt;p&gt;x = new Test();&lt;br/&gt;
x.getReturnValue(new Integer(1),1)&lt;/p&gt;

&lt;p&gt;to works we need to do this :&lt;/p&gt;

&lt;p&gt;x = new Test();&lt;br/&gt;
x.getReturnValue((Object)(new Integer(1)),1)&lt;/p&gt;</comment>
                            <comment id="14465171" author="diabolick" created="Tue, 26 Aug 2008 04:48:04 +0000"  >&lt;p&gt;Moreover, the problem appears only when the last args is an array&lt;/p&gt;</comment>
                            <comment id="14465293" author="blackdrag" created="Tue, 26 Aug 2008 06:26:38 +0000"  >&lt;p&gt;I am sorry, it seems I switched the methods somehow when I tried them... The method that should be called is the (Object,int) method, but Groovy calls the (Integer,int,Object[]) method. I guess that is because (Integer,int) is a better match than (Object,int) and the remaining Object[] does not make it bad enough. Seems like I have to give a higher penalty for argument number mismatch case.&lt;/p&gt;</comment>
                            <comment id="14465274" author="diabolick" created="Tue, 26 Aug 2008 06:45:07 +0000"  >&lt;p&gt;No problem. I think it&apos;s a matching problem too. if we debug it, the last args is automatically initialized with a 0 length to call the method which is most like (Integer,int).&lt;/p&gt;</comment>
                            <comment id="14465252" author="blackdrag" created="Tue, 26 Aug 2008 10:39:38 +0000"  >&lt;p&gt;ok, the problem should be fixed now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ckef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>