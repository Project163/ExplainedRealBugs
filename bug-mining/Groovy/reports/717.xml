<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:07:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2876] Incorrect manifests for OSGi usage</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2876</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Current manifests (1.6beta2 and 1.5.7 snapshots) can have RESOLVED status in Equinox.&lt;/p&gt;

&lt;p&gt;But attempting to evaluate a script is not working.&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;http://groups.google.com/group/spring-osgi/t/19f28da27e50ae24?hl=en&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groups.google.com/group/spring-osgi/t/19f28da27e50ae24?hl=en&lt;/a&gt;&lt;/p&gt;
</description>
                <environment>OSGi (Equinox)</environment>
        <key id="12814252">GROOVY-2876</key>
            <summary>Incorrect manifests for OSGi usage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="ceefour">Hendy Irawan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Jun 2008 10:17:00 +0000</created>
                <updated>Sun, 12 Oct 2008 08:46:51 +0000</updated>
                            <resolved>Thu, 12 Jun 2008 15:20:15 +0000</resolved>
                                    <version>1.5.6</version>
                    <version>1.6-beta-1</version>
                                    <fixVersion>1.5.7</fixVersion>
                    <fixVersion>1.6-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14464837" author="ceefour" created="Sun, 1 Jun 2008 10:19:43 +0000"  >&lt;p&gt;Snippet:&lt;/p&gt;

&lt;p&gt;__________________&lt;/p&gt;

&lt;p&gt;I need help debugging what should be a straightforward OSGi classloading&lt;br/&gt;
problem, running Groovy in OSGi.&lt;/p&gt;

&lt;p&gt;The stuff is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groov&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groov&lt;/a&gt;...&lt;/p&gt;

&lt;p&gt;mvn install pax:provision will run the application. mvn pax:eclipse will&lt;br/&gt;
also be working to generate Eclipse projects.&lt;/p&gt;

&lt;p&gt;The offending line is so simple:&lt;/p&gt;

&lt;p&gt;        new GroovyShell().evaluate(&quot;println &apos;Hello World from Groovy!&apos;;&quot;);&lt;/p&gt;

&lt;p&gt;Which should just run the groovy script, but it can&apos;t.&lt;/p&gt;

&lt;p&gt;Please help me diagnose this problem, you may commit directly to that lab if&lt;br/&gt;
you wish (it&apos;s OPS4J anyway).&lt;/p&gt;

&lt;p&gt;I think it will involve a change in Groovy&apos;s manifests, please inform. I&lt;br/&gt;
want to get this fixed so upcoming Groovy (1.5.7 and 1.6 release) can&lt;br/&gt;
flawlessly be used inside OSGi.&lt;/p&gt;

&lt;p&gt;Note that I use Groovy snapshot because that&apos;s the only version that has&lt;br/&gt;
proper resolvable OSGi manifests out-of-the-box (see:&lt;br/&gt;
&lt;a href=&quot;http://jira.codehaus.org/browse/GROOVY-2863&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GROOVY-2863&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;A side note is that Groovy 1.5.1 artifact available from SpringSource&lt;br/&gt;
Enterprise Bundle Repository can work just fine when used as a replacement&lt;br/&gt;
dependency. I&apos;m hoping that someone can &quot;backport&quot; i.e. contribute that&lt;br/&gt;
positive change back to Groovy itself, so there&apos;d be no need to wrap it just&lt;br/&gt;
to make it work with OSGi.&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;</comment>
                            <comment id="14464882" author="adreghiciu" created="Mon, 2 Jun 2008 04:27:26 +0000"  >&lt;p&gt;The problem is related to the missing imports for at least this packages (the list is based on S2AP artifact):&lt;/p&gt;

&lt;p&gt;    javax.management&lt;br/&gt;
    javax.sql&lt;br/&gt;
    javax.swing&lt;br/&gt;
    javax.swing.border&lt;br/&gt;
    javax.swing.event&lt;br/&gt;
    javax.swing.plaf&lt;br/&gt;
    javax.swing.plaf.metal&lt;br/&gt;
    javax.swing.table&lt;br/&gt;
    javax.swing.text&lt;br/&gt;
    javax.swing.undo&lt;br/&gt;
    javax.xml.parsers&lt;br/&gt;
    javax.xml.transform&lt;br/&gt;
    javax.xml.transform.dom&lt;br/&gt;
    javax.xml.transform.stream&lt;br/&gt;
    org.w3c.dom&lt;br/&gt;
    org.xml.sax&lt;br/&gt;
    org.xml.sax.ext&lt;br/&gt;
    org.xml.sax.helpers&lt;/p&gt;

&lt;p&gt;I think that there is also a bunch of optional packages that are not imported.&lt;/p&gt;

&lt;p&gt;Analyzing the MANIFEST.MF, it seems to me that is created and tested within eclipse and that&apos;s the reason why it is working within equinox even without imports for javax, org.w3c, org.xml packages. And it works because by default equinox doe not work in standard mode, meaning that will delegate to system class loader for any package, when by standard they should delegate only for java.* packages.&lt;br/&gt;
The Equinox story can be found here: &lt;a href=&quot;http://wiki.eclipse.org/index.php/Equinox_Boot_Delegation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.eclipse.org/index.php/Equinox_Boot_Delegation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So, a quick fix is to add the above packages to the list of exported packages.&lt;br/&gt;
A better long term fix is to use Peter Kriens bnd: &lt;a href=&quot;http://www.aqute.biz/Code/Bnd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.aqute.biz/Code/Bnd&lt;/a&gt;, tool that will generate the correct imports.&lt;/p&gt;

&lt;p&gt;If you guys want to test a standard equinox or any other osgi frameworks as Felix or Knopflerfish and you are using Eclipse you may wanna try Pax Cursor: &lt;a href=&quot;http://wiki.ops4j.org/confluence/x/0QBN&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.ops4j.org/confluence/x/0QBN&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="14464881" author="ceefour" created="Mon, 2 Jun 2008 08:15:16 +0000"  >&lt;p&gt;Jochen, is this already in snapshot so I can test it?&lt;/p&gt;

&lt;p&gt;BTW, groovy needs to export packages with proper version numbers too.&lt;/p&gt;

&lt;p&gt;i.e.&lt;/p&gt;

&lt;p&gt;Export-Package: ...., groovy.lang;version=&quot;1.5.7&quot;&lt;/p&gt;

&lt;p&gt;for 1.6:&lt;/p&gt;

&lt;p&gt;Export-Package: ...., groovy.lang;version=&quot;1.6.0.beta-2&quot;&lt;/p&gt;

&lt;p&gt;This is done for all exported packages, and taking into consideration the major.minor.micro.qualifier OSGi spec. (only qualifier can have alphanumeric characters)&lt;/p&gt;</comment>
                            <comment id="14464798" author="blackdrag" created="Mon, 2 Jun 2008 09:00:10 +0000"  >&lt;p&gt;I would have closed the issue then...btw, why is the OSGi spec that unflexible that you have to use a certain version naming convention? The debain packaging system for example is much more flexible here&lt;/p&gt;</comment>
                            <comment id="14464934" author="ceefour" created="Mon, 2 Jun 2008 09:18:14 +0000"  >&lt;p&gt;The version naming is used by versions in the manifest, not applicable for the JAR name itself or Maven artifact, for example.&lt;/p&gt;

&lt;p&gt;So the version naming syntax is only imposed on things that are OSGi-related, not the ones that are outside OSGi spec.&lt;/p&gt;

&lt;p&gt;I&apos;m unaware of the &quot;why&quot;s, you should ask the OSGi community if you&apos;re interested in authoritative answer.&lt;/p&gt;

&lt;p&gt;But my assumption is, (1) it was designed to make it easy and correct to calculate version ranges (i.e. &quot;[1.5.0,2.0)&quot;), (2) to make it as flexible as possible while keeping OSGi runtime for embedded devices doable (i.e. having acceptable performance).&lt;/p&gt;

&lt;p&gt;Besides, the version naming used in the (OSGi) manifest does not limit in any way to the actual version name used (i.e. JAR name, Maven artifact etc.).&lt;/p&gt;

&lt;p&gt;i.e you can still use versions like 2.4.0.RC5, but this kind of version is not distinguishable from 2.4.0.RELEASE, apart from specifying a strict version dependency. There are too numerous ways to define version ranges for alphanumeric versions (i.e. alpha, beta, gamma, release candidate, etc.) and for understandable reason.&lt;/p&gt;</comment>
                            <comment id="14464869" author="ceefour" created="Mon, 2 Jun 2008 09:24:42 +0000"  >&lt;p&gt;Peter Kriens also talks about OSGi version numbering (vs. JSR 277) here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.osgi.org/blog/2006/10/jsr-277-review.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/blog/2006/10/jsr-277-review.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;___ quoted ___&lt;/p&gt;

&lt;p&gt;Well, the paper document I have reviewed is heavily covered with my marker and I could continue for more pages. However, it is too much for this blog. Well, ok, last complaint: the syntax for version ranges, it is too tempting to leave it alone (though it is not that important). The industry more or less has standardized on versions with a major, micro, minor number and a string qualifier. JSR 277 adds an update number that is between minor and qualifier (Maybe one day someone can explain to me why we need all those number while the only thing that is signaled is a change that is backward compatible or not, but developers seem to like to have all those numbers). However, I have no problem adding another number beneath minor. I do have a problem with a version range syntax that is obtuse and non-standard.&lt;/p&gt;

&lt;p&gt;Intervals have a mathematical notation that is easy to understand. Parentheses are non-inclusive and brackets are inclusive. The interval 1 &amp;lt; x &amp;lt;= 5 is therefore represented as (1,5]. [2.3,5.1) indicates any version that is more or equal to 2.0 and less than 5.1. Simple, elegant, has been around since Pythagoras. Choosing this notation for the OSGi specifications was a no-brainer.&lt;/p&gt;

&lt;p&gt;Now, let us take a look at what JSR 277 brewed. They use the same terminals as regular expressions, but they have a very different meaning. A partial version can be suffixed with a + (anything later) or a * (anything with the same prefix). So if you say 1+ you mean [1,&amp;#8734;) or 1. 1* is [1,2). The JSR uses square brackets to fix the first positions while floating the last. For example, 1.&lt;span class=&quot;error&quot;&gt;&amp;#91;2.3+&amp;#93;&lt;/span&gt; is [1.2.3, &amp;#8734;) and 1.&lt;span class=&quot;error&quot;&gt;&amp;#91;2.3*&amp;#93;&lt;/span&gt; is [1.2.3,1.2.4). The JSR 277 syntax has no easy formulation for the not uncommon case [1,5). The only way to express this is with concatenation of version ranges: 1*;2*;3*;4*. Ok, enough about this strange syntax.&lt;/p&gt;</comment>
                            <comment id="14464898" author="blackdrag" created="Mon, 2 Jun 2008 09:28:58 +0000"  >&lt;p&gt;having two different version schemes for the jar and for OSGi can be error prone. So it is not a good way.&lt;/p&gt;</comment>
                            <comment id="14464919" author="ceefour" created="Mon, 2 Jun 2008 09:48:17 +0000"  >&lt;p&gt;Also the newest article: &lt;a href=&quot;http://www.osgi.org/blog/2008/05/is-9903520300447984150353281023-too.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/blog/2008/05/is-9903520300447984150353281023-too.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I really wouldn&apos;t let this to be a debate on versioning schemes.&lt;/p&gt;

&lt;p&gt;Let&apos;s go back to Groovy and its OSGi manifest.&lt;/p&gt;

&lt;p&gt;Currently Groovy&apos;s OSGi manifest does not export &lt;em&gt;any&lt;/em&gt; package version number, and that is error prone when compared to if the packages&apos; version numbers are specified.&lt;/p&gt;

&lt;p&gt;This mainly interests OSGi developers, so regular Java developers are not affected in any way.&lt;/p&gt;</comment>
                            <comment id="14464950" author="ceefour" created="Mon, 2 Jun 2008 10:41:36 +0000"  >&lt;p&gt;I&apos;ve some changes to make Groovy work under OSGi.&lt;/p&gt;

&lt;p&gt;I&apos;ll propose a patch soon. Hopefully can be accepted by the Groovy developers.&lt;/p&gt;

&lt;p&gt;osgi&amp;gt; b 3&lt;br/&gt;
initial@reference:&lt;a href=&quot;file:org.codehaus.groovy_1.6.0.beta-2-SNAPSHOT.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:org.codehaus.groovy_1.6.0.beta-2-SNAPSHOT.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;br/&gt;
  Id=3, Status=ACTIVE      Data Root=/x/equinox/org.eclipse.osgi/bundles/3/data&lt;br/&gt;
  No registered services.&lt;br/&gt;
  No services in use.&lt;br/&gt;
  Exported packages&lt;br/&gt;
    groovy.inspect; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.inspect.swingui; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.io; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.lang; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.mock; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.mock.interceptor; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.model; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.security; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.servlet; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.sql; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.swing; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.swing.binding; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.swing.factory; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.swing.impl; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.text; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.time; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.ui; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.ui.icons; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.ui.text; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.ui.view; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.util; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.util.slurpersupport; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.xml; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.xml.dom; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    groovy.xml.streamingmarkupsupport; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.ant; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.antlr; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.antlr.java; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.antlr.parser; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.antlr.treewalker; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.ast; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.ast.expr; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.ast.stmt; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.binding; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.bsf; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.classgen; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.control; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.control.io; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.control.messages; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.groovydoc; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.reflection; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.runtime; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.runtime.metaclass; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.runtime.typehandling; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.runtime.wrappers; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.syntax; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.groovydoc; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.javac; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.shell; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.shell.commands; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.shell.util; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.tools.xml; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.vmplugin; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.vmplugin.v4; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
    org.codehaus.groovy.vmplugin.v5; version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;exported&amp;#93;&lt;/span&gt;&lt;br/&gt;
  Imported packages&lt;br/&gt;
    antlr; version=&quot;2.7.7&quot;&amp;lt;initial@reference:&lt;a href=&quot;file:com.springsource.antlr_2.7.7.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:com.springsource.antlr_2.7.7.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;18&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    antlr.collections; version=&quot;2.7.7&quot;&amp;lt;initial@reference:&lt;a href=&quot;file:com.springsource.antlr_2.7.7.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:com.springsource.antlr_2.7.7.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;18&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    antlr.collections.impl; version=&quot;2.7.7&quot;&amp;lt;initial@reference:&lt;a href=&quot;file:com.springsource.antlr_2.7.7.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:com.springsource.antlr_2.7.7.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;18&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    antlr.debug.misc; version=&quot;2.7.7&quot;&amp;lt;initial@reference:&lt;a href=&quot;file:com.springsource.antlr_2.7.7.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:com.springsource.antlr_2.7.7.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;18&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    org.objectweb.asm; version=&quot;2.2.0&quot;&amp;lt;initial@reference:&lt;a href=&quot;file:com.springsource.org.objectweb.asm_2.2.0.jar/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:com.springsource.org.objectweb.asm_2.2.0.jar/&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;23&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.management; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.sql; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.border; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.event; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.plaf; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.plaf.metal; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.table; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.text; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.swing.undo; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.xml.parsers; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.xml.transform; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.xml.transform.dom; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    javax.xml.transform.stream; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    org.w3c.dom; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    org.xml.sax; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    org.xml.sax.ext; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
    org.xml.sax.helpers; version=&quot;0.0.0&quot;&amp;lt;System Bundle &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
  No fragment bundles&lt;br/&gt;
  Named class space&lt;br/&gt;
    org.codehaus.groovy; bundle-version=&quot;1.6.0.beta-2-SNAPSHOT&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;provided&amp;#93;&lt;/span&gt;&lt;br/&gt;
  No required bundles&lt;/p&gt;</comment>
                            <comment id="14464910" author="ceefour" created="Mon, 2 Jun 2008 10:43:48 +0000"  >&lt;p&gt;Patch for build.xml to make it work with OSGi out of the box.&lt;/p&gt;</comment>
                            <comment id="14464890" author="ceefour" created="Mon, 2 Jun 2008 10:46:32 +0000"  >&lt;p&gt;Patch is attached.&lt;/p&gt;

&lt;p&gt;BTW, I noticed that in build.xml:&lt;/p&gt;

&lt;p&gt;     &amp;lt;!-- TODO: investigate whether we can generate package list not hard-code it --&amp;gt;&lt;/p&gt;

&lt;p&gt;This is what Bnd does, and as a plus, you get OSGi-compliant JAR/bundle:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.aqute.biz/Code/Bnd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.aqute.biz/Code/Bnd&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14464960" author="ceefour" created="Mon, 2 Jun 2008 10:47:00 +0000"  >&lt;p&gt;Related to: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2863&quot; title=&quot;Groovy Bundle Manifest should use Import-Package instead of hardcode Require-Bundle (bundle names)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2863&quot;&gt;&lt;del&gt;GROOVY-2863&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2502&quot; title=&quot;Add OSGi headers to manifest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2502&quot;&gt;&lt;del&gt;GROOVY-2502&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14478206" author="paulk" created="Sun, 8 Jun 2008 07:37:45 +0000"  >&lt;p&gt;Can you have a look at the 1.5.7.SNAPSHOT artifact here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy/1.5.7-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy/1.5.7-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was created using bnd with the following bnd file:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;version= ${groovyBundleVersion}
-nouses= true
Export-Package= *;version=${version}
Import-Package= antlr, org.objectweb.asm, *;resolution:=optional
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I haven&apos;t looked at groovy-all, groovy-all-minimal or 1.6 yet.&lt;/p&gt;</comment>
                            <comment id="14464914" author="ceefour" created="Mon, 9 Jun 2008 09:58:09 +0000"  >&lt;p&gt;Amazing work Paul!&lt;/p&gt;

&lt;p&gt;osgi&amp;gt; STARTING test.groovyosgi&lt;br/&gt;
Below should print Hello World from Groovy... but instead, bundle cannot start, starting bundle will give error.&lt;br/&gt;
Hello World from Groovy!&lt;/p&gt;

&lt;p&gt;osgi&amp;gt; ss&lt;/p&gt;

&lt;p&gt;Framework is launched.&lt;/p&gt;

&lt;p&gt;id	State       Bundle&lt;br/&gt;
0	ACTIVE      org.eclipse.osgi_3.3.2.R33x_v20080105&lt;br/&gt;
1	ACTIVE      org.eclipse.osgi.util_3.1.200.v20070605&lt;br/&gt;
2	ACTIVE      org.eclipse.osgi.services_3.1.200.v20070605&lt;br/&gt;
3	ACTIVE      test.groovyosgi_1.0.0.SNAPSHOT&lt;br/&gt;
4	ACTIVE      osgi.core_4.1.0.build-200702212030&lt;br/&gt;
5	ACTIVE      org.ops4j.pax.logging.pax-logging-api_1.2.0.SNAPSHOT&lt;br/&gt;
6	ACTIVE      org.ops4j.pax.logging.pax-logging-service_1.2.0.SNAPSHOT&lt;br/&gt;
7	ACTIVE      com.springsource.antlr_2.7.7&lt;br/&gt;
8	ACTIVE      com.springsource.org.objectweb.asm.util_2.2.0&lt;br/&gt;
9	ACTIVE      com.springsource.org.objectweb.asm.tree.attrs_2.2.0&lt;br/&gt;
10	ACTIVE      com.springsource.org.objectweb.asm.tree.analysis_2.2.0&lt;br/&gt;
11	ACTIVE      com.springsource.org.objectweb.asm.tree_2.2.0&lt;br/&gt;
12	ACTIVE      com.springsource.org.objectweb.asm_2.2.0&lt;br/&gt;
13	ACTIVE      groovy-1.5.7-SNAPSHOT_1.5.7.SNAPSHOT&lt;/p&gt;


&lt;p&gt;Yep, it works as advertised &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Test project is here: &lt;a href=&quot;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groovyosgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groovyosgi&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;I hope the fix is also for 1.6.beta &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14478201" author="paulk" created="Tue, 10 Jun 2008 09:00:42 +0000"  >&lt;p&gt;Any chance you can recheck the 1.5.7-SNAPSHOT groovy artefact (it may have changed slightly) and also the groovy-all and groovy-all-minimal artefacts here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://snapshots.repository.codehaus.org/org/codehaus/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapshots.repository.codehaus.org/org/codehaus/groovy&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll then port to 1.6.&lt;br/&gt;
Also, is there any easy way for me to check these myself?&lt;/p&gt;
</comment>
                            <comment id="14464965" author="ceefour" created="Tue, 10 Jun 2008 09:39:25 +0000"  >&lt;p&gt;Yes, there is a very easy way.&lt;/p&gt;

&lt;p&gt;Just check out this project:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groovyosgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://scm.ops4j.org/repos/ops4j/laboratory/users/ceefour/test.groovyosgi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and do mvn install pax:provision&lt;/p&gt;

&lt;p&gt;Editing the pom.xml (and doing mvn -U clean install) will allow you to switch Groovy snapshot versions easily.&lt;/p&gt;


&lt;p&gt;PS: I&apos;m not sure if OPS4J uses a guest account for SVN read-only access (see &lt;a href=&quot;http://wiki.ops4j.org/confluence/display/ops4j/Open+Participation+Software+for+Java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.ops4j.org/confluence/display/ops4j/Open+Participation+Software+for+Java&lt;/a&gt;). But a quick register allows full read-write access to that SVN.&lt;/p&gt;</comment>
                            <comment id="14478192" author="paulk" created="Wed, 11 Jun 2008 08:03:22 +0000"  >&lt;p&gt;This is now working for the 1.5.7 and 1.6.0-beta-2 standard snapshots. It also works for the 1.6 groovy-all-jdk14 snapshot artifact but not the groovy-jdk14 artifact. I presume it is due to unresolved dependencies, e.g.:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  Missing imported package com.thoughtworks.xstream_0.0.0.
  Missing imported package edu.emory.mathcs.backport.java.util_0.0.0.
  Missing imported package edu.emory.mathcs.backport.java.util.concurrent_0.0.0.
  Missing imported package edu.emory.mathcs.backport.java.util.concurrent.atomic_0.0.0.
  Missing imported package edu.emory.mathcs.backport.java.util.concurrent.locks_0.0.0.
  Missing imported package groovy.runtime.metaclass_0.0.0.
  Missing imported package javax.servlet_0.0.0.
  Missing imported package javax.servlet.http_0.0.0.
  Missing imported package javax.servlet.jsp_0.0.0.
  Missing imported package jline_0.0.0.
  Missing imported package junit.framework_0.0.0.
  Missing imported package junit.textui_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.lang_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.lang.annotation_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.lang.reflect_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.net_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.util_0.0.0.
  Missing imported package org.apache.bsf_0.0.0.
  Missing imported package org.apache.bsf.util_0.0.0.
  Missing imported package org.apache.commons.cli_0.0.0.
  Missing imported package org.apache.tools.ant_0.0.0.
  Missing imported package org.apache.tools.ant.helper_0.0.0.
  Missing imported package org.apache.tools.ant.input_0.0.0.
  Missing imported package org.apache.tools.ant.taskdefs_0.0.0.
  Missing imported package org.apache.tools.ant.types_0.0.0.
  Missing imported package org.apache.tools.ant.util_0.0.0.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Most of these are optional dependencies but I am not sure whether &lt;tt&gt;net.sf.retrotranslator.runtime&lt;/tt&gt; and &lt;tt&gt;edu.emory.mathcs.backport.java.util.concurrent&lt;/tt&gt; are required.&lt;/p&gt;

&lt;p&gt;This is using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.codehaus.groovy&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;groovy-jdk14&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.6-beta-2-SNAPSHOT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478225" author="paulk" created="Wed, 11 Jun 2008 08:24:35 +0000"  >&lt;p&gt;When using &lt;tt&gt;groovy-all-jdk14&lt;/tt&gt; it seems to start up but also has missing dependencies:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  Missing imported package com.thoughtworks.xstream_0.0.0.
  Missing imported package groovy.runtime.metaclass_0.0.0.
  Missing imported package groovyjarjarasm.asm.tree.analysis_0.0.0.
  Missing imported package groovyjarjarasm.asm.util_0.0.0.
  Missing imported package javax.servlet_0.0.0.
  Missing imported package javax.servlet.http_0.0.0.
  Missing imported package javax.servlet.jsp_0.0.0.
  Missing imported package jline_0.0.0.
  Missing imported package junit.framework_0.0.0.
  Missing imported package junit.textui_0.0.0.
  Missing imported package net.sf.retrotranslator.runtime.java.lang.annotation_0.0.0.
  Missing imported package org.apache.bsf_0.0.0.
  Missing imported package org.apache.bsf.util_0.0.0.
  Missing imported package org.apache.commons.cli_0.0.0.
  Missing imported package org.apache.commons.lang_0.0.0.
  Missing imported package org.apache.tools.ant_0.0.0.
  Missing imported package org.apache.tools.ant.helper_0.0.0.
  Missing imported package org.apache.tools.ant.input_0.0.0.
  Missing imported package org.apache.tools.ant.taskdefs_0.0.0.
  Missing imported package org.apache.tools.ant.types_0.0.0.
  Missing imported package org.apache.tools.ant.util_0.0.0.
  Missing imported package sun.misc_0.0.0.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14464923" author="ceefour" created="Wed, 11 Jun 2008 11:40:58 +0000"  >&lt;p&gt;Thanks a lot Paul.&lt;/p&gt;

&lt;p&gt;I&apos;d speculate that marking dependencies as optional are fine for typical cases. i.e. if you can run simple Groovy Hello World without that package, then it should be optional.&lt;/p&gt;

&lt;p&gt;The application developer should care about the optional packages used by Groovy, if he/she decide it&apos;s necessary for his use case.&lt;/p&gt;</comment>
                            <comment id="14464984" author="paulk" created="Wed, 11 Jun 2008 18:38:25 +0000"  >&lt;p&gt;So what you are saying is OSGi is not going to know about the pom which indicates that for instance net.sf.retrotranslator.runtime is a required dependency instead I need to ensure that an OSGi compatible artifact exists for that dependency?&lt;/p&gt;

&lt;p&gt;In other words, probably this issue can be closed. Someone can use the groovy-all-jdk14 artifact if they don&apos;t want more work to do but if they don&apos;t want that and choose the groovy-jdk14 artifact then the work is on them to provide that themselves.&lt;/p&gt;</comment>
                            <comment id="14464915" author="ceefour" created="Wed, 11 Jun 2008 21:25:48 +0000"  >&lt;p&gt;What I meant is if Groovy runs fine without that package, then that package should be marked as optional.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure from all these packages, which are required and which are optional (to Groovy). OSGi has a way to mark a package for either case.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;p&gt;Import-Package: net.sf.retrotranslator.runtime, javax.servlet;resolution:=optional&lt;/p&gt;

&lt;p&gt;means that javax.servlet is optional and net.sf.retrotranslator.runtime is not optional. A required dependency that is not satisfied will prevent the bundle to get to &quot;RESOLVED&quot; state.&lt;/p&gt;

&lt;p&gt;That&apos;s the runtime issue, now about the POM.&lt;/p&gt;

&lt;p&gt;mvn pax:provision / Pax-Runner does not automatically install the dependencies of a depended POM (i.e. transitive dependencies).&lt;/p&gt;

&lt;p&gt;If it were the case, I&apos;d simply depend on Groovy, and Groovy will bring in asm, antlr, etc. Having the project POM depended on Groovy will compile the project with Groovy and all its transitive dependencies. However, at OSGi runtime when launching using mvn-pax-provision/Pax-Runner, only the direct dependencies are installed, not the transitive ones. The rationale for this is understandable, but can be inconvenient and slightly confusing at first.&lt;/p&gt;

&lt;p&gt;This is why that in the project POM, I manually specify the dependencies to asm, antlr, etc. so they will be launched by pax-provision.&lt;/p&gt;

&lt;p&gt;To Groovy packager though, this should not be their issue, it&apos;s application developer&apos;s issue.&lt;/p&gt;

&lt;p&gt;Traditional Java has no way of specifying which packages should be in the classpath, you&apos;ll only get a runtime ClassNotFoundException.&lt;/p&gt;

&lt;p&gt;OSGi provides a way of bundles specifying which packages it will need (required), or may use (optional). But it does not specify where it will find these required dependencies if the application developer does not install them at runtime.&lt;/p&gt;

&lt;p&gt;This is one way of saying that it&apos;s modular. The Groovy developer can specify the packages it require, but not mandate the exact artifact (or implementation) that the application developer will use.&lt;/p&gt;

&lt;p&gt;A typical situation is a dependency to commons-logging, which resides in org.apache.commons.logging package. At runtime, we don&apos;t need to install commons-logging itself, but can use e.g. pax-logging-api, which satisfies this dependency just fine. Although the dependent library may not know about pax-logging-api.&lt;/p&gt;

&lt;p&gt;Rereading thoroughly your statement, it seems that your conclusion is correct. A way to supply dependencies directly is to package the dependencies within the bundle (perhaps this is what the groovy-all-jdk14 does??) however in most cases an open external dependency is recommended, as it leaves the &quot;wiring&quot; to the application developer (which they should, or they can use tools like Eclipse PDE that can find matching bundles that satisfy dependencies for them).&lt;/p&gt;</comment>
                            <comment id="14478217" author="paulk" created="Thu, 12 Jun 2008 08:00:24 +0000"  >&lt;p&gt;I added &lt;tt&gt;net.sf.retrotranslator.runtime.java.lang&lt;/tt&gt; as a required &lt;tt&gt;Import-Package&lt;/tt&gt; to the &lt;tt&gt;groovy-jdk14&lt;/tt&gt; artifact. This forces OSGi application developers to provide that dependency in a bundle if they make use of that version of the Groovy bundle.&lt;/p&gt;</comment>
                            <comment id="14478210" author="paulk" created="Thu, 12 Jun 2008 08:06:07 +0000"  >&lt;p&gt;To test this, I added the following dependencies to the Pax Runner example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;backport-util-concurrent&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;backport-util-concurrent&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.1-bundle&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;net.sf.retrotranslator&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;retrotranslator-runtime&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2.4-bundle&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478229" author="paulk" created="Thu, 12 Jun 2008 08:09:10 +0000"  >&lt;p&gt;... and created the relevant bundles using bnd with the following bnd property files:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;retrotranslator-runtime.bnd&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;-nouses= true
Export-Package= *;version=1.2.4
Import-Package= edu.emory.mathcs.backport.java.util.concurrent.locks, *;resolution:=optional
Bundle-Version: 1.2.4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;backport-util.concurrent.bnd&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;-nouses= true
Export-Package= *;version=3.1
Import-Package= !sun.misc, *;resolution:=optional
Bundle-Version: 3.1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478207" author="paulk" created="Thu, 12 Jun 2008 08:12:47 +0000"  >&lt;p&gt;This now starts up and runs fine. Doing a diag on the groovy-jdk14 bundle reveals the following unresolved dependencies:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  Missing imported package com.thoughtworks.xstream_0.0.0.
  Missing imported package groovy.runtime.metaclass_0.0.0.
  Missing imported package javax.servlet_0.0.0.
  Missing imported package javax.servlet.http_0.0.0.
  Missing imported package javax.servlet.jsp_0.0.0.
  Missing imported package jline_0.0.0.
  Missing imported package junit.framework_0.0.0.
  Missing imported package junit.textui_0.0.0.
  Missing imported package org.apache.bsf_0.0.0.
  Missing imported package org.apache.bsf.util_0.0.0.
  Missing imported package org.apache.commons.cli_0.0.0.
  Missing imported package org.apache.tools.ant_0.0.0.
  Missing imported package org.apache.tools.ant.helper_0.0.0.
  Missing imported package org.apache.tools.ant.input_0.0.0.
  Missing imported package org.apache.tools.ant.taskdefs_0.0.0.
  Missing imported package org.apache.tools.ant.types_0.0.0.
  Missing imported package org.apache.tools.ant.util_0.0.0.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All these look bar one look like the optional dependencies. I am not sure why &lt;tt&gt;groovy.runtime.metaclass&lt;/tt&gt; is there.&lt;/p&gt;

&lt;p&gt;In any case, I think we can close the issue now. If the &lt;tt&gt;groovy.runtime.metaclass&lt;/tt&gt; package turns out to be a problem, we can create a new specific issue for that.&lt;/p&gt;</comment>
                            <comment id="14464978" author="ceefour" created="Thu, 12 Jun 2008 09:03:44 +0000"  >&lt;p&gt;Thanks a lot Paul.&lt;/p&gt;

&lt;p&gt;I suggested this issue, but you actually investigated it to the very end &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Don&apos;t even know that much Bnd syntaxes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721342" name="build.xml.GROOVY-2876.patch" size="7645" author="ceefour" created="Mon, 2 Jun 2008 10:43:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c4f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>