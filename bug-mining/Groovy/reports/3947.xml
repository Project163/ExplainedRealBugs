<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:09:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9093] SC: subclass access to package-private or private field is not indicated as an error</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9093</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Consider the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.*
@CompileStatic &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main {
  @PackageScope static final &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONST = &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt;
  static main(args) {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; q.Sub().meth()
  }
}

&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; q
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.*
@CompileStatic &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Sub &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; p.Main {
  void meth() {
    print CONST
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code compiles but throws an IllegalAccessError at run-time.  Since a subclass should not have access to it&apos;s parent&apos;s private or package-private members (if located in a different package), there should be a compile-time error like &quot;Access to Main#CONST is forbidden @ line -1, column -1.&quot;&lt;/p&gt;

&lt;p&gt;Replacing &quot;@PackageScope&quot; with &quot;private&quot; should get the same compile-time error but produces &quot;MissingPropertyExceptionNoStack: No such property: CONST for class: q.Sub&quot; at run-time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13228922">GROOVY-9093</key>
            <summary>SC: subclass access to package-private or private field is not indicated as an error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2019 18:14:38 +0000</created>
                <updated>Sat, 22 Jan 2022 15:20:21 +0000</updated>
                            <resolved>Wed, 4 Nov 2020 00:07:45 +0000</resolved>
                                    <version>2.4.16</version>
                    <version>3.0.0-alpha-4</version>
                    <version>2.5.6</version>
                                    <fixVersion>4.0.0-alpha-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16827147" author="emilles" created="Fri, 26 Apr 2019 17:33:51 +0000"  >&lt;p&gt;If &lt;tt&gt;meth&lt;/tt&gt; is made static, the STC error is present.  A non-static method takes a different route through &lt;tt&gt;AsmClassGenerator.visitPropertyExpression&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void visitPropertyExpression(PropertyExpression expression) {
        ...
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (controller.getCompileStack().isLHS()) {
            &lt;span class=&quot;code-comment&quot;&gt;//operandStack.box();
&lt;/span&gt;            adapter = setProperty;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isGroovyObject(objectExpression)) adapter = setGroovyObjectProperty;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isThisOrSuperInStaticContext(objectExpression)) adapter = setProperty;
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            adapter = getProperty;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isGroovyObject(objectExpression)) adapter = getGroovyObjectProperty; &lt;span class=&quot;code-comment&quot;&gt;// evaluates to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; both &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; and non-&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; method
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isThisOrSuperInStaticContext(objectExpression)) adapter = getProperty; &lt;span class=&quot;code-comment&quot;&gt;// evaluates to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; only &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; method
&lt;/span&gt;        }
        visitAttributeOrProperty(expression, adapter);
        ...
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This results in a path for the non-static method&apos;s property at the end of &lt;tt&gt;visitAttributeOrProperty&lt;/tt&gt; that does not include an error for private field from super class.&lt;/p&gt;</comment>
                            <comment id="16960628" author="emilles" created="Sun, 27 Oct 2019 15:19:43 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7165&quot; title=&quot;Static Compilation: private static field accessed from a Closure produces a runtime error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7165&quot;&gt;&lt;del&gt;GROOVY-7165&lt;/del&gt;&lt;/a&gt;, a similar situation ends up as a MissingPropertyException because the search for CONST does not include private static fields.  Essentially they are hidden from subclasses, which I think is correct behavior.&lt;/p&gt;</comment>
                            <comment id="17118952" author="emilles" created="Thu, 28 May 2020 18:01:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9292&quot; title=&quot;Compilation error when accessing a protected super class field from a closure using owner, delegate or thisObject qualifier (different package)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9292&quot;&gt;&lt;del&gt;GROOVY-9292&lt;/del&gt;&lt;/a&gt; looks similar...for closure access to fields and properties.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12817091">GROOVY-6278</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01xq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>