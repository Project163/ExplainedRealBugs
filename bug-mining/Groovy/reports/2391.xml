<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:37:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6434] @Newify AST transformation doesn&apos;t work for closure</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6434</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Newify([&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;])
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test1() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;ABC&quot;&lt;/span&gt;)
}

@Newify([&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;])
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test2() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; { -&amp;gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;ABC&quot;&lt;/span&gt;) }.call()
}

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ABC&quot;&lt;/span&gt;==test1()
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ABC&quot;&lt;/span&gt;==test2()

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;results in:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Caught: groovy.lang.MissingMethodException: No signature of method: x.String() is applicable for argument types: (java.lang.String) values: &lt;span class=&quot;error&quot;&gt;&amp;#91;ABC&amp;#93;&lt;/span&gt;&lt;br/&gt;
Possible solutions: toString(), toString(), print(java.lang.Object), print(java.lang.Object), print(java.io.PrintWriter), run()&lt;br/&gt;
groovy.lang.MissingMethodException: No signature of method: x.String() is applicable for argument types: (java.lang.String) values: &lt;span class=&quot;error&quot;&gt;&amp;#91;ABC&amp;#93;&lt;/span&gt;&lt;br/&gt;
Possible solutions: toString(), toString(), print(java.lang.Object), print(java.lang.Object), print(java.io.PrintWriter), run()&lt;br/&gt;
	at x$_test2_closure1.doCall(x.groovy:9)&lt;br/&gt;
	at x.test2(x.groovy:9)&lt;br/&gt;
	at x$test2$0.callCurrent(Unknown Source)&lt;br/&gt;
	at x.run(x.groovy:13)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I expect this test2 works as well as test1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817233">GROOVY-6434</key>
            <summary>@Newify AST transformation doesn&apos;t work for closure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="uehaj">UEHARA Junji</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Nov 2013 15:10:33 +0000</created>
                <updated>Mon, 1 Aug 2022 14:06:42 +0000</updated>
                            <resolved>Mon, 18 Nov 2013 05:23:37 +0000</resolved>
                                    <version>2.2.0-rc-3</version>
                                    <fixVersion>2.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14480372" author="paulk" created="Sat, 16 Nov 2013 00:02:27 +0000"  >&lt;p&gt;This is for the same reason as &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6421&quot; title=&quot;Newify fails for local variable assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6421&quot;&gt;&lt;del&gt;GROOVY-6421&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14480394" author="paulk" created="Sun, 17 Nov 2013 17:05:00 +0000"  >&lt;p&gt;Closures should now work but not all inner code is hooked up yet, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Newify &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test() {
  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;() { def x() { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&apos;ABC&apos;&lt;/span&gt;) } }.x()
}
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ABC&quot;&lt;/span&gt;==test()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ll leave this issue open until I create another one for that case.&lt;/p&gt;</comment>
                            <comment id="14480387" author="paulk" created="Mon, 18 Nov 2013 05:23:37 +0000"  >&lt;p&gt;OK, I cloned the issue to handle the anonymous inner class case and will now resolve this one.&lt;/p&gt;</comment>
                            <comment id="14475199" author="uehaj" created="Thu, 21 Nov 2013 03:57:21 +0000"  >&lt;p&gt;Thanks, it worked well for my purpose.&lt;br/&gt;
I tried:&lt;/p&gt;

&lt;p&gt;Groovy Version: 2.2.1-SNAPSHOT JVM: 1.7.0_10 Vendor: Oracle Corporation OS: Mac OS X&lt;/p&gt;

&lt;p&gt;I appreciate it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13474539">GROOVY-10713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cffr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>