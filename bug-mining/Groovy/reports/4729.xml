<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:23:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6567] delegate is NullObject instance for closure metamethods invoked on null</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6567</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;NullObject shouldn&apos;t be exposed outside groovy internals.&lt;/p&gt;

&lt;p&gt;This code example shows when NullObject leaks to application code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.metaClass.delegateClass = { 
    delegate?.getClass()
}
println &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.delegateClass().name
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This prints out &quot;org.codehaus.groovy.runtime.NullObject&quot;.&lt;/p&gt;

&lt;p&gt;-------&lt;/p&gt;

&lt;p&gt;possible solution:&lt;/p&gt;

&lt;p&gt;I assume that NullObject should be &quot;filtered&quot; in &lt;a href=&quot;https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/runtime/metaclass/ClosureMetaMethod.java#L77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ClosureMetaMethod&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; invoke(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; object, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] arguments) {
        Closure cloned = (Closure) callable.clone();
        cloned.setDelegate(object);

        arguments = coerceArgumentsToClasses(arguments);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; doCall.invoke(cloned, arguments);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;replacing &quot;cloned.setDelegate(object)&quot; with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cloned.setDelegate(!(object &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; NullObject) ? object : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;would prevent the leak of NullObject in ClosureMetaMethod class.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12818286">GROOVY-6567</key>
            <summary>delegate is NullObject instance for closure metamethods invoked on null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="lhotari">Lari Hotari</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Feb 2014 09:51:50 +0000</created>
                <updated>Fri, 22 Dec 2023 11:38:27 +0000</updated>
                            <resolved>Tue, 17 Oct 2023 17:31:52 +0000</resolved>
                                    <version>2.4.0-rc-1</version>
                                    <fixVersion>5.0.0-alpha-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14475401" author="lhotari" created="Mon, 10 Feb 2014 10:39:55 +0000"  >&lt;p&gt;This example throws NullPointerException in safe navigation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.metaClass.delegateClass = { 
    delegate?.class?.name
}
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.delegateClass()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14475438" author="lhotari" created="Mon, 10 Feb 2014 10:41:07 +0000"  >&lt;p&gt;this returns false:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.metaClass.delegateClass = { 
    (delegate == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) as &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
}
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.delegateClass()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14475476" author="lhotari" created="Mon, 10 Feb 2014 10:47:52 +0000"  >&lt;p&gt;possibly related issues: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4526&quot; title=&quot;NullObject paradoxes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4526&quot;&gt;&lt;del&gt;GROOVY-4526&lt;/del&gt;&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5769&quot; title=&quot;NullObject leak&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5769&quot;&gt;&lt;del&gt;GROOVY-5769&lt;/del&gt;&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4487&quot; title=&quot;null.class inconsistent with null.getClass() [NullObject]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4487&quot;&gt;&lt;del&gt;GROOVY-4487&lt;/del&gt;&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4985&quot; title=&quot;null and .with{}&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4985&quot;&gt;&lt;del&gt;GROOVY-4985&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17776303" author="emilles" created="Tue, 17 Oct 2023 17:31:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/f605090b88fc2b1a7bffcd32b032d38d7b0989fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/f605090b88fc2b1a7bffcd32b032d38d7b0989fa&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13554298">GROOVY-11196</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cs2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>