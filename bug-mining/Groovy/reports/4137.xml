<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:13:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8946] @CompileStatic ignores declared type and forces a cast when inside a closure</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8946</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Using a typed method (which happens to be JSON.parse from grails.converters) but handling stuff as `Object` still makes the compiler generate a cast to the infered value type, ignoring the declared type.&lt;/p&gt;

&lt;p&gt;I wanted to reproduce this as close as possible, so my snippet grabs stuff from grails. However, this should be easily reproducible with a simple typed method instead of using the grails stuff.&lt;/p&gt;

&lt;p&gt;For readability&apos;s sake, the original code (greatly simplified bellow) tries to navigate through a json object with a deep path like &apos;a.b.c&apos;, in which the values at each step could be multidimensional or not (and implicit `collect`s happens when it is).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@GrabResolver(name = &lt;span class=&quot;code-quote&quot;&gt;&apos;r1&apos;&lt;/span&gt;, root = &lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//repo.grails.org/grails/core&apos;&lt;/span&gt;)
&lt;/span&gt;@Grapes([
    @Grab(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.grails.plugins:converters:3.3.+&quot;&lt;/span&gt;),
    @Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.grails&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;grails-encoder&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;3.3.+&apos;&lt;/span&gt;),
    @Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.grails&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;grails-web&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;3.3.+&apos;&lt;/span&gt;),
    @Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;commons-io&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;commons-io&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;2.3&apos;&lt;/span&gt;),
])
@GrabExclude(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.groovy:groovy-xml&apos;&lt;/span&gt;)

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; grails.converters.JSON
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;What {

    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void _do() {
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; json = JSON.parse(&lt;span class=&quot;code-quote&quot;&gt;&apos;[{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:1},{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:2}]&apos;&lt;/span&gt;)

        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; json2 = json[&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;]

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; res = &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;.tokenize(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;).every { &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; token -&amp;gt;
            json = json[token]&lt;span class=&quot;code-comment&quot;&gt;//MARK, ERROR
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; json
        }

        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; json == [1, 2]
    }

}

What._do()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I try to run that, I get:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object &apos;[1, 2]&apos; with class &apos;java.util.ArrayList&apos; to class &apos;org.grails.web.json.JSONElement&apos; due to: groovy.lang.GroovyRuntimeException: Could not find matching constructor for: org.grails.web.json.JSONElement(Integer, Integer)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And the bytecode for the relevant code is (Luyten is the decompiler of choice, but I&apos;ve seen the same with groovyConsole&apos;s inner AST browser):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;outside `json` reference
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Reference json = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Reference((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)JSON.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;[{\&quot;&lt;/span&gt;a\&lt;span class=&quot;code-quote&quot;&gt;&quot;:1},{\&quot;&lt;/span&gt;a\&lt;span class=&quot;code-quote&quot;&gt;&quot;:2}]&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;closure inner `json` reference
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;/* synthetic */&lt;/span&gt; Reference json;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;marked line
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
json.set((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)ScriptBytecodeAdapter.castToType(DefaultGroovyMethods.getAt(json.get(), token), (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;)JSONElement.class));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have tried that with:&lt;br/&gt;
 groovy: 2.4.&lt;span class=&quot;error&quot;&gt;&amp;#91;11..16&amp;#93;&lt;/span&gt;, 2.5.5, 3.0.0-alpha-3&lt;/p&gt;

&lt;p&gt;Things that make it run/compile properly:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;casting `JSON.parse(...)` to `(Object)`&lt;/li&gt;
	&lt;li&gt;removing `@CompileStatic`&lt;/li&gt;
	&lt;li&gt;using `JsonSlurper` (which already returns `Object`)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I understand that type inference from flow is useful and important, but shouldn&apos;t it respect the declared type whenever it differs from def? It&apos;s not inside a type guard, nor did I use a `JSONElement` specific member to rightfully trigger it. I may be wrong and this could be by design, but I couldn&apos;t find something to justify this out-of-sight cast.&lt;/p&gt;

&lt;p&gt;Also, the other/last argument I have in favor of it being a bug is that the same operation, if done outside the closure, compiles just fine:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; json2 = DefaultGroovyMethods.getAt((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)json.get(), &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Linux wmtz00088 4.4.0-141-generic #167-Ubuntu SMP Wed Dec 5 10:40:15 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux&lt;br/&gt;
</environment>
        <key id="13207780">GROOVY-8946</key>
            <summary>@CompileStatic ignores declared type and forces a cast when inside a closure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="kikoalemao">Frederico Costa Galv&#227;o</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jan 2019 00:53:39 +0000</created>
                <updated>Wed, 29 Nov 2023 21:34:37 +0000</updated>
                            <resolved>Mon, 17 May 2021 17:59:26 +0000</resolved>
                                    <version>2.4.16</version>
                    <version>3.0.0-alpha-3</version>
                    <version>2.5.5</version>
                                    <fixVersion>4.0.0-beta-1</fixVersion>
                    <fixVersion>3.0.20</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16734866" author="blackdrag" created="Sat, 5 Jan 2019 11:39:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kikoalemao&quot; class=&quot;user-hover&quot; rel=&quot;kikoalemao&quot;&gt;kikoalemao&lt;/a&gt; the code passes compilation, thus it should not have failed at runtime in this way.&lt;/p&gt;

&lt;p&gt;How does Reference work? Whenever you write a variable in a closure a Reference is used. The type for the variable in the reference is retained at compile time. That means code like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; x
1.times { x = &lt;span class=&quot;code-quote&quot;&gt;&quot;s&quot;&lt;/span&gt; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will compile to code that will cast the right side of the x=&quot;s&quot; assignment to String before storing the value in the Reference. That is why you have the cast to JSONElement via castToType in there. This mechanic is not specific to static compilation. You would find for non-static compilation as well, only that the cast is omitted if the compiler recognizes it is not required... for example if the variable is of type Object.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Now with Closure and flow typing things are a bit more complicated. We do not know when and if the Closure is executed. Because of that the type must actually be an intersection type of the new values inferred type and the already inferred type before. Strictly spoken this is not needed if the variable is not used after the Closure anymore, but that could lead to problems of understanding. Which means in&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
T t = ...
1.times { t = s }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;we will have in line 2 a new type for t that is the intersection of T and S (be S the inferred type of s). Let&apos;s call this X. Since the compiler emits type in bytecode for the declaration it should actually compile to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
X t = (X) ...
1.times { t = (X) s }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;since Object.getAt is used in your example for json&lt;span class=&quot;error&quot;&gt;&amp;#91;token&amp;#93;&lt;/span&gt;, My expectation is that X is Object alone (no interfaces Serializable or JSONElement on it as well).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt; do you think my analysis is correct so far? &lt;/p&gt;

&lt;p&gt;Obviously this is not the case.&lt;/p&gt;</comment>
                            <comment id="16734970" author="kikoalemao" created="Sat, 5 Jan 2019 18:27:42 +0000"  >&lt;p&gt;Thanks for your time, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;I&apos;m slightly familiar with how a reference work in that sense, mainly from inspecting groovy bytecode to understand its inner workings. Thanks anyway for clarifying it!&lt;br/&gt;
 The fact that both the outer and inner reference declarations retained the Object type (or rather no type at all) is a reinforcement to my point, AFAIK.&lt;/p&gt;

&lt;p&gt;My partial familiarity with flow typing (both from Java/Groovy&apos;s and Typescript&apos;s inner workings), makes me believe that it&apos;s exactly because of how the intersection type should work that I suspected this was a bug: even if JSON.parse has a declared return value of JSONElement (which it does), which makes the inferred value type JSONElement, the fact that both &amp;lt;the declared type&amp;gt; and &amp;lt;the late type from DefaultGroovyMethod.getAt&amp;gt; are both Object makes it so that &amp;lt;JSONElement || Object&amp;gt; can only be &amp;lt;Object&amp;gt; in a nominal typing system, unless groovyc could see through the raw typing of DGM.getAt and infer that it would return another JSONElement (but it&apos;d be wrong anyway, as it could be a scalar/primitive).&lt;br/&gt;
 This is not the first time I&apos;ve seen groovyc ignore the explicitly declared type and take control with flow typing, but I don&apos;t have any other scenario to provide at the moment.&lt;/p&gt;

&lt;p&gt;I&apos;m looking forward to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt;&apos;s take on this.&lt;/p&gt;</comment>
                            <comment id="16831132" author="emilles" created="Wed, 1 May 2019 17:02:02 +0000"  >&lt;p&gt;So, you have saved a &lt;tt&gt;JSONElement&lt;/tt&gt; to local variable &lt;tt&gt;json&lt;/tt&gt;: &lt;tt&gt;Object json = JSON.parse(...)&lt;/tt&gt;.  Then you conditionally assign an &lt;tt&gt;ArrayList&lt;/tt&gt; to that same variable (from within a closure): &lt;tt&gt;json = json&lt;span class=&quot;error&quot;&gt;&amp;#91;token&amp;#93;&lt;/span&gt;&lt;/tt&gt;.  Since static analysis cannot determine that the closure body is executed for sure, that type cannot be included in the flow typing result for the variable.  Seems reasonable to me that the assignment should be flagged as an error.&lt;/p&gt;

&lt;p&gt;What outcome are you seeking?&lt;/p&gt;</comment>
                            <comment id="16839052" author="kikoalemao" created="Tue, 14 May 2019 03:32:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; I just wish it would respect/believe in what I provide as the type for the variable. Forcing type inference through the closure shell in this case breaks immediate variance in a way that makes explicit casts the only &quot;solution&quot;, and that doesn&apos;t seem amazing.&lt;/p&gt;

&lt;p&gt;The outcome I was seeking was to declare a variable as Object and be able to handle it as such everywhere. If I need to explicitly cast it to JSONElement for anything, that&apos;s on me.&lt;/p&gt;</comment>
                            <comment id="16839458" author="emilles" created="Tue, 14 May 2019 14:22:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kikoalemao&quot; class=&quot;user-hover&quot; rel=&quot;kikoalemao&quot;&gt;kikoalemao&lt;/a&gt; I agree there are flow-typing situations that work against developer intuition.  I have filed similar bugs myself.&lt;/p&gt;

&lt;p&gt;The simplest workaround available at the moment is to typecast the very first assignment &amp;#8211; this sets Object as the type in the flow typing algorithm, instead of the expression type of &lt;tt&gt;JSON.parse&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
    @CompileStatic
    void test() {
        &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; json = (&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;) JSON.parse(&lt;span class=&quot;code-quote&quot;&gt;&apos;[{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:1},{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:2}]&apos;&lt;/span&gt;)
        ...
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; result = &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;.tokenize(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;).every { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; token -&amp;gt;
            json = json[token]
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; json
        }
        ...
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is there a real situation where you need to be able to use a boolean every method to set some reference?  I&apos;m trying to see beyond the simple example that demonstrates the compiler error.&lt;/p&gt;</comment>
                            <comment id="16839940" author="kikoalemao" created="Wed, 15 May 2019 02:38:32 +0000"  >&lt;p&gt;In the original code, it is used to verify the existence of a deep property reference (json path). So to assert that the whole path is &quot;true&quot;, every step needs to be &quot;true&quot; along the way. There are sibling codes to that one, which actually gets the value at the end of the json path reference, and the compiler error happens on all of them (the deep iteration is similar).&lt;/p&gt;</comment>
                            <comment id="16947021" author="emilles" created="Tue, 8 Oct 2019 16:11:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kikoalemao&quot; class=&quot;user-hover&quot; rel=&quot;kikoalemao&quot;&gt;kikoalemao&lt;/a&gt; One thing I have used to get at a deeply nested value or struct within a JSON body is &lt;tt&gt;Eval&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
    /**
     * Evaluates the specified path expression against the supplied JSON.
     *
     * @param path JSON path expression like {@code &lt;span class=&quot;code-quote&quot;&gt;&apos;$.filter.bool.must[0].query.match&apos;&lt;/span&gt;}
     */
    static &amp;lt;T&amp;gt; T evalPath(CharSequence json, CharSequence path)
    {
        path = StringUtils.removeStart(path.toString(), &lt;span class=&quot;code-quote&quot;&gt;&apos;$.&apos;&lt;/span&gt;)
        &lt;span class=&quot;code-comment&quot;&gt;// create a GString expression from the supplied path and evaluate it
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; result = Eval.me(&lt;span class=&quot;code-quote&quot;&gt;&apos;json&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JsonSlurper().parseText(json.toString()), &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;${json.&apos;&lt;/span&gt; + path + &lt;span class=&quot;code-quote&quot;&gt;&apos;}&quot;&lt;/span&gt;&apos;&lt;/span&gt;)

        result.values[0]
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17346289" author="emilles" created="Mon, 17 May 2021 17:20:45 +0000"  >&lt;p&gt;see also &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9344&quot; title=&quot;CCE in closure shared variable assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9344&quot;&gt;&lt;del&gt;GROOVY-9344&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9516&quot; title=&quot;Static compiler infers wrong type for implicitly shared variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9516&quot;&gt;&lt;del&gt;GROOVY-9516&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|u00jbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>