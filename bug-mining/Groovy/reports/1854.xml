<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:27:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5562] GroovyFX - Class Cast Exception on BigDecimal to double when using Groovy 2.0 Indy=&quot;true&quot;</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5562</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Setting indy=&quot;true&quot; causes JavaFX binds to fail on failure to convert&lt;br/&gt;
BigDecimal to double. This works ok when indy=&quot;false&quot;&lt;/p&gt;

&lt;p&gt;=====&lt;br/&gt;
&quot;hourAngleProperty.bind((hours() * 30.0) + (minutes() * 0.5))&quot;&lt;/p&gt;

&lt;p&gt;this actually translates to this:&lt;br/&gt;
hourAngleProperty.bind(hours().multiply(30.0).add(minutes().multiply(0.5)));&lt;/p&gt;

&lt;p&gt;where hourAngleProperty, hours() and minutes() are type javafx.beans.property.DoubleProperty.&lt;/p&gt;

&lt;p&gt;The problem is the 30.0 and 0.5 are treated as BigDecimal&lt;br/&gt;
and with Indy, there seems to be no unboxing of BigDecimal to &quot;double&quot;.&lt;/p&gt;

&lt;p&gt;If i do this:&lt;br/&gt;
hourAngleProperty.bind((hours() * (double)30.0) + (minutes() * (double)0.5))&lt;/p&gt;

&lt;p&gt;it works. &lt;/p&gt;

&lt;p&gt;But this error is all over the GroovyFX code base.&lt;/p&gt;

&lt;p&gt;======&lt;br/&gt;
java.lang.ClassCastException: Cannot cast java.math.BigDecimal to java.lang.Double&lt;br/&gt;
	at java.lang.Class.cast(Class.java:3005)&lt;br/&gt;
	at sun.invoke.util.ValueConversions.primitiveConversion(ValueConversions.java:236)&lt;br/&gt;
	at sun.invoke.util.ValueConversions.unboxDouble(ValueConversions.java:118)&lt;br/&gt;
	at java.lang.invoke.MethodHandleImpl$GuardWithCatch.invoke_L2(MethodHandleImpl.java:1130)&lt;br/&gt;
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:684)&lt;br/&gt;
	at Time.&amp;lt;init&amp;gt;(AnalogClockDemo.groovy:38)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:525)&lt;br/&gt;
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:186)&lt;br/&gt;
	at AnalogClockDemo$_run_closure1.doCall(AnalogClockDemo.groovy:64)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)&lt;br/&gt;
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:272)&lt;br/&gt;
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:904)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:809)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:792)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokeClosure(InvokerHelper.java:95)&lt;br/&gt;
	at groovyx.javafx.GroovyFX.start(GroovyFX.java:35)&lt;br/&gt;
	at com.sun.javafx.application.LauncherImpl$5.run(LauncherImpl.java:319)&lt;br/&gt;
	at com.sun.javafx.application.PlatformImpl$5.run(PlatformImpl.java:206)&lt;br/&gt;
	at com.sun.javafx.application.PlatformImpl$4.run(PlatformImpl.java:173)&lt;br/&gt;
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:76)&lt;br/&gt;
Exception in Application start method&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method&lt;br/&gt;
	at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:403)&lt;br/&gt;
	at com.sun.javafx.application.LauncherImpl.access$000(LauncherImpl.java:47)&lt;br/&gt;
	at com.sun.javafx.application.LauncherImpl$1.run(LauncherImpl.java:115)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;br/&gt;
Caused by: java.lang.ClassCastException: Cannot cast java.math.BigDecimal to java.lang.Double&lt;br/&gt;
	at java.lang.Class.cast(Class.java:3005)&lt;br/&gt;
	at sun.invoke.util.ValueConversions.primitiveConversion(ValueConversions.java:236)&lt;br/&gt;
	at sun.invoke.util.ValueConversions.unboxDouble(ValueConversions.java:118)&lt;br/&gt;
	at java.lang.invoke.MethodHandleImpl$GuardWithCatch.invoke_L2(MethodHandleImpl.java:1130)&lt;br/&gt;
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:684)&lt;br/&gt;
	at Time.&amp;lt;init&amp;gt;(AnalogClockDemo.groovy:38)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:525)&lt;br/&gt;
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182)&lt;br/&gt;
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:186)&lt;br/&gt;
	at AnalogClockDemo$_run_closure1.doCall(AnalogClockDemo.groovy:64)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)&lt;br/&gt;
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)&lt;br/&gt;
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:272)&lt;br/&gt;
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:904)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:809)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:792)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokeClosure(InvokerHelper.java:95)&lt;br/&gt;
	at groovyx.javafx.GroovyFX.start(GroovyFX.java:35)&lt;br/&gt;
	at com.sun.javafx.application.LauncherImpl$5.run(LauncherImpl.java:319)&lt;br/&gt;
	at com.sun.javafx.application.PlatformImpl$5.run(PlatformImpl.java:206)&lt;br/&gt;
	at com.sun.javafx.application.PlatformImpl$4.run(PlatformImpl.java:173)&lt;br/&gt;
	at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:76)&lt;br/&gt;
Java Result: 1&lt;/p&gt;</description>
                <environment>Groovy 2.0&lt;br/&gt;
&lt;br/&gt;
java version &amp;quot;1.7.0_04&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_04-b21)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.0-b21, mixed mode)&lt;br/&gt;
&lt;br/&gt;
Max OS X 10.7.4 Intel</environment>
        <key id="12818165">GROOVY-5562</key>
            <summary>GroovyFX - Class Cast Exception on BigDecimal to double when using Groovy 2.0 Indy=&quot;true&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="jimclarke5">Jim Clarke</reporter>
                        <labels>
                            <label>exception</label>
                    </labels>
                <created>Fri, 29 Jun 2012 09:21:05 +0000</created>
                <updated>Thu, 26 Jul 2012 16:49:37 +0000</updated>
                            <resolved>Tue, 10 Jul 2012 15:52:49 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14473009" author="blackdrag" created="Tue, 10 Jul 2012 15:52:50 +0000"  >&lt;p&gt;should be fixed now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722362" name="AnalogClockDemo.groovy" size="4031" author="jimclarke5" created="Fri, 29 Jun 2012 09:21:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bx3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>