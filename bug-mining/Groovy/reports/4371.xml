<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:17:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9866] Inner class of superinterface cannot be found</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9866</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/dovchinnikov/groovy-bug-inner-of-superinterface&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dovchinnikov/groovy-bug-inner-of-superinterface&lt;/a&gt; &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ groovy playground.groovy
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
file:~/groovy-bug-inner-of-superinterface/com/foo/C.groovy: 11: unable to resolve class Level
 @ line 11, column 24.
       boolean isLoggable(Level level) {
                          ^

file:~/groovy-bug-inner-of-superinterface/com/foo/C.groovy: 16: unable to resolve class Level
 @ line 16, column 14.
       void log(Level level, ResourceBundle bundle, String msg, Throwable thrown) {}
                ^

file:~/groovy-bug-inner-of-superinterface/com/foo/C.groovy: 19: unable to resolve class Level
 @ line 19, column 14.
       void log(Level level, ResourceBundle bundle, String format, Object... params) {}
                ^

3 errors
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13346769">GROOVY-9866</key>
            <summary>Inner class of superinterface cannot be found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="daniilo">Daniil Ovchinnikov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2020 11:08:31 +0000</created>
                <updated>Sat, 23 Jul 2022 16:20:36 +0000</updated>
                            <resolved>Tue, 8 Mar 2022 20:07:20 +0000</resolved>
                                    <version>3.0.7</version>
                                    <fixVersion>4.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9600">2h 40m</timespent>
                                <comments>
                            <comment id="17252491" author="emilles" created="Sun, 20 Dec 2020 18:50:42 +0000"  >&lt;p&gt;This is a situation similar to what is described by &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4287&quot; title=&quot;CLONE - import of static nested classes in external groovy files is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4287&quot;&gt;&lt;del&gt;GROOVY-4287&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7812&quot; title=&quot;Static inner classes cannot be accessed from other files when running by &amp;#39;groovy&amp;#39; command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7812&quot;&gt;&lt;del&gt;GROOVY-7812&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9243&quot; title=&quot;Fail to resolve nested type defined in base type written in Groovy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9243&quot;&gt;&lt;del&gt;GROOVY-9243&lt;/del&gt;&lt;/a&gt;.  In this instance, an interface gets the placeholder treatment (see &lt;tt&gt;ConstructedOuterNestedClassNode&lt;/tt&gt;) and must be resolved later.  Since interface &lt;tt&gt;I&lt;/tt&gt; cannot be resolved when implementing class &lt;tt&gt;C&lt;/tt&gt; is resolved, the type hierarchy cannot be explored fully for static inners.&lt;/p&gt;

&lt;p&gt;I think you could have the same problem with super types, but I have not tested:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;A {
  static &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;I {}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;B &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; A {
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; p
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; B {
  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; m(I eye) {
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// run &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; with &lt;span class=&quot;code-quote&quot;&gt;&quot;groovy&quot;&lt;/span&gt; command
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; p.C()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17463995" author="emilles" created="Wed, 22 Dec 2021 17:58:00 +0000"  >&lt;p&gt;The discovery mechanism is present in ClassNodeResolver/CompileUnit/CompilationUnit to locate a source, add it and start resolve phase over.  The map &lt;tt&gt;sources&lt;/tt&gt; in CompilationUnit is insertion-ordered, which means the sources will be processed in the order they are discovered.  A superclass or superinterface needs to be resolved before its subtype(s).  To enable this order, &lt;tt&gt;CompilationUnit#sources&lt;/tt&gt; could be changed to a &lt;tt&gt;SortedMap&lt;/tt&gt; or something that allows discovered sources to be added to the beginning.&lt;/p&gt;

&lt;p&gt;I did this as an experiment by changing &lt;tt&gt;sources&lt;/tt&gt; to a &lt;tt&gt;TreeMap&lt;/tt&gt; and then I also needed to influence &lt;tt&gt;SourceUnit#name&lt;/tt&gt; because there is a difference in File and URL names that impacts ordering.&lt;/p&gt;</comment>
                            <comment id="17487320" author="emilles" created="Fri, 4 Feb 2022 22:12:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/pull/1681&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1681&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17503168" author="emilles" created="Tue, 8 Mar 2022 20:07:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/4cbdc0f329f9b357da74067b7ad1d9d332aa2552&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/4cbdc0f329f9b357da74067b7ad1d9d332aa2552&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13425831">GROOVY-10466</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ln4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>