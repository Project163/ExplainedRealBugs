<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8242] Javadoc for Newify is missing some attribute values</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8242</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I was looking at thw Newify AST transform.  Some of the Javadoc appears incorrect since the annotation requires a value.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; * or &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;Ruby-style&quot;&lt;/span&gt;):
 * &amp;lt;pre&amp;gt;
 * {@code @Newify} &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyTreeProcessor {  --  Is &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; supposed to be @Newify([Tree,Leaf])?
 *     def myTree = Tree.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(Tree.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(Leaf.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt;), Leaf.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;B&quot;&lt;/span&gt;)), Leaf.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;C&quot;&lt;/span&gt;))
 *     def process() { ... }
 * }
 * &amp;lt;/pre&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; * An example showing how to use the annotation at different levels:
 * &amp;lt;pre&amp;gt;
 * {@code @Newify(auto=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, value=Foo)}
 * &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main {
 *     {@code @Newify} &lt;span class=&quot;code-comment&quot;&gt;// turn auto on &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; field  --  Is &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; supposed to be @Newify(BigInteger)?
&lt;/span&gt; *     def field1 = java.math.BigInteger.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(42)
 *     def field2, field3, field4
 *
 *     {@code @Newify(Bar)}
 *     def process() {
 *         field2 = Bar(&lt;span class=&quot;code-quote&quot;&gt;&quot;my bar&quot;&lt;/span&gt;)
 *     }
 *
 *     {@code @Newify(Baz)}
 *     Main() {
 *         field3 = Foo(&lt;span class=&quot;code-quote&quot;&gt;&quot;my foo&quot;&lt;/span&gt;)
 *         field4 = Baz(&lt;span class=&quot;code-quote&quot;&gt;&quot;my baz&quot;&lt;/span&gt;)
 *     }
 * }
 * &amp;lt;/pre&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13083827">GROOVY-8242</key>
            <summary>Javadoc for Newify is missing some attribute values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="emilles">Eric Milles</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jun 2017 15:37:02 +0000</created>
                <updated>Tue, 6 Mar 2018 23:25:50 +0000</updated>
                            <resolved>Sun, 6 Aug 2017 04:13:52 +0000</resolved>
                                                    <fixVersion>2.4.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16071780" author="jwagenleitner" created="Sun, 2 Jul 2017 20:47:38 +0000"  >&lt;p&gt;I believe the javadoc code is valid.  You can omit providing a value if using the Ruby style, &lt;tt&gt;Integer.new(7)&lt;/tt&gt;, unless &lt;tt&gt;auto=false&lt;/tt&gt; is set.  The value is required when using the Python style, &lt;tt&gt;Integer(7)&lt;/tt&gt; as noted in this line from the javadoc:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The &quot;Python-style&quot; conversions require you to specify each class on which you want them to apply.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16073794" author="emilles" created="Tue, 4 Jul 2017 15:06:50 +0000"  >&lt;p&gt;But the value attribute does not have a default value.  So if none is set, I get warnings that I must set it.&lt;/p&gt;</comment>
                            <comment id="16073882" author="jwagenleitner" created="Tue, 4 Jul 2017 16:26:08 +0000"  >&lt;p&gt;Based on the docs and tests, I believe it&apos;s clear that the intent of &lt;tt&gt;Newify&lt;/tt&gt; is to allow the annotation without providing class values.  Assuming that&apos;s true then this issue should be about providing a default for that attribute in order to avoid warnings.&lt;/p&gt;</comment>
                            <comment id="16074068" author="jwagenleitner" created="Tue, 4 Jul 2017 20:39:23 +0000"  >&lt;p&gt;As part of the PR for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8245&quot; title=&quot;@Newify(auto=false) causing error (in Groovy Web Console)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8245&quot;&gt;&lt;del&gt;GROOVY-8245&lt;/del&gt;&lt;/a&gt; I added a default for the &lt;tt&gt;value&lt;/tt&gt; attribute.&lt;/p&gt;</comment>
                            <comment id="16074126" author="emilles" created="Wed, 5 Jul 2017 00:15:50 +0000"  >&lt;p&gt;Thanks for the fix.  I tried the annotation in Groovy Console without class values and the Ruby-style &quot;new&quot; static method does indeed work.  Now I just need to figure out how to provide content assist for this in Eclipse since it is a bit wider open than the explicit class value form.  But again, thanks.&lt;/p&gt;</comment>
                            <comment id="16115516" author="githubbot" created="Sat, 5 Aug 2017 21:13:36 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/579&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8242&quot; title=&quot;Javadoc for Newify is missing some attribute values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8242&quot;&gt;&lt;del&gt;GROOVY-8242&lt;/del&gt;&lt;/a&gt;: @Newify default attribute value&lt;/p&gt;

&lt;p&gt;    Class values are only required for Python-style conversions so the&lt;br/&gt;
    attribute should default to an empty array to indicate it is not&lt;br/&gt;
    strictly required.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; 8242-Newify-value-default&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/579.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/579.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #579&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e68a7c7ca60e9c6453565bbb91720dfe6479567c&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-08-05T18:05:17Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8242&quot; title=&quot;Javadoc for Newify is missing some attribute values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8242&quot;&gt;&lt;del&gt;GROOVY-8242&lt;/del&gt;&lt;/a&gt;: @Newify default attribute value&lt;/p&gt;

&lt;p&gt;    Class values are only required for Python-style conversions so the&lt;br/&gt;
    attribute should default to an empty array to indicate it is not&lt;br/&gt;
    strictly required.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16115613" author="githubbot" created="Sun, 6 Aug 2017 04:02:38 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/579&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16115617" author="jwagenleitner" created="Sun, 6 Aug 2017 04:13:52 +0000"  >&lt;p&gt;Thanks for reporting the issue, default has been added for the value attribute to denote it&apos;s not required (in cases when using the Ruby-style).&lt;/p&gt;</comment>
                            <comment id="16115748" author="paulk" created="Sun, 6 Aug 2017 10:31:50 +0000"  >&lt;p&gt;Just for historical reference, I don&apos;t believe the Groovy compiler will complain for all cases where an annotation attribute has no default and is not supplied with one when not used. There are several cases:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;If the annotation and usage are both Groovy/same source unit I think you will normally see (for the &lt;tt&gt;value&lt;/tt&gt; annotation attribute as an example):
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;No explicit/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; annotation attribute &lt;span class=&quot;code-quote&quot;&gt;&apos;value&apos;&lt;/span&gt; in @MyAnnotation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;If the annotation is Java/pre-compiled and it has SOURCE retention, Groovy will keep quiet.&lt;/li&gt;
	&lt;li&gt;If the annotation is Java/pre-compiled and it has RUNTIME retention you will see the JVM complain:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.annotation.IncompleteAnnotationException: MyAnnotation missing element value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I suspect that at least the last of these, case (3), is a bug. I presume in earlier versions of the JVM and/or ASM libraries reading an annotation for the Java/pre-compiled case with no default value triggered the same check as for Groovy above, case (1),  but now it yields a &lt;tt&gt;ReturnStatement&lt;/tt&gt; containing &lt;tt&gt;null&lt;/tt&gt; as the return value and this avoids detection. Probably the second is also a bug provided annotation processing is finished which I think will be true since the mandatory attribute check is done during classgen.&lt;/p&gt;

&lt;p&gt;In any case, it doesn&apos;t affect this issue. I.e. the issue is valid and PR good. I&apos;ll create an additional issue to track this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gyhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>