<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:06:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9587] Scope of method call changed from non-static to static 2.4-&gt;2.5</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9587</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo { 
   &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; storageProvider 
   def getStorageProvider(&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; a) { 
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; storageProvider
   }
   def getStorageProvider() { 
     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!storageProvider) {
       getStorageProvider(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// &amp;lt;-- Attempts to call statically in 2.5 
&lt;/span&gt;     } 
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; storageProvider
   } 
} 
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Foo().getStorageProvider()

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In groovy 2.5+ it seems it gets confused if you have a static variable in a class, say static storageProvider, and a non-static method def getStorageProvider(Boolean x) it tries to call the getStorageProvider(true) statically, which does not exist. &lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In the groovyConsole you can see the change happen between conversion and semantic analysis - it changes from non-static to static.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Unsure this is intended or not. I couldn&apos;t find mention of it in any changes. It would be nice to document/know why the change happened between 2.4/2.5.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13311155">GROOVY-9587</key>
            <summary>Scope of method call changed from non-static to static 2.4-&gt;2.5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="erichelgeson">Eric Helgeson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jun 2020 15:26:16 +0000</created>
                <updated>Thu, 23 Jul 2020 14:16:13 +0000</updated>
                            <resolved>Mon, 15 Jun 2020 06:45:50 +0000</resolved>
                                    <version>2.5.12</version>
                                    <fixVersion>4.0.0-alpha-1</fixVersion>
                    <fixVersion>3.0.5</fixVersion>
                    <fixVersion>2.5.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17134570" author="emilles" created="Fri, 12 Jun 2020 22:52:33 +0000"  >&lt;p&gt;Should &quot;storageProvider&quot; be declared private?  Do you have a concrete example of this I could take a peek at?&lt;/p&gt;</comment>
                            <comment id="17134574" author="emilles" created="Fri, 12 Jun 2020 23:02:49 +0000"  >&lt;p&gt;The conversion of &quot;getStorageProvider(true)&quot; to a StaticMethodCallExpression is done in StaticImportVisitor: &lt;a href=&quot;https://github.com/apache/groovy/blob/GROOVY_2_5_X/src/main/java/org/codehaus/groovy/control/StaticImportVisitor.java#L295&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/blob/GROOVY_2_5_X/src/main/java/org/codehaus/groovy/control/StaticImportVisitor.java#L295&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The parenthesis in the condition above line 295 look odd.  Not sure if it was intended to have &quot;lookForPossibleStaticMethod&quot; guard both checks, but at the moment the static property check wins out.&lt;/p&gt;</comment>
                            <comment id="17134577" author="emilles" created="Fri, 12 Jun 2020 23:12:06 +0000"  >&lt;p&gt;Looks like this is when the change went in: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7014&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GROOVY-7014&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17134932" author="erichelgeson" created="Sat, 13 Jun 2020 19:23:47 +0000"  >&lt;p&gt;&amp;gt; Should &quot;storageProvider&quot; be declared private?&lt;/p&gt;

&lt;p&gt;Possibly, it does fix the issue.&lt;/p&gt;

&lt;p&gt;&amp;gt; Do you have a concrete example of this I could take a peek at?&lt;/p&gt;

&lt;p&gt;In practice It is basically being used to cache a variable on a singleton. Renaming the variable or adding private is a straight forward fix.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If this is expected then it&apos;s fine to close this. I more so wanted to raise the issue as I didn&apos;t understand if it was an expected change or not.&lt;/p&gt;</comment>
                            <comment id="17134980" author="emilles" created="Sat, 13 Jun 2020 23:50:50 +0000"  >&lt;p&gt;It should work, I just wanted a bit of info to help understand.  PR with fix has been submitted.&lt;/p&gt;</comment>
                            <comment id="17135476" author="paulk" created="Mon, 15 Jun 2020 06:45:50 +0000"  >&lt;p&gt;Proposed PR#1277 merged. Thanks to all involved!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fsvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>