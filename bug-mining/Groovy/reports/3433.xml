<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:59:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8281] Final field is null in trait, but it has assigned value</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8281</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have a code like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;trait MyTrait {
	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; myValue = &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;
	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Wrapper {
	Wrapper(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value){
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(value == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			&lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Exception(&lt;span class=&quot;code-quote&quot;&gt;&quot;Value is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!!!&quot;&lt;/span&gt;)	
		}
		println &lt;span class=&quot;code-quote&quot;&gt;&quot;OK: $value&quot;&lt;/span&gt;
	}
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Main &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; MyTrait {}

&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Main()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Everything works as expected with groovy 2.4.7:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ sdk u groovy 2.4.7

Using groovy version 2.4.7 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
OK: test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but newer versions of groovy do not compile this code (2.4.8, 2.4.9, 2.4.10) or have null to value (2.4.11, 2.4.12):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ sdk u groovy 2.4.8

Using groovy version 2.4.8 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
~/bug.groovy: 3: Apparent variable &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; was found in a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; scope but doesn&apos;t refer to a local variable, &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; field or class. Possible causes:
You attempted to reference a variable in the binding or an instance variable from a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; context.
You misspelled a classname or statically imported field. Please check the spelling.
You attempted to use a method &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; but left out brackets in a place not allowed by the grammar.
 @ line 3, column 38.
   	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
                                        ^

1 error

$ sdk u groovy 2.4.9

Using groovy version 2.4.9 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
~/bug.groovy: 3: Apparent variable &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; was found in a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; scope but doesn&apos;t refer to a local variable, &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; field or class. Possible causes:
You attempted to reference a variable in the binding or an instance variable from a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; context.
You misspelled a classname or statically imported field. Please check the spelling.
You attempted to use a method &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; but left out brackets in a place not allowed by the grammar.
 @ line 3, column 38.
   	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
                                        ^

~/bug.groovy: 3: Apparent variable &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; was found in a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; scope but doesn&apos;t refer to a local variable, &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; field or class. Possible causes:
You attempted to reference a variable in the binding or an instance variable from a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; context.
You misspelled a classname or statically imported field. Please check the spelling.
You attempted to use a method &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; but left out brackets in a place not allowed by the grammar.
 @ line 3, column 38.
   	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
                                        ^

2 errors

$ sdk u groovy 2.4.10

Using groovy version 2.4.10 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
~/bug.groovy: 3: Apparent variable &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; was found in a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; scope but doesn&apos;t refer to a local variable, &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; field or class. Possible causes:
You attempted to reference a variable in the binding or an instance variable from a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; context.
You misspelled a classname or statically imported field. Please check the spelling.
You attempted to use a method &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; but left out brackets in a place not allowed by the grammar.
 @ line 3, column 38.
   	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
                                        ^

~/bug.groovy: 3: Apparent variable &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; was found in a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; scope but doesn&apos;t refer to a local variable, &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; field or class. Possible causes:
You attempted to reference a variable in the binding or an instance variable from a &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; context.
You misspelled a classname or statically imported field. Please check the spelling.
You attempted to use a method &lt;span class=&quot;code-quote&quot;&gt;&apos;myValue&apos;&lt;/span&gt; but left out brackets in a place not allowed by the grammar.
 @ line 3, column 38.
   	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Wrapper wrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Wrapper(myValue)
                                        ^

2 errors

$ sdk u groovy 2.4.11

Using groovy version 2.4.11 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
Caught: java.lang.Exception: Value is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!!!
java.lang.Exception: Value is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!!!
	at Wrapper.&amp;lt;init&amp;gt;(bug.groovy:9)
	at MyTrait$Trait$Helper.$init$(bug.groovy:3)
	at Main.&amp;lt;init&amp;gt;(bug.groovy)
	at bug.run(bug.groovy:17)
$ sdk u groovy 2.4.12

Using groovy version 2.4.12 in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; shell.
$ groovy bug.groovy 
Caught: java.lang.Exception: Value is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!!!
java.lang.Exception: Value is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!!!
	at Wrapper.&amp;lt;init&amp;gt;(bug.groovy:9)
	at MyTrait$Trait$Helper.$init$(bug.groovy:3)
	at Main.&amp;lt;init&amp;gt;(bug.groovy)
	at bug.run(bug.groovy:17)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13093109">GROOVY-8281</key>
            <summary>Final field is null in trait, but it has assigned value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="alien11689">Dominik Przybysz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Aug 2017 09:55:45 +0000</created>
                <updated>Thu, 26 Jul 2018 04:38:55 +0000</updated>
                            <resolved>Tue, 10 Jul 2018 12:56:16 +0000</resolved>
                                    <version>2.4.8</version>
                    <version>2.4.9</version>
                    <version>2.4.10</version>
                    <version>2.4.11</version>
                    <version>2.4.12</version>
                                    <fixVersion>2.5.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16538466" author="githubbot" created="Tue, 10 Jul 2018 11:53:51 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/772&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8281&quot; title=&quot;Final field is null in trait, but it has assigned value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8281&quot;&gt;&lt;del&gt;GROOVY-8281&lt;/del&gt;&lt;/a&gt;: Final field is null in trait, but it has assigned value&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy8281&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/772.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/772.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #772&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit be7834c73ff967372f7714bad3ec1c5b662d1456&lt;br/&gt;
Author: Paul King &amp;lt;paulk@...&amp;gt;&lt;br/&gt;
Date:   2018-07-10T11:51:57Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8281&quot; title=&quot;Final field is null in trait, but it has assigned value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8281&quot;&gt;&lt;del&gt;GROOVY-8281&lt;/del&gt;&lt;/a&gt;: Final field is null in trait, but it has assigned value&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16538503" author="githubbot" created="Tue, 10 Jul 2018 12:34:06 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/772&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16538526" author="paulk" created="Tue, 10 Jul 2018 12:56:16 +0000"  >&lt;p&gt;Proposed PR merged.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12846629">GROOVY-7515</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ij3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>