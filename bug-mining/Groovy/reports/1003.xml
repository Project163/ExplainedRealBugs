<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:12:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2441] @Deprecated does not have effect in Groovy</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2441</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have create a class in Groovy:&lt;/p&gt;

&lt;p&gt;public class AClass&lt;br/&gt;
{&lt;br/&gt;
  @Deprecated public void foo() &lt;/p&gt;
{ System.out.println(&quot;foo&quot;); }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;I compiled it using groovyc&lt;/p&gt;

&lt;p&gt;groovyc AClass.groovy&lt;/p&gt;

&lt;p&gt;Now I created a Java class as shown below:&lt;br/&gt;
class Test&lt;br/&gt;
{&lt;br/&gt;
 public static void main(String[] args)&lt;/p&gt;
 {
   AClass obj = new AClass();
   obj.foo(); 
 }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;When I compile the Java code &lt;/p&gt;

&lt;p&gt;javac Test.java&lt;/p&gt;

&lt;p&gt;I don&apos;t get any deprecation warnings.&lt;/p&gt;

&lt;p&gt;If I compile AClass.groovy using javac (after copying to AClass.java) and then compile Test.java using javac, I get a deprecation warning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12813997">GROOVY-2441</key>
            <summary>@Deprecated does not have effect in Groovy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="venkats">Venkat Srinivasan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Dec 2007 07:56:09 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:58 +0000</updated>
                            <resolved>Thu, 25 Jun 2009 07:42:20 +0000</resolved>
                                    <version>1.5.1</version>
                                    <fixVersion>1.6.4</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14478562" author="paulk" created="Thu, 18 Jun 2009 21:29:53 +0000"  >&lt;p&gt;Proposed patch. Jochen (and others), any thoughts?&lt;br/&gt;
OK to not make modifiers final in ClassNode?&lt;br/&gt;
I have been holding off but seems the best way to solve this.&lt;br/&gt;
Do we need any special treatment for properties?&lt;br/&gt;
Should we have a flag and indicate with a warning if we encounter a deprecated node like javac does?&lt;br/&gt;
And support a mode like javac&apos;s -deprecation to warm for them all?&lt;/p&gt;</comment>
                            <comment id="14467165" author="blackdrag" created="Fri, 19 Jun 2009 04:10:33 +0000"  >&lt;p&gt;if (visited.getClassNode().getTypeClass() == Deprecated.class)&lt;/p&gt;

&lt;p&gt;this code is not safe, and will lead possible lead to an exception if the ClassNode is a primary one. You have to check visited.getClassNode().isResolved() here first. Also the warning comment is wrong, since in javac it is the usage of deprecated methods, that causes the warning, not declaring a method as such.&lt;/p&gt;</comment>
                            <comment id="14478567" author="paulk" created="Fri, 19 Jun 2009 04:28:38 +0000"  >&lt;p&gt;Yes, of course. Will amend the code and move the TODO comment to the appropriate place.&lt;/p&gt;</comment>
                            <comment id="14467248" author="paulk" created="Fri, 19 Jun 2009 05:46:59 +0000"  >&lt;p&gt;Fixed. Thanks for raising the issue.&lt;/p&gt;</comment>
                            <comment id="14467242" author="pniederw" created="Mon, 22 Jun 2009 18:17:23 +0000"  >&lt;p&gt;I think it&apos;s worthwhile to note that this style of comparison is only safe for JDK classes. For other classes it will fail in environments where an isolated class loader is used for resolving types (e.g. GMaven). A safer idiom is &lt;tt&gt;visited.getClassNode().getTypeClass().getName().equals(Deprecated.class.getName())&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14478579" author="paulk" created="Mon, 22 Jun 2009 19:06:50 +0000"  >&lt;p&gt;Good point. I&apos;ll amend accordingly.&lt;/p&gt;</comment>
                            <comment id="14478586" author="paulk" created="Tue, 23 Jun 2009 08:15:51 +0000"  >&lt;p&gt;reopen pending suggested refactor&lt;/p&gt;</comment>
                            <comment id="14467220" author="paulk" created="Thu, 25 Jun 2009 07:42:20 +0000"  >&lt;p&gt;suggested refactoring applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722044" name="groovy2441_honor_deprecated.patch" size="2665" author="paulk_asert" created="Thu, 18 Jun 2009 21:29:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2colb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>