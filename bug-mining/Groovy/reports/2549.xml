<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:40:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6714] GroovyDoc omits and/or misplaces documentation for methods in .java files.  </title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6714</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;GroovyDoc omits and/or misplaces documentation for some methods in java programs, making a hash of documentation output for mixed Java/Groovy projects. &lt;/p&gt;

&lt;p&gt;Whether or not this bug presents itself depends in an odd way on the number of methods and the number of inline comments in those methods.  It seems like it only appears when there are 3 or more methods and there are five or more inline comments in the first N-2 methods, where N is the number of methods.  &lt;/p&gt;

&lt;p&gt;A minimal example of a java program exhibiting the problem follows: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;SmallestExample.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
* This is the smallest example I could reproduce the error with.
*/
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SmallestExample {
	  	
	/**
	* function1
	*/
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; function1(){
		&lt;span class=&quot;code-comment&quot;&gt;// comment1
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// comment2
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// comment3
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// comment4
&lt;/span&gt;		&lt;span class=&quot;code-comment&quot;&gt;// comment5  (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; comment breaks it)
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;(0);
	}
	
	/**
	*  function2
	*/
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; function2(){		
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;(0);
	}
	
	/**
	* function3
	*/
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; function3() {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;(0);				
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running GroovyDoc on this example will omit the documentation for function3.  If there are more functions, the error can be induced by distributing the five or more inline comments in any way among the first few functions.  If there are six or more functions in an example like this the documentation for the sixth function will appear in place of the documentation for the fifth function (in alphabetical doc order, not necessarily in file order) and the sixth function will have no documentation.  The attached file includes examples of these cases.  In a number of tests it did not seem to matter what the content of the functions were, how they were named, etc.  Only the number of functions and the number of inline comments seemed to matter.   On a large Java file (part of a mixed java/groovy project) this bug can make a total hash of the documentation, omitting documentation for many methods and, worse, swapping in the wrong documentation for many others. &lt;/p&gt;

&lt;p&gt;GroovyDoc was run like this (where ~/local/groovy is the path to the groovy installation): &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;groovydoc -classpath ~/local/groovy/lib/ -d doc/ ./minexamples/*.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Mac OS X 10.9.2&lt;br/&gt;
java version &amp;quot;1.7.0_21&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_21-b12)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)</environment>
        <key id="12818301">GROOVY-6714</key>
            <summary>GroovyDoc omits and/or misplaces documentation for methods in .java files.  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="jdurbin">James Durbin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Apr 2014 20:29:34 +0000</created>
                <updated>Mon, 28 Apr 2014 19:30:59 +0000</updated>
                            <resolved>Fri, 25 Apr 2014 05:20:14 +0000</resolved>
                                    <version>2.2.1</version>
                    <version>2.3.0-beta-2</version>
                                    <fixVersion>2.3.0-rc-2</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                                    <component>GroovyDoc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14480467" author="paulk" created="Fri, 25 Apr 2014 02:17:34 +0000"  >&lt;p&gt;I haven&apos;t tracked down exactly where it occurs but it seems that single-line comments in Java are getting counted as two lines by the time it gets through the slightly convoluted parsing path which Java goes through for Groovydoc. Because the current Groovy parsing framework doesn&apos;t capture comments - they are thrown away during parsing - we have a hack which reads the raw source lines between the line numbers which we store away for each language component. With the single-line comments being counted as two lines, the from and to values we are using to extract the comment text are just plain wrong. If there has only been a small number of single-line comments in a file, you might not notice it but as you have already noted, once you get too many, the line counts are incorrect and we are grabbing the wrong text.&lt;/p&gt;</comment>
                            <comment id="14475756" author="pschumacher" created="Fri, 25 Apr 2014 02:42:40 +0000"  >&lt;p&gt;Maybe &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6254&quot; title=&quot;groovydoc fails when java files start with single line comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6254&quot;&gt;&lt;del&gt;GROOVY-6254&lt;/del&gt;&lt;/a&gt; and this issue are related? Both seems to be somehow caused by single-line comments in a java file.&lt;/p&gt;</comment>
                            <comment id="14475835" author="paulk" created="Fri, 25 Apr 2014 05:20:14 +0000"  >&lt;p&gt;For some reason the java.g grammar file was putting an extra newline after single-line comments. Thanks for raising the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12818519">GROOVY-6254</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12723098" name="groovydocbug.tgz" size="1291" author="jdurbin" created="Wed, 16 Apr 2014 20:29:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c9pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>