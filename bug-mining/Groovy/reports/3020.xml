<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:49:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7781] GPathResult: Cannot retrieve XML attribute with namespace</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7781</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;When using GPathResult with XmlSlurper, if an attribute is in a namespace, you must retrieve it using the namespace prefix defined in the document and not that defined by declareNamespace. This issue prevents safe retrieval of namespaced XML attributes since the document generator is free to choose namespace prefix.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def text = &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;&quot;&amp;lt;x:root xmlns:x=&quot;&lt;/span&gt;blah&quot;&amp;gt;
  &amp;lt;x:child x:id=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;&amp;gt;c&amp;lt;/x:child&amp;gt;
&amp;lt;/x:root&amp;gt;&quot;&quot;&quot;

def xml =
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XmlSlurper() 
        .parseText(text)
        .declareNamespace(x:&lt;span class=&quot;code-quote&quot;&gt;&apos;blah&apos;&lt;/span&gt;)
&lt;span class=&quot;code-comment&quot;&gt;//        .declareNamespace(t:&lt;span class=&quot;code-quote&quot;&gt;&apos;blah&apos;&lt;/span&gt;)
&lt;/span&gt;
println xml.child.text()     &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt; always
&lt;/span&gt;println xml.&lt;span class=&quot;code-quote&quot;&gt;&apos;x:child&apos;&lt;/span&gt;.text() &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt; when declareNamespace x, &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &quot;&quot;
&lt;/span&gt;println xml.&lt;span class=&quot;code-quote&quot;&gt;&apos;t:child&apos;&lt;/span&gt;.text() &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt; when declareNamespace t, &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &quot;&quot;
&lt;/span&gt;println xml.child.&lt;span class=&quot;code-quote&quot;&gt;&apos;@x:id&apos;&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt; always
&lt;/span&gt;println xml.child.&lt;span class=&quot;code-quote&quot;&gt;&apos;@t:id&apos;&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//&quot;&quot; always&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looking in the debugger, there is namespaceMap and namespaceTagHints in GPathResult. namespaceMap is updated by declareNamespace but namespaceTagHints is not, and namespaceTagHints is used when looking up attributes. I don&apos;t see a way to update namespaceTagHints and namespaceMap doesn&apos;t really even seem to be used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947693">GROOVY-7781</key>
            <summary>GPathResult: Cannot retrieve XML attribute with namespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="gillius">Jason Winnebeck</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 13:58:52 +0000</created>
                <updated>Sun, 12 Jun 2016 08:45:16 +0000</updated>
                            <resolved>Sat, 9 Apr 2016 20:10:52 +0000</resolved>
                                    <version>2.4.5</version>
                    <version>2.4.6</version>
                                    <fixVersion>2.4.7</fixVersion>
                                    <component>XML Processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15223120" author="githubbot" created="Sun, 3 Apr 2016 04:41:48 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/302&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7781&quot; title=&quot;GPathResult: Cannot retrieve XML attribute with namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7781&quot;&gt;&lt;del&gt;GROOVY-7781&lt;/del&gt;&lt;/a&gt; - Cannot retrieve XML attribute with namespace&lt;/p&gt;

&lt;p&gt;    This change broke another test that asserted that an unprefixed attribute&apos;s namespace is the default namespace, but default namespace declarations do not apply to attribute names, see &lt;a href=&quot;https://www.w3.org/TR/xml-names/#defaulting&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.w3.org/TR/xml-names/#defaulting&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    &amp;gt; The namespace name for an unprefixed attribute name always has no value.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7781&quot; title=&quot;GPathResult: Cannot retrieve XML attribute with namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7781&quot;&gt;&lt;del&gt;GROOVY-7781&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/302.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/302.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #302&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b652bb329bc64fcaa978fef0778fc720d3e9029&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-03-23T22:15:54Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7781&quot; title=&quot;GPathResult: Cannot retrieve XML attribute with namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7781&quot;&gt;&lt;del&gt;GROOVY-7781&lt;/del&gt;&lt;/a&gt; - Cannot retrieve XML attribute with namespace&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15224196" author="gillius" created="Mon, 4 Apr 2016 14:08:57 +0000"  >&lt;p&gt;Not sure if GH comments get copied to here, but I did check out the pull request, and it looks like the changes I would expect and the unit test looks like it would properly reproduce the bug as well as pass when the fix is good.&lt;/p&gt;</comment>
                            <comment id="15233702" author="githubbot" created="Sat, 9 Apr 2016 19:55:14 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/302&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15233710" author="jwagenleitner" created="Sat, 9 Apr 2016 20:10:52 +0000"  >&lt;p&gt;Thanks for reporting the issue and for reviewing and commenting on the proposed fix, really appreciate it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12955937">GROOVY-7808</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ua33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>