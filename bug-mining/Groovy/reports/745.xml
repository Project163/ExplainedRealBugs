<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:07:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3011] Compile error when using generic types with upper bounds</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3011</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I am experiencing the following problem with Groovy 1.5.6 and 1.6-beta-1:&lt;/p&gt;

&lt;p&gt;Groovy does not seem to accept subtypes of direct subtypes of SomeType in constructs like &amp;lt;T extends SomeType&amp;gt;. &lt;/p&gt;

&lt;p&gt;The exact constellation for reproducing the error is as follows:&lt;/p&gt;

&lt;p&gt;Directory structure&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;.
+- groovy
|  +- foo
|     +- bar
|        +- BarMaping.groovy
|        +- MyTypeMapping.groovy
|        +- MySubTypeMapping.groovy
+- java
   +- foo
      +- example
      |  +- MyType.java (&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; extending Bar)
      |  +- MySubType.java (&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; extending MyType)
      +- Bar.java
      +- Baz.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bar.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Bar {

    Baz getId();

    void setId(Baz id);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Baz.java is just a POJO&lt;/p&gt;

&lt;p&gt;MyType.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.example;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Bar;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MyType &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Bar {

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getTitle();

    void setTitle(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; title);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MySubType.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.example;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MySubType &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MyType {
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;BarMapping.groovy &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Bar
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Baz

&lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;BarMapping&amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Bar&amp;gt; {

    Baz id

    BarMapping(T bar) {
        mapFrom(bar)
    }

    def mapFrom(T bar) {
        id = bar?.id
    }

    def mapTo(T bar) {
        
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MyTypeMapping.groovy&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.example.MyType

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyTypeMapping &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BarMapping&amp;lt;MyType&amp;gt; {

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; title

    MyTypeMapping(MyType x) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(x)
    }

    def mapFrom(MyType x) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.mapFrom(x)
        title = x?.title
    }

    def mapTo(MyType x) {
        x.title = title
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MySubTypeMapping.groovy&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo.bar

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.example.MySubType

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MySubTypeMapping &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BarMapping&amp;lt;MySubType&amp;gt; {

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; title

    MySubTypeMapping(MySubType x) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(x)
    }

    def mapFrom(MySubType x) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.mapFrom(x)
        title = x?.title
    }

    def mapTo(MySubType x) {
        x.title = title
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, the following lines will produce the compiler error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; export CLASSPATH={absolute_path_to_this_dir}/java:{absolute_path_to_this_dir}/groovy
&amp;gt; cd java
&amp;gt; javac foo/*.java foo/example/*.java
&amp;gt; cd ../groovy
&amp;gt; groovyc foo/bar/*.groovy
org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, foo/bar/MySubTypeMapping.groovy: 20: The type MySubType is not a valid substitute &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bounded parameter &amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; foo.Bar&amp;gt;
 @ line 20, column 32.
   &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MySubTypeMapping &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BarMapping&amp;lt;MySubType&amp;gt; {
                                  ^

1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This means, MyTypeMapping.groovy compiles whereas MySubTypeMapping.groovy does not compile.  &lt;/p&gt;

&lt;p&gt;An equivalent Java hierarchy compiles without problems.&lt;/p&gt;

&lt;p&gt;Inside a Grails application, the error message is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; grails compile

Welcome to Grails 1.0.3 - http:&lt;span class=&quot;code-comment&quot;&gt;//grails.org/
&lt;/span&gt;Licensed under Apache Standard License 2.0
Grails home is set to: /martin/dev/grails-1.0.3

Base Directory: /martin/dev/projects/generics
Note: No plugin scripts found
Running script /martin/dev/grails-1.0.3/scripts/Compile.groovy
Environment set to development
    [mkdir] Created dir: /neofonie/home/gerlach/.grails/1.0.3/projects/generics/classes
  [groovyc] Compiling 13 source files to /neofonie/home/gerlach/.grails/1.0.3/projects/generics/classes
    [javac] Compiling 12 source files to /neofonie/home/gerlach/.grails/1.0.3/projects/generics/classes
Compilation error: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, /martin/dev/projects/generics/src/groovy/foo/bar/MySubTypeMapping.groovy: 20: The type MySubType is not a valid substitute &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bounded parameter &amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; foo.Bar&amp;gt;
 @ line 20, column 32.
   &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MySubTypeMapping &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BarMapping&amp;lt;MySubType&amp;gt; {
                                  ^

1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is the error message with groovy 1.6-beta-1&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; groovyc foo/bar/*.groovy
java.lang.reflect.InvocationTargetException
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:108)
        at org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:130)
Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, foo/bar/MySubTypeMapping.groovy: 20: The type MySubType is not a valid substitute &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bounded parameter &amp;lt;T &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; foo.Bar&amp;gt;
 @ line 20, column 32.
   &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MySubTypeMapping &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BarMapping&amp;lt;MySubType&amp;gt; {
                                  ^

1 error

        at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:296)
        at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:785)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:435)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:414)
        at org.codehaus.groovy.tools.FileSystemCompiler.compile(FileSystemCompiler.java:63)
        at org.codehaus.groovy.tools.FileSystemCompiler.main(FileSystemCompiler.java:246)
        ... 6 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some more observations:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;If I use BarMapping&amp;lt;T&amp;gt; instead of BarMapping&amp;lt;T extends Bar&amp;gt;, the code compiles without any problem - we only loose the possibility to check the generic type at compile time.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When using IntellijIDEA, everything seems fine even when using &amp;lt;T extends Bar&amp;gt;, I can even execute the unit tests included in the attached archive.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Groovy 1.5.6 (standalone or inside Grails 1.0.3), Groovy 1.6-beta-1, Sun Java SE 1.6.0_07 on 64bit Linux (OpenSUSE 11)</environment>
        <key id="12811858">GROOVY-3011</key>
            <summary>Compile error when using generic types with upper bounds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="martin.gerlach">Martin Gerlach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2008 09:44:56 +0000</created>
                <updated>Sun, 12 Oct 2008 08:46:53 +0000</updated>
                            <resolved>Thu, 21 Aug 2008 04:15:42 +0000</resolved>
                                    <version>1.5.6</version>
                    <version>1.6-beta-1</version>
                                    <fixVersion>1.5.7</fixVersion>
                    <fixVersion>1.6-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14465249" author="blackdrag" created="Wed, 20 Aug 2008 12:31:50 +0000"  >&lt;p&gt;ok, I think I fixed the problem... it would be nice of you if you could grab the head versions of 1.6 or 1.5 and test if it behaves now as it should.&lt;/p&gt;</comment>
                            <comment id="14478273" author="martin.gerlach" created="Thu, 21 Aug 2008 04:15:08 +0000"  >&lt;p&gt;The example code compiles with 1.6-beta-2-SNAPSHOT! Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721904" name="example.tgz" size="2515" author="" created="Wed, 20 Aug 2008 09:44:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cp1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>