<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:11:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9524] VerifyError when referencing a private enum method</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9524</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9523&quot; title=&quot;MissingMethodException when referencing a private enum method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9523&quot;&gt;&lt;del&gt;GROOVY-9523&lt;/del&gt;&lt;/a&gt;, but here full static compilation is used.&lt;/p&gt;

&lt;p&gt;Consider this Groovy class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test64

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test64 {

	static &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; ShippingAddressSynchType {
		ACCOUNTING {
			@Override
			void synch(Test64 customer) {
				truncate(&lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;, 2)
			}
		};

		void synch(Test64 customer) { }

		private &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; truncate(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; input, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxLength) {
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!input)
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; input
			&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(input.length() &amp;gt; maxLength)
				input = input[0..maxLength - 1]
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; input
		}
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and a Java class to run it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test64;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; test64.Test64.ShippingAddressSynchType;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test64Main {

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
		Test64 t = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Test64();
		ShippingAddressSynchType.ACCOUNTING.synch(t);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you run this code, you&apos;ll get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    test64/Test64$ShippingAddressSynchType$1.synch(Ltest64/Test64;)V @1: invokevirtual
  Reason:
    Type &apos;test64/Test64$ShippingAddressSynchType$1&apos; (current frame, stack[0]) is not assignable to &apos;groovy/lang/Closure&apos;
  Current Frame:
    bci: @1
    flags: { }
    locals: { &apos;test64/Test64$ShippingAddressSynchType$1&apos;, &apos;test64/Test64&apos; }
    stack: { &apos;test64/Test64$ShippingAddressSynchType$1&apos; }
  Bytecode:
    0x0000000: 2ab6 0036 c000 0412 3805 b800 3c57 b1  

        at test64.Test64$ShippingAddressSynchType.&amp;lt;clinit&amp;gt;(Test64.groovy)
        at test64.Test64Main.main(Test64Main.java:9)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13300756">GROOVY-9524</key>
            <summary>VerifyError when referencing a private enum method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="mauromol">Mauro Molinari</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2020 09:28:26 +0000</created>
                <updated>Mon, 31 Jan 2022 18:02:25 +0000</updated>
                            <resolved>Sat, 20 Mar 2021 02:19:26 +0000</resolved>
                                    <version>2.5.11</version>
                                    <fixVersion>3.0.8</fixVersion>
                    <fixVersion>4.0.0-alpha-3</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17205894" author="paulk" created="Fri, 2 Oct 2020 00:07:36 +0000"  >&lt;p&gt;Additional example without Java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Test64 {
    @groovy.transform.CompileStatic
    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; SynchType {
        ACCOUNTING {
            @Override
            void synch(Test64 customer) { truncate(&lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;, 2) }
        }
        void synch(Test64 customer) { }
        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; truncate(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; input, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxLength) { input }
    }
}

Test64.SynchType.ACCOUNTING.synch(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Test64())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Giving:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    Test64$SynchType$1.synch(LTest64;)V @1: invokevirtual
  Reason:
    Type &apos;Test64$SynchType$1&apos; (current frame, stack[0]) is not assignable to &apos;groovy/lang/Closure&apos;
  Current Frame:
    bci: @1
    flags: { }
    locals: { &apos;Test64$SynchType$1&apos;, &apos;Test64&apos; }
    stack: { &apos;Test64$SynchType$1&apos; }
  Bytecode:
    0000000: 2ab6 0036 c000 0412 3805 b800 3c57 b1  


	at Test64$SynchType.&amp;lt;clinit&amp;gt;(ConsoleScript11)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13394862">GROOVY-10197</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0e148:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>