<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:15:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3832] groovy.sql.Sql.close should empty statement cache</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3832</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The statement cache should be emptied in the close method.  The jdbc driver may not otherwise clean up until finalization.&lt;/p&gt;

&lt;p&gt;I should be able to put a patch (with test) together next week.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814938">GROOVY-3832</key>
            <summary>groovy.sql.Sql.close should empty statement cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="jwb">jwb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Oct 2009 02:57:03 +0000</created>
                <updated>Tue, 7 Apr 2015 19:13:05 +0000</updated>
                            <resolved>Sun, 14 Mar 2010 07:15:16 +0000</resolved>
                                    <version>1.6.4</version>
                    <version>1.7-beta-1</version>
                    <version>1.6.5</version>
                    <version>1.7-beta-2</version>
                                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                    <component>SQL processing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14469142" author="paulk" created="Fri, 12 Mar 2010 18:36:27 +0000"  >&lt;p&gt;John, any chance you&apos;ll be able to look at this in time for 1.7.2 (approx 1 week away) otherwise I&apos;ll attempt to take a look.&lt;/p&gt;</comment>
                            <comment id="14469047" author="jwb" created="Fri, 12 Mar 2010 18:41:44 +0000"  >&lt;p&gt;Sorry I dropped the ball. I should be able to get something together. Can&apos;t promise an exhaustive set of tests...&lt;/p&gt;</comment>
                            <comment id="14469110" author="jwb" created="Sat, 13 Mar 2010 11:18:46 +0000"  >&lt;p&gt;Currently, the close method does nothing if the instance is using a DataSource. Seems reasonable to empty the cache in this case, rather than leave the cached statements open (the calling code would be more clear than saying cacheStatements = false).  Is it OK if I make that change relative to the main line (I have rev 19563) rather than 1_7_X?&lt;/p&gt;

&lt;p&gt;The current implementation allows the instance to be used after the close. Should I raise another issue to deprecate this behavior (for 1.8)?  It would seem beneficial for the Sql class to enforce a contract that an instance not be used after it is told to close.&lt;/p&gt;</comment>
                            <comment id="14469123" author="jwb" created="Sat, 13 Mar 2010 13:40:37 +0000"  >&lt;p&gt;This patch removes the logging of close() calls for instances using a DataSource and adds closing of cached statements.  &lt;/p&gt;

&lt;p&gt;To test, it adds calls to Sql#close() in the SqlCacheTest testCachePreparedStatements and testNotCacheStatements methods..&lt;/p&gt;</comment>
                            <comment id="14478956" author="paulk" created="Sun, 14 Mar 2010 07:15:16 +0000"  >&lt;p&gt;Patch applied. Thanks very much John.&lt;/p&gt;</comment>
                            <comment id="14478948" author="paulk" created="Sun, 14 Mar 2010 07:15:59 +0000"  >&lt;p&gt;Any other SQL features you think we can get sorted for 1.7.2?&lt;/p&gt;</comment>
                            <comment id="14469143" author="jwb" created="Sun, 14 Mar 2010 18:42:24 +0000"  >&lt;p&gt;I&apos;d really like to do more, but I&apos;m supposed to be working on a Rails app and (hopefully) starting up an architecture evaluation project, so no more Groovy for me for the next several weeks, unless the architecture project falls through. I wish GR8 US was a little more convenient for me.  I&apos;m still considering making the trip.  Will you be there?&lt;/p&gt;</comment>
                            <comment id="14478963" author="paulk" created="Sun, 14 Mar 2010 19:00:06 +0000"  >&lt;p&gt;OK, thanks for the update. Alas, I won&apos;t make GR8 US - I&apos;ll be flying the Groovy flag at QCon in Tokyo and Beijing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722618" name="GROOVY-3832.patch" size="2434" author="jwb" created="Sat, 13 Mar 2010 13:40:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c8nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>