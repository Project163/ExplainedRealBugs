<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:02:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2347] Incorrect parameter for annotations throws compilation exception with obfuscated message</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2347</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Test class below.  The problem is simple, and it should have been found immediately on compilation.  Instead, a completely cryptic message is given from the exception thrown from the AnnotationVisitor:&lt;/p&gt;

&lt;p&gt;&quot;java.lang.ClassCastException: org.codehaus.groovy.ast.expr.VariableExpression cannot be cast to org.codehaus.groovy.ast.expr.PropertyExpression&quot;&lt;/p&gt;

&lt;p&gt;Expected behavior (best case) should give the file name, annotation, and line number of the offense.  In Grails this problem is especially bad because the stack traces are exceptionally long making this even more difficult to deal with.&lt;/p&gt;

&lt;p&gt;The following class will cause this issue, when compiled:&lt;/p&gt;

&lt;p&gt;import javax.persistence.*&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
class Foo{&lt;/p&gt;

&lt;p&gt;    @Id&lt;br/&gt;
    @GeneratedValue&lt;br/&gt;
    long id&lt;/p&gt;

&lt;p&gt;    @Temporal(DATE)&lt;br/&gt;
    Date testDate&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;When compiled it will produce this stack trace (to avoid the stack trace, change DATE above to TemporalType.DATE):&lt;/p&gt;

&lt;p&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed, General error during class generation: org.codehaus.groovy.ast.expr.VariableExpression cannot be cast to org.codehaus.groovy.ast.expr.PropertyExpression&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: org.codehaus.groovy.ast.expr.VariableExpression cannot be cast to org.codehaus.groovy.ast.expr.PropertyExpression&lt;br/&gt;
        at org.codehaus.groovy.classgen.AnnotationVisitor.visitExpression(AnnotationVisitor.java:137)&lt;br/&gt;
        at org.codehaus.groovy.classgen.AnnotationVisitor.visit(AnnotationVisitor.java:97)&lt;br/&gt;
        at org.codehaus.groovy.classgen.ExtendedVerifier.visitAnnotation(ExtendedVerifier.java:108)&lt;br/&gt;
        at org.codehaus.groovy.classgen.ExtendedVerifier.visitAnnotations(ExtendedVerifier.java:90)&lt;br/&gt;
        at org.codehaus.groovy.classgen.ExtendedVerifier.visitField(ExtendedVerifier.java:59)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:842)&lt;br/&gt;
        at org.codehaus.groovy.classgen.ExtendedVerifier.visitClass(ExtendedVerifier.java:51)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit$10.call(CompilationUnit.java:669)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:8&lt;br/&gt;
85)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:436)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:417)&lt;br/&gt;
        at org.codehaus.groovy.tools.FileSystemCompiler.compile(FileSystemCompiler.java:56)&lt;br/&gt;
        at org.codehaus.groovy.tools.FileSystemCompiler.main(FileSystemCompiler.java:220)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:101)&lt;br/&gt;
        at org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:130)&lt;/p&gt;</description>
                <environment>JDK 1.6, Vista</environment>
        <key id="12817402">GROOVY-2347</key>
            <summary>Incorrect parameter for annotations throws compilation exception with obfuscated message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alexpopescu">Alexandru Popescu</assignee>
                                    <reporter username="hippyod">Evan Slatis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Nov 2007 03:41:14 +0000</created>
                <updated>Sun, 23 Dec 2007 12:25:29 +0000</updated>
                            <resolved>Fri, 30 Nov 2007 15:36:26 +0000</resolved>
                                    <version>1.1-rc-3</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2csvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>