<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:18:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4719] Groovy build fails in tests - test RedundantCastInStubTest fails</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4719</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;1 error in UberTestCaseGroovySourceCodehausPackages:&lt;/p&gt;

&lt;p&gt;-testAll:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: C:\MIKEDATA\java\groovy\groovy-1.7.9\target\test-reports&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; WARNING: multiple versions of ant detected in path for junit&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;          jar:&lt;a href=&quot;file:/C:/Program%20Filez/ant/lib/ant.jar!/org/apache/tools/ant/Project.class&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/Program%20Filez/ant/lib/ant.jar!/org/apache/tools/ant/Project.class&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;      and jar:&lt;a href=&quot;file:/C:/MIKEDATA/java/groovy/groovy-1.7.9/target/lib/compile/ant-1.8.2.jar!/org/apache/tools/ant/Project.class&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C:/MIKEDATA/java/groovy/groovy-1.7.9/target/lib/compile/ant-1.8.2.jar!/org/apache/tools/ant/Project.class&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseBugs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 420, Failures: 0, Errors: 0, Time elapsed: 16.653 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseGroovySourceCodehausPackages&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 461, Failures: 0, Errors: 1, Time elapsed: 85.02 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test UberTestCaseGroovySourceCodehausPackages FAILED&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseGroovySourceCodehausPackages_VM6&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.359 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseGroovySourceRootPackage&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1016, Failures: 0, Errors: 0, Time elapsed: 51.935 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseGroovySourceSubPackages&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1284, Failures: 0, Errors: 0, Time elapsed: 101.457 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseGroovySourceSubPackages_VM6&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.265 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseJavaSourceCodehausPackages&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 610, Failures: 0, Errors: 0, Time elapsed: 42.786 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseJavaSourceGroovyPackagesNonSecurity&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 410, Failures: 0, Errors: 0, Time elapsed: 9.993 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseJavaSourceGroovyPackagesSecurity&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 16, Failures: 0, Errors: 0, Time elapsed: 10.766 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running UberTestCaseTCK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 231, Failures: 0, Errors: 0, Time elapsed: 6.88 sec&lt;/p&gt;

&lt;p&gt;Error is on test RedundantCastInStubTest.&lt;/p&gt;</description>
                <environment>Windows 7, Oracle Java 1.6.0_24-b07</environment>
        <key id="12815539">GROOVY-4719</key>
            <summary>Groovy build fails in tests - test RedundantCastInStubTest fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="mikevines">Mike Vines</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Mar 2011 02:41:12 +0000</created>
                <updated>Thu, 10 Mar 2011 06:02:26 +0000</updated>
                            <resolved>Thu, 10 Mar 2011 05:57:24 +0000</resolved>
                                    <version>1.7.9</version>
                                    <fixVersion>1.7.10</fixVersion>
                    <fixVersion>1.8-rc-3</fixVersion>
                    <fixVersion>1.9-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14471004" author="mikevines" created="Thu, 10 Mar 2011 03:02:14 +0000"  >&lt;p&gt;TEST-UberTestCaseGroovySourceCodehausPackages.xml has been attached containing detail of the error in the test.&lt;/p&gt;</comment>
                            <comment id="14470955" author="guillaume" created="Thu, 10 Mar 2011 03:03:47 +0000"  >&lt;p&gt;This test passes for me locally, as well as on our continuous integration server, and you&apos;re the first to encounter this problem it seems. &lt;br/&gt;
This is mysterious to me and I can&apos;t reproduce it for now.&lt;br/&gt;
It fails for you in StubTestCase on line 260:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(stubDir, fqn.replaceAll(/\./, File.separator) + &lt;span class=&quot;code-quote&quot;&gt;&apos;.java&apos;&lt;/span&gt;).text
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The java.lang.String#replaceAll() seems to be the one causing the problem.&lt;br/&gt;
Any idea why it could fail on your environment? (Windows file path issue???)&lt;/p&gt;</comment>
                            <comment id="14471018" author="mikevines" created="Thu, 10 Mar 2011 04:05:49 +0000"  >&lt;p&gt;File.Separator on Windows is the back slash character (&amp;#41;, which needs to be escaped in a string.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stubDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;).getAbsolutePath();
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fqn = &lt;span class=&quot;code-quote&quot;&gt;&quot;some.ClassWithPrimitiveBoolean&quot;&lt;/span&gt;;
File a = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(stubDir, fqn.replaceAll(/\./, &lt;span class=&quot;code-quote&quot;&gt;&quot;\\\\&quot;&lt;/span&gt;) + &lt;span class=&quot;code-quote&quot;&gt;&apos;.java&apos;&lt;/span&gt;) ;
File b = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(stubDir, fqn.replaceAll(/\./, File.separator) + &lt;span class=&quot;code-quote&quot;&gt;&apos;.java&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Setting of variable a will work, but it fails the same as the uber test on assigning b.  Also fails as you would expect if &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&quot; is put in instead of using File.separator.&lt;/p&gt;

&lt;p&gt;Mike&lt;/p&gt;</comment>
                            <comment id="14470991" author="mikevines" created="Thu, 10 Mar 2011 04:09:24 +0000"  >&lt;p&gt;My last comment didnt not appear correctly - this is effectively what I meant also fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stubDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;).getAbsolutePath();
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fqn = &lt;span class=&quot;code-quote&quot;&gt;&quot;some.ClassWithPrimitiveBoolean&quot;&lt;/span&gt;;
File c = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(stubDir, fqn.replaceAll(/\./, &lt;span class=&quot;code-quote&quot;&gt;&quot;\\&quot;&lt;/span&gt;) + &lt;span class=&quot;code-quote&quot;&gt;&apos;.java&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mike&lt;/p&gt;</comment>
                            <comment id="14470938" author="guillaume" created="Thu, 10 Mar 2011 04:12:43 +0000"  >&lt;p&gt;Could you please come up with a patch that would make the test pass for you?&lt;/p&gt;</comment>
                            <comment id="14470923" author="mikevines" created="Thu, 10 Mar 2011 04:26:38 +0000"  >&lt;p&gt;How about:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(stubDir, fqn.replace(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt; as &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;, File.separatorChar) + &lt;span class=&quot;code-quote&quot;&gt;&apos;.java&apos;&lt;/span&gt;).text
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14470975" author="guillaume" created="Thu, 10 Mar 2011 04:33:02 +0000"  >&lt;p&gt;Have you tried it, and it&apos;s working for you?&lt;/p&gt;</comment>
                            <comment id="14470967" author="mikevines" created="Thu, 10 Mar 2011 04:35:39 +0000"  >&lt;p&gt;Yes - has not passed all tests, and build complete.&lt;/p&gt;

&lt;p&gt;Thanks for your help,&lt;br/&gt;
Mike&lt;/p&gt;</comment>
                            <comment id="14470882" author="guillaume" created="Thu, 10 Mar 2011 05:15:44 +0000"  >&lt;p&gt;The proposed change works for me here.&lt;br/&gt;
I&apos;m waiting the confirmation from someone else on a windows machine to confirm it&apos;s working fine with the change.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722831" name="TEST-UberTestCaseGroovySourceCodehausPackages.xml" size="85227" author="mikevines" created="Thu, 10 Mar 2011 02:41:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2brf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>