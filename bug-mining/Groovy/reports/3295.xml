<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:56:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8369] Enum property access not working with @CompileStatic</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8369</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Foo { }

@CompileStatic
def test() {
  println Foo.getModifiers() &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; 16401 // ENUM | FINAL | PUBLIC (see GROOVY_8360 wrt STATIC)
&lt;/span&gt;  println Foo.modifiers      &lt;span class=&quot;code-comment&quot;&gt;// java.lang.NoSuchFieldError: modifiers
&lt;/span&gt;}

test()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13113293">GROOVY-8369</key>
            <summary>Enum property access not working with @CompileStatic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shils">Shil Sinha</assignee>
                                    <reporter username="paulk">Paul King</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Oct 2017 12:30:36 +0000</created>
                <updated>Tue, 6 Mar 2018 23:12:52 +0000</updated>
                            <resolved>Wed, 1 Nov 2017 09:20:16 +0000</resolved>
                                    <version>2.4.12</version>
                                    <fixVersion>2.4.13</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16227728" author="githubbot" created="Tue, 31 Oct 2017 22:43:26 +0000"  >&lt;p&gt;GitHub user shils opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;: Statically compiled property access on enum class throws&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; NoSuchFieldError&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/shils/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shils/groovy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #625&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 03fd268d814c491f1424f9fe8d8a0d30c5c333a5&lt;br/&gt;
Author: Shil Sinha &amp;lt;shil.sinha@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-10-31T17:29:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;: Statically compiled property access on enum class throws NoSuchFieldError&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16233607" author="githubbot" created="Wed, 1 Nov 2017 03:31:33 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16233731" author="githubbot" created="Wed, 1 Nov 2017 07:14:38 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625#discussion_r148194617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625#discussion_r148194617&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/test/org/codehaus/groovy/classgen/asm/sc/FieldsAndPropertiesStaticCompileTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -696,4 +696,21 @@ import org.codehaus.groovy.transform.sc.ListOfExpressionsExpression&lt;br/&gt;
                 assert astTrees&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;A$_closure1&amp;#39;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.contains(&apos;INVOKESTATIC A.pfaccess$02 (LA;Ljava/lang/String;)Ljava/lang/String;&apos;)&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    //&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    +    void testPropertyAccessOnEnumClass() {&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            assertScript &apos;&apos;&apos;&lt;br/&gt;
    +                enum Foo {}&lt;br/&gt;
    +&lt;br/&gt;
    +                def test() &lt;/p&gt;
{
    +                    println Foo.getModifiers() // =&amp;gt; 16401 // ENUM | FINAL | PUBLIC (see GROOVY_8360 wrt STATIC)
    +                    println Foo.modifiers      // java.lang.NoSuchFieldError: modifiers
    +                }
&lt;p&gt;    &lt;br/&gt;
    +                test()&lt;br/&gt;
    +            &apos;&apos;&apos;&lt;br/&gt;
    +        } finally &lt;/p&gt;
{
    +            //println astTrees
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Perhaps a slight improvement to my original test would be comparing property access to the getter result and also confirming that enum constants take preference over property access (which worked before but I couldn&apos;t see covered in existing tests).&lt;br/&gt;
    ```&lt;br/&gt;
    @Deprecated&lt;br/&gt;
    enum Foo &lt;/p&gt;
{
      annotations
    }

&lt;p&gt;    @groovy.transform.CompileStatic&lt;br/&gt;
    def test() &lt;/p&gt;
{
      assert &apos;annotations&apos; == Foo.annotations.toString()
      assert Foo.getAnnotations().size() == 1
      assert Foo.getModifiers() == Foo.modifiers
    }

&lt;p&gt;    test()&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16233735" author="githubbot" created="Wed, 1 Nov 2017 07:19:58 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625#discussion_r148195160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625#discussion_r148195160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/test/org/codehaus/groovy/classgen/asm/sc/FieldsAndPropertiesStaticCompileTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -696,4 +696,21 @@ import org.codehaus.groovy.transform.sc.ListOfExpressionsExpression&lt;br/&gt;
                 assert astTrees&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;A$_closure1&amp;#39;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.contains(&apos;INVOKESTATIC A.pfaccess$02 (LA;Ljava/lang/String;)Ljava/lang/String;&apos;)&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    //&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    +    void testPropertyAccessOnEnumClass() {&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            assertScript &apos;&apos;&apos;&lt;br/&gt;
    +                enum Foo {}&lt;br/&gt;
    +&lt;br/&gt;
    +                def test() &lt;/p&gt;
{
    +                    println Foo.getModifiers() // =&amp;gt; 16401 // ENUM | FINAL | PUBLIC (see GROOVY_8360 wrt STATIC)
    +                    println Foo.modifiers      // java.lang.NoSuchFieldError: modifiers
    +                }
&lt;p&gt;    &lt;br/&gt;
    +                test()&lt;br/&gt;
    +            &apos;&apos;&apos;&lt;br/&gt;
    +        } finally &lt;/p&gt;
{
    +            //println astTrees
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Actually, I&apos;ll merge now and tweak the test as per above.&lt;/p&gt;</comment>
                            <comment id="16233748" author="githubbot" created="Wed, 1 Nov 2017 07:38:57 +0000"  >&lt;p&gt;Github user paulk-asert commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/625#discussion_r148197190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/625#discussion_r148197190&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: src/test/org/codehaus/groovy/classgen/asm/sc/FieldsAndPropertiesStaticCompileTest.groovy &amp;#8212;&lt;br/&gt;
    @@ -696,4 +696,21 @@ import org.codehaus.groovy.transform.sc.ListOfExpressionsExpression&lt;br/&gt;
                 assert astTrees&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;A$_closure1&amp;#39;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.contains(&apos;INVOKESTATIC A.pfaccess$02 (LA;Ljava/lang/String;)Ljava/lang/String;&apos;)&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    //&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8369&quot; title=&quot;Enum property access not working with @CompileStatic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8369&quot;&gt;&lt;del&gt;GROOVY-8369&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    +    void testPropertyAccessOnEnumClass() {&lt;br/&gt;
    +        try {&lt;br/&gt;
    +            assertScript &apos;&apos;&apos;&lt;br/&gt;
    +                enum Foo {}&lt;br/&gt;
    +&lt;br/&gt;
    +                def test() &lt;/p&gt;
{
    +                    println Foo.getModifiers() // =&amp;gt; 16401 // ENUM | FINAL | PUBLIC (see GROOVY_8360 wrt STATIC)
    +                    println Foo.modifiers      // java.lang.NoSuchFieldError: modifiers
    +                }
&lt;p&gt;    &lt;br/&gt;
    +                test()&lt;br/&gt;
    +            &apos;&apos;&apos;&lt;br/&gt;
    +        } finally &lt;/p&gt;
{
    +            //println astTrees
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Oops, I just noticed you beat me to it. I&apos;ll just make the tweak.&lt;/p&gt;</comment>
                            <comment id="16233823" author="paulk" created="Wed, 1 Nov 2017 09:20:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shils&quot; class=&quot;user-hover&quot; rel=&quot;shils&quot;&gt;shils&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16234312" author="shils" created="Wed, 1 Nov 2017 16:15:52 +0000"  >&lt;p&gt;Thanks for reviewing and handling the rest of the backports &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lwun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>