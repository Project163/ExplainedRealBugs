<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:28:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5321] GroovyScriptEngine getResourceConnection treats resourceName argument as URI path spec</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5321</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;If a script name that begins with a leading &quot;/&quot; is passed to GroovyScriptEngie.run, then getResourceConnection may fail. The resulting output message will indicate some invalid path that (intuitively) seems like it should not have been constructed by groovy. (This makes it extremely difficult to debug some issues like dynamic script names).&lt;/p&gt;

&lt;p&gt;I am currently running embedded groovy running in java application. Problem observed when groovy scripts (.groovy) are stored within a jar file with the application, but the issue is probably not be limited to this case.&lt;/p&gt;

&lt;p&gt;Example roots provided to groovy:&lt;br/&gt;
&quot;jar:&lt;a href=&quot;file:/home/user/blah.jar!/org/someFolder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/user/blah.jar!/org/someFolder&lt;/a&gt;&quot; (which actually contains groovy scripts)&lt;br/&gt;
&quot;jar:&lt;a href=&quot;file:/home/user/blah.jar!/org/someOtherFolder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/user/blah.jar!/org/someOtherFolder&lt;/a&gt;&quot; (which also contains groovy scripts)&lt;/p&gt;

&lt;p&gt;If I incorectly pass &quot;/coolscript.groovy&quot; to GroovyScriptEngine.run instead of &quot;coolscript.groovy&quot; then I will receive an exception to the effect:&lt;br/&gt;
&quot;Cannot open URL: &lt;a href=&quot;file:/home/user/blah.jar!/coolscript.groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/user/blah.jar!/coolscript.groovy&lt;/a&gt;&quot;&lt;/p&gt;

&lt;p&gt;The fix (for user application) is to, of course, remove the leading &quot;/&quot;. The hope is that groovy can indicate that it is not a well formed name for a script, and throw some more meaningful exception. The alternative of continuing to use the name when it is not well formed (as though it was a path), leaves the possibility of obscure bugs.&lt;/p&gt;

&lt;p&gt;This is caused by the constructor for URL used in GroovyScriptEngine.getResourceConnection as described in the following javadoc:&lt;br/&gt;
&lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/net/URL.html#URL(java.net.URL&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javase/6/docs/api/java/net/URL.html#URL(java.net.URL&lt;/a&gt;, java.lang.String)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818146">GROOVY-5321</key>
            <summary>GroovyScriptEngine getResourceConnection treats resourceName argument as URI path spec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="denvercoder9">Rob</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2012 13:12:14 +0000</created>
                <updated>Tue, 11 Sep 2012 01:15:13 +0000</updated>
                            <resolved>Tue, 14 Aug 2012 09:41:33 +0000</resolved>
                                    <version>1.8.4</version>
                    <version>1.8.6</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.2</fixVersion>
                                    <component>GroovyScriptEngine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14472552" author="denvercoder9" created="Tue, 21 Feb 2012 13:16:18 +0000"  >&lt;p&gt;The most similar types of issues I saw while looking for a fix for this were errors that couldn&apos;t be reproduced in the past, Like &lt;a href=&quot;http://jira.codehaus.org/browse/GROOVY-5125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GROOVY-5125&lt;/a&gt; . This could be a potential cause for those simliar issues.&lt;/p&gt;</comment>
                            <comment id="14473094" author="blackdrag" created="Tue, 14 Aug 2012 09:41:33 +0000"  >&lt;p&gt;the issue is unrelated to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-5125&quot; title=&quot;GroovyScriptEngine load from  jarURL fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-5125&quot;&gt;&lt;del&gt;GROOVY-5125&lt;/del&gt;&lt;/a&gt;. Instead it was the URL spec RFC2396. It ays, that if a absolute path is used, like with /x.groovy, that the previously existing path is to be removed. so a /com/foo//x.groovy turns into a /x.groovy. The exception text will now prin /com/foo//x.groovy instead&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2byyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>