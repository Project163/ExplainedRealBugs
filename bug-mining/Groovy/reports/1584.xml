<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:22:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5027] Groovydoc calculateFirstSentence doesn&apos;t recognise html tags as breaks</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5027</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The Method summary block of the groovydoc pages contains a sentence describing the method.&lt;/p&gt;

&lt;p&gt;However, if the javadoc looks like (taken from StreamingJsonBuilder.groovy):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * Varargs elements as arguments to the JSON builder create a root JSON array
     * &amp;lt;p&amp;gt;
     * Example:
     * &amp;lt;pre class=&lt;span class=&quot;code-quote&quot;&gt;&quot;groovyTestCase&quot;&lt;/span&gt;&amp;gt;
     * &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringWriter().with { w -&amp;gt;
     *   def json = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; groovy.json.StreamingJsonBuilder( w )
     *   def result = json 1, 2, 3
     *
     *   &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; result &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; List
     *   &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; w.toString() == &lt;span class=&quot;code-quote&quot;&gt;&quot;[1,2,3]&quot;&lt;/span&gt;
     * }
     * &amp;lt;/pre&amp;gt;
     * @param args an array of values
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; a list of values
     */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the summary text becomes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;Varargs elements as arguments to the JSON builder create a root JSON array

Example:

 new StringWriter().with { w -&amp;gt;
   def json = new groovy.json.StreamingJsonBuilder( w )
   def result = json 1, 2, 3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this case, it is only confusing (as the &lt;tt&gt;assert&lt;/tt&gt; is missed off the end, but in other cases, it could result in invalid code being shown in the summary.&lt;/p&gt;

&lt;p&gt;The attached patch adds another &lt;tt&gt;replaceAll&lt;/tt&gt; to the &lt;tt&gt;calculateFirstSentence&lt;/tt&gt; method of &lt;tt&gt;SimpleGroovyDoc.java&lt;/tt&gt; which trims the javadoc as soon as an HTML tag is encountered as the first thing on a new line in the javadoc.&lt;/p&gt;

&lt;p&gt;The summary text for this same method then becomes simply:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;Varargs elements as arguments to the JSON builder create a root JSON array
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12815868">GROOVY-5027</key>
            <summary>Groovydoc calculateFirstSentence doesn&apos;t recognise html tags as breaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="tim_yates">Tim Yates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Sep 2011 04:29:37 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:15 +0000</updated>
                            <resolved>Thu, 22 Sep 2011 10:00:36 +0000</resolved>
                                    <version>1.8.2</version>
                    <version>1.9-beta-3</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>1.9-beta-4</fixVersion>
                                    <component>GroovyDoc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14471797" author="tim_yates" created="Fri, 16 Sep 2011 04:31:32 +0000"  >&lt;p&gt;Forgot the link to to an example gapi page&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://groovy.codehaus.org/gapi/groovy/json/StreamingJsonBuilder.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://groovy.codehaus.org/gapi/groovy/json/StreamingJsonBuilder.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14471788" author="guillaume" created="Thu, 22 Sep 2011 10:00:36 +0000"  >&lt;p&gt;Thank you Tim!&lt;/p&gt;</comment>
                            <comment id="14479707" author="paulk" created="Fri, 23 Sep 2011 00:26:13 +0000"  >&lt;p&gt;Actually, I just had a look at what javadoc (at least under jdk6 and jdk7) does. It seems like it recognises &amp;lt;p&amp;gt; as a line break but not the other tags. I suspect we want to follow javadocs lead here. I will see if I can tweak the patch accordingly.&lt;/p&gt;</comment>
                            <comment id="14479694" author="paulk" created="Fri, 23 Sep 2011 00:54:15 +0000"  >&lt;p&gt;Hmm, seems like &lt;tt&gt;&amp;lt;p&amp;gt;&lt;/tt&gt; is recognized whether it is on a newline or not but neither &lt;tt&gt;&amp;lt;p/&amp;gt;&lt;/tt&gt; nor &lt;tt&gt;&amp;lt;p /&amp;gt;&lt;/tt&gt; are recognized.&lt;/p&gt;</comment>
                            <comment id="14471859" author="paulk" created="Fri, 23 Sep 2011 01:22:33 +0000"  >&lt;p&gt;ok, tweaks are committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722873" name="groovydoc.patch" size="1005" author="tim_yates" created="Fri, 16 Sep 2011 04:29:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2colj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>