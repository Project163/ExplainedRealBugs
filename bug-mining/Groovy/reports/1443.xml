<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:18:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4649] static inner classes are not being compiled correctly</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4649</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The groovy compiler used by eclipse &amp;amp; intellij are both having trouble compiling static inner classes.  The groovyc compiler does not fail but it appears to generate incorrect bytecode.  I filed a issue with intellij and they said that this is a groovy compiler problem not and intellij problem.&lt;/p&gt;

&lt;p&gt;The following code triggers the problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//groovy code
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Outer {
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Inner {}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//java code
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Client {
  { &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Outer.Inner(); }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a serious issue because without any tool support we cannot use static inner classes.  The only work around for this issue is to not use static inner classes.&lt;/p&gt;

&lt;p&gt;Here are the following issues related to this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jira.codehaus.org/browse/GRECLIPSE-983&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/GRECLIPSE-983&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://youtrack.jetbrains.net/issue/IDEA-64752&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://youtrack.jetbrains.net/issue/IDEA-64752&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://youtrack.jetbrains.net/issue/IDEA-50708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://youtrack.jetbrains.net/issue/IDEA-50708&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have not looked in detail at the bytecode generated by the groovy compiler but decompiling the class files with JD Decompiler gives the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//notice no reference to the Inner class.  Decompiling a java compiled &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;like &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; will show the Inner &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;in the Outer class.
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Outer
  &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; GroovyObject
{
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Outer()
  {
    Outer &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;;
    CallSite[] arrayOfCallSite = $getCallSiteArray();
    MetaClass localMetaClass = $getStaticMetaClass();
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metaClass = localMetaClass;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;
  {
    &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; localLong1 = (&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;)DefaultTypeTransformation.box(0L);
    __timeStamp__239_neverHappen1296229343062 = DefaultTypeTransformation.longUnbox(localLong1);
    &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; localLong2 = (&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;)DefaultTypeTransformation.box(1296229343062L);
    __timeStamp = DefaultTypeTransformation.longUnbox(localLong2);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12815504">GROOVY-4649</key>
            <summary>static inner classes are not being compiled correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="leo.herbie">Travis Schneeberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Jan 2011 10:00:07 +0000</created>
                <updated>Thu, 17 Feb 2011 15:52:07 +0000</updated>
                            <resolved>Thu, 17 Feb 2011 15:52:06 +0000</resolved>
                                    <version>1.7.6</version>
                    <version>1.8-beta-3</version>
                                    <fixVersion>1.8-rc-1</fixVersion>
                    <fixVersion>1.7.9</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14470928" author="leo.herbie" created="Thu, 17 Feb 2011 11:17:24 +0000"  >&lt;p&gt;Guys, any chance of this being fixed for the 1.8 release?&lt;/p&gt;</comment>
                            <comment id="14470845" author="blackdrag" created="Thu, 17 Feb 2011 11:42:29 +0000"  >&lt;p&gt;Let&apos;s see... If I compile this in java with the public modifier then I get an entry in Outer that looks like this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-comment&quot;&gt;// access flags 9
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; INNERCLASS Outer$Inner Outer Inner&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; and the same for Inner too. If done with Groovy I see that this inner class reference is missing and the modifier for the inner class is actually 41, meaning that static is set... which is wrong. Since it works without those inner class entries I strongly assume this static flag being set is the major problem here.&lt;/p&gt;</comment>
                            <comment id="14470864" author="leo.herbie" created="Thu, 17 Feb 2011 11:54:34 +0000"  >&lt;p&gt;Hey, thanks for the quick response!  If there is any way that I can help out with this I&apos;d be glad too.  Even if it&apos;s just testing or something &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14470943" author="blackdrag" created="Thu, 17 Feb 2011 14:25:16 +0000"  >&lt;p&gt;I answered quick, because I wanted this bug fixed already and then forgot about it... anyway, I have a fixed version of this in trunk now. A nice benefit from fixing the entries is that javac suddenly is much faster in compiling the java files of groovy. I can only assume javac got irritated by the wrong entries or has an optimization for inner classes that could not kick in.&lt;/p&gt;</comment>
                            <comment id="14470790" author="leo.herbie" created="Thu, 17 Feb 2011 15:33:20 +0000"  >&lt;p&gt;Jochen,&lt;/p&gt;

&lt;p&gt;Will this be in the next 1.8 release (RC or beta)?  I think I heard somewhere that trunk is now considered groovy 1.9&lt;/p&gt;</comment>
                            <comment id="14470901" author="blackdrag" created="Thu, 17 Feb 2011 15:52:07 +0000"  >&lt;p&gt;I am closing this issue as the fix is now available in 1.8, 1.9 and 1.7&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2co8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>