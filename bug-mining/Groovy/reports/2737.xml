<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:43:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7075] Safe Navigation operator does not perform null check with @CompileStatic on interface type not declaring getter</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7075</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code produces NullPointerException when compiled static, but operates as expected when running in dynamic groovy:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
@Grapes(
  @Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.springframework.security&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;spring-security-core&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;3.2.5.RELEASE&apos;&lt;/span&gt;)
)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.security.core.context.SecurityContextHolder

@CompileStatic
def checkSafeNavi() {
  println SecurityContextHolder
  &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.springframework.security.core.context.SecurityContextHolder
&lt;/span&gt;  println SecurityContextHolder.context
  &lt;span class=&quot;code-comment&quot;&gt;//org.springframework.security.core.context.SecurityContextImpl@ffffffff: Null authentication
&lt;/span&gt;  println SecurityContextHolder.context?.authentication
  &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;  println SecurityContextHolder.context?.authentication?.name
  &lt;span class=&quot;code-comment&quot;&gt;//NullPointerException
&lt;/span&gt;}

checkSafeNavi()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks to Thibault Kruse for producing a minimal reproducible version.&lt;/p&gt;

&lt;p&gt;Here is another test case that doesn&apos;t use Spring Security or any other dependency. This hopefully should be able to be transformed directly into a unit test for Groovy:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//If Y was a &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;implementing YParent, it works
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//If Y had the getValue method directly, it works
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//If Y redeclares (overrides) getValue, it works
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Y &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; YParent {
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; YParent {
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getValue()
}

@groovy.transform.CompileStatic
def check() {
  Y y = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  println y?.value
}

check()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12811964">GROOVY-7075</key>
            <summary>Safe Navigation operator does not perform null check with @CompileStatic on interface type not declaring getter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="gillius">Jason Winnebeck</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2014 09:21:14 +0000</created>
                <updated>Mon, 19 Oct 2015 16:53:01 +0000</updated>
                            <resolved>Wed, 24 Sep 2014 08:14:44 +0000</resolved>
                                    <version>2.3.6</version>
                                    <fixVersion>2.3.7</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14476449" author="melix" created="Wed, 17 Sep 2014 09:24:31 +0000"  >&lt;p&gt;Raised priority to critical.&lt;/p&gt;</comment>
                            <comment id="14963595" author="aaronzirbes" created="Mon, 19 Oct 2015 16:53:01 +0000"  >&lt;p&gt;This appears to still be an issue.  I ran into it when using a Retrofit interface that returned an in with @CompileStatic in Groovy 2.4.5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>