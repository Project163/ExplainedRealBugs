<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:18:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10611] Static fields not initialized when accessed from another class</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10611</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Accessing a static field in a Groovy class from a Java class stops working when upgrading from 3.0.9 to 3.0.10.&lt;/p&gt;

&lt;p&gt;I originally encountered this in a Grails project, but I&apos;ve managed to make this sort of minimal reproduction here: &lt;a href=&quot;https://github.com/torbjorn-boost/groovy-static-field&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/torbjorn-boost/groovy-static-field&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When using 3.0.9, I get this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;13:55:15: Executing &apos;:JavaFile.main()&apos;...&lt;/tt&gt;&lt;tt&gt;&amp;gt; Task :compileJava NO-SOURCE&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :compileGroovy&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :processResources NO-SOURCE&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :classes&lt;/tt&gt;&lt;tt&gt;&amp;gt; Task :JavaFile.main()&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;GroovyFile sees 123&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;JavaFile sees 123&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;But if I bump to 3.0.10 in build.gradle, this happens:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;13:56:32: Executing &apos;:JavaFile.main()&apos;...&lt;/tt&gt;&lt;tt&gt;&amp;gt; Task :compileJava NO-SOURCE&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :compileGroovy&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :processResources NO-SOURCE&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;gt; Task :classes&lt;/tt&gt;&lt;tt&gt;&amp;gt; Task :JavaFile.main()&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;JavaFile sees 0&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This happens with JREs 8, 11 and 17.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13442505">GROOVY-10611</key>
            <summary>Static fields not initialized when accessed from another class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="torbjorn-boost">Torbj&#248;rn G. Dahle</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Apr 2022 11:58:39 +0000</created>
                <updated>Mon, 13 Mar 2023 17:20:51 +0000</updated>
                            <resolved>Sun, 1 May 2022 18:54:59 +0000</resolved>
                                    <version>3.0.10</version>
                                    <fixVersion>3.0.11</fixVersion>
                    <fixVersion>4.0.3</fixVersion>
                    <fixVersion>2.5.22</fixVersion>
                                    <component>Stub generator / Joint compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17530397" author="emilles" created="Sat, 30 Apr 2022 14:28:51 +0000"  >&lt;p&gt;If you make the field non-final does it still behave the same?  I&#8217;m wondering if there is inlining going on here. &lt;/p&gt;

&lt;p&gt;Update: the stub is written out with: &lt;tt&gt;public static final long STATIC_LONG = (long)0;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17530528" author="emilles" created="Sun, 1 May 2022 15:53:33 +0000"  >&lt;p&gt;The stub generator does not perform type conversion on &quot;123&quot; to long.  If your constant value is &quot;123L&quot; it will be written to the stub as is.&lt;/p&gt;</comment>
                            <comment id="17530556" author="emilles" created="Sun, 1 May 2022 18:54:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/469e4d02ad95d8dcf0366c778c58addd9b5677b0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/469e4d02ad95d8dcf0366c778c58addd9b5677b0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17530701" author="JIRAUSER288570" created="Mon, 2 May 2022 12:05:06 +0000"  >&lt;p&gt;Nice! Will this fix also be in a 3.0.11 release at some point?&lt;/p&gt;</comment>
                            <comment id="17539139" author="paulk" created="Thu, 19 May 2022 00:32:20 +0000"  >&lt;p&gt;Back-ported to 3.0.11. Probably 1-2 weeks away from a release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13518307">GROOVY-10902</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
            <label>groovy</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11y28:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>