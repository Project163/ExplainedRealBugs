<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:16:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4309] printf not bound to &quot;out&quot; in groovlet context as in print/println</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4309</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;In groovlet print and println are bound to the response.Writer() or out variable so lone print ... and println ... calls are written th the response output Writer as is calls to out.&lt;/p&gt;

&lt;p&gt;However, printf calls in goovlet context is still bound to System.out so calls to printf write to System.out not out.&lt;/p&gt;

&lt;p&gt;printf method getting invoked is following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.codehaus.groovy.runtime.DefaultGroovyMethods

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void printf(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; self, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; format, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; arg) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (self &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; PrintStream) {
            printf((PrintStream) self, format, arg);
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            printf(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, format, arg); **** &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; branch is getting invoked
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Object self is Groovlet class itself which is not instance of PrintStream so System.out is getting used.&lt;/p&gt;

&lt;p&gt;Work-around is not using &quot;printf&quot; short-cut but explicitly call print/println and String.format() instead.&lt;/p&gt;

&lt;p&gt;Test output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;groovy script output:
1. println test
2. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a test
3. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a test

groovlet response:
1. println test
3. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a test
4. test out.println
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Groovlet test.gsp&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
 response.contentType = &lt;span class=&quot;code-quote&quot;&gt;&apos;text/plain&apos;&lt;/span&gt;
 groovylet = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RuntimeException rte) {
 groovylet = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
}

&lt;span class=&quot;code-comment&quot;&gt;// output to groovlet response
&lt;/span&gt;println &lt;span class=&quot;code-quote&quot;&gt;&quot;1. println test&quot;&lt;/span&gt;

&lt;span class=&quot;code-comment&quot;&gt;//************************************************************************
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// in groovyet context &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; gets output to &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out not out which is bound to response.getWriter()
&lt;/span&gt;printf &lt;span class=&quot;code-quote&quot;&gt;&quot;2. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a %s%n&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is the problem &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; in groovlet mode
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//************************************************************************
&lt;/span&gt;
print &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;3. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a %s%n&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;)

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (groovylet) {
  out.println &lt;span class=&quot;code-quote&quot;&gt;&quot;4. test out.println&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Windows/Linux running within Apache Tomcat/6.0.26</environment>
        <key id="12818055">GROOVY-4309</key>
            <summary>printf not bound to &quot;out&quot; in groovlet context as in print/println</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="gjmathews1">jason mathews</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jul 2010 12:11:01 +0000</created>
                <updated>Thu, 22 Jul 2010 17:32:26 +0000</updated>
                            <resolved>Thu, 22 Jul 2010 03:30:56 +0000</resolved>
                                    <version>1.7.3</version>
                                    <fixVersion>1.7.4</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                    <component>Groovlet / GSP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2brd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>