<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2604] Annotations on a local variable crash GroovyC</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2604</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Java allows annotations on local variables, as well as the Groovy Grammer, but the compiler crashes with a NPE.&lt;/p&gt;

&lt;p&gt;this class is fine in Java, craashes Groovy&lt;br/&gt;
class Test {&lt;br/&gt;
  public void testMe() &lt;/p&gt;
{
    @SuppressWarnings(&quot;None&quot;) String s = &quot;&quot;;
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;With the following (1.5.3) stack trace...&lt;br/&gt;
BUG! exception in phase &apos;conversion&apos; in source unit &apos;script1203044831759.groovy&apos; null&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:776)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:438)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:277)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:248)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:243)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:205)&lt;br/&gt;
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:215)&lt;br/&gt;
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)&lt;br/&gt;
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:226)&lt;br/&gt;
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:899)&lt;br/&gt;
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:740)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:765)&lt;br/&gt;
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:753)&lt;br/&gt;
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:167)&lt;br/&gt;
	at groovy.grape.GrapeClassLoaderTest.testScriptFieldAnnotation(GrapeClassLoaderTest.groovy:75)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.modifiers(AntlrParserPlugin.java:783)&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.declarationExpression(AntlrParserPlugin.java:1077)&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.variableDef(AntlrParserPlugin.java:1108)&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.statement(AntlrParserPlugin.java:900)&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.convertGroovy(AntlrParserPlugin.java:225)&lt;br/&gt;
	at org.codehaus.groovy.antlr.AntlrParserPlugin.buildAST(AntlrParserPlugin.java:183)&lt;br/&gt;
	at org.codehaus.groovy.control.SourceUnit.convert(SourceUnit.java:282)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit$7.call(CompilationUnit.java:547)&lt;br/&gt;
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:772)&lt;/p&gt;

&lt;p&gt;The error appears to be the call to modifiers in declerationExpression that passes a null for the List of annotations.  Providing a list is only half the battle, as the bytecode (likely an attribute or section in the class file, don&apos;t ask me I&apos;m not the JVM expert) for the annotation must also be generated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817589">GROOVY-2604</key>
            <summary>Annotations on a local variable crash GroovyC</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="shemnon">Daniel Ferrin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Feb 2008 21:10:31 +0000</created>
                <updated>Thu, 10 Apr 2008 10:34:31 +0000</updated>
                            <resolved>Thu, 10 Apr 2008 10:34:31 +0000</resolved>
                                    <version>1.5.3</version>
                                    <fixVersion>1.5.5</fixVersion>
                    <fixVersion>1.6-beta-1</fixVersion>
                                    <component>ast builder</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14464487" author="blackdrag" created="Thu, 27 Mar 2008 05:47:08 +0000"  >&lt;p&gt;I added a work around for this in 1.6, but the annotation will be lost.&lt;/p&gt;</comment>
                            <comment id="14464595" author="blackdrag" created="Thu, 10 Apr 2008 10:34:31 +0000"  >&lt;p&gt;done&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cdyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>