<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:59:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1553] I fixed some problems with ranges and added some additional unit tests.</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1553</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I added some additional unit tests and JavaDoc for ranges and fixed some problems that I found.&lt;/p&gt;

&lt;p&gt;I added step() to the Range interface.  It was present in both ObjectRange and IntRange but not in Range.  Guillaume approved this change via email.&lt;/p&gt;

&lt;p&gt;Hash codes were being computed using only &quot;reverse,&quot; &quot;from,&quot; and &quot;to.&quot; This results in hash codes that are inconsistent with the contract specified by List.hashCode(). As a result, range.equals(list) was true but range.hashCode() == list.hashCode() was false. I removed IntRange.hashCode() and ObjectRange.hashCode() so the use AbstractList.hashCode() instead. This fixes this problem although it is less efficient, especially for large ranges.&lt;/p&gt;

&lt;p&gt;I added a checks for null in equals(). equals(null) should return false rather than throwing a NullPointerException.&lt;/p&gt;

&lt;p&gt;I made subList(i, i) return an empty list instead of a single element list. subList() is from a to b, exclusive, so it should return an empty list in this case.&lt;/p&gt;

&lt;p&gt;I made contains(Object) consistent.  IntRange had been returning true if the argument was an element of the range or was a sub-range.  ObjectRange had a contains(Comparable) but no contains(Object).  ObjectRange.contains(Comparable) returned true if the argument was between from and to and didn&apos;t consider sub ranges.  The expected behavior, according to the List interface is to return true if the argument is an element of the list.  RangeTest tested for this behavior in ObjectRange, making sure a range of BigDecimals from 1.1 to 9.1 didn&apos;t contain 8.0.  But the test only passed because ObjectRange.contains(Comparable) wasn&apos;t called because AbstractList.contains(Object) was called instead.&lt;/p&gt;

&lt;p&gt;Anyway, since the List contract says contains(Object) should return true if and only if the argument is a member of the list, I made IntRange.contains() do this and removed ObjectRange.contains(Comparable).  I also added IntRange.containsAll() which overrides AbstractList.containsAll() to look for sub ranges efficiently.&lt;/p&gt;

&lt;p&gt;I made ranges of Shorts and Floats promote their &apos;from&apos; value to Integer and Double, respectively.  Previously, the from value had been of the original type and all the remaining values the promoted type, as the remaining values were created by incrementing the from value.  I think the original version had ClassCastException problems when it tried to compare from with other values in the range.  Also, having all values in the range the same type seemed to be more consistent and make more sense.&lt;/p&gt;

&lt;p&gt;I removed some uses of InvokerHelper.compareEqual() to be consistent with list.  I think compareEqual() is both more and less forgiving than equals().  I think it says Long(0) is equal to Integer(0), for example.  Other lists, however, use equals() and equals() is supposed to be symmetric.  So, using compareEqual() you get situations where range.equals(list) but !list.equals(range).  Also, compareEqual() is sometimes less forgiving than equals().  I think asking a range of integers whether it contains the string &quot;hello&quot;, for example, threw a NumberFormatException instead of returning false.&lt;/p&gt;

&lt;p&gt;RangeTestSuite runs all the range-related tests.&lt;/p&gt;

&lt;p&gt;This issue replaces &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1546&quot; title=&quot;additional tests and javadoc for IntRange&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1546&quot;&gt;&lt;del&gt;GROOVY-1546&lt;/del&gt;&lt;/a&gt;.  Please disregard the patches in that issue. &lt;/p&gt;

</description>
                <environment>Max OS X 10.4</environment>
        <key id="12813385">GROOVY-1553</key>
            <summary>I fixed some problems with ranges and added some additional unit tests.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="etellman">Edwin Tellman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Nov 2006 06:06:02 +0000</created>
                <updated>Sun, 5 Apr 2015 14:25:05 +0000</updated>
                            <resolved>Sun, 1 Jul 2007 01:10:35 +0000</resolved>
                                                    <fixVersion>1.1-beta-2</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14462291" author="etellman" created="Sat, 18 Nov 2006 02:54:39 +0000"  >&lt;p&gt;This patch contains unit tests and bug fixes for the EmptyRange class.&lt;/p&gt;

&lt;p&gt;The changes to EmptyRange.java are:&lt;/p&gt;

&lt;p&gt;EmptyRange extends AbstractList so some methods have been removed from EmptyRange as the versions provided by AbstractList are fine.&lt;/p&gt;

&lt;p&gt;get() now throws IndexOutOfBounds exception instead of returning null.&lt;/p&gt;

&lt;p&gt;Methods which attempt to modify an EmptyRange all consistently throw OperationNotSupportedException, as EmptyRanges are immutable.&lt;/p&gt;

&lt;p&gt;step() returns a new ArrayList each time it is called.  Previously EmptyRange kept a list in a member variable and always returned the same list.  The problem with this approach is that values may be added to the returned list so the list returned on a subsequent call to step() might not be empty.&lt;/p&gt;

&lt;p&gt;I added some JavaDoc.&lt;/p&gt;

&lt;p&gt;I added the range tests to the AllGroovyJavaTestSuite.&lt;/p&gt;</comment>
                            <comment id="14477340" author="paulk" created="Mon, 11 Jun 2007 03:58:00 +0000"  >&lt;p&gt;Patches applied to HEAD plus a new method containsWithinBounds() added to the Range interface in case anyone was relying on the earlier behaviour. So, if r = 0.0 .. 5.0 then r.contains(2.5) will be false and r.containsWithBounds(2.5) will be true.&lt;/p&gt;</comment>
                            <comment id="14477391" author="paulk" created="Sun, 1 Jul 2007 00:41:39 +0000"  >&lt;p&gt;Spotted another problem.&lt;/p&gt;</comment>
                            <comment id="14477395" author="paulk" created="Sun, 1 Jul 2007 01:10:35 +0000"  >&lt;p&gt;amendment to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1553&quot; title=&quot;I fixed some problems with ranges and added some additional unit tests.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1553&quot;&gt;&lt;del&gt;GROOVY-1553&lt;/del&gt;&lt;/a&gt;: 2.0f in 1.0..3.0 now works&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721231" name="empty_range.patch" size="20181" author="etellman" created="Sat, 18 Nov 2006 02:54:39 +0000"/>
                            <attachment id="12721578" name="range.patch" size="79036" author="etellman" created="Tue, 14 Nov 2006 06:06:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2csun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>