<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:02:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2365] Deadlock in GroovyClassLoader</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2365</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;A deadlock can be created by two separate threads attempting to load classes from the same GroovyClassLoader.  Reproducibility is non-deterministic as it seems to be a timing issue.  The environment that produced the example stack trace below has the following features:&lt;/p&gt;

&lt;p&gt;One thread is inside a call to groovyClassLoader.loadClass(scriptName, true, true);&lt;br/&gt;
One thread is inside a call to newInstance() on a Class returned by the previous call (on the same GroovyClassLoader)&lt;/p&gt;

&lt;p&gt;Two different loaded scripts are involved in the two calls.  Both scripts import other scripts (and therefore rely on the classloader to do recursive loading), though it&apos;s not clear whether that is an essential feature in causing the deadlock.&lt;/p&gt;

&lt;p&gt;A straightforward solution might be to have the classCache calls (getClassCacheEntry, etc) synchronize on something else (like the cache itself) other than the loader, though it&apos;s not clear whether that would solve only this case or the general case.&lt;/p&gt;

&lt;p&gt;Stacktraces:&lt;/p&gt;

&lt;p&gt;Found one Java-level deadlock:&lt;br/&gt;
=============================&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-17&quot;:&lt;br/&gt;
 waiting to lock monitor 0x080cff84 (object 0x4686f850, a groovy.lang.GroovyClassLoader),&lt;br/&gt;
 which is held by &quot;resin-tcp-connection-*:8080-1&quot; &lt;/p&gt;

&lt;p&gt;&quot;resin-tcp-connection-*:8080-1&quot;:&lt;br/&gt;
 waiting to lock monitor 0x080d0240 (object 0x4578aec0, a groovy.lang.GroovyClassLoader$InnerLoader),&lt;br/&gt;
 which is held by &quot;resin-tcp-connection-*:8080-17&quot;&lt;/p&gt;

&lt;p&gt;Java stack information for the threads listed above:&lt;br/&gt;
===================================================&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-17&quot;:&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.getClassCacheEntry(GroovyClassLoader.java:514)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x4686f850&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:620)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader$InnerLoader.loadClass(GroovyClassLoader.java:385)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:723)&lt;br/&gt;
       at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
       at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x4578aec0&amp;gt; (a groovy.lang.GroovyClassLoader$InnerLoader)&lt;br/&gt;
       at java.lang.Class.getDeclaredConstructors0(Native Method)&lt;br/&gt;
       at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)&lt;br/&gt;
       at java.lang.Class.getConstructor0(Class.java:2699)&lt;br/&gt;
       at java.lang.Class.newInstance0(Class.java:326)&lt;br/&gt;
       at java.lang.Class.newInstance(Class.java:308)&lt;br/&gt;
       ...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;resin-tcp-connection-*:8080-1&quot;:&lt;br/&gt;
       at java.lang.Class.getDeclaredFields0(Native Method)&lt;br/&gt;
       at java.lang.Class.privateGetDeclaredFields(Class.java:2291)&lt;br/&gt;
       at java.lang.Class.privateGetPublicFields(Class.java:2324)&lt;br/&gt;
       at java.lang.Class.getFields(Class.java:1359)&lt;br/&gt;
       at org.codehaus.groovy.classgen.Verifier.getTimestamp(Verifier.java:606)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.getTimeStamp(ResolveVisitor.java:185)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.isSourceNewer(ResolveVisitor.java:205)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.resolveToScript(ResolveVisitor.java:234)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:162)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.resolveFromModule(ResolveVisitor.java:388)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:162)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:130)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transformVariableExpression(ResolveVisitor.java:565)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:440)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transformPropertyExpression(ResolveVisitor.java:532)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:442)&lt;br/&gt;
       at org.codehaus.groovy.ast.expr.Expression.transformExpressions(Expression.java:49)&lt;br/&gt;
       at org.codehaus.groovy.ast.expr.ArgumentListExpression.transformExpression(ArgumentListExpression.java:67)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:457)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transformMethodCallExpression(ResolveVisitor.java:635)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:448)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transformBinaryExpression(ResolveVisitor.java:603)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:446)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:148)&lt;br/&gt;
       at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)&lt;br/&gt;
       at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:53)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:129)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.visitBlockStatement(ResolveVisitor.java:755)&lt;br/&gt;
       at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:52)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:73)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:80)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.visitConstructorOrMethod(ResolveVisitor.java:96)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:88)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:851)&lt;br/&gt;
       at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:48)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.visitClass(ResolveVisitor.java:734)&lt;br/&gt;
       at org.codehaus.groovy.control.ResolveVisitor.startResolving(ResolveVisitor.java:71)&lt;br/&gt;
       at org.codehaus.groovy.control.CompilationUnit$5.call(CompilationUnit.java:527)&lt;br/&gt;
       at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:772)&lt;br/&gt;
       at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:438)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:289)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x4686f850&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:260)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:255)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.recompile(GroovyClassLoader.java:708)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:668)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x4686f850&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
       at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:497)&lt;br/&gt;
       ...&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12813933">GROOVY-2365</key>
            <summary>Deadlock in GroovyClassLoader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ait">Alex Tkachman</assignee>
                                    <reporter username="sidereal">J Y</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Dec 2007 18:51:25 +0000</created>
                <updated>Sun, 23 Dec 2007 12:25:29 +0000</updated>
                            <resolved>Tue, 11 Dec 2007 07:09:58 +0000</resolved>
                                    <version>1.1-rc-2</version>
                                    <fixVersion>1.5.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14463872" author="sidereal" created="Fri, 7 Dec 2007 19:23:33 +0000"  >&lt;p&gt;After looking over the stack traces and the scripts involved, I&apos;m fairly certain that the presence of a utility class imported by both of the scripts is one of the triggers.&lt;/p&gt;

&lt;p&gt;Consider a groovy source directory that has:&lt;br/&gt;
Util.groovy&lt;br/&gt;
ScriptFoo.groovy&lt;br/&gt;
ScriptBar.groovy&lt;/p&gt;

&lt;p&gt;where both ScriptFoo and ScriptBar include Util.&lt;br/&gt;
It looks like the steps involved are:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ThreadScriptFoo triggers a compile and load of ScriptFoo.class (with InnerLoaderFoo), which causes InnerLoaderFoo to be the classloader of Util.class&lt;/li&gt;
	&lt;li&gt;ThreadScriptFoo calls newInstance on ScriptFoo.class&lt;/li&gt;
	&lt;li&gt;ThreadScriptFoo locks its classloader (InnerLoaderFoo)&lt;/li&gt;
	&lt;li&gt;ThreadScriptBar triggers a compile and load of ScriptBar.class&lt;/li&gt;
	&lt;li&gt;ThreadScriptBar locks the GroovyClassLoader&lt;/li&gt;
	&lt;li&gt;ThreadScriptBar does a lookup of Util.class as part of ScriptBar&apos;s compilation&lt;/li&gt;
	&lt;li&gt;ThreadScriptBar locks Util.class&apos;s ClassLoader (InnerLoaderFoo)&lt;/li&gt;
	&lt;li&gt;ThreadScriptFoo checks the GroovyClassLoader&apos;s class cache&lt;/li&gt;
	&lt;li&gt;ThreadScriptFoo tries to lock GroovyClassLoader (deadlock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Of course I could be misunderstanding how imported groovy source files are compiled and loaded, but it looks like it may be fixed by ensuring that Util gets its own InnerClassLoader, rather than inheriting the script&apos;s&lt;/p&gt;
</comment>
                            <comment id="14463779" author="sidereal" created="Mon, 10 Dec 2007 14:11:28 +0000"  >&lt;p&gt;The submitted fix allowed the Thread to move past the classcache, but a deadlock still occurred.  The new stack traces are below.  It looks to be the same circumstance: that an InnerLoader is shared between a script class and the class of a utility class imported from that script.  This produces a deadlock between an attempted newInstance of that script class and the compilation of another script that attempts to import the same utility class.&lt;/p&gt;

&lt;p&gt;Found one Java-level deadlock:&lt;br/&gt;
=============================&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-15&quot;:&lt;br/&gt;
  waiting to lock monitor 0x080cff20 (object 0x468731d8, a groovy.lang.GroovyClassLoader),&lt;br/&gt;
  which is held by &quot;resin-tcp-connection-*:8080-1&quot;&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-1&quot;:&lt;br/&gt;
  waiting to lock monitor 0x080d01dc (object 0x45789578, a groovy.lang.GroovyClassLoader$InnerLoader),&lt;br/&gt;
  which is held by &quot;resin-tcp-connection-*:8080-15&quot;&lt;/p&gt;

&lt;p&gt;Java stack information for the threads listed above:&lt;br/&gt;
===================================================&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-15&quot;:&lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:295)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x468731d8&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:621)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader$InnerLoader.loadClass(GroovyClassLoader.java:367)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:706)&lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x45789578&amp;gt; (a groovy.lang.GroovyClassLoader$InnerLoader)&lt;br/&gt;
        at java.lang.Class.getDeclaredConstructors0(Native Method)&lt;br/&gt;
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)&lt;br/&gt;
        at java.lang.Class.getConstructor0(Class.java:2699)&lt;br/&gt;
        at java.lang.Class.newInstance0(Class.java:326)&lt;br/&gt;
        at java.lang.Class.newInstance(Class.java:308)&lt;br/&gt;
        at com.newsvine.reece.groovy.GroovyTemplateStore.getTemplate(GroovyTemplateStore.java:97)&lt;br/&gt;
        at com.newsvine.reece.groovy.GroovyTemplatePlugin.executeTemplate(GroovyTemplatePlugin.java:58)&lt;br/&gt;
        at com.newsvine.reece.groovy.GroovyTemplateService.handleRequest(GroovyTemplateService.java:61)&lt;br/&gt;
        at com.newsvine.servista.servlet.HttpServistaService.handle(HttpServistaService.java:20)&lt;br/&gt;
        at com.newsvine.servista.servlet.ServistaManagerServlet.doGet(ServistaManagerServlet.java:133)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:115)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:92)&lt;br/&gt;
        at com.caucho.server.dispatch.ServletFilterChain.doFilter(ServletFilterChain.java:106)&lt;br/&gt;
        at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:173)&lt;br/&gt;
        at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:229)&lt;br/&gt;
        at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:274)&lt;br/&gt;
        at com.caucho.server.port.TcpConnection.run(TcpConnection.java:514)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x45721610&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at com.caucho.util.ThreadPool.runTasks(ThreadPool.java:520)&lt;br/&gt;
        at com.caucho.util.ThreadPool.run(ThreadPool.java:442)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
&quot;resin-tcp-connection-*:8080-1&quot;:&lt;br/&gt;
        at java.lang.Class.getDeclaredFields0(Native Method)&lt;br/&gt;
        at java.lang.Class.privateGetDeclaredFields(Class.java:2291)&lt;br/&gt;
        at java.lang.Class.privateGetPublicFields(Class.java:2324)&lt;br/&gt;
        at java.lang.Class.getFields(Class.java:1359)&lt;br/&gt;
        at org.codehaus.groovy.classgen.Verifier.getTimestamp(Verifier.java:617)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.getTimeStamp(ResolveVisitor.java:201)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.isSourceNewer(ResolveVisitor.java:221)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.resolveToScript(ResolveVisitor.java:250)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:178)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.resolveFromModule(ResolveVisitor.java:404)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:178)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.resolve(ResolveVisitor.java:146)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transformVariableExpression(ResolveVisitor.java:581)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:456)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transformPropertyExpression(ResolveVisitor.java:548)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:458)&lt;br/&gt;
        at org.codehaus.groovy.ast.expr.Expression.transformExpressions(Expression.java:49)&lt;br/&gt;
        at org.codehaus.groovy.ast.expr.ArgumentListExpression.transformExpression(ArgumentListExpression.java:67)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:473)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transformMethodCallExpression(ResolveVisitor.java:651)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:464)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transformBinaryExpression(ResolveVisitor.java:619)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.transform(ResolveVisitor.java:462)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitExpressionStatement(ClassCodeExpressionTransformer.java:148)&lt;br/&gt;
        at org.codehaus.groovy.ast.stmt.ExpressionStatement.visit(ExpressionStatement.java:40)&lt;br/&gt;
        at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:53)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:129)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.visitBlockStatement(ResolveVisitor.java:771)&lt;br/&gt;
        at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:52)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:73)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:80)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeExpressionTransformer.visitConstructorOrMethod(ClassCodeExpressionTransformer.java:53)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.visitConstructorOrMethod(ResolveVisitor.java:96)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:88)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:869)&lt;br/&gt;
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:48)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.visitClass(ResolveVisitor.java:750)&lt;br/&gt;
        at org.codehaus.groovy.control.ResolveVisitor.startResolving(ResolveVisitor.java:71)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit$5.call(CompilationUnit.java:527)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:772)&lt;br/&gt;
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:438)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:271)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x468731d8&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:242)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:237)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.recompile(GroovyClassLoader.java:691)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:651)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x468731d8&amp;gt; (a groovy.lang.GroovyClassLoader)&lt;br/&gt;
        at groovy.lang.GroovyClassLoader.loadClass(GroovyClassLoader.java:479)&lt;br/&gt;
        ...&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="14463821" author="sidereal" created="Mon, 10 Dec 2007 15:16:32 +0000"  >&lt;p&gt;This is a set of source files that will reliably reproduce the deadlock (at least, it will on my Debian Linux machine.  I can&apos;t guarantee that other native threading models will have the same results).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721769" name="deadlock.zip" size="1361" author="sidereal" created="Mon, 10 Dec 2007 15:16:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bnkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>