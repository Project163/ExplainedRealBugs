<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:02:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2375] &quot;groovy&quot; launcher broken on Cygwin</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2375</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Running Groovy scripts on Cygwin when GROOVY_HOME contains spaces doesn&apos;t work anymore. The inclusion of the &quot;-Dscript.name&quot; (r4863) broke it (it worked fine up to r4241).&lt;/p&gt;</description>
                <environment>Windows XP SP2, Cygwin</environment>
        <key id="12813931">GROOVY-2375</key>
            <summary>&quot;groovy&quot; launcher broken on Cygwin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="russel">Dr. Russel Winder</assignee>
                                    <reporter username="dserodio">Daniel Serodio</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Dec 2007 14:55:34 +0000</created>
                <updated>Sat, 22 Dec 2007 07:04:15 +0000</updated>
                            <resolved>Fri, 14 Dec 2007 14:08:08 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.5.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14463796" author="dserodio" created="Mon, 10 Dec 2007 15:02:52 +0000"  >&lt;p&gt;The -Dscript.name argument is not correctly quoted, run {{ bash -x &quot;$(which groovy)&quot; }} and it&apos;ll be clear&lt;/p&gt;</comment>
                            <comment id="14463882" author="guillaume" created="Mon, 10 Dec 2007 15:05:44 +0000"  >&lt;p&gt;Any idea on how to fix this?&lt;/p&gt;</comment>
                            <comment id="14463848" author="dserodio" created="Wed, 12 Dec 2007 08:03:59 +0000"  >&lt;p&gt;Shell script quoting is a real pain in the neck. I gave it a try, and managed to fix &quot;groovy&quot; but break &quot;groovysh&quot;, &quot;groovyConsole&quot;, etc.&lt;br/&gt;
I&apos;ll give it another try later.&lt;/p&gt;</comment>
                            <comment id="14463797" author="guillaume" created="Wed, 12 Dec 2007 13:12:00 +0000"  >&lt;p&gt;Ok, thanks, keep us posted on your progress.&lt;/p&gt;</comment>
                            <comment id="14463861" author="codex22" created="Thu, 13 Dec 2007 09:23:50 +0000"  >&lt;p&gt;There is another problem with the groovy launcher in 1.5.&lt;/p&gt;

&lt;p&gt;Arguments are not properly quoted, so that&lt;br/&gt;
&lt;tt&gt;groovy -e &quot;println 1&quot;&lt;/tt&gt;&lt;br/&gt;
will cause an error (as groovy sees only println as argument which is not allowed).&lt;/p&gt;

&lt;p&gt;Other example:&lt;br/&gt;
&lt;tt&gt;groovy -e &quot;println(1)&quot;&lt;/tt&gt;&lt;br/&gt;
works, but&lt;br/&gt;
&lt;tt&gt;groovy -e &quot;println (1)&quot;&lt;/tt&gt;&lt;br/&gt;
does not (note the extra space).&lt;/p&gt;

&lt;p&gt;Should that be an issue on its own?&lt;br/&gt;
I&apos;m not sure why the cygwin startup scripts have been changed, seemed to work in 1.0.&lt;/p&gt;</comment>
                            <comment id="14463873" author="russel" created="Thu, 13 Dec 2007 10:18:28 +0000"  >&lt;p&gt;I think the -Dscript.name thing is solved simply by adding quotes around the parameter.  Given that the problem is general and not just on Cygwin, i.e. it happens on Ubuntu, I can put in a fix &amp;#8211; I will do this in the next few minutes.&lt;/p&gt;

&lt;p&gt;Of course if Daniel didn&apos;t use spaces in paths we wouldn&apos;t have a problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The command line scripts thing is a different problem, though almost certainly a quoting and/or backslash issue in startGroovy.  I&apos;ll see if I can fix this at the same time.&lt;/p&gt;</comment>
                            <comment id="14463822" author="russel" created="Thu, 13 Dec 2007 11:24:22 +0000"  >&lt;p&gt;Given that the string script.name only appears in the groovy script and nowhere else, this would seem to imply that it serves no useful purpose.  The ideal fix appears to be to remove it from the groovy script.  The question is then why did it get put in in the first place.  And why only in there and not the other scripts.&lt;/p&gt;

&lt;p&gt;I see that there is also occurrences of it in the Windows batch scripts but that will have to be someone else&apos;s problem.&lt;/p&gt;</comment>
                            <comment id="14463881" author="russel" created="Thu, 13 Dec 2007 12:27:54 +0000"  >&lt;p&gt;By doing a trivial but subtle rearrangement in the ARGUMENTS processing in startGroovy, I think I have circumvented (not fixed) Michael&apos;s problem.  I suspect though that there are new space problems that will haunt us.&lt;/p&gt;

&lt;p&gt;I am still not sure there is a quoting of the -Dscript.name that fixes Daniel&apos;s problem.&lt;/p&gt;</comment>
                            <comment id="14463788" author="dserodio" created="Fri, 14 Dec 2007 07:13:16 +0000"  >&lt;p&gt;Russel, you&apos;ll have to blame Bill for the spaces in filenames &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I guess M$ got so carried away by the possibility of having spaces in filenames that they put them everywhere they could.&lt;br/&gt;
&quot;C:\Programs&quot; or &quot;Applications&quot; would be much better, but they had to use a long name and put a space there. Same for &quot;Documents and Settings&quot; (which BTW, because &quot;Users&quot; in Vista).&lt;/p&gt;

&lt;p&gt;&amp;lt;/rant&amp;gt;&lt;/p&gt;

&lt;p&gt;I think I&apos;ve fixed it, by undoing the mentioned change, defining a &lt;tt&gt;SCRIPT_NAME=$0&lt;/tt&gt; variable in &lt;tt&gt;groovy&lt;/tt&gt; and adding &lt;tt&gt;-Dscript.name=$SCRIPT_NAME&lt;/tt&gt; to &lt;tt&gt;startGroovy&lt;/tt&gt;, but I&apos;ll have to test some more.&lt;/p&gt;

&lt;p&gt;Should I create a patch? Against which version?&lt;/p&gt;</comment>
                            <comment id="14463906" author="russel" created="Fri, 14 Dec 2007 13:30:30 +0000"  >&lt;p&gt;It seems I was over confident of my little hack to cure the &quot;println 1&quot; problem.  It is back.  I shall work on it more though.&lt;/p&gt;</comment>
                            <comment id="14463891" author="russel" created="Fri, 14 Dec 2007 13:36:32 +0000"  >&lt;p&gt;I just tried your idea and it works like a charm,  In fact, I think removing the setting of the JAVA_OPTS from the groovy scripts and then putting  SCRIPT_PATH=&quot;$0&quot; in startGroovy and then the -D line in the exec statement, provides a solution for all the scripts.&lt;/p&gt;

&lt;p&gt;I shall commit this and then see if I embarrass myself again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14463957" author="russel" created="Fri, 14 Dec 2007 14:08:08 +0000"  >&lt;p&gt;I have reverted a refactoring and fiddled a bit and now all the cases listed here seem to work as they should.  I suspect though that there are many more issues left to find in teh case of Cygwin.  The problem is all the parameter processing that goes on to try and convert path names. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12817011">GROOVY-1642</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cc6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>