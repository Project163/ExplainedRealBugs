<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:13:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3713] @Immutable should not override toString() if provided in source</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3713</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Immutable &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyClass {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() { &lt;span class=&quot;code-quote&quot;&gt;&apos;some &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value&apos;&lt;/span&gt; }
}
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyClass()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;throws&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Repetitive method name/signature &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; method &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString()&apos;&lt;/span&gt; in class &lt;span class=&quot;code-quote&quot;&gt;&apos;MyClass&apos;&lt;/span&gt;.
 at line: 2, column: 5

Repetitive method name/signature &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; method &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString()&apos;&lt;/span&gt; in class &lt;span class=&quot;code-quote&quot;&gt;&apos;MyClass&apos;&lt;/span&gt;.
 at line: -1, column: -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12814789">GROOVY-3713</key>
            <summary>@Immutable should not override toString() if provided in source</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="codevise">Dierk K&#246;nig</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Aug 2009 04:11:36 +0000</created>
                <updated>Tue, 7 Apr 2015 19:12:48 +0000</updated>
                            <resolved>Sun, 6 Sep 2009 04:22:05 +0000</resolved>
                                    <version>1.7-beta-1</version>
                                    <fixVersion>1.6.5</fixVersion>
                    <fixVersion>1.7-beta-2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14467565" author="roshandawrani" created="Mon, 31 Aug 2009 05:58:01 +0000"  >&lt;p&gt;Did you mean?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() { &lt;span class=&quot;code-quote&quot;&gt;&apos;some &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value&apos;&lt;/span&gt; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14467607" author="codevise" created="Mon, 31 Aug 2009 06:32:29 +0000"  >&lt;p&gt;changed return type void to String&lt;/p&gt;</comment>
                            <comment id="14467648" author="roshandawrani" created="Mon, 31 Aug 2009 08:11:10 +0000"  >&lt;p&gt;ImmutableASTTransformation also adds equals() and hashCode() too. Should they also not be added if they are already provided in source. &lt;/p&gt;

&lt;p&gt;I understand that from Class Format point of view, they should not be added but does anyone see any conflict it would create with the @Immutable functionality? If there is some issue there, then some other solution may have to be adopted.&lt;/p&gt;</comment>
                            <comment id="14467546" author="guillaume" created="Mon, 31 Aug 2009 08:20:06 +0000"  >&lt;p&gt;Immutability comes partly from the fact equals() and hashCode() work the way they&apos;re implemented by the @Immutable transformation.&lt;br/&gt;
So someone could break the immutability if he provided a wrong equals() and hashCode() himself &amp;#8211; but toString() should be okay if a user provide his own.&lt;br/&gt;
Instead, I think we should throw a compilation error if someone provides their own equals() and hashCode().&lt;/p&gt;

&lt;p&gt;Paul King may want to add some thoughts there, as @Immutable is his baby &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14467623" author="roshandawrani" created="Mon, 31 Aug 2009 08:26:07 +0000"  >&lt;p&gt;I will try the toString() change in the meanwhile and wait for more comments on whether users can be told up-front that they should not provide hashCode() / equals() with @Immutable. Some change there is needed anyway because if they provide, class generated will run into ClassFormatError due to repetitive hashCode() / equals() methods.&lt;/p&gt;</comment>
                            <comment id="14467593" author="roshandawrani" created="Mon, 31 Aug 2009 13:23:24 +0000"  >&lt;p&gt;Attaching a patch with &lt;/p&gt;

&lt;p&gt;1) throwing errors for overridden equals() / hashCode()&lt;/p&gt;

&lt;p&gt;2) allowing users to override toString() by not adding the generated toString() if it is provided.&lt;/p&gt;</comment>
                            <comment id="14467588" author="blackdrag" created="Mon, 31 Aug 2009 15:57:53 +0000"  >&lt;p&gt;Roshan, why don&apos;t you use cNode.getDeclaredMethods(&quot;equals&quot;) and such?&lt;/p&gt;</comment>
                            <comment id="14478649" author="paulk" created="Mon, 31 Aug 2009 16:48:05 +0000"  >&lt;p&gt;Just getting back into work after returning from Agile 2009. I&apos;ll take a look at this today. Patch looks good - though I am in two minds about whether to allow equals/hashCode methods to be overridden as well.&lt;/p&gt;</comment>
                            <comment id="14467649" author="roshandawrani" created="Mon, 31 Aug 2009 21:56:25 +0000"  >&lt;p&gt;Attaching a newer patch that uses getDeclaredMethods() and has a test case.&lt;/p&gt;</comment>
                            <comment id="14478656" author="paulk" created="Sun, 6 Sep 2009 04:22:05 +0000"  >&lt;p&gt;I ended up allowing equals and hashCode to be overridden as well since we allow additional (non-property) state variables to be added which up until now we could only ignore - now we can allow code for most &quot;properties&quot; to be automatically generated but have an extensible way to handle some properties manually.&lt;/p&gt;</comment>
                            <comment id="14467599" author="codevise" created="Sun, 6 Sep 2009 04:54:57 +0000"  >&lt;p&gt;superb, thanks&lt;br/&gt;
Dierk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722055" name="17x_Patch.txt" size="3669" author="roshandawrani" created="Mon, 31 Aug 2009 21:56:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cktj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>