<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:04:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2507] Groovy-JDK methods Collection.unique should return a Set</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2507</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The three methods Collection.unique from the Groovy-JDK  return Collections according to the API, but I think they should return Sets.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12812095">GROOVY-2507</key>
            <summary>Groovy-JDK methods Collection.unique should return a Set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="jogi">J&#246;rg Gottschling</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jan 2008 02:23:07 +0000</created>
                <updated>Wed, 8 Apr 2009 00:13:22 +0000</updated>
                            <resolved>Mon, 6 Apr 2009 09:55:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14478101" author="paulk" created="Fri, 18 Apr 2008 18:43:06 +0000"  >&lt;p&gt;Wouldn&apos;t the least surprise thing be that they return the original collection type unchanged?&lt;/p&gt;</comment>
                            <comment id="14464654" author="jogi" created="Sat, 19 Apr 2008 05:48:06 +0000"  >&lt;p&gt;Hm,... If you have a look at all the Methods added to Collection it looks like most of the rest of Groovy: Grown as someone needed. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;You&apos;re right: For some Methods it would be very useful and not surprising if you return the original collection type. But do they? Look at plus(Collection) for example: What if the left hand side Collection is a SortedSet, Queue, Deque or a jakarta.commons.Bag? So I think the result will be surprising. &lt;/p&gt;

&lt;p&gt;(BTW: It would be nice if the method could just clone the left Collection, add the right Collection to the clone and return the clone. But not every Collection is cloneable.)&lt;/p&gt;

&lt;p&gt;So what about sort()? I think if it&apos;s called on a List it schould return a List. But called on a Set I would think it schould return a SortedSet. And unique()? I think it schould return a Set because it&apos;s the nature of a Set that it just contains unique elements. Ok, one could argue that one perhaps want a unique List. &lt;/p&gt;

&lt;p&gt;But the cause is another surprise: Unique does not return a new Collection like the most other methods. :-\  I was very surprised as I read this. Perhaps you can go the Ruby way an have methods that work inline and some that work on new objects. Regardless of that, every method that changes an existing Collection schould be marked clearly. At best within the methods name.&lt;/p&gt;

&lt;p&gt;Another method that should not return a List when called on a Set is findAll. Other examples are findAll and getAt on SortedSet.&lt;/p&gt;

&lt;p&gt;Perhaps some methods are just misplaced at Collection and should belong to List, Set, ...?&lt;/p&gt;

&lt;p&gt;What about methods like: toSortedSet(), toSet(), toUniqueList() ... and makeUnique() for editing the existing Collections? Is that groovy enough?&lt;/p&gt;</comment>
                            <comment id="14466872" author="blackdrag" created="Mon, 6 Apr 2009 09:55:04 +0000"  >&lt;p&gt;True, a Set makes sense in terms of that it is unique. But further operations will maybe add duplicates and want to do that. So I am not for returning a Set here, people can do that explecitly if needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2crcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>