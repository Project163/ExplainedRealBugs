<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:55:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8156] Compile error when ListenerList annotation exists</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8156</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;After upgrading groovy from  2.4.7 to 2.4.10 all classes using the `groovy.beans.ListenerList` annotation fail to compile.&lt;br/&gt;
The error message is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caught: BUG! exception in phase &apos;canonicalization&apos; in source unit &apos;/tmp/fsck/bug.groovy&apos; ClassNode#getTypeClass for Event is called before the type class is set 
BUG! exception in phase &apos;canonicalization&apos; in source unit &apos;/tmp/fsck/bug.groovy&apos; ClassNode#getTypeClass for Event is called before the type class is set 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Code to reproduce:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;class Event {
}

interface EventListener {
        void doSomething(Event e)
}

class EventHandler {
        @groovy.beans.ListenerList
        List&amp;lt;EventListener&amp;gt; listeners
}

def eh = new EventHandler()
eh.addEventListener({ println it} as EventListener)
eh.fireDoSomething(new Event())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Complete steps:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% sdk u groovy 2.4.7

Using groovy version 2.4.7 in this shell.
% cat bug.groovy 
class Event {
}

interface EventListener {
        void doSomething(Event e)
}

class EventHandler {
        @groovy.beans.ListenerList
        List&amp;lt;EventListener&amp;gt; listeners
}

def eh = new EventHandler()
eh.addEventListener({ println it} as EventListener)
eh.fireDoSomething(new Event())
% groovy -v
Groovy Version: 2.4.7 JVM: 1.8.0_121 Vendor: Oracle Corporation OS: Linux
% groovy bug.groovy # WORKS 
Event@762ef0ea
% sdk u groovy 2.4.10       

Using groovy version 2.4.10 in this shell.
% groovy -v                
Groovy Version: 2.4.10 JVM: 1.8.0_121 Vendor: Oracle Corporation OS: Linux
% groovy bug.groovy # FAILS
Caught: BUG! exception in phase &apos;canonicalization&apos; in source unit &apos;/tmp/fsck/bug.groovy&apos; ClassNode#getTypeClass for Event is called before the type class is set 
BUG! exception in phase &apos;canonicalization&apos; in source unit &apos;/tmp/fsck/bug.groovy&apos; ClassNode#getTypeClass for Event is called before the type class is set 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Linux x64 java8 </environment>
        <key id="13063775">GROOVY-8156</key>
            <summary>Compile error when ListenerList annotation exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jwagenleitner">John Wagenleitner</assignee>
                                    <reporter username="safri">Sascha Frinken</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Apr 2017 12:07:39 +0000</created>
                <updated>Tue, 2 May 2017 02:03:09 +0000</updated>
                            <resolved>Thu, 20 Apr 2017 04:40:14 +0000</resolved>
                                    <version>2.4.10</version>
                                    <fixVersion>2.4.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15971983" author="githubbot" created="Tue, 18 Apr 2017 01:54:06 +0000"  >&lt;p&gt;GitHub user jwagenleitner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/524&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/524&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8156&quot; title=&quot;Compile error when ListenerList annotation exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8156&quot;&gt;&lt;del&gt;GROOVY-8156&lt;/del&gt;&lt;/a&gt;: Compile error when ListenerList annotation exists&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwagenleitner/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwagenleitner/groovy&lt;/a&gt; groovy8156&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/524.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/524.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #524&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1d24e37353ef1544a2d5a6fdb7929b1a46c598f3&lt;br/&gt;
Author: John Wagenleitner &amp;lt;jwagenleitner@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-04-14T20:33:59Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8156&quot; title=&quot;Compile error when ListenerList annotation exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8156&quot;&gt;&lt;del&gt;GROOVY-8156&lt;/del&gt;&lt;/a&gt;: Compile error when ListenerList annotation exists&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15976035" author="githubbot" created="Thu, 20 Apr 2017 04:12:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/524&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/524&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15976059" author="jwagenleitner" created="Thu, 20 Apr 2017 04:40:14 +0000"  >&lt;p&gt;Thanks for reporting the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dl3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>