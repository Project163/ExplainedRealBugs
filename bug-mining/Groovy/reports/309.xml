<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 23:58:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1618] Groovy SQL insertion failing against SQL Server using JTDS</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1618</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The current Sql.executeInsert (String, LIst) which all code goes through uses this way of executing a prepared statement:&lt;/p&gt;

&lt;p&gt;statement = connection.prepareStatement(sql);&lt;br/&gt;
setParameters(params, statement);&lt;br/&gt;
configure(statement);&lt;br/&gt;
boolean hasResultSet = statement.execute(sql, Statement.RETURN_GENERATED_KEYS);&lt;/p&gt;

&lt;p&gt;The JTDS driver complains about this - you&apos;re not meant to call execute passing in some SQL when it&apos;s already been prepared.&lt;br/&gt;
The following code works instead:&lt;/p&gt;

&lt;p&gt;statement = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);&lt;br/&gt;
setParameters(params, statement);&lt;br/&gt;
configure(statement);&lt;br/&gt;
this.updateCount  = statement.executeUpdate();&lt;/p&gt;

&lt;p&gt;Apologies for this not being provided as a patch - I haven&apos;t looked yet to see where else it might be occurring, and I also haven&apos;t worked out the best way of unit testing it (beyond mocks). I wanted to raise it in time for someone more experienced to look before v1 goes out though!&lt;/p&gt;</description>
                <environment>Linux, Fedora Core 3, Java 1.5, JTDS 1.2, SQL Server 2000</environment>
        <key id="12816788">GROOVY-1618</key>
            <summary>Groovy SQL insertion failing against SQL Server using JTDS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="jskeet">Jon Skeet</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Dec 2006 02:21:58 +0000</created>
                <updated>Fri, 27 Apr 2007 10:35:41 +0000</updated>
                            <resolved>Fri, 27 Apr 2007 10:35:41 +0000</resolved>
                                    <version>1.0-RC-1</version>
                                    <fixVersion>1.1-beta-1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14477293" author="rasss" created="Tue, 3 Apr 2007 13:52:07 +0000"  >&lt;p&gt;I&apos;ve fixed the code according to your suggestions. I&apos;ve tested it with a simple groovy script. Additionally, I&apos;ve adapted the SqlTest.groovy, but was not able to run it, because some libraries were missing. So, be warned. This patch is minimally tested. It does work for my situation.&lt;/p&gt;</comment>
                            <comment id="14477313" author="rasss" created="Tue, 3 Apr 2007 13:54:49 +0000"  >&lt;p&gt;By the way. This error also occurred while using MySQL as database on Mac OS X. So the title of this issue is a misnomer. However, I do not have the permissions to fix this... The issue will occur on every &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; database. executeInsert in version 1.0 is broken.&lt;/p&gt;</comment>
                            <comment id="14462704" author="guillaume" created="Fri, 27 Apr 2007 10:35:41 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721036" name="executeInsert.patch" size="1489" author="cocoa" created="Tue, 3 Apr 2007 13:52:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bmnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>