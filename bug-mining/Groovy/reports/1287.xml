<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:16:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4225] Wrong generation of import statements in stubs</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4225</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Single-type import declarations in Groovy files are collected/converted into type-on-demand import declarations by the stub compiler &amp;#8211; in other words,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt&gt;import my.package.Type1&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;import my.package.Type2&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt&gt;import my.package.*;&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This breaks the type shadowing mechanisms described in Section 7.5.1 of the Java Language Specification (3rd edition) and leads to Java compiler errors like &quot;cannot decide which of the classes to use&quot;.&lt;/p&gt;

&lt;p&gt;Moreover, current implementations is based on an unordered set, thus destroying the order of import declarations.&lt;/p&gt;

&lt;p&gt;Attached patch solves these issues by preserving both the form and the order of original import declarations.&lt;/p&gt;</description>
                <environment>Windows XP, Sun JDK 1.6.0_19</environment>
        <key id="12815193">GROOVY-4225</key>
            <summary>Wrong generation of import statements in stubs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="rnd">Dmytro Rud</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 May 2010 10:53:27 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:08 +0000</updated>
                            <resolved>Fri, 28 May 2010 11:04:22 +0000</resolved>
                                    <version>1.7.2</version>
                                    <fixVersion>1.7.3</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                    <component>Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14479130" author="paulk" created="Thu, 27 May 2010 20:56:38 +0000"  >&lt;p&gt;Patch seems to do the right thing. Need to work out a good way to test it before applying.&lt;/p&gt;</comment>
                            <comment id="14479123" author="paulk" created="Fri, 28 May 2010 00:14:00 +0000"  >&lt;p&gt;Hi Dmytro, thanks for the patch. Do you have an example where the current imperfect import statements are causing a problem? I applied your patch and found no problems but upon investigating further I am wondering whether output of any imports is now required. From reading some of the source code comments, it seems that at one stage we didn&apos;t generate the fully qualified names all the time and the imports were required. But my current testing hasn&apos;t been able to find a case where we now don&apos;t generate a fully qualified name - hence I think we can remove all imports.&lt;/p&gt;</comment>
                            <comment id="14469378" author="rnd" created="Fri, 28 May 2010 04:48:38 +0000"  >&lt;p&gt;Hi Paul,&lt;br/&gt;
I attach a sample Maven project.  Its compilation (mvn compile) leads to the following errors:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;C:\workspace\test1\target\generated-sources\groovy-stubs\main\package2\Test1.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;22,15&amp;#93;&lt;/span&gt; reference to Type is ambiguous, both class java.lang.reflect.Type in java.lang.reflect and class package1.Type in package1 match&lt;/p&gt;

&lt;p&gt;C:\workspace\test1\target\generated-sources\groovy-stubs\main\package2\Test1.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;22,40&amp;#93;&lt;/span&gt; reference to Type is ambiguous, both class java.lang.reflect.Type in java.lang.reflect and class package1.Type in package1 match&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14479137" author="paulk" created="Fri, 28 May 2010 06:37:22 +0000"  >&lt;p&gt;Hi Dmytro, applied the patch. Any chance you could try the snapshot here:&lt;br/&gt;
&lt;a href=&quot;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy-all/1.7.3-SNAPSHOT/groovy-all-1.7.3-SNAPSHOT.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://snapshots.repository.codehaus.org/org/codehaus/groovy/groovy-all/1.7.3-SNAPSHOT/groovy-all-1.7.3-SNAPSHOT.jar&lt;/a&gt;&lt;br/&gt;
just rename your groovy-all-1.7.2.jar file in your ~/.m2 repo to have a .bak extension, ditto for sha1 file, then drop the above into that directory and rename it&lt;/p&gt;</comment>
                            <comment id="14469391" author="rnd" created="Fri, 28 May 2010 06:51:49 +0000"  >&lt;p&gt;Hi Paul, it works now, thank you!&lt;/p&gt;</comment>
                            <comment id="14479146" author="paulk" created="Fri, 28 May 2010 11:04:22 +0000"  >&lt;p&gt;patch applied - thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722511" name="groovy-patch-20100526.patch" size="1547" author="rnd" created="Wed, 26 May 2010 10:53:27 +0000"/>
                            <attachment id="12722323" name="test1.zip" size="1578" author="rnd" created="Fri, 28 May 2010 04:48:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ctqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>