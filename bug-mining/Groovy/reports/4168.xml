<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:14:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10145] Support JDK16</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10145</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description></description>
                <environment></environment>
        <key id="13384656">GROOVY-10145</key>
            <summary>Support JDK16</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daniel_sun">Daniel Sun</assignee>
                                    <reporter username="daniel_sun">Daniel Sun</reporter>
                        <labels>
                            <label>jdk16</label>
                    </labels>
                <created>Sat, 19 Jun 2021 13:36:42 +0000</created>
                <updated>Sat, 22 Jul 2023 13:44:58 +0000</updated>
                            <resolved>Fri, 25 Jun 2021 07:54:02 +0000</resolved>
                                                    <fixVersion>4.0.0-beta-1</fixVersion>
                    <fixVersion>3.0.16</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                                        <aggregatetimeremainingestimate seconds="0">0h</aggregatetimeremainingestimate>
                                        <aggregatetimespent seconds="1800">0.5h</aggregatetimespent>
                                    <comments>
                            <comment id="17365934" author="daniel_sun" created="Sat, 19 Jun 2021 13:46:57 +0000"  >&lt;p&gt;Here is the PR: &lt;a href=&quot;https://github.com/apache/groovy/pull/1598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1598&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17401045" author="tomasz &#347;liwa" created="Wed, 18 Aug 2021 13:09:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt;&#160;do you plan to backport the&#160;&lt;a href=&quot;https://github.com/apache/groovy/pull/1598/commits/d8c9f46adbca926e2bd217c552d79c8113d9e77d#diff-7fac6e99303f2cf5cd8bedef4a905a5aed311c068f7f0a1d6f3fa9b3aa4cac28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;src/main/java/org/codehaus/groovy/control/CompilerConfiguration.java&lt;/a&gt;&#160;change (ASM8 -&amp;gt; ASM9) to the 3.0.x branch?&lt;/p&gt;</comment>
                            <comment id="17401054" author="paulk" created="Wed, 18 Aug 2021 13:23:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Tomasz+%C5%9Aliwa&quot; class=&quot;user-hover&quot; rel=&quot;Tomasz &#346;liwa&quot;&gt;Tomasz &#346;liwa&lt;/a&gt;&#160;Please see&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10194&quot; title=&quot;&amp;quot;PermittedSubclasses requires ASM9&amp;quot; when importing enum on Java 17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10194&quot;&gt;&lt;del&gt;GROOVY-10194&lt;/del&gt;&lt;/a&gt; (short answer, already done but not released yet - but hopefully soon)&lt;/p&gt;</comment>
                            <comment id="17401055" author="tomasz &#347;liwa" created="Wed, 18 Aug 2021 13:25:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;&#160;thank you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17469249" author="chadwilson" created="Wed, 5 Jan 2022 12:04:23 +0000"  >&lt;p&gt;While trying to migrate a Groovy-based Gradle build to run under Java 17 I am struggling bit with a common support library (Grolifant) that is failing with errors that look a lot like &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10137&quot; title=&quot;[JDK16] Illegal access to dynamic proxy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10137&quot;&gt;&lt;del&gt;GROOVY-10137&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10138&quot; title=&quot;[JDK16] Failed to invoke default method of proxy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10138&quot;&gt;&lt;del&gt;GROOVY-10138&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 java.lang.IllegalAccessException: module jdk.proxy11 does not open jdk.proxy11 to unnamed module @458ad742&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Abridged stack trace:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
at jdk.proxy11/jdk.proxy11.$Proxy109.verify(Unknown Source)
&#160; &#160; &#160; &#160; at org.ysb33r.grolifant.api.v4.downloader.ArtifactDownloader$DownloadAction.call(ArtifactDownloader.groovy:192)
&#160; &#160; &#160; &#160; at org.ysb33r.grolifant.api.v4.downloader.ArtifactDownloader$DownloadAction.call(ArtifactDownloader.groovy) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Seems to be a dynamic proxy being implemented for &lt;a href=&quot;https://gitlab.com/ysb33rOrg/grolifant/-/blob/master/grolifant40/src/main/groovy/org/ysb33r/grolifant/api/v4/downloader/ArtifactRootVerification.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitlab.com/ysb33rOrg/grolifant/-/blob/master/grolifant40/src/main/groovy/org/ysb33r/grolifant/api/v4/downloader/ArtifactRootVerification.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In lieu of a backport, is there any workaround/hack that I might be able to suggest to the plugin support library author (or apply myself) since Gradle 7.3.3 runs on Groovy 3.0.9? I&apos;m not even sure how I am best to manually open modules for access by unnamed modules since the dynamic proxies seem to also have dynamic module names and my understanding is you must open by name given --illegal-access=permit was dropped in Java 17.&lt;/p&gt;</comment>
                            <comment id="17469273" author="chadwilson" created="Wed, 5 Jan 2022 12:34:32 +0000"  >&lt;p&gt;Should add that the best workaround I have at the moment is&lt;/p&gt;

&lt;p&gt;In gradle.properties (to allow me to add opens at runtime)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.gradle.jvmargs=--add-opens=java.base/jdk.internal.module=ALL-UNNAMED &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Groovy code prior to using the &quot;offending&quot; pieces (to allow me to know the dynamic proxy module)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jdk.internal.module.Modules.addOpensToAllUnnamed(artifactRootVerification.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;module, artifactRootVerification.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;packageName) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is obviously slightly dodgy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17470425" author="blackdrag" created="Fri, 7 Jan 2022 08:27:24 +0000"  >&lt;p&gt;The only way not to make this dodgy is imho making Groovy a module itself. This comes with many many new problems... though with the unnamed module restricted more and more like this I wonder if this actually still really true. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt; did you try the most recent version of Groovy as automatic module?&lt;/p&gt;</comment>
                            <comment id="17471108" author="daniel_sun" created="Sat, 8 Jan 2022 11:46:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blackdrag&quot; class=&quot;user-hover&quot; rel=&quot;blackdrag&quot;&gt;blackdrag&lt;/a&gt; Groovy 4 can treat dynamic proxy of JDK well, but the patch is not ported back to Groovy 3.&lt;/p&gt;</comment>
                            <comment id="17471138" author="chadwilson" created="Sat, 8 Jan 2022 13:57:57 +0000"  >&lt;p&gt;Are these dynamic proxy fixes eligible to be backported to Groovy 3, or is this too complex? Similar query to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-10201&quot; title=&quot;JDK 17: class String1_groovyProxy cannot implement sealed interface java.lang.constant.ConstantDesc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-10201&quot;&gt;&lt;del&gt;GROOVY-10201&lt;/del&gt;&lt;/a&gt; I suppose. Please let me know if I should raise a specific separate issue.&lt;/p&gt;

&lt;p&gt;From a user perspective, it&apos;s a bit of a weird situation at the moment, with Gradle 7.3 advertising Java 17 support yet bundling a Groovy version which still has some issues like these which affect plugins/buildSrc.&lt;/p&gt;</comment>
                            <comment id="17471142" author="daniel_sun" created="Sat, 8 Jan 2022 14:11:54 +0000"  >&lt;p&gt;The patch for supporting JDK 16+ is not trivial, so backporting to Groovy 3 needs lots of work and arguements... Luckily, Groovy 4.0.0 GA is near the corner&lt;/p&gt;</comment>
                            <comment id="17472480" author="chadwilson" created="Tue, 11 Jan 2022 06:14:59 +0000"  >&lt;p&gt;OK, that&apos;s a shame. Do you think it&apos;d be possible to clarify the specific problems for those whom the source code is a bit difficult to make sense of? Is it &lt;b&gt;all&lt;/b&gt; Groovy-generated dynamic proxies that are affected (and will end up inaccessible by the creating module), or do they perhaps have to have specific characteristics in the interface (e.g types, presence of default methods). I&apos;m wondering what the minimal workarounds might be for those who need to/wish to maintain Groovy 3 compatibility.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how long it will practically take Gradle, for instance, to bundle Groovy 4. It took a very long to get from 2.5 to 3, IIRC - although perhaps the next one will be easier.&lt;/p&gt;</comment>
                            <comment id="17483037" author="JIRAUSER284103" created="Thu, 27 Jan 2022 10:17:44 +0000"  >&lt;p&gt;Since there are performance problems with groovy4, it might be a good idea to port this to groovy3.&lt;/p&gt;

&lt;p&gt;We had to switch back from groovy4-rc2&#160; (to 3.0.9), but groovy3 on jdk17 is not a good solution either (this issue).&lt;/p&gt;

&lt;p&gt;So it&apos;s groovy3 on jdk11 (or jdk15 to get a somewhat decent ZGC, but then you are on a not supported jdk release)&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13524362">GROOVY-10931</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="13383622">GROOVY-10137</subtask>
                            <subtask id="13383670">GROOVY-10138</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>groovy</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0s3eg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>