<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:25:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-11451] IncompatibleClassChange with map-style constructor and overloaded setters</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-11451</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I have a POJO that I use from Groovy code. After adding a setter overload, I now get &lt;tt&gt;IncompatibleClassChange&lt;/tt&gt; at runtime because the static compiler generates &lt;tt&gt;ScriptBytecodeAdapter.setGroovyObjectProperty&lt;/tt&gt; instead of a plain setter call.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Entity {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setId(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; id) {}
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setId(UUID id) {}
}

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;EntityTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Specification {
  @CompileStatic
  Entity createEntity(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; id) {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Entity(id: id) &lt;span class=&quot;code-comment&quot;&gt;// uses ScriptBytecodeAdapter.setGroovyObjectProperty
&lt;/span&gt;  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error is not encountered when calling &lt;tt&gt;setId(id)&lt;/tt&gt; or using &lt;tt&gt;entity.id = id&lt;/tt&gt;, without static compilation, or when the setter is not overloaded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13588429">GROOVY-11451</key>
            <summary>IncompatibleClassChange with map-style constructor and overloaded setters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2024 18:45:17 +0000</created>
                <updated>Tue, 12 Nov 2024 11:38:59 +0000</updated>
                            <resolved>Tue, 1 Oct 2024 15:35:15 +0000</resolved>
                                    <version>4.0.22</version>
                                    <fixVersion>5.0.0-alpha-11</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17873290" author="emilles" created="Tue, 13 Aug 2024 20:20:01 +0000"  >&lt;p&gt;Do you have a script to recreate?  I cannot get it to do this.  I see where named-arguments constructor call is processed for SC (org.codehaus.groovy.transform.sc.transformers.ConstructorCallTransformer.MapStyleConstructorCall).  A direct setter call is not possible in the case of multiple setters without some additional logic.  Classgen falls back on dynamic property assignment: &quot;entity.id = id&quot;&lt;/p&gt;

&lt;p&gt;I suppose it is possible that Spock might get in the way here.  Do you see this outside of a spec class?&lt;/p&gt;</comment>
                            <comment id="17873341" author="emilles" created="Tue, 13 Aug 2024 22:14:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/2b74feb6368b59045d8a723e4449dd3a4cf8e3ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/2b74feb6368b59045d8a723e4449dd3a4cf8e3ae&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17884809" author="emilles" created="Wed, 25 Sep 2024 23:34:45 +0000"  >&lt;p&gt;Can you provide any more detail or a small script?&lt;/p&gt;</comment>
                            <comment id="17885165" author="emilles" created="Thu, 26 Sep 2024 21:23:27 +0000"  >&lt;p&gt;Is &lt;tt&gt;Entity&lt;/tt&gt; a java class or a groovy class with an &lt;tt&gt;@POJO&lt;/tt&gt; annotation?&lt;/p&gt;</comment>
                            <comment id="17885170" author="chrylis" created="Thu, 26 Sep 2024 22:02:28 +0000"  >&lt;p&gt;Sorry, I&apos;ve been heads-down on a work ticket. The bug was replicating on a Java class. I&apos;m afraid it looks like either I&apos;ve lost track of the Git branch where it was or I deleted the case after posting it here. Based on the code snippet where I have the ticket number commented (I do this to mark locations with workarounds to take out later), the offending call site is in non-Spock code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13542766">GROOVY-11119</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>groovy</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qsg0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>