<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:42:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6930] Static Compilation Deadlock </title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6930</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I certain condition I&apos;m not able to replicate yet the Gradle compilation using Gradle compileGroovy tasks hangs indefinitely.&lt;/p&gt;

&lt;p&gt;So far I was able track this problem down to read-write entrant lock (fcall to lock.writeLock().lock(), should be line 1817) in StaticTypeCheckingSupport.ExtensionMethodCache.getExtensionMethods(ClassLoader). I would love to replicate this problem but I need more clues what to do.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817655">GROOVY-6930</key>
            <summary>Static Compilation Deadlock </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="musketyr">Vladim&#237;r Oran&#253;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jul 2014 14:01:11 +0000</created>
                <updated>Fri, 12 Sep 2014 14:25:58 +0000</updated>
                            <resolved>Mon, 21 Jul 2014 06:44:43 +0000</resolved>
                                    <version>2.3.4</version>
                                    <fixVersion>2.3.5</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14476140" author="musketyr" created="Wed, 9 Jul 2014 14:49:14 +0000"  >&lt;p&gt;here&apos;s the minimal example to make the Gradle build fail. simply run&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    ./gradleWrapper groovyCompile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from the command line&lt;/p&gt;</comment>
                            <comment id="14476192" author="musketyr" created="Wed, 9 Jul 2014 14:53:05 +0000"  >&lt;p&gt;The deadlock only occurs when Gaelyk jar is on the classpath (even not used) so it will probably will have something in common with &lt;a href=&quot;https://github.com/gaelyk/gaelyk/blob/master/core/src/main/groovyx/gaelyk/query/QueryDslTransformation.groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;global query DSL transformation &lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14476241" author="melix" created="Mon, 21 Jul 2014 06:44:44 +0000"  >&lt;p&gt;I found that the problem was an exception thrown by the Groovy ClassNode builder deeply, which was causing an incorrect flow in the locking phase. I pushed a fix for it, the compilation now fails with:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.NoClassDefFoundError: Unable to load class groovy.servlet.ServletCategory due to missing dependency javax/servlet/ServletContext
	at org.codehaus.groovy.vmplugin.v5.Java5.configureClassNode(Java5.java:389)
	at org.codehaus.groovy.ast.ClassNode.lazyClassInit(ClassNode.java:261)
	at org.codehaus.groovy.ast.ClassNode.getMethods(ClassNode.java:380)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport$ExtensionMethodCache.getDGMMethods(StaticTypeCheckingSupport.java:1874)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport$ExtensionMethodCache.getExtensionMethods(StaticTypeCheckingSupport.java:1833)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport.findDGMMethodsForClassNode(StaticTypeCheckingSupport.java:180)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport.findDGMMethodsForClassNode(StaticTypeCheckingSupport.java:166)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport.findDGMMethodsByNameAndArguments(StaticTypeCheckingSupport.java:877)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor.findMethod(StaticTypeCheckingVisitor.java:3623)
	at org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor.findMethodOrFail(StaticTypeCheckingVisitor.java:3384)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Does it make more sense?&lt;/p&gt;</comment>
                            <comment id="14476318" author="musketyr" created="Mon, 28 Jul 2014 00:51:16 +0000"  >&lt;p&gt;yes it does. let me try to put add the dependency there if it fixes the problem.&lt;/p&gt;</comment>
                            <comment id="14476224" author="musketyr" created="Mon, 28 Jul 2014 01:05:47 +0000"  >&lt;p&gt;I&apos;ve added &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    compile &lt;span class=&quot;code-quote&quot;&gt;&apos;javax.servlet:jsp-api:2.0&apos;&lt;/span&gt;
    compile &lt;span class=&quot;code-quote&quot;&gt;&apos;javax.servlet:servlet-api:2.4&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to the test project but it still throws that exception. do you have any idea why the compiler wouldn&apos;t see these classes?&lt;/p&gt;</comment>
                            <comment id="14476509" author="musketyr" created="Fri, 12 Sep 2014 14:25:58 +0000"  >&lt;p&gt;as this one is already closed and resolved, I&apos;ve opened another one for the remaining issue &lt;a href=&quot;https://jira.codehaus.org/browse/GROOVY-7070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/browse/GROOVY-7070&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722677" name="compile-deadlock.zip" size="51227" author="musketyr" created="Wed, 9 Jul 2014 14:49:14 +0000"/>
                            <attachment id="12722403" name="threaddump.txt" size="8712" author="musketyr" created="Wed, 9 Jul 2014 14:01:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cibz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>