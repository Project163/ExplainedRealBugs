<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:27:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5522] Add array DGM variants for find and findAll to assist Static Type Checker</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5522</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic

@CompileStatic
File findFile() {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;user.home&quot;&lt;/span&gt;).listFiles().find { File f -&amp;gt; f.hidden } 
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Produces&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[Static type checking] - Cannot &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of type java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; on method returning type java.io.File -&amp;gt; java.io.File
 at line: 7, column: 5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since listFiles() returns a File[] I would expect the call to find { } to infer the type&lt;/p&gt;</description>
                <environment></environment>
        <key id="12811814">GROOVY-5522</key>
            <summary>Add array DGM variants for find and findAll to assist Static Type Checker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="graemerocher">Graeme Rocher</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jun 2012 09:25:49 +0000</created>
                <updated>Thu, 21 Jun 2012 17:03:45 +0000</updated>
                            <resolved>Tue, 19 Jun 2012 08:05:36 +0000</resolved>
                                    <version>2.0-rc-3</version>
                                    <fixVersion>2.0-rc-4</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14479985" author="paulk" created="Mon, 18 Jun 2012 07:51:24 +0000"  >&lt;p&gt;There is a limitation with the current DGM methods here but it isn&apos;t really a static type checker issue.&lt;/p&gt;

&lt;p&gt;Currently we have a &lt;tt&gt;find&lt;/tt&gt; DGM method for &lt;tt&gt;Collection&amp;lt;T&amp;gt;&lt;/tt&gt; and &lt;tt&gt;Object&lt;/tt&gt; but not &lt;tt&gt;T[]&lt;/tt&gt; so in your example it falls back onto the &lt;tt&gt;Object&lt;/tt&gt; version - so the type checker is in fact doing the right thing here. If we add a &lt;tt&gt;T[]&lt;/tt&gt; version your example will work - and it makes sense to do that - alternatively, you can add a &lt;tt&gt;toList()&lt;/tt&gt; as a workaround.&lt;/p&gt;

&lt;p&gt;So I suggest this issue changes to adding the &lt;tt&gt;T[]&lt;/tt&gt; variant for find? Does that sound OK?&lt;/p&gt;</comment>
                            <comment id="14472893" author="melix" created="Mon, 18 Jun 2012 08:02:58 +0000"  >&lt;p&gt;Yes, adding a &lt;tt&gt;T[]&lt;/tt&gt; variant sounds right to me.&lt;/p&gt;</comment>
                            <comment id="14479971" author="paulk" created="Mon, 18 Jun 2012 19:14:39 +0000"  >&lt;p&gt;updating summary to reflect recent discussion&lt;/p&gt;</comment>
                            <comment id="14472961" author="paulk" created="Mon, 18 Jun 2012 19:48:33 +0000"  >&lt;p&gt;added to master&lt;/p&gt;</comment>
                            <comment id="14479977" author="paulk" created="Mon, 18 Jun 2012 23:00:41 +0000"  >&lt;p&gt;I added array versions for find and findAll and array and collection versions for grep. I didn&apos;t try to play with the String-related findXXX methods nor grep for things like Map. I think the demand for these would be rarer and &lt;tt&gt;toList()&lt;/tt&gt; would be your friend in those cases.&lt;/p&gt;</comment>
                            <comment id="14472867" author="melix" created="Tue, 19 Jun 2012 07:50:58 +0000"  >&lt;p&gt;Reassign to me as there is still a method selection issue if the variants are added.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2br07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>