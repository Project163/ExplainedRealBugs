<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:57:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7624] Collection asImmutable() methods aren&apos;t immutable</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7624</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The contract for the Collection &lt;tt&gt;asImmutable()&lt;/tt&gt; methods specify that the returned collection is immutable, but in fact the collection is merely read-only; it uses &lt;tt&gt;Collections.unmodifiable*()&lt;/tt&gt;, which wraps an underlying collection that is still mutable.&lt;/p&gt;

&lt;p&gt;These methods should return actual immutable collections, either using Collections unmodifiables with copies of the underlying collections or using an actual immutable backing implementation, a la Guava.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12903902">GROOVY-7624</key>
            <summary>Collection asImmutable() methods aren&apos;t immutable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                            <label>breaking</label>
                    </labels>
                <created>Fri, 9 Oct 2015 21:17:21 +0000</created>
                <updated>Tue, 10 Apr 2018 13:02:26 +0000</updated>
                            <resolved>Tue, 6 Mar 2018 23:08:01 +0000</resolved>
                                    <version>2.4.5</version>
                                    <fixVersion>2.5.0-rc-1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14951791" author="paulk" created="Sat, 10 Oct 2015 11:39:56 +0000"  >&lt;p&gt;Yes, the easiest things is probably calling &lt;tt&gt;clone()&lt;/tt&gt; on the Collection (and Set, Map etc.) instance before passing to &lt;tt&gt;unmodifiable&lt;/tt&gt;. Of course Collection is not Cloneable but most of the implementations are, so it&apos;s a little messy. We already have a standard way of implementing this though, e.g. the code produced by the @AutoClone AST transform. We could do something similar and just make sure it still makes sense when used in conjunction with @TypeChecked/@CompileStatic.&lt;/p&gt;</comment>
                            <comment id="16387686" author="githubbot" created="Tue, 6 Mar 2018 12:18:41 +0000"  >&lt;p&gt;GitHub user paulk-asert opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7624&quot; title=&quot;Collection asImmutable() methods aren&amp;#39;t immutable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7624&quot;&gt;&lt;del&gt;GROOVY-7624&lt;/del&gt;&lt;/a&gt;: Collection asImmutable() methods aren&apos;t immutable&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/paulk-asert/groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/paulk-asert/groovy&lt;/a&gt; groovy7624&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/672.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/672.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #672&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9326ebe6040bb242d68fc8a835429a846ac9edc1&lt;br/&gt;
Author: paulk &amp;lt;paulk@...&amp;gt;&lt;br/&gt;
Date:   2018-03-06T12:16:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7624&quot; title=&quot;Collection asImmutable() methods aren&amp;#39;t immutable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7624&quot;&gt;&lt;del&gt;GROOVY-7624&lt;/del&gt;&lt;/a&gt;: Collection asImmutable() methods aren&apos;t immutable&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16387691" author="paulk" created="Tue, 6 Mar 2018 12:24:01 +0000"  >&lt;p&gt;The proposed PR modifies the existing methods to obey their name and advertised behavior in the javadoc. It also adds &lt;tt&gt;asUnmodifiable()&lt;/tt&gt; variants which provide the existing flawed behavior for those times when a view is sufficient and the extra copying is unwanted.&lt;/p&gt;</comment>
                            <comment id="16388673" author="githubbot" created="Tue, 6 Mar 2018 23:05:29 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/groovy/pull/672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/672&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16388674" author="paulk" created="Tue, 6 Mar 2018 23:08:01 +0000"  >&lt;p&gt;Proposed PR merged. Thanks for raising the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mu93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>