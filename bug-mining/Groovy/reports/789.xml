<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:08:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3186] ConfigSlurper only allows a single block for any given name</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3186</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;If you specify more than one block for the same key in a ConfigSlurper script, the second overwrites the first.  For example, given this script:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;topNode {
  one = &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;
}

topNode {
  two = &lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the &quot;slurped&quot; config will only contain topNode.two:&quot;2&quot;.  Obviously this is a trivial example, but the point is that the whole of the first block is ignored, a more realistic grails-inspired example would be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;log4j {
  logger {
    foo.bar = &lt;span class=&quot;code-quote&quot;&gt;&quot;debug&quot;&lt;/span&gt;
    &lt;span class=&quot;code-comment&quot;&gt;// many more logger definitions here
&lt;/span&gt;  }
}

&lt;span class=&quot;code-comment&quot;&gt;// extra block added later
&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;log4j.logger&apos;&lt;/span&gt; {
  extraLogger = &lt;span class=&quot;code-quote&quot;&gt;&quot;info&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All the first set of logger definitions are lost.&lt;/p&gt;

&lt;p&gt;I think this is because the overridden invokeMethod in ConfigSlurper always creates a new ConfigObject at the start of a nested block, rather than checking whether a block already exists for this name.  The attached patch (diff against latest trunk) changes this to reuse the existing ConfigObject so that the blocks are merged rather than one overriding the other, which seems more intuitive behaviour to me.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12816302">GROOVY-3186</key>
            <summary>ConfigSlurper only allows a single block for any given name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guillaume">Guillaume Sauthier</assignee>
                                    <reporter username="button_boxer">Ian Roberts</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2008 12:06:50 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:04 +0000</updated>
                            <resolved>Tue, 2 Mar 2010 10:33:20 +0000</resolved>
                                    <version>1.7-beta-1</version>
                                    <fixVersion>1.7.2</fixVersion>
                    <fixVersion>1.8-beta-1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14465832" author="shemnon" created="Fri, 5 Dec 2008 12:14:48 +0000"  >&lt;p&gt;If the fix isn&apos;t too involved I wouldn&apos;t mind seeing this in 1.6.&lt;/p&gt;</comment>
                            <comment id="14465823" author="guillaume" created="Fri, 5 Dec 2008 13:00:31 +0000"  >&lt;p&gt;I&apos;d also be interested in having Graeme&apos;s opinion on this, as it&apos;s originally his baby and as he uses ConflgSlurper extensively in Grails.&lt;br/&gt;
Graeme, what do you think of this proposal and patch?&lt;/p&gt;</comment>
                            <comment id="14467159" author="dserodio" created="Mon, 1 Jun 2009 12:24:35 +0000"  >&lt;p&gt;This inconsistent behavior was driving me mad: &lt;a href=&quot;http://www.nabble.com/Inconsistent-ConfigSlurper-behaviour-td19663687.html#a19663687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Inconsistent-ConfigSlurper-behaviour-td19663687.html#a19663687&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How can we call Graeme&apos;s attention to this issue?&lt;/p&gt;</comment>
                            <comment id="14467151" author="graemerocher" created="Fri, 5 Jun 2009 03:43:35 +0000"  >&lt;p&gt;Patch seems ok, Does it pass ConfigSlurperTest.groovy?&lt;/p&gt;</comment>
                            <comment id="14469040" author="graemerocher" created="Tue, 2 Mar 2010 03:05:09 +0000"  >&lt;p&gt;If the changes pass the tests I think we should apply. Guillaume can this go into the next 1.7.x please?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14469006" author="guillaume" created="Tue, 2 Mar 2010 03:35:43 +0000"  >&lt;p&gt;The patch doesn&apos;t apply out-of-the-box anymore unfortunately, but I&apos;m going to check if a merge with what we currently have make the test pass, stay tuned.&lt;/p&gt;</comment>
                            <comment id="14468989" author="guillaume" created="Tue, 2 Mar 2010 10:33:20 +0000"  >&lt;p&gt;Patch merged and I&apos;ve also added a test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721983" name="ConfigSlurper.diff" size="1308" author="ian_roberts" created="Fri, 5 Dec 2008 12:06:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cajr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>