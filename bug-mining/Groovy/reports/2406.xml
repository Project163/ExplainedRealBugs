<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:37:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6451] Support repository roots in @GrabResolver should work correctly for relative hrefs</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6451</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;@GrabResolver fails to correctly interpret the root URL values as hrefs when they are relative.  This is a long-standing cause of Groovy scripts being unable to be distributed with non-centrally managed dependencies.&lt;/p&gt;

&lt;p&gt;While Grape is great when dependencies are in repositories that are independent of the source files that use them, it is often the case that a source file (especially Groovy script files) and it&apos;s JAR dependencies are most naturally managed together.  This improvement to Grape allows the root attribute of the @GrabResolver annotation to be relative to the source file in which the annotation is used.  This is a completely backward-compatible change because these relative URLs are only created when the root value is not already a URL, and without this change a root value that is not a valid URL causes an error when the code is executed.&lt;/p&gt;

&lt;p&gt;While being able to distribute an archive containing a Groovy script and its dependencies is nice and the FAQ that prompted this improvement, an even groovier use case for this feature is putting a Groovy script file and it&apos;s supporting Maven repository in a shared location and using the remote URL execution feature of the Groovy CLI.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12811796">GROOVY-6451</key>
            <summary>Support repository roots in @GrabResolver should work correctly for relative hrefs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimwhite">James P. White</assignee>
                                    <reporter username="jimwhite">James P. White</reporter>
                        <labels>
                            <label>grabresolver</label>
                    </labels>
                <created>Sun, 24 Nov 2013 14:37:38 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:24 +0000</updated>
                            <resolved>Sun, 6 Apr 2014 01:42:07 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.3.0-beta-1</fixVersion>
                                    <component>Grape</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14480397" author="paulk" created="Sun, 24 Nov 2013 16:02:31 +0000"  >&lt;p&gt;Looks good Jim. I was worried that perhaps on Windows there was some form of existing path containing a &apos;:&apos;, e.g. an absolute root such as &apos;C:\Temp\grapes&apos; that might break with your proposed change but I couldn&apos;t get any existing absolute URL of that form to work so I think I concur with your assessment that the change should be backward-compatible.&lt;/p&gt;</comment>
                            <comment id="14475132" author="jimwhite" created="Sun, 24 Nov 2013 23:32:02 +0000"  >&lt;p&gt;Yeah, it is very safe.  Anything that has a &apos;:&apos; in it is not changed at all and anything that did not have a &apos;:&apos; wouldn&apos;t work at all before this change because it would get a MalformedURLException.  &lt;/p&gt;

&lt;p&gt;The only thing I&apos;m iffy about in this is using URL.toExternalForm() which is protocol-specific instead of URI.toString() which is RFC 2396.  I used the URL formatter because SourceUnit takes URLs and I don&apos;t have time to research the details right now, but the URL stuff has been largely deprecated in favor of URI because of some broken things in URL.&lt;/p&gt;</comment>
                            <comment id="14475238" author="jimwhite" created="Mon, 25 Nov 2013 10:49:34 +0000"  >&lt;p&gt;What&apos;s up with removing the 2.1.10 and 1.8.10 targets?  This change (which is either and improvement or bug fix depending on your perspective) most certainly needs to go into those branches.  I also think that this fix is important enough to catch the 2.1.10 release since it is something that I think quite a few folks will find is very groovy.&lt;/p&gt;</comment>
                            <comment id="14475162" author="jimwhite" created="Mon, 25 Nov 2013 11:04:13 +0000"  >&lt;p&gt;How do I get this patch applied to the GROOVY_2_2_X branch?  My git-fu is fairly basic.&lt;/p&gt;</comment>
                            <comment id="14475256" author="melix" created="Mon, 25 Nov 2013 11:07:37 +0000"  >&lt;p&gt;Don&apos;t worry about the branches. We will cherry pick the change.&lt;/p&gt;</comment>
                            <comment id="14475221" author="jimwhite" created="Mon, 25 Nov 2013 13:45:20 +0000"  >&lt;p&gt;At present, this will only work as intended for collocated repositories when the source files are on the local file system.  Turns out that the remote script execution (URL) feature of the Groovy CLI is &lt;b&gt;not&lt;/b&gt; using the SourceUnit(URL, ...) constructor but is instead using SourceUnit(String, ...) and only passing in the base name of the URL.  I&apos;ll create a JIRA for that when I have time.&lt;/p&gt;</comment>
                            <comment id="14475144" author="guillaume" created="Tue, 26 Nov 2013 03:54:28 +0000"  >&lt;p&gt;I&apos;m changing back the fix version to just 2.3.0 for now.&lt;br/&gt;
Normally, such &quot;improvements&quot; are for X.Y releases, not for X.Y.Z bug fix releases.&lt;br/&gt;
We might see for 2.2.2 if we include it with the additional URL support you&apos;re mentioning, or if we wait for 2.3.0.&lt;br/&gt;
The exact roadmap and timeframe for 2.3.0 is not yet decided though, so we might consider making an exception and include that improvement in 2.2.2. &lt;br/&gt;
No need to rush the integration. But this is a useful addition to @Grab!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722393" name="patch-groovy-6451.txt" size="3688" author="jimwhite" created="Sun, 24 Nov 2013 14:41:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bvlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>