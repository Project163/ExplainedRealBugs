<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:13:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3763] CLONE -Using the Ant task with multiple targets fails</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3763</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;From the mailing list wrap-up post by Dierk:&lt;/p&gt;

&lt;p&gt;&amp;lt;quote&amp;gt;&lt;br/&gt;
def ant = new AntBuilder()&lt;br/&gt;
ant.ant(antfile:&apos;build.xml&apos;){&lt;br/&gt;
    target(name:&apos;one&apos;)&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;is working but&lt;/p&gt;

&lt;p&gt;def ant = new AntBuilder()&lt;br/&gt;
ant.ant(antfile:&apos;build.xml&apos;){&lt;br/&gt;
    target(name:&apos;one&apos;)&lt;br/&gt;
    target(name:&apos;two&apos;)&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;is not. The flag &apos;targetAttributeSet&apos; is set erroneously in org.apache.tools.ant.taskdefs.Ant#addConfiguredTarget. &lt;br/&gt;
(possible Ant bug?)&lt;br/&gt;
&amp;lt;/quote&amp;gt;&lt;/p&gt;

&lt;p&gt;(Having looked at the Ant source myself, I can only see targetAttributeSet being set in setTarget, so personally I suspect it&apos;s &lt;b&gt;not&lt;/b&gt; an Ant bug.)&lt;/p&gt;

&lt;p&gt;To find the mailing list thread, search for a subject of &quot;AntBuilder.ant.target not working?&quot; on Feb 23rd/24th 2006. (Web access to mailing list is down right now, hence the lack of URL.)&lt;/p&gt;</description>
                <environment>Windows and Linux&lt;br/&gt;
Java 1.5&lt;br/&gt;
Ant 1.6.5</environment>
        <key id="12818377">GROOVY-3763</key>
            <summary>CLONE -Using the Ant task with multiple targets fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="binil">Binil Thomas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Sep 2009 17:06:07 +0000</created>
                <updated>Thu, 15 Oct 2009 17:17:50 +0000</updated>
                            <resolved>Fri, 9 Oct 2009 08:52:35 +0000</resolved>
                                    <version>1.5.5</version>
                    <version>1.5.8</version>
                    <version>1.6.4</version>
                    <version>1.7-beta-1</version>
                                    <fixVersion>1.7-beta-2</fixVersion>
                    <fixVersion>1.6.6</fixVersion>
                                    <component>Ant integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14478655" author="binil" created="Fri, 18 Sep 2009 17:08:13 +0000"  >&lt;p&gt;def ant = new AntBuilder()&lt;br/&gt;
ant.ant(antfile: &apos;build.xml&apos;) {&lt;br/&gt;
    target(name: &apos;one&apos;)&lt;br/&gt;
}&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
&amp;lt;project name=&quot;testprj&quot; default=&quot;three&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;target name=&quot;one&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;echo message=&quot;Target ONE&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/target&amp;gt;&lt;br/&gt;
    &amp;lt;target name=&quot;two&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;echo message=&quot;Target TWO&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/target&amp;gt;&lt;br/&gt;
    &amp;lt;target name=&quot;three&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;echo message=&quot;Target DEFAULT&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/target&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
groovyant/test.groovy&lt;br/&gt;
groovyant$ ant -version&lt;br/&gt;
Apache Ant version 1.7.1 compiled on July 16 2009&lt;br/&gt;
groovyant$ groovy -version&lt;br/&gt;
Groovy Version: 1.6.3 JVM: 1.6.0_15&lt;br/&gt;
groovyant$ groovy test.groovy &lt;/p&gt;

&lt;p&gt;three:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Target DEFAULT&lt;br/&gt;
groovyant$ &lt;/p&gt;</comment>
                            <comment id="14467802" author="paulk" created="Sat, 19 Sep 2009 01:21:53 +0000"  >&lt;p&gt;Possible regression in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-1260&quot; title=&quot;Using the Ant task with multiple targets fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-1260&quot;&gt;&lt;del&gt;GROOVY-1260&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14478677" author="paulk" created="Sat, 19 Sep 2009 02:18:57 +0000"  >&lt;p&gt;Seems to work in 1.5.4 but not in 1.5.5.&lt;br/&gt;
My guess is it is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2692&quot; title=&quot;AntBuilder: support import task and allow to define targets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2692&quot;&gt;&lt;del&gt;GROOVY-2692&lt;/del&gt;&lt;/a&gt;, perhaps this change:&lt;br/&gt;
&lt;a href=&quot;http://fisheye.codehaus.org/viewrep/groovy/trunk/groovy/groovy-core/src/main/groovy/util/AntBuilder.java?r1=10326&amp;amp;r2=11124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fisheye.codehaus.org/viewrep/groovy/trunk/groovy/groovy-core/src/main/groovy/util/AntBuilder.java?r1=10326&amp;amp;r2=11124&lt;/a&gt;&lt;br/&gt;
Though there are also some other Ant/Builder related issues in that release: &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2591&quot; title=&quot;Groovy Ant Task is not executing Groovy Test Cases as the Command Line does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2591&quot;&gt;&lt;del&gt;GROOVY-2591&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2424&quot; title=&quot;Stackoverflow with groovy &amp;amp; ant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2424&quot;&gt;&lt;del&gt;GROOVY-2424&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-2643&quot; title=&quot;Delegate property is ignored by closure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-2643&quot;&gt;&lt;del&gt;GROOVY-2643&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14478690" author="paulk" created="Sat, 19 Sep 2009 02:45:27 +0000"  >&lt;p&gt;So it seems that &apos;target&apos; has now been taken over for defining targets but perhaps that isn&apos;t what we want inside the &apos;Ant&apos; task.&lt;br/&gt;
The workaround for a single target (so the regression is over and above the multiple target case) is to use the target attribute instead of the nested version.&lt;br/&gt;
A possible workaround for multiple targets if you have access to the build file and can modify it, is to make a special target which depends on those you require.&lt;/p&gt;</comment>
                            <comment id="14478695" author="paulk" created="Sat, 19 Sep 2009 04:20:20 +0000"  >&lt;p&gt;The attached patch gets around the issue unless someone can think of a more elegant solution. I also haven&apos;t checked whether other tasks also have nested target entries. I wonder if it would not be better to flip it around to do the special &apos;target definition&apos; handling only at the top level.&lt;/p&gt;</comment>
                            <comment id="14478701" author="paulk" created="Sat, 19 Sep 2009 05:12:35 +0000"  >&lt;p&gt;&apos;B&apos; patch is a little more elegant in that it only allows ant.target to define a new target when not inside any task. So, the following example now works (as a script but strangely not pre-compiled) whereas previously the &apos;two&apos; target wouldn&apos;t have been called as it would have been regarded as target definition.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant.&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;(file: &lt;span class=&quot;code-quote&quot;&gt;&apos;build.xml&apos;&lt;/span&gt;)
ant.antcall(target:&lt;span class=&quot;code-quote&quot;&gt;&apos;one&apos;&lt;/span&gt;)
ant.antcall { target(name:&lt;span class=&quot;code-quote&quot;&gt;&apos;two&apos;&lt;/span&gt;) }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478692" author="paulk" created="Sat, 19 Sep 2009 10:57:57 +0000"  >&lt;p&gt;Turned out the &apos;B&apos; patch with antcall was only working because the imported build.xml file happened to be in the current directory. So instead the &apos;C&apos; patch prohibits calling antcall at top level. The only other alternative I can think of is to keep track of imported files and associate them with their corresponding targets. We could set the &quot;ant.file&quot; system property prior to calling perform on the antcall task. It would be a bit of work ensuring properties were set correctly. And it would seem a little strange that you then couldn&apos;t use antcall for a manually created target.&lt;/p&gt;</comment>
                            <comment id="14478678" author="paulk" created="Sat, 19 Sep 2009 22:10:43 +0000"  >&lt;p&gt;I believe patch C is the correct current solution to this issue unless further feedback is received. I won&apos;t be in a position to apply for the next two weeks, so if a release goes out before then, it would be great if someone else can apply the patch.&lt;/p&gt;</comment>
                            <comment id="14467985" author="paulk" created="Fri, 9 Oct 2009 08:52:35 +0000"  >&lt;p&gt;Patch C applied to trunk and 1.6.X&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12811884">GROOVY-1260</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12721518" name="groovy3763C.patch" size="3913" author="paulk_asert" created="Sat, 19 Sep 2009 10:57:57 +0000"/>
                            <attachment id="12721520" name="groovyant.tar.gz" size="374" author="" created="Fri, 18 Sep 2009 17:08:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c3z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>