<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:32:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6007] @GrabResolver doesn&apos;t affect Ivy</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6007</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Ivy lists the following running a script with -Divy.message.logger.level=4:&lt;/p&gt;

&lt;p&gt;downloadGrapes &lt;span class=&quot;error&quot;&gt;&amp;#91;chain&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;cachedGrapes, localm2, codehaus, ibiblio, java.net2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 return first: true&lt;br/&gt;
 dual: false&lt;br/&gt;
 -&amp;gt; cachedGrapes&lt;br/&gt;
 -&amp;gt; localm2&lt;br/&gt;
 -&amp;gt; codehaus&lt;br/&gt;
 -&amp;gt; ibiblio&lt;br/&gt;
 -&amp;gt; java.net2&lt;/p&gt;

&lt;p&gt;My script begins with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Grapes([
    @GrabResolver(name = &lt;span class=&quot;code-quote&quot;&gt;&apos;my-remote&apos;&lt;/span&gt;, root = &lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//server/nexus/content/groups/&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;&apos;&lt;/span&gt;),
&lt;/span&gt;    @GrabConfig(systemClassLoader = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
    @Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;com.google.code.maven-config-processor-plugin&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;config-processor-maven-plugin&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;2.4&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
    @Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;org.codehaus.plexus&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;plexus-container-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;1.5.5&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
    @Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;commons-lang&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;commons-lang&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;2.4&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
    @Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;xpp3&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;xpp3_min&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;1.1.4c&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
    @Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;xerces&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;xercesImpl&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;2.8.1&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
])

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.tools.ant.taskdefs.Antlib
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If I create a grapeConfig.xml file with &quot;my-remote&quot; repo, Ivy reports something like the following:&lt;/p&gt;

&lt;p&gt;downloadGrapes &lt;span class=&quot;error&quot;&gt;&amp;#91;chain&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;cachedGrapes, my-remote, localm2, codehaus, ibiblio, java.net2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 return first: true&lt;br/&gt;
 dual: false&lt;br/&gt;
 -&amp;gt; cachedGrapes&lt;br/&gt;
 -&amp;gt; my-remote&lt;br/&gt;
 -&amp;gt; localm2&lt;br/&gt;
 -&amp;gt; codehaus&lt;br/&gt;
 -&amp;gt; ibiblio&lt;br/&gt;
 -&amp;gt; java.net2&lt;/p&gt;

&lt;p&gt;It seems @GrabResolver is not being used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12818216">GROOVY-6007</key>
            <summary>@GrabResolver doesn&apos;t affect Ivy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="lehphyro">Leandro de Oliveira</reporter>
                        <labels>
                            <label>grabresolver</label>
                    </labels>
                <created>Tue, 19 Feb 2013 11:25:29 +0000</created>
                <updated>Tue, 19 Mar 2013 05:11:10 +0000</updated>
                            <resolved>Sun, 3 Mar 2013 03:26:00 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.0-beta-1</fixVersion>
                                    <component>Grape</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14480174" author="paulk" created="Wed, 20 Feb 2013 17:00:52 +0000"  >&lt;p&gt;I tried this using a cut down script:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@GrabResolver(&lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//nexus/content/repositories/central&apos;&lt;/span&gt;)
&lt;/span&gt;@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;commons-lang:commons-lang:2.4&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.lang.StringUtils

println StringUtils
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was behind a firewall, so no chance of getting directly - also .m2 and .groovy/grapes were deleted prior to running. It worked fine using Groovy 2.1.0.&lt;/p&gt;

&lt;p&gt;The logging output is a little deceptive. At the start of the log, the nexus resolver isn&apos;t shown &quot;downloadGrapes &lt;span class=&quot;error&quot;&gt;&amp;#91;chain&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;cachedGrapes, localm2, codehaus, ibiblio, java.net2&amp;#93;&lt;/span&gt;&quot; I presume this logging is output before we make our api calls to customise it - but later in the log it defintely goes through that resolver:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
downloading http://nexus/content/repositories/central/commons-lang/commons-lang/2.4/commons-lang-2.4.jar ...
...
[SUCCESSFUL ] commons-lang#commons-lang;2.4!commons-lang.jar (342ms)
resolve done (3197ms resolve - 344ms download)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14474132" author="lehphyro" created="Thu, 21 Feb 2013 07:12:56 +0000"  >&lt;p&gt;Files to reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="14474095" author="lehphyro" created="Thu, 21 Feb 2013 07:13:20 +0000"  >&lt;p&gt;Alright, I&apos;ll give you a set of steps to reproduce this more easily. I&apos;ve updated to groovy 2.1.1 to see if it would help, but it didn&apos;t.&lt;/p&gt;

&lt;p&gt;1. Serve artifact.zip from a local web server like nginx&lt;br/&gt;
2. Confirm &lt;a href=&quot;http://127.0.0.1:8888/test/test/1.0/test-1.0.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://127.0.0.1:8888/test/test/1.0/test-1.0.jar&lt;/a&gt; returns test jar file&lt;br/&gt;
3. Run groovy -Divy.message.logger.level=4 test.groovy&lt;br/&gt;
4. See how the log output never says it tries to download from 127.0.0.1&lt;/p&gt;

&lt;p&gt;I&apos;m attaching artifact.zip, test.groovy and test.log.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14480184" author="paulk" created="Thu, 21 Feb 2013 17:48:08 +0000"  >&lt;p&gt;OK, I can reproduce your bug using the old @Grapes annotation. If you remove that annotation, it should work ok, e.g.:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@GrabResolver(name = &lt;span class=&quot;code-quote&quot;&gt;&apos;remote&apos;&lt;/span&gt;, root = &lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:8888/&apos;&lt;/span&gt;)
&lt;/span&gt;@GrabConfig(systemClassLoader = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Grab(group = &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;, module = &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;, version = &lt;span class=&quot;code-quote&quot;&gt;&apos;1.0&apos;&lt;/span&gt;, transitive = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@GrabResolver(&lt;span class=&quot;code-quote&quot;&gt;&apos;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:8888/&apos;&lt;/span&gt;)
&lt;/span&gt;@GrabConfig(systemClassLoader = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
@Grab(&lt;span class=&quot;code-quote&quot;&gt;&apos;test:test:1.0&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The old annotation is supposed to still work, so we still need to track down why there is a problem with the legacy style.&lt;/p&gt;</comment>
                            <comment id="14474134" author="lehphyro" created="Fri, 22 Feb 2013 06:45:16 +0000"  >&lt;p&gt;It works if I remove @Grapes, thanks.&lt;/p&gt;</comment>
                            <comment id="14480177" author="paulk" created="Fri, 22 Feb 2013 14:41:21 +0000"  >&lt;p&gt;add code tags, reduce priority since there is a known workaround and people tend not to use @Grapes these days though we haven&apos;t deprecated it, and it is still supposed to work, so it is still a bug&lt;/p&gt;</comment>
                            <comment id="14480167" author="paulk" created="Sat, 2 Mar 2013 00:34:03 +0000"  >&lt;p&gt;Any chance you could try out a snapshot build of groovy to see if the problem is fixed for you? There was an obvious ordering issue in the Grape handling code which should be now fixed (once the CI server has finished its activities there should be a snapshot jar you could use for testing purposes).&lt;/p&gt;</comment>
                            <comment id="14474256" author="paulk" created="Sun, 3 Mar 2013 03:26:00 +0000"  >&lt;p&gt;Should be fixed now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12723046" name="artifact.zip" size="762" author="lehphyro" created="Thu, 21 Feb 2013 07:12:56 +0000"/>
                            <attachment id="12723164" name="test.groovy" size="243" author="lehphyro" created="Thu, 21 Feb 2013 07:12:56 +0000"/>
                            <attachment id="12722937" name="test.log" size="38152" author="lehphyro" created="Thu, 21 Feb 2013 07:12:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cm6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>