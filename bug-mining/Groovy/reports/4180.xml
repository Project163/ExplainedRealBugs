<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:14:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10197] java.lang.VerifyError using property inside enum&apos;s constant</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10197</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I&apos;m facing with this strange error after script compiles successfully but fails to load using groovy 3.0.8:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.VerifyError: Bad type on operand stack
Exception Details:
  Location:
    E$1.&amp;lt;init&amp;gt;(Ljava/lang/String;ILjava/util/LinkedHashMap;)V @50: invokevirtual
  Reason:
    Type &apos;E$1&apos; (current frame, stack[0]) is not assignable to &apos;groovy/lang/Closure&apos;
  Current Frame:
    bci: @50
    flags: { }
    locals: { &apos;E$1&apos;, &apos;java/lang/String&apos;, integer, &apos;java/util/LinkedHashMap&apos;, integer }
    stack: { &apos;E$1&apos; }
  Bytecode:
    0000000: 2a2b 1c2d 01b7 0012 0436 0415 042a 5fb5
    0000010: 0014 1504 572d c700 0704 a700 0403 9900
    0000020: 13bb 0016 5912 18b7 001b c000 1dbf 0000
    0000030: bf2a b600 23c0 0004 c000 2512 26b6 002a
    0000040: 9900 1a2d 1226 b900 3002 003a 0519 05b8
    0000050: 0036 2a5f b500 1419 0557 2a2d b800 3c01
    0000060: 57b1                                   
  Stackmap Table:
    full_frame(@29,{Object[#2],Object[#69],Integer,Object[#37],Integer},{})
    same_locals_1_stack_item_frame(@30,Integer)
    full_frame(@46,{},{Object[#29]})
    full_frame(@49,{Object[#2],Object[#69],Integer,Object[#37],Integer},{})
    same_frame(@90)
    same_frame(@97)	at E.&amp;lt;clinit&amp;gt;(ideaGroovyConsole.groovy)
	at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized0(Native Method)
	at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized(Unsafe.java:1155)
	at java.base/jdk.internal.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:42)
	at java.base/jdk.internal.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:186)
	at java.base/java.lang.reflect.Field.acquireFieldAccessor(Field.java:1126)
	at java.base/java.lang.reflect.Field.getFieldAccessor(Field.java:1107)
	at java.base/java.lang.reflect.Field.get(Field.java:419)
	at org.codehaus.groovy.reflection.CachedField.getProperty(CachedField.java:68)
	at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:1900)
	at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:3874)
	at org.codehaus.groovy.runtime.callsite.ClassMetaClassGetPropertySite.getProperty(ClassMetaClassGetPropertySite.java:50)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:329)
	at ideaGroovyConsole.run(ideaGroovyConsole.groovy:110) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here is the reproducing script:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CompileStatic
&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; E {
    E1{
&lt;span class=&quot;code-comment&quot;&gt;//        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; value = 1
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getValue() { 1 }
    }

    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getValue() { -1 }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you use an overriding method, all is working fine. But replacing method with local field causes an error above. I think it is &lt;tt&gt;@CompileStatic&lt;/tt&gt;-specific error, because without this annotation both versions are loaded successfully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13394862">GROOVY-10197</key>
            <summary>java.lang.VerifyError using property inside enum&apos;s constant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="ikuznetsov">Ivan Kuznetsov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Aug 2021 10:01:16 +0000</created>
                <updated>Thu, 3 Feb 2022 22:47:03 +0000</updated>
                            <resolved>Fri, 13 Aug 2021 18:53:57 +0000</resolved>
                                    <version>3.0.8</version>
                                    <fixVersion>3.0.9</fixVersion>
                    <fixVersion>2.5.16</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17397974" author="ikuznetsov" created="Thu, 12 Aug 2021 10:18:22 +0000"  >&lt;p&gt;This is very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9524&quot; title=&quot;VerifyError when referencing a private enum method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9524&quot;&gt;&lt;del&gt;GROOVY-9524&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17398821" author="emilles" created="Fri, 13 Aug 2021 17:31:29 +0000"  >&lt;p&gt;This was fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9807&quot; title=&quot;Static compile of dynamically generated code produces different output in a top-level class and a nested class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9807&quot;&gt;&lt;del&gt;GROOVY-9807&lt;/del&gt;&lt;/a&gt; in Groovy 4.0a3.  &lt;tt&gt;InvocationWriter#writeDirectMethodCall&lt;/tt&gt; is replacing a non-this receiver expression with &quot;thisObject&quot; or &quot;Type.this&quot;.  The call in question for this specific case was created by &lt;tt&gt;TupleConstructorASTTransformation#processArgsBlock&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13300756">GROOVY-9524</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tuao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>