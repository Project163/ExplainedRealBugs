<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:12:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8202] void tail calls in closures break @CompileStatic type inference</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8202</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Consider this piece of code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
void f() {
}

@CompileStatic
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test1() {
	Closure&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; x = {
		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
			&lt;span class=&quot;code-quote&quot;&gt;&quot;asd&quot;&lt;/span&gt;
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			f()
			&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
		}
	}
	x.call()
}

@CompileStatic
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test2() {
	Closure&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; x = { &lt;span class=&quot;code-comment&quot;&gt;// Cannot assign Closure&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; to Closure&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;
&lt;/span&gt;		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
			&lt;span class=&quot;code-quote&quot;&gt;&quot;asd&quot;&lt;/span&gt;
		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
			f()
		}
	}
	x.call()
}

@CompileStatic
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; test3() {
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
		&lt;span class=&quot;code-quote&quot;&gt;&quot;asd&quot;&lt;/span&gt;
	} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
		f()
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code in &lt;em&gt;&lt;b&gt;test1&lt;/b&gt;&lt;/em&gt; compiles correctly. The type of the closure in &lt;em&gt;&lt;b&gt;test2&lt;/b&gt;&lt;/em&gt; is inferred as &lt;em&gt;&lt;b&gt;Closure&amp;lt;Object&amp;gt;&lt;/b&gt;&lt;/em&gt; and that results in a static type checking error. There is an inconsistency here - in &lt;em&gt;&lt;b&gt;test3&lt;/b&gt;&lt;/em&gt; the type inference yields &lt;em&gt;&lt;b&gt;String&lt;/b&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Basically - &lt;em&gt;&lt;b&gt;null&lt;/b&gt;&lt;/em&gt; s are not considered when the type is inferred. Calls to void methods should not be either.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13074301">GROOVY-8202</key>
            <summary>void tail calls in closures break @CompileStatic type inference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="joan.karadimov">Joan Karadimov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 May 2017 19:08:04 +0000</created>
                <updated>Thu, 3 Feb 2022 22:34:44 +0000</updated>
                            <resolved>Sun, 9 May 2021 15:23:55 +0000</resolved>
                                    <version>2.4.10</version>
                                    <fixVersion>2.5.15</fixVersion>
                    <fixVersion>4.0.0-beta-1</fixVersion>
                    <fixVersion>3.0.9</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fde7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>